"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8969],{8918:(J,Z,p)=>{p.d(Z,{dj:()=>t});class t{childMethods;parentMethods;data=new S;constructor(){this.data=new S}}class S{show=!1;select;defaultQuery;access}},7147:(J,Z,p)=>{p.d(Z,{TV:()=>t});class t{childMethods;parentMethods;data=new S;constructor(){this.data=new S}}class S{show=!1}},4252:(J,Z,p)=>{p.d(Z,{R:()=>te});var t=p(418),d=p(4511),E=p(5237),S=p(9966),w=p(1435),I=p(3336),_=p(92),L=p(4536),O=p(656),e=p(4537),F=p(2607),v=p(6707),D=p(727),M=p(8692),b=p(8659);function q(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.description," ")}}function T(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function N(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.description," ")}}function o(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function g(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"option",22),e.NdJ("onSelectionChange",function(){const C=e.CHM(i).$implicit,f=e.oxw(2);return e.KtG(f.onActionFileSelect(C))}),e._uU(1),e.qZA()}if(2&l){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.title," ")}}function h(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function y(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"div",5)(1,"label",19),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",20,7),e.NdJ("ngModelChange",function(n){e.CHM(i);const C=e.oxw();return e.KtG(C.dataModel.reportFormatFileId=n)}),e.YNc(6,g,2,2,"option",21),e.qZA(),e.TgZ(7,"em"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,h,5,3,"mat-error",9),e.qZA()}if(2&l){const i=e.MAs(5),s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",s.dataModel.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",s.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(9,7,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==i.errors?null:i.errors.required)}}function u(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",24),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const A=function(l){return{direction:l}};let r=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;requestId="";requestTitle="";requestService;constructor(i,s,n,C,f){this.cmsToastrService=i,this.data=s,this.dialogRef=n,this.translate=C,this.tokenHelper=f,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.id?this.requestId=s.id:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0});let c=new d.svN;c.value=1,c.key="Excel",c.description="Excel",this.fileTypeListItems.push(c),c=new d.svN,c.value=3,c.key="Json",c.description="Json",this.fileTypeListItems.push(c),c=new d.svN,c.value=4,c.key="Report",c.description="Report",this.fileTypeListItems.push(c),c=new d.svN,c.value=0,c.key="Now",c.description="Now",this.recieveMethodListItems.push(c),c=new d.svN,c.value=1,c.key="Email",c.description="Email",this.recieveMethodListItems.push(c),c=new d.svN,c.value=2,c.key="FileManager",c.description="FileManager",this.recieveMethodListItems.push(c),this.tokenHelper.getCurrentToken().then(k=>{this.tokenInfo=k})}dataModelReportFileResult=new d.y$4;dataModelSubmitResult=new d.vZ4;fileTypeListItems=new Array;recieveMethodListItems=new Array;loading=new O.O;get optionLoading(){return this.loading}set optionLoading(i){this.loading=i}formControl=new _.NI;tokenInfo=new d.OdC;filteredOptions;dataModelFileSelect=new d.wlu;dataModel=new d.w2X;EnumExportFileTypeReport=d.TtJ.Report;EnumExportReceiveMethodNow=d.$XY.Now;formInfo=new d.LEF;ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.dataModel.fileType=this.EnumExportFileTypeReport,this.dataModel.recieveMethod=this.EnumExportReceiveMethodNow}ngOnDestroy(){}DataGetAll(){const i=this.constructor.name+"main";this.loading.Start(i,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new d.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==d.UO$.Item):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(i){this.dataModelFileSelect=i,this.dataModel.reportFormatFileId=i.id,this.dataModelSubmitResult=new d.vZ4}onFormSubmit(){this.dataModelSubmitResult=new d.vZ4;const i=this.constructor.name+"main";this.loading.Start(i,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFileGetOne(this.requestId,this.dataModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(F.e),e.Y36(L.WI),e.Y36(L.so),e.Y36(v.sK),e.Y36(D.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-entity"]],inputs:{optionLoading:"optionLoading"},decls:38,vars:25,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.fileType","name","dataModel.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.recieveMethod","name","dataModel.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["class","input-style has-borders input-style-always-active validate-field no-icon mb-4",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],["for","dataModel.reportFormatFileId",1,"color-highlight"],["id","dataModel.reportFormatFileId","name","dataModel.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e._uU(10),e.TgZ(11,"div",5)(12,"select",6,7),e.NdJ("ngModelChange",function(f){return n.dataModel.fileType=f}),e.YNc(14,q,2,2,"option",8),e.qZA(),e.TgZ(15,"em"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,T,5,3,"mat-error",9),e.qZA(),e.TgZ(19,"div",5)(20,"select",10,7),e.NdJ("ngModelChange",function(f){return n.dataModel.recieveMethod=f}),e.YNc(22,N,2,2,"option",8),e.qZA(),e.TgZ(23,"em"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.YNc(26,o,5,3,"mat-error",9),e.qZA(),e.YNc(27,y,11,9,"div",11),e.TgZ(28,"div",12)(29,"button",13),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(30,"i",14),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",15),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(34,"i",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,u,4,3,"button",17),e.qZA()()()()),2&s){const C=e.MAs(9),f=e.MAs(13);e.xp6(8),e.Q6J("ngStyle",e.VKq(23,A,n.tokenInfo.direction)),e.xp6(2),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngModel",n.dataModel.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(17,15,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("ngModel",n.dataModel.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(25,17,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(1),e.Q6J("ngIf",n.dataModel.fileType===n.EnumExportFileTypeReport),e.xp6(4),e.hij(" ",e.lcZ(32,19,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!C.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(36,21,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[M.sg,M.O5,M.PC,_._Y,_.YN,_.Kr,_.EJ,_.JJ,_.JL,_.On,_.F,b.TO,v.X$],encapsulation:2})}return l})();var R=p(9665);function m(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.description," ")}}function U(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Q(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const i=a.$implicit;e.Q6J("value",i.value),e.xp6(1),e.hij(" ",i.description," ")}}function Y(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function G(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"option",31),e.NdJ("onSelectionChange",function(){const C=e.CHM(i).$implicit,f=e.oxw();return e.KtG(f.onActionFileSelect(C))}),e._uU(1),e.qZA()}if(2&l){const i=a.$implicit;e.Q6J("value",i.id),e.xp6(1),e.hij(" ",i.title," ")}}function K(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function V(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Current Page Number is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function B(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Row Per Page is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function j(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Skip Row Data is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function W(l,a){if(1&l){const i=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",33),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const $=function(l){return{direction:l}};let X=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;filterModel=new d.Hay;requestTitle="";requestService;constructor(i,s,n,C,f){this.cmsToastrService=i,this.data=s,this.dialogRef=n,this.translate=C,this.tokenHelper=f,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.filterModel?this.filterModel=s.filterModel:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0}),this.filterModel.exportFile=new d.w2X;let c=new d.svN;c.value=1,c.key="Excel",c.description="Excel",this.fileTypeListItems.push(c),c=new d.svN,c.value=3,c.key="Json",c.description="Json",this.fileTypeListItems.push(c),c=new d.svN,c.value=4,c.key="Report",c.description="Report",this.fileTypeListItems.push(c),c=new d.svN,c.value=0,c.key="Now",c.description="Now",this.recieveMethodListItems.push(c),c=new d.svN,c.value=1,c.key="Email",c.description="Email",this.recieveMethodListItems.push(c),c=new d.svN,c.value=2,c.key="FileManager",c.description="FileManager",this.recieveMethodListItems.push(c),this.tokenHelper.getCurrentToken().then(k=>{this.tokenInfo=k})}formInfo=new d.LEF;tokenInfo=new d.OdC;dataModelReportFileResult=new d.y$4;dataModelSubmitResult=new d.vZ4;dataModelFileSelect=new d.wlu;EnumExportFileTypeReport=d.TtJ.Report;EnumExportReceiveMethodNow=d.$XY.Now;loading=new O.O;get optionLoading(){return this.loading}set optionLoading(i){this.loading=i}ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.filterModel.exportFile.fileType=this.EnumExportFileTypeReport,this.filterModel.exportFile.recieveMethod=this.EnumExportReceiveMethodNow}DataGetAll(){const i=this.constructor.name+"main";this.loading.Start(i,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new d.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==d.UO$.List):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(i){this.dataModelFileSelect=i,this.filterModel.exportFile.reportFormatFileId=i.id,this.dataModelSubmitResult=new d.vZ4}fileTypeListItems=new Array;recieveMethodListItems=new Array;onFormSubmit(){this.dataModelSubmitResult=new d.vZ4;const i=this.constructor.name+"main";this.loading.Start(i,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFile(this.filterModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(i),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(F.e),e.Y36(L.WI),e.Y36(L.so),e.Y36(v.sK),e.Y36(D.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-list"]],inputs:{optionLoading:"optionLoading"},decls:71,vars:57,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","filterModel.exportFile.fileType","name","filterModel.exportFile.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","filterModel.exportFile.recieveMethod","name","filterModel.exportFile.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["for","filterModel.exportFile.reportFormatFileId",1,"color-highlight"],["id","filterModel.exportFile.reportFormatFileId","name","filterModel.exportFile.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filterModel.currentPageNumber",1,"color-highlight"],["type","number","name","filterModel.currentPageNumber","id","filterModel.currentPageNumber","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["CurrentPageNumber",""],["for","filterModel.rowPerPage",1,"color-highlight"],["type","number","name","filterModel.rowPerPage","id","filterModel.rowPerPage","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["RowPerPage",""],["for","filterModel.skipRowData",1,"color-highlight"],["matInput","","type","number","name","filterModel.skipRowData","id","filterModel.skipRowData","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["SkipRowData",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"div",5)(11,"select",6,7),e.NdJ("ngModelChange",function(f){return n.filterModel.exportFile.fileType=f}),e.YNc(13,m,2,2,"option",8),e.qZA(),e.TgZ(14,"em"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,U,5,3,"mat-error",9),e.qZA(),e.TgZ(18,"div",5)(19,"select",10,7),e.NdJ("ngModelChange",function(f){return n.filterModel.exportFile.recieveMethod=f}),e.YNc(21,Q,2,2,"option",8),e.qZA(),e.TgZ(22,"em"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,Y,5,3,"mat-error",9),e.qZA(),e.TgZ(26,"div",5)(27,"label",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"select",12,7),e.NdJ("ngModelChange",function(f){return n.filterModel.exportFile.reportFormatFileId=f}),e.YNc(32,G,2,2,"option",13),e.qZA(),e.TgZ(33,"em"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.YNc(36,K,5,3,"mat-error",9),e.qZA(),e.TgZ(37,"div",14)(38,"label",15),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"input",16,17),e.NdJ("ngModelChange",function(f){return n.filterModel.currentPageNumber=f}),e.ALo(43,"translate"),e.qZA(),e.YNc(44,V,5,3,"mat-error",9),e.qZA(),e.TgZ(45,"div",14)(46,"label",18),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"input",19,20),e.NdJ("ngModelChange",function(f){return n.filterModel.rowPerPage=f}),e.ALo(51,"translate"),e.qZA(),e.YNc(52,B,5,3,"mat-error",9),e.qZA(),e.TgZ(53,"div",14)(54,"label",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"input",22,23),e.NdJ("ngModelChange",function(f){return n.filterModel.skipRowData=f}),e.ALo(59,"translate"),e.qZA(),e.YNc(60,j,5,3,"mat-error",9),e.qZA(),e.TgZ(61,"div",24)(62,"button",25),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(63,"i",26),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"button",27),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(67,"i",28),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.YNc(70,W,4,3,"button",29),e.qZA()()()()),2&s){const C=e.MAs(9),f=e.MAs(12),c=e.MAs(42),k=e.MAs(50),P=e.MAs(58);e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(55,$,n.tokenInfo.direction)),e.xp6(3),e.Q6J("ngModel",n.filterModel.exportFile.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(16,31,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(24,33,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(3),e.Oqu(e.lcZ(29,35,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",n.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(35,37,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==f.errors?null:f.errors.required),e.xp6(3),e.Oqu(e.lcZ(40,39,"TITLE.from_page")),e.xp6(2),e.s9C("placeholder",e.lcZ(43,41,"TITLE.page_number")),e.Q6J("ngModel",n.filterModel.currentPageNumber),e.xp6(3),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(3),e.Oqu(e.lcZ(48,43,"TITLE.page_number")),e.xp6(2),e.s9C("placeholder",e.lcZ(51,45,"TITLE.number_of_output_file_rows")),e.Q6J("ngModel",n.filterModel.rowPerPage),e.xp6(3),e.Q6J("ngIf",null==k.errors?null:k.errors.required),e.xp6(3),e.Oqu(e.lcZ(56,47,"TITLE.Over_the_number_of_rows")),e.xp6(2),e.s9C("placeholder",e.lcZ(59,49,"TITLE.Number_of_rows_row_rowss")),e.Q6J("ngModel",n.filterModel.skipRowData),e.xp6(3),e.Q6J("ngIf",null==P.errors?null:P.errors.required),e.xp6(4),e.hij(" ",e.lcZ(65,51,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!C.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(69,53,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[M.sg,M.O5,M.PC,_._Y,_.YN,_.Kr,_.Fj,_.wV,_.EJ,_.JJ,_.JL,_.Q7,_.On,_.F,b.TO,R.Nt,v.X$],encapsulation:2})}return l})();var x=p(2340),H=p(6619),z=p(8918),ee=p(7147);class te{baseService;item;publicHelper;tokenHelper;constructor(a,i,s,n){this.baseService=a,this.item=i,this.publicHelper=s,this.tokenHelper=n,s.pageInfo.updateContentService(a)}filteModelContent=new d.Hay;tableSource=new t.by;tokenInfo=new d.OdC;fieldsInfo=new Map;loading=new O.O;optionsSearch=new z.dj;optionsStatist=new ee.TV;tableRowSelected;tableRowsSelected=[];dataModelResult=new d.y$4;clickCount=0;tableRowSelectDoubleClick=!1;tableRowSelect3Click=!1;onActionTableRowSelect(a){this.clickCount++,setTimeout(()=>{this.tableRowSelected=a,this.publicHelper.pageInfo.updateContentInfo(new H.D(a.id,a.title,a.viewContentHidden,"",a.urlViewContent)),a.expanded=this.tableRowSelected.id===a.id&&1!=a.expanded,1===this.clickCount?(this.tableRowSelectDoubleClick=!1,this.tableRowSelect3Click=!1):2===this.clickCount?(this.tableRowSelectDoubleClick=!0,this.tableRowSelect3Click=!1):3===this.clickCount&&(this.tableRowSelectDoubleClick=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionTableRowMouseClick(a){this.tableRowSelected.id===a.id?(a.expanded=!1,this.onActionTableRowSelect(this.item),this.publicHelper.pageInfo.updateContentInfo(new H.D("","",!1,"",""))):(this.onActionTableRowSelect(a),a.expanded=!0)}onActionTableRowMouseEnter(a){x.N.cmsViewConfig.tableRowMouseEnter&&(a.expanded=!0)}onActionTableRowMouseLeave(a){x.N.cmsViewConfig.tableRowMouseEnter&&(!this.tableRowSelected||this.tableRowSelected.id!==a.id)&&(a.expanded=!1)}onActionbuttonMemo(){this.publicHelper.dialog.open(S.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService}}).afterClosed().subscribe(s=>{})}onActionbuttonMemoRow(a=this.tableRowSelected){this.publicHelper.dialog.open(S.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionGridExpandRows(a){this.tableSource.data.forEach(i=>{i.expanded=a})}onActionbuttonExport(){this.publicHelper.dialog.open(X,{height:"50%",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",data:{service:this.baseService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(s=>{})}onActionbuttonPrintRow(a=this.tableRowSelected){a&&a.id&&0!==a.id.length?(this.onActionTableRowSelect(a),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.publicHelper.dialog.open(r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{}):this.publicHelper.cmsToastrService.typeErrorAccessWatch()):this.publicHelper.cmsToastrService.typeErrorSelectedRow()}onActionbuttonPin(a=this.tableRowSelected){this.publicHelper.dialog.open(w.I,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionbuttonTask(a=this.tableRowSelected){this.publicHelper.dialog.open(I.G,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionbuttonComment(a=this.tableRowSelected){this.publicHelper.dialog.open(E.X,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:x.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:x.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}DataGetAccess(){const a=this.constructor.name+"main";this.loading.Start(a),this.baseService.ServiceViewModel().subscribe({next:i=>{i.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access):this.publicHelper.cmsToastrService.typeErrorGetAccess(i.errorMessage),this.loading.Stop(a)},error:i=>{this.publicHelper.cmsToastrService.typeErrorGetAccess(i),this.loading.Stop(a)}})}}},7980:(J,Z,p)=>{p.d(Z,{Z:()=>y});var t=p(4537),d=p(656),E=p(727),S=p(8692),w=p(5738),I=p(6707);function _(u,A){if(1&u&&(t.TgZ(0,"div",2),t.Hsn(1,4),t.qZA()),2&u){const r=t.oxw();t.Q6J("ngClass",r.tokenHelper.isMobile?r.viewTree?"menu-active  menu menu-box-right rounded-0":"menu menu-box-right rounded-0":"col-xl-3")}}function L(u,A){1&u&&t.Hsn(0,6,["*ngIf","optionHeaderDisplay"])}function O(u,A){if(1&u&&(t.TgZ(0,"div",27),t.YNc(1,L,1,0,"ng-content",7),t.Hsn(2,5),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionHeaderDisplay)}}function e(u,A){1&u&&t._UZ(0,"hr")}function F(u,A){1&u&&(t.TgZ(0,"div",27)(1,"p",10),t.Hsn(2,7),t.Hsn(3,8),t.qZA()())}function v(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",28)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewTree())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewTree?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionCategoryTitle)}}function D(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",33)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewMenuMain())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewMenuMain?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionTitle)}}function M(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",34)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewMenuItemRow())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewMenuItemRow?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionSelectRowItemTitle)}}function b(u,A){if(1&u&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Oqu(r.optionTitle)}}function q(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionbuttonMemo())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}function T(u,A){if(1&u&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Oqu(r.optionSelectRowItemTitle)}}function N(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionbuttonPrintRow())}),t._UZ(2,"i",36)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.PRINT")))}function o(u,A){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionbuttonMemoRow())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}const g=[[["","cms-action-area",""]],[["","cms-body",""]],[["","cms-action",""]],[["","cms-action-row",""]],[["","cms-tree",""]],[["","cms-action-header",""]],[["","cms-header",""]],[["","cms-message",""]],[["","cms-footer",""]]],h=["[cms-action-area]","[cms-body]","[cms-action]","[cms-action-row]","[cms-tree]","[cms-action-header]","[cms-header]","[cms-message]","[cms-footer]"];let y=(()=>{class u{tokenHelper;static nextId=0;id=++u.nextId;optionHeaderDisplay=!0;optionActionDisplay=!0;optionFooterDisplay=!0;optionActionRowDisplay=!1;lastSelectId;set optionActionRowId(r){if("number"==typeof r&&r>0)this.optionActionRowDisplay=!0;else{if(!("string"==typeof r&&r.length>0))return this.optionActionRowDisplay=!1,this.viewMenuItemRow=!1,this.viewMenuMain=!1,void(this.lastSelectId=null);this.optionActionRowDisplay=!0}this.lastSelectId!=r&&(this.viewMenuItemRow=!1,this.viewMenuMain=!1),this.lastSelectId=r}set optionActionRowDisplayMenu(r){this.viewMenuItemRow=!(!this.optionActionRowDisplay||!r)}optionTitle="\u0645\u0646\u0648\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a";optionCategoryTitle="\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc";optionSelectRowItemTitle="";optionClassBody="ntk-cms-html-tree-body";optionTreeDisplay=!0;set optionLoading(r){this.loading=r}optionOnActionbuttonMemo=new t.vpe;optionOnActionbuttonExport=new t.vpe;optionOnActionbuttonMemoRow=new t.vpe;optionOnActionbuttonPrintRow=new t.vpe;loading=new d.O;constructor(r){this.tokenHelper=r}ngOnInit(){}viewMenuItemRow=!1;viewMenuMain=!1;viewTree=!1;actionViewTree(r){this.viewTree=1!=r&&(0==r||!this.viewTree),this.viewMenuMain=!1,this.viewMenuItemRow=!1}actionViewMenuItemRow(r){this.viewMenuItemRow=1==r||0!=r&&!this.viewMenuItemRow,this.viewMenuMain=!1,this.viewTree=!1}actionViewMenuMain(r){this.viewMenuMain=1==r||0!=r&&!this.viewMenuMain,this.viewMenuItemRow=!1,this.viewTree=!1}onActionbuttonMemo(){this.optionOnActionbuttonMemo.emit()}onActionbuttonExport(){this.optionOnActionbuttonExport.emit()}onActionbuttonMemoRow(){this.optionOnActionbuttonMemoRow.emit()}onActionbuttonPrintRow(){this.optionOnActionbuttonPrintRow.emit()}static \u0275fac=function(R){return new(R||u)(t.Y36(E.v))};static \u0275cmp=t.Xpm({type:u,selectors:[["app-cms-html-list"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionDisplay:"optionActionDisplay",optionFooterDisplay:"optionFooterDisplay",optionActionRowDisplay:"optionActionRowDisplay",optionActionRowId:"optionActionRowId",optionActionRowDisplayMenu:"optionActionRowDisplayMenu",optionTitle:"optionTitle",optionCategoryTitle:"optionCategoryTitle",optionSelectRowItemTitle:"optionSelectRowItemTitle",optionClassBody:"optionClassBody",optionTreeDisplay:"optionTreeDisplay",optionLoading:"optionLoading"},outputs:{optionOnActionbuttonMemo:"optionOnActionbuttonMemo",optionOnActionbuttonExport:"optionOnActionbuttonExport",optionOnActionbuttonMemoRow:"optionOnActionbuttonMemoRow",optionOnActionbuttonPrintRow:"optionOnActionbuttonPrintRow"},ngContentSelectors:h,decls:48,vars:20,consts:[[1,"row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"card","card-style"],[1,"content","mb-0"],[1,"row","justify-content-center"],["class","col-12 pe-0",4,"ngIf"],[4,"ngIf"],[1,"col-12","pe-0",3,"ngClass"],["topbody",""],[1,"text-center"],[3,"options"],["class","content","style","position: fixed;top: 100px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 140px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 180px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],[1,"menu","menu-box-modal","rounded-m","shadow-xl",2,"display","block","width","350px","height","320px",3,"ngClass"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"divider","divider-margins"],[1,"row","text-center"],["class","col-4",4,"ngIf"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"col-12","pe-0"],[1,"content",2,"position","fixed","top","100px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"col-12"],[1,"chip","chip-s","bg-gray-light",2,"cursor","pointer",3,"click"],[1,"fa","fa-bars","bg-green-dark","color-white"],[1,"color-black","font-400"],[1,"content",2,"position","fixed","top","140px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"content",2,"position","fixed","top","180px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"fa-regular","fa-file-lines","font-22",2,"color","#ffffff"],[1,"fa-solid","fa-print","font-22",2,"color","#ffffff"]],template:function(R,m){1&R&&(t.F$t(g),t.TgZ(0,"div",0),t.YNc(1,_,2,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,O,3,1,"div",6),t.Hsn(7),t.YNc(8,e,1,0,"hr",7),t.TgZ(9,"div",8,9)(11,"p",10),t._UZ(12,"app-progress-spinner",11),t.Hsn(13,1),t.qZA()(),t.YNc(14,F,4,0,"div",6),t.qZA()()()()(),t.YNc(15,v,7,3,"div",12),t.YNc(16,D,7,3,"div",13),t.YNc(17,M,7,3,"div",14),t.TgZ(18,"div",15)(19,"div",16)(20,"p",17),t._uU(21,"\u0645\u0646\u0648"),t.qZA(),t.YNc(22,b,2,1,"h1",7),t.TgZ(23,"a",18),t.NdJ("click",function(){return m.actionViewMenuMain(!1)}),t._UZ(24,"i",19),t.qZA()(),t._UZ(25,"div",20),t.TgZ(26,"div",21),t.Hsn(27,2),t.YNc(28,q,7,3,"div",22),t.TgZ(29,"div",23)(30,"a",24),t.NdJ("click",function(){return m.onActionbuttonExport()}),t._UZ(31,"i",25)(32,"br"),t.qZA(),t.TgZ(33,"p",26),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",15)(37,"div",16)(38,"p",17),t._uU(39,"\u0645\u0646\u0648 \u0631\u062f\u06cc\u0641 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc"),t.qZA(),t.YNc(40,T,2,1,"h1",7),t.TgZ(41,"a",18),t.NdJ("click",function(){return m.actionViewMenuItemRow(!1)}),t._UZ(42,"i",19),t.qZA()(),t._UZ(43,"div",20),t.TgZ(44,"div",21),t.YNc(45,N,7,3,"div",22),t.YNc(46,o,7,3,"div",22),t.Hsn(47,3),t.qZA()()),2&R&&(t.xp6(1),t.Q6J("ngIf",m.optionTreeDisplay),t.xp6(1),t.Q6J("ngClass",m.optionTreeDisplay&&!m.tokenHelper.isMobile?"col-xl-9":"col-xl-12"),t.xp6(4),t.Q6J("ngIf",m.optionHeaderDisplay),t.xp6(2),t.Q6J("ngIf",m.optionHeaderDisplay||m.optionActionDisplay),t.xp6(1),t.Q6J("ngClass",m.optionClassBody),t.xp6(3),t.Q6J("options",m.loading),t.xp6(2),t.Q6J("ngIf",m.optionFooterDisplay&&!(null!=m.loading&&m.loading.display)),t.xp6(1),t.Q6J("ngIf",m.optionTreeDisplay&&m.tokenHelper.isMobile),t.xp6(1),t.Q6J("ngIf",m.optionActionDisplay),t.xp6(1),t.Q6J("ngIf",m.optionActionRowDisplay),t.xp6(1),t.Q6J("ngClass",m.viewMenuMain?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==m.optionTitle?null:m.optionTitle.length)>0),t.xp6(6),t.Q6J("ngIf",m.optionOnActionbuttonMemo),t.xp6(6),t.Oqu(t.lcZ(35,18,"ACTION.EXPORTFILE")),t.xp6(2),t.Q6J("ngClass",m.viewMenuItemRow?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==m.optionSelectRowItemTitle?null:m.optionSelectRowItemTitle.length)>0),t.xp6(5),t.Q6J("ngIf",m.optionOnActionbuttonPrintRow),t.xp6(1),t.Q6J("ngIf",m.optionOnActionbuttonMemoRow))},dependencies:[S.mk,S.O5,w.O,I.X$],encapsulation:2})}return u})()},178:(J,Z,p)=>{p.d(Z,{y:()=>q});var t=p(4537),d=p(4511),E=p(8918),S=p(6707),w=p(2607),I=p(8692),_=p(92),L=p(8077),O=p(4580);function e(T,N){if(1&T){const o=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){t.CHM(o);const h=t.oxw(2);return t.KtG(h.onActionCopied())}),t.ALo(1,"json"),t._UZ(2,"i",8),t.TgZ(3,"span",9),t._uU(4,"Copied!"),t.qZA()()}if(2&T){const o=t.oxw(2);t.Q6J("cdkCopyToClipboard",t.lcZ(1,2,o.filters)),t.xp6(3),t.Q6J("ngClass",o.showLabel?"submited":"")}}function F(T,N){if(1&T){const o=t.EpF();t.TgZ(0,"a",10),t.NdJ("click",function(){t.CHM(o);const h=t.oxw(2);return t.KtG(h.onActionSaveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&T&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.SAVE")))}function v(T,N){if(1&T){const o=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(o);const h=t.oxw(2);return t.KtG(h.onActionLoadRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&T&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.LOAD")))}function D(T,N){if(1&T){const o=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(o);const h=t.oxw(2);return t.KtG(h.onActionRemoveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&T&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.REMOVE")))}function M(T,N){if(1&T){const o=t.EpF();t.TgZ(0,"div",1)(1,"ngx-ntk-query-builder",2),t.NdJ("ngModelChange",function(h){t.CHM(o);const y=t.oxw();return t.KtG(y.query=h)}),t.qZA(),t.Hsn(2),t.YNc(3,e,5,4,"a",3),t.YNc(4,F,3,3,"a",4),t.YNc(5,v,3,3,"a",5),t.YNc(6,D,3,3,"a",5),t.TgZ(7,"a",6),t.NdJ("click",function(){t.CHM(o);const h=t.oxw();return t.KtG(h.onSubmit())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&T){const o=t.oxw();t.xp6(1),t.Q6J("ngModel",o.query)("fieldMap",o.fieldMap)("language",o.lang),t.xp6(2),t.Q6J("ngIf",o.submited),t.xp6(1),t.Q6J("ngIf",o.allowSaveSearch),t.xp6(1),t.Q6J("ngIf",o.allowLoadSearch),t.xp6(1),t.Q6J("ngIf",o.allowLoadSearch),t.xp6(2),t.Oqu(t.lcZ(9,8,"ACTION.SEARCH"))}}const b=["*"];let q=(()=>{class T{translate;cmsToastrService;static nextId=0;id=++T.nextId;optionsData=new E.dj;optionsChange=new t.vpe;set options(o){o||(o=new E.dj),this.optionsData=o,this.optionsData.childMethods={setAccess:g=>this.setAccess(g)},this.optionsChange.emit(o),this.checkLoadSearch(!1)}get options(){return this.optionsData}allowLoadSearch=!1;allowSaveSearch=!1;submited=!1;showLabel=!1;filters;lang;model;query;fieldMap={};constructor(o,g){this.translate=o,this.cmsToastrService=g,this.lang=this.translate.currentLang}ngOnInit(){this.submited=!1}setAccess(o){this.optionsData.data.access=o,(!this.filters||0===this.filters.length)&&this.setFields(),this.checkLoadSearch(!1),this.checkLoadDefaultQuery()}setFields(){this.optionsData&&this.optionsData.data.access&&this.optionsData.data.access.fieldsInfo&&this.optionsData.data.access.fieldsInfo.forEach(o=>{o.accessSearchField&&("System.Int32"===o.fieldTypeString||"System.Int64"===o.fieldTypeString?this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"integer"}:"System.String"===o.fieldTypeString?this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"string"}:"MongoDB.Bson.ObjectId"===o.fieldTypeString?this.fieldMap[o.fieldName]={name:o.fieldName,type:"string"}:"System.Boolean"===o.fieldTypeString?this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"select",options:[{name:"\u0628\u0644\u0647",value:!0},{name:"\u062e\u06cc\u0631",value:!1}]}:o.fieldTypeString.indexOf(".RecordStatusEnum")>0?this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"select",options:[{name:"Available",value:1},{name:"Disable",value:2},{name:"Deleted",value:3},{name:"Pending",value:4},{name:"DeniedConfirmed",value:5},{name:"Archive",value:6}]}:"System.DateTime"===o.fieldTypeString?this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"date",settings:{}}:"link"===o.fieldTypeString&&(this.fieldMap[o.fieldName]={name:o.fieldTitle,type:"string"}))})}getRules(){this.filters=new Array;let o=d.ppe.And;!this.query||!this.query.condition||("or"===this.query.condition&&(o=d.ppe.Or),this.query.rules.forEach(g=>{const h=g,y=g;if(h&&h.condition&&h.rules&&h.rules.length>0){const u=new d.AO3;u.filters=this.getRulesSetChild(h),u.clauseType=o,this.filters.push(u)}else if(y){const u=this.getRulesChild(y);u.clauseType=o,this.filters.push(u)}}))}getRulesChild(o){const g=this.getSearchType(o.operator),h=new d.AO3;return h.propertyName=o.field,h.value=o.value,h.searchType=g,h}getRulesSetChild(o){const g=new Array;let h=d.ppe.And;return"or"===o.condition&&(h=d.ppe.Or),o.rules.forEach(y=>{const u=y,A=y;if(u&&u.condition&&u.rules&&u.rules.length>0){const r=new d.AO3;r.filters=this.getRulesSetChild(u),r.clauseType=h,g.push(r)}else if(A){const r=this.getRulesChild(A);r.clauseType=h,g.push(r)}}),g}onSubmit(){this.submited=!0,this.allowSaveSearch=!0,this.getRules(),this.optionsData.parentMethods&&this.optionsData.parentMethods.onSubmit(this.filters)}onActionCopied(){this.showLabel=!this.showLabel,setTimeout(()=>{this.showLabel=!1},3e3),this.cmsToastrService.typeSuccessCopedToClipboard()}onActionLoadRules(){this.checkLoadSearch(!0)}onActionRemoveRules(){localStorage.removeItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName),this.allowLoadSearch=!1}onActionSaveRules(){localStorage.setItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName,JSON.stringify(this.query))}onSetRules(){}getSearchType(o){switch(o){case"equal":return 0;case"not_equal":return 1;case"less":return 2;case"greater":return 3;case"between":return 4;case"contains":return 5;case"not_contains":return 6;case"begins_with":return 7;case"ends_with":return 8;case"less_or_equal":return 9;case"greater_or_equal":return 10}return 0}checkLoadSearch(o){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.access){const g=localStorage.getItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName);if(g)try{return o&&(this.query=JSON.parse(g),this.getRules()),this.allowLoadSearch=!0,this.allowSaveSearch=!0,!0}catch{this.allowLoadSearch=!1}}return!1}checkLoadDefaultQuery(){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.defaultQuery){const o=this.optionsData.data.defaultQuery;if(o)try{return this.query=JSON.parse(o),this.getRules(),setTimeout(()=>{this.onSubmit()},1e3),this.optionsData.data.defaultQuery="",!0}catch{}}return!1}static \u0275fac=function(g){return new(g||T)(t.Y36(S.sK),t.Y36(w.e))};static \u0275cmp=t.Xpm({type:T,selectors:[["app-cms-search-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},ngContentSelectors:b,decls:1,vars:1,consts:[["class","alert alert-primary",4,"ngIf"],[1,"alert","alert-primary"],[3,"ngModel","fieldMap","language","ngModelChange"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","float: left;",3,"cdkCopyToClipboard","click",4,"ngIf"],["href","javascript:void(0)","style","float: left;","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"click",4,"ngIf"],["href","javascript:void(0)","style","float: left;","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"cdkCopyToClipboard","click"],[1,"flaticon2-copy"],["id","myPopup",1,"popuptext",3,"ngClass"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"float","left",3,"click"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"click"]],template:function(g,h){1&g&&(t.F$t(),t.YNc(0,M,10,10,"div",0)),2&g&&t.Q6J("ngIf",h.optionsData.data.show)},dependencies:[I.mk,I.O5,_.JJ,_.On,L.YH,O.i3,I.Ts,S.X$],encapsulation:2})}return T})()},626:(J,Z,p)=>{p.d(Z,{q:()=>F});var t=p(4537),d=p(7147),E=p(8692),S=p(1379),w=p(3331),I=p(814),_=p(6438),L=p(6707);function O(v,D){if(1&v&&(t.TgZ(0,"mat-list-item",4)(1,"mat-icon",5),t._uU(2,"insights"),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA()()),2&v){const M=D.$implicit;t.xp6(4),t.Oqu(M.key),t.xp6(2),t.hij(" ",M.value," ")}}function e(v,D){if(1&v&&(t.TgZ(0,"div",1)(1,"mat-list")(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,O,7,2,"mat-list-item",3),t.ALo(6,"keyvalue"),t._UZ(7,"mat-divider"),t.qZA()()),2&v){const M=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"ACTION.STATIST")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,4,M.modelData))}}let F=(()=>{class v{static nextId=0;id=++v.nextId;constructor(){}optionsData=new d.TV;optionsChange=new t.vpe;set options(M){M||(M=new d.TV),this.optionsData=M,this.optionsData.childMethods={setStatistValue:b=>this.setStatistValue(b)},this.optionsChange.emit(M)}get options(){return this.optionsData}modelData=new Map;ngOnInit(){}setStatistValue(M){this.modelData=M}static \u0275fac=function(b){return new(b||v)};static \u0275cmp=t.Xpm({type:v,selectors:[["app-cms-statist-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},decls:1,vars:1,consts:[["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"],[2,"font-size","30px"],["style","height: auto;",4,"ngFor","ngForOf"],[2,"height","auto"],["mat-list-icon",""],["mat-line",""]],template:function(b,q){1&b&&t.YNc(0,e,8,6,"div",0),2&b&&t.Q6J("ngIf",q.optionsData.data.show)},dependencies:[E.sg,E.O5,S.X2,w.Hw,I.i$,I.Tg,_.d,E.Nd,L.X$],encapsulation:2})}return v})()}}]);