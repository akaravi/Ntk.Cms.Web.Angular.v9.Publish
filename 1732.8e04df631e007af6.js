"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[1732,663,3547],{3673:(g,_,o)=>{o.d(_,{G:()=>m});var t=o(8239),d=o(8692),p=o(4511),n=o(4537),c=o(4032),u=o(2607);let m=(()=>{class h{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(e,a,r,f,b,S){this.elRef=e,this.renderer=a,this.publicHelper=r,this.cmsToastrService=f,this.cdr=b,this.document=S}getEnumRecordStatus(){var e=this;return(0,t.Z)(function*(){(yield e.publicHelper.getEnumRecordStatus()).listItems.forEach(r=>{const f=document.createElement("option");f.innerHTML=" "+r.title+' <i Class="'+e.iconStatus(r.value)+'"></i>',f.value=r.value.toString(),e.elRef.nativeElement.add(f)}),e.elRef.nativeElement.options.length>0&&e.row&&e.row.recordStatus&&e.renderer.setProperty(e.elRef.nativeElement,"value",e.row.recordStatus)})()}onChange(){const e=this.elRef.nativeElement,a=e.value;this.addLoader(e),this.contentService.setAccessDataType(p.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,a).subscribe(r=>{r.isSuccess?(this.handleSuccessCase(e),this.cmsToastrService.typeSuccessSetStatus(r.errorMessage),this.row.recordStatus=0|a,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(r.errorMessage),this.handleErrorCase(e))},r=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(r),this.handleErrorCase(e)})}handleSuccessCase(e){this.removeBackground(e),this.addSuccess(e),setTimeout(()=>{this.removeBackground(e)},1e3)}handleErrorCase(e){this.removeBackground(e);const a=this.document.createElement("img");a.style.width="20px",a.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const r=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(r,a),setTimeout(()=>{this.renderer.removeChild(r,a)},1e3)}addLoader(e){this.addBackground(e,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(e){this.addBackground(e,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(e,a,r){e.style.background=`#fff url("${a}") no-repeat right 20px center`,e.style.backgroundSize=`${r}px`}removeBackground(e){e.style.background="none"}iconStatus(e){let a="";switch(e){case 1:default:a="fa fa-check";break;case 2:a="fa fa-eye-slash";break;case 3:a="fa fa-times";break;case 4:a="fa fa-hourglass-half";break;case 5:a="far fa-thumbs-down";break;case 6:a="fa fa-archive"}return a}static \u0275fac=function(a){return new(a||h)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(c.i),n.Y36(u.e),n.Y36(n.sBO),n.Y36(d.K0))};static \u0275dir=n.lG2({type:h,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(a,r){1&a&&n.NdJ("change",function(){return r.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return h})()},6639:(g,_,o)=>{o.d(_,{G:()=>p});var t=o(4537),d=o(5998);let p=(()=>{class n{sanitizer;constructor(u){this.sanitizer=u}transform(u,i=!1){let s="";switch(u){case 1:default:s="fa fa-check";break;case 2:s="fa fa-times";break;case 3:s="fa fa-trash";break;case 4:s="fa fa-hourglass-half";break;case 5:s="far fa-thumbs-down";break;case 6:s="fa fa-archive"}return s}static \u0275fac=function(i){return new(i||n)(t.Y36(d.H7,16))};static \u0275pipe=t.Yjl({name:"statusIconClass",type:n,pure:!0})}return n})()},3914:(g,_,o)=>{o.d(_,{s:()=>n});var t=o(4537),d=o(9154);let p=(()=>{class c{activeModal;static nextId=0;id=++c.nextId;title;message;btnOkText;btnCancelText;constructor(i){this.activeModal=i}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(s){return new(s||c)(t.Y36(d.Kz))};static \u0275cmp=t.Xpm({type:c,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(s,l){1&s&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return l.dismiss()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t._UZ(6,"div",4),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return l.decline()}),t._uU(9),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return l.accept()}),t._uU(11),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(l.title),t.xp6(4),t.Q6J("innerHTML",l.message,t.oJD),t.xp6(3),t.Oqu(l.btnCancelText),t.xp6(2),t.Oqu(l.btnOkText))},encapsulation:2})}return c})(),n=(()=>{class c{modalService;constructor(i){this.modalService=i}confirm(i,s,l="OK",m="Cancel",h="sm"){const v=this.modalService.open(p,{size:h});return v.componentInstance.title=i,v.componentInstance.message=s,v.componentInstance.btnOkText=l,v.componentInstance.btnCancelText=m,v.result}static \u0275fac=function(s){return new(s||c)(t.LFG(d.FF))};static \u0275prov=t.Yz7({token:c,factory:c.\u0275fac})}return c})()}}]);