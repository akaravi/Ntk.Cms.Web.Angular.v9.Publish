import{a as hi,b as Pt,c as Ci}from"./chunk-GOKBRZMP.js";import{a as Mt}from"./chunk-AJ63LAK2.js";import{a as Ft}from"./chunk-JCVW36FB.js";import{a as Ot}from"./chunk-L2WRQAMW.js";import{b as Do}from"./chunk-6P7OXJ6Z.js";import{a as Ne}from"./chunk-QCMFOZCF.js";import{$b as $t,Aa as ho,Ad as vt,C as no,Ca as Co,Cc as St,Cd as fi,Dc as di,F as Ke,G as Qe,Gb as vo,H as Je,Hb as Mo,Id as Ro,K as Ye,Kb as Zt,L as Xe,La as Ae,Lc as Lt,M as Ze,Ma as Re,Mc as Vt,Na as Se,Nc as wo,O as ro,Oc as To,P as ao,Sc as _t,Ta as le,Tc as gt,Ub as it,Vb as ot,Wa as ee,Wb as nt,Xb as ke,Xc as pi,Yb as rt,Zb as at,_c as Nt,aa as $e,ac as ei,bd as Ue,da as lo,ec as lt,fc as st,gc as ct,hc as dt,hd as It,ic as pt,jc as mt,kc as ut,lb as Xt,lc as ft,m as oo,mb as Io,mc as ht,nb as V,nc as Ct,o as Jt,oc as yo,p as Fe,pb as Gt,pc as ti,qc as ii,qd as mi,rc as oi,s as Ce,sa as Ee,sb as tt,sc as ni,sd as Eo,t as Me,tb as O,tc as ri,td as bt,ua as so,uc as ai,v as ye,va as co,vb as K,vc as li,vd as ui,w as Rt,wa as po,wc as si,x as we,xa as mo,xc as ci,y as Te,ya as uo,yb as bo,za as fo,zd as Ao}from"./chunk-5LPTYZOX.js";import{b as P,c as q,p as de}from"./chunk-XCJ4CR6Z.js";import{Aa as fe,Ab as Ti,Cd as kt,Db as Ie,Dc as ze,Dd as L,Eb as be,Fb as ve,Fc as Qt,Ge as go,Hd as z,Ia as ge,Ib as k,Id as F,Jb as to,Jd as De,Kb as p,L as Ji,La as r,Lb as E,Lc as io,Ma as S,Mb as I,Nb as At,O as Yi,Qb as R,Qd as W,Rb as D,Sb as x,Ud as Yt,Vb as je,W as Xi,Wb as qe,X as Zi,Yb as _,Yf as xi,Za as J,Zb as g,Zd as So,_b as Ve,ab as v,bb as Et,cb as u,da as zt,dq as G,eb as ne,fd as Dt,g as wi,gc as N,hd as Be,ja as B,ka as Kt,kd as Ei,lb as a,ld as Ai,mb as s,nb as M,nf as ce,ob as w,of as X,pb as T,pe as _o,pf as Di,qb as he,qd as Ri,qe as Ut,qf as ie,ra as f,rb as y,re as se,sa as h,se as xe,td as et,te,u as Ki,ub as b,v as Qi,vd as Y,wb as C,xb as $i,xc as Oe,yb as eo,yc as ae,zb as U,zc as j,zd as xt}from"./chunk-P7QOFLAF.js";function jo(o,d){if(o&1){let n=y();a(0,"button",10),b("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function qo(o,d){if(o&1){let n=y();a(0,"button",4),b("click",function(){f(n);let i=C();return h(i.onActionBackToParent())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.BACK")))}function Wo(o,d){if(o&1&&(a(0,"p"),p(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.approvedExpireDate," ")}}function zo(o,d){if(o&1&&(a(0,"p"),p(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.typeDescription," ")}}function Ko(o,d){if(o&1&&(a(0,"p"),p(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.approvedResult," ")}}function Qo(o,d){if(o&1){let n=y();a(0,"button",4),b("click",function(){f(n);let i=C().$implicit,e=C();return h(e.onActionButtonEditRow(i))}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.SEND_DOCUMENTS")))}function Jo(o,d){if(o&1&&(a(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),M(3,"div",13),a(4,"mat-card-title"),M(5,"i",1),_(6,"boolclass"),p(7),_(8,"translate"),s(),a(9,"mat-card-subtitle"),p(10),s()(),M(11,"img",14),a(12,"mat-card-content"),v(13,Wo,2,1,"p",15)(14,zo,2,1,"p",15)(15,Ko,2,1,"p",15),s(),a(16,"mat-card-actions"),v(17,Qo,3,3,"button",6),s()()()),o&2){let n=d.$implicit;r(3),to("background-image: url('",n.typeLinkMainImageIdSrc,"'); background-size: cover;"),r(2),u("ngClass",g(6,12,n.isApproved)),r(2),I(" ",g(8,14,"ACTION.STATUS"),""),r(3),E(n.typeTitle),r(),U("src",n.linkFileContentIdSrc,ge),U("alt",n.typeTitle),r(2),u("ngIf",n.isApproved&&n.approvedExpireDate),r(),u("ngIf",!n.isApproved),r(),u("ngIf",n.approvedResult&&n.approvedResult.length>0),r(2),u("ngIf",!n.isApproved)}}var ki=(()=>{let d=class d{constructor(t,i,e,c,m,l,A,H,Q,_e){this.coreUserClaimContentService=t,this.publicHelper=i,this.cmsToastrService=e,this.coreUserClaimTypeService=c,this.router=m,this.activatedRoute=l,this.tokenHelper=A,this.cdr=H,this.translate=Q,this.dialog=_e,this.requestLinkUserId=0,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.dataModelResult=new L,this.optionsSearch=new Eo,this.optionsStatist=new Ao,this.tokenInfo=new go,this.tableRowSelected=new xi,this.tableSource=new yo,this.fieldsInfo=new Map,this.categoryModelSelected=new ie,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"],this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.onActionTableRowSelect(new xi);let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let i=new _o;i.userId=this.requestLinkUserId,i.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRow(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkTypeId||t.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),t.linkContentId&&t.linkContentId>0){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else{var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};d.\u0275fac=function(i){return new(i||d)(S(Ut),S(O),S(V),S(te),S(Be),S(Dt),S(de),S(N),S(P),S(Se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-checklist"]],decls:13,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],["class","col-4",4,"ngFor","ngForOf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),v(3,jo,3,3,"button",3),a(4,"button",4),b("click",function(){return e.onActionButtonReload()}),a(5,"mat-icon",5),_(6,"translate"),p(7,"refresh"),s()(),v(8,qo,3,3,"button",6),s(),a(9,"div")(10,"div",7),M(11,"app-progress-spinner",8),v(12,Jo,18,16,"div",9),s()()()()),i&2&&(r(),u("ngClass","col-xl-12"),r(2),u("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkTypeId)>0),r(2),U("title",g(6,6,"ACTION.RELOAD")),r(3),u("ngIf",e.requestLinkUserId>0),r(3),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[Oe,ae,j,so,uo,Co,po,fo,ho,mo,co,le,K,q,Gt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});let o=d;return o})();var Xo=["vform"];function Zo(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",38),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $o(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function en(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function tn(o,d){if(o&1&&(a(0,"option",39),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function on(o,d){o&1&&(a(0,"mat-error"),p(1," Kind is "),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function nn(o,d){if(o&1&&(M(0,"img",40),_(1,"cmsthumbnail")),o&2){let n=C();U("src",g(1,1,n.dataModel.linkMainImageIdSrc),ge)}}function rn(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function an(o,d){if(o&1){let n=y();a(0,"div",41)(1,"button",42),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",43),p(3),_(4,"translate"),s(),a(5,"button",44),M(6,"i",45),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var gi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,l,A,H){super(c,new ie,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.publicHelper=m,this.cmsToastrService=l,this.cdr=A,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new ie,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(te),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,e){if(i&1&&Ie(Xo,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:65,vars:50,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s(),a(8,"form",10,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,Zo,1,5,"app-cms-enum-record-status-selector",11),a(11,"div",12)(12,"label",13),p(13),s(),a(14,"input",14,1),x("ngModelChange",function(l){return f(c),D(e.dataModel.title,l)||(e.dataModel.title=l),h(l)}),s(),a(16,"em"),p(17),s(),v(18,$o,5,4,"mat-error",15),s(),a(19,"div",12)(20,"label",16),p(21),s(),a(22,"input",17,2),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleResourceLanguage,l)||(e.dataModel.titleResourceLanguage=l),h(l)}),s(),a(24,"em"),p(25),s(),v(26,en,5,4,"mat-error",15),s(),a(27,"div",18)(28,"select",19,3),x("ngModelChange",function(l){return f(c),D(e.dataModel.kind,l)||(e.dataModel.kind=l),h(l)}),v(30,tn,2,2,"option",20),s(),a(31,"em"),p(32),_(33,"translate"),s(),v(34,on,5,3,"mat-error",15),s(),a(35,"div",21)(36,"div",22)(37,"h5",23),p(38),s()(),a(39,"div",24)(40,"div",25)(41,"input",26),x("ngModelChange",function(l){return f(c),D(e.dataModel.dismissOnEdit,l)||(e.dataModel.dismissOnEdit=l),h(l)}),s(),M(42,"label",27),s()()(),a(43,"div",28)(44,"a",29),_(45,"cmsthumbnail"),v(46,nn,2,3,"img",30),s()(),a(47,"div",31)(48,"div",12)(49,"label",32),b("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),p(50),_(51,"translate"),s(),a(52,"input",33,4),_(54,"translate"),x("ngModelChange",function(l){return f(c),D(e.dataModel.linkMainImageId,l)||(e.dataModel.linkMainImageId=l),h(l)}),b("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),s()(),a(55,"cms-file-manager",34),b("itemSelected",function(l){return f(c),h(e.onActionFileSelected(l))}),x("openFormChange",function(l){return f(c),D(e.fileManagerOpenForm,l)||(e.fileManagerOpenForm=l),h(l)}),s()(),a(56,"div",12)(57,"label",35),p(58),s(),a(59,"textarea",36,5),x("ngModelChange",function(l){return f(c),D(e.dataModel.description,l)||(e.dataModel.description=l),h(l)}),s(),a(61,"em"),p(62),s(),v(63,rn,5,4,"mat-error",15),s(),v(64,an,9,7,"div",37),s()()()}if(i&2){let c=k(15),m=k(23),l=k(29),A=k(60);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),I("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),R("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(2),E(g(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",l.errors==null?null:l.errors.required),r(4),I(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),R("ngModel",e.dataModel.dismissOnEdit),r(3),U("href",g(45,44,e.dataModel.linkMainImageIdSrc),ge),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),I("",g(51,46,"TITLE.Sample_File")," "),r(2),U("placeholder",g(54,48,"TITLE.Original_File_ID")),R("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),R("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),R("ngModel",e.dataModel.description),r(3),I("",A.value.length," / 500"),r(),u("ngIf",A.errors==null?null:A.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ae,j,Te,Qe,Je,Fe,Jt,Ke,Ce,Me,Ye,Xe,Ze,we,ye,$e,ee,Ue,K,Xt,q,Lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function sn(o,d){if(o&1){let n=y();a(0,"li")(1,"mat-checkbox",1),b("change",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),p(2),s()()}if(o&2){let n=d.$implicit,t=C();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),I(" ",n.titleML," ")}}var Uo=(()=>{let d=class d{constructor(t,i,e,c,m,l){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.cmsToastrService=l,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Rt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new fe,this.optionSelectAdded=new fe,this.optionSelectRemoved=new fe,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(X)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(W),S(se),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(a(0,"ul"),v(1,sn,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[ae,Zt]});let o=d;return o})();var mn=["vform"];function un(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",38),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fn(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function hn(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Cn(o,d){if(o&1&&(a(0,"option",39),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function Sn(o,d){if(o&1){let n=y();a(0,"div",40)(1,"div",41)(2,"h5",42),p(3),s()(),a(4,"div",43)(5,"div",44)(6,"input",45),x("ngModelChange",function(i){f(n);let e=C();return D(e.dataModel.dismissOnEdit,i)||(e.dataModel.dismissOnEdit=i),h(i)}),s(),M(7,"label",46),s()()()}if(o&2){let n=C();r(3),I(" ",n.fieldsInfo.dismissOnEdit==null?null:n.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),R("ngModel",n.dataModel.dismissOnEdit)}}function _n(o,d){if(o&1&&(M(0,"img",47),_(1,"cmsthumbnail")),o&2){let n=C();U("src",g(1,1,n.dataModel.linkMainImageIdSrc),ge)}}function gn(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function In(o,d){if(o&1){let n=y();a(0,"div",48)(1,"button",49),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",50),p(3),_(4,"translate"),s(),a(5,"button",51),M(6,"i",52),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var Ii=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,l,A,H,Q){super(c,new ie,l,Q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.coreUserClaimGroupDetailService=m,this.publicHelper=l,this.cmsToastrService=A,this.cdr=H,this.translate=Q,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new ie,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimGroupIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(xt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(l=>{m.push(l.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=m,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.formAlert=l}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new ce;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new ce;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(te),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,e){if(i&1&&Ie(mn,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:66,vars:58,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",7),M(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s(),a(8,"form",11,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),a(10,"mat-vertical-stepper",12,1),b("selectionChange",function(l){f(c);let A=k(11);return h(e.onStepClick(l,A))}),a(12,"mat-step",13),_(13,"translate"),v(14,un,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),p(17),s(),a(18,"input",17,2),x("ngModelChange",function(l){return f(c),D(e.dataModel.title,l)||(e.dataModel.title=l),h(l)}),s(),a(20,"em"),p(21),s(),v(22,fn,5,4,"mat-error",18),s(),a(23,"div",15)(24,"label",19),p(25),_(26,"translate"),s(),a(27,"input",20),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleML,l)||(e.dataModel.titleML=l),h(l)}),s()(),a(28,"div",15)(29,"label",21),p(30),s(),a(31,"input",22,3),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleResourceLanguage,l)||(e.dataModel.titleResourceLanguage=l),h(l)}),s(),a(33,"em"),p(34),s(),v(35,hn,5,4,"mat-error",18),s(),a(36,"div",23)(37,"select",24,4),x("ngModelChange",function(l){return f(c),D(e.dataModel.kind,l)||(e.dataModel.kind=l),h(l)}),v(39,Cn,2,2,"option",25),s()(),v(40,Sn,8,2,"div",26),a(41,"div",27)(42,"a",28),_(43,"cmsthumbnail"),v(44,_n,2,3,"img",29),s()(),a(45,"div",30)(46,"div",15)(47,"label",31),b("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),p(48),_(49,"translate"),s(),a(50,"input",32,5),_(52,"translate"),x("ngModelChange",function(l){return f(c),D(e.dataModel.linkMainImageId,l)||(e.dataModel.linkMainImageId=l),h(l)}),b("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),s()(),a(53,"cms-file-manager",33),b("itemSelected",function(l){return f(c),h(e.onActionFileSelected(l))}),x("openFormChange",function(l){return f(c),D(e.fileManagerOpenForm,l)||(e.fileManagerOpenForm=l),h(l)}),s()(),a(54,"div",15)(55,"label",34),p(56),s(),a(57,"textarea",35,6),x("ngModelChange",function(l){return f(c),D(e.dataModel.description,l)||(e.dataModel.description=l),h(l)}),s(),a(59,"em"),p(60),s(),v(61,gn,5,4,"mat-error",18),s()(),a(62,"mat-step",13),_(63,"translate"),a(64,"app-core-userclaimgroup-selectionlist",36),b("optionChange",function(l){return f(c),h(e.onActionSelectorUserCategorySelect(l))})("optionSelectAdded",function(l){return f(c),h(e.onActionSelectorUserCategorySelectAdded(l))})("optionSelectRemoved",function(l){return f(c),h(e.onActionSelectorUserCategorySelectRemoved(l))}),s()()(),v(65,In,9,7,"div",37),s()()()}if(i&2){let c=k(19),m=k(32),l=k(58);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",g(13,46,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),I(" ",g(26,48,"TITLE.TitleML"),""),r(2),R("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),I("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),R("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(),u("ngIf",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.accessWatchField),r(2),U("href",g(43,50,e.dataModel.linkMainImageIdSrc),ge),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),I("",g(49,52,"TITLE.Sample_File")," "),r(2),U("placeholder",g(52,54,"TITLE.Original_File_ID")),R("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),R("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),R("ngModel",e.dataModel.description),r(3),I("",l.value.length," / 500"),r(),u("ngIf",l.errors==null?null:l.errors.required),r(),U("label",g(63,56,"TITLE.Get_Used")),r(2),u("optionSelectForce",e.dataCoreClaimGroupIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ae,j,Te,Qe,Je,Fe,Jt,Ke,Ce,Me,Ye,Xe,Ze,we,ye,$e,ee,$t,ei,Ue,K,di,Xt,Uo,q,Lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function vn(o,d){if(o&1){let n=y();a(0,"button",12),b("click",function(){f(n);let i=C();return h(i.onActionAdd())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.ADD")))}function Mn(o,d){if(o&1){let n=y();a(0,"button",13),b("click",function(){f(n);let i=C();return h(i.onActionEdit())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function yn(o,d){if(o&1){let n=y();a(0,"button",14),b("click",function(){f(n);let i=C();return h(i.onActionButtonReload())}),a(1,"mat-icon",15),_(2,"translate"),p(3,"refresh"),s()()}o&2&&(r(),U("title",g(2,1,"ACTION.RELOAD")))}function wn(o,d){if(o&1){let n=y();a(0,"mat-tree-node",16),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),M(1,"button",17),p(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),I(" ",n.titleML," ")}}function Tn(o,d){if(o&1){let n=y();a(0,"mat-nested-tree-node")(1,"li")(2,"div",18),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),a(3,"button",19),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),a(4,"mat-icon",20),p(5),s()(),p(6),s(),a(7,"ul"),he(8,21),s()()()}if(o&2){let n=d.$implicit,t=C();r(2),ne("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),Et("aria-label","Toggle "+n.titleML),r(2),I(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),I(" ",n.titleML," "),r(),ne("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Lo=(()=>{let d=class d{constructor(t,i,e,c,m,l,A,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=m,this.publicHelper=l,this.tokenHelper=A,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new ie,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ti(Q=>null),this.dataSource=new ci,this.optionChange=new fe,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Q,_e)=>!1,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ie,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(W),S(te),S(Se),S(N),S(O),S(de),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),w(1,1),p(2),_(3,"translate"),T(),w(4,2),v(5,vn,3,3,"button",3)(6,Mn,3,3,"button",4)(7,yn,4,3,"button",5),T(),w(8,6),M(9,"app-progress-spinner",7),a(10,"mat-tree",8),v(11,wn,3,7,"mat-tree-node",9)(12,Tn,9,7,"mat-nested-tree-node",10),s(),T(),he(13,11),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",g(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,le,ni,oi,ri,si,li,ii,ai,K,Nt,q]});let o=d;return o})();var An=()=>["expandedTitle"],Rn=()=>[5,10,20,100],Dn=o=>({display:o}),xn=o=>({background:o});function kn(o,d){if(o&1){let n=y();a(0,"a",51),b("click",function(){f(n);let i=C();return h(i.onActionBackToParent())}),M(1,"i",52),s()}}function Un(o,d){if(o&1){let n=y();a(0,"div",19)(1,"a",53),b("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),M(2,"i",54)(3,"br"),s(),a(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function Gn(o,d){if(o&1){let n=y();a(0,"div",19)(1,"a",55),b("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),M(2,"i",56)(3,"br"),s(),a(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function Ln(o,d){if(o&1){let n=y();a(0,"div",19)(1,"a",57),b("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),M(2,"i",58)(3,"br"),s(),a(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function Vn(o,d){if(o&1){let n=y();a(0,"mat-row",59),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowMouseLeave(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function On(o,d){o&1&&(a(0,"mat-header-cell",60),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.PICTURE")," "))}function Fn(o,d){if(o&1&&M(0,"img",62),o&2){let n=C().$implicit;U("src",n.linkFileContentId,ge)}}function Bn(o,d){if(o&1&&(a(0,"mat-cell"),v(1,Fn,1,1,"img",61),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkFileContentId==null?null:n.linkFileContentId.length)>0)}}function Nn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Pn(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Hn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function jn(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.title," ")}}function qn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Wn(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),I(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function zn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Kn(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmsuserinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),I(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function Qn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Jn(o,d){if(o&1&&M(0,"select",65),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Dn,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Yn(o,d){if(o&1&&(a(0,"mat-cell",63),_(1,"statusCellClass"),M(2,"i",63),_(3,"statusIconClass"),v(4,Jn,1,5,"select",64),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Xn(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Zn(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),E(Ve(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems))}}function $n(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.isApproved==null?null:n.fieldsInfo.isApproved.fieldTitle," ")}}function er(o,d){if(o&1&&(a(0,"mat-cell"),M(1,"i",63),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",g(2,1,n.isApproved))}}function tr(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function ir(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function or(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function nr(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function rr(o,d){if(o&1&&(a(0,"mat-header-cell",60),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.expireDate==null?null:n.fieldsInfo.expireDate.fieldTitle," ")}}function ar(o,d){if(o&1&&(a(0,"mat-cell",66),p(1),s()),o&2){let n=d.$implicit,t=C();u("ngStyle",qe(2,xn,t.publicHelper.RowStyleExpireDate(n.expireDate))),r(),I(" ",t.publicHelper.LocaleDate(n.expireDate)," ")}}function lr(o,d){o&1&&(a(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function sr(o,d){if(o&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),p(3,"more_vert"),s()(),M(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function cr(o,d){o&1&&M(0,"mat-header-row")}function dr(o,d){if(o&1){let n=y();a(0,"mat-row",69),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function pr(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"translate"),_(3,"cmsuserinfo"),_(4,"async"),M(5,"br"),p(6),_(7,"translate"),_(8,"cmssiteinfo"),_(9,"async"),M(10,"br"),p(11),_(12,"translate"),M(13,"br"),p(14),_(15,"translate"),M(16,"br"),p(17),_(18,"translate"),s()),o&2){let n=d.$implicit,t=C();r(),At(" ",g(2,10,"TITLE.User_Id")," : ",g(4,14,g(3,12,n.linkUserId))," "),r(5),At(" ",g(7,16,"TITLE.Site_Id")," : ",g(9,20,g(8,18,n.linkSiteId))," "),r(5),At(" ",g(12,22,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," "),r(3),At(" ",g(15,24,"TITLE.DateOfUpdate")," : ",t.publicHelper.LocaleDate(n.updatedDate)," "),r(3),At(" ",g(18,26,"TITLE.Expire_Date")," : ",t.publicHelper.LocaleDate(n.expireDate)," ")}}var Wt=(()=>{let d=class d extends Mt{constructor(t,i,e,c,m,l,A,H,Q,_e,Pe,We){if(super(t,new Di,Pe,l,Q),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreUserClaimTypeService=c,this.router=m,this.tokenHelper=l,this.activatedRoute=A,this.cdr=H,this.translate=Q,this.pageInfo=_e,this.publicHelper=Pe,this.dialog=We,this.requestLinkUserClaimTypeId=0,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new ie,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"],this.tabledisplayedColumnsMobileSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Y.Descending,this.requestLinkUserClaimTypeId>0){let oe=new z;oe.propertyName="LinkUserClaimTypeId",oe.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(oe)}if(this.requestLinkSiteId>0){let oe=new z;oe.propertyName="LinkSiteId",oe.value=this.requestLinkSiteId,this.filteModelContent.filters.push(oe)}if(this.requestLinkUserId>0){let oe=new z;oe.propertyName="LinkUserId",oe.value=this.requestLinkUserId,this.filteModelContent.filters.push(oe)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Di);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(m,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};d.\u0275fac=function(i){return new(i||d)(S(Ut),S(V),S(Ne),S(te),S(Be),S(de),S(Dt),S(N),S(P),S(tt),S(O),S(Se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-list"]],features:[J],decls:88,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(l){return f(c),D(e.viewGuideNotice,l)||(e.viewGuideNotice=l),h(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),w(1,4),a(2,"app-core-userclaimtype-tree",5),b("optionChange",function(l){return f(c),h(e.onActionSelectorSelect(l))}),s(),T(),he(3,6)(4,7),w(5,8),v(6,kn,2,0,"a",9),a(7,"a",10),b("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(8,"i",11),s(),a(9,"a",10),b("click",function(){return f(c),h(e.onActionButtonReload())}),M(10,"i",12),s(),T(),w(11,13),a(12,"a",14),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(13,"mat-slide-toggle",15),p(14),_(15,"translate"),s(),a(16,"a",14),b("click",function(){return f(c),h(e.onActionButtonStatist())}),M(17,"mat-slide-toggle",15),p(18),_(19,"translate"),s(),T(),w(20,16),v(21,Un,7,3,"div",17),T(),w(22,18),v(23,Gn,7,3,"div",17)(24,Ln,7,3,"div",17),a(25,"div",19)(26,"a",20),b("click",function(){return f(c),h(e.onActionButtonModuleList(e.tableRowSelected))}),a(27,"mat-icon"),p(28,"view_module"),s()(),a(29,"p",21),p(30),_(31,"translate"),s()(),a(32,"div",19)(33,"a",20),b("click",function(){return f(c),h(e.onActionButtonSiteList(e.tableRowSelected))}),M(34,"i",22),s(),a(35,"p",21),p(36),_(37,"translate"),s()(),T(),w(38,23),a(39,"app-cms-search-list",24),x("optionsChange",function(l){return f(c),D(e.optionsSearch,l)||(e.optionsSearch=l),h(l)}),s(),a(40,"app-cms-statist-list",24),x("optionsChange",function(l){return f(c),D(e.optionsStatist,l)||(e.optionsStatist=l),h(l)}),s(),T(),w(41,25),a(42,"mat-table",26,0),b("matSortChange",function(){f(c);let l=k(43);return h(e.onTableSortData(l))}),v(44,Vn,1,6,"mat-row",27),w(45,28),v(46,On,3,3,"mat-header-cell",29)(47,Bn,2,1,"mat-cell",30),T(),w(48,31),v(49,Nn,2,1,"mat-header-cell",29)(50,Pn,2,1,"mat-cell",30),T(),w(51,32),v(52,Hn,2,1,"mat-header-cell",29)(53,jn,2,1,"mat-cell",30),T(),w(54,33),v(55,qn,2,1,"mat-header-cell",29)(56,Wn,4,5,"mat-cell",30),T(),w(57,34),v(58,zn,2,1,"mat-header-cell",29)(59,Kn,4,5,"mat-cell",30),T(),w(60,35),v(61,Qn,2,1,"mat-header-cell",29)(62,Yn,5,7,"mat-cell",36),T(),w(63,37),v(64,Xn,2,1,"mat-header-cell",29)(65,Zn,3,4,"mat-cell",30),T(),w(66,38),v(67,$n,2,1,"mat-header-cell",29)(68,er,3,3,"mat-cell",30),T(),w(69,39),v(70,tr,2,1,"mat-header-cell",29)(71,ir,2,1,"mat-cell",30),T(),w(72,40),v(73,or,2,1,"mat-header-cell",29)(74,nr,2,1,"mat-cell",30),T(),w(75,41),v(76,rr,2,1,"mat-header-cell",29)(77,ar,2,4,"mat-cell",42),T(),w(78,43),v(79,lr,3,3,"mat-header-cell",44)(80,sr,6,1,"mat-cell",45),T(),v(81,cr,1,0,"mat-header-row",46)(82,dr,1,6,"mat-row",47),w(83,48),v(84,pr,19,28,"mat-cell",30),T(),s(),T(),w(85,49),a(86,"mat-paginator",50,1),b("page",function(l){return f(c),h(e.onTablePageingData(l))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","userclaim.content.list"),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimTypeId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),u("ngIf",e.requestLinkUserClaimTypeId>0),r(7),u("checked",e.optionsSearch.data.show),r(),I("",g(15,27,"ACTION.SEARCH")," "),r(3),u("checked",e.optionsStatist.data.show),r(),I("",g(19,29,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(31,31,"ACTION.MODULES")),r(6),E(g(37,33,"ACTION.SITES")),r(3),R("options",e.optionsSearch),r(),R("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(2),u("matRowDefColumns",je(35,An)),r(37),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(4),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",je(36,Rn)))},dependencies:[Oe,j,ze,Ee,le,ee,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,ht,Ct,bt,vt,It,St,Lo,Qt,q,Vt,bo,wo,gt,_t,Gt],encapsulation:2});let o=d;return o})();var mr=["*"];function ur(o,d){if(o&1&&(a(0,"label",8),p(1),s()),o&2){let n=C();Ti("for","app-cms-site-selector-",n.id,""),r(),E(n.optionLabel)}}function fr(o,d){if(o&1&&(a(0,"mat-option",9)(1,"span"),p(2),s()()),o&2){let n=d.$implicit,t=C();u("value",n)("disabled",t.optionDisabled),r(2),E(t.displayOption(n))}}function hr(o,d){if(o&1){let n=y();a(0,"mat-icon",10),b("click",function(){f(n);let i=C();return h(i.onActionSelectClear())}),p(1,"close"),s()}}var bi=(()=>{let d=class d{constructor(t,i,e,c,m,l){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.categoryService=l,this.id=++d.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=new X,this.formControl=new Rt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new fe,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xi(""),Ji(1500),Yi(),Zi(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return wi(this,null,function*(){let i=new F;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=Ri.Contains,e.clauseType=Ai.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=Ri.Equal,e.clauseType=Ai.Or,i.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(c,m,this.constructorInfoAreaId)}),yield Ki(this.categoryService.ServiceGetAll(i)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),m.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(Qi(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="number"&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof X){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new X,this.loadOptions()}};d.nextId=0,d.\u0275fac=function(i){return new(i||d)(S(W),S(V),S(N),S(O),S(P),S(se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:mr,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=y();$i(),a(0,"div",1),M(1,"app-progress-spinner",2),v(2,ur,2,3,"label",3),M(3,"input",4),a(4,"mat-autocomplete",5,0),b("optionSelected",function(l){return f(c),h(e.onActionSelect(l.option.value))}),v(6,fr,3,3,"mat-option",6),_(7,"async"),s(),v(8,hr,2,0,"mat-icon",7),eo(9),s()}if(i&2){let c=k(5);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),U("placeholder",e.optionPlaceholder),Ti("id","app-cms-site-selector-",e.id,""),u("formControl",e.formControl)("matAutocomplete",c),Et("disabled",e.optionDisabled?!0:null),r(),u("displayWith",e.displayFn),r(2),u("ngForOf",g(7,11,e.filteredOptions)),r(2),u("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[ae,j,Fe,Ce,no,vo,oo,Mo,lo,le,ee,K,Qt],encapsulation:2});let o=d;return o})();var Sr=["vform"];function _r(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",18),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gr(o,d){if(o&1){let n=y();a(0,"mat-slide-toggle",19),x("ngModelChange",function(i){f(n);let e=C();return D(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),h(i)}),p(1),s()}if(o&2){let n=C();R("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function Ir(o,d){if(o&1){let n=y();a(0,"div",13)(1,"button",20),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",21),p(3),_(4,"translate"),s(),a(5,"button",22),M(6,"i",23),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var Wi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,l,A,H){super(c,new ce,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=m,this.cmsToastrService=l,this.cdr=A,this.translate=H,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new ce,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkUserClaimGroupId=+t.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+t.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),"MESSAGE.group_of_information_documents_is_not_clear");return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,e){if(i&1&&Ie(Sr,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s()()(),a(8,"form",5,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),M(10,"div",6),a(11,"div",7),v(12,_r,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectClaimGroup(l))}),s(),a(15,"app-core-userclaimtype-selector",9),_(16,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectClaimType(l))}),s(),a(17,"div",10),v(18,gr,2,3,"mat-slide-toggle",11),s()(),a(19,"div",12)(20,"div",13)(21,"small",14),p(22),s(),a(23,"small",15),p(24),s()()(),a(25,"div",16),v(26,Ir,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",g(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",g(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),I("",e.formInfo.formAlert," "),r(2),I("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,Ce,Me,we,ye,ke,Ue,K,bi,hi,q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var br=["vform"];function vr(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",18),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Mr(o,d){if(o&1){let n=y();a(0,"mat-slide-toggle",19),x("ngModelChange",function(i){f(n);let e=C();return D(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),h(i)}),p(1),s()}if(o&2){let n=C();R("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function yr(o,d){if(o&1){let n=y();a(0,"div",13)(1,"button",20),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",21),p(3),_(4,"translate"),s(),a(5,"button",22),M(6,"i",23),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var zi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,l,A,H){super(c,new ce,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=m,this.cmsToastrService=l,this.cdr=A,this.translate=H,this.requestModel=new ce,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new ce,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestModel=t.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestModel.linkUserClaimGroupId,i.filters.push(e),e=new z,e.propertyName="LinkUserClaimTypeId",e.value=this.requestModel.linkUserClaimTypeId,i.filters.push(e),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(xt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),c.isSuccess&&c.listItems.length>0?(this.dataModel=c.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.group_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,e){if(i&1&&Ie(br,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s()()(),a(8,"form",5,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),M(10,"div",6),a(11,"div",7),v(12,vr,1,5,"app-cms-enum-record-status-selector",8),a(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectClaimGroup(l))}),s(),a(15,"app-core-userclaimtype-selector",9),_(16,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectClaimType(l))}),s(),a(17,"div",10),v(18,Mr,2,3,"mat-slide-toggle",11),s()(),a(19,"div",12)(20,"div",13)(21,"small",14),p(22),s(),a(23,"small",15),p(24),s()()(),a(25,"div",16),v(26,yr,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",g(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",g(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),I("",e.formInfo.formAlert," "),r(2),I("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,Ce,Me,we,ye,ke,Ue,K,bi,hi,q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var Rr=["vform"];function Dr(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",23),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function kr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Ur(o,d){if(o&1&&(a(0,"option",24),p(1),s()),o&2){let n=d.$implicit;u("value",n.value),r(),E(n.description)}}function Gr(o,d){o&1&&(a(0,"mat-error"),p(1," ActionType is "),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function Lr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Vr(o,d){if(o&1){let n=y();a(0,"div",25)(1,"button",26),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",27),p(3),_(4,"translate"),s(),a(5,"button",28),M(6,"i",29),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var vi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,l,A,H){super(c,new X,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.publicHelper=m,this.cmsToastrService=l,this.cdr=A,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new X,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(se),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,e){if(i&1&&Ie(Rr,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:55,vars:54,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",5),M(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s(),a(8,"form",9,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,Dr,1,5,"app-cms-enum-record-status-selector",10),a(11,"div",11)(12,"label",12),p(13),s(),a(14,"input",13,1),x("ngModelChange",function(l){return f(c),D(e.dataModel.title,l)||(e.dataModel.title=l),h(l)}),s(),a(16,"em"),p(17),s(),v(18,xr,5,4,"mat-error",14),s(),a(19,"div",11)(20,"label",15),p(21),s(),a(22,"input",16,2),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleResourceLanguage,l)||(e.dataModel.titleResourceLanguage=l),h(l)}),s(),a(24,"em"),p(25),s(),v(26,kr,5,4,"mat-error",14),s(),a(27,"div",11)(28,"select",17,3),x("ngModelChange",function(l){return f(c),D(e.dataModel.actionType,l)||(e.dataModel.actionType=l),h(l)}),v(30,Ur,2,2,"option",18),s(),a(31,"em"),p(32),_(33,"translate"),s(),v(34,Gr,5,3,"mat-error",14),s(),M(35,"hr"),a(36,"app-cms-module-selector",19),_(37,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectModuleId(l))}),s(),a(38,"app-cms-sitecategory-selector",19),_(39,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectSiteCategory(l))}),s(),a(40,"app-cms-usergroup-selector",19),_(41,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectUserGroup(l))}),s(),a(42,"app-cms-application-selector",19),_(43,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectApplication(l))}),s(),a(44,"app-cms-application-selector",19),_(45,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectApplicationSource(l))}),s(),a(46,"div",11)(47,"label",20),p(48),s(),a(49,"textarea",21,4),x("ngModelChange",function(l){return f(c),D(e.dataModel.description,l)||(e.dataModel.description=l),h(l)}),s(),a(51,"em"),p(52),s(),v(53,Lr,5,4,"mat-error",14),s(),v(54,Vr,9,7,"div",22),s()()()}if(i&2){let c=k(15),m=k(23),l=k(29),A=k(50);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),I("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),R("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(g(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",l.errors==null?null:l.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",g(37,44,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",g(39,46,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",g(41,48,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",g(43,50,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",g(45,52,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),R("ngModel",e.dataModel.description),r(3),I("",A.value.length," / 500"),r(),u("ngIf",A.errors==null?null:A.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ae,j,Te,Qe,Je,Fe,Ke,Ce,Me,Ye,Xe,Ze,we,ye,$e,ee,Ue,pi,ui,fi,mi,K,q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function Or(o,d){if(o&1){let n=y();a(0,"li")(1,"mat-checkbox",1),b("change",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),p(2),s()()}if(o&2){let n=d.$implicit,t=C();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),I(" ",n.titleML," ")}}var Fo=(()=>{let d=class d{constructor(t,i,e,c,m,l){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.cmsToastrService=l,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Rt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new fe,this.optionSelectAdded=new fe,this.optionSelectRemoved=new fe,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(ie)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(W),S(te),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(a(0,"ul"),v(1,Or,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[ae,Zt]});let o=d;return o})();var Br=["vform"];function Nr(o,d){if(o&1){let n=y();a(0,"app-cms-enum-record-status-selector",30),x("modelChange",function(i){f(n);let e=C();return D(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();R("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Hr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function jr(o,d){if(o&1&&(a(0,"option",31),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function qr(o,d){o&1&&(a(0,"mat-error"),p(1," ActionType is "),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function Wr(o,d){if(o&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function zr(o,d){if(o&1){let n=y();a(0,"div",32)(1,"button",33),b("click",function(){f(n);let i=C();return h(i.onFormCancel())}),M(2,"i",34),p(3),_(4,"translate"),s(),a(5,"button",35),M(6,"i",36),p(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var Mi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,l,A,H,Q){super(c,new X,l,Q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.coreUserClaimGroupDetailService=m,this.publicHelper=l,this.cmsToastrService=A,this.cdr=H,this.translate=Q,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new X,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimTypeIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(xt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(l=>{m.push(l.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=m,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.formAlert=l}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new ce;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new ce;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(W),S(se),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,e){if(i&1&&Ie(Br,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[J],decls:67,vars:67,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),p(4),s(),a(5,"p"),p(6),_(7,"translate"),s(),a(8,"form",10,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),a(10,"mat-vertical-stepper",11,1),b("selectionChange",function(l){f(c);let A=k(11);return h(e.onStepClick(l,A))}),a(12,"mat-step",12),_(13,"translate"),v(14,Nr,1,5,"app-cms-enum-record-status-selector",13),a(15,"div",14)(16,"label",15),p(17),s(),a(18,"input",16,2),x("ngModelChange",function(l){return f(c),D(e.dataModel.title,l)||(e.dataModel.title=l),h(l)}),s(),a(20,"em"),p(21),s(),v(22,Pr,5,4,"mat-error",17),s(),a(23,"div",14)(24,"label",18),p(25),_(26,"translate"),s(),a(27,"input",19),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleML,l)||(e.dataModel.titleML=l),h(l)}),s()(),a(28,"div",14)(29,"label",20),p(30),s(),a(31,"input",21,3),x("ngModelChange",function(l){return f(c),D(e.dataModel.titleResourceLanguage,l)||(e.dataModel.titleResourceLanguage=l),h(l)}),s(),a(33,"em"),p(34),s(),v(35,Hr,5,4,"mat-error",17),s(),a(36,"div",22)(37,"select",23,4),x("ngModelChange",function(l){return f(c),D(e.dataModel.actionType,l)||(e.dataModel.actionType=l),h(l)}),v(39,jr,2,2,"option",24),s(),a(40,"em"),p(41),_(42,"translate"),s(),v(43,qr,5,3,"mat-error",17),s(),M(44,"hr"),a(45,"app-cms-module-selector",25),_(46,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectModuleId(l))}),s(),a(47,"app-cms-sitecategory-selector",25),_(48,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectSiteCategory(l))}),s(),a(49,"app-cms-usergroup-selector",25),_(50,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectUserGroup(l))}),s(),a(51,"app-cms-application-selector",25),_(52,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectApplication(l))}),s(),a(53,"app-cms-application-selector",25),_(54,"translate"),b("optionChange",function(l){return f(c),h(e.onActionSelectApplicationSource(l))}),s(),a(55,"div",14)(56,"label",26),p(57),s(),a(58,"textarea",27,5),x("ngModelChange",function(l){return f(c),D(e.dataModel.description,l)||(e.dataModel.description=l),h(l)}),s(),a(60,"em"),p(61),s(),v(62,Wr,5,4,"mat-error",17),s()(),a(63,"mat-step",12),_(64,"translate"),a(65,"app-core-userclaimtype-selectionlist",28),b("optionChange",function(l){return f(c),h(e.onActionSelectorUserCategorySelect(l))})("optionSelectAdded",function(l){return f(c),h(e.onActionSelectorUserCategorySelectAdded(l))})("optionSelectRemoved",function(l){return f(c),h(e.onActionSelectorUserCategorySelectRemoved(l))}),s()()(),v(66,zr,9,7,"div",29),s()()()}if(i&2){let c=k(19),m=k(32),l=k(38),A=k(59);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",g(13,49,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),I(" ",g(26,51,"TITLE.TitleML"),""),r(2),R("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),R("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),I("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),R("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(g(42,53,"TITLE.Select_type_of_content")),r(2),u("ngIf",l.errors==null?null:l.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",g(46,55,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",g(48,57,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",g(50,59,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",g(52,61,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",g(54,63,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),R("ngModel",e.dataModel.description),r(3),I("",A.value.length," / 500"),r(),u("ngIf",A.errors==null?null:A.errors.required),r(),U("label",g(64,65,"TITLE.Required_Documents")),r(2),u("optionSelectForce",e.dataCoreClaimTypeIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ae,j,Te,Qe,Je,Fe,Ke,Ce,Me,Ye,Xe,Ze,we,ye,$e,ee,$t,ei,Ue,pi,ui,fi,mi,K,di,Fo,q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function Kr(o,d){if(o&1){let n=y();a(0,"button",12),b("click",function(){f(n);let i=C();return h(i.onActionAdd())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.ADD")))}function Qr(o,d){if(o&1){let n=y();a(0,"button",13),b("click",function(){f(n);let i=C();return h(i.onActionEdit())}),p(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function Jr(o,d){if(o&1){let n=y();a(0,"button",14),b("click",function(){f(n);let i=C();return h(i.onActionButtonReload())}),a(1,"mat-icon",15),_(2,"translate"),p(3,"refresh"),s()()}o&2&&(r(),U("title",g(2,1,"ACTION.RELOAD")))}function Yr(o,d){if(o&1){let n=y();a(0,"mat-tree-node",16),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),M(1,"button",17),p(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),I(" ",n.titleML," ")}}function Xr(o,d){if(o&1){let n=y();a(0,"mat-nested-tree-node")(1,"li")(2,"div",18),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),a(3,"button",19),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),a(4,"mat-icon",20),p(5),s()(),p(6),s(),a(7,"ul"),he(8,21),s()()()}if(o&2){let n=d.$implicit,t=C();r(2),ne("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),Et("aria-label","Toggle "+n.titleML),r(2),I(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),I(" ",n.titleML," "),r(),ne("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Bo=(()=>{let d=class d{constructor(t,i,e,c,m,l,A,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=m,this.publicHelper=l,this.tokenHelper=A,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new X,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ti(Q=>null),this.dataSource=new ci,this.optionChange=new fe,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Q,_e)=>!1,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new X,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(W),S(se),S(Se),S(N),S(O),S(de),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),w(1,1),p(2),_(3,"translate"),T(),w(4,2),v(5,Kr,3,3,"button",3)(6,Qr,3,3,"button",4)(7,Jr,4,3,"button",5),T(),w(8,6),M(9,"app-progress-spinner",7),a(10,"mat-tree",8),v(11,Yr,3,7,"mat-tree-node",9)(12,Xr,9,7,"mat-nested-tree-node",10),s(),T(),he(13,11),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",g(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,le,ni,oi,ri,si,li,ii,ai,K,Nt,q]});let o=d;return o})();var $r=()=>[5,10,20,100],ea=o=>({display:o});function ta(o,d){if(o&1){let n=y();a(0,"a",37),b("click",function(){f(n);let i=C();return h(i.onActionBackToParentGroup())}),M(1,"i",38),s()}}function ia(o,d){if(o&1){let n=y();a(0,"a",37),b("click",function(){f(n);let i=C();return h(i.onActionBackToParentType())}),M(1,"i",38),s()}}function oa(o,d){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),M(2,"i",41)(3,"br"),s(),a(4,"p",42),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function na(o,d){if(o&1){let n=y();a(0,"div",39)(1,"a",43),b("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),M(2,"i",44)(3,"br"),s(),a(4,"p",42),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function ra(o,d){if(o&1){let n=y();a(0,"div",39)(1,"a",45),b("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),M(2,"i",46)(3,"br"),s(),a(4,"p",42),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function aa(o,d){if(o&1&&(a(0,"mat-header-cell",47),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function la(o,d){if(o&1&&M(0,"select",50),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,ea,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function sa(o,d){if(o&1&&(a(0,"mat-cell",48),_(1,"statusCellClass"),M(2,"i",48),_(3,"statusIconClass"),v(4,la,1,5,"select",49),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ca(o,d){if(o&1&&(a(0,"mat-header-cell",47),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimGroupId==null?null:n.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function da(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)," ")}}function pa(o,d){if(o&1&&(a(0,"mat-header-cell",47),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function ma(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)," ")}}function ua(o,d){if(o&1&&(a(0,"mat-header-cell",47),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function fa(o,d){if(o&1&&(a(0,"mat-cell"),M(1,"i",48),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",g(2,1,n.isRequired))}}function ha(o,d){o&1&&(a(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function Ca(o,d){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),p(3,"more_vert"),s()(),M(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function Sa(o,d){o&1&&M(0,"mat-header-row")}function _a(o,d){if(o&1){let n=y();a(0,"mat-row",53),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&n.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var yi=(()=>{let d=class d extends Mt{constructor(t,i,e,c,m,l,A,H,Q,_e,Pe,We,oe){if(super(t,new ce,We,H,_e),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.activatedRoute=c,this.coreUserClaimTypeService=m,this.coreUserClaimGroupService=l,this.router=A,this.tokenHelper=H,this.cdr=Q,this.translate=_e,this.pageInfo=Pe,this.publicHelper=We,this.dialog=oe,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new X,this.dataModelCoreUserClaimTypeResult=new L,this.dataModelCoreUserClaimGroupResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.tabledisplayedColumnsMobileSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:He=>this.onSubmitOptionsSearch(He)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Y.Descending,this.requestLinkUserClaimTypeId>0){let He=new z;He.propertyName="LinkUserClaimTypeId",He.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(He)}if(this.requestLinkUserClaimGroupId>0){let He=new z;He.propertyName="LinkUserClaimGroupId",He.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(He)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let t=new F;t.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ce);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimHeaderId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkUserClaimGroupId||t.linkUserClaimGroupId===0||!t.linkUserClaimTypeId||t.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(m,l,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};d.\u0275fac=function(i){return new(i||d)(S(xe),S(V),S(Ne),S(Dt),S(te),S(se),S(Be),S(de),S(N),S(P),S(tt),S(O),S(Se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-list"]],features:[J],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(l){return f(c),D(e.viewGuideNotice,l)||(e.viewGuideNotice=l),h(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),w(1,4),a(2,"app-core-userclaimgroup-tree",5),b("optionChange",function(l){return f(c),h(e.onActionSelectorSelect(l))}),s(),T(),he(3,6)(4,7),w(5,8),v(6,ta,2,0,"a",9)(7,ia,2,0,"a",9),a(8,"a",10),b("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(9,"i",11),s(),a(10,"a",10),b("click",function(){return f(c),h(e.onActionButtonReload())}),M(11,"i",12),s(),T(),w(12,13),a(13,"a",14),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(14,"mat-slide-toggle",15),p(15),_(16,"translate"),s(),a(17,"a",14),b("click",function(){return f(c),h(e.onActionButtonStatist())}),M(18,"mat-slide-toggle",15),p(19),_(20,"translate"),s(),T(),w(21,16),v(22,oa,7,3,"div",17),T(),w(23,18),v(24,na,7,3,"div",17)(25,ra,7,3,"div",17),T(),w(26,19),a(27,"app-cms-search-list",20),x("optionsChange",function(l){return f(c),D(e.optionsSearch,l)||(e.optionsSearch=l),h(l)}),s(),a(28,"app-cms-statist-list",20),x("optionsChange",function(l){return f(c),D(e.optionsStatist,l)||(e.optionsStatist=l),h(l)}),s(),T(),w(29,21),a(30,"mat-table",22,0),b("matSortChange",function(){f(c);let l=k(31);return h(e.onTableSortData(l))}),w(32,23),v(33,aa,2,1,"mat-header-cell",24)(34,sa,5,7,"mat-cell",25),T(),w(35,26),v(36,ca,2,1,"mat-header-cell",24)(37,da,3,4,"mat-cell",27),T(),w(38,28),v(39,pa,2,1,"mat-header-cell",24)(40,ma,3,4,"mat-cell",27),T(),w(41,29),v(42,ua,2,1,"mat-header-cell",24)(43,fa,3,3,"mat-cell",27),T(),w(44,30),v(45,ha,3,3,"mat-header-cell",31)(46,Ca,6,1,"mat-cell",32),T(),v(47,Sa,1,0,"mat-header-row",33)(48,_a,1,6,"mat-row",34),s(),T(),w(49,35),a(50,"mat-paginator",36,1),b("page",function(l){return f(c),h(e.onTablePageingData(l))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimGroupId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),u("ngIf",e.requestLinkUserClaimGroupId>0),r(),u("ngIf",e.requestLinkUserClaimTypeId>0),r(7),u("checked",e.optionsSearch.data.show),r(),I("",g(16,25,"ACTION.SEARCH")," "),r(3),u("checked",e.optionsStatist.data.show),r(),I("",g(20,27,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),R("options",e.optionsSearch),r(),R("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(17),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",je(29,$r)))},dependencies:[Oe,j,ze,Ee,le,ee,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,ht,Ct,bt,vt,It,St,Bo,q,Vt,gt,_t,Gt],encapsulation:2});let o=d;return o})();var ga=()=>[5,10,20,100],Ia=o=>({display:o});function ba(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",39),b("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),M(2,"i",40)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function va(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",41),b("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),M(2,"i",42)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function Ma(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",43),b("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),M(2,"i",44)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function ya(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function wa(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Ta(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ea(o,d){if(o&1&&M(0,"select",48),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Ia,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Aa(o,d){if(o&1&&(a(0,"mat-cell",46),_(1,"statusCellClass"),M(2,"i",46),_(3,"statusIconClass"),v(4,Ea,1,5,"select",47),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Ra(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Da(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.titleML," ")}}function xa(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkSiteCategoryId==null?null:n.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function ka(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Ua(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkModuleId==null?null:n.fieldsInfo.linkModuleId.fieldTitle," ")}}function Ga(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function La(o,d){o&1&&(a(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function Va(o,d){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),p(3,"more_vert"),s()(),M(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function Oa(o,d){o&1&&M(0,"mat-header-row")}function Fa(o,d){if(o&1){let n=y();a(0,"mat-row",51),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var No=(()=>{let d=class d extends Mt{constructor(t,i,e,c,m,l,A,H,Q,_e,Pe,We){super(t,new X,Pe,A,Q),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=c,this.coreSiteCategoryService=m,this.router=l,this.tokenHelper=A,this.cdr=H,this.translate=Q,this.pageInfo=_e,this.publicHelper=Pe,this.dialog=We,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreModuleResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:oe=>this.onSubmitOptionsSearch(oe)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Y.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getModule(),this.getSiteCategory()}getModule(){let t=new F;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let t=new F;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new X);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(m,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(se),S(V),S(Ne),S(Yt),S(So),S(Be),S(de),S(N),S(P),S(tt),S(O),S(Se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-list"]],features:[J],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(l){return f(c),D(e.viewGuideNotice,l)||(e.viewGuideNotice=l),h(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),w(1,4),p(2," -------------------------------------- "),T(),he(3,5)(4,6),w(5,7),a(6,"a",8),b("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),s(),a(8,"a",8),b("click",function(){return f(c),h(e.onActionButtonReload())}),M(9,"i",10),s(),T(),w(10,11),a(11,"a",12),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),p(13),_(14,"translate"),s(),a(15,"a",12),b("click",function(){return f(c),h(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),p(17),_(18,"translate"),s(),T(),w(19,14),v(20,ba,7,3,"div",15),T(),w(21,16),v(22,va,7,3,"div",15)(23,Ma,7,3,"div",15),a(24,"div",17)(25,"a",18),b("click",function(){return f(c),h(e.onActionButtonDetailList(e.tableRowSelected))}),a(26,"mat-icon"),p(27,"view_module"),s()(),a(28,"p",19),p(29),_(30,"translate"),s()(),T(),w(31,20),a(32,"app-cms-search-list",21),x("optionsChange",function(l){return f(c),D(e.optionsSearch,l)||(e.optionsSearch=l),h(l)}),s(),a(33,"app-cms-statist-list",21),x("optionsChange",function(l){return f(c),D(e.optionsStatist,l)||(e.optionsStatist=l),h(l)}),s(),T(),w(34,22),a(35,"mat-table",23,0),b("matSortChange",function(){f(c);let l=k(36);return h(e.onTableSortData(l))}),w(37,24),v(38,ya,2,1,"mat-header-cell",25)(39,wa,2,1,"mat-cell",26),T(),w(40,27),v(41,Ta,2,1,"mat-header-cell",25)(42,Aa,5,7,"mat-cell",28),T(),w(43,29),v(44,Ra,2,1,"mat-header-cell",25)(45,Da,2,1,"mat-cell",26),T(),w(46,30),v(47,xa,2,1,"mat-header-cell",25)(48,ka,3,4,"mat-cell",26),T(),w(49,31),v(50,Ua,2,1,"mat-header-cell",25)(51,Ga,3,4,"mat-cell",26),T(),w(52,32),v(53,La,3,3,"mat-header-cell",33)(54,Va,6,1,"mat-cell",34),T(),v(55,Oa,1,0,"mat-header-row",35)(56,Fa,1,6,"mat-row",36),s(),T(),w(57,37),a(58,"mat-paginator",38,1),b("page",function(l){return f(c),h(e.onTablePageingData(l))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),u("checked",e.optionsSearch.data.show),r(),I("",g(14,24,"ACTION.SEARCH")," "),r(3),u("checked",e.optionsStatist.data.show),r(),I("",g(18,26,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(30,28,"ACTION.Components")),r(3),R("options",e.optionsSearch),r(),R("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",je(30,ga)))},dependencies:[Oe,j,ze,Ee,le,ee,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,ht,Ct,bt,vt,It,St,q,Vt,gt,_t],encapsulation:2});let o=d;return o})();var Ba=()=>[5,10,20,100],Na=o=>({display:o});function Pa(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",39),b("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),M(2,"i",40)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function Ha(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",41),b("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),M(2,"i",42)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function ja(o,d){if(o&1){let n=y();a(0,"div",17)(1,"a",43),b("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),M(2,"i",44)(3,"br"),s(),a(4,"p",19),p(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function qa(o,d){o&1&&(a(0,"mat-header-cell",45),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.PICTURE")," "))}function Wa(o,d){if(o&1&&(M(0,"img",47),_(1,"cmsthumbnail")),o&2){let n=C().$implicit;U("src",g(1,1,n.linkMainImageIdSrc),ge)}}function za(o,d){if(o&1&&(a(0,"mat-cell"),v(1,Wa,2,3,"img",46),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function Ka(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Qa(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Ja(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ya(o,d){if(o&1&&M(0,"select",50),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Na,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Xa(o,d){if(o&1&&(a(0,"mat-cell",48),_(1,"statusCellClass"),M(2,"i",48),_(3,"statusIconClass"),v(4,Ya,1,5,"select",49),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Za(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function $a(o,d){if(o&1&&(a(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.titleML," ")}}function el(o,d){if(o&1&&(a(0,"mat-header-cell",45),p(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.kind==null?null:n.fieldsInfo.kind.fieldTitle," ")}}function tl(o,d){if(o&1&&(a(0,"mat-cell"),p(1),_(2,"enums"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.kind,t.dataModelEnumUserClaimKindsResult.listItems)," ")}}function il(o,d){o&1&&(a(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function ol(o,d){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),p(3,"more_vert"),s()(),M(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function nl(o,d){o&1&&M(0,"mat-header-row")}function rl(o,d){if(o&1){let n=y();a(0,"mat-row",53),b("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ne("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Po=(()=>{let d=class d extends Mt{constructor(t,i,e,c,m,l,A,H,Q,_e,Pe){super(t,new ie,_e,l,H),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreEnumService=c,this.router=m,this.tokenHelper=l,this.cdr=A,this.translate=H,this.pageInfo=Q,this.publicHelper=_e,this.dialog=Pe,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreUserGroupResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.dataModelEnumUserClaimKindsResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Y.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ie);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Y.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Y.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(m,l,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(e,l,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(A=>{i.set(A,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(e)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(te),S(V),S(Ne),S(W),S(Be),S(de),S(N),S(P),S(tt),S(O),S(Se))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-list"]],features:[J],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(l){return f(c),D(e.viewGuideNotice,l)||(e.viewGuideNotice=l),h(l)}),b("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),w(1,4),p(2," -------------------------------------- "),T(),he(3,5)(4,6),w(5,7),a(6,"a",8),b("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),s(),a(8,"a",8),b("click",function(){return f(c),h(e.onActionButtonReload())}),M(9,"i",10),s(),T(),w(10,11),a(11,"a",12),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),p(13),_(14,"translate"),s(),a(15,"a",12),b("click",function(){return f(c),h(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),p(17),_(18,"translate"),s(),T(),w(19,14),v(20,Pa,7,3,"div",15),T(),w(21,16),v(22,Ha,7,3,"div",15)(23,ja,7,3,"div",15),a(24,"div",17)(25,"a",18),b("click",function(){return f(c),h(e.onActionButtonDetailList(e.tableRowSelected))}),a(26,"mat-icon"),p(27,"view_module"),s()(),a(28,"p",19),p(29),_(30,"translate"),s()(),T(),w(31,20),a(32,"app-cms-search-list",21),x("optionsChange",function(l){return f(c),D(e.optionsSearch,l)||(e.optionsSearch=l),h(l)}),s(),a(33,"app-cms-statist-list",21),x("optionsChange",function(l){return f(c),D(e.optionsStatist,l)||(e.optionsStatist=l),h(l)}),s(),T(),w(34,22),a(35,"mat-table",23,0),b("matSortChange",function(){f(c);let l=k(36);return h(e.onTableSortData(l))}),w(37,24),v(38,qa,3,3,"mat-header-cell",25)(39,za,2,1,"mat-cell",26),T(),w(40,27),v(41,Ka,2,1,"mat-header-cell",25)(42,Qa,2,1,"mat-cell",26),T(),w(43,28),v(44,Ja,2,1,"mat-header-cell",25)(45,Xa,5,7,"mat-cell",29),T(),w(46,30),v(47,Za,2,1,"mat-header-cell",25)(48,$a,2,1,"mat-cell",26),T(),w(49,31),v(50,el,2,1,"mat-header-cell",25)(51,tl,3,4,"mat-cell",26),T(),w(52,32),v(53,il,3,3,"mat-header-cell",33)(54,ol,6,1,"mat-cell",34),T(),v(55,nl,1,0,"mat-header-row",35)(56,rl,1,6,"mat-row",36),s(),T(),w(57,37),a(58,"mat-paginator",38,1),b("page",function(l){return f(c),h(e.onTablePageingData(l))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),R("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),u("checked",e.optionsSearch.data.show),r(),I("",g(14,24,"ACTION.SEARCH")," "),r(3),u("checked",e.optionsStatist.data.show),r(),I("",g(18,26,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(30,28,"ACTION.USED_ITEMS")),r(3),R("options",e.optionsSearch),r(),R("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",je(30,Ba)))},dependencies:[Oe,j,ze,Ee,le,ee,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,ht,Ct,bt,vt,It,St,q,To,Lt,gt,_t],encapsulation:2});let o=d;return o})();var al=[{path:"",children:[{path:"group",component:No},{path:"groupdetail",component:yi},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:yi},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:yi},{path:"type",component:Po},{path:"content",component:Wt},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Wt},{path:"content/LinkSiteId/:LinkSiteId",component:Wt},{path:"content/LinkUserId/:LinkUserId",component:Wt},{path:"checklist",component:ki},{path:"checklist/:LinkSiteId/:LinkUserId",component:ki}]}],Ho=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=Kt({type:d}),d.\u0275inj=zt({imports:[Ei.forChild(al),Ei]});let o=d;return o})();var Id=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=Kt({type:d}),d.\u0275inj=zt({providers:[Yt,W,Ut,te,se,xe,Ne],imports:[io,ro,Ho,ao.withConfig({warnOnNgModelWithFormControl:"never"}),Ro,Do,Io]});let o=d;return o})();export{Id as CoreUserClaimModule};
