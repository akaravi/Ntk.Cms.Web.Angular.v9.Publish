import{a as ye}from"./chunk-XKVSV2Y3.js";import{a as Ee}from"./chunk-OXDJPOYD.js";import"./chunk-DSL37P2R.js";import{b as Ai}from"./chunk-ZWW35NG7.js";import{a as fe}from"./chunk-YM6JM7UG.js";import{$a as gi,Ad as we,Cc as ge,Dd as Ct,Id as Ri,L as Rt,La as Z,M as At,Ma as $,Na as Ge,Nc as st,O as ui,P as fi,Sc as _e,Ta as He,Tc as Me,Ub as Ue,Vb as qe,Wa as oe,Wb as We,Xb as ct,Yb as Ke,Zb as Qe,_a as Ci,aa as li,ab as _i,da as hi,ec as ze,fc as Je,gc as Xe,hc as Ye,hd as Ie,ic as Ze,jc as $e,kc as et,kd as be,lc as tt,mb as Ti,mc as it,nb as V,nc as ot,p as mt,pd as St,s as pt,sa as Oe,sb as Ce,t as xe,tb as B,td as ve,v as De,vb as Q,x as ut,xd as at,y as Ve,yb as ft}from"./chunk-KG6LB45I.js";import{b as F,c as j,p as N}from"./chunk-JS5Q74LM.js";import{Cd as ht,Db as J,Dc as ke,Dd as ie,Eb as X,Fb as Y,Fc as lt,Ge as je,Hd as K,Ib as te,Id as Fe,Ig as Ht,Jd as ee,Jg as Pt,Kb as m,Kg as Ft,La as s,Lb as G,Lc as pi,Lg as jt,Ma as p,Mb as C,Mg as Ut,Ng as qt,Og as Wt,Pg as Kt,Qb as L,Qd as q,Qg as Qt,Rb as k,Sb as x,Ud as Mi,Vb as Re,Wb as Ae,Yb as M,Za as z,Zb as I,ab as v,bg as Ii,cb as f,cg as bi,da as si,dq as W,eb as Te,fd as Be,gc as H,gd as Si,gg as vi,hd as Ne,ja as O,ka as ai,kd as mi,kg as wi,lb as a,lg as Lt,mb as l,mg as kt,nb as _,ng as xt,ob as w,og as Dt,pb as E,qb as le,qg as Vt,ra as h,rb as y,rg as Ei,sa as S,sg as Bt,td as Pe,tg as Nt,ub as b,ug as Ot,vd as U,vg as Gt,wb as g,xc as Le,zb as oi,zc as P,zd as he,zg as yi}from"./chunk-DVLKAY7Q.js";var Li=(()=>{let r=class r{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog"]],decls:1,vars:0,template:function(i,t){i&1&&_(0,"router-outlet")},dependencies:[Si],encapsulation:2});let o=r;return o})();var so=["vform"];function ao(o,r){if(o&1){let n=y();a(0,"div",18)(1,"button",19),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",20),m(3),M(4,"translate"),l(),a(5,"button",21),_(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var ki=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Ht,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Ht,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(he.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(xt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&J(so,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),_(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",8,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),_(10,"app-cms-site-selector",9),M(11,"translate"),_(12,"app-cms-user-selector",9),M(13,"translate"),_(14,"app-cms-member-selector",9),M(15,"translate"),a(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),a(19,"input",12,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),a(24,"input",14,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),a(29,"input",16,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,ao,9,6,"div",17),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,ut,De,oe,at,Ct,St,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var lo=["vform"];function co(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var xi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Ht,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(xt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(i,t){if(i&1&&J(lo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,co,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var mo=()=>[5,10,20,100],po=o=>({display:o});function uo(o,r){if(o&1){let n=y();a(0,"a",42),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",43),l()}}function fo(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function ho(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",48),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function So(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",50),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Co(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewContent(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.CONTENT")))}function go(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function _o(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Mo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Io(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function bo(o,r){if(o&1&&_(0,"select",57),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,po,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function vo(o,r){if(o&1&&(a(0,"mat-cell",55),M(1,"statusCellClass"),_(2,"i",55),M(3,"statusIconClass"),v(4,bo,1,5,"select",56),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function wo(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Eo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function yo(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function To(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Ro(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ao(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function Lo(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function ko(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function xo(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Do(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function Vo(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Bo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function No(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Oo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Go(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Ho(o,r){if(o&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Po(o,r){o&1&&_(0,"mat-header-row")}function Fo(o,r){if(o&1){let n=y();a(0,"mat-row",60),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Di=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Ht,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ht);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(xi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(xt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-list"]],features:[z],decls:64,vars:23,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5),w(4,6),a(5,"div",7),_(6,"div",8)(7,"div",9),l(),E(),le(8,6),w(9,10),v(10,uo,2,0,"a",11),a(11,"a",12),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(12,"i",13),l(),a(13,"a",12),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(14,"i",14),l(),E(),le(15,15)(16,16),w(17,17),v(18,fo,7,3,"div",18)(19,ho,7,3,"div",18)(20,So,7,3,"div",18)(21,Co,7,3,"div",18)(22,go,7,3,"div",18),E(),w(23,19),a(24,"app-cms-search-list",20),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(25,"app-cms-statist-list",20),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(26,21),a(27,"mat-table",22,0),b("matSortChange",function(){h(d);let c=te(28);return S(t.onTableSortData(c))}),w(29,23),v(30,_o,2,1,"mat-header-cell",24)(31,Mo,2,1,"mat-cell",25),E(),w(32,26),v(33,Io,2,1,"mat-header-cell",24)(34,vo,5,7,"mat-cell",27),E(),w(35,28),v(36,wo,2,1,"mat-header-cell",24)(37,Eo,4,5,"mat-cell",25),E(),w(38,29),v(39,yo,2,1,"mat-header-cell",24)(40,To,4,5,"mat-cell",25),E(),w(41,30),v(42,Ro,2,1,"mat-header-cell",24)(43,Ao,2,1,"mat-cell",25),E(),w(44,31),v(45,Lo,2,1,"mat-header-cell",24)(46,ko,2,1,"mat-cell",25),E(),w(47,32),v(48,xo,2,1,"mat-header-cell",24)(49,Do,2,1,"mat-cell",25),E(),w(50,33),v(51,Vo,2,1,"mat-header-cell",24)(52,Bo,2,1,"mat-cell",25),E(),w(53,34),v(54,No,2,1,"mat-header-cell",24)(55,Oo,2,1,"mat-cell",25),E(),w(56,35),v(57,Go,3,3,"mat-header-cell",36)(58,Ho,6,1,"mat-cell",37),E(),v(59,Po,1,0,"mat-header-row",38)(60,Fo,1,6,"mat-row",39),l(),E(),w(61,40),a(62,"mat-paginator",41,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(10),f("ngIf",t.requestLinkSiteId>0),s(8),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(22,mo)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var jo=["vform"];function Uo(o,r){if(o&1){let n=y();a(0,"div",18)(1,"button",19),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",20),m(3),M(4,"translate"),l(),a(5,"button",21),_(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Vi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Pt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Pt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(he.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(kt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&J(jo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),_(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",8,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),_(10,"app-cms-site-selector",9),M(11,"translate"),_(12,"app-cms-user-selector",9),M(13,"translate"),_(14,"app-cms-member-selector",9),M(15,"translate"),a(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),a(19,"input",12,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),a(24,"input",14,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),a(29,"input",16,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,Uo,9,6,"div",17),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,ut,De,oe,at,Ct,St,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var qo=["vform"];function Wo(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Bi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Pt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(kt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,t){if(i&1&&J(qo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),_(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,Wo,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Ko=()=>[5,10,20,100],Qo=o=>({display:o});function zo(o,r){if(o&1){let n=y();a(0,"a",41),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",42),l()}}function Jo(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Xo(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",47),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Yo(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",49),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Zo(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function $o(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function en(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function tn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function on(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function nn(o,r){if(o&1&&_(0,"select",56),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,Qo,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function rn(o,r){if(o&1&&(a(0,"mat-cell",54),M(1,"statusCellClass"),_(2,"i",54),M(3,"statusIconClass"),v(4,nn,1,5,"select",55),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function sn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function an(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function ln(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function cn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function dn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function mn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function pn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function un(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function fn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function hn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function Sn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Cn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function gn(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function _n(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Mn(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function In(o,r){if(o&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function bn(o,r){o&1&&_(0,"mat-header-row")}function vn(o,r){if(o&1){let n=y();a(0,"mat-row",59),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ni=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Pt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Bi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(kt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-like-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,zo,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Jo,7,3,"div",17)(23,Xo,7,3,"div",17)(24,Yo,7,3,"div",17)(25,Zo,7,3,"div",17)(26,$o,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,en,2,1,"mat-header-cell",23)(35,tn,2,1,"mat-cell",24),E(),w(36,25),v(37,on,2,1,"mat-header-cell",23)(38,rn,5,7,"mat-cell",26),E(),w(39,27),v(40,sn,2,1,"mat-header-cell",23)(41,an,4,5,"mat-cell",24),E(),w(42,28),v(43,ln,2,1,"mat-header-cell",23)(44,cn,4,5,"mat-cell",24),E(),w(45,29),v(46,dn,2,1,"mat-header-cell",23)(47,mn,2,1,"mat-cell",24),E(),w(48,30),v(49,pn,2,1,"mat-header-cell",23)(50,un,2,1,"mat-cell",24),E(),w(51,31),v(52,fn,2,1,"mat-header-cell",23)(53,hn,2,1,"mat-cell",24),E(),w(54,32),v(55,Sn,2,1,"mat-header-cell",23)(56,Cn,2,1,"mat-cell",24),E(),w(57,33),v(58,gn,2,1,"mat-header-cell",23)(59,_n,2,1,"mat-cell",24),E(),w(60,34),v(61,Mn,3,3,"mat-header-cell",35)(62,In,6,1,"mat-cell",36),E(),v(63,bn,1,0,"mat-header-row",37)(64,vn,1,6,"mat-row",38),l(),E(),w(65,39),a(66,"mat-paginator",40,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(30,Ko)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var wn=["vform"];function En(o,r){if(o&1){let n=y();a(0,"div",27)(1,"button",28),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",29),m(3),M(4,"translate"),l(),a(5,"button",30),_(6,"i",29),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Oi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new jt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new jt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(he.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Dt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&J(wn,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",7),_(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",11,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),_(10,"app-cms-site-selector",12),M(11,"translate"),_(12,"app-cms-user-selector",12),M(13,"translate"),_(14,"app-cms-member-selector",12),M(15,"translate"),a(16,"div",13)(17,"label",14),m(18,"ModuleName"),l(),a(19,"input",15,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",13)(22,"label",16),m(23,"ModuleEntityName"),l(),a(24,"input",17,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",13)(27,"label",18),m(28,"ModuleEntityId"),l(),a(29,"input",19,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),a(31,"div",13)(32,"label",20),m(33,"SubjectBody"),l(),a(34,"input",21,4),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectBody,c)||(t.dataModel.subjectBody=c),S(c)}),l()(),a(36,"div",13)(37,"label",22),m(38,"AdminResultProcess"),l(),a(39,"textarea",23,5),x("ngModelChange",function(c){return h(d),k(t.dataModel.adminResultProcess,c)||(t.dataModel.adminResultProcess=c),S(c)}),m(41,"        "),l()(),a(42,"div",13)(43,"label",24),m(44,"SubjectUrl"),l(),a(45,"textarea",25,6),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectUrl,c)||(t.dataModel.subjectUrl=c),S(c)}),m(47,"        "),l()(),v(48,En,9,6,"div",26),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,21,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,23,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,25,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(5),L("ngModel",t.dataModel.subjectBody),s(5),L("ngModel",t.dataModel.adminResultProcess),s(6),L("ngModel",t.dataModel.subjectUrl),s(3),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,Rt,At,ut,De,oe,at,Ct,St,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var yn=["vform"];function Tn(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new jt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(he.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Dt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,t){if(i&1&&J(yn,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,Tn,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Rn=()=>[5,10,20,100],An=o=>({display:o});function Ln(o,r){if(o&1){let n=y();a(0,"a",43),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",44),l()}}function kn(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function xn(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",49),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Dn(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",51),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Vn(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",53)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function Bn(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",54)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function Nn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function On(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Gn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Hn(o,r){if(o&1&&_(0,"select",58),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,An,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Pn(o,r){if(o&1&&(a(0,"mat-cell",56),M(1,"statusCellClass"),_(2,"i",56),M(3,"statusIconClass"),v(4,Hn,1,5,"select",57),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Fn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function jn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Un(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function qn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Wn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Kn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function Qn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function zn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Jn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Xn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function Yn(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Zn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function $n(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.subjectBody==null?null:n.fieldsInfo.subjectBody.fieldTitle," ")}}function er(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.subjectBody," ")}}function tr(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.adminResultProcess==null?null:n.fieldsInfo.adminResultProcess.fieldTitle," ")}}function ir(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.adminResultProcess," ")}}function or(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function nr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function rr(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function sr(o,r){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function ar(o,r){o&1&&_(0,"mat-header-row")}function lr(o,r){if(o&1){let n=y();a(0,"mat-row",61),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Hi=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new jt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Dt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-list"]],features:[z],decls:74,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Ln,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,kn,7,3,"div",17)(23,xn,7,3,"div",17)(24,Dn,7,3,"div",17)(25,Vn,7,3,"div",17)(26,Bn,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,Nn,2,1,"mat-header-cell",23)(35,On,2,1,"mat-cell",24),E(),w(36,25),v(37,Gn,2,1,"mat-header-cell",23)(38,Pn,5,7,"mat-cell",26),E(),w(39,27),v(40,Fn,2,1,"mat-header-cell",23)(41,jn,4,5,"mat-cell",24),E(),w(42,28),v(43,Un,2,1,"mat-header-cell",23)(44,qn,4,5,"mat-cell",24),E(),w(45,29),v(46,Wn,2,1,"mat-header-cell",23)(47,Kn,2,1,"mat-cell",24),E(),w(48,30),v(49,Qn,2,1,"mat-header-cell",23)(50,zn,2,1,"mat-cell",24),E(),w(51,31),v(52,Jn,2,1,"mat-header-cell",23)(53,Xn,2,1,"mat-cell",24),E(),w(54,32),v(55,Yn,2,1,"mat-header-cell",23)(56,Zn,2,1,"mat-cell",24),E(),w(57,33),v(58,$n,2,1,"mat-header-cell",23)(59,er,2,1,"mat-cell",24),E(),w(60,34),v(61,tr,2,1,"mat-header-cell",23)(62,ir,2,1,"mat-cell",24),E(),w(63,35),v(64,or,2,1,"mat-header-cell",23)(65,nr,2,1,"mat-cell",24),E(),w(66,36),v(67,rr,3,3,"mat-header-cell",37)(68,sr,6,1,"mat-cell",38),E(),v(69,ar,1,0,"mat-header-row",39)(70,lr,1,6,"mat-row",40),l(),E(),w(71,41),a(72,"mat-paginator",42,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(38),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(30,Rn)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var cr=["vform"];function dr(o,r){if(o&1){let n=y();a(0,"div",17)(1,"button",18),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",19),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Pi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Ft,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Ft,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(he.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Lt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&J(cr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),_(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),_(10,"app-cms-site-selector",8),M(11,"translate"),_(12,"app-cms-user-selector",8),M(13,"translate"),_(14,"app-cms-member-selector",8),M(15,"translate"),a(16,"div",9)(17,"label",10),m(18,"ModuleName"),l(),a(19,"input",11,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",9)(22,"label",12),m(23,"ModuleEntityName"),l(),a(24,"input",13,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",9)(27,"label",14),m(28,"ModuleEntityId"),l(),a(29,"input",15,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,dr,5,3,"div",16),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,ut,De,oe,at,Ct,St,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var mr=["vform"];function pr(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Ft,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Lt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(i,t){if(i&1&&J(mr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,pr,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var ur=()=>[5,10,20,100],fr=o=>({display:o});function hr(o,r){if(o&1){let n=y();a(0,"a",41),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",42),l()}}function Sr(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Cr(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",47),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",48)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function gr(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",49),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",50)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function _r(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",51)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function Mr(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),_(2,"i",52)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function Ir(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function br(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function vr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function wr(o,r){if(o&1&&_(0,"select",56),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,fr,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Er(o,r){if(o&1&&(a(0,"mat-cell",54),M(1,"statusCellClass"),_(2,"i",54),M(3,"statusIconClass"),v(4,wr,1,5,"select",55),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function yr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Rr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Ar(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Lr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function kr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function xr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function Dr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Vr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Br(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function Nr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Or(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function Gr(o,r){if(o&1&&(a(0,"mat-header-cell",53),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Hr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Pr(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Fr(o,r){if(o&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function jr(o,r){o&1&&_(0,"mat-header-row")}function Ur(o,r){if(o&1){let n=y();a(0,"mat-row",59),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ji=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Ft,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Lt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,hr,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Sr,7,3,"div",17)(23,Cr,7,3,"div",17)(24,gr,7,3,"div",17)(25,_r,7,3,"div",17)(26,Mr,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,Ir,2,1,"mat-header-cell",23)(35,br,2,1,"mat-cell",24),E(),w(36,25),v(37,vr,2,1,"mat-header-cell",23)(38,Er,5,7,"mat-cell",26),E(),w(39,27),v(40,yr,2,1,"mat-header-cell",23)(41,Tr,4,5,"mat-cell",24),E(),w(42,28),v(43,Rr,2,1,"mat-header-cell",23)(44,Ar,4,5,"mat-cell",24),E(),w(45,29),v(46,Lr,2,1,"mat-header-cell",23)(47,kr,2,1,"mat-cell",24),E(),w(48,30),v(49,xr,2,1,"mat-header-cell",23)(50,Dr,2,1,"mat-cell",24),E(),w(51,31),v(52,Vr,2,1,"mat-header-cell",23)(53,Br,2,1,"mat-cell",24),E(),w(54,32),v(55,Nr,2,1,"mat-header-cell",23)(56,Or,2,1,"mat-cell",24),E(),w(57,33),v(58,Gr,2,1,"mat-header-cell",23)(59,Hr,2,1,"mat-cell",24),E(),w(60,34),v(61,Pr,3,3,"mat-header-cell",35)(62,Fr,6,1,"mat-cell",36),E(),v(63,jr,1,0,"mat-header-row",37)(64,Ur,1,6,"mat-row",38),l(),E(),w(65,39),a(66,"mat-paginator",40,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(30,ur)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var qr=["vform"];function Wr(o,r){if(o&1){let n=y();a(0,"div",12)(1,"label",25),m(2),l(),a(3,"input",26),x("ngModelChange",function(i){h(n);let t=g();return k(t.dataModel.expireDateTime,i)||(t.dataModel.expireDateTime=i),S(i)}),l(),_(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,6),l()}if(o&2){let n=te(6),e=g();s(2),G(e.fieldsInfo.expireDateTime==null?null:e.fieldsInfo.expireDateTime.fieldTitle),s(),oi("placeholder",e.fieldsInfo.expireDateTime==null?null:e.fieldsInfo.expireDateTime.fieldTitle),oi("disabled",!(e.fieldsInfo.expireDateTime!=null&&e.fieldsInfo.expireDateTime.accessEditField)),f("matDatepicker",n),L("ngModel",e.dataModel.expireDateTime),s(),f("for",n)}}function Kr(o,r){if(o&1){let n=y();a(0,"div",29)(1,"button",30),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",31),m(3),M(4,"translate"),l(),a(5,"button",32),_(6,"i",31),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var qi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Ut,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Ut,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(he.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Vt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&J(qr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",7),_(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",11,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),a(10,"div",12)(11,"label",13),m(12,"ModuleName"),l(),a(13,"input",14,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(15,"div",12)(16,"label",15),m(17,"ModuleEntityName"),l(),a(18,"input",16,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(20,"div",12)(21,"label",17),m(22,"ModuleEntityId"),l(),a(23,"input",18,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),a(25,"div",12)(26,"label",19),m(27,"showKey"),l(),a(28,"textarea",20,4),x("ngModelChange",function(c){return h(d),k(t.dataModel.showKey,c)||(t.dataModel.showKey=c),S(c)}),l()(),a(30,"div",12)(31,"label",21),m(32,"SubjectTitle"),l(),a(33,"textarea",22,5),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectTitle,c)||(t.dataModel.subjectTitle=c),S(c)}),l()(),v(35,Wr,7,6,"div",23)(36,Kr,9,6,"div",24),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(7),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(5),L("ngModel",t.dataModel.showKey),s(5),L("ngModel",t.dataModel.subjectTitle),s(2),f("ngIf",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,Rt,At,ut,De,Ci,gi,_i,hi,oe,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Qr=["vform"];function zr(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Wi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Ut,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Vt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(i,t){if(i&1&&J(Qr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,zr,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Jr=()=>[5,10,20,100],Xr=o=>({display:o});function Yr(o,r){if(o&1){let n=y();a(0,"a",40),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",41),l()}}function Zr(o,r){if(o&1){let n=y();a(0,"div",42)(1,"a",43),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",44)(3,"br"),l(),a(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function $r(o,r){if(o&1){let n=y();a(0,"div",42)(1,"a",46),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),a(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function es(o,r){if(o&1){let n=y();a(0,"div",42)(1,"a",48),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",49)(3,"br"),l(),a(4,"p",45),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function ts(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function is(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function os(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function ns(o,r){if(o&1&&_(0,"select",53),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,Xr,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function rs(o,r){if(o&1&&(a(0,"mat-cell",51),M(1,"statusCellClass"),_(2,"i",51),M(3,"statusIconClass"),v(4,ns,1,5,"select",52),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ss(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function as(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function ls(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function cs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function ds(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function ms(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function ps(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.showKey==null?null:n.fieldsInfo.showKey.fieldTitle," ")}}function us(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.showKey," ")}}function fs(o,r){if(o&1&&(a(0,"mat-header-cell",50),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function hs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Ss(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Cs(o,r){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function gs(o,r){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),_(4,"td"),a(5,"td"),m(6),l()()()()()),o&2){let n=r.$implicit;s(6),C(" ",n.subjectTitle," ")}}function _s(o,r){o&1&&_(0,"mat-header-row")}function Ms(o,r){if(o&1){let n=y();a(0,"mat-row",56),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ki=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Ut,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.Filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Vt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-list"]],features:[z],decls:62,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Yr,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Zr,7,3,"div",17)(23,$r,7,3,"div",17)(24,es,7,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(27,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(30);return S(t.onTableSortData(c))}),w(31,22),v(32,ts,2,1,"mat-header-cell",23)(33,is,2,1,"mat-cell",24),E(),w(34,25),v(35,os,2,1,"mat-header-cell",23)(36,rs,5,7,"mat-cell",26),E(),w(37,27),v(38,ss,2,1,"mat-header-cell",23)(39,as,2,1,"mat-cell",24),E(),w(40,28),v(41,ls,2,1,"mat-header-cell",23)(42,cs,2,1,"mat-cell",24),E(),w(43,29),v(44,ds,2,1,"mat-header-cell",23)(45,ms,2,1,"mat-cell",24),E(),w(46,30),v(47,ps,2,1,"mat-header-cell",23)(48,us,2,1,"mat-cell",24),E(),w(49,31),v(50,fs,2,1,"mat-header-cell",23)(51,hs,2,1,"mat-cell",24),E(),w(52,32),v(53,Ss,3,3,"mat-header-cell",33)(54,Cs,6,1,"mat-cell",34),E(),w(55,35),v(56,gs,7,1,"mat-cell",24),E(),v(57,_s,1,0,"mat-header-row",36)(58,Ms,1,6,"mat-row",37),l(),E(),w(59,38),a(60,"mat-paginator",39,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,24,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,26,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(28),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(28,Jr)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,j,Me,_e],encapsulation:2});let o=r;return o})();var Is=["vform"];function bs(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",8),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new qt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(he.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Bt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(Is,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",1),_(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),_(10,"app-cms-site-selector",5),M(11,"translate"),v(12,bs,5,3,"div",6),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,9,"TITLE.SITE")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,xe,De,at,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var vs=["vform"];function ws(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var zi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Bt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(i,t){if(i&1&&J(vs,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,ws,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Es=()=>[5,10,20,100],ys=o=>({display:o});function Ts(o,r){if(o&1){let n=y();a(0,"a",36),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",37),l()}}function Rs(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",39),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",40)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function As(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",42),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",43)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Ls(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function ks(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",39),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewSiteRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.SITE")))}function xs(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Ds(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Vs(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Bs(o,r){if(o&1&&_(0,"select",50),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,ys,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Ns(o,r){if(o&1&&(a(0,"mat-cell",48),M(1,"statusCellClass"),_(2,"i",48),M(3,"statusIconClass"),v(4,Bs,1,5,"select",49),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Os(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Hs(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ps(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Fs(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function js(o,r){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Us(o,r){o&1&&_(0,"mat-header-row")}function qs(o,r){if(o&1){let n=y();a(0,"mat-row",53),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ji=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new qt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Bt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Ts,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Rs,7,3,"div",17)(23,As,7,3,"div",17)(24,Ls,7,3,"div",17)(25,ks,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,xs,2,1,"mat-header-cell",23)(34,Ds,2,1,"mat-cell",24),E(),w(35,25),v(36,Vs,2,1,"mat-header-cell",23)(37,Ns,5,7,"mat-cell",26),E(),w(38,27),v(39,Os,2,1,"mat-header-cell",23)(40,Gs,4,5,"mat-cell",24),E(),w(41,28),v(42,Hs,2,1,"mat-header-cell",23)(43,Ps,2,1,"mat-cell",24),E(),w(44,29),v(45,Fs,3,3,"mat-header-cell",30)(46,js,6,1,"mat-cell",31),E(),v(47,Us,1,0,"mat-header-row",32)(48,qs,1,6,"mat-row",33),l(),E(),w(49,34),a(50,"mat-paginator",35,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(17),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(29,Es)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,st,Me,_e],encapsulation:2});let o=r;return o})();var Ws=["vform"];function Ks(o,r){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let n=g(2);s(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldDescription," is "),s(2),G(I(4,2,"MESSAGE.required"))}}function Qs(o,r){if(o&1){let n=y();a(0,"div",9)(1,"label",10),m(2),l(),a(3,"textarea",11,1),x("ngModelChange",function(i){h(n);let t=g();return k(t.dataModel.description,i)||(t.dataModel.description=i),S(i)}),m(5,"                "),l(),a(6,"em"),m(7),l(),v(8,Ks,5,4,"mat-error",12),l()}if(o&2){let n=te(4),e=g();s(2),G(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription),s(),oi("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),L("ngModel",e.dataModel.description),f("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),s(4),C("",n.value.length," / 500"),s(),f("ngIf",n.errors==null?null:n.errors.required)}}function zs(o,r){if(o&1){let n=y();a(0,"div",13)(1,"button",14),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Kt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Kt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(he.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ot),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(Ws,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",2),_(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),_(10,"app-cms-site-selector",6),M(11,"translate"),v(12,Qs,9,6,"div",7)(13,zs,5,3,"div",8),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,10,"TITLE.SITE")),s(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,Rt,At,ut,De,li,oe,at,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Js=["vform"];function Xs(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Yi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Kt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ot),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(i,t){if(i&1&&J(Js,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),_(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,Xs,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Ys=()=>[5,10,20,100],Zs=o=>({display:o});function $s(o,r){if(o&1){let n=y();a(0,"a",36),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",37),l()}}function ea(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",39),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",40)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function ta(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",42),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",43)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function ia(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",44),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",45)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function oa(o,r){if(o&1){let n=y();a(0,"div",38)(1,"a",39),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewSiteRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),a(4,"p",41),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.SITE")))}function na(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ra(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function sa(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function aa(o,r){if(o&1&&_(0,"select",50),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,Zs,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function la(o,r){if(o&1&&(a(0,"mat-cell",48),M(1,"statusCellClass"),_(2,"i",48),M(3,"statusIconClass"),v(4,aa,1,5,"select",49),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ca(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function da(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function ma(o,r){if(o&1&&(a(0,"mat-header-cell",47),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function pa(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function ua(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function fa(o,r){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function ha(o,r){o&1&&_(0,"mat-header-row")}function Sa(o,r){if(o&1){let n=y();a(0,"mat-row",53),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Zi=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Kt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Ot),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,$s,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,ea,7,3,"div",17)(23,ta,7,3,"div",17)(24,ia,7,3,"div",17)(25,oa,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,na,2,1,"mat-header-cell",23)(34,ra,2,1,"mat-cell",24),E(),w(35,25),v(36,sa,2,1,"mat-header-cell",23)(37,la,5,7,"mat-cell",26),E(),w(38,27),v(39,ca,2,1,"mat-header-cell",23)(40,da,4,5,"mat-cell",24),E(),w(41,28),v(42,ma,2,1,"mat-header-cell",23)(43,pa,2,1,"mat-cell",24),E(),w(44,29),v(45,ua,3,3,"mat-header-cell",30)(46,fa,6,1,"mat-cell",31),E(),v(47,ha,1,0,"mat-header-row",32)(48,Sa,1,6,"mat-row",33),l(),E(),w(49,34),a(50,"mat-paginator",35,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(17),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(29,Ys)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,st,Me,_e],encapsulation:2});let o=r;return o})();var Ca=["vform"];function ga(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",8),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var $i=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Wt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Wt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(he.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Nt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(Ca,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",1),_(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),_(10,"app-cms-site-selector",5),M(11,"translate"),v(12,ga,5,3,"div",6),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,9,"TITLE.SITE")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,xe,De,at,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var _a=["vform"];function Ma(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var eo=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Wt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Nt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(i,t){if(i&1&&J(_a,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),_(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,Ma,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Ia=()=>[5,10,20,100],ba=o=>({display:o});function va(o,r){if(o&1){let n=y();a(0,"a",37),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",38),l()}}function wa(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",41)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Ea(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",43),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",44)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function ya(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",45),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Ta(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function Ra(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Aa(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function La(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function ka(o,r){if(o&1&&_(0,"select",51),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,ba,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function xa(o,r){if(o&1&&(a(0,"mat-cell",49),M(1,"statusCellClass"),_(2,"i",49),M(3,"statusIconClass"),v(4,ka,1,5,"select",50),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Da(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Va(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Ba(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Na(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Oa(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ga(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function Ha(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Pa(o,r){if(o&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Fa(o,r){o&1&&_(0,"mat-header-row")}function ja(o,r){if(o&1){let n=y();a(0,"mat-row",54),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var to=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Wt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($i,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Nt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],features:[z],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2,"id "),m(3," -------------------------------------- "),E(),le(4,5)(5,6),w(6,7),v(7,va,2,0,"a",8),a(8,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(9,"i",10),l(),a(10,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(11,"i",11),l(),E(),w(12,12),a(13,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(14,"mat-slide-toggle",14),m(15),M(16,"translate"),l(),a(17,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(18,"mat-slide-toggle",14),m(19),M(20,"translate"),l(),E(),le(21,15),w(22,16),v(23,wa,7,3,"div",17)(24,Ea,7,3,"div",17)(25,ya,7,3,"div",17)(26,Ta,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,Ra,2,1,"mat-header-cell",23)(35,Aa,2,1,"mat-cell",24),E(),w(36,25),v(37,La,2,1,"mat-header-cell",23)(38,xa,5,7,"mat-cell",26),E(),w(39,27),v(40,Da,2,1,"mat-header-cell",23)(41,Va,4,5,"mat-cell",24),E(),w(42,28),v(43,Ba,2,1,"mat-header-cell",23)(44,Na,4,5,"mat-cell",24),E(),w(45,29),v(46,Oa,2,1,"mat-header-cell",23)(47,Ga,2,1,"mat-cell",24),E(),w(48,30),v(49,Ha,3,3,"mat-header-cell",31)(50,Pa,6,1,"mat-cell",32),E(),v(51,Fa,1,0,"mat-header-row",33)(52,ja,1,6,"mat-row",34),l(),E(),w(53,35),a(54,"mat-paginator",36,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(7),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(16,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(20,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(20),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(29,Ia)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var Ua=["vform"];function qa(o,r){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let n=g(2);s(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldDescription," is "),s(2),G(I(4,2,"MESSAGE.required"))}}function Wa(o,r){if(o&1){let n=y();a(0,"div",9)(1,"label",10),m(2),l(),a(3,"textarea",11,1),x("ngModelChange",function(i){h(n);let t=g();return k(t.dataModel.description,i)||(t.dataModel.description=i),S(i)}),m(5,"                "),l(),a(6,"em"),m(7),l(),v(8,qa,5,4,"mat-error",12),l()}if(o&2){let n=te(4),e=g();s(2),G(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription),s(),oi("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),L("ngModel",e.dataModel.description),f("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),s(4),C("",n.value.length," / 500"),s(),f("ngIf",n.errors==null?null:n.errors.required)}}function Ka(o,r){if(o&1){let n=y();a(0,"div",13)(1,"button",14),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var io=(()=>{let r=class r extends Ee{constructor(e,i,t,d,u,c,R,A,D){super(d,new Qt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(he.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Gt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(Ua,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",2),_(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),_(10,"app-cms-site-selector",6),M(11,"translate"),v(12,Wa,9,6,"div",7)(13,Ka,5,3,"div",8),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,10,"TITLE.SITE")),s(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Ve,mt,pt,xe,Rt,At,ut,De,li,oe,at,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Qa=["vform"];function za(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=g();return S(i.onFormCancel())}),_(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var oo=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new je,this.dataModelResult=new ie,this.dataModel=new Qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Gt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(i,t){if(i&1&&J(Qa,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),_(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),_(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,za,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,be,j],encapsulation:2});let o=r;return o})();var Ja=()=>[5,10,20,100],Xa=o=>({display:o});function Ya(o,r){if(o&1){let n=y();a(0,"a",37),b("click",function(){h(n);let i=g();return S(i.onActionBackToParent())}),_(1,"i",38),l()}}function Za(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewRow(i.tableRowSelected))}),_(2,"i",41)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function $a(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",43),b("click",function(){h(n);let i=g();return S(i.onActionButtonEditRow(i.tableRowSelected))}),_(2,"i",44)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function el(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",45),b("click",function(){h(n);let i=g();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),_(2,"i",46)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function tl(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=g();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),_(2,"i",47)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function il(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ol(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function nl(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function rl(o,r){if(o&1&&_(0,"select",51),o&2){let n=g().$implicit,e=g();f("contentService",e.contentService)("row",n)("ngStyle",Ae(3,Xa,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function sl(o,r){if(o&1&&(a(0,"mat-cell",49),M(1,"statusCellClass"),_(2,"i",49),M(3,"statusIconClass"),v(4,rl,1,5,"select",50),l()),o&2){let n=r.$implicit,e=g();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function al(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function ll(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function cl(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function dl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function ml(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=g();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function pl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit,e=g();s(),C(" ",e.publicHelper.LocaleDateTime(n.createdDate)," ")}}function ul(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function fl(o,r){if(o&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),m(3,"more_vert"),l()(),_(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function hl(o,r){o&1&&_(0,"mat-header-row")}function Sl(o,r){if(o&1){let n=y();a(0,"mat-row",54),b("click",function(){let i=h(n).$implicit,t=g();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=g();Te("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var no=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D,nt,ce,rt){if(super(i,new Qt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=nt,this.publicHelper=ce,this.dialog=rt,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Fe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(oo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Pe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Gt),p(V),p(fe),p(Be),p(N),p(H),p(F),p(Ne),p(Ce),p(B),p(Ge))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--list"]],features:[z],decls:55,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Ya,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),_(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),_(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),_(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),_(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Za,7,3,"div",17)(23,$a,7,3,"div",17)(24,el,7,3,"div",17)(25,tl,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,il,2,1,"mat-header-cell",23)(34,ol,2,1,"mat-cell",24),E(),w(35,25),v(36,nl,2,1,"mat-header-cell",23)(37,sl,5,7,"mat-cell",26),E(),w(38,27),v(39,al,2,1,"mat-header-cell",23)(40,ll,4,5,"mat-cell",24),E(),w(41,28),v(42,cl,2,1,"mat-header-cell",23)(43,dl,4,5,"mat-cell",24),E(),w(44,29),v(45,ml,2,1,"mat-header-cell",23)(46,pl,2,1,"mat-cell",24),E(),w(47,30),v(48,ul,3,3,"mat-header-cell",31)(49,fl,6,1,"mat-cell",32),E(),v(50,hl,1,0,"mat-header-row",33)(51,Sl,1,6,"mat-row",34),l(),E(),w(52,35),a(53,"mat-paginator",36,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(20),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Re(29,Ja)))},dependencies:[Le,P,ke,Oe,He,oe,Ue,qe,We,ct,Ke,Qe,ze,Xe,et,Ye,Je,tt,Ze,$e,it,ot,ve,we,Ie,ge,lt,j,ft,st,Me,_e],encapsulation:2});let o=r;return o})();var Cl=[{path:"",component:Li,children:[{path:"report-abuse",component:Hi,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:Ki},{path:"favorite",component:Di,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:Ni,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:ji,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Zi,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:no,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:Ji,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:to,data:{title:"ROUTE.COREMODULELOG"}}]}],ro=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ai({type:r}),r.\u0275inj=si({imports:[mi.forChild(Cl),mi]});let o=r;return o})();var Mp=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ai({type:r}),r.\u0275inj=si({providers:[Mi,Ii,bi,vi,wi,xt,Ei,kt,yi,Vt,Dt,Lt,Bt,Nt,Ot,Gt,fe],imports:[ro,pi,ui,fi.withConfig({warnOnNgModelWithFormControl:"never"}),Ri,Ai,Ti]});let o=r;return o})();export{Mp as CoreModuleLogModule};
