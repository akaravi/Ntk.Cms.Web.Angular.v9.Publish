"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[2802,799,4121],{3673:(I,T,n)=>{n.d(T,{G:()=>m});var t=n(8239),e=n(8692),M=n(4511),i=n(4537),v=n(4032),g=n(2607);let m=(()=>{class b{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(a,u,h,A,L,s){this.elRef=a,this.renderer=u,this.publicHelper=h,this.cmsToastrService=A,this.cdr=L,this.document=s}getEnumRecordStatus(){var a=this;return(0,t.Z)(function*(){(yield a.publicHelper.getEnumRecordStatus()).listItems.forEach(h=>{const A=document.createElement("option");A.innerHTML=" "+h.title+' <i Class="'+a.iconStatus(h.value)+'"></i>',A.value=h.value.toString(),a.elRef.nativeElement.add(A)}),a.elRef.nativeElement.options.length>0&&a.row&&a.row.recordStatus&&a.renderer.setProperty(a.elRef.nativeElement,"value",a.row.recordStatus)})()}onChange(){const a=this.elRef.nativeElement,u=a.value;this.addLoader(a),this.contentService.setAccessDataType(M.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,u).subscribe(h=>{h.isSuccess?(this.handleSuccessCase(a),this.cmsToastrService.typeSuccessSetStatus(h.errorMessage),this.row.recordStatus=0|u,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(h.errorMessage),this.handleErrorCase(a))},h=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(h),this.handleErrorCase(a)})}handleSuccessCase(a){this.removeBackground(a),this.addSuccess(a),setTimeout(()=>{this.removeBackground(a)},1e3)}handleErrorCase(a){this.removeBackground(a);const u=this.document.createElement("img");u.style.width="20px",u.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const h=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(h,u),setTimeout(()=>{this.renderer.removeChild(h,u)},1e3)}addLoader(a){this.addBackground(a,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(a){this.addBackground(a,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(a,u,h){a.style.background=`#fff url("${u}") no-repeat right 20px center`,a.style.backgroundSize=`${h}px`}removeBackground(a){a.style.background="none"}iconStatus(a){let u="";switch(a){case 1:default:u="fa fa-check";break;case 2:u="fa fa-eye-slash";break;case 3:u="fa fa-times";break;case 4:u="fa fa-hourglass-half";break;case 5:u="far fa-thumbs-down";break;case 6:u="fa fa-archive"}return u}static \u0275fac=function(u){return new(u||b)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(v.i),i.Y36(g.e),i.Y36(i.sBO),i.Y36(e.K0))};static \u0275dir=i.lG2({type:b,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(u,h){1&u&&i.NdJ("change",function(){return h.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return b})()},9084:(I,T,n)=>{n.d(T,{Y:()=>v});var t=n(7241),e=n(7969),M=n(4537),i=n(4511);let v=(()=>{class g{service;constructor(d){this.service=d}transform(d){return!d||d<=0?new t.y:this.service.ServiceGetOneById(d,1e6).pipe((0,e.U)(l=>{var m="";return l.isSuccess&&(l.item.title&&l.item.title.length>0&&(m=l.item.title),l.item.id&&l.item.id>0&&(m.length>0&&(m+=" | "),m+=l.item.id),l.item.domain&&l.item.domain.length>0&&l.item.subDomain&&l.item.subDomain.length>0?(m.length>0&&(m+=" | "),m=m+l.item.subDomain+"."+l.item.domain):l.item.domain&&l.item.domain.length>0&&(m.length>0&&(m+=" | "),m+=l.item.domain)),0===m.length&&(m=d.toString()),m},l=>d.toString()))}static \u0275fac=function(l){return new(l||g)(M.Y36(i._0e,16))};static \u0275pipe=M.Yjl({name:"cmssiteinfo",type:g,pure:!0})}return g})()},5897:(I,T,n)=>{n.d(T,{Y:()=>M});var t=n(4537),e=n(5998);let M=(()=>{class i{sanitizer;constructor(g){this.sanitizer=g}transform(g){return"cms-RecordStatusEnum-cell-"+g}static \u0275fac=function(C){return new(C||i)(t.Y36(e.H7,16))};static \u0275pipe=t.Yjl({name:"statusCellClass",type:i,pure:!0})}return i})()},6639:(I,T,n)=>{n.d(T,{G:()=>M});var t=n(4537),e=n(5998);let M=(()=>{class i{sanitizer;constructor(g){this.sanitizer=g}transform(g,C=!1){let d="";switch(g){case 1:default:d="fa fa-check";break;case 2:d="fa fa-times";break;case 3:d="fa fa-trash";break;case 4:d="fa fa-hourglass-half";break;case 5:d="far fa-thumbs-down";break;case 6:d="fa fa-archive"}return d}static \u0275fac=function(C){return new(C||i)(t.Y36(e.H7,16))};static \u0275pipe=t.Yjl({name:"statusIconClass",type:i,pure:!0})}return i})()},3914:(I,T,n)=>{n.d(T,{s:()=>i});var t=n(4537),e=n(9154);let M=(()=>{class v{activeModal;static nextId=0;id=++v.nextId;title;message;btnOkText;btnCancelText;constructor(C){this.activeModal=C}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(d){return new(d||v)(t.Y36(e.Kz))};static \u0275cmp=t.Xpm({type:v,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(d,l){1&d&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return l.dismiss()}),t.TgZ(4,"span",3),t._uU(5,"\xd7"),t.qZA()()(),t._UZ(6,"div",4),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return l.decline()}),t._uU(9),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return l.accept()}),t._uU(11),t.qZA()()),2&d&&(t.xp6(2),t.Oqu(l.title),t.xp6(4),t.Q6J("innerHTML",l.message,t.oJD),t.xp6(3),t.Oqu(l.btnCancelText),t.xp6(2),t.Oqu(l.btnOkText))},encapsulation:2})}return v})(),i=(()=>{class v{modalService;constructor(C){this.modalService=C}confirm(C,d,l="OK",m="Cancel",b="sm"){const y=this.modalService.open(M,{size:b});return y.componentInstance.title=C,y.componentInstance.message=d,y.componentInstance.btnOkText=l,y.componentInstance.btnCancelText=m,y.result}static \u0275fac=function(d){return new(d||v)(t.LFG(e.FF))};static \u0275prov=t.Yz7({token:v,factory:v.\u0275fac})}return v})()},9835:(I,T,n)=>{n.d(T,{v:()=>L});var t=n(4537),e=n(8692),M=n(6707);let i=(()=>{class s{transform(r,_){if(!r)return[];let E=Object.keys(r);return E=E.filter(P=>P&&P.length>0&&P.toLowerCase().indexOf("antiinjection")<0),_&&_.size>0&&(E=E.filter(P=>P&&P.length>0&&_.has(P))),E}static \u0275fac=function(_){return new(_||s)};static \u0275pipe=t.Yjl({name:"listkeys",type:s,pure:!0})}return s})();function v(s,O){1&s&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",8),t.qZA()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function g(s,O){if(1&s&&(t.TgZ(0,"div",9)(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t._uU(4),t.qZA(),t._UZ(5,"div",10),t.qZA()),2&s){const r=O.$implicit,_=t.oxw(2);t.xp6(2),t.Oqu(_.optionFields&&_.optionFields.size>0?_.optionFields.get(r):r),t.xp6(2),t.Oqu(_.dataModel[r])}}function C(s,O){if(1&s&&(t.TgZ(0,"div",3),t.YNc(1,v,8,6,"div",4),t.YNc(2,g,6,2,"div",5),t.ALo(3,"listkeys"),t.qZA()),2&s){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,r.dataModel,r.optionFields))}}function d(s,O){if(1&s&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&s){const r=O.$implicit,_=t.oxw(3);t.xp6(1),t.Oqu(_.optionFields&&_.optionFields.size>0?_.optionFields.get(r):r)}}function l(s,O){if(1&s&&(t.TgZ(0,"div",6),t.YNc(1,d,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r.dataModel[0],r.optionFields))}}function m(s,O){if(1&s&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&s){const r=O.$implicit,_=t.oxw().$implicit;t.xp6(1),t.Oqu(_[r])}}function b(s,O){if(1&s&&(t.TgZ(0,"div",9),t.YNc(1,m,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",10),t.qZA()),2&s){const r=O.$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r,_.optionFields))}}function y(s,O){if(1&s&&(t.TgZ(0,"div",3),t.YNc(1,l,4,4,"div",4),t.YNc(2,b,4,4,"div",5),t.qZA()),2&s){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(1),t.Q6J("ngForOf",r.dataModel)}}function a(s,O){if(1&s&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&s){const r=O.$implicit,_=t.oxw(3);t.xp6(1),t.Oqu(_.optionFields&&_.optionFields.size>0?_.optionFields.get(r):r)}}function u(s,O){if(1&s&&(t.TgZ(0,"div",6),t.YNc(1,a,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&s){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,r.dataModel[0],r.optionFields))}}function h(s,O){if(1&s&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&s){const r=O.$implicit,_=t.oxw(2);t.xp6(1),t.Oqu(_.dataModel[r])}}function A(s,O){if(1&s&&(t.TgZ(0,"div",3),t.YNc(1,u,4,4,"div",4),t.TgZ(2,"div",9),t.YNc(3,h,2,1,"div",11),t.ALo(4,"listkeys"),t._UZ(5,"div",10),t.qZA()()),2&s){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,r.dataModel,r.optionFields))}}let L=(()=>{class s{static nextId=0;id=++s.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(_){return new(_||s)};static \u0275cmp=t.Xpm({type:s,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:5,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(_,E){1&_&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,C,4,5,"div",2),t.YNc(3,y,3,2,"div",2),t.YNc(4,A,6,5,"div",2),t.qZA()()),2&_&&(t.xp6(2),t.Q6J("ngIf",1===E.optionMethod&&E.dataModel),t.xp6(1),t.Q6J("ngIf",2===E.optionMethod&&E.dataModel),t.xp6(1),t.Q6J("ngIf",3===E.optionMethod&&E.dataModel))},dependencies:[e.sg,e.O5,M.X$,i],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return s})()},1797:(I,T,n)=>{n.d(T,{a:()=>R});var t=n(8239),e=n(4537),M=n(92),i=n(4511),v=n(7445),g=n(1927),C=n(3151),d=n(2147),l=n(1528),m=n(7969),b=n(656),y=n(6707),a=n(8692),u=n(1637),h=n(1379),A=n(8659),L=n(3331),s=n(9665),O=n(5738);function r(S,x){if(1&S&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&S){const o=e.oxw();e.MGl("for","app-cms-site-selector-",o.id,""),e.xp6(1),e.Oqu(o.optionLabel)}}function _(S,x){if(1&S&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&S){const o=x.$implicit,p=e.oxw();e.Q6J("value",o)("disabled",p.optionDisabled),e.xp6(2),e.Oqu(p.displayOption(o))}}function E(S,x){if(1&S){const o=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(o);const f=e.oxw();return e.KtG(f.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const P=["*"];let R=(()=>{class S{coreEnumService;translate;cdr;categoryService;static nextId=0;id=++S.nextId;constructor(o,p,f,D){this.coreEnumService=o,this.translate=p,this.cdr=f,this.categoryService=D,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new i.y$4;dataModelSelect=new i.tQj;loading=new b.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}formControl=new M.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,g.O)(""),(0,C.b)(1500),(0,d.x)(),(0,l.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.id:void 0}displayOption(o){return o?o.id:void 0}DataGetAll(o){var p=this;return(0,t.Z)(function*(){const f=new i.Hay;if(f.rowPerPage=20,f.accessLoad=!0,o&&o.length>0){let c=new i.AO3;c=new i.AO3,c.propertyName="username",c.value=o,c.searchType=i.J6G.Contains,c.clauseType=i.ppe.Or,f.filters.push(c),c=new i.AO3,c.propertyName="name",c.value=o,c.searchType=i.J6G.Contains,c.clauseType=i.ppe.Or,f.filters.push(c),c=new i.AO3,c.propertyName="email",c.value=o,c.searchType=i.J6G.Contains,c.clauseType=i.ppe.Or,f.filters.push(c),c=new i.AO3,c.propertyName="lastname",c.value=o,c.searchType=i.J6G.Contains,c.clauseType=i.ppe.Or,f.filters.push(c),o&&"number"==typeof+o&&+o>0&&(c=new i.AO3,c.propertyName="Id",c.value=o,c.searchType=i.J6G.Equal,c.clauseType=i.ppe.Or,f.filters.push(c))}const D=p.constructor.name+"categoryService.ServiceGetAll";return p.loading.Start(D),yield(0,v.z)(p.categoryService.ServiceGetAll(f)).then(c=>(p.dataModelResult=c,p.loading.Stop(D),c.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,m.U)(p=>(p.find(f=>f.id===o.id)||p.push(o),p)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(p=>p.id===o)){const p=this.dataModelResult.listItems.find(f=>f.id===o);return this.dataModelSelect=p,void this.formControl.setValue(p)}this.categoryService.ServiceGetOneById(o).subscribe(p=>{p.isSuccess&&(this.filteredOptions=this.push(p.item),this.dataModelSelect=p.item,this.formControl.setValue(p.item),this.optionChange.emit(p.item))})}else{if(typeof o==typeof i.tQj)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new i.tQj,this.loadOptions()}static \u0275fac=function(p){return new(p||S)(e.Y36(i.FLW),e.Y36(y.sK),e.Y36(e.sBO),e.Y36(i.Z_L))};static \u0275cmp=e.Xpm({type:S,selectors:[["app-cms-member-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:P,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"options"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(p,f){if(1&p&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,r,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(c){return f.onActionSelect(c.option.value)}),e.YNc(6,_,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,E,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&p){const D=e.MAs(5);e.xp6(1),e.Q6J("options",f.loading),e.xp6(1),e.Q6J("ngIf",(null==f.optionLabel?null:f.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",f.optionPlaceholder),e.MGl("id","app-cms-site-selector-",f.id,""),e.Q6J("formControl",f.formControl)("matAutocomplete",D),e.uIk("disabled",!!f.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",f.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,f.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==f.dataModelSelect?null:f.dataModelSelect.id)}},dependencies:[a.sg,a.O5,M.Fj,M.JJ,M.oH,u.XC,h.ey,u.ZL,A.R9,L.Hw,s.Nt,O.O,a.Ov],encapsulation:2})}return S})()}}]);