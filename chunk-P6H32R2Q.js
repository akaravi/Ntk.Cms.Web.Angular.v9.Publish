import{a as Pt}from"./chunk-6ZZLSNUA.js";import{a as Lt}from"./chunk-2ZV7X6IB.js";import{a as Vt}from"./chunk-Z665URNT.js";import{b as Nt}from"./chunk-SBCT7DQV.js";import{a as Ee}from"./chunk-KTHHKWFK.js";import{$a as Me,Ad as Rt,Cc as It,F as pe,G as me,H as ue,Id as kt,L as fe,La as Se,M as he,Ma as Ce,Na as $e,Nc as bt,O as ze,Oc as wt,P as Je,Sc as Et,Ta as et,Tc as Dt,Ub as lt,Vb as st,Wa as U,Wb as ct,Xb as dt,Yb as pt,Zb as mt,_a as ve,aa as ge,ab as ye,bd as be,da as _e,ec as ut,fc as ft,gc as ht,hc as gt,hd as Tt,ic as _t,jc as St,jd as At,kc as Ct,lc as vt,mc as Mt,nb as P,nc as yt,p as ae,s as j,sa as Ze,sb as at,t as le,tb as O,td as xt,v as se,vb as X,x as q,xd as we,y as ce,z as de}from"./chunk-BVJB7GWI.js";import{b as K,c as Q,p as Le}from"./chunk-7OOSSNCB.js";import{Cd as nt,Db as ie,Dc as Ke,Dd as k,Eb as ne,Fb as oe,Fc as Qe,Hd as Ve,Ib as R,Id as ot,Jd as Ie,Kb as d,La as r,Lb as E,Lc as Ue,Ma as S,Mb as g,Qb as y,Qd as z,Rb as I,Sb as b,Ud as rt,Vb as je,Wb as xe,Xe as L,Yb as v,Za as G,Zb as M,_b as Re,ab as C,cb as m,da as $,dq as J,eb as We,ee as N,fd as Xe,gc as W,hd as Ye,ja as B,ka as ee,kd as ke,lb as s,mb as l,nb as D,ob as T,pb as A,qb as He,ra as f,rb as x,sa as h,td as tt,ub as w,vd as Z,wb as _,xc as qe,yc as re,zb as te,zc as H,zd as it}from"./chunk-3VPUT55S.js";var Xt=["vform"];function Yt(t,c){if(t&1){let o=x();s(0,"app-cms-enum-record-status-selector",31),b("modelChange",function(n){f(o);let e=_();return I(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),h(n)}),l()}if(t&2){let o=_();y("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zt(t,c){t&1&&(s(0,"mat-error"),d(1," SecurityKey is "),s(2,"strong"),d(3),v(4,"translate"),l()()),t&2&&(r(3),E(M(4,1,"MESSAGE.required")))}function $t(t,c){if(t&1&&(s(0,"option",32),d(1),l()),t&2){let o=c.$implicit;m("value",o.value),r(),g(" ",o.description," ")}}function ei(t,c){if(t&1&&(s(0,"option",32),d(1),l()),t&2){let o=c.$implicit;m("value",o.value),r(),g(" ",o.description," ")}}function ti(t,c){t&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),v(4,"translate"),l()()),t&2&&(r(3),E(M(4,1,"MESSAGE.required")))}function ii(t,c){if(t&1){let o=x();s(0,"div",15)(1,"label",33),d(2),l(),s(3,"textarea",34,7),b("ngModelChange",function(n){f(o);let e=_();return I(e.dataModel.description,n)||(e.dataModel.description=n),h(n)}),d(5,"        "),l(),s(6,"em"),d(7),l(),C(8,ti,5,3,"mat-error",18),l()}if(t&2){let o=R(4),i=_();r(2),E(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),te("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),g("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function ni(t,c){if(t&1){let o=x();s(0,"div",15)(1,"label",35),d(2),l(),s(3,"input",36),b("ngModelChange",function(n){f(o);let e=_();return I(e.dataModel.expireDate,n)||(e.dataModel.expireDate=n),h(n)}),l(),D(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,8),l()}if(t&2){let o=R(6),i=_();r(2),E(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),r(),m("matDatepicker",o),y("ngModel",i.dataModel.expireDate),r(),m("for",o)}}function oi(t,c){if(t&1){let o=x();s(0,"div",39)(1,"button",40),w("click",function(){f(o);let n=_();return h(n.onFormCancel())}),D(2,"i",41),d(3),v(4,"translate"),l(),s(5,"button",42),D(6,"i",43),d(7),v(8,"translate"),l()()}if(t&2){_();let o=R(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Pe=(()=>{let c=class c extends Vt{constructor(i,n,e,p,u,a,V,F){super(p,new L,a,F),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreDeviceService=p,this.cmsToastrService=u,this.publicHelper=a,this.cdr=V,this.translate=F,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new k,this.dataModelEnumDeviceTypeResult=new k,this.dataModelEnumOperatingSystemTypeResult=new k,this.dataModel=new L,this.formInfo=new Ie,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess(),this.getServiceDeviceTypeEnum(),this.getServiceOperatingSystemTypeEnum()}getServiceDeviceTypeEnum(){this.coreEnumService.ServiceDeviceTypeEnum().subscribe({next:i=>{this.dataModelEnumDeviceTypeResult=i}})}getServiceOperatingSystemTypeEnum(){this.coreEnumService.ServiceOperatingSystemTypeEnum().subscribe({next:i=>{this.dataModelEnumOperatingSystemTypeResult=i}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreDeviceService.ServiceAdd(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectSite(i){if(!i||i.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_site"),this.translate.instant("MESSAGE.Information_site_is_not_clear"));return}this.dataModel.linkSiteId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};c.\u0275fac=function(n){return new(n||c)(S(Ce),S(Se),S(z),S(N),S(P),S(O),S(W),S(K))},c.\u0275cmp=B({type:c,selectors:[["app-core-sitecategory-add"]],viewQuery:function(n,e){if(n&1&&ie(Xt,5),n&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[G],decls:51,vars:30,consts:[["vform","ngForm"],["SecurityKey",""],["PackageName",""],["DeviceIPsAllow",""],["LinkApplicationId",""],["osType","ngModel"],["DeviceType","ngModel"],["Description",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","placeholder","NTK.CMS.APP.1","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","dataModel.packageName",1,"color-highlight"],["matInput","","type","text","name","dataModel.packageName","placeholder","8.8.8.8","minlength","0","maxlength","500","id","dataModel.packageName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceIPsAllow",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceIPsAllow","placeholder","8.8.8.8","minlength","0","maxlength","500","id","dataModel.deviceIPsAllow",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkApplicationId","placeholder","number ","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["id","dataModel.osType","name","dataModel.osType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.deviceType","name","dataModel.deviceType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,e){if(n&1){let p=x();s(0,"div",9),D(1,"app-progress-spinner",10),s(2,"div",11)(3,"p",12),d(4),l(),s(5,"p"),d(6),v(7,"translate"),l(),s(8,"form",13,0),w("ngSubmit",function(){return f(p),h(e.onFormSubmit())}),C(10,Yt,1,5,"app-cms-enum-record-status-selector",14),s(11,"div",15)(12,"label",16),d(13),l(),s(14,"input",17,1),b("ngModelChange",function(a){return f(p),I(e.dataModel.securityKey,a)||(e.dataModel.securityKey=a),h(a)}),l(),s(16,"em"),d(17),l(),C(18,Zt,5,3,"mat-error",18),l(),s(19,"div",15)(20,"label",19),d(21),l(),s(22,"input",20,2),b("ngModelChange",function(a){return f(p),I(e.dataModel.packageName,a)||(e.dataModel.packageName=a),h(a)}),l(),s(24,"em"),d(25),l()(),s(26,"div",15)(27,"label",21),d(28),l(),s(29,"input",22,3),b("ngModelChange",function(a){return f(p),I(e.dataModel.deviceIPsAllow,a)||(e.dataModel.deviceIPsAllow=a),h(a)}),l(),s(31,"em"),d(32),l()(),s(33,"app-cms-site-selector",23),v(34,"translate"),w("optionChange",function(a){return f(p),h(e.onActionSelectSite(a))}),l(),s(35,"div",15)(36,"label",24),d(37),l(),s(38,"input",25,4),b("ngModelChange",function(a){return f(p),I(e.dataModel.linkApplicationId,a)||(e.dataModel.linkApplicationId=a),h(a)}),l()(),s(40,"div",15)(41,"select",26,5),b("ngModelChange",function(a){return f(p),I(e.dataModel.osType,a)||(e.dataModel.osType=a),h(a)}),C(43,$t,2,2,"option",27),l()(),s(44,"div",15)(45,"select",28,6),b("ngModelChange",function(a){return f(p),I(e.dataModel.deviceType,a)||(e.dataModel.deviceType=a),h(a)}),C(47,ei,2,2,"option",27),l()(),C(48,ii,9,5,"div",29)(49,ni,7,4,"div",29)(50,oi,9,7,"div",30),l()()()}if(n&2){let p=R(15),u=R(23),a=R(30);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle),r(),y("ngModel",e.dataModel.securityKey),r(3),g("",p.value.length," / 100"),r(),m("ngIf",p.errors==null?null:p.errors.required),r(3),E(e.fieldsInfo.packageName==null?null:e.fieldsInfo.packageName.fieldTitle),r(),y("ngModel",e.dataModel.packageName),r(3),g("",u.value.length," / 500"),r(3),E(e.fieldsInfo.deviceIPsAllow==null?null:e.fieldsInfo.deviceIPsAllow.fieldTitle),r(),y("ngModel",e.dataModel.deviceIPsAllow),r(3),g("",a.value.length," / 500"),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",M(34,28,"TITLE.SITE")),r(4),E(e.fieldsInfo.linkApplicationId==null?null:e.fieldsInfo.linkApplicationId.fieldTitle),r(),y("ngModel",e.dataModel.linkApplicationId),r(3),y("ngModel",e.dataModel.osType),r(2),m("ngForOf",e.dataModelEnumOperatingSystemTypeResult.listItems),r(2),y("ngModel",e.dataModel.deviceType),r(2),m("ngForOf",e.dataModelEnumDeviceTypeResult.listItems),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[re,H,ce,me,ue,ae,de,pe,j,le,fe,he,q,se,ve,Me,ye,ge,_e,U,we,be,X,Q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=c;return t})();var ri=["vform"];function ai(t,c){if(t&1){let o=x();s(0,"app-cms-enum-record-status-selector",31),b("modelChange",function(n){f(o);let e=_();return I(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),h(n)}),l()}if(t&2){let o=_();y("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function li(t,c){t&1&&(s(0,"mat-error"),d(1," SecurityKey is "),s(2,"strong"),d(3),v(4,"translate"),l()()),t&2&&(r(3),E(M(4,1,"MESSAGE.required")))}function si(t,c){if(t&1&&(s(0,"option",32),d(1),l()),t&2){let o=c.$implicit;m("value",o.value),r(),g(" ",o.description," ")}}function ci(t,c){if(t&1&&(s(0,"option",32),d(1),l()),t&2){let o=c.$implicit;m("value",o.value),r(),g(" ",o.description," ")}}function di(t,c){t&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),v(4,"translate"),l()()),t&2&&(r(3),E(M(4,1,"MESSAGE.required")))}function pi(t,c){if(t&1){let o=x();s(0,"div",15)(1,"label",33),d(2),l(),s(3,"textarea",34,7),b("ngModelChange",function(n){f(o);let e=_();return I(e.dataModel.description,n)||(e.dataModel.description=n),h(n)}),d(5,"        "),l(),s(6,"em"),d(7),l(),C(8,di,5,3,"mat-error",18),l()}if(t&2){let o=R(4),i=_();r(2),E(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),te("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),g("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function mi(t,c){if(t&1){let o=x();s(0,"div",15)(1,"label",35),d(2),l(),s(3,"input",36),b("ngModelChange",function(n){f(o);let e=_();return I(e.dataModel.expireDate,n)||(e.dataModel.expireDate=n),h(n)}),l(),D(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",38,8),l()}if(t&2){let o=R(6),i=_();r(2),E(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),r(),m("matDatepicker",o),y("ngModel",i.dataModel.expireDate),r(),m("for",o)}}function ui(t,c){if(t&1){let o=x();s(0,"div",39)(1,"button",40),w("click",function(){f(o);let n=_();return h(n.onFormCancel())}),D(2,"i",41),d(3),v(4,"translate"),l(),s(5,"button",42),D(6,"i",43),d(7),v(8,"translate"),l()()}if(t&2){_();let o=R(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Oe=(()=>{let c=class c extends Lt{constructor(i,n,e,p,u,a,V,F){super(p,new L,a,F),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreDeviceService=p,this.cmsToastrService=u,this.publicHelper=a,this.cdr=V,this.translate=F,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new nt,this.dataModel=new L,this.formInfo=new Ie,this.dataModelEnumDeviceTypeResult=new k,this.dataModelEnumOperatingSystemTypeResult=new k,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getServiceDeviceTypeEnum(),this.getServiceOperatingSystemTypeEnum()}getServiceDeviceTypeEnum(){this.coreEnumService.ServiceDeviceTypeEnum().subscribe({next:i=>{this.dataModelEnumDeviceTypeResult=i}})}getServiceOperatingSystemTypeEnum(){this.coreEnumService.ServiceOperatingSystemTypeEnum().subscribe({next:i=>{this.dataModelEnumOperatingSystemTypeResult=i}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreDeviceService.setAccessLoad(),this.coreDeviceService.setAccessDataType(it.Editor),this.coreDeviceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreDeviceService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectSite(i){if(!i||i.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_site"),this.translate.instant("MESSAGE.Information_site_is_not_clear"));return}this.dataModel.linkSiteId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};c.\u0275fac=function(n){return new(n||c)(S(Ce),S(Se),S(z),S(N),S(P),S(O),S(W),S(K))},c.\u0275cmp=B({type:c,selectors:[["app-core-sitecategory-edit"]],viewQuery:function(n,e){if(n&1&&ie(ri,5),n&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[G],decls:51,vars:30,consts:[["vform","ngForm"],["SecurityKey",""],["PackageName",""],["DeviceIPsAllow",""],["LinkApplicationId",""],["osType","ngModel"],["DeviceType","ngModel"],["Description",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.securityKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.securityKey","placeholder","NTK.CMS.APP.1","minlength","3","maxlength","100","id","dataModel.securityKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],["for","dataModel.packageName",1,"color-highlight"],["matInput","","type","text","name","dataModel.packageName","placeholder","8.8.8.8","minlength","0","maxlength","500","id","dataModel.packageName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceIPsAllow",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceIPsAllow","placeholder","8.8.8.8","minlength","0","maxlength","500","id","dataModel.deviceIPsAllow",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkApplicationId","placeholder","number ","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["id","dataModel.osType","name","dataModel.osType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.deviceType","name","dataModel.deviceType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,e){if(n&1){let p=x();s(0,"div",9),D(1,"app-progress-spinner",10),s(2,"div",11)(3,"p",12),d(4),l(),s(5,"p"),d(6),v(7,"translate"),l(),s(8,"form",13,0),w("ngSubmit",function(){return f(p),h(e.onFormSubmit())}),C(10,ai,1,5,"app-cms-enum-record-status-selector",14),s(11,"div",15)(12,"label",16),d(13),l(),s(14,"input",17,1),b("ngModelChange",function(a){return f(p),I(e.dataModel.securityKey,a)||(e.dataModel.securityKey=a),h(a)}),l(),s(16,"em"),d(17),l(),C(18,li,5,3,"mat-error",18),l(),s(19,"div",15)(20,"label",19),d(21),l(),s(22,"input",20,2),b("ngModelChange",function(a){return f(p),I(e.dataModel.packageName,a)||(e.dataModel.packageName=a),h(a)}),l(),s(24,"em"),d(25),l()(),s(26,"div",15)(27,"label",21),d(28),l(),s(29,"input",22,3),b("ngModelChange",function(a){return f(p),I(e.dataModel.deviceIPsAllow,a)||(e.dataModel.deviceIPsAllow=a),h(a)}),l(),s(31,"em"),d(32),l()(),s(33,"app-cms-site-selector",23),v(34,"translate"),w("optionChange",function(a){return f(p),h(e.onActionSelectSite(a))}),l(),s(35,"div",15)(36,"label",24),d(37),l(),s(38,"input",25,4),b("ngModelChange",function(a){return f(p),I(e.dataModel.linkApplicationId,a)||(e.dataModel.linkApplicationId=a),h(a)}),l()(),s(40,"div",15)(41,"select",26,5),b("ngModelChange",function(a){return f(p),I(e.dataModel.osType,a)||(e.dataModel.osType=a),h(a)}),C(43,si,2,2,"option",27),l()(),s(44,"div",15)(45,"select",28,6),b("ngModelChange",function(a){return f(p),I(e.dataModel.deviceType,a)||(e.dataModel.deviceType=a),h(a)}),C(47,ci,2,2,"option",27),l()(),C(48,pi,9,5,"div",29)(49,mi,7,4,"div",29)(50,ui,9,7,"div",30),l()()()}if(n&2){let p=R(15),u=R(23),a=R(30);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.securityKey==null?null:e.fieldsInfo.securityKey.fieldTitle),r(),y("ngModel",e.dataModel.securityKey),r(3),g("",p.value.length," / 100"),r(),m("ngIf",p.errors==null?null:p.errors.required),r(3),E(e.fieldsInfo.packageName==null?null:e.fieldsInfo.packageName.fieldTitle),r(),y("ngModel",e.dataModel.packageName),r(3),g("",u.value.length," / 500"),r(3),E(e.fieldsInfo.deviceIPsAllow==null?null:e.fieldsInfo.deviceIPsAllow.fieldTitle),r(),y("ngModel",e.dataModel.deviceIPsAllow),r(3),g("",a.value.length," / 500"),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",M(34,28,"TITLE.SITE")),r(4),E(e.fieldsInfo.linkApplicationId==null?null:e.fieldsInfo.linkApplicationId.fieldTitle),r(),y("ngModel",e.dataModel.linkApplicationId),r(3),y("ngModel",e.dataModel.osType),r(2),m("ngForOf",e.dataModelEnumOperatingSystemTypeResult.listItems),r(2),y("ngModel",e.dataModel.deviceType),r(2),m("ngForOf",e.dataModelEnumDeviceTypeResult.listItems),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[re,H,ce,me,ue,ae,de,pe,j,le,fe,he,q,se,ve,Me,ye,ge,_e,U,we,be,X,Q],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=c;return t})();var hi=()=>[5,10,20,100],gi=t=>({display:t}),_i=t=>({background:t});function Si(t,c){if(t&1){let o=x();s(0,"a",45),w("click",function(){f(o);let n=_();return h(n.onActionBackToParent())}),D(1,"i",46),l()}}function Ci(t,c){if(t&1){let o=x();s(0,"div",47)(1,"a",48),w("click",function(){f(o);let n=_();return h(n.onActionButtonNewRow())}),D(2,"i",49)(3,"br"),l(),s(4,"p",50),d(5),v(6,"translate"),l()()}t&2&&(r(5),E(M(6,1,"ACTION.ADD")))}function vi(t,c){if(t&1){let o=x();s(0,"div",47)(1,"a",51),w("click",function(){f(o);let n=_();return h(n.onActionButtonEditRow(n.tableRowSelected))}),D(2,"i",52)(3,"br"),l(),s(4,"p",50),d(5),v(6,"translate"),l()()}t&2&&(r(5),E(M(6,1,"ACTION.EDIT")))}function Mi(t,c){if(t&1){let o=x();s(0,"div",47)(1,"a",53),w("click",function(){f(o);let n=_();return h(n.onActionButtonDeleteRow(n.tableRowSelected))}),D(2,"i",54)(3,"br"),l(),s(4,"p",50),d(5),v(6,"translate"),l()()}t&2&&(r(5),E(M(6,1,"ACTION.DELETE")))}function yi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ii(t,c){if(t&1&&(s(0,"mat-cell"),d(1),l()),t&2){let o=c.$implicit;r(),g(" ",o.id," ")}}function bi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function wi(t,c){if(t&1&&(s(0,"mat-cell"),d(1),v(2,"cmssiteinfo"),v(3,"async"),l()),t&2){let o=c.$implicit;r(),g(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function Ei(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Di(t,c){if(t&1&&D(0,"select",58),t&2){let o=_().$implicit,i=_();m("contentService",i.contentService)("row",o)("ngStyle",xe(3,gi,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ti(t,c){if(t&1&&(s(0,"mat-cell",56),v(1,"statusCellClass"),D(2,"i",56),v(3,"statusIconClass"),C(4,Di,1,5,"select",57),l()),t&2){let o=c.$implicit,i=_();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ai(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.osType==null?null:o.fieldsInfo.osType.fieldTitle," ")}}function xi(t,c){if(t&1&&(s(0,"mat-cell"),d(1),v(2,"enums"),l()),t&2){let o=c.$implicit,i=_();r(),g(" ",Re(2,1,o.osType,i.dataModelEnumOperatingSystemTypeResult.listItems)," ")}}function Ri(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.deviceType==null?null:o.fieldsInfo.deviceType.fieldTitle," ")}}function ki(t,c){if(t&1&&(s(0,"mat-cell"),d(1),v(2,"enums"),l()),t&2){let o=c.$implicit,i=_();r(),g(" ",Re(2,1,o.deviceType,i.dataModelEnumDeviceTypeResult.listItems)," ")}}function Vi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.packageName==null?null:o.fieldsInfo.packageName.fieldTitle," ")}}function Li(t,c){if(t&1&&(s(0,"mat-cell"),d(1),l()),t&2){let o=c.$implicit;r(),g(" ",o.packageName," ")}}function Ni(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.linkApplicationId==null?null:o.fieldsInfo.linkApplicationId.fieldTitle," ")}}function Pi(t,c){if(t&1&&(s(0,"mat-cell"),d(1),l()),t&2){let o=c.$implicit;r(),g(" ",o.linkApplicationId," ")}}function Oi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Fi(t,c){if(t&1&&(s(0,"mat-cell"),d(1),l()),t&2){let o=c.$implicit,i=_();r(),g(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function Bi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Gi(t,c){if(t&1&&(s(0,"mat-cell"),d(1),l()),t&2){let o=c.$implicit,i=_();r(),g(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function Wi(t,c){if(t&1&&(s(0,"mat-header-cell",55),d(1),l()),t&2){let o=_();r(),g(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Hi(t,c){if(t&1&&(s(0,"mat-cell",59),d(1),l()),t&2){let o=c.$implicit,i=_();m("ngStyle",xe(2,_i,i.publicHelper.RowStyleExpireDate(o.expireDate))),r(),g(" ",i.publicHelper.LocaleDate(o.expireDate)," ")}}function ji(t,c){t&1&&(s(0,"mat-header-cell"),d(1),v(2,"translate"),l()),t&2&&(r(),g(" ",M(2,1,"TITLE.OPTION")," "))}function qi(t,c){if(t&1&&(s(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),l()(),D(4,"mat-menu",null,2),l()),t&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Ki(t,c){t&1&&D(0,"mat-header-row")}function Qi(t,c){if(t&1){let o=x();s(0,"mat-row",62),w("click",function(){let n=f(o).$implicit,e=_();return h(e.onActionTableRowSelect(n))}),l()}if(t&2){let o=c.$implicit,i=c.dataIndex,n=_();We("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Fe=(()=>{let c=class c extends Pt{constructor(i,n,e,p,u,a,V,F,Be,qt,Ge,Kt){if(super(i,new L,Ge,u,Be),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.router=p,this.tokenHelper=u,this.coreEnumService=a,this.activatedRoute=V,this.cdr=F,this.translate=Be,this.pageInfo=qt,this.publicHelper=Ge,this.dialog=Kt,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ot,this.dataModelEnumDeviceTypeResult=new k,this.dataModelEnumOperatingSystemTypeResult=new k,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","RecordStatus","osType","DeviceType","PackageName","LinkApplicationId","CreatedDate","UpdatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","RecordStatus","osType","DeviceType","PackageName","LinkApplicationId","CreatedDate","UpdatedDate","ExpireDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Z.Descending,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let Y=new Ve;Y.propertyName="LinkSiteId",Y.value=this.requestLinkSiteId,this.filteModelContent.filters.push(Y)}}ngOnInit(){this.filteModelContent.sortColumn="Id",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getServiceDeviceType(),this.getServiceOperatingSystemTypeEnum()}getServiceDeviceType(){this.coreEnumService.ServiceDeviceTypeEnum().subscribe({next:i=>{this.dataModelEnumDeviceTypeResult=i}})}getServiceOperatingSystemTypeEnum(){this.coreEnumService.ServiceOperatingSystemTypeEnum().subscribe({next:i=>{this.dataModelEnumOperatingSystemTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new L);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=Z.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Z.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=Z.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pe,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Oe,{height:"90%",panelClass:n,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{n=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(p=>{if(p){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(u,a,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}this.onActionTableRowSelect(i),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{n.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{n.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{n.set(V,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),u=new Ve;u.propertyName="RecordStatus",u.value=tt.Available,p.filters.push(u),this.contentService.ServiceGetCount(p).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{n.set(V,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};c.\u0275fac=function(n){return new(n||c)(S(N),S(P),S(Ee),S(Ye),S(Le),S(z),S(Xe),S(W),S(K),S(at),S(O),S($e))},c.\u0275cmp=B({type:c,selectors:[["app-core-sitecategory-list"]],features:[G],decls:75,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"svg"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","osType"],["matColumnDef","DeviceType"],["matColumnDef","PackageName"],["matColumnDef","LinkApplicationId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let p=x();s(0,"app-cms-html-notice",3)(1,"h4"),d(2),v(3,"translate"),l(),d(4),v(5,"translate"),l(),s(6,"app-cms-html-list",4),b("optionActionGuideNoticeDisplayChange",function(a){return f(p),I(e.viewGuideNotice,a)||(e.viewGuideNotice=a),h(a)}),w("optionOnActionButtonMemoRow",function(){return f(p),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),h(e.onActionButtonPrintRow())}),T(7,5),d(8," -------------------------------------- "),A(),He(9,6)(10,7),T(11,8),C(12,Si,2,0,"a",9),s(13,"a",10),w("click",function(){return f(p),h(e.viewGuideNotice=!e.viewGuideNotice)}),D(14,"i",11),l(),s(15,"a",10),w("click",function(){return f(p),h(e.onActionButtonReload())}),D(16,"i",12),l(),A(),T(17,13),s(18,"a",14),w("click",function(){return f(p),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(19,"mat-slide-toggle",15),b("ngModelChange",function(a){return f(p),I(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),h(a)}),w("click",function(){return f(p),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(20),v(21,"translate"),l(),s(22,"a",14),w("click",function(){return f(p),h(e.onActionButtonStatist())}),s(23,"mat-slide-toggle",16),w("click",function(){return f(p),h(e.onActionButtonStatist())}),b("ngModelChange",function(a){return f(p),I(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),h(a)}),l(),d(24),v(25,"translate"),l(),A(),T(26,17),C(27,Ci,7,3,"div",18),A(),T(28,19),C(29,vi,7,3,"div",18)(30,Mi,7,3,"div",18),A(),T(31,20),s(32,"app-cms-search-list",21),b("optionsChange",function(a){return f(p),I(e.optionsSearch,a)||(e.optionsSearch=a),h(a)}),l(),s(33,"app-cms-statist-list",21),b("optionsChange",function(a){return f(p),I(e.optionsStatist,a)||(e.optionsStatist=a),h(a)}),l(),A(),T(34,22),s(35,"mat-table",23,0),w("matSortChange",function(){f(p);let a=R(36);return h(e.onTableSortData(a))}),T(37,24),C(38,yi,2,1,"mat-header-cell",25)(39,Ii,2,1,"mat-cell",26),A(),T(40,27),C(41,bi,2,1,"mat-header-cell",25)(42,wi,4,5,"mat-cell",26),A(),T(43,28),C(44,Ei,2,1,"mat-header-cell",25)(45,Ti,5,7,"mat-cell",29),A(),T(46,30),C(47,Ai,2,1,"mat-header-cell",25)(48,xi,3,4,"mat-cell",26),A(),T(49,31),C(50,Ri,2,1,"mat-header-cell",25)(51,ki,3,4,"mat-cell",26),A(),T(52,32),C(53,Vi,2,1,"mat-header-cell",25)(54,Li,2,1,"mat-cell",26),A(),T(55,33),C(56,Ni,2,1,"mat-header-cell",25)(57,Pi,2,1,"mat-cell",26),A(),T(58,34),C(59,Oi,2,1,"mat-header-cell",25)(60,Fi,2,1,"mat-cell",26),A(),T(61,35),C(62,Bi,2,1,"mat-header-cell",25)(63,Gi,2,1,"mat-cell",26),A(),T(64,36),C(65,Wi,2,1,"mat-header-cell",25)(66,Hi,2,4,"mat-cell",37),A(),T(67,38),C(68,ji,3,3,"mat-header-cell",39)(69,qi,6,1,"mat-cell",40),A(),C(70,Ki,1,0,"mat-header-row",41)(71,Qi,1,6,"mat-row",42),l(),A(),T(72,43),s(73,"mat-paginator",44,1),w("page",function(a){return f(p),h(e.onTablePageingData(a))}),l(),A(),l()}n&2&&(m("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),E(M(3,27,"TITLE.List_of_devices")),r(2),g(" ",M(5,29,"TITLE.In_this_section_you_can_see_the_list_of_your_devices._Inthis_section_you_can_see_the_list_of_your_devicess"),`
`),r(2),m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),m("ngIf",e.requestLinkSiteId>0),r(7),y("ngModel",e.optionsSearch.data.show),r(),g("",M(21,31,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),g("",M(25,33,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(35),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",je(35,hi)))},dependencies:[qe,H,Ke,j,q,Ze,et,U,lt,st,ct,dt,pt,mt,ut,ht,Ct,gt,ft,vt,_t,St,Mt,yt,xt,Rt,At,Tt,It,Qe,Q,wt,bt,Dt,Et],encapsulation:2});let t=c;return t})();var Ui=[{path:"",children:[{path:"",component:Fe},{path:":LinkSiteId",component:Fe}]}],jt=(()=>{let c=class c{};c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=ee({type:c}),c.\u0275inj=$({imports:[ke.forChild(Ui),ke]});let t=c;return t})();var ao=(()=>{let c=class c{};c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=ee({type:c}),c.\u0275inj=$({providers:[N,rt,Ee],imports:[Ue,ze,jt,Je.withConfig({warnOnNgModelWithFormControl:"never"}),kt,Nt]});let t=c;return t})();export{ao as CoreDeviceModule};
