import{a as ot}from"./chunk-KOY6ZV74.js";import{a as nt}from"./chunk-A2BU5QUK.js";import{a as _e}from"./chunk-42BJIYBC.js";import{$a as wi,Ad as tt,Cc as pt,Dd as it,F as oi,G as ri,H as ai,Hd as Vi,La as $,Ma as ee,Na as Me,Nc as Ke,O as Ri,Oc as Xe,P as xi,Rc as St,Sc as ft,Ta as Ae,Tc as ut,Ub as De,Vb as Ue,Wa as Se,Wb as Ve,Xb as Be,Yb as Ne,Zb as Oe,_a as vi,aa as si,ab as Ii,bd as lt,da as Ti,ec as Pe,fc as Ge,gc as He,hc as Fe,hd as Ye,ic as We,jc as je,kc as qe,kd as Ze,lc as Qe,mc as ze,nb as W,nc as Je,o as gi,p as ni,pb as st,pd as li,s as ue,sa as be,sb as xe,t as Ei,tb as j,td as $e,v as ki,vb as ie,x as he,xd as et,y as yi,yb as Le}from"./chunk-AE7H5LEK.js";import{b as P,c as G,p as F}from"./chunk-MLLDNPZ7.js";import{Cd as Ct,Db as X,Dc as mt,Dd as L,Eb as Y,Fb as Z,Fc as ve,Fe as Re,Ha as ht,Hd as q,He as gt,Hf as Et,Ib as J,Id as ye,Ie as Tt,If as kt,Jd as te,Je as vt,Jf as yt,Kb as m,Ke as wt,Kf as Rt,La as s,Lb as D,Lc as Ai,Le as It,Lf as xt,Ma as C,Mb as _,Me as bt,Mf as Lt,Nb as ti,Nf as Dt,Oe as Mt,Of as Ut,Pe as At,Qb as k,Qd as z,Rb as y,Sb as R,Ud as Di,Vb as ge,Wb as dt,Yb as g,Za as K,Zb as T,_b as re,ab as w,aq as Q,cb as h,ce as Ui,da as _i,eb as Ce,fd as we,gc as N,gd as Li,hd as Ie,ja as B,ka as Ci,kd as Mi,lb as l,mb as a,nb as v,ob as b,pb as M,qb as oe,ra as f,rb as A,sa as u,td as Ee,ub as I,vd as H,wb as S,xc as at,yc as ii,zc as O,zd as ke}from"./chunk-DTYEIAZU.js";var ln=["vform"];function cn(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",7),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dn(t,r){if(t&1){let o=A();l(0,"div",8)(1,"button",9),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",10),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Bi=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new Et,U,V),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenActivationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.translate=V,this.publicHelper=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModel=new Et,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(ke.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(gt),C(W),C(F),C(N),C(P),C(j))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(ln,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,cn,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),g(10,"translate"),v(11,"app-cms-user-selector",5),g(12,"translate"),w(13,dn,5,3,"div",6),a()()),n&2&&(s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var mn=["vform"];function pn(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Ni=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenActivationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new Et,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(gt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(mn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,pn,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var fn=()=>[5,10,20,100],un=t=>({display:t});function hn(t,r){if(t&1){let o=A();l(0,"a",50),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",51),a()}}function Sn(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",52),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",53)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function _n(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",54),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",55)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function Cn(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",56),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",57)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function gn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Tn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function vn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function wn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function In(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function bn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Mn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function An(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function En(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function kn(t,r){if(t&1&&v(0,"select",61),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,un,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function yn(t,r){if(t&1&&(l(0,"mat-cell",59),g(1,"statusCellClass"),v(2,"i",59),g(3,"statusIconClass"),w(4,kn,1,5,"select",60),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Rn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function xn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ln(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Dn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Un(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Vn(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",59),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Bn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Nn(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",59),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function On(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Pn(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",59),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function Gn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Hn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Fn(t,r){if(t&1&&(l(0,"mat-header-cell",58),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Wn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function jn(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function qn(t,r){if(t&1&&(l(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function Qn(t,r){t&1&&v(0,"mat-header-row")}function zn(t,r){if(t&1){let o=A();l(0,"mat-row",64),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Oi=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new Et,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Et);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ni,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Bi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(gt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,hn,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",13),I("click",function(){return f(d),u(e.onActionButtonStatist())}),l(17,"mat-slide-toggle",15),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,16),b(21,17),w(22,Sn,7,3,"div",18)(23,_n,7,3,"div",18),l(24,"div",19)(25,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",21),a(),l(27,"p",22),m(28),g(29,"translate"),a()(),l(30,"div",19)(31,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(32,"i",23)(33,"br"),a(),l(34,"p",22),m(35),g(36,"translate"),a()(),w(37,Cn,7,3,"div",18),M(),b(38,24),l(39,"app-cms-search-list",25),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(40,"app-cms-statist-list",25),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(41,26),l(42,"mat-table",27,0),I("matSortChange",function(){f(d);let c=J(43);return u(e.onTableSortData(c))}),b(44,28),w(45,gn,2,1,"mat-header-cell",29)(46,Tn,2,1,"mat-cell",30),M(),b(47,31),w(48,vn,2,1,"mat-header-cell",29)(49,wn,4,5,"mat-cell",30),M(),b(50,32),w(51,In,2,1,"mat-header-cell",29)(52,bn,4,5,"mat-cell",30),M(),b(53,33),w(54,Mn,2,1,"mat-header-cell",29)(55,An,2,1,"mat-cell",30),M(),b(56,34),w(57,En,2,1,"mat-header-cell",29)(58,yn,5,7,"mat-cell",35),M(),b(59,36),w(60,Rn,2,1,"mat-header-cell",29)(61,xn,3,4,"mat-cell",30),M(),b(62,37),w(63,Ln,2,1,"mat-header-cell",29)(64,Dn,3,4,"mat-cell",30),M(),b(65,38),w(66,Un,2,1,"mat-header-cell",29)(67,Vn,3,3,"mat-cell",30),M(),b(68,39),w(69,Bn,2,1,"mat-header-cell",29)(70,Nn,3,3,"mat-cell",30),M(),b(71,40),w(72,On,2,1,"mat-header-cell",29)(73,Pn,3,3,"mat-cell",30),M(),b(74,41),w(75,Gn,2,1,"mat-header-cell",29)(76,Hn,2,1,"mat-cell",30),M(),b(77,42),w(78,Fn,2,1,"mat-header-cell",29)(79,Wn,2,1,"mat-cell",30),M(),b(80,43),w(81,jn,3,3,"mat-header-cell",44)(82,qn,6,1,"mat-cell",45),M(),w(83,Qn,1,0,"mat-header-row",46)(84,zn,1,6,"mat-row",47),a(),M(),b(85,48),l(86,"mat-paginator",49,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,26,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,28,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(5),D(T(29,30,"ACTION.SITE")),s(7),D(T(36,32,"ACTION.USER")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(34,fn)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var Pi=(()=>{let r=class r{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=B({type:r,selectors:[["app-core-token"]],decls:1,vars:0,template:function(n,e){n&1&&v(0,"router-outlet")},dependencies:[Li],encapsulation:2});let t=r;return t})();var Jn=["vform"];function Kn(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",7),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xn(t,r){if(t&1){let o=A();l(0,"div",8)(1,"button",9),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",10),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new Lt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=p,this.publicHelper=c,this.cdr=x,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(ke.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(bt),C(W),C(j),C(N),C(F),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(n,e){if(n&1&&X(Jn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,Kn,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),g(10,"translate"),v(11,"app-cms-user-selector",5),g(12,"translate"),w(13,Xn,5,3,"div",6),a()()),n&2&&(s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Yn=["vform"];function Zn(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Hi=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(bt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(n,e){if(n&1&&X(Yn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,Zn,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G],encapsulation:2});let t=r;return t})();var $n=()=>[5,10,20,100],eo=t=>({display:t});function to(t,r){if(t&1){let o=A();l(0,"a",49),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",50),a()}}function io(t,r){if(t&1){let o=A();l(0,"div",18)(1,"a",51),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",52)(3,"br"),a(),l(4,"p",21),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function no(t,r){if(t&1){let o=A();l(0,"div",18)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),a(),l(4,"p",21),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function oo(t,r){if(t&1){let o=A();l(0,"div",18)(1,"a",55),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),a(),l(4,"p",21),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function ro(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ao(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function so(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function lo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function co(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function mo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function po(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function fo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function uo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ho(t,r){if(t&1&&v(0,"select",60),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,eo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function So(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),v(2,"i",58),g(3,"statusIconClass"),w(4,ho,1,5,"select",59),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function _o(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Co(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function go(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function To(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function wo(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",58),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Io(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bo(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",58),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Mo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ao(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",58),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function Eo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ko(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function yo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Ro(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function xo(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function Lo(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function Do(t,r){t&1&&v(0,"mat-header-row")}function Uo(t,r){if(t&1){let o=A();l(0,"mat-row",63),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Fi=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new Lt,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(bt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservicelog-list"]],features:[K],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,to,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),M(),oe(16,15),b(17,16),w(18,io,7,3,"div",17)(19,no,7,3,"div",17),l(20,"div",18)(21,"a",19),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(22,"i",20)(23,"br"),a(),l(24,"p",21),m(25),g(26,"translate"),a()(),l(27,"div",18)(28,"a",19),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(29,"i",22)(30,"br"),a(),l(31,"p",21),m(32),g(33,"translate"),a()(),w(34,oo,7,3,"div",17),M(),b(35,23),l(36,"app-cms-search-list",24),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(37,"app-cms-statist-list",24),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(38,25),l(39,"mat-table",26,0),I("matSortChange",function(){f(d);let c=J(40);return u(e.onTableSortData(c))}),b(41,27),w(42,ro,2,1,"mat-header-cell",28)(43,ao,2,1,"mat-cell",29),M(),b(44,30),w(45,so,2,1,"mat-header-cell",28)(46,lo,4,5,"mat-cell",29),M(),b(47,31),w(48,co,2,1,"mat-header-cell",28)(49,mo,4,5,"mat-cell",29),M(),b(50,32),w(51,po,2,1,"mat-header-cell",28)(52,fo,2,1,"mat-cell",29),M(),b(53,33),w(54,uo,2,1,"mat-header-cell",28)(55,So,5,7,"mat-cell",34),M(),b(56,35),w(57,_o,2,1,"mat-header-cell",28)(58,Co,3,4,"mat-cell",29),M(),b(59,36),w(60,go,2,1,"mat-header-cell",28)(61,To,3,4,"mat-cell",29),M(),b(62,37),w(63,vo,2,1,"mat-header-cell",28)(64,wo,3,3,"mat-cell",29),M(),b(65,38),w(66,Io,2,1,"mat-header-cell",28)(67,bo,3,3,"mat-cell",29),M(),b(68,39),w(69,Mo,2,1,"mat-header-cell",28)(70,Ao,3,3,"mat-cell",29),M(),b(71,40),w(72,Eo,2,1,"mat-header-cell",28)(73,ko,2,1,"mat-cell",29),M(),b(74,41),w(75,yo,2,1,"mat-header-cell",28)(76,Ro,2,1,"mat-cell",29),M(),b(77,42),w(78,xo,3,3,"mat-header-cell",43)(79,Lo,6,1,"mat-cell",44),M(),w(80,Do,1,0,"mat-header-row",45)(81,Uo,1,6,"mat-row",46),a(),M(),b(82,47),l(83,"mat-paginator",48,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,24,"ACTION.SEARCH")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(26,26,"ACTION.SITE")),s(7),D(T(33,28,"ACTION.USER")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(30,$n)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var Vo=["vform"];function Bo(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",8),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function No(t,r){if(t&1&&(l(0,"div"),v(1,"div",9),g(2,"prettyjson"),a()),t&2){let o=S();s(),h("innerHTML",T(2,1,o.dataModel),ht)}}function Oo(t,r){if(t&1){let o=A();l(0,"div",10)(1,"button",11),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",12),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Wi=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new xt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Ct,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(ke.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(It),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(n,e){if(n&1&&X(Vo,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,Bo,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),g(10,"translate"),v(11,"app-cms-user-selector",5),g(12,"translate"),w(13,No,3,3,"div",6)(14,Oo,5,3,"div",7),a()()),n&2&&(s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(10,14,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(12,16,"TITLE.USER")),s(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),s(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,et,lt,it,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Po=["vform"];function Go(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var ji=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(It),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(n,e){if(n&1&&X(Po,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,Go,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var Ho=()=>[5,10,20,100],Fo=t=>({display:t});function Wo(t,r){if(t&1){let o=A();l(0,"a",51),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",52),a()}}function jo(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function qo(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",55),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function Qo(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",57),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function zo(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Jo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function Ko(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Yo(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Zo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function $o(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function er(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function tr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ir(t,r){if(t&1&&v(0,"select",62),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,Fo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nr(t,r){if(t&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),v(2,"i",60),g(3,"statusIconClass"),w(4,ir,1,5,"select",61),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function or(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function rr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ar(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function sr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function lr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cr(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function dr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function mr(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function pr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fr(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function ur(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function hr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Sr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function _r(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function Cr(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function gr(t,r){if(t&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function Tr(t,r){t&1&&v(0,"mat-header-row")}function vr(t,r){if(t&1){let o=A();l(0,"mat-row",65),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var qi=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new xt,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(It),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,Wo,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,17),b(21,18),w(22,jo,7,3,"div",19)(23,qo,7,3,"div",19),l(24,"div",20)(25,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",22)(27,"br"),a(),l(28,"p",23),m(29),g(30,"translate"),a()(),l(31,"div",20)(32,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(33,"i",24)(34,"br"),a(),l(35,"p",23),m(36),g(37,"translate"),a()(),w(38,Qo,7,3,"div",19),M(),b(39,25),l(40,"app-cms-search-list",26),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(41,"app-cms-statist-list",26),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(42,27),l(43,"mat-table",28,0),I("matSortChange",function(){f(d);let c=J(44);return u(e.onTableSortData(c))}),b(45,29),w(46,zo,2,1,"mat-header-cell",30)(47,Jo,2,1,"mat-cell",31),M(),b(48,32),w(49,Ko,2,1,"mat-header-cell",30)(50,Xo,4,5,"mat-cell",31),M(),b(51,33),w(52,Yo,2,1,"mat-header-cell",30)(53,Zo,4,5,"mat-cell",31),M(),b(54,34),w(55,$o,2,1,"mat-header-cell",30)(56,er,2,1,"mat-cell",31),M(),b(57,35),w(58,tr,2,1,"mat-header-cell",30)(59,nr,5,7,"mat-cell",36),M(),b(60,37),w(61,or,2,1,"mat-header-cell",30)(62,rr,3,4,"mat-cell",31),M(),b(63,38),w(64,ar,2,1,"mat-header-cell",30)(65,sr,3,4,"mat-cell",31),M(),b(66,39),w(67,lr,2,1,"mat-header-cell",30)(68,cr,3,3,"mat-cell",31),M(),b(69,40),w(70,dr,2,1,"mat-header-cell",30)(71,mr,3,3,"mat-cell",31),M(),b(72,41),w(73,pr,2,1,"mat-header-cell",30)(74,fr,3,3,"mat-cell",31),M(),b(75,42),w(76,ur,2,1,"mat-header-cell",30)(77,hr,2,1,"mat-cell",31),M(),b(78,43),w(79,Sr,2,1,"mat-header-cell",30)(80,_r,2,1,"mat-cell",31),M(),b(81,44),w(82,Cr,3,3,"mat-header-cell",45)(83,gr,6,1,"mat-cell",46),M(),w(84,Tr,1,0,"mat-header-row",47)(85,vr,1,6,"mat-row",48),a(),M(),b(86,49),l(87,"mat-paginator",50,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,26,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,28,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(30,30,"ACTION.SITE")),s(7),D(T(37,32,"ACTION.USER")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(34,Ho)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var wr=["vform"];function Ir(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",7),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function br(t,r){if(t&1){let o=A();l(0,"div",8)(1,"button",9),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",10),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new Ut,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationLogService=d,this.cmsToastrService=p,this.publicHelper=c,this.cdr=x,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(ke.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(At),C(W),C(j),C(N),C(F),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(n,e){if(n&1&&X(wr,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,Ir,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),g(10,"translate"),v(11,"app-cms-user-selector",5),g(12,"translate"),w(13,br,5,3,"div",6),a()()),n&2&&(s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,et,lt,it,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Mr=["vform"];function Ar(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var zi=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(At),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(n,e){if(n&1&&X(Mr,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,Ar,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G],encapsulation:2});let t=r;return t})();var Er=()=>[5,10,20,100],kr=t=>({display:t});function yr(t,r){if(t&1){let o=A();l(0,"a",51),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",52),a()}}function Rr(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function xr(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",55),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function Lr(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",57),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function Dr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ur(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function Vr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Br(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Nr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Or(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Pr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Gr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function Hr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Fr(t,r){if(t&1&&v(0,"select",62),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,kr,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Wr(t,r){if(t&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),v(2,"i",60),g(3,"statusIconClass"),w(4,Fr,1,5,"select",61),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function jr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function qr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function zr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Kr(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Xr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Yr(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Zr(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function $r(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function ea(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ta(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ia(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function na(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function oa(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function ra(t,r){if(t&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function aa(t,r){t&1&&v(0,"mat-header-row")}function sa(t,r){if(t&1){let o=A();l(0,"mat-row",65),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Ji=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new Ut,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(At),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notificationlog-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,yr,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,17),b(21,18),w(22,Rr,7,3,"div",19)(23,xr,7,3,"div",19),l(24,"div",20)(25,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",22)(27,"br"),a(),l(28,"p",23),m(29),g(30,"translate"),a()(),l(31,"div",20)(32,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(33,"i",24)(34,"br"),a(),l(35,"p",23),m(36),g(37,"translate"),a()(),w(38,Lr,7,3,"div",19),M(),b(39,25),l(40,"app-cms-search-list",26),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(41,"app-cms-statist-list",26),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(42,27),l(43,"mat-table",28,0),I("matSortChange",function(){f(d);let c=J(44);return u(e.onTableSortData(c))}),b(45,29),w(46,Dr,2,1,"mat-header-cell",30)(47,Ur,2,1,"mat-cell",31),M(),b(48,32),w(49,Vr,2,1,"mat-header-cell",30)(50,Br,4,5,"mat-cell",31),M(),b(51,33),w(52,Nr,2,1,"mat-header-cell",30)(53,Or,4,5,"mat-cell",31),M(),b(54,34),w(55,Pr,2,1,"mat-header-cell",30)(56,Gr,2,1,"mat-cell",31),M(),b(57,35),w(58,Hr,2,1,"mat-header-cell",30)(59,Wr,5,7,"mat-cell",36),M(),b(60,37),w(61,jr,2,1,"mat-header-cell",30)(62,qr,3,4,"mat-cell",31),M(),b(63,38),w(64,Qr,2,1,"mat-header-cell",30)(65,zr,3,4,"mat-cell",31),M(),b(66,39),w(67,Jr,2,1,"mat-header-cell",30)(68,Kr,3,3,"mat-cell",31),M(),b(69,40),w(70,Xr,2,1,"mat-header-cell",30)(71,Yr,3,3,"mat-cell",31),M(),b(72,41),w(73,Zr,2,1,"mat-header-cell",30)(74,$r,3,3,"mat-cell",31),M(),b(75,42),w(76,ea,2,1,"mat-header-cell",30)(77,ta,2,1,"mat-cell",31),M(),b(78,43),w(79,ia,2,1,"mat-header-cell",30)(80,na,2,1,"mat-cell",31),M(),b(81,44),w(82,oa,3,3,"mat-header-cell",45)(83,ra,6,1,"mat-cell",46),M(),w(84,aa,1,0,"mat-header-row",47)(85,sa,1,6,"mat-row",48),a(),M(),b(86,49),l(87,"mat-paginator",50,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,26,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,28,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(30,30,"ACTION.SITE")),s(7),D(T(37,32,"ACTION.USER")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(34,Er)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var la=["vform"];function ca(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",8),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function da(t,r){if(t&1&&(l(0,"div"),v(1,"div",9),g(2,"prettyjson"),a()),t&2){let o=S();s(),h("innerHTML",T(2,1,o.dataModel),ht)}}function ma(t,r){if(t&1){let o=A();l(0,"div",10)(1,"button",11),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",12),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Ki=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new Dt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Ct,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(ke.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(Mt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(n,e){if(n&1&&X(la,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,ca,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),g(10,"translate"),v(11,"app-cms-user-selector",5),g(12,"translate"),w(13,da,3,3,"div",6)(14,ma,5,3,"div",7),a()()),n&2&&(s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(10,14,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(12,16,"TITLE.USER")),s(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),s(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,et,lt,it,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var pa=["vform"];function fa(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(Mt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-view"]],viewQuery:function(n,e){if(n&1&&X(pa,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,fa,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var ua=()=>[5,10,20,100],ha=t=>({display:t});function Sa(t,r){if(t&1){let o=A();l(0,"a",51),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",52),a()}}function _a(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function Ca(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",55),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function ga(t,r){if(t&1){let o=A();l(0,"div",20)(1,"a",57),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),a(),l(4,"p",23),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function Ta(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function va(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function wa(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ia(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function ba(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Ma(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Aa(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ea(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function ka(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ya(t,r){if(t&1&&v(0,"select",62),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,ha,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ra(t,r){if(t&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),v(2,"i",60),g(3,"statusIconClass"),w(4,ya,1,5,"select",61),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function xa(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function La(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Da(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Ua(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Va(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ba(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Na(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Oa(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Pa(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ga(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",60),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function Ha(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Fa(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Wa(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function ja(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function qa(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function Qa(t,r){if(t&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function za(t,r){t&1&&v(0,"mat-header-row")}function Ja(t,r){if(t&1){let o=A();l(0,"mat-row",65),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Yi=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new Dt,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(Mt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,Sa,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",15)(17,"mat-slide-toggle",16),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,17),b(21,18),w(22,_a,7,3,"div",19)(23,Ca,7,3,"div",19),l(24,"div",20)(25,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",22)(27,"br"),a(),l(28,"p",23),m(29),g(30,"translate"),a()(),l(31,"div",20)(32,"a",21),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(33,"i",24)(34,"br"),a(),l(35,"p",23),m(36),g(37,"translate"),a()(),w(38,ga,7,3,"div",19),M(),b(39,25),l(40,"app-cms-search-list",26),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(41,"app-cms-statist-list",26),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(42,27),l(43,"mat-table",28,0),I("matSortChange",function(){f(d);let c=J(44);return u(e.onTableSortData(c))}),b(45,29),w(46,Ta,2,1,"mat-header-cell",30)(47,va,2,1,"mat-cell",31),M(),b(48,32),w(49,wa,2,1,"mat-header-cell",30)(50,Ia,4,5,"mat-cell",31),M(),b(51,33),w(52,ba,2,1,"mat-header-cell",30)(53,Ma,4,5,"mat-cell",31),M(),b(54,34),w(55,Aa,2,1,"mat-header-cell",30)(56,Ea,2,1,"mat-cell",31),M(),b(57,35),w(58,ka,2,1,"mat-header-cell",30)(59,Ra,5,7,"mat-cell",36),M(),b(60,37),w(61,xa,2,1,"mat-header-cell",30)(62,La,3,4,"mat-cell",31),M(),b(63,38),w(64,Da,2,1,"mat-header-cell",30)(65,Ua,3,4,"mat-cell",31),M(),b(66,39),w(67,Va,2,1,"mat-header-cell",30)(68,Ba,3,3,"mat-cell",31),M(),b(69,40),w(70,Na,2,1,"mat-header-cell",30)(71,Oa,3,3,"mat-cell",31),M(),b(72,41),w(73,Pa,2,1,"mat-header-cell",30)(74,Ga,3,3,"mat-cell",31),M(),b(75,42),w(76,Ha,2,1,"mat-header-cell",30)(77,Fa,2,1,"mat-cell",31),M(),b(78,43),w(79,Wa,2,1,"mat-header-cell",30)(80,ja,2,1,"mat-cell",31),M(),b(81,44),w(82,qa,3,3,"mat-header-cell",45)(83,Qa,6,1,"mat-cell",46),M(),w(84,za,1,0,"mat-header-row",47)(85,Ja,1,6,"mat-row",48),a(),M(),b(86,49),l(87,"mat-paginator",50,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,26,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,28,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(30,30,"ACTION.SITE")),s(7),D(T(37,32,"ACTION.USER")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(34,ua)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var Xa=["vform"];function Ya(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",38),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Za(t,r){if(t&1&&(l(0,"option",39),m(1),a()),t&2){let o=r.$implicit;h("value",o.value),s(),_(" ",o.description," ")}}function $a(t,r){t&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),a()()),t&2&&(s(3),D(T(4,1,"MESSAGE.required")))}function es(t,r){if(t&1&&(l(0,"option",39),m(1),a()),t&2){let o=r.$implicit;h("value",o.value),s(),_(" ",o.description," ")}}function ts(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),a()()),t&2&&(s(3),D(T(4,1,"MESSAGE.required")))}function is(t,r){if(t&1){let o=A();l(0,"div",40)(1,"div",41)(2,"h5",42),m(3),a()(),l(4,"div",43)(5,"div",44)(6,"input",45),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.userAccessAdminAllowToAllData,n)||(e.dataModel.userAccessAdminAllowToAllData=n),u(n)}),a(),v(7,"label",46),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),s(3),k("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function ns(t,r){if(t&1){let o=A();l(0,"div",40)(1,"div",41)(2,"h5",47),m(3),a()(),l(4,"div",43)(5,"div",44)(6,"input",48),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.userAccessAdminAllowToProfessionalData,n)||(e.dataModel.userAccessAdminAllowToProfessionalData=n),u(n)}),a(),v(7,"label",49),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),s(3),k("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function os(t,r){if(t&1){let o=A();l(0,"div",40)(1,"div",41)(2,"h5",50),m(3),a()(),l(4,"div",43)(5,"div",44)(6,"input",51),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.rememberOnDevice,n)||(e.dataModel.rememberOnDevice=n),u(n)}),a(),v(7,"label",52),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),s(3),k("ngModel",o.dataModel.rememberOnDevice)}}function rs(t,r){if(t&1){let o=A();l(0,"div",23)(1,"label",53),m(2),a(),l(3,"input",54),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.tokenExpireDate,n)||(e.dataModel.tokenExpireDate=n),u(n)}),a(),v(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),a()}if(t&2){let o=J(6),i=S();s(2),D(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),s(),h("matDatepicker",o),k("ngModel",i.dataModel.tokenExpireDate),s(),h("for",o)}}function as(t,r){if(t&1&&(l(0,"div"),v(1,"div",57),g(2,"prettyjson"),a()),t&2){let o=S();s(),h("innerHTML",T(2,1,o.dataModel),ht)}}function ss(t,r){if(t&1){let o=A();l(0,"div",58)(1,"button",59),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",60),m(3),g(4,"translate"),a(),l(5,"button",61),v(6,"i",62),m(7),g(8,"translate"),a()()}if(t&2){S();let o=J(9);s(3),_(" ",T(4,3,"ACTION.CANCEL")," "),s(2),h("disabled",!o.form.valid),s(2),_(" ",T(8,5,"ACTION.SAVE")," ")}}var en=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new kt,x,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserService=d,this.cmsToastrService=p,this.tokenHelper=c,this.publicHelper=x,this.cdr=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Ct,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(ke.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSiteSelect(i){i&&i.id>0&&(this.dataModel.linkSiteId=i.id)}onActionUserSelect(i){i&&i.id>0&&(this.dataModel.linkUserId=i.id)}onActionMemberSelect(i){i&&i.id.length>0&&(this.dataModel.linkMemberId=i.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(Tt),C(W),C(F),C(j),C(N),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(Xa,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,e){if(n&1){let d=A();l(0,"div",10),v(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),l(8,"form",14,0),I("ngSubmit",function(){return f(d),u(e.onFormSubmit())}),w(10,Ya,1,5,"app-cms-enum-record-status-selector",15),l(11,"div",16)(12,"select",17,1),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkMemberId,c)||(e.dataModel.linkMemberId=c),u(c)}),w(14,Za,2,2,"option",18),a(),l(15,"em"),m(16),g(17,"translate"),a(),w(18,$a,5,3,"mat-error",19),a(),l(19,"div",16)(20,"select",20,2),R("ngModelChange",function(c){return f(d),y(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),u(c)}),w(22,es,2,2,"option",18),a(),l(23,"em"),m(24),g(25,"translate"),a(),w(26,ts,5,3,"mat-error",19),a(),l(27,"app-cms-site-selector",21),g(28,"translate"),I("optionChange",function(c){return f(d),u(e.onActionSiteSelect(c))}),a(),l(29,"app-cms-user-selector",21),g(30,"translate"),I("optionChange",function(c){return f(d),u(e.onActionUserSelect(c))}),a(),l(31,"app-cms-member-selector",21),g(32,"translate"),I("optionChange",function(c){return f(d),u(e.onActionMemberSelect(c))}),a(),w(33,is,8,2,"div",22)(34,ns,8,2,"div",22)(35,os,8,2,"div",22),l(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),a(),l(39,"input",25,3),R("ngModelChange",function(c){return f(d),y(e.dataModel.browserLanguage,c)||(e.dataModel.browserLanguage=c),u(c)}),a()(),l(41,"div",23)(42,"label",26),m(43,"UserLanguage"),a(),l(44,"input",27,4),R("ngModelChange",function(c){return f(d),y(e.dataModel.userLanguage,c)||(e.dataModel.userLanguage=c),u(c)}),a()(),l(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),a(),l(49,"input",29,5),R("ngModelChange",function(c){return f(d),y(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),u(c)}),a()(),l(51,"div",23)(52,"label",30),m(53,"Token"),a(),l(54,"input",31,6),R("ngModelChange",function(c){return f(d),y(e.dataModel.token,c)||(e.dataModel.token=c),u(c)}),a()(),l(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),a(),l(59,"input",33,7),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),u(c)}),a()(),l(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),a(),l(64,"input",35,8),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),u(c)}),a()(),w(66,rs,7,4,"div",36)(67,as,3,3,"div",19)(68,ss,9,7,"div",37),a()()()}if(n&2){let d=J(13),p=J(21);s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(2),k("ngModel",e.dataModel.linkMemberId),s(2),h("ngForOf",e.dataModelEnumManageUserAccessUserTypesResult.listItems),s(2),D(T(17,35,"TITLE.SELECT_STATUS")),s(2),h("ngIf",d.errors==null?null:d.errors.required),s(2),k("ngModel",e.dataModel.userAccessAreaType),s(2),h("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),D(T(25,37,"TITLE.SELECT_STATUS")),s(2),h("ngIf",p.errors==null?null:p.errors.required),s(),h("optionDisabled",!1)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(28,39,"TITLE.WEBSITE")),s(2),h("optionDisabled",!1)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(30,41,"TITLE.USER")),s(2),h("optionDisabled",!1)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",T(32,43,"TITLE.Member")),s(2),h("ngIf",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),s(),h("ngIf",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),s(),h("ngIf",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.accessWatchField),s(4),k("ngModel",e.dataModel.browserLanguage),s(5),k("ngModel",e.dataModel.userLanguage),s(5),k("ngModel",e.dataModel.deviceClientMAC),s(5),k("ngModel",e.dataModel.token),s(5),k("ngModel",e.dataModel.linkDeviceId),s(5),k("ngModel",e.dataModel.linkApplicationId),s(2),h("ngIf",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.accessWatchField),s(),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),s(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ii,O,yi,ri,ai,ni,gi,oi,ue,Ei,he,ki,vi,wi,Ii,si,Ti,Se,et,lt,it,li,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var ls=["vform"];function cs(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var tn=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(Tt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(ls,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,cs,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var ds=()=>[5,10,20,100],ms=t=>({display:t});function ps(t,r){if(t&1){let o=A();l(0,"a",52),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",53),a()}}function fs(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",54),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",55)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function us(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",56),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",57)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function hs(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",58),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",59)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function Ss(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function _s(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function Cs(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function gs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Ts(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function vs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function ws(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Is(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberId," ")}}function bs(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Ms(t,r){if(t&1&&v(0,"select",63),t&2){let o=S().$implicit,i=S();h("contentService",i.contentService)("row",o)("ngStyle",dt(3,ms,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function As(t,r){if(t&1&&(l(0,"mat-cell",61),g(1,"statusCellClass"),v(2,"i",61),g(3,"statusIconClass"),w(4,Ms,1,5,"select",62),a()),t&2){let o=r.$implicit,i=S();h("ngClass",T(1,3,o.recordStatus)),s(2),h("ngClass",T(3,5,o.recordStatus)),s(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Es(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ks(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ys(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Rs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function xs(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ls(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Ds(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Us(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Vs(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Bs(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function Ns(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Os(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Ps(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Gs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.tokenExpireDate)," ")}}function Hs(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function Fs(t,r){if(t&1&&(l(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function Ws(t,r){t&1&&v(0,"mat-header-row")}function js(t,r){if(t&1){let o=A();l(0,"mat-row",66),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var ui=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new kt,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new kt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(tn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(en,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(Tt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,ps,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",13),I("click",function(){return f(d),u(e.onActionButtonStatist())}),l(17,"mat-slide-toggle",15),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,16),b(21,17),w(22,fs,7,3,"div",18)(23,us,7,3,"div",18),l(24,"div",19)(25,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",21)(27,"br"),a(),l(28,"p",22),m(29),g(30,"translate"),a()(),l(31,"div",19)(32,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(33,"i",23)(34,"br"),a(),l(35,"p",22),m(36),g(37,"translate"),a()(),l(38,"div",19)(39,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewMemberRow(e.tableRowSelected))}),v(40,"i",24)(41,"br"),a(),l(42,"p",22),m(43),g(44,"translate"),a()(),l(45,"div",19)(46,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewDeviceRow(e.tableRowSelected))}),v(47,"i",25)(48,"br"),a(),l(49,"p",22),m(50),g(51,"translate"),a()(),w(52,hs,7,3,"div",18),M(),b(53,26),l(54,"app-cms-search-list",27),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(55,"app-cms-statist-list",27),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(56,28),l(57,"mat-table",29,0),I("matSortChange",function(){f(d);let c=J(58);return u(e.onTableSortData(c))}),b(59,30),w(60,Ss,2,1,"mat-header-cell",31)(61,_s,2,1,"mat-cell",32),M(),b(62,33),w(63,Cs,2,1,"mat-header-cell",31)(64,gs,4,5,"mat-cell",32),M(),b(65,34),w(66,Ts,2,1,"mat-header-cell",31)(67,vs,4,5,"mat-cell",32),M(),b(68,35),w(69,ws,2,1,"mat-header-cell",31)(70,Is,2,1,"mat-cell",32),M(),b(71,36),w(72,bs,2,1,"mat-header-cell",31)(73,As,5,7,"mat-cell",37),M(),b(74,38),w(75,Es,2,1,"mat-header-cell",31)(76,ks,3,4,"mat-cell",32),M(),b(77,39),w(78,ys,2,1,"mat-header-cell",31)(79,Rs,3,4,"mat-cell",32),M(),b(80,40),w(81,xs,2,1,"mat-header-cell",31)(82,Ls,3,3,"mat-cell",32),M(),b(83,41),w(84,Ds,2,1,"mat-header-cell",31)(85,Us,3,3,"mat-cell",32),M(),b(86,42),w(87,Vs,2,1,"mat-header-cell",31)(88,Bs,3,3,"mat-cell",32),M(),b(89,43),w(90,Ns,2,1,"mat-header-cell",31)(91,Os,2,1,"mat-cell",32),M(),b(92,44),w(93,Ps,2,1,"mat-header-cell",31)(94,Gs,2,1,"mat-cell",32),M(),b(95,45),w(96,Hs,3,3,"mat-header-cell",46)(97,Fs,6,1,"mat-cell",47),M(),w(98,Ws,1,0,"mat-header-row",48)(99,js,1,6,"mat-row",49),a(),M(),b(100,50),l(101,"mat-paginator",51,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,28,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,30,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(30,32,"ACTION.SITE")),s(7),D(T(37,34,"ACTION.USER")),s(7),D(T(44,36,"ACTION.MEMBER")),s(7),D(T(51,38,"ACTION.DEVICE")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(41),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(40,ds)))},dependencies:[at,O,mt,ue,he,be,Ae,Se,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,pt,ve,G,Xe,Le,Ke,ut,ft,st],encapsulation:2});let t=r;return t})();var qs=["vform"];function Qs(t,r){if(t&1&&(l(0,"option",27),m(1),a()),t&2){let o=r.$implicit;h("value",o.value),s(),_(" ",o.description," ")}}function zs(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),a()()),t&2&&(s(3),D(T(4,1,"MESSAGE.required")))}function Js(t,r){if(t&1&&(l(0,"div"),v(1,"div",28),g(2,"prettyjson"),a()),t&2){let o=S();s(),h("innerHTML",T(2,1,o.dataModel),ht)}}function Ks(t,r){if(t&1){let o=A();l(0,"div",29)(1,"button",30),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",31),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var nn=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new Rt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserBadLoginService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(ke.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(wt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(qs,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){if(n&1){let d=A();l(0,"div",6),v(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),l(8,"div",10)(9,"label",11),m(10,"UsedUsername"),a(),l(11,"input",12,0),R("ngModelChange",function(c){return f(d),y(e.dataModel.usedUsername,c)||(e.dataModel.usedUsername=c),u(c)}),a()(),l(13,"div",10)(14,"label",13),m(15,"UsedPwd"),a(),l(16,"input",14,1),R("ngModelChange",function(c){return f(d),y(e.dataModel.usedPwd,c)||(e.dataModel.usedPwd=c),u(c)}),a()(),l(18,"div",15)(19,"select",16,2),R("ngModelChange",function(c){return f(d),y(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),u(c)}),w(21,Qs,2,2,"option",17),a(),l(22,"em"),m(23),g(24,"translate"),a(),w(25,zs,5,3,"mat-error",18),a(),v(26,"app-cms-site-selector",19),g(27,"translate"),v(28,"app-cms-user-selector",19),g(29,"translate"),v(30,"app-cms-member-selector",19),g(31,"translate"),l(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),a(),l(35,"input",21,3),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),u(c)}),a()(),l(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),a(),l(40,"input",23,4),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),u(c)}),a()(),l(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),a(),l(45,"input",25,5),R("ngModelChange",function(c){return f(d),y(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),u(c)}),a()(),w(47,Js,3,3,"div",18)(48,Ks,5,3,"div",26),a()()}if(n&2){let d=J(20);s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),s(5),k("ngModel",e.dataModel.usedUsername),s(5),k("ngModel",e.dataModel.usedPwd),s(3),k("ngModel",e.dataModel.userAccessAreaType),s(2),h("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),D(T(24,25,"TITLE.SELECT_STATUS")),s(2),h("ngIf",d.errors==null?null:d.errors.required),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(27,27,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(29,29,"TITLE.USER")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",T(31,31,"TITLE.Member")),s(5),k("ngModel",e.dataModel.linkDeviceId),s(5),k("ngModel",e.dataModel.linkApplicationId),s(5),k("ngModel",e.dataModel.deviceClientMAC),s(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),s(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ii,O,ri,ai,ni,oi,ue,he,si,Se,et,it,li,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Xs=["vform"];function Ys(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var on=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserBadLoginService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(wt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(Xs,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,Ys,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var Zs=()=>[5,10,20,100];function $s(t,r){if(t&1){let o=A();l(0,"a",46),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",47),a()}}function el(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",48),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",49)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function tl(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",50),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",51)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function il(t,r){if(t&1){let o=A();l(0,"div",19)(1,"a",52),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",53)(3,"br"),a(),l(4,"p",22),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function nl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ol(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function rl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function al(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function sl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function ll(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function cl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function dl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberId," ")}}function ml(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function pl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function fl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.usedUsername==null?null:o.fieldsInfo.usedUsername.fieldTitle," ")}}function ul(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.usedUsername," ")}}function hl(t,r){if(t&1&&(l(0,"mat-header-cell",54),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Sl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function _l(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function Cl(t,r){if(t&1&&(l(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function gl(t,r){t&1&&v(0,"mat-header-row")}function Tl(t,r){if(t&1){let o=A();l(0,"mat-row",57),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var hi=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te,E){if(super(n,new Rt,Te,c,V),this.coreEnumService=i,this.contentService=n,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=p,this.tokenHelper=c,this.cdr=x,this.translate=V,this.router=U,this.pageInfo=fe,this.publicHelper=Te,this.dialog=E,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let ct=new q;ct.propertyName="LinkCmsSiteId",ct.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ct)}if(this.requestLinkUserId>0){let ct=new q;ct.propertyName="LinkUserId",ct.value=this.requestLinkUserId,this.filteModelContent.filters.push(ct)}if(this.requestLinkDeviceId>0){let ct=new q;ct.propertyName="LinkDeviceId",ct.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(ct)}this.optionsSearch.parentMethods={onSubmit:ct=>this.onSubmitOptionsSearch(ct)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(on,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(nn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(z),C(wt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,$s,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",13),I("click",function(){return f(d),u(e.onActionButtonStatist())}),l(17,"mat-slide-toggle",15),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,16),b(21,17),w(22,el,7,3,"div",18)(23,tl,7,3,"div",18),l(24,"div",19)(25,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewSiteRow(e.tableRowSelected))}),v(26,"i",21)(27,"br"),a(),l(28,"p",22),m(29),g(30,"translate"),a()(),l(31,"div",19)(32,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewUserRow(e.tableRowSelected))}),v(33,"i",23)(34,"br"),a(),l(35,"p",22),m(36),g(37,"translate"),a()(),l(38,"div",19)(39,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewMemberRow(e.tableRowSelected))}),v(40,"i",24)(41,"br"),a(),l(42,"p",22),m(43),g(44,"translate"),a()(),l(45,"div",19)(46,"a",20),I("click",function(){return f(d),u(e.onActionButtonViewDeviceRow(e.tableRowSelected))}),v(47,"i",25)(48,"br"),a(),l(49,"p",22),m(50),g(51,"translate"),a()(),w(52,il,7,3,"div",18),M(),b(53,26),l(54,"app-cms-search-list",27),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(55,"app-cms-statist-list",27),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(56,28),l(57,"mat-table",29,0),I("matSortChange",function(){f(d);let c=J(58);return u(e.onTableSortData(c))}),b(59,30),w(60,nl,2,1,"mat-header-cell",31)(61,ol,2,1,"mat-cell",32),M(),b(62,33),w(63,rl,2,1,"mat-header-cell",31)(64,al,4,5,"mat-cell",32),M(),b(65,34),w(66,sl,2,1,"mat-header-cell",31)(67,ll,4,5,"mat-cell",32),M(),b(68,35),w(69,cl,2,1,"mat-header-cell",31)(70,dl,2,1,"mat-cell",32),M(),b(71,36),w(72,ml,2,1,"mat-header-cell",31)(73,pl,3,4,"mat-cell",32),M(),b(74,37),w(75,fl,2,1,"mat-header-cell",31)(76,ul,2,1,"mat-cell",32),M(),b(77,38),w(78,hl,2,1,"mat-header-cell",31)(79,Sl,2,1,"mat-cell",32),M(),b(80,39),w(81,_l,3,3,"mat-header-cell",40)(82,Cl,6,1,"mat-cell",41),M(),w(83,gl,1,0,"mat-header-row",42)(84,Tl,1,6,"mat-row",43),a(),M(),b(85,44),l(86,"mat-paginator",45,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,28,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,30,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(6),D(T(30,32,"ACTION.SITE")),s(7),D(T(37,34,"ACTION.USER")),s(7),D(T(44,36,"ACTION.MEMBER")),s(7),D(T(51,38,"ACTION.DEVICE")),s(2),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(26),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(40,Zs)))},dependencies:[O,ue,he,be,Ae,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,ve,G,Xe,Le,Ke],encapsulation:2});let t=r;return t})();var vl=["vform"];function wl(t,r){if(t&1){let o=A();l(0,"app-cms-enum-record-status-selector",36),R("modelChange",function(n){f(o);let e=S();return y(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),u(n)}),a()}if(t&2){let o=S();k("model",o.dataModel.recordStatus),h("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Il(t,r){if(t&1&&(l(0,"option",37),m(1),a()),t&2){let o=r.$implicit;h("value",o.value),s(),_(" ",o.description," ")}}function bl(t,r){t&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),a()()),t&2&&(s(3),D(T(4,1,"MESSAGE.required")))}function Ml(t,r){if(t&1&&(l(0,"option",37),m(1),a()),t&2){let o=r.$implicit;h("value",o.value),s(),_(" ",o.description," ")}}function Al(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),a()()),t&2&&(s(3),D(T(4,1,"MESSAGE.required")))}function El(t,r){if(t&1){let o=A();l(0,"div",38)(1,"div",39)(2,"h5",40),m(3),a()(),l(4,"div",41)(5,"div",42)(6,"input",43),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.userAccessAdminAllowToAllData,n)||(e.dataModel.userAccessAdminAllowToAllData=n),u(n)}),a(),v(7,"label",44),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),s(3),k("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function kl(t,r){if(t&1){let o=A();l(0,"div",38)(1,"div",39)(2,"h5",45),m(3),a()(),l(4,"div",41)(5,"div",42)(6,"input",46),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.userAccessAdminAllowToProfessionalData,n)||(e.dataModel.userAccessAdminAllowToProfessionalData=n),u(n)}),a(),v(7,"label",47),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),s(3),k("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function yl(t,r){if(t&1){let o=A();l(0,"div",38)(1,"div",39)(2,"h5",48),m(3),a()(),l(4,"div",41)(5,"div",42)(6,"input",49),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.rememberOnDevice,n)||(e.dataModel.rememberOnDevice=n),u(n)}),a(),v(7,"label",50),a()()()}if(t&2){let o=S();s(3),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),s(3),k("ngModel",o.dataModel.rememberOnDevice)}}function Rl(t,r){if(t&1){let o=A();l(0,"div",21)(1,"label",51),m(2),a(),l(3,"input",52),R("ngModelChange",function(n){f(o);let e=S();return y(e.dataModel.tokenExpireDate,n)||(e.dataModel.tokenExpireDate=n),u(n)}),a(),v(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),a()}if(t&2){let o=J(6),i=S();s(2),D(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),s(),h("matDatepicker",o),k("ngModel",i.dataModel.tokenExpireDate),s(),h("for",o)}}function xl(t,r){if(t&1&&(l(0,"div"),v(1,"div",55),g(2,"prettyjson"),a()),t&2){let o=S();s(),h("innerHTML",T(2,1,o.dataModel),ht)}}function Ll(t,r){if(t&1){let o=A();l(0,"div",56)(1,"button",57),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",58),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var rn=(()=>{let r=class r extends nt{constructor(i,n,e,d,p,c,x,V,U){super(d,new yt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Ct,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(ke.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(vt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(vl,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){if(n&1){let d=A();l(0,"div",9),v(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),m(4),a(),l(5,"p"),m(6),g(7,"translate"),a(),w(8,wl,1,5,"app-cms-enum-record-status-selector",13),l(9,"div",14)(10,"select",15,0),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkMemberId,c)||(e.dataModel.linkMemberId=c),u(c)}),w(12,Il,2,2,"option",16),a(),l(13,"em"),m(14),g(15,"translate"),a(),w(16,bl,5,3,"mat-error",17),a(),l(17,"div",14)(18,"select",18,1),R("ngModelChange",function(c){return f(d),y(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),u(c)}),w(20,Ml,2,2,"option",16),a(),l(21,"em"),m(22),g(23,"translate"),a(),w(24,Al,5,3,"mat-error",17),a(),v(25,"app-cms-site-selector",19),g(26,"translate"),v(27,"app-cms-user-selector",19),g(28,"translate"),v(29,"app-cms-member-selector",19),g(30,"translate"),w(31,El,8,2,"div",20)(32,kl,8,2,"div",20)(33,yl,8,2,"div",20),l(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),a(),l(37,"input",23,2),R("ngModelChange",function(c){return f(d),y(e.dataModel.browserLanguage,c)||(e.dataModel.browserLanguage=c),u(c)}),a()(),l(39,"div",21)(40,"label",24),m(41,"UserLanguage"),a(),l(42,"input",25,3),R("ngModelChange",function(c){return f(d),y(e.dataModel.userLanguage,c)||(e.dataModel.userLanguage=c),u(c)}),a()(),l(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),a(),l(47,"input",27,4),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),u(c)}),a()(),l(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),a(),l(52,"input",29,5),R("ngModelChange",function(c){return f(d),y(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),u(c)}),a()(),l(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),a(),l(57,"input",31,6),R("ngModelChange",function(c){return f(d),y(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),u(c)}),a()(),l(59,"div",21)(60,"label",32),m(61,"Token"),a(),l(62,"input",33,7),R("ngModelChange",function(c){return f(d),y(e.dataModel.token,c)||(e.dataModel.token=c),u(c)}),a()(),w(64,Rl,7,4,"div",34)(65,xl,3,3,"div",17)(66,Ll,5,3,"div",35),a()()}if(n&2){let d=J(11),p=J(19);s(),h("optionsInfoAreaId",e.constructorInfoAreaId),s(3),_(" ",e.formInfo.formTitle," "),s(2),_(" ",T(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),s(2),h("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),s(2),k("ngModel",e.dataModel.linkMemberId),s(2),h("ngForOf",e.dataModelEnumManageUserAccessUserTypesResult.listItems),s(2),D(T(15,35,"TITLE.SELECT_STATUS")),s(2),h("ngIf",d.errors==null?null:d.errors.required),s(2),k("ngModel",e.dataModel.userAccessAreaType),s(2),h("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),s(2),D(T(23,37,"TITLE.SELECT_STATUS")),s(2),h("ngIf",p.errors==null?null:p.errors.required),s(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",T(26,39,"TITLE.WEBSITE")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",T(28,41,"TITLE.USER")),s(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",T(30,43,"TITLE.Member")),s(2),h("ngIf",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),s(),h("ngIf",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),s(),h("ngIf",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.accessWatchField),s(4),k("ngModel",e.dataModel.browserLanguage),s(5),k("ngModel",e.dataModel.userLanguage),s(5),k("ngModel",e.dataModel.linkDeviceId),s(5),k("ngModel",e.dataModel.linkApplicationId),s(5),k("ngModel",e.dataModel.deviceClientMAC),s(5),k("ngModel",e.dataModel.token),s(2),h("ngIf",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.accessWatchField),s(),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),s(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ii,O,ri,ai,ni,gi,oi,ue,he,vi,wi,Ii,si,Ti,Se,et,lt,it,li,ie,G,St],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Dl=["vform"];function Ul(t,r){if(t&1){let o=A();l(0,"div",5)(1,"button",10),I("click",function(){f(o);let n=S();return u(n.onFormCancel())}),v(2,"i",11),m(3),g(4,"translate"),a()()}t&2&&(s(3),_(" ",T(4,1,"ACTION.CANCEL")," "))}var an=(()=>{let r=class r{constructor(i,n,e,d,p,c,x,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserLogService=d,this.cmsToastrService=p,this.tokenHelper=c,this.cdr=x,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Re,this.dataModelResult=new L,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new L,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(C(ee),C($),C(z),C(vt),C(W),C(F),C(N),C(j),C(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(Dl,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),a(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),a(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),a(),l(9,"small",7),m(10),a()()(),l(11,"div",8),w(12,Ul,5,3,"div",9),a()),n&2&&(s(),_(" ",e.formInfo.formTitle," "),s(2),h("optionsInfoAreaId",e.constructorInfoAreaId),s(),h("dataModel",e.dataModel)("optionMethod",1),s(4),_("",e.formInfo.formAlert," "),s(2),_("",e.formInfo.formError," "),s(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[O,ie,Ze,G]});let t=r;return t})();var Vl=()=>["expandedTitle"],Bl=()=>[5,10,20,100];function Nl(t,r){if(t&1){let o=A();l(0,"a",45),I("click",function(){f(o);let n=S();return u(n.onActionBackToParent())}),v(1,"i",46),a()}}function Ol(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",48),I("click",function(){f(o);let n=S();return u(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",49)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.EDIT")))}function Pl(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",51),I("click",function(){f(o);let n=S();return u(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",52)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DELETE")))}function Gl(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewSiteRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.SITE")))}function Hl(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewUserRow(n.tableRowSelected))}),v(2,"i",55)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.USER")))}function Fl(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",53),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewDeviceRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.DEVICE")))}function Wl(t,r){if(t&1){let o=A();l(0,"div",47)(1,"a",57),I("click",function(){f(o);let n=S();return u(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),a(),l(4,"p",50),m(5),g(6,"translate"),a()()}t&2&&(s(5),D(T(6,1,"ACTION.VIEW")))}function jl(t,r){if(t&1){let o=A();l(0,"mat-row",59),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))})("mouseenter",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowMouseEnter(n))})("mouseleave",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowMouseLeave(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function ql(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ql(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.id," ")}}function zl(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," ")}}function Jl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.description," ")}}function Kl(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Yl(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Zl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),a()),t&2){let o=r.$implicit;s(),_(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function $l(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ec(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit;s(),_(" ",o.linkMemberUserId," ")}}function tc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ic(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function nc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function oc(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function rc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ac(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function sc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function lc(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function cc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function dc(t,r){if(t&1&&(l(0,"mat-cell"),v(1,"i",61),g(2,"boolclass"),a()),t&2){let o=r.$implicit;s(),h("ngClass",T(2,1,o.rememberOnDevice))}}function mc(t,r){if(t&1&&(l(0,"mat-header-cell",60),m(1),a()),t&2){let o=S();s(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function pc(t,r){if(t&1&&(l(0,"mat-cell"),m(1),a()),t&2){let o=r.$implicit,i=S();s(),_(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function fc(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),a()),t&2&&(s(),_(" ",T(2,1,"TITLE.OPTION")," "))}function uc(t,r){if(t&1&&(l(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),m(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let o=J(5);s(),h("matMenuTriggerFor",o)}}function hc(t,r){t&1&&v(0,"mat-header-row")}function Sc(t,r){if(t&1){let o=A();l(0,"mat-row",64),I("click",function(){let n=f(o).$implicit,e=S();return u(e.onActionTableRowSelect(n))}),a()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=S();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function _c(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"translate"),v(3,"br"),m(4),g(5,"translate"),v(6,"br"),m(7),g(8,"translate"),g(9,"cmssiteinfo"),g(10,"async"),v(11,"br"),m(12),g(13,"translate"),g(14,"cmsuserinfo"),g(15,"async"),v(16,"br"),m(17),g(18,"translate"),a()),t&2){let o=r.$implicit,i=S();s(),ti(" ",T(2,10,"TITLE.Id")," : ",o.id," "),s(3),ti(" ",T(5,12,"TITLE.Description")," : ",o.description," "),s(3),ti(" ",T(8,14,"TITLE.Site_Id")," : ",T(10,18,T(9,16,o.linkSiteId))," "),s(5),ti(" ",T(13,20,"TITLE.User_Id")," : ",T(15,24,T(14,22,o.linkUserId))," "),s(5),ti(" ",T(18,26,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}var Si=(()=>{let r=class r extends ot{constructor(i,n,e,d,p,c,x,V,U,fe,Te){if(super(i,new yt,fe,p,x),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=p,this.cdr=c,this.translate=x,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Te,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.dataModelEnumManageUserAccessAreaTypesResult=new L,this.dataModelEnumManageUserAccessUserTypesResult=new L,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(an,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let p=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(p,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Ee.Available,d.filters.push(p),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{n.set(x,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(C(vt),C(W),C(_e),C(we),C(F),C(N),C(P),C(Ie),C(xe),C(j),C(Me))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=A();l(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(c){return f(d),y(e.viewGuideNotice,c)||(e.viewGuideNotice=c),u(c)}),I("optionOnActionButtonMemoRow",function(){return f(d),u(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(d),u(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(d),u(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(d),u(e.onActionButtonPrintRow())}),b(1,4),m(2," -------------------------------------- "),M(),oe(3,5)(4,6),b(5,7),w(6,Nl,2,0,"a",8),l(7,"a",9),I("click",function(){return f(d),u(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",10),a(),l(9,"a",9),I("click",function(){return f(d),u(e.onActionButtonReload())}),v(10,"i",11),a(),M(),b(11,12),l(12,"a",13),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",14),R("ngModelChange",function(c){return f(d),y(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),u(c)}),I("click",function(){return f(d),u(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),m(14),g(15,"translate"),a(),l(16,"a",13),I("click",function(){return f(d),u(e.onActionButtonStatist())}),l(17,"mat-slide-toggle",15),I("click",function(){return f(d),u(e.onActionButtonStatist())}),R("ngModelChange",function(c){return f(d),y(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),u(c)}),a(),m(18),g(19,"translate"),a(),M(),oe(20,16),b(21,17),w(22,Ol,7,3,"div",18)(23,Pl,7,3,"div",18)(24,Gl,7,3,"div",18)(25,Hl,7,3,"div",18)(26,Fl,7,3,"div",18)(27,Wl,7,3,"div",18),M(),b(28,19),l(29,"app-cms-search-list",20),R("optionsChange",function(c){return f(d),y(e.optionsSearch,c)||(e.optionsSearch=c),u(c)}),a(),l(30,"app-cms-statist-list",20),R("optionsChange",function(c){return f(d),y(e.optionsStatist,c)||(e.optionsStatist=c),u(c)}),a(),M(),b(31,21),l(32,"mat-table",22,0),I("matSortChange",function(){f(d);let c=J(33);return u(e.onTableSortData(c))}),w(34,jl,1,6,"mat-row",23),b(35,24),w(36,ql,2,1,"mat-header-cell",25)(37,Ql,2,1,"mat-cell",26),M(),b(38,27),w(39,zl,2,1,"mat-header-cell",25)(40,Jl,2,1,"mat-cell",26),M(),b(41,28),w(42,Kl,2,1,"mat-header-cell",25)(43,Xl,4,5,"mat-cell",26),M(),b(44,29),w(45,Yl,2,1,"mat-header-cell",25)(46,Zl,4,5,"mat-cell",26),M(),b(47,30),w(48,$l,2,1,"mat-header-cell",25)(49,ec,2,1,"mat-cell",26),M(),b(50,31),w(51,tc,2,1,"mat-header-cell",25)(52,ic,3,4,"mat-cell",26),M(),b(53,32),w(54,nc,2,1,"mat-header-cell",25)(55,oc,3,4,"mat-cell",26),M(),b(56,33),w(57,rc,2,1,"mat-header-cell",25)(58,ac,3,3,"mat-cell",26),M(),b(59,34),w(60,sc,2,1,"mat-header-cell",25)(61,lc,3,3,"mat-cell",26),M(),b(62,35),w(63,cc,2,1,"mat-header-cell",25)(64,dc,3,3,"mat-cell",26),M(),b(65,36),w(66,mc,2,1,"mat-header-cell",25)(67,pc,2,1,"mat-cell",26),M(),b(68,37),w(69,fc,3,3,"mat-header-cell",38)(70,uc,6,1,"mat-cell",39),M(),w(71,hc,1,0,"mat-header-row",40)(72,Sc,1,6,"mat-row",41),b(73,42),w(74,_c,19,28,"mat-cell",26),M(),a(),M(),b(75,43),l(76,"mat-paginator",44,1),I("page",function(c){return f(d),u(e.onTablePageingData(c))}),a(),M(),a()}n&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),k("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),s(6),h("ngIf",e.requestLinkSiteId>0),s(7),k("ngModel",e.optionsSearch.data.show),s(),_("",T(15,28,"ACTION.SEARCH")," "),s(3),k("ngModel",e.optionsStatist.data.show),s(),_("",T(19,30,"ACTION.STATIST")," "),s(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),s(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),s(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)>0),s(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),s(),h("ngIf",(e.tableRowSelected==null||e.tableRowSelected.deviceClientMAC==null?null:e.tableRowSelected.deviceClientMAC.length)>0),s(),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),s(2),k("options",e.optionsSearch),s(),k("options",e.optionsStatist),s(2),h("dataSource",e.tableSource),s(2),h("matRowDefColumns",ge(32,Vl)),s(37),h("matHeaderRowDef",e.tabledisplayedColumns),s(),h("matRowDefColumns",e.tabledisplayedColumns),s(4),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(33,Bl)))},dependencies:[at,O,ue,he,be,Ae,De,Ue,Ve,Be,Ne,Oe,Pe,He,qe,Fe,Ge,Qe,We,je,ze,Je,$e,tt,Ye,ve,G,Xe,Le,Ke,st],encapsulation:2});let t=r;return t})();var Cc=[{path:"",component:Pi,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ui,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:Si,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:hi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:hi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:hi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:hi,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Oi,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:qi,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:Fi,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Yi,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:Ji,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],sn=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=Ci({type:r}),r.\u0275inj=_i({imports:[Mi.forChild(Cc),Mi]});let t=r;return t})();var yp=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=Ci({type:r}),r.\u0275inj=_i({providers:[Di,z,Tt,vt,wt,gt,It,bt,Mt,At,Ui,_e],imports:[sn,Ai,Ri,xi.withConfig({warnOnNgModelWithFormControl:"never"}),Vi]});let t=r;return t})();export{yp as CoreTokenModule};
