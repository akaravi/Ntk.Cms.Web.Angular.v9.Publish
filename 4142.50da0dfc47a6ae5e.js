"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4142],{4142:(de,se,S)=>{S.r(se),S.d(se,{CoreTokenModule:()=>Jr});var h=S(6610),b=S(7222),c=S(8189),y=S(5459),oe=S(8550),k=S(9675),L=S(9915),C=S(5312),T=S(6482),U=S(5113),e=S(7788),I=S(9722),R=S(8339),g=S(2882),M=S(5154),G=S(6628),J=S(1536),N=S(9028),A=S(7912);const me=["vform"];function pe(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ue(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let fe=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;translate;publicHelper;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.iKk,u,_),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.translate=_,this.publicHelper=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.N$V;dataModel=new c.iKk;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.FYP.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(M.A))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(me,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,pe,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,ue,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,G.p,J.m,N.X,A._,g.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var F=S(4434),V=S(7848);const he=["vform"];function _e(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Se=(()=>{class n{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.iKk;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(he,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,_e,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();var B=S(6006),O=S(2221),$=S(6182),j=S(4587),E=S(1184),X=S(8966),x=S(4685),v=S(8058),p=S(8403),H=S(6145),q=S(1908),P=S(3036),Z=S(3438),Y=S(9041),K=S(5225),W=S(4209),Q=S(6381),ee=S(1268),z=S(9929);const ge=()=>[5,10,20,100],be=n=>({display:n}),Te=n=>({background:n});function Ce(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function ke(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ie(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Re(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Me(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ae(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Ee(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ve(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function we(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function De(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Le(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ye(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function je(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Ue(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,be,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ge(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Ue,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Ne(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Fe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ve(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Be(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Oe(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function $e(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Xe(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function He(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function qe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Pe(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ye(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ke(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function We(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Je(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ze(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Ze(n,a){1&n&&e.nrm(0,"mat-header-row")}function Qe(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,Te,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let et=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.iKk,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.iKk);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Se,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(fe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.iF$),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Ce,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,ke,7,3,"div",19)(24,Ie,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22),e.k0s(),e.j41(28,"p",23),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"div",20)(32,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(33,"i",24)(34,"br"),e.k0s(),e.j41(35,"p",23),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.DNE(38,Re,7,3,"div",19),e.bVm(),e.qex(39,25),e.j41(40,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(41,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(42,27),e.j41(43,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(44);return e.Njj(o.onTableSortData(s))}),e.qex(45,29),e.DNE(46,Me,2,1,"mat-header-cell",30)(47,Ae,2,1,"mat-cell",31),e.bVm(),e.qex(48,32),e.DNE(49,Ee,2,1,"mat-header-cell",30)(50,ve,4,5,"mat-cell",31),e.bVm(),e.qex(51,33),e.DNE(52,we,2,1,"mat-header-cell",30)(53,De,4,5,"mat-cell",31),e.bVm(),e.qex(54,34),e.DNE(55,Le,2,1,"mat-header-cell",30)(56,ye,2,1,"mat-cell",31),e.bVm(),e.qex(57,35),e.DNE(58,je,2,1,"mat-header-cell",30)(59,Ge,5,7,"mat-cell",36),e.bVm(),e.qex(60,37),e.DNE(61,Ne,2,1,"mat-header-cell",30)(62,Fe,3,4,"mat-cell",31),e.bVm(),e.qex(63,38),e.DNE(64,Ve,2,1,"mat-header-cell",30)(65,Be,3,4,"mat-cell",31),e.bVm(),e.qex(66,39),e.DNE(67,Oe,2,1,"mat-header-cell",30)(68,$e,3,3,"mat-cell",31),e.bVm(),e.qex(69,40),e.DNE(70,Xe,2,1,"mat-header-cell",30)(71,xe,3,3,"mat-cell",31),e.bVm(),e.qex(72,41),e.DNE(73,He,2,1,"mat-header-cell",30)(74,qe,3,3,"mat-cell",31),e.bVm(),e.qex(75,42),e.DNE(76,Pe,2,1,"mat-header-cell",30)(77,Ye,2,1,"mat-cell",31),e.bVm(),e.qex(78,43),e.DNE(79,Ke,2,1,"mat-header-cell",30)(80,We,2,1,"mat-cell",31),e.bVm(),e.qex(81,44),e.DNE(82,Je,3,3,"mat-header-cell",45)(83,ze,6,1,"mat-cell",46),e.bVm(),e.DNE(84,Ze,1,0,"mat-header-row",47)(85,Qe,1,3,"mat-row",48),e.k0s(),e.bVm(),e.qex(86,49),e.j41(87,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(5),e.JRh(e.bMT(30,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(37,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,ge)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})(),tt=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(i,o){1&i&&e.nrm(0,"router-outlet")},dependencies:[k.n3],encapsulation:2})}return n})();const ot=["vform"];function nt(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function it(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let st=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.XMR,s,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.N$V;dataModel=new c.XMR;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(M.A),e.rXU(e.gRc),e.rXU(R._),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(ot,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,nt,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,it,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,G.p,J.m,N.X,A._,g.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const rt=["vform"];function at(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let lt=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.XMR;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(rt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,at,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9],encapsulation:2})}return n})();const ct=()=>[5,10,20,100],dt=n=>({display:n}),mt=n=>({background:n});function pt(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function ut(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ft(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ht(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function _t(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function St(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function gt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function bt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Tt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ct(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function kt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function It(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Rt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Mt(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,dt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function At(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Mt,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Et(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function vt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function wt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Dt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Lt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function yt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function jt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ut(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Gt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Nt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Ft(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Vt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Bt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Ot(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function $t(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Xt(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function xt(n,a){1&n&&e.nrm(0,"mat-header-row")}function Ht(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,mt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let qt=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.XMR,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.XMR);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(lt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(st,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.Nci),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservicelog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,pt,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,ut,7,3,"div",19)(24,ft,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,ht,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,_t,2,1,"mat-header-cell",30)(48,St,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,gt,2,1,"mat-header-cell",30)(51,bt,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,Tt,2,1,"mat-header-cell",30)(54,Ct,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,kt,2,1,"mat-header-cell",30)(57,It,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,Rt,2,1,"mat-header-cell",30)(60,At,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,Et,2,1,"mat-header-cell",30)(63,vt,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,wt,2,1,"mat-header-cell",30)(66,Dt,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,Lt,2,1,"mat-header-cell",30)(69,yt,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,jt,2,1,"mat-header-cell",30)(72,Ut,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,Gt,2,1,"mat-header-cell",30)(75,Nt,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,Ft,2,1,"mat-header-cell",30)(78,Vt,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Bt,2,1,"mat-header-cell",30)(81,Ot,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,$t,3,3,"mat-header-cell",45)(84,Xt,6,1,"mat-cell",46),e.bVm(),e.DNE(85,xt,1,0,"mat-header-row",47)(86,Ht,1,3,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,ct)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})();var ne=S(7001);const Pt=["vform"];function Yt(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kt(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Wt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Jt=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.xu$,_,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}dataModelResult=new c.YyC;dataModel=new c.xu$;formGroup;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Pt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:20,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Yt,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Kt,3,3,"div",6)(14,Wt,5,3,"div",7),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,16,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,18,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,G.p,J.m,N.X,A._,g.D9,ne.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const zt=["vform"];function Zt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Qt=(()=>{class n{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.xu$;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(zt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Zt,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();const eo=()=>[5,10,20,100],to=n=>({display:n}),oo=n=>({background:n});function no(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function io(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function so(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ro(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ao(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function lo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function co(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function mo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function po(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function uo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function fo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ho(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function _o(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function So(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,to,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function go(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,So,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function bo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function To(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Co(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function ko(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Io(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ro(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Mo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ao(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Eo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function vo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function wo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Do(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Lo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function yo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function jo(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Uo(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Go(n,a){1&n&&e.nrm(0,"mat-header-row")}function No(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,oo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let Fo=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.xu$,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.xu$);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Qt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Jt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.JD_),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,no,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,io,7,3,"div",19)(24,so,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,ro,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,ao,2,1,"mat-header-cell",30)(48,lo,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,co,2,1,"mat-header-cell",30)(51,mo,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,po,2,1,"mat-header-cell",30)(54,uo,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,fo,2,1,"mat-header-cell",30)(57,ho,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,_o,2,1,"mat-header-cell",30)(60,go,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,bo,2,1,"mat-header-cell",30)(63,To,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,Co,2,1,"mat-header-cell",30)(66,ko,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,Io,2,1,"mat-header-cell",30)(69,Ro,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,Mo,2,1,"mat-header-cell",30)(72,Ao,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,Eo,2,1,"mat-header-cell",30)(75,vo,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,wo,2,1,"mat-header-cell",30)(78,Do,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Lo,2,1,"mat-header-cell",30)(81,yo,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,jo,3,3,"mat-header-cell",45)(84,Uo,6,1,"mat-cell",46),e.bVm(),e.DNE(85,Go,1,0,"mat-header-row",47)(86,No,1,3,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,eo)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})();const Vo=["vform"];function Bo(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Oo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let $o=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.l1T,s,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.N$V;dataModel=new c.l1T;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(M.A),e.rXU(e.gRc),e.rXU(R._),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Vo,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Bo,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Oo,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,15,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,17,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,G.p,J.m,N.X,A._,g.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Xo=["vform"];function xo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Ho=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.l1T;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Xo,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,xo,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9],encapsulation:2})}return n})();const qo=()=>[5,10,20,100],Po=n=>({display:n}),Yo=n=>({background:n});function Ko(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Wo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Jo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function zo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Zo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Qo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function en(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function tn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function on(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function nn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function sn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function rn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function an(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function ln(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Po,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function cn(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,ln,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function dn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function mn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function pn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function un(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function fn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function hn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function _n(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Sn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function gn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function bn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Tn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Cn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function kn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function In(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Rn(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Mn(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function An(n,a){1&n&&e.nrm(0,"mat-header-row")}function En(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,Yo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let vn=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.l1T,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.l1T);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ho,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open($o,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.pCN),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notificationlog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Ko,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Wo,7,3,"div",19)(24,Jo,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,zo,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Zo,2,1,"mat-header-cell",30)(48,Qo,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,en,2,1,"mat-header-cell",30)(51,tn,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,on,2,1,"mat-header-cell",30)(54,nn,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,sn,2,1,"mat-header-cell",30)(57,rn,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,an,2,1,"mat-header-cell",30)(60,cn,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,dn,2,1,"mat-header-cell",30)(63,mn,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,pn,2,1,"mat-header-cell",30)(66,un,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,fn,2,1,"mat-header-cell",30)(69,hn,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,_n,2,1,"mat-header-cell",30)(72,Sn,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,gn,2,1,"mat-header-cell",30)(75,bn,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,Tn,2,1,"mat-header-cell",30)(78,Cn,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,kn,2,1,"mat-header-cell",30)(81,In,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,Rn,3,3,"mat-header-cell",45)(84,Mn,6,1,"mat-cell",46),e.bVm(),e.DNE(85,An,1,0,"mat-header-row",47)(86,En,1,3,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,qo)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})();const wn=["vform"];function Dn(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ln(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function yn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let jn=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.nr_,_,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}dataModelResult=new c.YyC;dataModel=new c.nr_;formGroup;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(wn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:20,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Dn,1,5,"app-cms-enum-record-status-selector",4),e.j41(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.j41(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.mxI("optionLoadingChange",function(l){return e.DH7(o.loading,l)||(o.loading=l),l}),e.k0s(),e.DNE(13,Ln,3,3,"div",6)(14,yn,5,3,"div",7),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(10,16,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(12,18,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,G.p,J.m,N.X,A._,g.D9,ne.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Un=["vform"];function Gn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Nn=(()=>{class n{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.nr_;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Un,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Gn,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();const Fn=()=>[5,10,20,100],Vn=n=>({display:n}),Bn=n=>({background:n});function On(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function $n(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Xn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function xn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Hn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function qn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Pn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Yn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Kn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Wn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Jn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function zn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Zn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Qn(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Vn,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function ei(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Qn,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function ti(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function oi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ni(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function ii(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function si(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ri(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function ai(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function li(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ci(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function di(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function mi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function pi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ui(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function fi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function hi(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function _i(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Si(n,a){1&n&&e.nrm(0,"mat-header-row")}function gi(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,Bn,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let bi=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.nr_,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.nr_);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Nn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(jn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.rM),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,On,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,$n,7,3,"div",19)(24,Xn,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,xn,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Hn,2,1,"mat-header-cell",30)(48,qn,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,Pn,2,1,"mat-header-cell",30)(51,Yn,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,Kn,2,1,"mat-header-cell",30)(54,Wn,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,Jn,2,1,"mat-header-cell",30)(57,zn,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,Zn,2,1,"mat-header-cell",30)(60,ei,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,ti,2,1,"mat-header-cell",30)(63,oi,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,ni,2,1,"mat-header-cell",30)(66,ii,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,si,2,1,"mat-header-cell",30)(69,ri,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,ai,2,1,"mat-header-cell",30)(72,li,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,ci,2,1,"mat-header-cell",30)(75,di,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,mi,2,1,"mat-header-cell",30)(78,pi,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,ui,2,1,"mat-header-cell",30)(81,fi,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,hi,3,3,"mat-header-cell",45)(84,_i,6,1,"mat-cell",46),e.bVm(),e.DNE(85,Si,1,0,"mat-header-row",47)(86,gi,1,3,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Fn)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})();var te=S(2839),ie=S(9344),ce=S(3726);const Ti=["vform"];function Ci(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",38),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ki(n,a){if(1&n&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ii(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ri(n,a){if(1&n&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Mi(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ai(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",42),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",45),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",46),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function Ei(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",47),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",49),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function vi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",50),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",51),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",52),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function wi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",23)(1,"label",53),e.EFF(2),e.k0s(),e.j41(3,"input",54),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),e.k0s()}if(2&n){const t=e.sdS(6),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",i.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function Di(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",57),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Li(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",58)(1,"button",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",60),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",61),e.nrm(6,"i",62),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&n){e.XpG();const t=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let yi=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;publicHelper;cdr;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.zz9,m,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.publicHelper=m,this.cdr=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.YyC;dataModel=new c.zz9;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.FYP.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorEdit(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(R._),e.rXU(M.A),e.rXU(e.gRc),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Ti,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:69,vars:48,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionLoadingChange","optionDisabled","optionLoading","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",10),e.nrm(1,"app-progress-spinner",11),e.j41(2,"div",12)(3,"p",13),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",14,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.DNE(10,Ci,1,5,"app-cms-enum-record-status-selector",15),e.j41(11,"div",16)(12,"select",17,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(14,ki,2,2,"option",18),e.k0s(),e.j41(15,"em"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,Ii,5,3,"mat-error",19),e.k0s(),e.j41(19,"div",16)(20,"select",20,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(22,Ri,2,2,"option",18),e.k0s(),e.j41(23,"em"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.DNE(26,Mi,5,3,"mat-error",19),e.k0s(),e.j41(27,"app-cms-site-selector",21),e.nI1(28,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionSiteSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-user-selector",21),e.nI1(30,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionUserSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(31,"app-cms-member-selector",21),e.nI1(32,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionMemberSelect(s))}),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.DNE(33,Ai,8,2,"div",22)(34,Ei,8,2,"div",22)(35,vi,8,2,"div",22),e.j41(36,"div",23)(37,"label",24),e.EFF(38,"BrowserLanguage"),e.k0s(),e.j41(39,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(41,"div",23)(42,"label",26),e.EFF(43,"UserLanguage"),e.k0s(),e.j41(44,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(46,"div",23)(47,"label",28),e.EFF(48,"DeviceClientMAC"),e.k0s(),e.j41(49,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(51,"div",23)(52,"label",30),e.EFF(53,"Token"),e.k0s(),e.j41(54,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.j41(56,"div",23)(57,"label",32),e.EFF(58,"LinkDeviceId"),e.k0s(),e.j41(59,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(61,"div",23)(62,"label",34),e.EFF(63,"LinkApplicationId"),e.k0s(),e.j41(64,"input",35,8),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.DNE(66,wi,7,4,"div",36)(67,Di,3,3,"div",19)(68,Li,9,7,"div",37),e.k0s()()()}if(2&i){const r=e.sdS(13),l=e.sdS(21);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(17,38,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(25,40,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(28,42,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(30,44,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!1),e.R50("optionLoading",o.loading),e.Y8G("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(32,46,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.Sq,h.bT,b.qT,b.xH,b.y7,b.me,b.Zm,b.wz,b.BC,b.cb,b.vS,b.cV,te.Vh,te.bZ,te.bU,ie.TL,ie.yw,j.fg,G.p,J.m,N.X,ce.W,A._,g.D9,ne.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const ji=["vform"];function Ui(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Gi=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.zz9;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(ji,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Ui,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();const Ni=()=>[5,10,20,100],Fi=n=>({display:n}),Vi=n=>({background:n});function Bi(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",54),e.k0s()}}function Oi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function $i(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Xi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",60)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function xi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Hi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function qi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Yi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ki(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Wi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ji(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function zi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Zi(n,a){if(1&n&&e.nrm(0,"select",64),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Fi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Qi(n,a){if(1&n&&(e.j41(0,"mat-cell",62),e.nI1(1,"statusCellClass"),e.nrm(2,"i",62),e.nI1(3,"statusIconClass"),e.DNE(4,Zi,1,5,"select",63),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function es(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ts(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function os(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function ns(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function is(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ss(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function rs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function as(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ls(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function cs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function ds(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ms(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ps(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function us(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.tokenExpireDate)," ")}}function fs(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function hs(n,a){if(1&n&&(e.j41(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function _s(n,a){1&n&&e.nrm(0,"mat-header-row")}function Ss(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",67),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,Vi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let re=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.zz9,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zz9);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Gi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(yi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.FRq),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:104,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Bi,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Oi,7,3,"div",19)(24,$i,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,Xi,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,xi,2,1,"mat-header-cell",32)(62,Hi,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,qi,2,1,"mat-header-cell",32)(65,Pi,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,Yi,2,1,"mat-header-cell",32)(68,Ki,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,Wi,2,1,"mat-header-cell",32)(71,Ji,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,zi,2,1,"mat-header-cell",32)(74,Qi,5,7,"mat-cell",38),e.bVm(),e.qex(75,39),e.DNE(76,es,2,1,"mat-header-cell",32)(77,ts,3,4,"mat-cell",33),e.bVm(),e.qex(78,40),e.DNE(79,os,2,1,"mat-header-cell",32)(80,ns,3,4,"mat-cell",33),e.bVm(),e.qex(81,41),e.DNE(82,is,2,1,"mat-header-cell",32)(83,ss,3,3,"mat-cell",33),e.bVm(),e.qex(84,42),e.DNE(85,rs,2,1,"mat-header-cell",32)(86,as,3,3,"mat-cell",33),e.bVm(),e.qex(87,43),e.DNE(88,ls,2,1,"mat-header-cell",32)(89,cs,3,3,"mat-cell",33),e.bVm(),e.qex(90,44),e.DNE(91,ds,2,1,"mat-header-cell",32)(92,ms,2,1,"mat-cell",33),e.bVm(),e.qex(93,45),e.DNE(94,ps,2,1,"mat-header-cell",32)(95,us,2,1,"mat-cell",33),e.bVm(),e.qex(96,46),e.DNE(97,fs,3,3,"mat-header-cell",47)(98,hs,6,1,"mat-cell",48),e.bVm(),e.DNE(99,_s,1,0,"mat-header-row",49)(100,Ss,1,3,"mat-row",50),e.k0s(),e.bVm(),e.qex(101,51),e.j41(102,"mat-paginator",52,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey","report.user.list"),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Ni)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,j.fg,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,Z.x,h.Jj,g.D9,Y.p,K.p,W.Z,Q.T,ee.M,z.j],encapsulation:2})}return n})();const gs=["vform"];function bs(n,a){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ts(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Cs(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",28),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function ks(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",29)(1,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Is=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.zPB,_,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.N$V;dataModel=new c.zPB;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.FYP.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(gs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:49,vars:36,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",10)(9,"label",11),e.EFF(10,"UsedUsername"),e.k0s(),e.j41(11,"input",12,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedUsername,s)||(o.dataModel.usedUsername=s),e.Njj(s)}),e.k0s()(),e.j41(13,"div",10)(14,"label",13),e.EFF(15,"UsedPwd"),e.k0s(),e.j41(16,"input",14,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedPwd,s)||(o.dataModel.usedPwd=s),e.Njj(s)}),e.k0s()(),e.j41(18,"div",15)(19,"select",16,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(21,bs,2,2,"option",17),e.k0s(),e.j41(22,"em"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.DNE(25,Ts,5,3,"mat-error",18),e.k0s(),e.j41(26,"app-cms-site-selector",19),e.nI1(27,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-user-selector",19),e.nI1(29,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-member-selector",19),e.nI1(31,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(32,"div",10)(33,"label",20),e.EFF(34,"LinkDeviceId"),e.k0s(),e.j41(35,"input",21,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(37,"div",10)(38,"label",22),e.EFF(39,"LinkApplicationId"),e.k0s(),e.j41(40,"input",23,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",10)(43,"label",24),e.EFF(44,"DeviceClientMAC"),e.k0s(),e.j41(45,"input",25,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.DNE(47,Cs,3,3,"div",18)(48,ks,5,3,"div",26),e.k0s()()}if(2&i){const r=e.sdS(20);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(5),e.R50("ngModel",o.dataModel.usedUsername),e.R7$(5),e.R50("ngModel",o.dataModel.usedPwd),e.R7$(3),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(24,28,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(27,30,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(29,32,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(31,34,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.Sq,h.bT,b.xH,b.y7,b.me,b.wz,b.BC,b.vS,ie.TL,j.fg,G.p,N.X,ce.W,A._,g.D9,ne.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Rs=["vform"];function Ms(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let As=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.zPB;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Rs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Ms,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();const Es=()=>[5,10,20,100],vs=n=>({background:n});function ws(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",48),e.k0s()}}function Ds(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ls(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ys(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function js(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Us(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Gs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ns(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Fs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Vs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Bs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Os(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function $s(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Xs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function xs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function Hs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.usedUsername," ")}}function qs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ps(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ys(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ks(n,a){if(1&n&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Ws(n,a){1&n&&e.nrm(0,"mat-header-row")}function Js(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",58),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,vs,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let ae=(()=>{class n extends L.j{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w,d){if(super(i,new c.zPB,w,s,_),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=m,this.translate=_,this.router=u,this.pageInfo=f,this.publicHelper=w,this.dialog=d,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(D=>{this.loading.message=D}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const D=new c.ycK;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){const D=new c.ycK;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){const D=new c.ycK;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zPB);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(As,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Is,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ws,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Ds,7,3,"div",19)(24,Ls,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,ys,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,js,2,1,"mat-header-cell",32)(62,Us,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,Gs,2,1,"mat-header-cell",32)(65,Ns,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,Fs,2,1,"mat-header-cell",32)(68,Vs,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,Bs,2,1,"mat-header-cell",32)(71,Os,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,$s,2,1,"mat-header-cell",32)(74,Xs,3,4,"mat-cell",33),e.bVm(),e.qex(75,38),e.DNE(76,xs,2,1,"mat-header-cell",32)(77,Hs,2,1,"mat-cell",33),e.bVm(),e.qex(78,39),e.DNE(79,qs,2,1,"mat-header-cell",32)(80,Ps,2,1,"mat-cell",33),e.bVm(),e.qex(81,40),e.DNE(82,Ys,3,3,"mat-header-cell",41)(83,Ks,6,1,"mat-cell",42),e.bVm(),e.DNE(84,Ws,1,0,"mat-header-row",43)(85,Js,1,3,"mat-row",44),e.k0s(),e.bVm(),e.qex(86,45),e.j41(87,"mat-paginator",46,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(26),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Es)))},dependencies:[h.bT,h.B3,b.BC,b.vS,O.iY,$.An,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,h.Jj,g.D9,Y.p,K.p,W.Z],encapsulation:2})}return n})();const zs=["vform"];function Zs(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",36),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qs(n,a){if(1&n&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function er(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function tr(n,a){if(1&n&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function or(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function nr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",40),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",43),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",44),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function ir(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",45),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",47),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function sr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",48),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",49),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",50),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function rr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",21)(1,"label",51),e.EFF(2),e.k0s(),e.j41(3,"input",52),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),e.k0s()}if(2&n){const t=e.sdS(6),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",i.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function ar(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",55),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function lr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",56)(1,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",58),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let cr=(()=>{class n extends U.n{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){super(r,new c.TuM,_,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id)}formGroup;dataModelResult=new c.YyC;dataModel=new c.TuM;formInfo=new c.IL9;dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.FYP.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(zs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:67,vars:48,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionLoadingChange","optionDisabled","optionSelectForce","optionLoading","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",9),e.nrm(1,"app-progress-spinner",10),e.j41(2,"div",11)(3,"p",12),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Zs,1,5,"app-cms-enum-record-status-selector",13),e.j41(9,"div",14)(10,"select",15,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(12,Qs,2,2,"option",16),e.k0s(),e.j41(13,"em"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,er,5,3,"mat-error",17),e.k0s(),e.j41(17,"div",14)(18,"select",18,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(20,tr,2,2,"option",16),e.k0s(),e.j41(21,"em"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,or,5,3,"mat-error",17),e.k0s(),e.j41(25,"app-cms-site-selector",19),e.nI1(26,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(27,"app-cms-user-selector",19),e.nI1(28,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-member-selector",19),e.nI1(30,"translate"),e.mxI("optionLoadingChange",function(s){return e.eBV(r),e.DH7(o.loading,s)||(o.loading=s),e.Njj(s)}),e.k0s(),e.DNE(31,nr,8,2,"div",20)(32,ir,8,2,"div",20)(33,sr,8,2,"div",20),e.j41(34,"div",21)(35,"label",22),e.EFF(36,"BrowserLanguage"),e.k0s(),e.j41(37,"input",23,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(39,"div",21)(40,"label",24),e.EFF(41,"UserLanguage"),e.k0s(),e.j41(42,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(44,"div",21)(45,"label",26),e.EFF(46,"LinkDeviceId"),e.k0s(),e.j41(47,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(49,"div",21)(50,"label",28),e.EFF(51,"LinkApplicationId"),e.k0s(),e.j41(52,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(54,"div",21)(55,"label",30),e.EFF(56,"DeviceClientMAC"),e.k0s(),e.j41(57,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(59,"div",21)(60,"label",32),e.EFF(61,"Token"),e.k0s(),e.j41(62,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.DNE(64,rr,7,4,"div",34)(65,ar,3,3,"div",17)(66,lr,5,3,"div",35),e.k0s()()}if(2&i){const r=e.sdS(11),l=e.sdS(19);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(15,38,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(23,40,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(26,42,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(28,44,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId),e.R50("optionLoading",o.loading),e.Y8G("optionPlaceholder",e.bMT(30,46,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[h.Sq,h.bT,b.xH,b.y7,b.me,b.Zm,b.wz,b.BC,b.vS,te.Vh,te.bZ,te.bU,ie.TL,ie.yw,j.fg,G.p,J.m,N.X,ce.W,A._,g.D9,ne.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const dr=["vform"];function mr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let pr=(()=>{class n{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,m,_,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=_,this.translate=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.l$k;loading=new F.o;dataModelResult=new c.N$V;dataModel=new c.TuM;formInfo=new c.IL9;dataModelEnumSendSmsStatusTypeResult=new c.N$V;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.rXU(T.Vh),e.rXU(T.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(R._),e.rXU(e.gRc),e.rXU(M.A),e.rXU(g.c$))};static \u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(dr,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,mr,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.bT,A._,V.l,g.D9]})}return n})();const ur=()=>[5,10,20,100],fr=n=>({background:n});function hr(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",45),e.k0s()}}function _r(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Sr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function gr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.SITE")))}function br(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Tr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(2,"i",55)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DEVICE")))}function Cr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",56),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",57)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function kr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ir(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Rr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function Mr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Ar(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Er(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function vr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function wr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Dr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Lr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function yr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function jr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ur(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Gr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Nr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Fr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Vr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Br(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Or(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function $r(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Xr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function xr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Hr(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function qr(n,a){if(1&n&&(e.j41(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Pr(n,a){1&n&&e.nrm(0,"mat-header-row")}function Yr(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",62),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngStyle",e.eq3(1,fr,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}let le=(()=>{class n extends L.j{contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,o,r,l,s,m,_,u,f,w){if(super(t,new c.TuM,f,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=_,this.pageInfo=u,this.publicHelper=f,this.dialog=w,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.O2i;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"];dataModelEnumManageUserAccessAreaTypesResult=new c.N$V;dataModelEnumManageUserAccessUserTypesResult=new c.N$V;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.TuM);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(pr,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(cr,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.rXU(c.ZiN),e.rXU(I.k),e.rXU(y.o),e.rXU(k.nX),e.rXU(R._),e.rXU(e.gRc),e.rXU(g.c$),e.rXU(k.Ix),e.rXU(B.P),e.rXU(M.A),e.rXU(T.bZ))};static \u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:76,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,hr,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,_r,7,3,"div",19)(24,Sr,7,3,"div",19)(25,gr,7,3,"div",19)(26,br,7,3,"div",19)(27,Tr,7,3,"div",19)(28,Cr,7,3,"div",19),e.bVm(),e.qex(29,20),e.j41(30,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(31,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(32,22),e.j41(33,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(34);return e.Njj(o.onTableSortData(s))}),e.qex(35,24),e.DNE(36,kr,2,1,"mat-header-cell",25)(37,Ir,2,1,"mat-cell",26),e.bVm(),e.qex(38,27),e.DNE(39,Rr,2,1,"mat-header-cell",25)(40,Mr,2,1,"mat-cell",26),e.bVm(),e.qex(41,28),e.DNE(42,Ar,2,1,"mat-header-cell",25)(43,Er,4,5,"mat-cell",26),e.bVm(),e.qex(44,29),e.DNE(45,vr,2,1,"mat-header-cell",25)(46,wr,4,5,"mat-cell",26),e.bVm(),e.qex(47,30),e.DNE(48,Dr,2,1,"mat-header-cell",25)(49,Lr,2,1,"mat-cell",26),e.bVm(),e.qex(50,31),e.DNE(51,yr,2,1,"mat-header-cell",25)(52,jr,3,4,"mat-cell",26),e.bVm(),e.qex(53,32),e.DNE(54,Ur,2,1,"mat-header-cell",25)(55,Gr,3,4,"mat-cell",26),e.bVm(),e.qex(56,33),e.DNE(57,Nr,2,1,"mat-header-cell",25)(58,Fr,3,3,"mat-cell",26),e.bVm(),e.qex(59,34),e.DNE(60,Vr,2,1,"mat-header-cell",25)(61,Br,3,3,"mat-cell",26),e.bVm(),e.qex(62,35),e.DNE(63,Or,2,1,"mat-header-cell",25)(64,$r,3,3,"mat-cell",26),e.bVm(),e.qex(65,36),e.DNE(66,Xr,2,1,"mat-header-cell",25)(67,xr,2,1,"mat-cell",26),e.bVm(),e.qex(68,37),e.DNE(69,Hr,3,3,"mat-header-cell",38)(70,qr,6,1,"mat-cell",39),e.bVm(),e.DNE(71,Pr,1,0,"mat-header-row",40)(72,Yr,1,3,"mat-row",41),e.k0s(),e.bVm(),e.qex(73,42),e.j41(74,"mat-paginator",43,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,26,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,28,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.deviceClientMAC?null:o.tableRowSelected.deviceClientMAC.length)>0),e.R7$(),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(38),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(30,ur)))},dependencies:[h.YU,h.bT,h.B3,b.BC,b.vS,O.iY,$.An,E.kk,E.Cp,X.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,H.l,q.l,P.A,h.Jj,g.D9,Y.p,K.p,W.Z,z.j],encapsulation:2})}return n})();const Kr=[{path:"",component:tt,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:le,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ae,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:et,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Fo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:qt,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:bi,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:vn,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let Wr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[k.iI.forChild(Kr),k.iI]})}return n})(),Jr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({providers:[c.XBe,c.i9D,c.FRq,c.ZiN,c.VJn,c.iF$,c.JD_,c.Nci,c.rM,c.pCN,c.ayK,y.o],imports:[Wr,h.MD,b.YN,b.X1.withConfig({warnOnNgModelWithFormControl:"never"}),oe.G]})}return n})()},9041:(de,se,S)=>{S.d(se,{p:()=>b});var h=S(7788);let b=(()=>{class c{transform(oe,k){if(!k||0===k.length)return"";const L=k.find(C=>C.key===oe||C.value===oe);return L?L.description:""}static \u0275fac=function(k){return new(k||c)};static \u0275pipe=h.EJ8({name:"enums",type:c,pure:!0})}return c})()}}]);