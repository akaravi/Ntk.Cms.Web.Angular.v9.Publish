"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6185,663,1732,3547],{3673:(I,S,o)=>{o.d(S,{G:()=>g});var i=o(8239),_=o(8692),e=o(4511),a=o(4537),m=o(4032),v=o(2607);let g=(()=>{class f{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(s,n,l,b,T,M){this.elRef=s,this.renderer=n,this.publicHelper=l,this.cmsToastrService=b,this.cdr=T,this.document=M}getEnumRecordStatus(){var s=this;return(0,i.Z)(function*(){(yield s.publicHelper.getEnumRecordStatus()).listItems.forEach(l=>{const b=document.createElement("option");b.innerHTML=" "+l.title+' <i Class="'+s.iconStatus(l.value)+'"></i>',b.value=l.value.toString(),s.elRef.nativeElement.add(b)}),s.elRef.nativeElement.options.length>0&&s.row&&s.row.recordStatus&&s.renderer.setProperty(s.elRef.nativeElement,"value",s.row.recordStatus)})()}onChange(){const s=this.elRef.nativeElement,n=s.value;this.addLoader(s),this.contentService.setAccessDataType(e.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,n).subscribe(l=>{l.isSuccess?(this.handleSuccessCase(s),this.cmsToastrService.typeSuccessSetStatus(l.errorMessage),this.row.recordStatus=0|n,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(l.errorMessage),this.handleErrorCase(s))},l=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(l),this.handleErrorCase(s)})}handleSuccessCase(s){this.removeBackground(s),this.addSuccess(s),setTimeout(()=>{this.removeBackground(s)},1e3)}handleErrorCase(s){this.removeBackground(s);const n=this.document.createElement("img");n.style.width="20px",n.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const l=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(l,n),setTimeout(()=>{this.renderer.removeChild(l,n)},1e3)}addLoader(s){this.addBackground(s,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(s){this.addBackground(s,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(s,n,l){s.style.background=`#fff url("${n}") no-repeat right 20px center`,s.style.backgroundSize=`${l}px`}removeBackground(s){s.style.background="none"}iconStatus(s){let n="";switch(s){case 1:default:n="fa fa-check";break;case 2:n="fa fa-eye-slash";break;case 3:n="fa fa-times";break;case 4:n="fa fa-hourglass-half";break;case 5:n="far fa-thumbs-down";break;case 6:n="fa fa-archive"}return n}static \u0275fac=function(n){return new(n||f)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(m.i),a.Y36(v.e),a.Y36(a.sBO),a.Y36(_.K0))};static \u0275dir=a.lG2({type:f,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(n,l){1&n&&a.NdJ("change",function(){return l.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return f})()},6639:(I,S,o)=>{o.d(S,{G:()=>e});var i=o(4537),_=o(5998);let e=(()=>{class a{sanitizer;constructor(v){this.sanitizer=v}transform(v,h=!1){let r="";switch(v){case 1:default:r="fa fa-check";break;case 2:r="fa fa-times";break;case 3:r="fa fa-trash";break;case 4:r="fa fa-hourglass-half";break;case 5:r="far fa-thumbs-down";break;case 6:r="fa fa-archive"}return r}static \u0275fac=function(h){return new(h||a)(i.Y36(_.H7,16))};static \u0275pipe=i.Yjl({name:"statusIconClass",type:a,pure:!0})}return a})()},3914:(I,S,o)=>{o.d(S,{s:()=>a});var i=o(4537),_=o(9154);let e=(()=>{class m{activeModal;static nextId=0;id=++m.nextId;title;message;btnOkText;btnCancelText;constructor(h){this.activeModal=h}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(r){return new(r||m)(i.Y36(_.Kz))};static \u0275cmp=i.Xpm({type:m,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(r,p){1&r&&(i.TgZ(0,"div",0)(1,"h4",1),i._uU(2),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return p.dismiss()}),i.TgZ(4,"span",3),i._uU(5,"\xd7"),i.qZA()()(),i._UZ(6,"div",4),i.TgZ(7,"div",5)(8,"button",6),i.NdJ("click",function(){return p.decline()}),i._uU(9),i.qZA(),i.TgZ(10,"button",7),i.NdJ("click",function(){return p.accept()}),i._uU(11),i.qZA()()),2&r&&(i.xp6(2),i.Oqu(p.title),i.xp6(4),i.Q6J("innerHTML",p.message,i.oJD),i.xp6(3),i.Oqu(p.btnCancelText),i.xp6(2),i.Oqu(p.btnOkText))},encapsulation:2})}return m})(),a=(()=>{class m{modalService;constructor(h){this.modalService=h}confirm(h,r,p="OK",g="Cancel",f="sm"){const C=this.modalService.open(e,{size:f});return C.componentInstance.title=h,C.componentInstance.message=r,C.componentInstance.btnOkText=p,C.componentInstance.btnCancelText=g,C.result}static \u0275fac=function(r){return new(r||m)(i.LFG(_.FF))};static \u0275prov=i.Yz7({token:m,factory:m.\u0275fac})}return m})()},5952:(I,S,o)=>{o.d(S,{v:()=>O});var i=o(7969),_=o(2340),e=o(4537),a=o(6845),m=o(727),v=o(4511),h=o(2607),r=o(4536),p=o(8692),g=o(4580),f=o(6997),C=o(6707),s=o(1418);const n=function(){return{class:"h-120px w-120px"}};function l(d,E){if(1&d&&e._UZ(0,"span",15),2&d){const t=e.oxw();e.Q6J("inlineSVG",t.svg)("setSVGAttributes",e.DdM(2,n))}}function b(d,E){if(1&d&&(e.TgZ(0,"div")(1,"audio",16),e._UZ(2,"source",17),e.ALo(3,"cmsthumbnail"),e._uU(4," Your browser does not support the audio tag. "),e.qZA()()),2&d){const t=e.oxw();e.xp6(2),e.s9C("src",e.lcZ(3,1,t.podcastSrc),e.LSH)}}function T(d,E){if(1&d){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onActionBottunClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&d&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.More")," "))}function M(d,E){if(1&d){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onActionCloseBottunClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&d&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.guide")," "))}function D(d,E){if(1&d){const t=e.EpF();e.TgZ(0,"div",19)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onActionCopied())}),e._uU(4,"Copy"),e.qZA()()}if(2&d){const t=e.oxw();e.xp6(2),e.Oqu(t.Key),e.xp6(1),e.Q6J("cdkCopyToClipboard",t.Key)}}let O=(()=>{class d{pageInfo;tokenHelper;cdr;coreGuideService;cmsToastrService;dialog;static nextId=0;id=++d.nextId;Identity;Key;title;description;body;podcast;podcastSrc;movie;movieSrc;classes;icon;svg;constructor(t,u,c,y,k,F){this.pageInfo=t,this.tokenHelper=u,this.cdr=c,this.coreGuideService=y,this.cmsToastrService=k,this.dialog=F}closeResult="";cmsApiStoreSubscribe;lang="";ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.lang=t.language,this.onGetOne()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.lang=t.language,this.onGetOne()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}bodyShow=!1;onGetOne(){this.Identity>0?this.coreGuideService.ServiceGetOneById(this.Identity).pipe((0,i.U)(t=>{if(t.isSuccess){switch(this.lang){case"fa":default:this.title=t.item.titleFa,this.description=t.item.descriptionFa,this.body=t.item.bodyFa,this.podcast=t.item.linkFilePodcastIdFa,this.movie=t.item.linkFileMovieIdFa,this.podcastSrc=t.item.linkFilePodcastIdFaSrc,this.movieSrc=t.item.linkFileMovieIdFaSrc;break;case"en":this.title=t.item.titleEn,this.description=t.item.descriptionEn,this.body=t.item.bodyEn,this.podcast=t.item.linkFilePodcastIdEn,this.movie=t.item.linkFileMovieIdEn,this.podcastSrc=t.item.linkFilePodcastIdEnSrc,this.movieSrc=t.item.linkFileMovieIdEnSrc;break;case"ar":this.title=t.item.titleAr,this.description=t.item.descriptionAr,this.body=t.item.bodyAr,this.podcast=t.item.linkFilePodcastIdAr,this.movie=t.item.linkFileMovieIdAr,this.podcastSrc=t.item.linkFilePodcastIdArSrc,this.movieSrc=t.item.linkFileMovieIdArSrc;break;case"de":this.title=t.item.titleDe,this.description=t.item.descriptionDe,this.body=t.item.bodyDe,this.podcast=t.item.linkFilePodcastIdDe,this.movie=t.item.linkFileMovieIdDe,this.podcastSrc=t.item.linkFilePodcastIdDeSrc,this.movieSrc=t.item.linkFileMovieIdDeSrc}this.pageInfo.setTitle(this.title),this.pageInfo.setDescription(this.description)}else _.N.production||this.cmsToastrService.typeWarningMessage(t.errorMessage,this.Key+" \u0631\u0627\u0647\u0646\u0645\u0627 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f ")},t=>{this.cmsToastrService.typeError(t)})).toPromise():this.Key&&this.Key.length>0&&this.coreGuideService.ServiceGetOneByKey(this.Key).pipe((0,i.U)(t=>{if(t.isSuccess){switch(this.lang){case"fa":default:this.title=t.item.titleFa,this.description=t.item.descriptionFa,this.body=t.item.bodyFa,this.podcast=t.item.linkFilePodcastIdFa,this.movie=t.item.linkFileMovieIdFa,this.podcastSrc=t.item.linkFilePodcastIdFaSrc,this.movieSrc=t.item.linkFileMovieIdFaSrc;break;case"en":this.title=t.item.titleEn,this.description=t.item.descriptionEn,this.body=t.item.bodyEn,this.podcast=t.item.linkFilePodcastIdEn,this.movie=t.item.linkFileMovieIdEn,this.podcastSrc=t.item.linkFilePodcastIdEnSrc,this.movieSrc=t.item.linkFileMovieIdEnSrc;break;case"ar":this.title=t.item.titleAr,this.description=t.item.descriptionAr,this.body=t.item.bodyAr,this.podcast=t.item.linkFilePodcastIdAr,this.movie=t.item.linkFileMovieIdAr,this.podcastSrc=t.item.linkFilePodcastIdArSrc,this.movieSrc=t.item.linkFileMovieIdArSrc;break;case"de":this.title=t.item.titleDe,this.description=t.item.descriptionDe,this.body=t.item.bodyDe,this.podcast=t.item.linkFilePodcastIdDe,this.movie=t.item.linkFileMovieIdDe,this.podcastSrc=t.item.linkFilePodcastIdDeSrc,this.movieSrc=t.item.linkFileMovieIdDeSrc}this.pageInfo.setTitle(this.title),this.pageInfo.setDescription(this.description)}else _.N.production||this.cmsToastrService.typeWarningMessage(t.errorMessage,this.Key+" \u0631\u0627\u0647\u0646\u0645\u0627 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f ")},t=>{this.cmsToastrService.typeError(t)})).toPromise()}onActionCopyHeaderKey(t,u){u?.ctrlKey&&u?.altKey&&this.dialog.open(t,{width:"15%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration}).afterClosed().subscribe(k=>{})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionBottunClick(){this.bodyShow=!0,this.cdr.detectChanges()}onActionCloseBottunClick(){this.bodyShow=!1,this.cdr.detectChanges()}static \u0275fac=function(u){return new(u||d)(e.Y36(a.Z),e.Y36(m.v),e.Y36(e.sBO),e.Y36(v.LOT),e.Y36(h.e),e.Y36(r.uw))};static \u0275cmp=e.Xpm({type:d,selectors:[["app-cms-guide-notice"]],inputs:{Identity:"Identity",Key:"Key",title:"title",classes:"classes",icon:"icon",svg:"svg"},decls:17,vars:6,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"row","justify-content-center"],[1,"col-2","pe-0",3,"click"],[1,"text-center"],["class","svg-icon svg-icon-primary position-absolute opacity-15",3,"inlineSVG","setSVGAttributes",4,"ngIf"],[1,"col-9"],[3,"innerHTML"],[1,"mt-n1","line-height-m",3,"innerHTML"],[1,"row"],[1,"col-md-12","col-sm-12","col-xs-112"],[4,"ngIf"],[1,"col-1"],["type","button","class","btn font-13 font-600 btn-m m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["keyTemplate",""],[1,"svg-icon","svg-icon-primary","position-absolute","opacity-15",3,"inlineSVG","setSVGAttributes"],["controls","",1,"audio"],["type","audio/mp3",3,"src"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"text-align-last","center"],[1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"cdkCopyToClipboard","click"]],template:function(u,c){if(1&u){const y=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(F){e.CHM(y);const A=e.MAs(16);return e.KtG(c.onActionCopyHeaderKey(A,F))}),e.TgZ(4,"p",4),e.YNc(5,l,1,3,"span",5),e.qZA()(),e.TgZ(6,"div",6),e._UZ(7,"h4",7)(8,"p",8),e.TgZ(9,"div",9)(10,"div",10),e.YNc(11,b,5,3,"div",11),e.qZA()()(),e.TgZ(12,"div",12),e.YNc(13,T,3,3,"button",13),e.YNc(14,M,3,3,"button",13),e.qZA()()()(),e.YNc(15,D,5,2,"ng-template",null,14,e.W1O)}2&u&&(e.xp6(5),e.Q6J("ngIf",c.svg&&c.svg.length>0),e.xp6(2),e.Q6J("innerHTML",c.description,e.oJD),e.xp6(1),e.Q6J("innerHTML",c.body,e.oJD),e.xp6(3),e.Q6J("ngIf",c.podcastSrc&&(null==c.podcastSrc?null:c.podcastSrc.length)>0&&c.bodyShow),e.xp6(2),e.Q6J("ngIf",!c.bodyShow&&((null==c.body?null:c.body.length)>0||c.podcast>0||c.movie>0)),e.xp6(1),e.Q6J("ngIf",c.bodyShow))},dependencies:[p.O5,g.i3,f.d$,C.X$,s.v],styles:[".header-video[_ngcontent-%COMP%]{width:100%;height:100%}.header[_ngcontent-%COMP%]{width:80%;height:100%;position:relative;resize:both;overflow:hidden;border:1px solid black;z-index:1}.audio[_ngcontent-%COMP%]{width:100%}"]})}return d})()}}]);