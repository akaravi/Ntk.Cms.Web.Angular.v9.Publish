"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[3480],{3480:(tr,te,b)=>{b.r(te),b.d(te,{CoreModuleLogModule:()=>er});var h=b(8692),m=b(92),L=b(6114),e=b(4537);let oe=(()=>{class n{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog"]],decls:1,vars:0,template:function(i,o){1&i&&e._UZ(0,"router-outlet")},dependencies:[L.lC],encapsulation:2})}return n})();var c=b(4511),x=b(4252),M=b(2340),C=b(4536),N=b(140),A=b(2607),T=b(727),w=b(4032),_=b(6707),k=b(9665),K=b(6599),W=b(3181),z=b(1797),I=b(7529);const ie=["vform"];function ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",21),e._UZ(6,"i",20),e._uU(7),e.ALo(8,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"ACTION.CANCEL")," "),e.xp6(4),e.hij(" ",e.lcZ(8,4,"ACTION.SAVE")," "))}let se=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogFavoriteService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.Tht,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogFavoriteService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.Tht;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(c.dR.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.cg1),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(ie,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:32,vars:27,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleName",""],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityName",""],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityId",""],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(10,"app-cms-site-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"app-cms-user-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-cms-member-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"ModuleName"),e.qZA(),e.TgZ(19,"input",9,10),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleName=l}),e.qZA()(),e.TgZ(21,"div",7)(22,"label",11),e._uU(23,"ModuleEntityName"),e.qZA(),e.TgZ(24,"input",12,13),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityName=l}),e.qZA()(),e.TgZ(26,"div",7)(27,"label",14),e._uU(28,"ModuleEntityId"),e.qZA(),e.TgZ(29,"input",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityId=l}),e.qZA()(),e.YNc(31,ne,9,6,"div",17),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,21,"TITLE.SITE")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(13,23,"TITLE.USER")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(15,25,"TITLE.Member")),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityId),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,m.F,k.Nt,K.P,W.g,z.a,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var D=b(656),q=b(9835);const re=["vform"];function le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ae=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogFavoriteService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogFavoriteService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.Tht;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.cg1),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(re,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,le,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();var Z=b(3914),U=b(6845),O=b(9638),G=b(3331),R=b(3319),B=b(3538),Y=b(4639),E=b(6558),u=b(418),H=b(1850),J=b(8564),F=b(7980),Q=b(3673),$=b(3817),V=b(9084),j=b(6639),P=b(5897);function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",43),e.qZA()}}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",49)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewContent(o.tableRowSelected))}),e._UZ(2,"i",52)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.CONTENT")))}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",53)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function he(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function _e(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ge(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Se=function(n){return{display:n}};function Ce(n,a){if(1&n&&e._UZ(0,"select",57),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Se,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function be(n,a){if(1&n&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,Ce,1,5,"select",56),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Me(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ae(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Te(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function we(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function ve(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Le(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Ie(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Re(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function Ee(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ye(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function ke(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ze(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityId," ")}}function xe(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ne(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function De(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function qe(n,a){if(1&n&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Ue(n,a){1&n&&e._UZ(0,"mat-header-row")}const Oe=function(n){return{background:n}};function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Oe,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const Be=function(){return[5,10,20,100]};let Ye=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.Tht,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new c.AO3;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.Tht);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ae,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(se,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonViewContent(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length)return void this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});this.onActionTableRowSelect(t);const i="/"+t.moduleName+"/"+t.moduleEntityName.substring(t.moduleName.length)+"/edit/"+t.moduleEntityId;t.moduleEntityName.indexOf(t.moduleName),this.router.navigate([i.toLowerCase()])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.cg1),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-favorite-list"]],features:[e.qOj],decls:69,vars:30,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,ce,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,de,7,3,"div",16),e.YNc(24,ue,7,3,"div",16),e.YNc(25,pe,7,3,"div",16),e.YNc(26,me,7,3,"div",16),e.YNc(27,fe,7,3,"div",16),e.BQk(),e.ynx(28,17),e.TgZ(29,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(30,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(31,19),e.TgZ(32,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(33);return e.KtG(o.onTableSortData(s))}),e.ynx(34,22),e.YNc(35,he,2,1,"mat-header-cell",23),e.YNc(36,_e,2,1,"mat-cell",24),e.BQk(),e.ynx(37,25),e.YNc(38,ge,2,1,"mat-header-cell",23),e.YNc(39,be,5,7,"mat-cell",26),e.BQk(),e.ynx(40,27),e.YNc(41,Me,2,1,"mat-header-cell",23),e.YNc(42,Ae,4,5,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,Te,2,1,"mat-header-cell",23),e.YNc(45,we,4,5,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,ve,2,1,"mat-header-cell",23),e.YNc(48,Le,2,1,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,Ie,2,1,"mat-header-cell",23),e.YNc(51,Re,2,1,"mat-cell",24),e.BQk(),e.ynx(52,31),e.YNc(53,Ee,2,1,"mat-header-cell",23),e.YNc(54,ye,2,1,"mat-cell",24),e.BQk(),e.ynx(55,32),e.YNc(56,ke,2,1,"mat-header-cell",23),e.YNc(57,Ze,2,1,"mat-cell",24),e.BQk(),e.ynx(58,33),e.YNc(59,xe,2,1,"mat-header-cell",23),e.YNc(60,Ne,2,1,"mat-cell",24),e.BQk(),e.ynx(61,34),e.YNc(62,De,3,3,"mat-header-cell",35),e.YNc(63,qe,6,1,"mat-cell",36),e.BQk(),e.YNc(64,Ue,1,0,"mat-header-row",37),e.YNc(65,Ge,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(66,39),e.TgZ(67,"mat-paginator",40,41),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,25,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,27,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(32),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Be)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})();const He=["vform"];function Je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",21),e._UZ(6,"i",20),e._uU(7),e.ALo(8,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"ACTION.CANCEL")," "),e.xp6(4),e.hij(" ",e.lcZ(8,4,"ACTION.SAVE")," "))}let Fe=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogLikeService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.ze2,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogLikeService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.ze2;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(c.dR.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.d7G),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(He,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:32,vars:27,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleName",""],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityName",""],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityId",""],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(10,"app-cms-site-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"app-cms-user-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-cms-member-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"ModuleName"),e.qZA(),e.TgZ(19,"input",9,10),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleName=l}),e.qZA()(),e.TgZ(21,"div",7)(22,"label",11),e._uU(23,"ModuleEntityName"),e.qZA(),e.TgZ(24,"input",12,13),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityName=l}),e.qZA()(),e.TgZ(26,"div",7)(27,"label",14),e._uU(28,"ModuleEntityId"),e.qZA(),e.TgZ(29,"input",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityId=l}),e.qZA()(),e.YNc(31,Je,9,6,"div",17),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,21,"TITLE.SITE")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(13,23,"TITLE.USER")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(15,25,"TITLE.Member")),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityId),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,m.F,k.Nt,K.P,W.g,z.a,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Qe=["vform"];function je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",13),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Pe=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogLikeService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogLikeService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.ze2;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.d7G),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(Qe,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"app-cms-json-list",5),e.qZA(),e.TgZ(10,"div",6)(11,"div",7)(12,"small",8),e._uU(13),e.qZA(),e.TgZ(14,"small",9),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10),e.YNc(17,je,5,3,"div",11),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(3),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",43),e.qZA()}}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function $e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",49)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function We(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",52)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e._UZ(2,"i",53)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.MEMBER")))}function et(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function tt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ot(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const it=function(n){return{display:n}};function nt(n,a){if(1&n&&e._UZ(0,"select",57),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,it,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function st(n,a){if(1&n&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,nt,1,5,"select",56),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function rt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function lt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function at(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function ct(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function dt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function ut(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function pt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function mt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function ft(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ht(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function _t(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function gt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityId," ")}}function St(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ct(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function bt(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Mt(n,a){if(1&n&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function At(n,a){1&n&&e._UZ(0,"mat-header-row")}const Tt=function(n){return{background:n}};function wt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Tt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const vt=function(){return[5,10,20,100]};let Lt=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.ze2,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new c.AO3;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.ze2);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Pe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Fe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.d7G),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-like-list"]],features:[e.qOj],decls:69,vars:30,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Ke,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,Ve,7,3,"div",16),e.YNc(24,$e,7,3,"div",16),e.YNc(25,We,7,3,"div",16),e.YNc(26,ze,7,3,"div",16),e.YNc(27,Xe,7,3,"div",16),e.BQk(),e.ynx(28,17),e.TgZ(29,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(30,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(31,19),e.TgZ(32,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(33);return e.KtG(o.onTableSortData(s))}),e.ynx(34,22),e.YNc(35,et,2,1,"mat-header-cell",23),e.YNc(36,tt,2,1,"mat-cell",24),e.BQk(),e.ynx(37,25),e.YNc(38,ot,2,1,"mat-header-cell",23),e.YNc(39,st,5,7,"mat-cell",26),e.BQk(),e.ynx(40,27),e.YNc(41,rt,2,1,"mat-header-cell",23),e.YNc(42,lt,4,5,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,at,2,1,"mat-header-cell",23),e.YNc(45,ct,4,5,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,dt,2,1,"mat-header-cell",23),e.YNc(48,ut,2,1,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,pt,2,1,"mat-header-cell",23),e.YNc(51,mt,2,1,"mat-cell",24),e.BQk(),e.ynx(52,31),e.YNc(53,ft,2,1,"mat-header-cell",23),e.YNc(54,ht,2,1,"mat-cell",24),e.BQk(),e.ynx(55,32),e.YNc(56,_t,2,1,"mat-header-cell",23),e.YNc(57,gt,2,1,"mat-cell",24),e.BQk(),e.ynx(58,33),e.YNc(59,St,2,1,"mat-header-cell",23),e.YNc(60,Ct,2,1,"mat-cell",24),e.BQk(),e.ynx(61,34),e.YNc(62,bt,3,3,"mat-header-cell",35),e.YNc(63,Mt,6,1,"mat-cell",36),e.BQk(),e.YNc(64,At,1,0,"mat-header-row",37),e.YNc(65,wt,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(66,39),e.TgZ(67,"mat-paginator",40,41),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,25,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,27,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(32),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,vt)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})();const It=["vform"];function Rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",29),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",30),e._UZ(6,"i",29),e._uU(7),e.ALo(8,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"ACTION.CANCEL")," "),e.xp6(4),e.hij(" ",e.lcZ(8,4,"ACTION.SAVE")," "))}let Et=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogReportAbuseService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.dB3,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogReportAbuseService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.dB3;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(c.dR.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c._Zd),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(It,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:49,vars:30,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleName",""],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityName",""],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityId",""],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["SubjectBody",""],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["AdminResultProcess",""],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["SubjectUrl",""],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(10,"app-cms-site-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"app-cms-user-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-cms-member-selector",6),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"ModuleName"),e.qZA(),e.TgZ(19,"input",9,10),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleName=l}),e.qZA()(),e.TgZ(21,"div",7)(22,"label",11),e._uU(23,"ModuleEntityName"),e.qZA(),e.TgZ(24,"input",12,13),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityName=l}),e.qZA()(),e.TgZ(26,"div",7)(27,"label",14),e._uU(28,"ModuleEntityId"),e.qZA(),e.TgZ(29,"input",15,16),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityId=l}),e.qZA()(),e.TgZ(31,"div",7)(32,"label",17),e._uU(33,"SubjectBody"),e.qZA(),e.TgZ(34,"input",18,19),e.NdJ("ngModelChange",function(l){return o.dataModel.subjectBody=l}),e.qZA()(),e.TgZ(36,"div",7)(37,"label",20),e._uU(38,"AdminResultProcess"),e.qZA(),e.TgZ(39,"textarea",21,22),e.NdJ("ngModelChange",function(l){return o.dataModel.adminResultProcess=l}),e._uU(41,"        "),e.qZA()(),e.TgZ(42,"div",7)(43,"label",23),e._uU(44,"SubjectUrl"),e.qZA(),e.TgZ(45,"textarea",24,25),e.NdJ("ngModelChange",function(l){return o.dataModel.subjectUrl=l}),e._uU(47,"        "),e.qZA()(),e.YNc(48,Rt,9,6,"div",26),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,24,"TITLE.SITE")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(13,26,"TITLE.USER")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(15,28,"TITLE.Member")),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityId),e.xp6(5),e.Q6J("ngModel",o.dataModel.subjectBody),e.xp6(5),e.Q6J("ngModel",o.dataModel.adminResultProcess),e.xp6(6),e.Q6J("ngModel",o.dataModel.subjectUrl),e.xp6(3),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,k.Nt,K.P,W.g,z.a,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const yt=["vform"];function kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Zt=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogReportAbuseService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogReportAbuseService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.dB3;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(c.dR.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c._Zd),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(yt,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,kt,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function xt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",45),e.qZA()}}function Nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",48)(3,"br"),e.qZA(),e.TgZ(4,"p",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function Dt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function qt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",53)(3,"br"),e.qZA(),e.TgZ(4,"p",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",54)(3,"br"),e.qZA(),e.TgZ(4,"p",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function Ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e._UZ(2,"i",55)(3,"br"),e.qZA(),e.TgZ(4,"p",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.MEMBER")))}function Gt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Bt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Yt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Ht=function(n){return{display:n}};function Jt(n,a){if(1&n&&e._UZ(0,"select",59),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Ht,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ft(n,a){if(1&n&&(e.TgZ(0,"mat-cell",57),e.ALo(1,"statusCellClass"),e._UZ(2,"i",57),e.ALo(3,"statusIconClass"),e.YNc(4,Jt,1,5,"select",58),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Qt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function jt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Pt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Kt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Vt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function $t(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Wt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function zt(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function Xt(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function eo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function to(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function oo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityId," ")}}function io(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function no(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.subjectBody," ")}}function so(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.adminResultProcess?null:t.fieldsInfo.adminResultProcess.fieldTitle," ")}}function ro(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.adminResultProcess," ")}}function lo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ao(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function co(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function uo(n,a){if(1&n&&(e.TgZ(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,62),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function po(n,a){1&n&&e._UZ(0,"mat-header-row")}const mo=function(n){return{background:n}};function fo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",63),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,mo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const ho=function(){return[5,10,20,100]};let _o=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.dB3,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new c.AO3;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.dB3);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Zt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Et,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c._Zd),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-report-abuse-list"]],features:[e.qOj],decls:75,vars:30,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,xt,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,Nt,7,3,"div",16),e.YNc(24,Dt,7,3,"div",16),e.YNc(25,qt,7,3,"div",16),e.YNc(26,Ut,7,3,"div",16),e.YNc(27,Ot,7,3,"div",16),e.BQk(),e.ynx(28,17),e.TgZ(29,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(30,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(31,19),e.TgZ(32,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(33);return e.KtG(o.onTableSortData(s))}),e.ynx(34,22),e.YNc(35,Gt,2,1,"mat-header-cell",23),e.YNc(36,Bt,2,1,"mat-cell",24),e.BQk(),e.ynx(37,25),e.YNc(38,Yt,2,1,"mat-header-cell",23),e.YNc(39,Ft,5,7,"mat-cell",26),e.BQk(),e.ynx(40,27),e.YNc(41,Qt,2,1,"mat-header-cell",23),e.YNc(42,jt,4,5,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,Pt,2,1,"mat-header-cell",23),e.YNc(45,Kt,4,5,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,Vt,2,1,"mat-header-cell",23),e.YNc(48,$t,2,1,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,Wt,2,1,"mat-header-cell",23),e.YNc(51,zt,2,1,"mat-cell",24),e.BQk(),e.ynx(52,31),e.YNc(53,Xt,2,1,"mat-header-cell",23),e.YNc(54,eo,2,1,"mat-cell",24),e.BQk(),e.ynx(55,32),e.YNc(56,to,2,1,"mat-header-cell",23),e.YNc(57,oo,2,1,"mat-cell",24),e.BQk(),e.ynx(58,33),e.YNc(59,io,2,1,"mat-header-cell",23),e.YNc(60,no,2,1,"mat-cell",24),e.BQk(),e.ynx(61,34),e.YNc(62,so,2,1,"mat-header-cell",23),e.YNc(63,ro,2,1,"mat-cell",24),e.BQk(),e.ynx(64,35),e.YNc(65,lo,2,1,"mat-header-cell",23),e.YNc(66,ao,2,1,"mat-cell",24),e.BQk(),e.ynx(67,36),e.YNc(68,co,3,3,"mat-header-cell",37),e.YNc(69,uo,6,1,"mat-cell",38),e.BQk(),e.YNc(70,po,1,0,"mat-header-row",39),e.YNc(71,fo,1,3,"mat-row",40),e.qZA(),e.BQk(),e.ynx(72,41),e.TgZ(73,"mat-paginator",42,43),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,25,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,27,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,ho)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})();const go=["vform"];function So(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Co=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogScoreService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.kV8,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogScoreService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.y$4;dataModel=new c.kV8;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(c.dR.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.mbu),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(go,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:32,vars:27,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleName",""],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityName",""],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityId",""],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",null,4)(10,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-cms-member-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",6)(17,"label",7),e._uU(18,"ModuleName"),e.qZA(),e.TgZ(19,"input",8,9),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleName=l}),e.qZA()(),e.TgZ(21,"div",6)(22,"label",10),e._uU(23,"ModuleEntityName"),e.qZA(),e.TgZ(24,"input",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityName=l}),e.qZA()(),e.TgZ(26,"div",6)(27,"label",13),e._uU(28,"ModuleEntityId"),e.qZA(),e.TgZ(29,"input",14,15),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityId=l}),e.qZA()(),e.YNc(31,So,5,3,"div",16),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,21,"TITLE.SITE")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(13,23,"TITLE.USER")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(15,25,"TITLE.Member")),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityId),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,m.F,k.Nt,K.P,W.g,z.a,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const bo=["vform"];function Mo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ao=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogScoreService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogScoreService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.kV8;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.mbu),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(bo,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Mo,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function To(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",43),e.qZA()}}function wo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function vo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",49)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Lo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Io(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",52)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function Ro(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e._UZ(2,"i",53)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.MEMBER")))}function Eo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function yo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ko(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Zo=function(n){return{display:n}};function xo(n,a){if(1&n&&e._UZ(0,"select",57),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Zo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function No(n,a){if(1&n&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,xo,1,5,"select",56),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Do(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function qo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Uo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Oo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Go(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Bo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Yo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Ho(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function Jo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Fo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function Qo(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function jo(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityId," ")}}function Po(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ko(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Vo(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function $o(n,a){if(1&n&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Wo(n,a){1&n&&e._UZ(0,"mat-header-row")}const zo=function(n){return{background:n}};function Xo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,zo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const ei=function(){return[5,10,20,100]};let ti=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.kV8,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new c.AO3;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.kV8);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ao,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Co,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.mbu),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-score-list"]],features:[e.qOj],decls:69,vars:30,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,To,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,wo,7,3,"div",16),e.YNc(24,vo,7,3,"div",16),e.YNc(25,Lo,7,3,"div",16),e.YNc(26,Io,7,3,"div",16),e.YNc(27,Ro,7,3,"div",16),e.BQk(),e.ynx(28,17),e.TgZ(29,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(30,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(31,19),e.TgZ(32,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(33);return e.KtG(o.onTableSortData(s))}),e.ynx(34,22),e.YNc(35,Eo,2,1,"mat-header-cell",23),e.YNc(36,yo,2,1,"mat-cell",24),e.BQk(),e.ynx(37,25),e.YNc(38,ko,2,1,"mat-header-cell",23),e.YNc(39,No,5,7,"mat-cell",26),e.BQk(),e.ynx(40,27),e.YNc(41,Do,2,1,"mat-header-cell",23),e.YNc(42,qo,4,5,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,Uo,2,1,"mat-header-cell",23),e.YNc(45,Oo,4,5,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,Go,2,1,"mat-header-cell",23),e.YNc(48,Bo,2,1,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,Yo,2,1,"mat-header-cell",23),e.YNc(51,Ho,2,1,"mat-cell",24),e.BQk(),e.ynx(52,31),e.YNc(53,Jo,2,1,"mat-header-cell",23),e.YNc(54,Fo,2,1,"mat-cell",24),e.BQk(),e.ynx(55,32),e.YNc(56,Qo,2,1,"mat-header-cell",23),e.YNc(57,jo,2,1,"mat-cell",24),e.BQk(),e.ynx(58,33),e.YNc(59,Po,2,1,"mat-header-cell",23),e.YNc(60,Ko,2,1,"mat-cell",24),e.BQk(),e.ynx(61,34),e.YNc(62,Vo,3,3,"mat-header-cell",35),e.YNc(63,$o,6,1,"mat-cell",36),e.BQk(),e.YNc(64,Wo,1,0,"mat-header-row",37),e.YNc(65,Xo,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(66,39),e.TgZ(67,"mat-paginator",40,41),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,25,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,27,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(32),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,ei)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})();var X=b(3704),ee=b(8659);const oi=["vform"];function ii(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"label",24),e._uU(2),e.qZA(),e.TgZ(3,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.dataModel.expireDateTime=o)}),e.qZA(),e._UZ(4,"mat-datepicker-toggle",26)(5,"mat-datepicker",27,28),e.qZA()}if(2&n){const t=e.MAs(6),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.expireDateTime?null:i.fieldsInfo.expireDateTime.fieldTitle),e.xp6(1),e.s9C("placeholder",null==i.fieldsInfo.expireDateTime?null:i.fieldsInfo.expireDateTime.fieldTitle),e.s9C("disabled",!(null!=i.fieldsInfo.expireDateTime&&i.fieldsInfo.expireDateTime.accessEditField)),e.Q6J("matDatepicker",t)("ngModel",i.dataModel.expireDateTime),e.xp6(1),e.Q6J("for",t)}}function ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",32),e._UZ(6,"i",31),e._uU(7),e.ALo(8,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"ACTION.CANCEL")," "),e.xp6(4),e.hij(" ",e.lcZ(8,4,"ACTION.SAVE")," "))}let si=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogShowKeyService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.VOj,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogShowKeyService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.VOj;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(c.dR.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.ig7),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(oi,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:37,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleName",""],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityName",""],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ModuleEntityId",""],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["showKey",""],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["SubjectTitle",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"matDatepicker","ngModel","placeholder","disabled","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["expireDateTime",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.TgZ(10,"div",6)(11,"label",7),e._uU(12,"ModuleName"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleName=l}),e.qZA()(),e.TgZ(15,"div",6)(16,"label",10),e._uU(17,"ModuleEntityName"),e.qZA(),e.TgZ(18,"input",11,12),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityName=l}),e.qZA()(),e.TgZ(20,"div",6)(21,"label",13),e._uU(22,"ModuleEntityId"),e.qZA(),e.TgZ(23,"input",14,15),e.NdJ("ngModelChange",function(l){return o.dataModel.moduleEntityId=l}),e.qZA()(),e.TgZ(25,"div",6)(26,"label",16),e._uU(27,"showKey"),e.qZA(),e.TgZ(28,"textarea",17,18),e.NdJ("ngModelChange",function(l){return o.dataModel.showKey=l}),e.qZA()(),e.TgZ(30,"div",6)(31,"label",19),e._uU(32,"SubjectTitle"),e.qZA(),e.TgZ(33,"textarea",20,21),e.NdJ("ngModelChange",function(l){return o.dataModel.subjectTitle=l}),e.qZA()(),e.YNc(35,ii,7,6,"div",22),e.YNc(36,ni,9,6,"div",23),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(7),e.Q6J("ngModel",o.dataModel.moduleName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityName),e.xp6(5),e.Q6J("ngModel",o.dataModel.moduleEntityId),e.xp6(5),e.Q6J("ngModel",o.dataModel.showKey),e.xp6(5),e.Q6J("ngModel",o.dataModel.subjectTitle),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.expireDateTime?null:o.fieldsInfo.expireDateTime.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,X.Mq,X.hl,X.nW,ee.R9,k.Nt,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const ri=["vform"];function li(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ai=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogShowKeyService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogShowKeyService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.VOj;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.ig7),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(ri,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,li,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function ci(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",42),e.qZA()}}function di(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",46),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function ui(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",48)(3,"br"),e.qZA(),e.TgZ(4,"p",46),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function pi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"a",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",50)(3,"br"),e.qZA(),e.TgZ(4,"p",46),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function mi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function fi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function hi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const _i=function(n){return{display:n}};function gi(n,a){if(1&n&&e._UZ(0,"select",54),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,_i,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Si(n,a){if(1&n&&(e.TgZ(0,"mat-cell",52),e.ALo(1,"statusCellClass"),e._UZ(2,"i",52),e.ALo(3,"statusIconClass"),e.YNc(4,gi,1,5,"select",53),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Ci(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function bi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleName," ")}}function Mi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Ai(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityName," ")}}function Ti(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function wi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.moduleEntityId," ")}}function vi(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.showKey?null:t.fieldsInfo.showKey.fieldTitle," ")}}function Li(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.showKey," ")}}function Ii(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",51),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ri(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ei(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function yi(n,a){if(1&n&&(e.TgZ(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,57),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function ki(n,a){if(1&n&&(e.TgZ(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),e._UZ(4,"td"),e.TgZ(5,"td"),e._uU(6),e.qZA()()()()()),2&n){const t=a.$implicit;e.xp6(6),e.hij(" ",t.subjectTitle," ")}}function Zi(n,a){1&n&&e._UZ(0,"mat-header-row")}const xi=function(n){return{background:n}};function Ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",58),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,xi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const Di=function(){return[5,10,20,100]};let qi=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.VOj,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.VOj);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ai,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(si,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.Filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.ig7),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodule-data-memo-list"]],features:[e.qOj],decls:63,vars:28,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,ci,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,di,7,3,"div",16),e.YNc(24,ui,7,3,"div",16),e.YNc(25,pi,7,3,"div",16),e.BQk(),e.ynx(26,17),e.TgZ(27,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(28,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(29,19),e.TgZ(30,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(31);return e.KtG(o.onTableSortData(s))}),e.ynx(32,22),e.YNc(33,mi,2,1,"mat-header-cell",23),e.YNc(34,fi,2,1,"mat-cell",24),e.BQk(),e.ynx(35,25),e.YNc(36,hi,2,1,"mat-header-cell",23),e.YNc(37,Si,5,7,"mat-cell",26),e.BQk(),e.ynx(38,27),e.YNc(39,Ci,2,1,"mat-header-cell",23),e.YNc(40,bi,2,1,"mat-cell",24),e.BQk(),e.ynx(41,28),e.YNc(42,Mi,2,1,"mat-header-cell",23),e.YNc(43,Ai,2,1,"mat-cell",24),e.BQk(),e.ynx(44,29),e.YNc(45,Ti,2,1,"mat-header-cell",23),e.YNc(46,wi,2,1,"mat-cell",24),e.BQk(),e.ynx(47,30),e.YNc(48,vi,2,1,"mat-header-cell",23),e.YNc(49,Li,2,1,"mat-cell",24),e.BQk(),e.ynx(50,31),e.YNc(51,Ii,2,1,"mat-header-cell",23),e.YNc(52,Ri,2,1,"mat-cell",24),e.BQk(),e.ynx(53,32),e.YNc(54,Ei,3,3,"mat-header-cell",33),e.YNc(55,yi,6,1,"mat-cell",34),e.BQk(),e.ynx(56,35),e.YNc(57,ki,7,1,"mat-cell",24),e.BQk(),e.YNc(58,Zi,1,0,"mat-header-row",36),e.YNc(59,Ni,1,3,"mat-row",37),e.qZA(),e.BQk(),e.ynx(60,38),e.TgZ(61,"mat-paginator",39,40),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,23,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,25,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(28),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(27,Di)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,_.X$,j.G,P.Y],encapsulation:2})}return n})();const Ui=["vform"];function Oi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",9),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Gi=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogSiteCreditBlockedService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.dMk,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditBlockedService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.dMk;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(c.dR.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.ucJ),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(Ui,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:13,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",null,4)(10,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Oi,5,3,"div",6),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,10,"TITLE.SITE")),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.JL,m.F,K.P,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Bi=["vform"];function Yi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Hi=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogSiteCreditBlockedService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditBlockedService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.dMk;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.ucJ),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(Bi,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Yi,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function Ji(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",38),e.qZA()}}function Fi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",41)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function Qi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",44)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function ji(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Pi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.SITE")))}function Ki(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Vi(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function $i(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Wi=function(n){return{display:n}};function zi(n,a){if(1&n&&e._UZ(0,"select",51),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Wi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Xi(n,a){if(1&n&&(e.TgZ(0,"mat-cell",49),e.ALo(1,"statusCellClass"),e._UZ(2,"i",49),e.ALo(3,"statusIconClass"),e.YNc(4,zi,1,5,"select",50),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function en(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function tn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function on(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function nn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function sn(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function rn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,54),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function ln(n,a){1&n&&e._UZ(0,"mat-header-row")}const an=function(n){return{background:n}};function cn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,an,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const dn=function(){return[5,10,20,100]};let un=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberUserId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.dMk,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new c.AO3;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.dMk);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Hi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Gi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.ucJ),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit-blocked-list"]],features:[e.qOj],decls:53,vars:29,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Ji,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,Fi,7,3,"div",16),e.YNc(24,Qi,7,3,"div",16),e.YNc(25,ji,7,3,"div",16),e.YNc(26,Pi,7,3,"div",16),e.BQk(),e.ynx(27,17),e.TgZ(28,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(29,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(30,19),e.TgZ(31,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(32);return e.KtG(o.onTableSortData(s))}),e.ynx(33,22),e.YNc(34,Ki,2,1,"mat-header-cell",23),e.YNc(35,Vi,2,1,"mat-cell",24),e.BQk(),e.ynx(36,25),e.YNc(37,$i,2,1,"mat-header-cell",23),e.YNc(38,Xi,5,7,"mat-cell",26),e.BQk(),e.ynx(39,27),e.YNc(40,en,2,1,"mat-header-cell",23),e.YNc(41,tn,4,5,"mat-cell",24),e.BQk(),e.ynx(42,28),e.YNc(43,on,2,1,"mat-header-cell",23),e.YNc(44,nn,2,1,"mat-cell",24),e.BQk(),e.ynx(45,29),e.YNc(46,sn,3,3,"mat-header-cell",30),e.YNc(47,rn,6,1,"mat-cell",31),e.BQk(),e.YNc(48,ln,1,0,"mat-header-row",32),e.YNc(49,cn,1,3,"mat-row",33),e.qZA(),e.BQk(),e.ynx(50,34),e.TgZ(51,"mat-paginator",35,36),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(17),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,dn)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,V.Y,j.G,P.Y],encapsulation:2})}return n})();const pn=["vform"];function mn(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldDescription," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function fn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2),e.qZA(),e.TgZ(3,"textarea",10,11),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.dataModel.description=o)}),e._uU(5,"                "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,mn,5,4,"mat-error",12),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldDescription),e.xp6(1),e.s9C("placeholder",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",i.dataModel.description)("disabled",!(null!=i.fieldsInfo.description&&i.fieldsInfo.description.accessEditField)),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function hn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",15),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let _n=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogSiteCreditService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.iFr,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.y$4;dataModel=new c.iFr;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(c.dR.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.DIB),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(pn,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:14,vars:13,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["Description",""],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",null,4)(10,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.YNc(12,fn,9,6,"div",6),e.YNc(13,hn,5,3,"div",7),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,11,"TITLE.SITE")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.description?null:o.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,ee.TO,k.Nt,K.P,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const gn=["vform"];function Sn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Cn=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogSiteCreditService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.iFr;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.DIB),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(i,o){if(1&i&&e.Gf(gn,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"cms-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Sn,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",o.loading),e.xp6(1),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function bn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",38),e.qZA()}}function Mn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",41)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function An(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",44)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Tn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function wn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"a",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",42),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.SITE")))}function vn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ln(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function In(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Rn=function(n){return{display:n}};function En(n,a){if(1&n&&e._UZ(0,"select",51),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Rn,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function yn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",49),e.ALo(1,"statusCellClass"),e._UZ(2,"i",49),e.ALo(3,"statusIconClass"),e.YNc(4,En,1,5,"select",50),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function kn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Zn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function xn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Nn(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Dn(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function qn(n,a){if(1&n&&(e.TgZ(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,54),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Un(n,a){1&n&&e._UZ(0,"mat-header-row")}const On=function(n){return{background:n}};function Gn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,On,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const Bn=function(){return[5,10,20,100]};let Yn=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberUserId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.iFr,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new c.AO3;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.iFr);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Cn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_n,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.DIB),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-credit--list"]],features:[e.qOj],decls:53,vars:29,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,bn,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,Mn,7,3,"div",16),e.YNc(24,An,7,3,"div",16),e.YNc(25,Tn,7,3,"div",16),e.YNc(26,wn,7,3,"div",16),e.BQk(),e.ynx(27,17),e.TgZ(28,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(29,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(30,19),e.TgZ(31,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(32);return e.KtG(o.onTableSortData(s))}),e.ynx(33,22),e.YNc(34,vn,2,1,"mat-header-cell",23),e.YNc(35,Ln,2,1,"mat-cell",24),e.BQk(),e.ynx(36,25),e.YNc(37,In,2,1,"mat-header-cell",23),e.YNc(38,yn,5,7,"mat-cell",26),e.BQk(),e.ynx(39,27),e.YNc(40,kn,2,1,"mat-header-cell",23),e.YNc(41,Zn,4,5,"mat-cell",24),e.BQk(),e.ynx(42,28),e.YNc(43,xn,2,1,"mat-header-cell",23),e.YNc(44,Nn,2,1,"mat-cell",24),e.BQk(),e.ynx(45,29),e.YNc(46,Dn,3,3,"mat-header-cell",30),e.YNc(47,qn,6,1,"mat-cell",31),e.BQk(),e.YNc(48,Un,1,0,"mat-header-row",32),e.YNc(49,Gn,1,3,"mat-row",33),e.qZA(),e.BQk(),e.ynx(50,34),e.TgZ(51,"mat-paginator",35,36),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(17),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,Bn)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,V.Y,j.G,P.Y],encapsulation:2})}return n})();const Hn=["vform"];function Jn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",9),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Fn=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogSiteUserCreditBlockedService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.oTi,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditBlockedService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.ODe;dataModel=new c.oTi;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(c.dR.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.rgR),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(Hn,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:13,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",null,4)(10,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.YNc(12,Jn,5,3,"div",6),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,10,"TITLE.SITE")),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.JL,m.F,K.P,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Qn=["vform"];function jn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",13),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Pn=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogSiteUserCreditBlockedService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditBlockedService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.oTi;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.rgR),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(i,o){if(1&i&&e.Gf(Qn,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"app-cms-json-list",5),e.qZA(),e.TgZ(10,"div",6)(11,"div",7)(12,"small",8),e._uU(13),e.qZA(),e.TgZ(14,"small",9),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10),e.YNc(17,jn,5,3,"div",11),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(3),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function Kn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",39),e.qZA()}}function Vn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",42)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function $n(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Wn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function zn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",48)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function Xn(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function es(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ts(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const os=function(n){return{display:n}};function is(n,a){if(1&n&&e._UZ(0,"select",52),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,os,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function ns(n,a){if(1&n&&(e.TgZ(0,"mat-cell",50),e.ALo(1,"statusCellClass"),e._UZ(2,"i",50),e.ALo(3,"statusIconClass"),e.YNc(4,is,1,5,"select",51),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function ss(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function rs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function ls(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function as(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function cs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ds(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function us(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function ps(n,a){if(1&n&&(e.TgZ(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,55),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function ms(n,a){1&n&&e._UZ(0,"mat-header-row")}const fs=function(n){return{background:n}};function hs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",56),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,fs,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const _s=function(){return[5,10,20,100]};let gs=(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberUserId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.oTi,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new c.AO3;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.oTi);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Pn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Fn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.rgR),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],features:[e.qOj],decls:57,vars:29,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2,"id "),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,2),e.ynx(5,3),e.TgZ(6,"div",4)(7,"div",5)(8,"a",6)(9,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",6)(13,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9),e.YNc(17,Kn,2,0,"a",10),e.TgZ(18,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(19,"i",12),e.qZA(),e.TgZ(20,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(21,"i",13),e.qZA()()(),e.BQk(),e.GkF(22,14),e.ynx(23,15),e.YNc(24,Vn,7,3,"div",16),e.YNc(25,$n,7,3,"div",16),e.YNc(26,Wn,7,3,"div",16),e.YNc(27,zn,7,3,"div",16),e.BQk(),e.ynx(28,17),e.TgZ(29,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(30,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(31,19),e.TgZ(32,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(33);return e.KtG(o.onTableSortData(s))}),e.ynx(34,22),e.YNc(35,Xn,2,1,"mat-header-cell",23),e.YNc(36,es,2,1,"mat-cell",24),e.BQk(),e.ynx(37,25),e.YNc(38,ts,2,1,"mat-header-cell",23),e.YNc(39,ns,5,7,"mat-cell",26),e.BQk(),e.ynx(40,27),e.YNc(41,ss,2,1,"mat-header-cell",23),e.YNc(42,rs,4,5,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,ls,2,1,"mat-header-cell",23),e.YNc(45,as,4,5,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,cs,2,1,"mat-header-cell",23),e.YNc(48,ds,2,1,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,us,3,3,"mat-header-cell",31),e.YNc(51,ps,6,1,"mat-cell",32),e.BQk(),e.YNc(52,ms,1,0,"mat-header-row",33),e.YNc(53,hs,1,3,"mat-row",34),e.qZA(),e.BQk(),e.ynx(54,35),e.TgZ(55,"mat-paginator",36,37),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(9),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(15,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,_s)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})();const Ss=["vform"];function Cs(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldDescription," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function bs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",9),e._uU(2),e.qZA(),e.TgZ(3,"textarea",10,11),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.dataModel.description=o)}),e._uU(5,"                "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,Cs,5,4,"mat-error",12),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldDescription),e.xp6(1),e.s9C("placeholder",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",i.dataModel.description)("disabled",!(null!=i.fieldsInfo.description&&i.fieldsInfo.description.accessEditField)),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ms(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",15),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let As=(()=>{class n extends N.b{data;dialogRef;coreEnumService;coreModuleLogSiteUserCreditService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){super(r,new c.PHs,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id)}dataModelResult=new c.y$4;dataModel=new c.PHs;formGroup;formInfo=new c.LEF;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(c.dR.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.DLm),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(Ss,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},features:[e.qOj],decls:14,vars:13,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["vform","ngForm"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["Description",""],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",null,4)(10,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(l){return o.loading=l}),e.ALo(11,"translate"),e.qZA(),e.YNc(12,bs,9,6,"div",6),e.YNc(13,Ms,5,3,"div",7),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,9,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionLoading",o.loading)("optionPlaceholder",e.lcZ(11,11,"TITLE.SITE")),e.xp6(2),e.Q6J("ngIf",null==o.fieldsInfo.description?null:o.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,ee.TO,k.Nt,K.P,I.I,_.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Ts=["vform"];function ws(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",13),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let vs=(()=>{class n{data;dialogRef;coreEnumService;coreModuleLogSiteUserCreditService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,o,r,l,s,p,f,g){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=p,this.publicHelper=f,this.translate=g,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.loading.message=S}),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new c.OdC;loading=new D.O;dataModelResult=new c.y$4;dataModel=new c.PHs;formInfo=new c.LEF;dataModelEnumSendSmsStatusTypeResult=new c.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(C.WI),e.Y36(C.so),e.Y36(c.FLW),e.Y36(c.DLm),e.Y36(A.e),e.Y36(T.v),e.Y36(e.sBO),e.Y36(w.i),e.Y36(_.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(i,o){if(1&i&&e.Gf(Ts,5),2&i){let r;e.iGM(r=e.CRH())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4),e._UZ(9,"app-cms-json-list",5),e.qZA(),e.TgZ(10,"div",6)(11,"div",7)(12,"small",8),e._uU(13),e.qZA(),e.TgZ(14,"small",9),e._uU(15),e.qZA()()(),e.TgZ(16,"div",10),e.YNc(17,ws,5,3,"div",11),e.qZA()()()),2&i&&(e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(3),e.Q6J("dataModel",o.dataModel)("optionMethod",1),e.xp6(4),e.hij("",o.formInfo.formAlert," "),e.xp6(2),e.hij("",o.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display)))},dependencies:[h.O5,I.I,q.v,_.X$],encapsulation:2})}return n})();function Ls(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionBackToParent())}),e._UZ(1,"i",39),e.qZA()}}function Is(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewRow(o.tableRowSelected))}),e._UZ(2,"i",42)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function Rs(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Es(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function ys(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonViewUserRow(o.tableRowSelected))}),e._UZ(2,"i",48)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function ks(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Zs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function xs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Ns=function(n){return{display:n}};function Ds(n,a){if(1&n&&e._UZ(0,"select",52),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Ns,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function qs(n,a){if(1&n&&(e.TgZ(0,"mat-cell",50),e.ALo(1,"statusCellClass"),e._UZ(2,"i",50),e.ALo(3,"statusIconClass"),e.YNc(4,Ds,1,5,"select",51),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Us(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Os(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Gs(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Bs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ys(n,a){if(1&n&&(e.TgZ(0,"mat-header-cell",49),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Hs(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Js(n,a){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Fs(n,a){if(1&n&&(e.TgZ(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,55),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Qs(n,a){1&n&&e._UZ(0,"mat-header-row")}const js=function(n){return{background:n}};function Ps(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",56),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onActionTableRowSelect(r))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,js,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const Ks=function(){return[5,10,20,100]},Vs=[{path:"",component:oe,children:[{path:"report-abuse",component:_o,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:qi},{path:"favorite",component:Ye,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:Lt,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:ti,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:Yn,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:(()=>{class n extends x.R{coreEnumService;contentService;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;cdr;translate;router;pageInfo;publicHelper;dialog;requestLinkSiteId=0;requestLinkUserId=0;requestlinkMemberUserId=0;constructor(t,i,o,r,l,s,p,f,g,S,v,y){if(super(i,new c.PHs,v,s),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=p,this.translate=f,this.router=g,this.pageInfo=S,this.publicHelper=v,this.dialog=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.loading.message=d}),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new c.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new c.AO3;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new c.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.PHs);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(vs,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(As,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:M.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:M.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.publicHelper.processService.processStart(l),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.AO3;l.propertyName="RecordStatus",l.value=c.Anr.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||n)(e.Y36(c.FLW),e.Y36(c.DLm),e.Y36(A.e),e.Y36(Z.s),e.Y36(L.gz),e.Y36(T.v),e.Y36(e.sBO),e.Y36(_.sK),e.Y36(L.F0),e.Y36(U.Z),e.Y36(w.i),e.Y36(C.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-coremodulelog-site-user-credit--list"]],features:[e.qOj],decls:56,vars:29,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const r=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(s){return o.viewGuideNotice=s})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(s){return o.optionsSearch.data.show=s}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Ls,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.GkF(21,14),e.ynx(22,15),e.YNc(23,Is,7,3,"div",16),e.YNc(24,Rs,7,3,"div",16),e.YNc(25,Es,7,3,"div",16),e.YNc(26,ys,7,3,"div",16),e.BQk(),e.ynx(27,17),e.TgZ(28,"app-cms-search-list",18),e.NdJ("optionsChange",function(s){return o.optionsSearch=s}),e.qZA(),e.TgZ(29,"app-cms-statist-list",18),e.NdJ("optionsChange",function(s){return o.optionsStatist=s}),e.qZA(),e.BQk(),e.ynx(30,19),e.TgZ(31,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(r);const s=e.MAs(32);return e.KtG(o.onTableSortData(s))}),e.ynx(33,22),e.YNc(34,ks,2,1,"mat-header-cell",23),e.YNc(35,Zs,2,1,"mat-cell",24),e.BQk(),e.ynx(36,25),e.YNc(37,xs,2,1,"mat-header-cell",23),e.YNc(38,qs,5,7,"mat-cell",26),e.BQk(),e.ynx(39,27),e.YNc(40,Us,2,1,"mat-header-cell",23),e.YNc(41,Os,4,5,"mat-cell",24),e.BQk(),e.ynx(42,28),e.YNc(43,Gs,2,1,"mat-header-cell",23),e.YNc(44,Bs,4,5,"mat-cell",24),e.BQk(),e.ynx(45,29),e.YNc(46,Ys,2,1,"mat-header-cell",23),e.YNc(47,Hs,2,1,"mat-cell",24),e.BQk(),e.ynx(48,30),e.YNc(49,Js,3,3,"mat-header-cell",31),e.YNc(50,Fs,6,1,"mat-cell",32),e.BQk(),e.YNc(51,Qs,1,0,"mat-header-row",33),e.YNc(52,Ps,1,3,"mat-row",34),e.qZA(),e.BQk(),e.ynx(53,35),e.TgZ(54,"mat-paginator",36,37),e.NdJ("page",function(s){return o.onTablePageingData(s)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",o.requestLinkSiteId>0),e.xp6(7),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.xp6(2),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(20),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(28,Ks)))},dependencies:[h.mk,h.O5,h.PC,m.JJ,m.On,O.RK,G.Hw,k.Nt,R.VK,R.p6,B.NW,Y.Rr,E.YE,E.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,J.q,F.Z,Q.G,h.Ov,_.X$,$.J,V.Y,j.G,P.Y],encapsulation:2})}return n})(),data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:un,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:gs,data:{title:"ROUTE.COREMODULELOG"}}]}];let $s=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[L.Bz.forChild(Vs),L.Bz]})}return n})();var Ws=b(4721),zs=b(9484),Xs=b(4592);let er=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({providers:[c.EAm,c.dF2,c.ges,c.rf6,c.OpW,c.cg1,c.XUH,c.d7G,c.Oom,c.ig7,c._Zd,c.mbu,c.ucJ,c.rgR,c.DIB,c.DLm,Z.s],imports:[$s,h.ez,m.u5,m.UX.withConfig({warnOnNgModelWithFormControl:"never"}),Xs.m,Ws.UM,zs.wK]})}return n})()}}]);