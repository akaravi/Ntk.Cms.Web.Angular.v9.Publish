"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[799,4121],{3673:(p,m,o)=>{o.d(m,{G:()=>n});var d=o(8239),t=o(8692),u=o(4511),c=o(4537),g=o(4032),r=o(2607);let n=(()=>{class h{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(e,i,l,_,E,C){this.elRef=e,this.renderer=i,this.publicHelper=l,this.cmsToastrService=_,this.cdr=E,this.document=C,this.DataEnumRecordStatus()}DataEnumRecordStatus(){var e=this;return(0,d.Z)(function*(){(yield e.publicHelper.getEnumRecordStatus()).listItems.forEach(l=>{const _=document.createElement("option");_.innerHTML=" "+l.title+' <i Class="'+e.iconStatus(l.value)+'"></i>',_.value=l.value.toString(),e.elRef.nativeElement.add(_)}),e.elRef.nativeElement.options.length>0&&e.row&&e.row.recordStatus&&e.renderer.setProperty(e.elRef.nativeElement,"value",e.row.recordStatus)})()}onChange(){const e=this.elRef.nativeElement,i=e.value;this.addLoader(e),this.contentService.setAccessDataType(u.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,i).subscribe(l=>{l.isSuccess?(this.handleSuccessCase(e),this.cmsToastrService.typeSuccessSetStatus(l.errorMessage),this.row.recordStatus=0|i,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(l.errorMessage),this.handleErrorCase(e))},l=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(l),this.handleErrorCase(e)})}handleSuccessCase(e){this.removeBackground(e),this.addSuccess(e),setTimeout(()=>{this.removeBackground(e)},1e3)}handleErrorCase(e){this.removeBackground(e);const i=this.document.createElement("img");i.style.width="20px",i.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const l=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(l,i),setTimeout(()=>{this.renderer.removeChild(l,i)},1e3)}addLoader(e){this.addBackground(e,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(e){this.addBackground(e,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(e,i,l){e.style.background=`#fff url("${i}") no-repeat right 20px center`,e.style.backgroundSize=`${l}px`}removeBackground(e){e.style.background="none"}iconStatus(e){let i="";switch(e){case 1:default:i="fa fa-check";break;case 2:i="fa fa-eye-slash";break;case 3:i="fa fa-times";break;case 4:i="fa fa-hourglass-half";break;case 5:i="far fa-thumbs-down";break;case 6:i="fa fa-archive"}return i}static \u0275fac=function(i){return new(i||h)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(g.i),c.Y36(r.e),c.Y36(c.sBO),c.Y36(t.K0))};static \u0275dir=c.lG2({type:h,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(i,l){1&i&&c.NdJ("change",function(){return l.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return h})()},9084:(p,m,o)=>{o.d(m,{Y:()=>g});var d=o(7241),t=o(7969),u=o(4537),c=o(4511);let g=(()=>{class r{service;constructor(a){this.service=a}transform(a){return!a||a<=0?new d.y:this.service.ServiceGetOneById(a,1e6).pipe((0,t.U)(s=>{var n="";return s.isSuccess&&(s.item.title&&s.item.title.length>0&&(n=s.item.title),s.item.id&&s.item.id>0&&(n.length>0&&(n+=" | "),n+=s.item.id),s.item.domain&&s.item.domain.length>0&&s.item.subDomain&&s.item.subDomain.length>0?(n.length>0&&(n+=" | "),n=n+s.item.subDomain+"."+s.item.domain):s.item.domain&&s.item.domain.length>0&&(n.length>0&&(n+=" | "),n+=s.item.domain)),0===n.length&&(n=a.toString()),n},s=>a.toString()))}static \u0275fac=function(s){return new(s||r)(u.Y36(c._0e,16))};static \u0275pipe=u.Yjl({name:"cmssiteinfo",type:r,pure:!0})}return r})()},5897:(p,m,o)=>{o.d(m,{Y:()=>u});var d=o(4537),t=o(5998);let u=(()=>{class c{sanitizer;constructor(r){this.sanitizer=r}transform(r){return"cms-RecordStatusEnum-cell-"+r}static \u0275fac=function(f){return new(f||c)(d.Y36(t.H7,16))};static \u0275pipe=d.Yjl({name:"statusCellClass",type:c,pure:!0})}return c})()},6639:(p,m,o)=>{o.d(m,{G:()=>u});var d=o(4537),t=o(5998);let u=(()=>{class c{sanitizer;constructor(r){this.sanitizer=r}transform(r,f=!1){let a="";switch(r){case 1:default:a="fa fa-check";break;case 2:a="fa fa-times";break;case 3:a="fa fa-trash";break;case 4:a="fa fa-hourglass-half";break;case 5:a="far fa-thumbs-down";break;case 6:a="fa fa-archive"}return a}static \u0275fac=function(f){return new(f||c)(d.Y36(t.H7,16))};static \u0275pipe=d.Yjl({name:"statusIconClass",type:c,pure:!0})}return c})()},3914:(p,m,o)=>{o.d(m,{s:()=>g});var d=o(4536),t=o(4537);let u=(()=>{class r{dialogRef;data;static nextId=0;id=++r.nextId;title;message;btnOkText;btnCancelText;constructor(a,s){this.dialogRef=a,this.data=s}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(s){return new(s||r)(t.Y36(d.so),t.Y36(d.WI))};static \u0275cmp=t.Xpm({type:r,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"innerHTML"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(s,n){1&s&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._UZ(3,"p",2),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return n.onDismiss()}),t._uU(6),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return n.onConfirm()}),t._uU(8),t.qZA()()),2&s&&(t.xp6(1),t.hij(" ",n.title,"\n"),t.xp6(2),t.Q6J("innerHTML",n.message,t.oJD),t.xp6(3),t.Oqu(n.btnCancelText),t.xp6(2),t.Oqu(n.btnOkText))},encapsulation:2})}return r})();class c{title;message;constructor(f,a){this.title=f,this.message=a}btnOkText="OK";btnCancelText="Cancel";dialogSize="sm"}let g=(()=>{class r{dialog;constructor(a){this.dialog=a}confirm(a,s,n="OK",h="Cancel",v="sm"){const e=new c(a,s);return e.btnOkText=n,e.btnCancelText=h,e.dialogSize=v,this.dialog.open(u,{data:e}).afterClosed().toPromise().then(l=>Promise.resolve(l))}static \u0275fac=function(s){return new(s||r)(t.LFG(d.uw))};static \u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})()}}]);