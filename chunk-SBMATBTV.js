import{a as Wr}from"./chunk-NGVXDNWZ.js";import{a as Qt,b as hd}from"./chunk-OJB7NGYJ.js";import{a as Qa,b as za,d as Ya,e as _d}from"./chunk-LAO7M4CO.js";import{b as Gt,c as Ut,d as jt,e as Pl}from"./chunk-YYZEZAG7.js";import{a as wi}from"./chunk-CARLNGNE.js";import{a as _t}from"./chunk-5BAXS43S.js";import{a as Mt}from"./chunk-Z4SQC6IX.js";import{a as ft}from"./chunk-LCFSMJ57.js";import{a as Po,b as fd}from"./chunk-WZJN2PSL.js";import{a as Ye}from"./chunk-R33IOVZT.js";import{$ as ci,$a as jn,$b as ji,Aa as Os,Ad as It,B as Ur,C as Ot,Cc as mn,D as Ta,Dc as Oi,Dd as Wi,E as xa,Ea as Bs,F as jr,Fb as Ei,Fc as Ln,G as qr,Gb as $t,Gc as Fn,H as Qr,Hb as ei,Hc as On,I as Aa,Ic as Bn,Id as ud,J as Pa,Jc as Hn,K as be,Ka as ar,Kb as ea,Kc as Wn,L as ke,La as Te,Lb as fo,Lc as Se,M as we,Ma as Pe,Mb as _o,Mc as Cn,N as vs,Na as De,Nb as ho,Nc as An,O as bs,Ob as go,Oc as ta,P as ws,Pb as yo,Qa as Hs,Qb as Co,Qc as kl,Ra as Ws,Rb as Na,Sb as Ga,Sc as ir,Ta as se,Tb as dd,Tc as ri,Ua as Ns,Ub as kt,Uc as ia,Vb as Dt,Vc as Sn,Wa as $,Wb as bt,Wc as In,Xb as yt,Yb as wt,Yc as Dl,Zb as Tt,Zc as Rl,_a as Un,_b as Ui,_c as Bi,aa as Re,ab as rn,ac as qi,ad as vi,ba as ka,bb as Da,bc as cn,bd as bi,ca as yr,cb as Ra,cc as pn,cd as Ao,da as Oe,db as Va,dc as cd,ea as Bt,eb as La,ec as tt,fa as Ts,fc as it,fd as Hi,gc as nt,gd as to,ha as Pi,hc as ot,hd as Ct,ia as ki,ic as rt,ja as Di,jc as at,jd as pd,k as li,ka as Ri,kc as lt,kd as md,lb as $e,lc as st,ld as en,m as Xt,mb as sd,mc as dt,md as qt,na as so,nb as V,nc as ct,nd as Nt,o as Ft,oa as Ps,ob as Fi,oc as ti,od as si,p as te,pb as er,pc as So,qc as Io,rc as Mo,rd as Ua,s as z,sa as ze,sb as ut,sc as Eo,sd as ja,t as ve,tb as L,tc as vo,td as St,u as wa,ua as ks,uc as bo,v as xe,va as Ds,vb as j,vc as wo,w as gt,wa as Rs,wc as To,x as X,xa as Vs,xb as tr,xc as xo,y as Ae,ya as Ls,yb as Mi,yc as eo,z as Rt,za as Fs,zd as qa}from"./chunk-DFPOCKXH.js";import{b as O,c as U,e as ma,p as Y}from"./chunk-SYFPKEMX.js";import{$f as Qs,$m as Jo,Aa as et,Ab as Et,Ac as oo,Am as Ii,An as Tn,Bc as ro,Bm as Js,Bn as xn,Cc as ao,Cd as vt,Cm as pi,Cn as yn,Db as ie,Dc as mt,Dd as Q,Dm as Cr,Dn as pr,Eb as ne,Em as co,En as pa,Fb as oe,Fc as Ue,Fe as Pt,Fm as Xs,Fn as Kn,Ge as qs,Gm as $s,Gn as mr,Hd as G,Hm as Ko,Hn as ur,Ia as Z,Ib as D,Ic as lo,Id as pe,Im as qn,In as fr,Ja as ys,Jb as At,Jc as va,Jd as me,Jm as Zo,Jn as uo,Kb as d,Km as Sr,Kn as ad,L as Kt,La as r,Lb as b,Lc as Ms,Lm as Xi,Ln as ld,Ma as E,Mb as C,Mm as Ho,Mn as Ha,Nb as fe,Nd as Fa,Nm as mi,Nn as Jr,O as Ci,Ob as Cs,Oc as Es,Om as $i,On as Hr,Pb as Ss,Pm as ui,Pn as Xr,Qb as w,Qd as ee,Qm as ln,Qn as Wa,Rb as T,Rm as ed,Rn as $r,Sb as x,Sd as Gs,Sm as td,Tg as zs,Tm as id,Uc as ba,Ud as Us,Um as sn,Vb as Ce,Vm as dn,W as Zt,Wb as Je,Wm as Qn,X as Jt,Xm as zn,Yb as g,Yd as js,Ym as Kr,Za as le,Zb as y,Zf as Li,Zm as po,_b as zt,_m as Zr,ab as I,an as Ir,aq as W,bb as ht,bn as Mr,cb as p,cn as Xo,da as Ma,db as _e,dn as nd,eb as Me,en as od,f as Jn,fd as Ht,g as ni,gc as H,gd as xs,hd as Qe,hn as rd,i as hr,id as As,ja as F,jn as Xn,ka as Ea,kd as Al,kn as Ba,lb as a,ld as He,ln as $n,ma as gr,mb as l,mn as Yn,nb as S,nd as zr,nn as Vn,ob as P,on as wn,pb as k,pn as sr,qb as qe,qc as Is,qd as Ne,qf as Vi,qn as mo,ra as f,rb as v,rd as lr,rn as $o,sa as _,sn as dr,td as Ge,tm as Oa,tn as _n,u as yi,ub as M,um as Ji,un as Gi,v as xt,vd as ae,vm as bn,vn as cr,wb as u,wm as Ks,wn as hn,xb as Si,xc as ce,xj as Ys,xm as Yr,xn as Er,yb as oi,yc as We,ym as an,yn as gn,z as Ia,zb as A,zc as N,zd as Be,zm as Zs,zn as Vt}from"./chunk-VNG252Z5.js";var gd=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=F({type:s,selectors:[["app-estate"]],decls:1,vars:0,template:function(i,e){i&1&&S(0,"router-outlet")},dependencies:[xs],encapsulation:2});let o=s;return o})();var yd=Jn(eo());var Xc=["vform"],$c=o=>({direction:o});function ep(o,s){if(o&1&&(S(0,"img",40),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function tp(o,s){o&1&&S(0,"i",41)}function ip(o,s){o&1&&S(0,"i",42)}function np(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function op(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function rp(o,s){if(o&1){let n=v();a(0,"div",16)(1,"label",43),d(2),g(3,"translate"),l(),a(4,"textarea",44,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"          "),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 500")}}function ap(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",45),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.USER"))}}function lp(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function sp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",48),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",51),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowSite,i)||(e.dataModel.accessWatchRowSite=i),_(i)}),l(),S(7,"label",52),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowSite==null?null:n.fieldsInfo.accessWatchRowSite.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowSite)}}function dp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",53),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",54),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgency,i)||(e.dataModel.accessWatchRowOtherAgency=i),_(i)}),l(),S(7,"label",55),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgency==null?null:n.fieldsInfo.accessWatchRowOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgency)}}function cp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",56),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",57),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgent,i)||(e.dataModel.accessWatchRowOtherAgent=i),_(i)}),l(),S(7,"label",58),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgent==null?null:n.fieldsInfo.accessWatchRowOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgent)}}function pp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",59),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",60),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgency,i)||(e.dataModel.accessAllowShareRowWatchOtherAgency=i),_(i)}),l(),S(7,"label",61),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgency)}}function mp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",62),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",63),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgent,i)||(e.dataModel.accessAllowShareRowWatchOtherAgent=i),_(i)}),l(),S(7,"label",64),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgent)}}function up(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",65),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaEstate,i)||(e.dataModel.notificationWorkAreaEstate=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaEstate==null?null:n.fieldsInfo.notificationWorkAreaEstate.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaEstate)}}function fp(o,s){if(o&1){let n=v();a(0,"div",46)(1,"div",47)(2,"h5",68),d(3),l()(),a(4,"div",49)(5,"div",50)(6,"input",69),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaCustomerOrder,i)||(e.dataModel.notificationWorkAreaCustomerOrder=i),_(i)}),l(),S(7,"label",70),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:n.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaCustomerOrder)}}function _p(o,s){if(o&1){let n=v();a(0,"div",71)(1,"button",72),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",73),d(3),g(4,"translate"),l(),a(5,"button",74),S(6,"i",75),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Vl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new Xn,c,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAccountAgencyService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.mapOptonCenter=new wi,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new Xn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.viewMap=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.publicHelper.processService.processStart(t,"",this.constructorInfoAreaId),this.estateAccountAgencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=yd.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(bn),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-agency-add"]],viewQuery:function(i,e){if(i&1&&ie(Xc,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:88,vars:85,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",12,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",13)(11,"a",14),g(12,"cmsthumbnail"),I(13,ep,2,3,"img",15),l()(),a(14,"div",16)(15,"label",17),d(16),g(17,"translate"),l(),a(18,"input",18,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",19),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",16)(24,"label",20),d(25),l(),a(26,"input",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,tp,1,0,"i",22)(29,ip,1,0,"i",23),S(30,"em"),I(31,np,5,3,"mat-error",24),l(),a(32,"div",16)(33,"label",25),d(34),l(),a(35,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(37,"          "),l(),a(38,"em"),d(39),l(),I(40,op,5,3,"mat-error",24),l(),I(41,rp,9,6,"div",27)(42,ap,2,5,"app-cms-user-selector",28),a(43,"div",16)(44,"label",29),d(45),l(),a(46,"input",30,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(48,"em"),d(49),l()(),a(50,"div",16)(51,"label",31),d(52),l(),a(53,"input",32,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(55,"em"),d(56),l()(),a(57,"div",16)(58,"label",33),d(59),l(),a(60,"textarea",34,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),d(62,"          "),l(),a(63,"em"),d(64),l(),I(65,lp,5,3,"mat-error",24),l(),a(66,"app-cms-location-selector",35),g(67,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(68,"br"),d(69),g(70,"translate"),a(71,"app-cms-location-autocomplete",36),g(72,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(73,"hr"),I(74,sp,8,2,"div",37)(75,dp,8,2,"div",37)(76,cp,8,2,"div",37)(77,pp,8,2,"div",37)(78,mp,8,2,"div",37),S(79,"hr"),I(80,up,8,2,"div",37)(81,fp,8,2,"div",37),S(82,"hr"),a(83,"p"),d(84),g(85,"translate"),l(),a(86,"app-cms-map",38),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(87,_p,9,7,"div",39),l()()()}if(i&2){let m=D(27),h=D(36),c=D(47),R=D(54),B=D(61);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,65,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(83,$c,e.tokenInfo.direction)),r(3),A("href",y(12,67,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,69,"MESSAGE.Photo_of_estate_agency")),r(2),A("placeholder",y(20,71,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,73,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(3),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),r(3),C("",c.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",R.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),r(4),C("",B.value.length," / 500"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(67,75,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),r(3),C(" ",y(70,77,"TITLE.COVERED_AREAS")," "),r(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",y(72,79,"TITLE.Region")),r(3),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(3),b(y(85,81,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,$,Nt,qt,Wi,si,j,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Ll=Jn(eo());var hp=["*"];function gp(o,s){if(o&1&&(S(0,"img",13),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModelSelect==null?null:n.dataModelSelect.linkMainImageIdSrc),Z)}}function yp(o,s){if(o&1&&(S(0,"img",13),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function Cp(o,s){if(o&1&&(a(0,"mat-option",14),I(1,yp,2,3,"img",4),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,t=u();p("value",n)("disabled",t.optionDisabled),r(),p("ngIf",n.linkMainImageIdSrc),r(2),b(t.displayOption(n))}}function Sp(o,s){o&1&&S(0,"i",15)}function Ip(o,s){o&1&&S(0,"i",16)}function Mp(o,s){if(o&1){let n=v();a(0,"i",17),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),l()}}function Ep(o,s){o&1&&(a(0,"em"),d(1),g(2,"translate"),l()),o&2&&(r(),C("(",y(2,1,"TITLE.Necessary"),")"))}var Qi=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.translate=e,this.cdr=m,this.publicHelper=h,this.categoryService=c,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new $n,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionRequired=!1,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new Hr;i.rowPerPage=20,i.accessLoad=!0;let e=new G;typeof t=="string"&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),t?.length>0&&(e=new G,e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="mobileNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="phoneNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="number"&&t>0){if(this.dataModelSelect&&this.dataModelSelect.linkCmsUserId===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(m=>m.linkCmsUserId===t)){let m=this.dataModelResult.listItems.find(h=>h.linkCmsUserId===t);this.dataModelSelect=m,this.formControl.setValue(m);return}let i=new Hr,e=new G;e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,i.filters.push(e),this.categoryService.ServiceGetAll(i).subscribe({next:m=>{m.isSuccess&&(m.listItems.length>0?(this.filteredOptions=this.push(m.listItems[0]),this.dataModelSelect=m.listItems[0],this.formControl.setValue(m.listItems[0]),this.optionChange.emit(m.listItems[0])):this.cmsToastrService.typeErrorMessage(m.errorMessage))}});return}else if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof $n){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $n,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(O),E(H),E(L),E(an))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-user-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:hp,decls:17,vars:16,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"span",3),I(3,gp,2,3,"img",4),d(4," \xA0"),l(),S(5,"input",5),a(6,"label",6),d(7),l(),a(8,"mat-autocomplete",7,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(10,Cp,4,4,"mat-option",8),g(11,"async"),l(),I(12,Sp,1,0,"i",9)(13,Ip,1,0,"i",10)(14,Mp,1,0,"i",11)(15,Ep,3,3,"em",12),oi(16),l()}if(i&2){let m=D(9);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),ht("disabled",e.optionDisabled?!0:null),r(2),b(e.optionLabel),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(11,14,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id.length<=0))}},dependencies:[We,N,te,z,be,Ot,$t,Xt,ei,yr,$,j,Ue,U,Se],encapsulation:2});let o=s;return o})();var vr=(()=>{let s=class s{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new hr:this.service.ServiceGetOneById(t,1e6).pipe(xt(i=>{var e="";return i.isSuccess&&i.item.title&&i.item.title.length>0&&(e=i.item.title),e},i=>""))}};s.\u0275fac=function(i){return new(i||s)(E(bn,16))},s.\u0275pipe=gr({name:"estateAccountAgencyInfo",type:s,pure:!0});let o=s;return o})();var br=(()=>{let s=class s{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new hr:this.service.ServiceGetOneById(t,1e6).pipe(xt(i=>{var e="";return i.isSuccess&&i.item.title&&i.item.title.length>0&&(e=i.item.title),e},i=>""))}};s.\u0275fac=function(i){return new(i||s)(E(an,16))},s.\u0275pipe=gr({name:"estateAccountUserInfo",type:s,pure:!0});let o=s;return o})();var vp=["vform"],bp=o=>({direction:o});function wp(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function Tp(o,s){o&1&&S(0,"i",50)}function xp(o,s){o&1&&S(0,"i",51)}function Ap(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Pp(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function kp(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",52),d(2),g(3,"translate"),l(),a(4,"textarea",53,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"                    "),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),A("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 500")}}function Dp(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",54),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.USER"))}}function Rp(o,s){o&1&&S(0,"i",50)}function Vp(o,s){o&1&&S(0,"i",51)}function Lp(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Fp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",57),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",60),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowSite,i)||(e.dataModel.accessWatchRowSite=i),_(i)}),l(),S(7,"label",61),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowSite==null?null:n.fieldsInfo.accessWatchRowSite.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowSite)}}function Op(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",62),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",63),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgency,i)||(e.dataModel.accessWatchRowOtherAgency=i),_(i)}),l(),S(7,"label",64),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgency==null?null:n.fieldsInfo.accessWatchRowOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgency)}}function Bp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",65),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgent,i)||(e.dataModel.accessWatchRowOtherAgent=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgent==null?null:n.fieldsInfo.accessWatchRowOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgent)}}function Hp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",68),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",69),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgency,i)||(e.dataModel.accessAllowShareRowWatchOtherAgency=i),_(i)}),l(),S(7,"label",70),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgency)}}function Wp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",71),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgent,i)||(e.dataModel.accessAllowShareRowWatchOtherAgent=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgent)}}function Np(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",74),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",75),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaEstate,i)||(e.dataModel.notificationWorkAreaEstate=i),_(i)}),l(),S(7,"label",76),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaEstate==null?null:n.fieldsInfo.notificationWorkAreaEstate.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaEstate)}}function Gp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",77),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",78),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaCustomerOrder,i)||(e.dataModel.notificationWorkAreaCustomerOrder=i),_(i)}),l(),S(7,"label",79),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:n.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaCustomerOrder)}}function Up(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",68),d(3," accessShareAgencyToUser"),l()(),a(4,"div",58)(5,"div",59)(6,"input",80),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataEstateAccountAgencyUserModel.accessShareAgencyToUser,i)||(e.dataEstateAccountAgencyUserModel.accessShareAgencyToUser=i),_(i)}),l(),S(7,"label",81),l()()()}if(o&2){let n=u();r(6),w("ngModel",n.dataEstateAccountAgencyUserModel.accessShareAgencyToUser)}}function jp(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",82),d(3,"accessShareUserToAgency"),l()(),a(4,"div",58)(5,"div",59)(6,"input",83),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataEstateAccountAgencyUserModel.accessShareUserToAgency,i)||(e.dataEstateAccountAgencyUserModel.accessShareUserToAgency=i),_(i)}),l(),S(7,"label",84),l()()()}if(o&2){let n=u();r(6),w("ngModel",n.dataEstateAccountAgencyUserModel.accessShareUserToAgency)}}function qp(o,s){if(o&1){let n=v();a(0,"button",85),M("click",function(){f(n);let i=u();return _(i.onActionDataGetAddGroup())}),d(1,"+ "),l()}}function Qp(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.linkEstateAccountUserId==null?null:n.fieldsInfoAgencyUser.linkEstateAccountUserId.fieldTitle," ")}}function zp(o,s){if(o&1&&(P(0),d(1),g(2,"estateAccountUserInfo"),g(3,"async"),k()),o&2){let n=u().$implicit;r(),C(" ",y(3,3,y(2,1,n.linkEstateAccountUserId))," ")}}function Yp(o,s){if(o&1&&(a(0,"mat-cell"),I(1,zp,4,5,"ng-container",27),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.linkEstateAccountUserId)}}function Kp(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:n.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function Zp(o,s){if(o&1&&(P(0),d(1),g(2,"estateAccountAgencyInfo"),g(3,"async"),k()),o&2){let n=u().$implicit;r(),C(" ",y(3,3,y(2,1,n.linkEstateAccountAgencyId))," ")}}function Jp(o,s){if(o&1&&(a(0,"mat-cell"),I(1,Zp,4,5,"ng-container",27),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.linkEstateAccountAgencyId)}}function Xp(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:n.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function $p(o,s){if(o&1&&(P(0),S(1,"i",98),g(2,"boolclass"),k()),o&2){let n=u().$implicit;r(),p("ngClass",y(2,1,n.accessShareUserToAgency))}}function em(o,s){if(o&1&&(a(0,"mat-cell"),I(1,$p,3,3,"ng-container",27),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.accessShareUserToAgency)}}function tm(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:n.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function im(o,s){if(o&1&&(P(0),S(1,"i",98),g(2,"boolclass"),k()),o&2){let n=u().$implicit;r(),p("ngClass",y(2,1,n.accessShareAgencyToUser))}}function nm(o,s){if(o&1&&(a(0,"mat-cell"),I(1,im,3,3,"ng-container",27),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.accessShareAgencyToUser)}}function om(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function rm(o,s){if(o&1){let n=v();a(0,"mat-cell",99)(1,"button",100)(2,"small",101),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionDataGetDeleteGroup(i))}),a(3,"mat-icon",102),g(4,"translate"),d(5,"delete"),l()()()()}o&2&&(r(3),A("matTooltip",y(4,1,"ACTION.DELETE")))}function am(o,s){o&1&&S(0,"mat-header-row")}function lm(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function sm(o,s){if(o&1&&(a(0,"div",86)(1,"mat-table",87),P(2,88),I(3,Qp,2,1,"mat-header-cell",89)(4,Yp,2,1,"mat-cell",90),k(),P(5,91),I(6,Kp,2,1,"mat-header-cell",89)(7,Jp,2,1,"mat-cell",90),k(),P(8,92),I(9,Xp,2,1,"mat-header-cell",89)(10,em,2,1,"mat-cell",90),k(),P(11,93),I(12,tm,2,1,"mat-header-cell",89)(13,nm,2,1,"mat-cell",90),k(),P(14,94),I(15,om,3,3,"mat-header-cell",89)(16,rm,6,3,"mat-cell",95),k(),I(17,am,1,0,"mat-header-row",96)(18,lm,1,4,"mat-row",97),l()()),o&2){let n=u();r(),p("dataSource",n.optionTabledataSource),r(16),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns)}}function dm(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function cm(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function pm(o,s){if(o&1){let n=v();a(0,"div",103)(1,"button",104),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",105),d(3),g(4,"translate"),l(),a(5,"button",106),S(6,"i",107),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Fl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re,Ee){super(m,new Xn,B,Ee),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAccountAgencyService=m,this.estateAccountUserService=h,this.cmsToastrService=c,this.estateAccountAgencyUserService=R,this.publicHelper=B,this.tokenHelper=q,this.cdr=re,this.translate=Ee,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfoAgencyUser=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new Xn,this.dataEstateAccountAgencyUserModel=new Ba,this.formInfo=new me,this.fileManagerOpenForm=!1,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateAccountUserId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"],this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.dataEstateAccountUserModel=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.CheckIsAdmin(),this.DataGetAccess(),this.tokenHelper.getTokenInfoState().then(Ze=>{this.tokenInfo=Ze})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.setAccessLoad(),this.estateAccountAgencyService.setAccessDataType(Be.Editor),this.estateAccountAgencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert="";let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap())}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Ll.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Ll.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.formInfo.formAlert=this.translate.instant("MESSAGE.Getting_access_category_from_the_server"),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="linkEstateAccountAgencyId",e.value=this.requestId,i.filters.push(e),this.estateAccountAgencyUserService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstateAccountUserModel=m.listItems,this.optionTabledataSource.data=this.dataEstateAccountUserModel,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetAddGroup(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyUserService.ServiceAdd(this.dataEstateAccountAgencyUserModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.formAlert="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetDeleteGroup(t){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateAccountAgencyUserService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccountUser(t){this.dataEstateAccountAgencyUserModel.linkEstateAccountUserId=null,this.dataEstateAccountAgencyUserModel.linkEstateAccountAgencyId=this.requestId,t&&t.id.length>0&&(this.dataEstateAccountAgencyUserModel.linkEstateAccountUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(bn),E(an),E(V),E(Yr),E(L),E(Y),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-agency-edit"]],viewQuery:function(i,e){if(i&1&&ie(vp,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:105,vars:99,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","type","button",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyUserModel.accessShareAgencyToUser","name","dataEstateAccountAgencyUserModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyUserModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyUserModel.accessShareUserToAgency","name","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"custom-control-label"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateAccountUserId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",9),S(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",13,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",14,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",15),g(13,"translate"),a(14,"div",16)(15,"a",17),g(16,"cmsthumbnail"),I(17,wp,2,3,"img",18),l()(),a(18,"div",19)(19,"label",20),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(20),g(21,"translate"),l(),a(22,"input",21,2),g(24,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(25,"cms-file-manager",22),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(26,"div",19)(27,"label",23),d(28),l(),a(29,"input",24,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(31,Tp,1,0,"i",25)(32,xp,1,0,"i",26),S(33,"em"),I(34,Ap,5,3,"mat-error",27),l(),a(35,"div",19)(36,"label",28),d(37),l(),a(38,"textarea",29,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"                    "),l(),a(41,"em"),d(42),l(),I(43,Pp,5,3,"mat-error",27),l(),I(44,kp,9,7,"div",30)(45,Dp,2,5,"app-cms-user-selector",31),a(46,"div",19)(47,"label",32),d(48),l(),a(49,"input",33,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(51,"em"),d(52),l()(),a(53,"div",19)(54,"label",34),d(55),l(),a(56,"input",35,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(58,"em"),d(59),l()(),a(60,"div",19)(61,"label",36),d(62),l(),a(63,"textarea",37,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),d(65,"                    "),l(),I(66,Rp,1,0,"i",25)(67,Vp,1,0,"i",26),a(68,"em"),d(69),l(),I(70,Lp,5,3,"mat-error",27),l(),a(71,"app-cms-location-selector",38),g(72,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(73,"br"),d(74),g(75,"translate"),a(76,"app-cms-location-autocomplete",39),g(77,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(78,"hr"),I(79,Fp,8,2,"div",40)(80,Op,8,2,"div",40)(81,Bp,8,2,"div",40)(82,Hp,8,2,"div",40)(83,Wp,8,2,"div",40),S(84,"hr"),I(85,Np,8,2,"div",40)(86,Gp,8,2,"div",40),S(87,"hr"),a(88,"p"),d(89),g(90,"translate"),l(),a(91,"app-cms-map",41),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l()(),a(92,"mat-step",42),g(93,"translate"),S(94,"br"),a(95,"app-estate-account-user-selector",43),g(96,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorAccountUser(c))}),l(),I(97,Up,8,1,"div",40)(98,jp,8,1,"div",40)(99,qp,2,0,"button",44),S(100,"app-progress-spinner",10),I(101,sm,19,3,"div",45),l(),I(102,dm,2,0,"ng-template",46)(103,cm,2,0,"ng-template",47),l(),I(104,pm,9,7,"div",48),l()()()}if(i&2){let m=D(30),h=D(39),c=D(50),R=D(57),B=D(64);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,75,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(97,bp,e.tokenInfo.direction)),r(4),A("label",y(13,77,"TITLE.REQUIRED_INFORMATION")),r(3),A("href",y(16,79,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(21,81,"MESSAGE. Photo_of_estate_agency")),r(2),A("placeholder",y(24,83,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessEditField)),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(3),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),r(3),C("",c.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",R.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),r(3),p("ngIf",!B.value),r(),p("ngIf",B.value),r(2),C("",B.value.length," / 500"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(72,85,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField)),r(3),C(" ",y(75,87,"TITLE.COVERED_AREAS")," "),r(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",y(77,89,"TITLE.Region")),r(3),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(3),b(y(90,91,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),A("label",y(93,93,"TITLE.Property_personnel")),r(3),p("optionDisabled",!e.tokenHelper.isAdminSite)("optionPlaceholder",y(96,95,"TITLE.Property_personnel")),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataEstateAccountAgencyUserModel.linkEstateAccountUserId&&e.dataEstateAccountAgencyUserModel.linkEstateAccountUserId.length>0),r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(3),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,ze,Re,se,$,ji,qi,Ui,tt,nt,lt,ot,it,st,rt,at,dt,ct,tr,Nt,qt,Wi,si,j,Oi,$e,Qi,Ue,U,Se,er,vr,br],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function mm(o,s){o&1&&S(0,"div",10)}var $a=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.headerService=t,this.publicHelper=i,this.cdr=e,this.translate=m,this.cmsToastrService=h,this.dialog=c,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(an),E(L),E(H),E(O),E(V),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-user-header"]],inputs:{optionId:"optionId"},decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,mm,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l(),d(17,": "),l(),a(18,"div",9),d(19),l(),S(20,"div",10)(21,"div",11),l(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),l(),d(26," : "),l(),a(27,"div",9),d(28),l(),S(29,"div",12)(30,"div",11),l()()()(),S(31,"div",13)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,8,"TITLE.Selected_Personnel")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[N,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var um=()=>["expandedTitle"],fm=()=>["expandedDetail"],_m=()=>[5,10,20,100],hm=o=>({display:o});function gm(o,s){if(o&1&&S(0,"app-estate-account-user-header",48),o&2){let n=u();p("optionId",n.requestLinkAccountUserId)}}function ym(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",49),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",50)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function Cm(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",51),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",52)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function Sm(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",53),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",54)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function Im(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function Mm(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",55),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",56),l()()}}function Em(o,s){o&1&&(a(0,"mat-header-cell",57),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function vm(o,s){if(o&1&&(S(0,"img",59),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function bm(o,s){if(o&1&&(a(0,"mat-cell"),I(1,vm,2,3,"img",58),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function wm(o,s){if(o&1&&(a(0,"mat-header-cell",57),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Tm(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function xm(o,s){if(o&1&&(a(0,"mat-header-cell",57),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Am(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function Pm(o,s){if(o&1&&(a(0,"mat-header-cell",57),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkCmsUserId==null?null:n.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function km(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkCmsUserId))," ")}}function Dm(o,s){if(o&1&&(a(0,"mat-header-cell",57),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function Rm(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function Vm(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function Lm(o,s){if(o&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function Fm(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),l()),o&2){let n=s.$implicit;r(),fe(" ",y(2,2,"TITLE.User-Id-Cms"),": ",y(4,6,y(3,4,n.linkCmsUserId))," ")}}function Om(o,s){if(o&1&&(S(0,"img",66),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function Bm(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," : ",n.description," ")}}function Hm(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),g(4,"translate"),l()()),o&2){let n=u().$implicit;r(3),fe("",y(4,2,"TITLE.Address")," : ",n.address," ")}}function Wm(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle," : ",n.phoneNumber," ")}}function Nm(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle," : ",n.mobileNumber," ")}}function Gm(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,Om,2,3,"img",62),l(),a(6,"th")(7,"span",63),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",64),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),I(14,Bm,4,2,"tr",65)(15,Hm,5,4,"tr",65)(16,Wm,4,2,"tr",65)(17,Nm,4,2,"tr",65),a(18,"tr"),S(19,"td")(20,"td"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),fe("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," : ",n.title," "),r(),p("ngIf",n.description),r(),p("ngIf",n.address),r(),p("ngIf",n.phoneNumber),r(),p("ngIf",n.mobileNumber)}}function Um(o,s){o&1&&S(0,"mat-header-row")}function jm(o,s){if(o&1){let n=v();a(0,"mat-row",67),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function qm(o,s){if(o&1){let n=v();a(0,"mat-row",67),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Qm(o,s){if(o&1){let n=v();a(0,"mat-row",68),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,hm,n.expanded===!0?"":"none"))}}var Go=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee){super(t,new Xn,re,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.activatedRoute=B,this.pageInfo=q,this.publicHelper=re,this.dialog=Ee,this.requestLinkAccountUserId="",this.constructorInfoAreaId=this.constructor.name,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Jr,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Title","Description","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Title","Description","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ze=>this.onSubmitOptionsSearch(Ze)},this.requestLinkAccountUserId=this.activatedRoute.snapshot.paramMap.get("LinkAccountUserId"),this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}set optionLinkLocationWorkAreaIds(t){this.requestLinkLocationWorkAreaIds=[],t&&t.length>0&&(this.requestLinkLocationWorkAreaIds=t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(t){this.requestLinkLocationWorkAreaIds=[],t&&t>0&&this.requestLinkLocationWorkAreaIds.push(t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;if(this.tableRowsSelected=[],this.onActionTableRowSelect(new Xn),this.requestLinkAccountUserId&&this.requestLinkAccountUserId.length>0){let e=new G;e.propertyAnyName="AccountAgencyUser",e.propertyName="linkEstateAccountUserId",e.value=this.requestLinkAccountUserId,this.filteModelContent.filters.push(e)}let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionSelectorLocation(t){this.filteModelContent.locationListIds=t}onActionSelectorLocationWorkArea(t){this.filteModelContent.linkLocationWorkAreaIds=t}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Vl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonAgentRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-user/LinkAccountAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-user/LinkAccountAgencyId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateAgencyId",this.tableRowSelected.id])}onActionButtonPropertyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateAgencyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateAgencyId",this.tableRowSelected.id])}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(bn),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(Ht),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-agency-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},features:[le],decls:94,vars:57,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user-tie","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-house","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();I(0,gm,1,1,"app-estate-account-user-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(2,5),d(3," -------------------------------------- "),k(),qe(4,6)(5,7),P(6,8),a(7,"a",9),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(8,"i",10),l(),a(9,"a",9),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(10,"i",11),l(),k(),P(11,12),a(12,"a",13),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(13,"mat-slide-toggle",14),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(14),g(15,"translate"),l(),a(16,"a",13),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(17,"mat-slide-toggle",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(18),g(19,"translate"),l(),k(),P(20,16),I(21,ym,7,3,"div",17),k(),P(22,18),I(23,Cm,7,3,"div",17)(24,Sm,7,3,"div",17),a(25,"div",19)(26,"a",20),M("click",function(c){return f(m),_(e.onActionButtonAgentRow(e.tableRowSelected,c))}),S(27,"i",21)(28,"br"),l(),a(29,"p",22),d(30),g(31,"translate"),l()(),a(32,"div",19)(33,"a",20),M("click",function(c){return f(m),_(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),S(34,"i",23)(35,"br"),l(),a(36,"p",22),d(37),g(38,"translate"),l()(),a(39,"div",19)(40,"a",20),M("click",function(c){return f(m),_(e.onActionButtonPropertyRow(e.tableRowSelected,c))}),S(41,"i",24)(42,"br"),l(),a(43,"p",22),d(44),g(45,"translate"),l()(),k(),P(46,25),a(47,"app-cms-search-list",26),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),d(48),g(49,"translate"),a(50,"app-cms-location-autocomplete",27),g(51,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(52,"br"),d(53),g(54,"translate"),a(55,"app-cms-location-autocomplete",27),g(56,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(57,"hr"),l(),a(58,"app-cms-statist-list",26),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(59,28),a(60,"mat-table",29,0),M("matSortChange",function(){f(m);let c=D(61);return _(e.onTableSortData(c))}),P(62,30),I(63,Im,3,3,"mat-header-cell",31)(64,Mm,3,0,"mat-cell",32),k(),P(65,33),I(66,Em,3,3,"mat-header-cell",34)(67,bm,2,1,"mat-cell",32),k(),P(68,35),I(69,wm,2,1,"mat-header-cell",34)(70,Tm,2,1,"mat-cell",32),k(),P(71,36),I(72,xm,2,1,"mat-header-cell",34)(73,Am,2,1,"mat-cell",32),k(),P(74,37),I(75,Pm,2,1,"mat-header-cell",34)(76,km,4,5,"mat-cell",32),k(),P(77,38),I(78,Dm,2,1,"mat-header-cell",34)(79,Rm,2,1,"mat-cell",32),k(),P(80,39),I(81,Vm,3,3,"mat-header-cell",31)(82,Lm,6,1,"mat-cell",40),k(),P(83,41),I(84,Fm,5,8,"mat-cell",32),k(),P(85,42),I(86,Gm,21,9,"mat-cell",32),k(),I(87,Um,1,0,"mat-header-row",43)(88,jm,1,6,"mat-row",44)(89,qm,1,6,"mat-row",44)(90,Qm,1,9,"mat-row",45),l(),k(),P(91,46),a(92,"mat-paginator",47,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkAccountUserId==null?null:e.requestLinkAccountUserId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","accountagency.content.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(15,36,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(19,38,"ACTION.STATIST")," "),r(3),p("ngIf",e.optionloadByRoute&&e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(31,40,"ACTION.PERSONNEL")),r(7),b(y(38,42,"ACTION.HISTORY")),r(7),b(y(45,44,"ACTION.CONNECT_TO_PROPERTY")),r(3),w("options",e.optionsSearch),r(),C(" ",y(49,46,"ACTION.LOCATION")," "),r(2),p("optionSelectForce",e.filteModelContent.locationListIds)("optionPlaceholder",y(51,48,"TITLE.Region")),r(3),C(" ",y(54,50,"ACTION.LOCATION_WORK_ACTIVITY")," "),r(2),p("optionSelectForce",e.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",y(56,52,"TITLE.Region")),r(3),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(27),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(54,um)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(55,fm)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(56,_m)))},dependencies:[N,mt,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,qt,Ct,$a,Ue,U,Mi,Se],encapsulation:2});let o=s;return o})();var Ol=Jn(eo());var zm=["vform"],Ym=o=>({direction:o});function Km(o,s){if(o&1&&(S(0,"img",52),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function Zm(o,s){o&1&&S(0,"i",53)}function Jm(o,s){o&1&&S(0,"i",54)}function Xm(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function $m(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function e0(o,s){if(o&1){let n=v();a(0,"div",20)(1,"label",55),d(2),g(3,"translate"),l(),a(4,"textarea",56,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"              "),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 500")}}function t0(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",57),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.USER"))}}function i0(o,s){o&1&&S(0,"i",53)}function n0(o,s){o&1&&S(0,"i",54)}function o0(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function r0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",60),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",63),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowSite,i)||(e.dataModel.accessWatchRowSite=i),_(i)}),l(),S(7,"label",64),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowSite==null?null:n.fieldsInfo.accessWatchRowSite.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowSite)}}function a0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",65),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgency,i)||(e.dataModel.accessWatchRowOtherAgency=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgency==null?null:n.fieldsInfo.accessWatchRowOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgency)}}function l0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",68),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",69),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgent,i)||(e.dataModel.accessWatchRowOtherAgent=i),_(i)}),l(),S(7,"label",70),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgent==null?null:n.fieldsInfo.accessWatchRowOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgent)}}function s0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",71),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgency,i)||(e.dataModel.accessAllowShareRowWatchOtherAgency=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgency)}}function d0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",74),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",75),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgent,i)||(e.dataModel.accessAllowShareRowWatchOtherAgent=i),_(i)}),l(),S(7,"label",76),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgent)}}function c0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",77),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",78),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaEstate,i)||(e.dataModel.notificationWorkAreaEstate=i),_(i)}),l(),S(7,"label",79),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaEstate==null?null:n.fieldsInfo.notificationWorkAreaEstate.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaEstate)}}function p0(o,s){if(o&1){let n=v();a(0,"div",58)(1,"div",59)(2,"h5",80),d(3),l()(),a(4,"div",61)(5,"div",62)(6,"input",81),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaCustomerOrder,i)||(e.dataModel.notificationWorkAreaCustomerOrder=i),_(i)}),l(),S(7,"label",82),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:n.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaCustomerOrder)}}function m0(o,s){if(o&1){let n=v();a(0,"div",83)(1,"button",84),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",85),d(3),g(4,"translate"),l(),a(5,"button",86),S(6,"i",87),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Bl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new $n,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAccountUserService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new $n,this.formInfo=new me,this.fileManagerOpenForm=!1,this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountUserService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Ol.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Ol.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(an),E(V),E(L),E(H),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-user-add"]],viewQuery:function(i,e){if(i&1&&ie(zm,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:116,vars:106,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",12),S(1,"app-progress-spinner",13),a(2,"div",14)(3,"p",15),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",16,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",17)(11,"a",18),g(12,"cmsthumbnail"),I(13,Km,2,3,"img",19),l()(),a(14,"div",20)(15,"label",21),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",22,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",23),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",20)(24,"label",24),d(25),l(),a(26,"input",25,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,Zm,1,0,"i",26)(29,Jm,1,0,"i",27),S(30,"em"),I(31,Xm,5,3,"mat-error",28),l(),a(32,"div",20)(33,"label",29),d(34),l(),a(35,"textarea",30,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(37,"                "),l(),a(38,"em"),d(39),l(),I(40,$m,5,3,"mat-error",28),l(),I(41,e0,9,6,"div",31)(42,t0,2,5,"app-cms-user-selector",32),a(43,"div",20)(44,"label",33),d(45),l(),a(46,"input",34,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.joinId,c)||(e.dataModel.joinId=c),_(c)}),l(),a(48,"em"),d(49),l()(),a(50,"div",20)(51,"label",35),d(52),l(),a(53,"input",36,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.serialRfId,c)||(e.dataModel.serialRfId=c),_(c)}),l(),a(55,"em"),d(56),l()(),a(57,"div",20)(58,"label",37),d(59),l(),a(60,"input",38,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.serialNumber,c)||(e.dataModel.serialNumber=c),_(c)}),l(),a(62,"em"),d(63),l()(),a(64,"div",20)(65,"label",39),d(66),l(),a(67,"input",40,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.placeProduction,c)||(e.dataModel.placeProduction=c),_(c)}),l()(),a(69,"div",20)(70,"label",41),d(71),l(),a(72,"input",42,8),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(74,"em"),d(75),l()(),a(76,"div",20)(77,"label",43),d(78),l(),a(79,"input",44,9),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(81,"em"),d(82),l()(),a(83,"div",20)(84,"label",45),d(85),l(),a(86,"textarea",46,10),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),d(88,"                "),l(),I(89,i0,1,0,"i",26)(90,n0,1,0,"i",27),a(91,"em"),d(92),l(),I(93,o0,5,3,"mat-error",28),l(),a(94,"app-cms-location-selector",47),g(95,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(96,"br"),d(97),g(98,"translate"),a(99,"app-cms-location-autocomplete",48),g(100,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(101,"hr"),I(102,r0,8,2,"div",49)(103,a0,8,2,"div",49)(104,l0,8,2,"div",49)(105,s0,8,2,"div",49)(106,d0,8,2,"div",49),S(107,"hr"),I(108,c0,8,2,"div",49)(109,p0,8,2,"div",49),S(110,"hr"),a(111,"p"),d(112),g(113,"translate"),l(),a(114,"app-cms-map",50),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(115,m0,9,7,"div",51),l()()()}if(i&2){let m=D(27),h=D(36),c=D(47),R=D(54),B=D(61),q=D(73),re=D(80),Ee=D(87);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,86,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(104,Ym,e.tokenInfo.direction)),r(3),A("href",y(12,88,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,90,"TITLE.Profile_Picture")),r(2),A("placeholder",y(20,92,"TITLE.Profile_Photo_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,94,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(3),b(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),r(),A("placeholder",e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),w("ngModel",e.dataModel.joinId),p("disabled",!(e.fieldsInfo.joinId!=null&&e.fieldsInfo.joinId.accessAddField)),r(3),C("",c.value.length," / 64"),r(3),b(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),r(),A("placeholder",e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),w("ngModel",e.dataModel.serialRfId),p("disabled",!(e.fieldsInfo.serialRfId!=null&&e.fieldsInfo.serialRfId.accessAddField)),r(3),C("",R.value.length," / 64"),r(3),b(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),w("ngModel",e.dataModel.serialNumber),p("disabled",!(e.fieldsInfo.serialNumber!=null&&e.fieldsInfo.serialNumber.accessAddField)),r(3),C("",B.value.length," / 64"),r(3),b(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),r(),A("placeholder",e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),w("ngModel",e.dataModel.placeProduction),p("disabled",!(e.fieldsInfo.placeProduction!=null&&e.fieldsInfo.placeProduction.accessAddField)),r(4),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),r(3),C("",q.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",re.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",Ee.value.length," / 500"),r(),p("ngIf",Ee.errors==null?null:Ee.errors.required),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(95,96,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),r(3),C(" ",y(98,98,"TITLE.COVERED_AREAS")," "),r(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",y(100,100,"TITLE.Region")),r(3),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(3),b(y(113,102,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,$,Nt,qt,Wi,si,j,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Hl=Jn(eo());var u0=["vform"],f0=o=>({direction:o});function _0(o,s){if(o&1&&(S(0,"img",61),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function h0(o,s){o&1&&S(0,"i",62)}function g0(o,s){o&1&&S(0,"i",63)}function y0(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function C0(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function S0(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",64),d(2),g(3,"translate"),l(),a(4,"textarea",65,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"           "),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),A("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 500")}}function I0(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",66),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessEditField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.USER"))}}function M0(o,s){o&1&&S(0,"i",62)}function E0(o,s){o&1&&S(0,"i",63)}function v0(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function b0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",69),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowSite,i)||(e.dataModel.accessWatchRowSite=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowSite==null?null:n.fieldsInfo.accessWatchRowSite.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowSite)}}function w0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",74),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",75),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgency,i)||(e.dataModel.accessWatchRowOtherAgency=i),_(i)}),l(),S(7,"label",76),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgency==null?null:n.fieldsInfo.accessWatchRowOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgency)}}function T0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",77),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",78),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessWatchRowOtherAgent,i)||(e.dataModel.accessWatchRowOtherAgent=i),_(i)}),l(),S(7,"label",79),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessWatchRowOtherAgent==null?null:n.fieldsInfo.accessWatchRowOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessWatchRowOtherAgent)}}function x0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",80),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",81),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgency,i)||(e.dataModel.accessAllowShareRowWatchOtherAgency=i),_(i)}),l(),S(7,"label",82),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgency==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgency.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgency)}}function A0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",83),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",84),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.accessAllowShareRowWatchOtherAgent,i)||(e.dataModel.accessAllowShareRowWatchOtherAgent=i),_(i)}),l(),S(7,"label",85),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.accessAllowShareRowWatchOtherAgent==null?null:n.fieldsInfo.accessAllowShareRowWatchOtherAgent.fieldTitle,""),r(3),w("ngModel",n.dataModel.accessAllowShareRowWatchOtherAgent)}}function P0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",86),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",87),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaEstate,i)||(e.dataModel.notificationWorkAreaEstate=i),_(i)}),l(),S(7,"label",88),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaEstate==null?null:n.fieldsInfo.notificationWorkAreaEstate.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaEstate)}}function k0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",89),d(3),l()(),a(4,"div",70)(5,"div",71)(6,"input",90),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.notificationWorkAreaCustomerOrder,i)||(e.dataModel.notificationWorkAreaCustomerOrder=i),_(i)}),l(),S(7,"label",91),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.notificationWorkAreaCustomerOrder==null?null:n.fieldsInfo.notificationWorkAreaCustomerOrder.fieldTitle,""),r(3),w("ngModel",n.dataModel.notificationWorkAreaCustomerOrder)}}function D0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",80),d(3," accessShareAgencyToUser"),l()(),a(4,"div",70)(5,"div",71)(6,"input",92),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataEstateAccountAgencyUserModel.accessShareAgencyToUser,i)||(e.dataEstateAccountAgencyUserModel.accessShareAgencyToUser=i),_(i)}),l(),S(7,"label",93),l()()()}if(o&2){let n=u();r(6),w("ngModel",n.dataEstateAccountAgencyUserModel.accessShareAgencyToUser)}}function R0(o,s){if(o&1){let n=v();a(0,"div",67)(1,"div",68)(2,"h5",94),d(3,"accessShareUserToAgency"),l()(),a(4,"div",70)(5,"div",71)(6,"input",95),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataEstateAccountAgencyUserModel.accessShareUserToAgency,i)||(e.dataEstateAccountAgencyUserModel.accessShareUserToAgency=i),_(i)}),l(),S(7,"label",96),l()()()}if(o&2){let n=u();r(6),w("ngModel",n.dataEstateAccountAgencyUserModel.accessShareUserToAgency)}}function V0(o,s){if(o&1){let n=v();a(0,"button",97),M("click",function(){f(n);let i=u();return _(i.onActionDataGetAddGroup())}),d(1,"+ "),l()}}function L0(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.linkEstateAccountUserId==null?null:n.fieldsInfoAgencyUser.linkEstateAccountUserId.fieldTitle," ")}}function F0(o,s){if(o&1&&(P(0),d(1),g(2,"estateAccountUserInfo"),g(3,"async"),k()),o&2){let n=u().$implicit;r(),C(" ",y(3,3,y(2,1,n.linkEstateAccountUserId))," ")}}function O0(o,s){if(o&1&&(a(0,"mat-cell"),I(1,F0,4,5,"ng-container",31),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.linkEstateAccountUserId)}}function B0(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.linkEstateAccountAgencyId==null?null:n.fieldsInfoAgencyUser.linkEstateAccountAgencyId.fieldTitle," ")}}function H0(o,s){if(o&1&&(P(0),d(1),g(2,"estateAccountAgencyInfo"),g(3,"async"),k()),o&2){let n=u().$implicit;r(),C(" ",y(3,3,y(2,1,n.linkEstateAccountAgencyId))," ")}}function W0(o,s){if(o&1&&(a(0,"mat-cell"),I(1,H0,4,5,"ng-container",31),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.linkEstateAccountAgencyId)}}function N0(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.accessShareUserToAgency==null?null:n.fieldsInfoAgencyUser.accessShareUserToAgency.fieldTitle," ")}}function G0(o,s){if(o&1&&(P(0),S(1,"i",110),g(2,"boolclass"),k()),o&2){let n=u().$implicit;r(),p("ngClass",y(2,1,n.accessShareUserToAgency))}}function U0(o,s){if(o&1&&(a(0,"mat-cell"),I(1,G0,3,3,"ng-container",31),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.accessShareUserToAgency)}}function j0(o,s){if(o&1&&(a(0,"mat-header-cell"),d(1),l()),o&2){let n=u(2);r(),C(" ",n.fieldsInfoAgencyUser.accessShareAgencyToUser==null?null:n.fieldsInfoAgencyUser.accessShareAgencyToUser.fieldTitle," ")}}function q0(o,s){if(o&1&&(P(0),S(1,"i",110),g(2,"boolclass"),k()),o&2){let n=u().$implicit;r(),p("ngClass",y(2,1,n.accessShareAgencyToUser))}}function Q0(o,s){if(o&1&&(a(0,"mat-cell"),I(1,q0,3,3,"ng-container",31),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.accessShareAgencyToUser)}}function z0(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function Y0(o,s){if(o&1){let n=v();a(0,"mat-cell",111)(1,"button",112)(2,"small",113),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionDataGetDeleteGroup(i))}),a(3,"mat-icon",114),g(4,"translate"),d(5,"delete"),l()()()()}o&2&&(r(3),A("matTooltip",y(4,1,"ACTION.DELETE")))}function K0(o,s){o&1&&S(0,"mat-header-row")}function Z0(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function J0(o,s){if(o&1&&(a(0,"div",98)(1,"mat-table",99),P(2,100),I(3,L0,2,1,"mat-header-cell",101)(4,O0,2,1,"mat-cell",102),k(),P(5,103),I(6,B0,2,1,"mat-header-cell",101)(7,W0,2,1,"mat-cell",102),k(),P(8,104),I(9,N0,2,1,"mat-header-cell",101)(10,U0,2,1,"mat-cell",102),k(),P(11,105),I(12,j0,2,1,"mat-header-cell",101)(13,Q0,2,1,"mat-cell",102),k(),P(14,106),I(15,z0,3,3,"mat-header-cell",101)(16,Y0,6,3,"mat-cell",107),k(),I(17,K0,1,0,"mat-header-row",108)(18,Z0,1,4,"mat-row",109),l()()),o&2){let n=u();r(),p("dataSource",n.optionTabledataSource),r(16),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns)}}function X0(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function $0(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function eu(o,s){if(o&1){let n=v();a(0,"div",115)(1,"button",116),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",117),d(3),g(4,"translate"),l(),a(5,"button",118),S(6,"i",119),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Wl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new $n,R,re),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAccountUserService=m,this.estateAccountAgencyUserService=h,this.cmsToastrService=c,this.publicHelper=R,this.tokenHelper=B,this.cdr=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfoAgencyUser=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new $n,this.dataEstateAccountAgencyUserModel=new Ba,this.formInfo=new me,this.fileManagerOpenForm=!1,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateAccountUserId","LinkEstateAccountAgencyId","AccessShareUserToAgency","AccessShareAgencyToUser","Action"],this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.dataEstateAccountAgencyModel=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.CheckIsAdmin(),this.DataGetAccess(),this.tokenHelper.getTokenInfoState().then(Ee=>{this.tokenInfo=Ee})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllGroup()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountUserService.setAccessLoad(),this.estateAccountUserService.setAccessDataType(Be.Editor),this.estateAccountUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess){let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap()),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=Hl.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Hl.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorUser(t){this.dataModel.linkCmsUserId=null,t&&t.id>0&&(this.dataModel.linkCmsUserId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}DataGetAllGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.formInfo.formAlert=this.translate.instant("MESSAGE.Getting_access_category_from_the_server"),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="linkEstateAccountUserId",e.value=this.requestId,i.filters.push(e),this.estateAccountAgencyUserService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstateAccountAgencyModel=m.listItems,this.optionTabledataSource.data=this.dataEstateAccountAgencyModel,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetAddGroup(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAccountAgencyUserService.ServiceAdd(this.dataEstateAccountAgencyUserModel).subscribe({next:i=>{i.isSuccess?(this.formInfo.formAlert="",this.optionTabledataSource.data=i.listItems,this.DataGetAllGroup()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionDataGetDeleteGroup(t){let i=this.constructor.name+"onActionDataGetDeleteGroup";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateAccountAgencyUserService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAllGroup()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorEstateAgency(t){this.dataEstateAccountAgencyUserModel.linkEstateAccountAgencyId=null,this.dataEstateAccountAgencyUserModel.linkEstateAccountUserId=this.requestId,t&&t.id.length>0&&(this.dataEstateAccountAgencyUserModel.linkEstateAccountAgencyId=t.id)}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationWorkAreaIds=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(an),E(Yr),E(V),E(L),E(Y),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-user-edit"]],viewQuery:function(i,e){if(i&1&&ie(u0,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:133,vars:119,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Title",""],["Description",""],["JoinId",""],["SerialRfId",""],["SerialNumber",""],["PlaceProduction",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["for","dataModel.joinId",1,"color-highlight"],["matInput","","name","dataModel.joinId","type","text","minlength","0","maxlength","64","id","dataModel.joinId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialRfId",1,"color-highlight"],["matInput","","name","dataModel.serialRfId","type","text","minlength","0","maxlength","64","id","dataModel.serialRfId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.serialNumber",1,"color-highlight"],["matInput","","name","dataModel.serialNumber","type","text","minlength","0","maxlength","64","id","dataModel.serialNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.placeProduction",1,"color-highlight"],["matInput","","name","dataModel.placeProduction","type","text","minlength","0","maxlength","64","id","dataModel.placeProduction",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["id","main-map",3,"map$","zoom$","optonCenter"],["state","file",3,"label"],[3,"optionChange","optionDisabled","optionPlaceholder"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","file"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.accessWatchRowSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.accessWatchRowSite","name","dataModel.accessWatchRowSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowSite",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgency","name","dataModel.accessWatchRowOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessWatchRowOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessWatchRowOtherAgent","name","dataModel.accessWatchRowOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessWatchRowOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgency",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgency","name","dataModel.accessAllowShareRowWatchOtherAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgency",1,"custom-control-label"],["data-trigger-switch","dataModel.accessAllowShareRowWatchOtherAgent",1,"font-600","font-14"],["type","checkbox","id","dataModel.accessAllowShareRowWatchOtherAgent","name","dataModel.accessAllowShareRowWatchOtherAgent",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.accessAllowShareRowWatchOtherAgent",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaEstate",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaEstate","name","dataModel.notificationWorkAreaEstate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaEstate",1,"custom-control-label"],["data-trigger-switch","dataModel.notificationWorkAreaCustomerOrder",1,"font-600","font-14"],["type","checkbox","id","dataModel.notificationWorkAreaCustomerOrder","name","dataModel.notificationWorkAreaCustomerOrder",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.notificationWorkAreaCustomerOrder",1,"custom-control-label"],["type","checkbox","id","dataEstateAccountAgencyUserModel.accessShareAgencyToUser","name","dataEstateAccountAgencyUserModel.accessShareAgencyToUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyUserModel.accessShareAgencyToUser",1,"custom-control-label"],["data-trigger-switch","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"font-600","font-14"],["type","checkbox","id","dataEstateAccountAgencyUserModel.accessShareUserToAgency","name","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataEstateAccountAgencyUserModel.accessShareUserToAgency",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateAccountUserId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkEstateAccountAgencyId"],["matColumnDef","AccessShareUserToAgency"],["matColumnDef","AccessShareAgencyToUser"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],[3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",13),S(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",17,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",18,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",19),g(13,"translate"),a(14,"div",20)(15,"a",21),g(16,"cmsthumbnail"),I(17,_0,2,3,"img",22),l()(),a(18,"div",23)(19,"label",24),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(20),g(21,"translate"),l(),a(22,"input",25,2),g(24,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(25,"cms-file-manager",26),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(26,"div",23)(27,"label",27),d(28),l(),a(29,"input",28,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(31,h0,1,0,"i",29)(32,g0,1,0,"i",30),S(33,"em"),I(34,y0,5,3,"mat-error",31),l(),a(35,"div",23)(36,"label",32),d(37),l(),a(38,"textarea",33,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"            "),l(),a(41,"em"),d(42),l(),I(43,C0,5,3,"mat-error",31),l(),I(44,S0,9,7,"div",34)(45,I0,2,5,"app-cms-user-selector",35),a(46,"div",23)(47,"label",36),d(48),l(),a(49,"input",37,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.joinId,c)||(e.dataModel.joinId=c),_(c)}),l(),a(51,"em"),d(52),l()(),a(53,"div",23)(54,"label",38),d(55),l(),a(56,"input",39,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.serialRfId,c)||(e.dataModel.serialRfId=c),_(c)}),l(),a(58,"em"),d(59),l()(),a(60,"div",23)(61,"label",40),d(62),l(),a(63,"input",41,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.serialNumber,c)||(e.dataModel.serialNumber=c),_(c)}),l(),a(65,"em"),d(66),l()(),a(67,"div",23)(68,"label",42),d(69),l(),a(70,"input",43,8),x("ngModelChange",function(c){return f(m),T(e.dataModel.placeProduction,c)||(e.dataModel.placeProduction=c),_(c)}),l(),a(72,"em"),d(73),l()(),a(74,"div",23)(75,"label",44),d(76),l(),a(77,"input",45,9),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(79,"em"),d(80),l()(),a(81,"div",23)(82,"label",46),d(83),l(),a(84,"input",47,10),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(86,"em"),d(87),l()(),a(88,"div",23)(89,"label",48),d(90),l(),a(91,"textarea",49,11),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),d(93,"            "),l(),I(94,M0,1,0,"i",29)(95,E0,1,0,"i",30),a(96,"em"),d(97),l(),I(98,v0,5,3,"mat-error",31),l(),a(99,"app-cms-location-selector",50),g(100,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(101,"br"),d(102),g(103,"translate"),a(104,"app-cms-location-autocomplete",51),g(105,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(106,"hr"),I(107,b0,8,2,"div",52)(108,w0,8,2,"div",52)(109,T0,8,2,"div",52)(110,x0,8,2,"div",52)(111,A0,8,2,"div",52),S(112,"hr"),I(113,P0,8,2,"div",52)(114,k0,8,2,"div",52),S(115,"hr"),a(116,"p"),d(117),g(118,"translate"),l(),a(119,"app-cms-map",53),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l()(),a(120,"mat-step",54),g(121,"translate"),S(122,"br"),a(123,"app-estate-account-user-selector",55),g(124,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorEstateAgency(c))}),l(),I(125,D0,8,1,"div",52)(126,R0,8,1,"div",52)(127,V0,2,0,"button",56),S(128,"app-progress-spinner",14),I(129,J0,19,3,"div",57),l(),I(130,X0,2,0,"ng-template",58)(131,$0,2,0,"ng-template",59),l(),I(132,eu,9,7,"div",60),l()()()}if(i&2){let m=D(30),h=D(39),c=D(50),R=D(57),B=D(64),q=D(71),re=D(78),Ee=D(85),Ze=D(92);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,95,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(117,f0,e.tokenInfo.direction)),r(4),A("label",y(13,97,"TITLE.REQUIRED_INFORMATION")),r(3),A("href",y(16,99,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(21,101,"TITLE.Profile_Picture")),r(2),A("placeholder",y(24,103,"TITLE.ID_OF_PROFILE_PHOTO_FILE")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessEditField)),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),p("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(3),b(e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),r(),A("placeholder",e.fieldsInfo.joinId==null?null:e.fieldsInfo.joinId.fieldTitle),w("ngModel",e.dataModel.joinId),p("disabled",!(e.fieldsInfo.joinId!=null&&e.fieldsInfo.joinId.accessEditField)),r(3),C("",c.value.length," / 64"),r(3),b(e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),r(),A("placeholder",e.fieldsInfo.serialRfId==null?null:e.fieldsInfo.serialRfId.fieldTitle),w("ngModel",e.dataModel.serialRfId),p("disabled",!(e.fieldsInfo.serialRfId!=null&&e.fieldsInfo.serialRfId.accessEditField)),r(3),C("",R.value.length," / 64"),r(3),b(e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.serialNumber==null?null:e.fieldsInfo.serialNumber.fieldTitle),w("ngModel",e.dataModel.serialNumber),p("disabled",!(e.fieldsInfo.serialNumber!=null&&e.fieldsInfo.serialNumber.accessEditField)),r(3),C("",B.value.length," / 64"),r(3),b(e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),r(),A("placeholder",e.fieldsInfo.placeProduction==null?null:e.fieldsInfo.placeProduction.fieldTitle),w("ngModel",e.dataModel.placeProduction),p("disabled",!(e.fieldsInfo.placeProduction!=null&&e.fieldsInfo.placeProduction.accessEditField)),r(3),C("",q.value.length," / 64"),r(3),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),r(3),C("",re.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",Ee.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",Ze.value.length," / 500"),r(),p("ngIf",Ze.errors==null?null:Ze.errors.required),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(100,105,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),r(3),C(" ",y(103,107,"TITLE.COVERED_AREAS")," "),r(2),p("optionSelectForce",e.dataModel.linkLocationWorkAreaIds)("optionPlaceholder",y(105,109,"TITLE.Region")),r(3),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(3),b(y(118,111,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),A("label",y(121,113,"TITLE.Property_personnel")),r(3),p("optionDisabled",!e.tokenHelper.isAdminSite)("optionPlaceholder",y(124,115,"TITLE.Property_agency")),r(2),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataEstateAccountAgencyUserModel.linkEstateAccountUserId&&e.dataEstateAccountAgencyUserModel.linkEstateAccountUserId.length>0),r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(3),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,ze,Re,se,$,ji,qi,Ui,tt,nt,lt,ot,it,st,rt,at,dt,ct,tr,Nt,qt,Wi,si,j,Oi,$e,Qi,Ue,U,Se,er,vr,br],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function tu(o,s){o&1&&S(0,"div",10)}var Id=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.headerService=t,this.publicHelper=i,this.cdr=e,this.translate=m,this.cmsToastrService=h,this.dialog=c,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(bn),E(L),E(H),E(O),E(V),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-agency-header"]],inputs:{optionId:"optionId"},decls:32,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,tu,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l(),d(17,": "),l(),a(18,"div",9),d(19),l(),S(20,"div",10)(21,"div",11),l(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),l(),d(26," : "),l(),a(27,"div",9),d(28),l(),S(29,"div",12)(30,"div",11),l()()()(),S(31,"div",13)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,8,"TITLE.Selected_Agency")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[N,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var nu=()=>["expandedTitle"],ou=()=>["expandedDetail"],ru=()=>[5,10,20,100],au=o=>({display:o});function lu(o,s){if(o&1&&S(0,"app-estate-account-agency-header",47),o&2){let n=u();p("optionId",n.requestLinkAccountAgencyId)}}function su(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",48),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",49)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function du(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",50),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function cu(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",52),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",53)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function pu(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function mu(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",54),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",55),l()()}}function uu(o,s){o&1&&(a(0,"mat-header-cell",56),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function fu(o,s){if(o&1&&(S(0,"img",58),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function _u(o,s){if(o&1&&(a(0,"mat-cell"),I(1,fu,2,3,"img",57),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function hu(o,s){if(o&1&&(a(0,"mat-header-cell",56),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function gu(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function yu(o,s){if(o&1&&(a(0,"mat-header-cell",56),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Cu(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function Su(o,s){if(o&1&&(a(0,"mat-header-cell",56),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkCmsUserId==null?null:n.fieldsInfo.linkCmsUserId.fieldTitle," ")}}function Iu(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmsuserinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkCmsUserId))," ")}}function Mu(o,s){if(o&1&&(a(0,"mat-header-cell",56),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function Eu(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function vu(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function bu(o,s){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function wu(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"translate"),g(3,"cmsuserinfo"),g(4,"async"),l()),o&2){let n=s.$implicit;r(),fe(" ",y(2,2,"TITLE.User-Id-Cms"),": ",y(4,6,y(3,4,n.linkCmsUserId))," ")}}function Tu(o,s){if(o&1&&(S(0,"img",65),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function xu(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," : ",n.description," ")}}function Au(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),g(4,"translate"),l()()),o&2){let n=u().$implicit;r(3),fe("",y(4,2,"TITLE.Address")," : ",n.address," ")}}function Pu(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.phoneNumber==null?null:t.fieldsInfo.phoneNumber.fieldTitle," : ",n.phoneNumber," ")}}function ku(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.mobileNumber==null?null:t.fieldsInfo.mobileNumber.fieldTitle," : ",n.mobileNumber," ")}}function Du(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,Tu,2,3,"img",61),l(),a(6,"th")(7,"span",62),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",63),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),I(14,xu,4,2,"tr",64)(15,Au,5,4,"tr",64)(16,Pu,4,2,"tr",64)(17,ku,4,2,"tr",64),a(18,"tr"),S(19,"td")(20,"td"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),fe("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," : ",n.title," "),r(),p("ngIf",n.description),r(),p("ngIf",n.address),r(),p("ngIf",n.phoneNumber),r(),p("ngIf",n.mobileNumber)}}function Ru(o,s){o&1&&S(0,"mat-header-row")}function Vu(o,s){if(o&1){let n=v();a(0,"mat-row",66),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Lu(o,s){if(o&1){let n=v();a(0,"mat-row",66),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Fu(o,s){if(o&1){let n=v();a(0,"mat-row",67),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,au,n.expanded===!0?"":"none"))}}var Uo=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee){super(t,new $n,re,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.activatedRoute=B,this.pageInfo=q,this.publicHelper=re,this.dialog=Ee,this.requestLinkAccountAgencyId="",this.constructorInfoAreaId=this.constructor.name,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Hr,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Title","Description","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Title","Description","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ze=>this.onSubmitOptionsSearch(Ze)},this.requestLinkAccountAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkAccountAgencyId"),this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}set optionLinkLocationWorkAreaIds(t){this.requestLinkLocationWorkAreaIds=[],t&&t.length>0&&(this.requestLinkLocationWorkAreaIds=t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}set optionLinkLocationWorkAreaId(t){this.requestLinkLocationWorkAreaIds=[],t&&t>0&&this.requestLinkLocationWorkAreaIds.push(t),this.requestLinkLocationWorkAreaIds&&this.requestLinkLocationWorkAreaIds.length>0&&(this.filteModelContent.linkLocationWorkAreaIds=this.requestLinkLocationWorkAreaIds)}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new $n);let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0,this.requestLinkAccountAgencyId&&this.requestLinkAccountAgencyId.length>0){let e=new G;e.propertyAnyName="AccountAgencyUser",e.propertyName="linkEstateAccountAgencyId",e.value=this.requestLinkAccountAgencyId,this.filteModelContent.filters.push(e)}let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionSelectorLocation(t){this.filteModelContent.locationListIds=t}onActionSelectorLocationWorkArea(t){this.filteModelContent.linkLocationWorkAreaIds=t}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Bl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonAgencyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/account-agency/LinkAccountUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/account-agency/LinkAccountUserId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkEstateUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkEstateUserId",this.tableRowSelected.id])}onActionButtonPropertyRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkEstateUserId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkEstateUserId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(an),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(Ht),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-user-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkLocationWorkAreaIds:"optionLinkLocationWorkAreaIds",optionLinkLocationWorkAreaId:"optionLinkLocationWorkAreaId"},features:[le],decls:94,vars:57,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-home","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkCmsUserId"],["matColumnDef","Description"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();I(0,lu,1,1,"app-estate-account-agency-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(2,5),d(3," -------------------------------------- "),k(),qe(4,6)(5,7),P(6,8),a(7,"a",9),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(8,"i",10),l(),a(9,"a",9),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(10,"i",11),l(),k(),P(11,12),a(12,"a",13),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(13,"mat-slide-toggle",14),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(14),g(15,"translate"),l(),a(16,"a",13),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(17,"mat-slide-toggle",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(18),g(19,"translate"),l(),k(),P(20,16),I(21,su,7,3,"div",17),k(),P(22,18),I(23,du,7,3,"div",17)(24,cu,7,3,"div",17),a(25,"div",19)(26,"a",20),M("click",function(c){return f(m),_(e.onActionButtonAgencyRow(e.tableRowSelected,c))}),S(27,"i",21)(28,"br"),l(),a(29,"p",22),d(30),g(31,"translate"),l()(),a(32,"div",19)(33,"a",20),M("click",function(c){return f(m),_(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),S(34,"i",23)(35,"br"),l(),a(36,"p",22),d(37),g(38,"translate"),l()(),a(39,"div",19)(40,"a",20),M("click",function(c){return f(m),_(e.onActionButtonPropertyRow(e.tableRowSelected,c))}),S(41,"i",21)(42,"br"),l(),a(43,"p",22),d(44),g(45,"translate"),l()(),k(),P(46,24),a(47,"app-cms-search-list",25),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),d(48),g(49,"translate"),a(50,"app-cms-location-autocomplete",26),g(51,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(52,"br"),d(53),g(54,"translate"),a(55,"app-cms-location-autocomplete",26),g(56,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),S(57,"hr"),l(),a(58,"app-cms-statist-list",25),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(59,27),a(60,"mat-table",28,0),M("matSortChange",function(){f(m);let c=D(61);return _(e.onTableSortData(c))}),P(62,29),I(63,pu,3,3,"mat-header-cell",30)(64,mu,3,0,"mat-cell",31),k(),P(65,32),I(66,uu,3,3,"mat-header-cell",33)(67,_u,2,1,"mat-cell",31),k(),P(68,34),I(69,hu,2,1,"mat-header-cell",33)(70,gu,2,1,"mat-cell",31),k(),P(71,35),I(72,yu,2,1,"mat-header-cell",33)(73,Cu,2,1,"mat-cell",31),k(),P(74,36),I(75,Su,2,1,"mat-header-cell",33)(76,Iu,4,5,"mat-cell",31),k(),P(77,37),I(78,Mu,2,1,"mat-header-cell",33)(79,Eu,2,1,"mat-cell",31),k(),P(80,38),I(81,vu,3,3,"mat-header-cell",30)(82,bu,6,1,"mat-cell",39),k(),P(83,40),I(84,wu,5,8,"mat-cell",31),k(),P(85,41),I(86,Du,21,9,"mat-cell",31),k(),I(87,Ru,1,0,"mat-header-row",42)(88,Vu,1,6,"mat-row",43)(89,Lu,1,6,"mat-row",43)(90,Fu,1,9,"mat-row",44),l(),k(),P(91,45),a(92,"mat-paginator",46,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkAccountAgencyId==null?null:e.requestLinkAccountAgencyId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","accountuser.content.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(15,36,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(19,38,"ACTION.STATIST")," "),r(3),p("ngIf",e.optionloadByRoute&&e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(31,40,"ACTION.AGENCY")),r(7),b(y(38,42,"ACTION.HISTORY")),r(7),b(y(45,44,"ACTION.CONNECT_TO_PROPERTY")),r(3),w("options",e.optionsSearch),r(),C(" ",y(49,46,"ACTION.LOCATION")," "),r(2),p("optionSelectForce",e.filteModelContent.locationListIds)("optionPlaceholder",y(51,48,"TITLE.Region")),r(3),C(" ",y(54,50,"ACTION.LOCATION_WORK_ACTIVITY")," "),r(2),p("optionSelectForce",e.filteModelContent.linkLocationWorkAreaIds)("optionPlaceholder",y(56,52,"TITLE.Region")),r(3),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(27),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(54,nu)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(55,ou)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(56,ru)))},dependencies:[N,mt,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,qt,Ct,Id,Ue,U,Mi,Se],encapsulation:2});let o=s;return o})();var Ou=["vform"],Bu=()=>["fa"];function Hu(o,s){o&1&&S(0,"i",29)}function Wu(o,s){o&1&&S(0,"i",30)}function Nu(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Gu(o,s){o&1&&S(0,"i",29)}function Uu(o,s){o&1&&S(0,"i",30)}function ju(o,s){o&1&&(a(0,"mat-error"),d(1," TitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function qu(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),_(i)}),l(),I(5,Gu,1,0,"i",16)(6,Uu,1,0,"i",17),a(7,"em"),d(8),l(),I(9,ju,5,3,"mat-error",18),l()}if(o&2){let n=D(4),t=u(),i=D(14);r(2),b(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),p("ngIf",!i.value),r(),p("ngIf",i.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Qu(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",33),d(2),l(),a(3,"input",34,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",35),S(6,"i",36),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,Bu))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function zu(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",37),d(2),l(),a(3,"div",38)(4,"div",39)(5,"input",40,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",41),S(8,"ngx-ntk-mat-color-toggle",42)(9,"ngx-ntk-mat-color-picker",43,7),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function Yu(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Ku(o,s){if(o&1&&(S(0,"img",44),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function Zu(o,s){if(o&1){let n=v();a(0,"div",45)(1,"button",46),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",47),d(3),g(4,"translate"),l(),a(5,"button",48),S(6,"i",49),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var el=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new yn,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateActivityTypeService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new yn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(zn),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-activity-type-add"]],viewQuery:function(i,e){if(i&1&&ie(Ou,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:45,vars:40,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",12,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",13)(11,"label",14),d(12),l(),a(13,"input",15,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,Hu,1,0,"i",16)(16,Wu,1,0,"i",17),a(17,"em"),d(18),l(),I(19,Nu,5,3,"mat-error",18),l(),I(20,qu,10,8,"div",19)(21,Qu,7,9,"div",19)(22,zu,11,10,"div",19),a(23,"div",13)(24,"label",20),d(25),l(),a(26,"textarea",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(28,"        "),l(),a(29,"em"),d(30),l(),I(31,Yu,5,3,"mat-error",18),l(),a(32,"div",22)(33,"a",23),g(34,"cmsthumbnail"),I(35,Ku,2,3,"img",24),l()(),a(36,"div",13)(37,"label",25),d(38),g(39,"translate"),l(),a(40,"input",26,3),g(42,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(43,"cms-file-manager",27),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(44,Zu,9,7,"div",28),l()()()}if(i&2){let m=D(14),h=D(27);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(2),A("href",y(34,34,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(39,36,"TITLE.PICTURE")),r(2),A("placeholder",y(42,38,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Ju=["vform"],Xu=()=>["fa"];function $u(o,s){o&1&&S(0,"i",33)}function ef(o,s){o&1&&S(0,"i",34)}function tf(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function nf(o,s){o&1&&S(0,"i",33)}function of(o,s){o&1&&S(0,"i",34)}function rf(o,s){o&1&&(a(0,"mat-error"),d(1," TitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function af(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",35),d(2),l(),a(3,"input",36,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",37),S(6,"i",38),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,Xu))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function lf(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",39),d(2),l(),a(3,"div",40)(4,"div",41)(5,"input",42,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",43),S(8,"ngx-ntk-mat-color-toggle",44)(9,"ngx-ntk-mat-color-picker",45,7),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function sf(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function df(o,s){if(o&1&&(S(0,"img",46),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function cf(o,s){if(o&1){let n=v();a(0,"div",47)(1,"button",48),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",49),d(3),g(4,"translate"),l(),a(5,"button",50),S(6,"i",51),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var tl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new yn,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateActivityTypeService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new yn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.setAccessLoad(),this.estateActivityTypeService.setAccessDataType(Be.Editor),this.estateActivityTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkActivityTypeId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateActivityTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(zn),E($i),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-activity-type-edit"]],viewQuery:function(i,e){if(i&1&&ie(Ju,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:58,vars:49,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",12,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",13)(11,"label",14),d(12),l(),a(13,"input",15,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,$u,1,0,"i",16)(16,ef,1,0,"i",17),a(17,"em"),d(18),l(),I(19,tf,5,4,"mat-error",18),l(),a(20,"div",13)(21,"label",19),d(22,"TitleML"),l(),a(23,"input",20),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleML,c)||(e.dataModel.titleML=c),_(c)}),l()(),a(24,"div",13)(25,"label",21),d(26),l(),a(27,"input",22,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleResourceLanguage,c)||(e.dataModel.titleResourceLanguage=c),_(c)}),l(),I(29,nf,1,0,"i",16)(30,of,1,0,"i",17),a(31,"em"),d(32),l(),I(33,rf,5,3,"mat-error",18),l(),I(34,af,7,9,"div",23)(35,lf,11,10,"div",23),a(36,"div",13)(37,"label",24),d(38),l(),a(39,"textarea",25,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(41,"        "),l(),a(42,"em"),d(43),l(),I(44,sf,5,3,"mat-error",18),l(),a(45,"div",26)(46,"a",27),g(47,"cmsthumbnail"),I(48,df,2,3,"img",28),l()(),a(49,"div",13)(50,"label",29),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(51),g(52,"translate"),l(),a(53,"input",30,4),g(55,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(56,"cms-file-manager",31),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(57,cf,9,7,"div",32),l()()()}if(i&2){let m=D(14),h=D(28),c=D(40);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(4),w("ngModel",e.dataModel.titleML),p("disabled",!0),r(3),b(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.titleResourceLanguage),p("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",h.value.length," / 100"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",c.value.length," / 500"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(2),A("href",y(47,43,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(52,45,"TITLE.PICTURE")),r(2),A("placeholder",y(55,47,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var pf=()=>[5,10,20,100];function mf(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function uf(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function ff(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function _f(o,s){o&1&&(a(0,"mat-header-cell",47),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function hf(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function gf(o,s){if(o&1&&(a(0,"mat-cell"),I(1,hf,2,3,"img",48),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function yf(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function Cf(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function Sf(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function If(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function Mf(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Ef(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function vf(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function bf(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function wf(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function Tf(o,s){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function xf(o,s){o&1&&S(0,"mat-header-row")}function Af(o,s){if(o&1){let n=v();a(0,"mat-row",53),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ed=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new yn,q,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(el,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(tl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkActivityTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkActivityTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(zn),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-activity-type-list"]],features:[le],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",12),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(16,"mat-slide-toggle",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,15),I(20,mf,7,3,"div",16),k(),P(21,17),I(22,uf,7,3,"div",16)(23,ff,7,3,"div",16),a(24,"div",18)(25,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentDetailList(e.tableRowSelected,c))}),S(26,"i",20)(27,"br"),l(),a(28,"p",21),d(29),g(30,"translate"),l()(),a(31,"div",18)(32,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(33,"i",22)(34,"br"),l(),a(35,"p",21),d(36),g(37,"translate"),l()(),k(),P(38,23),a(39,"app-cms-search-list",24),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(40,"app-cms-statist-list",24),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(41,25),a(42,"mat-table",26,0),M("matSortChange",function(){f(m);let c=D(43);return _(e.onTableSortData(c))}),P(44,27),I(45,_f,3,3,"mat-header-cell",28)(46,gf,2,1,"mat-cell",29),k(),P(47,30),I(48,yf,2,1,"mat-header-cell",28)(49,Cf,2,3,"mat-cell",29),k(),P(50,31),I(51,Sf,2,1,"mat-header-cell",28)(52,If,2,3,"mat-cell",29),k(),P(53,32),I(54,Mf,2,1,"mat-header-cell",28)(55,Ef,2,1,"mat-cell",29),k(),P(56,33),I(57,vf,2,1,"mat-header-cell",28)(58,bf,2,1,"mat-cell",29),k(),P(59,34),I(60,wf,3,3,"mat-header-cell",35)(61,Tf,6,1,"mat-cell",36),k(),I(62,xf,1,0,"mat-header-row",37)(63,Af,1,6,"mat-row",38),l(),k(),P(64,39),a(65,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,25,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,29,"ACTION.DETAIL")),r(7),b(y(37,31,"ACTION.PROPERTYLIST")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(20),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(33,pf)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se],encapsulation:2});let o=s;return o})();var kf=["vform"];function Df(o,s){o&1&&S(0,"i",38)}function Rf(o,s){o&1&&S(0,"i",39)}function Vf(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Lf(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",34),d(2),l(),a(3,"input",35,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,Df,1,0,"i",36)(6,Rf,1,0,"i",37),a(7,"em"),d(8),l(),I(9,Vf,5,3,"mat-error",17),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Ff(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Of(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",40),d(2),l(),a(3,"input",41,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.stationLevel,i)||(e.dataModel.stationLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),w("ngModel",n.dataModel.stationLevel),p("disabled",!(n.fieldsInfo.stationLevel!=null&&n.fieldsInfo.stationLevel.accessEditField))}}function Bf(o,s){if(o&1&&(a(0,"mat-list-item",42),d(1),l()),o&2){let n=s.$implicit;r(),b(n)}}function Hf(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",43),d(2),l(),a(3,"input",44,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewLevel,i)||(e.dataModel.viewLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),w("ngModel",n.dataModel.viewLevel),p("disabled",!(n.fieldsInfo.viewLevel!=null&&n.fieldsInfo.viewLevel.accessEditField))}}function Wf(o,s){if(o&1&&(a(0,"mat-list-item",42),d(1),l()),o&2){let n=s.$implicit;r(),b(n)}}function Nf(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",45),d(2),l(),a(3,"input",46,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.dayOfActivity,i)||(e.dataModel.dayOfActivity=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.dayOfActivity==null?null:n.fieldsInfo.dayOfActivity.fieldTitle),r(),A("placeholder",n.fieldsInfo.dayOfActivity==null?null:n.fieldsInfo.dayOfActivity.fieldTitle),w("ngModel",n.dataModel.dayOfActivity),p("disabled",!(n.fieldsInfo.dayOfActivity!=null&&n.fieldsInfo.dayOfActivity.accessEditField))}}function Gf(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",47),d(2),l(),a(3,"input",48,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.salePrice,i)||(e.dataModel.salePrice=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.salePrice==null?null:n.fieldsInfo.salePrice.fieldTitle),r(),A("placeholder",n.fieldsInfo.salePrice==null?null:n.fieldsInfo.salePrice.fieldTitle),w("ngModel",n.dataModel.salePrice),p("disabled",!(n.fieldsInfo.salePrice!=null&&n.fieldsInfo.salePrice.accessEditField))}}function Uf(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function jf(o,s){if(o&1&&(a(0,"button",54),S(1,"i",55),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function qf(o,s){if(o&1){let n=v();a(0,"div",50)(1,"button",51),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",52),d(3),g(4,"translate"),l(),I(5,jf,4,4,"button",53),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var vd=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new _n,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAdsTypeService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new _n,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(qn),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-ads-type-add"]],viewQuery:function(i,e){if(i&1&&ie(kf,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:48,vars:40,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.paymentForMainSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",12,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),I(10,Lf,10,8,"div",13),a(11,"div",14)(12,"label",15),d(13),l(),a(14,"textarea",16,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(16,"em"),d(17),l(),I(18,Ff,5,3,"mat-error",17),l(),I(19,Of,5,4,"div",13),a(20,"mat-list",18),I(21,Bf,2,1,"mat-list-item",19),l(),I(22,Hf,5,4,"div",13),a(23,"mat-list",18),I(24,Wf,2,1,"mat-list-item",19),l(),I(25,Nf,5,4,"div",13)(26,Gf,5,4,"div",13),a(27,"div",20)(28,"div",21)(29,"h5",22),d(30),l()(),a(31,"div",23)(32,"div",24)(33,"input",25),x("ngModelChange",function(c){return f(m),T(e.dataModel.paymentForMainSite,c)||(e.dataModel.paymentForMainSite=c),_(c)}),l(),S(34,"label",26),l()()(),a(35,"div",27)(36,"a",28),g(37,"cmsthumbnail"),I(38,Uf,2,3,"img",29),l()(),a(39,"div",14)(40,"label",30),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(41),g(42,"translate"),l(),a(43,"input",31,2),g(45,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(46,"cms-file-manager",32),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(47,qf,6,4,"div",33),l()()()}if(i&2){let m=D(15);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),w("ngModel",e.dataModel.description),r(3),C("",m.value.length," / 500"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.accessWatchField),r(2),p("ngForOf",e.dataModel.stationLevelDescription),r(),p("ngIf",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.accessWatchField),r(2),p("ngForOf",e.dataModel.viewLevelDescription),r(),p("ngIf",e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.accessWatchField),r(),p("ngIf",e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.accessWatchField),r(4),C(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle,""),r(3),w("ngModel",e.dataModel.paymentForMainSite),r(3),A("href",y(37,34,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(42,36,"TITLE.Original_Photo")),r(2),A("placeholder",y(45,38,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,Rt,Ft,z,ve,be,ke,we,X,xe,Re,$,Na,Ga,j,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Qf=["vform"];function zf(o,s){o&1&&S(0,"i",38)}function Yf(o,s){o&1&&S(0,"i",39)}function Kf(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Zf(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Jf(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",40),d(2),l(),a(3,"input",41,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.stationLevel,i)||(e.dataModel.stationLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),w("ngModel",n.dataModel.stationLevel),p("disabled",!(n.fieldsInfo.stationLevel!=null&&n.fieldsInfo.stationLevel.accessEditField))}}function Xf(o,s){if(o&1&&(a(0,"mat-list-item",42),d(1),l()),o&2){let n=s.$implicit;r(),b(n)}}function $f(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",43),d(2),l(),a(3,"input",44,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewLevel,i)||(e.dataModel.viewLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),w("ngModel",n.dataModel.viewLevel),p("disabled",!(n.fieldsInfo.viewLevel!=null&&n.fieldsInfo.viewLevel.accessEditField))}}function e_(o,s){if(o&1&&(a(0,"mat-list-item",42),d(1),l()),o&2){let n=s.$implicit;r(),b(n)}}function t_(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",45),d(2),l(),a(3,"input",46,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.dayOfActivity,i)||(e.dataModel.dayOfActivity=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.dayOfActivity==null?null:n.fieldsInfo.dayOfActivity.fieldTitle),r(),A("placeholder",n.fieldsInfo.dayOfActivity==null?null:n.fieldsInfo.dayOfActivity.fieldTitle),w("ngModel",n.dataModel.dayOfActivity),p("disabled",!(n.fieldsInfo.dayOfActivity!=null&&n.fieldsInfo.dayOfActivity.accessEditField))}}function i_(o,s){if(o&1){let n=v();a(0,"div",13)(1,"label",47),d(2),l(),a(3,"input",48,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.salePrice,i)||(e.dataModel.salePrice=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.salePrice==null?null:n.fieldsInfo.salePrice.fieldTitle),r(),A("placeholder",n.fieldsInfo.salePrice==null?null:n.fieldsInfo.salePrice.fieldTitle),w("ngModel",n.dataModel.salePrice),p("disabled",!(n.fieldsInfo.salePrice!=null&&n.fieldsInfo.salePrice.accessEditField))}}function n_(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function o_(o,s){if(o&1&&(a(0,"button",54),S(1,"i",55),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function r_(o,s){if(o&1){let n=v();a(0,"div",50)(1,"button",51),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",52),d(3),g(4,"translate"),l(),I(5,o_,4,4,"button",53),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var bd=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B){super(m,new _n,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateAdsTypeService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new _n,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.setAccessLoad(),this.estateAdsTypeService.setAccessDataType(Be.Editor),this.estateAdsTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateAdsTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(qn),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-ads-type-edit"]],viewQuery:function(i,e){if(i&1&&ie(Qf,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:57,vars:45,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["StationLevel",""],["ViewLevel",""],["DayOfActivity",""],["SalePrice",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.paymentForMainSite","name","dataModel.paymentForMainSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.paymentForMainSite",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.stationLevel","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["role","listitem"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewLevel","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.dayOfActivity",1,"color-highlight"],["matInput","","type","number","name","dataModel.dayOfActivity","id","dataModel.dayOfActivity",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.salePrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.salePrice","id","dataModel.salePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",8),S(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",12,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",13)(11,"label",14),d(12),l(),a(13,"input",15,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,zf,1,0,"i",16)(16,Yf,1,0,"i",17),a(17,"em"),d(18),l(),I(19,Kf,5,3,"mat-error",18),l(),a(20,"div",13)(21,"label",19),d(22),l(),a(23,"textarea",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(25,"em"),d(26),l(),I(27,Zf,5,3,"mat-error",18),l(),I(28,Jf,5,4,"div",21),a(29,"mat-list",22),I(30,Xf,2,1,"mat-list-item",23),l(),I(31,$f,5,4,"div",21),a(32,"mat-list",22),I(33,e_,2,1,"mat-list-item",23),l(),I(34,t_,5,4,"div",21)(35,i_,5,4,"div",21),a(36,"div",24)(37,"div",25)(38,"h5",26),d(39),l()(),a(40,"div",27)(41,"div",28)(42,"input",29),x("ngModelChange",function(c){return f(m),T(e.dataModel.paymentForMainSite,c)||(e.dataModel.paymentForMainSite=c),_(c)}),l(),S(43,"label",30),l()()(),a(44,"div",31)(45,"a",32),g(46,"cmsthumbnail"),I(47,n_,2,3,"img",33),l()(),a(48,"div",13)(49,"label",34),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(50),g(51,"translate"),l(),a(52,"input",35,3),g(54,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(55,"cms-file-manager",36),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(56,r_,6,4,"div",37),l()()()}if(i&2){let m=D(14),h=D(24);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.accessWatchField),r(2),p("ngForOf",e.dataModel.stationLevelDescription),r(),p("ngIf",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.accessWatchField),r(2),p("ngForOf",e.dataModel.viewLevelDescription),r(),p("ngIf",e.fieldsInfo.dayOfActivity==null?null:e.fieldsInfo.dayOfActivity.accessWatchField),r(),p("ngIf",e.fieldsInfo.salePrice==null?null:e.fieldsInfo.salePrice.accessWatchField),r(4),C(" ",e.fieldsInfo.paymentForMainSite==null?null:e.fieldsInfo.paymentForMainSite.fieldTitle,""),r(3),w("ngModel",e.dataModel.paymentForMainSite),r(3),A("href",y(46,39,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(51,41,"TITLE.PHOTO_FILE")),r(2),A("placeholder",y(54,43,"TITLE.Icon_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("selectFileType",e.selectFileTypeMainImage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("openDirectUploadView",!0)("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,Rt,Ft,z,ve,be,ke,we,X,xe,Re,$,Na,Ga,j,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var a_=()=>[5,10,20,100];function l_(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function s_(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function d_(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",47),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function c_(o,s){o&1&&(a(0,"mat-header-cell",49),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function p_(o,s){if(o&1&&(S(0,"img",51),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function m_(o,s){if(o&1&&(a(0,"mat-cell"),I(1,p_,2,3,"img",50),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function u_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function f_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function __(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyId==null?null:n.fieldsInfo.linkPropertyId.fieldTitle," ")}}function h_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.linkPropertyId," ")}}function g_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function y_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function C_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle," ")}}function S_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.stationLevel," ")}}function I_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle," ")}}function M_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.viewLevel," ")}}function E_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.dayOfActivity==null?null:n.fieldsInfo.dayOfActivity.fieldTitle," ")}}function v_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.dayOfActivity," ")}}function b_(o,s){if(o&1&&(a(0,"mat-header-cell",49),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.salePrice==null?null:n.fieldsInfo.salePrice.fieldTitle," ")}}function w_(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.salePrice," ")}}function T_(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function x_(o,s){if(o&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function A_(o,s){o&1&&S(0,"mat-header-row")}function P_(o,s){if(o&1){let n=v();a(0,"mat-row",54),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var wd=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new _n,q,m,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=m,this.router=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","StationLevel","ViewLevel","LinkPropertyId","DayOfActivity","SalePrice"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","StationLevel","SalePrice"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _n);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vd,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bd,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkAdsTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkAdsTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(qn),E(Ye),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-ads-type-list"]],features:[le],decls:69,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkPropertyId"],["matColumnDef","Title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","DayOfActivity"],["matColumnDef","SalePrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",12),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(16,"mat-slide-toggle",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,15),I(20,l_,7,3,"div",16),k(),P(21,17),I(22,s_,7,3,"div",16)(23,d_,7,3,"div",16),a(24,"div",18)(25,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(26,"i",20)(27,"br"),l(),a(28,"p",21),d(29),g(30,"translate"),l()(),k(),P(31,22),a(32,"app-cms-search-list",23),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(33,"app-cms-statist-list",23),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(34,24),a(35,"mat-table",25,0),M("matSortChange",function(){f(m);let c=D(36);return _(e.onTableSortData(c))}),P(37,26),I(38,c_,3,3,"mat-header-cell",27)(39,m_,2,1,"mat-cell",28),k(),P(40,29),I(41,u_,2,1,"mat-header-cell",27)(42,f_,2,1,"mat-cell",28),k(),P(43,30),I(44,__,2,1,"mat-header-cell",27)(45,h_,2,1,"mat-cell",28),k(),P(46,31),I(47,g_,2,1,"mat-header-cell",27)(48,y_,2,1,"mat-cell",28),k(),P(49,32),I(50,C_,2,1,"mat-header-cell",27)(51,S_,2,1,"mat-cell",28),k(),P(52,33),I(53,I_,2,1,"mat-header-cell",27)(54,M_,2,1,"mat-cell",28),k(),P(55,34),I(56,E_,2,1,"mat-header-cell",27)(57,v_,2,1,"mat-cell",28),k(),P(58,35),I(59,b_,2,1,"mat-header-cell",27)(60,w_,2,1,"mat-cell",28),k(),P(61,36),I(62,T_,3,3,"mat-header-cell",37)(63,x_,6,1,"mat-cell",38),k(),I(64,A_,1,0,"mat-header-row",39)(65,P_,1,6,"mat-row",40),l(),k(),P(66,41),a(67,"mat-paginator",42,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,24,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,26,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,28,"ACTION.Property_to_be_traded")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(29),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,a_)))},dependencies:[N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se]});let o=s;return o})();var Td=["*","*"];function k_(o,s){if(o&1&&(a(0,"mat-option",8)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function D_(o,s){if(o&1){let n=v();a(0,"mat-icon",9),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),d(1,"close"),l()}}function R_(o,s){if(o&1){let n=v();a(0,"mat-form-field",3),S(1,"input",4),a(2,"mat-autocomplete",5,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(4,k_,3,3,"mat-option",6),g(5,"async"),l(),I(6,D_,2,0,"mat-icon",7),oi(7),l()}if(o&2){let n=D(3),t=u();r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n),ht("disabled",t.optionDisabled?!0:null),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(5,7,t.filteredOptions)),r(2),p("ngIf",t.dataModelSelect==null?null:t.dataModelSelect.id)}}function V_(o,s){if(o&1){let n=v();a(0,"div",12)(1,"a",13),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function L_(o,s){if(o&1&&(a(0,"div",10),I(1,V_,3,3,"div",11),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var il=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.tokenHelper=c,this.categoryService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new yn,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionTypeView=1,this.typeUsageId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}set optionTypeUsageId(t){this.typeUsageId=t,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G,m=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,m.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,m.filters.push(e),i.filters.push(m)),this.typeUsageId&&this.typeUsageId.length>0&&(e=new G,e.propertyName="PropertyTypes",e.propertyAnyName="LinkPropertyTypeUsageId",e.value=this.typeUsageId,e.searchType=Ne.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),c.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if((!t||typeof t=="string"&&t.length===0)&&(this.dataModelSelect=new yn),typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof yn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new yn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(Y),E(zn))},s.\u0275cmp=F({type:s,selectors:[["app-estate-activity-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Td,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","ntk-full-width",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(Td),I(0,R_,8,9,"mat-form-field",1)(1,L_,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,Ot,$t,Xt,ei,Bt,Oe,se,$,Ue],encapsulation:2});let o=s;return o})();var F_=["*"];function O_(o,s){if(o&1&&(a(0,"label",8),d(1),l()),o&2){let n=u();Et("for","app-cms-site-selector-",n.id,""),r(),b(n.optionLabel)}}function B_(o,s){if(o&1&&S(0,"img",11),o&2){let n=u().$implicit;A("src",n.linkMainImageIdSrc,Z)}}function H_(o,s){if(o&1&&(a(0,"mat-option",9),I(1,B_,1,1,"img",10),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,t=u();p("value",n)("disabled",t.optionDisabled),r(),p("ngIf",n.linkMainImageIdSrc),r(2),b(t.displayOption(n))}}function W_(o,s){if(o&1){let n=v();a(0,"mat-icon",12),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),d(1,"close"),l()}}var or=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.tokenHelper=h,this.translate=c,this.categoryService=R,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Gi,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}}),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title+" # "+t.caseCode:void 0}displayOption(t){return t?t.title+" # "+t.caseCode:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new Ho;i.rowPerPage=20,i.accessLoad=!0;let e=new G;e.propertyName="Name",e.value=t,e.searchType=Ne.Contains,i.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="CaseCode",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t?.length>0&&(e=new G,e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="aboutCustomerTel",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="aboutCustomerMobile",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Gi){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Gi,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(Y),E(O),E(mi))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:F_,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),I(2,O_,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(6,H_,4,4,"mat-option",6),g(7,"async"),l(),I(8,W_,2,0,"mat-icon",7),oi(9),l()}if(i&2){let m=D(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Et("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),ht("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[We,N,te,z,Ot,$t,Xt,ei,Oe,se,$,j,Ue],encapsulation:2});let o=s;return o})();var N_=["*"];function G_(o,s){if(o&1&&(a(0,"label",8),d(1),l()),o&2){let n=u();Et("for","app-cms-site-selector-",n.id,""),r(),b(n.optionLabel)}}function U_(o,s){if(o&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u();p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function j_(o,s){if(o&1){let n=v();a(0,"mat-icon",10),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),d(1,"close"),l()}}var oa=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.translate=e,this.cdr=m,this.publicHelper=h,this.categoryService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new hn,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new Sr;i.rowPerPage=20,i.accessLoad=!0;let e=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="description",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="descriptionHidden",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="contactMobiles",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof hn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new hn,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(O),E(H),E(L),E(Xi))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:N_,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),I(2,G_,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(6,U_,3,3,"mat-option",6),g(7,"async"),l(),I(8,j_,2,0,"mat-icon",7),oi(9),l()}if(i&2){let m=D(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Et("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),ht("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[We,N,te,z,Ot,$t,Xt,ei,Oe,se,$,j,Ue],encapsulation:2});let o=s;return o})();var q_=["*"];function Q_(o,s){if(o&1&&(S(0,"img",13),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModelSelect==null?null:n.dataModelSelect.linkMainImageIdSrc),Z)}}function z_(o,s){if(o&1&&(S(0,"img",13),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function Y_(o,s){if(o&1&&(a(0,"mat-option",14),I(1,z_,2,3,"img",4),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,t=u();p("value",n)("disabled",t.optionDisabled),r(),p("ngIf",n.linkMainImageIdSrc),r(2),b(t.displayOption(n))}}function K_(o,s){o&1&&S(0,"i",15)}function Z_(o,s){o&1&&S(0,"i",16)}function J_(o,s){if(o&1){let n=v();a(0,"i",17),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),l()}}function X_(o,s){o&1&&(a(0,"em"),d(1),g(2,"translate"),l()),o&2&&(r(),C("(",y(2,1,"TITLE.Necessary"),")"))}var on=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.categoryService=c,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Xn,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionRequired=!1,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.forceSelect=t,this.onActionSelectForce(t)}set optionSelectUserId(t){(!this.forceSelect||this.forceSelect!==null)&&this.DataGetAll(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new Jr;i.rowPerPage=20,i.accessLoad=!0;let e=new G;typeof t=="string"&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,i.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),t?.length>0&&(e=new G,e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="mobileNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="phoneNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Xn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(bn))},s.\u0275cmp=F({type:s,selectors:[["app-estate-account-agency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectUserId:"optionSelectUserId"},outputs:{optionChange:"optionChange"},ngContentSelectors:q_,decls:17,vars:16,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"span",3),I(3,Q_,2,3,"img",4),d(4," \xA0"),l(),S(5,"input",5),a(6,"label",6),d(7),l(),a(8,"mat-autocomplete",7,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(10,Y_,4,4,"mat-option",8),g(11,"async"),l(),I(12,K_,1,0,"i",9)(13,Z_,1,0,"i",10)(14,J_,1,0,"i",11)(15,X_,3,3,"em",12),oi(16),l()}if(i&2){let m=D(9);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),ht("disabled",e.optionDisabled?!0:null),r(2),b(e.optionLabel),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(11,14,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id.length<=0))}},dependencies:[We,N,te,z,be,Ot,$t,Xt,ei,yr,$,j,Ue,U,Se],encapsulation:2});let o=s;return o})();var $_=["vform"],eh=o=>({direction:o});function th(o,s){o&1&&S(0,"i",26)}function ih(o,s){o&1&&S(0,"i",27)}function nh(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function oh(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function rh(o,s){o&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function ah(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",28),d(2),l(),a(3,"textarea",29,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,rh,5,3,"mat-error",16),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),r(),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function lh(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",30),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.activityStatus,i)||(e.dataModel.activityStatus=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelEstateActivityStatusEnumResult),w("model",n.dataModel.activityStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.activityStatus==null?null:n.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sh(o,s){if(o&1){let n=v();a(0,"app-estate-account-user-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateUser(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkEstateUserId)("optionPlaceholder",y(1,2,"TITLE.USER"))}}function dh(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",31),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,3,"TITLE.Property_agency"))}}function ch(o,s){if(o&1){let n=v();a(0,"app-estate-property-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorProperty(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkPropertyId)("optionPlaceholder",y(1,2,"TITLE.Property"))}}function ph(o,s){if(o&1){let n=v();a(0,"app-estate-customer-order-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCustomerOrderId(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkCustomerOrderId)("optionPlaceholder",y(1,2,"TITLE.Customer"))}}function mh(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",32),d(2),l(),a(3,"input",33),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.appointmentDateFrom,i)||(e.dataModel.appointmentDateFrom=i),_(i)}),l(),S(4,"mat-datepicker-toggle",34)(5,"mat-datepicker",35,4),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.appointmentDateFrom),p("formControl",t.date),r(),p("for",n)}}function uh(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",36),d(2),l(),a(3,"input",37),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.appointmentDateTo,i)||(e.dataModel.appointmentDateTo=i),_(i)}),l(),S(4,"mat-datepicker-toggle",34)(5,"mat-datepicker",35,5),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.appointmentDateTo),p("formControl",t.date),r(),p("for",n)}}function fh(o,s){if(o&1){let n=v();a(0,"div",38)(1,"button",39),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",40),d(3),g(4,"translate"),l(),a(5,"button",41),S(6,"i",42),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var jo=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze){super(m,new $o,Ee,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyHistoryService=m,this.cmsToastrService=h,this.estateEnumService=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.pageInfo=re,this.publicHelper=Ee,this.dialog=Ze,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataFileModelFiles=new Map,this.formInfo=new me,this.fileManagerOpenForm=!1,this.date=new gt(new Date),this.dataModelEstateActivityStatusEnumResult=new Q,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Yt=>{this.tokenInfo=Yt}),t&&(this.dataModel.linkActivityTypeId=t.linkActivityTypeId,this.dataModel.linkPropertyId=t.linkPropertyId,this.dataModel.linkEstateUserId=t.linkEstateUserId,this.dataModel.linkCustomerOrderId=t.linkCustomerOrderId,this.dataModel.linkEstateAgencyId=t.linkEstateAgencyId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:t=>{this.dataModelEstateActivityStatusEnumResult=t}})}DataAddContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=t.id}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,t&&t.id.length>0&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorProperty(t){this.dataModel.linkPropertyId=null,t&&t.id.length>0&&(this.dataModel.linkPropertyId=t.id)}onActionSelectorCustomerOrderId(t){this.dataModel.linkCustomerOrderId=null,t&&t.id.length>0&&(this.dataModel.linkCustomerOrderId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(co),E(V),E(Ji),E(H),E(Y),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-history-add"]],viewQuery:function(i,e){if(i&1&&ie($_,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:38,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",10,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",11)(11,"label",12),d(12),l(),a(13,"input",13,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,th,1,0,"i",14)(16,ih,1,0,"i",15),a(17,"em"),d(18),l(),I(19,nh,5,3,"mat-error",16),l(),a(20,"div",11)(21,"label",17),d(22),l(),a(23,"textarea",18,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(25,"        "),l(),a(26,"em"),d(27),l(),I(28,oh,5,3,"mat-error",16),l(),I(29,ah,8,5,"div",19)(30,lh,1,6,"app-cms-enum-x-selector",20),a(31,"app-estate-activity-type-selector",21),g(32,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),I(33,sh,2,4,"app-estate-account-user-selector",22)(34,dh,2,5,"app-estate-account-agency-selector",23)(35,ch,2,4,"app-estate-property-selector",22)(36,ph,2,4,"app-estate-customer-order-selector",22)(37,mh,7,5,"div",19)(38,uh,7,5,"div",19),a(39,"p"),d(40),g(41,"translate"),l(),a(42,"app-cms-files-selector",24),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l(),I(43,fh,9,7,"div",25),l()()()}if(i&2){let m=D(14),h=D(24);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(36,eh,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessAddField),r(),p("ngIf",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkActivityTypeId)("optionPlaceholder",y(32,32,"TITLE.Category")),r(2),p("ngIf",e.fieldsInfo.linkEstateUserId==null?null:e.fieldsInfo.linkEstateUserId.accessAddField),r(),p("ngIf",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.accessWatchField),r(),p("ngIf",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.accessAddField),r(),p("ngIf",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.accessAddField),r(),p("ngIf",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.accessWatchField),r(),p("ngIf",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.accessWatchField),r(2),b(y(41,34,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,z,ve,be,ke,we,X,xe,Ot,Un,jn,rn,Re,Oe,$,Ao,j,Hi,il,or,oa,Qi,on,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var _h=["vform"];function hh(o,s){if(o&1){let n=v();a(0,"button",20),M("click",function(){f(n);let i=u(2);return _(i.onActionNext())}),S(1,"i",21),d(2," < "),l()}}function gh(o,s){if(o&1){let n=v();a(0,"button",20),M("click",function(){f(n);let i=u(2);return _(i.onActionPervious())}),S(1,"i",21),d(2," > "),l()}}function yh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle,":"),r(2),b(n.publicHelper.LocaleDateTime(n.dataModel.updatedDate))}}function Ch(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.CreatedYaer"),":"),r(3),b(n.dataModel.createdYaer)}}function Sh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.ROOM"),":"),r(3),b(n.dataModel.partition)}}function Ih(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle,":"),r(2),b(n.dataModel.area)}}function Mh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.aboutAgentMobile==null?null:n.fieldsInfo.aboutAgentMobile.fieldTitle,":"),r(2),b(n.dataModel.aboutAgentMobile)}}function Eh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.aboutAgentTel==null?null:n.fieldsInfo.aboutAgentTel.fieldTitle,":"),r(2),b(n.dataModel.aboutAgentTel)}}function vh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.aboutCustomerMobile==null?null:n.fieldsInfo.aboutCustomerMobile.fieldTitle,":"),r(2),b(n.dataModel.aboutCustomerMobile)}}function bh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.aboutCustomerTel==null?null:n.fieldsInfo.aboutCustomerTel.fieldTitle,":"),r(2),b(n.dataModel.aboutCustomerTel)}}function wh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.address==null?null:n.fieldsInfo.address.fieldTitle,":"),r(2),b(n.dataModel.address)}}function Th(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description)}}function xh(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.Description_Hidden"),":"),r(3),b(n.dataModel.descriptionHidden)}}function Ah(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.fieldTitle,":"),r(2),b(n.dataModel.addressHidden)}}function Ph(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Contract")," "))}function kh(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u(3);r(),C(" ",zt(2,1,n.linkEstateContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function Dh(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Price")," "))}function Rh(o,s){if(o&1&&(P(0),d(1),g(2,"number"),k()),o&2){let n=u(2).$implicit,t=u(3);r(),C(" (\u0645\u062A\u0631\u0645\u0631\u0628\u0639 :",zt(2,1,n.salePrice/t.dataModel.area,"1.0-0"),") ")}}function Vh(o,s){if(o&1&&(P(0),d(1),g(2,"translate"),g(3,"number"),S(4,"br"),d(5),I(6,Rh,3,4,"ng-container",4),k()),o&2){let n=u().$implicit,t=u(3);r(),fe(" ",y(2,5,"TITLE.SalePrice"),": ",y(3,7,n.salePrice)," "),r(4),fe("( ",n.currencyTitle," ",n.currencySymbol," ) "),r(),p("ngIf",t.dataModel.area>0)}}function Lh(o,s){o&1&&(P(0),d(1),g(2,"translate"),g(3,"translate"),k()),o&2&&(r(),fe(" ",y(2,2,"TITLE.SalePrice"),": ",y(3,4,"TITLE.PriceByAgreement")," "))}function Fh(o,s){if(o&1&&(P(0),d(1),g(2,"translate"),g(3,"number"),S(4,"br"),d(5),k()),o&2){let n=u().$implicit;r(),fe(" ",y(2,4,"TITLE.DepositPrice"),": ",y(3,6,n.depositPrice),""),r(4),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function Oh(o,s){o&1&&(P(0),d(1),g(2,"translate"),g(3,"translate"),k()),o&2&&(r(),fe(" ",y(2,2,"TITLE.DepositPrice"),": ",y(3,4,"TITLE.PriceByAgreement")," "))}function Bh(o,s){if(o&1&&(P(0),d(1),g(2,"translate"),g(3,"number"),S(4,"br"),d(5),k()),o&2){let n=u().$implicit;r(),fe(" ",y(2,4,"TITLE.RentPrice")," ",y(3,6,n.rentPrice),""),r(4),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function Hh(o,s){o&1&&(P(0),d(1),g(2,"translate"),g(3,"translate"),k()),o&2&&(r(),fe(" ",y(2,2,"TITLE.RentPrice")," ",y(3,4,"TITLE.PriceByAgreement")," "))}function Wh(o,s){if(o&1&&(P(0),d(1),g(2,"translate"),g(3,"number"),S(4,"br"),d(5),k()),o&2){let n=u().$implicit;r(),fe(" ",y(2,4,"TITLE.PeriodPrice"),": ",y(3,6,n.periodPrice)," "),r(4),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function Nh(o,s){o&1&&(P(0),d(1),g(2,"translate"),g(3,"translate"),k()),o&2&&(r(),fe(" ",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,"TITLE.PriceByAgreement")," "))}function Gh(o,s){if(o&1&&(a(0,"mat-cell"),I(1,Vh,7,9,"ng-container",4)(2,Lh,4,6,"ng-container",4),S(3,"br"),I(4,Fh,6,8,"ng-container",4)(5,Oh,4,6,"ng-container",4),S(6,"br"),I(7,Bh,6,8,"ng-container",4)(8,Hh,4,6,"ng-container",4),S(9,"br"),I(10,Wh,6,8,"ng-container",4)(11,Nh,4,6,"ng-container",4),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.salePrice>0),r(),p("ngIf",n.salePriceByAgreement),r(2),p("ngIf",n.depositPrice>0),r(),p("ngIf",n.depositPriceByAgreement),r(2),p("ngIf",n.rentPrice>0),r(),p("ngIf",n.rentPriceByAgreement),r(2),p("ngIf",n.periodPrice>0),r(),p("ngIf",n.periodPriceByAgreement)}}function Uh(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.SalePrice")," "))}function jh(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.salePrice)," "),r(3),fe("( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function qh(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function Qh(o,s){if(o&1&&(a(0,"mat-cell"),I(1,jh,5,5,"ng-container",4)(2,qh,3,3,"ng-container",4),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.salePrice>0),r(),p("ngIf",n.salePriceByAgreement)}}function zh(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.DepositPrice")," "))}function Yh(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.depositPrice),""),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function Kh(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function Zh(o,s){if(o&1&&(a(0,"mat-cell"),I(1,Yh,5,5,"ng-container",4)(2,Kh,3,3,"ng-container",4),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.depositPrice>0),r(),p("ngIf",n.depositPriceByAgreement)}}function Jh(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.RentPrice")," "))}function Xh(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.rentPrice),""),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function $h(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function eg(o,s){if(o&1&&(a(0,"mat-cell"),I(1,Xh,5,5,"ng-container",4)(2,$h,3,3,"ng-container",4),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.rentPrice>0),r(),p("ngIf",n.rentPriceByAgreement)}}function tg(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PeriodPrice")," "))}function ig(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.periodPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function ng(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function og(o,s){if(o&1&&(a(0,"mat-cell"),I(1,ig,5,5,"ng-container",4)(2,ng,3,3,"ng-container",4),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.periodPrice>0),r(),p("ngIf",n.periodPriceByAgreement)}}function rg(o,s){o&1&&S(0,"mat-header-row")}function ag(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function lg(o,s){if(o&1&&(a(0,"div",22)(1,"mat-table",23),P(2,24),I(3,Ph,3,3,"mat-header-cell",25)(4,kh,3,4,"mat-cell",26),k(),P(5,27),I(6,Dh,3,3,"mat-header-cell",25)(7,Gh,12,8,"mat-cell",26),k(),P(8,28),I(9,Uh,3,3,"mat-header-cell",25)(10,Qh,3,2,"mat-cell",26),k(),P(11,29),I(12,zh,3,3,"mat-header-cell",25)(13,Zh,3,2,"mat-cell",26),k(),P(14,30),I(15,Jh,3,3,"mat-header-cell",25)(16,eg,3,2,"mat-cell",26),k(),P(17,31),I(18,tg,3,3,"mat-header-cell",25)(19,og,3,2,"mat-cell",26),k(),I(20,rg,1,0,"mat-header-row",32)(21,ag,1,4,"mat-row",33),l()()),o&2){let n=u(2);r(),p("dataSource",n.optionTabledataSource),r(19),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns)}}function sg(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-string",44),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionDisabled",!0)("optionDisplayOnlyValid",!0)("optionLabel",n.title)}}function dg(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-int",45),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionDisabled",!0)("optionLabel",n.title)}}function cg(o,s){if(o&1){let n=v();P(0),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-boolean",46),x("modelChange",function(i){f(n);let e=u(3).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l(),k()}if(o&2){let n=u(3).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),p("optionDisabled",!0),r(),C("",n.title," ")}}function pg(o,s){if(o&1&&(a(0,"div",42),I(1,cg,5,6,"ng-container",4),l()),o&2){let n=u(2).$implicit,t=u(3);r(),p("ngIf",t.propertyDetails[n.id]==="true")}}function mg(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-float",45),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionDisabled",!0)("optionLabel",n.title)}}function ug(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",46),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id]),p("optionDisabled",!0)}}function fg(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-textarea",45),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionDisabled",!0)("optionLabel",n.title)}}function _g(o,s){if(o&1){let n=v();a(0,"div",42),S(1,"i",43),d(2,"\xA0 "),a(3,"app-input-string",47),x("modelChange",function(i){f(n);let e=u(2).$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u(2).$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionDisabled",!0)("optionLabel",n.title)}}function hg(o,s){if(o&1&&(P(0,39),I(1,sg,4,13,"div",40)(2,dg,4,9,"div",40)(3,pg,2,1,"div",40)(4,mg,4,9,"div",40)(5,ug,6,9,"div",40)(6,fg,4,9,"div",40)(7,_g,4,12,"div",41),k()),o&2){let n=u().$implicit,t=u(3);p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function gg(o,s){if(o&1&&(P(0),I(1,hg,8,7,"ng-container",38),k()),o&2){let n=s.$implicit,t=u(3);r(),p("ngIf",t.propertyDetails[n.id]&&t.propertyDetails[n.id].length>0)}}function yg(o,s){if(o&1){let n=v();a(0,"button",48),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.PREVIOUS")))}function Cg(o,s){if(o&1){let n=v();a(0,"button",49),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.NEXT")))}function Sg(o,s){if(o&1){let n=v();a(0,"button",49),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.END")))}function Ig(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",34),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),l()()(),I(8,gg,2,1,"ng-container",35),a(9,"mat-action-row"),I(10,yg,3,3,"button",36)(11,Cg,3,3,"button",37)(12,Sg,3,3,"button",37),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),C(" ",n.title," "),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModel.propertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModel.propertyDetailGroups.length)}}function Mg(o,s){if(o&1){let n=v();a(0,"button",20),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",21),d(2," < "),l()}}function Eg(o,s){if(o&1){let n=v();a(0,"button",20),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",21),d(2," > "),l()}}function vg(o,s){if(o&1){let n=v();a(0,"div",15)(1,"button",20),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",21),d(3),g(4,"translate"),l(),I(5,Mg,3,0,"button",6)(6,Eg,3,0,"button",6),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function bg(o,s){if(o&1&&(P(0),a(1,"div",5),I(2,hh,3,0,"button",6)(3,gh,3,0,"button",6),S(4,"hr"),l(),a(5,"div",7)(6,"table",8)(7,"tbody")(8,"tr")(9,"td")(10,"b"),d(11),g(12,"translate"),l()(),a(13,"td")(14,"b"),d(15),l()()(),a(16,"tr")(17,"td")(18,"b"),d(19),l()(),a(20,"td")(21,"b"),d(22),l()()(),a(23,"tr")(24,"td"),d(25),g(26,"translate"),l(),a(27,"td"),d(28),l()(),a(29,"tr")(30,"td"),d(31),l(),a(32,"td"),S(33,"i",9),g(34,"statusIconClass"),l()(),a(35,"tr")(36,"td"),d(37),l(),a(38,"td"),d(39),l()(),a(40,"tr")(41,"td"),d(42),l(),a(43,"td"),d(44),l()(),I(45,yh,5,2,"tr",4),a(46,"tr")(47,"td"),d(48),l(),a(49,"td",10),d(50),g(51,"cmsuserinfo"),g(52,"async"),l()(),I(53,Ch,6,4,"tr",4),a(54,"tr")(55,"td"),d(56),g(57,"translate"),l(),a(58,"td"),d(59),S(60,"br"),d(61),l()(),I(62,Sh,6,4,"tr",4)(63,Ih,5,2,"tr",4)(64,Mh,5,2,"tr",4)(65,Eh,5,2,"tr",4)(66,vh,5,2,"tr",4)(67,bh,5,2,"tr",4)(68,wh,5,2,"tr",4)(69,Th,6,4,"tr",4)(70,xh,6,4,"tr",4)(71,Ah,5,2,"tr",4),l()(),S(72,"hr"),a(73,"p"),d(74),g(75,"translate"),l(),S(76,"app-progress-spinner",1),I(77,lg,22,3,"div",11),S(78,"hr"),a(79,"mat-accordion",12),I(80,Ig,13,8,"mat-expansion-panel",13),S(81,"br"),l()(),a(82,"div",14)(83,"div",15)(84,"small",16),d(85),l(),a(86,"small",17),d(87),l()()(),a(88,"div",18),I(89,vg,7,5,"div",19),l(),k()),o&2){let n=u();r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0),r(8),C(" ",y(12,38,"TITLE.Sharing_Key"),":"),r(4),b(n.dataModel.sharingKey),r(4),C("",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle,":"),r(3),b(n.dataModel.caseCode),r(3),C("",y(26,40,"TITLE.Property_Type"),":"),r(3),b(n.propertyTypeLanduse),r(3),C("",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(34,42,n.dataModel.recordStatus)),r(4),C("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle,":"),r(2),b(n.dataModel.title),r(3),C("",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle,":"),r(2),b(n.publicHelper.LocaleDateTime(n.dataModel.createdDate)),r(),p("ngIf",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.accessWatchField),r(3),C("",n.fieldsInfo.createdBy==null?null:n.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(52,46,y(51,44,n.dataModel.createdBy))),r(3),p("ngIf",n.dataModel.createdYaer>0),r(3),C("",y(57,48,"TITLE.Region"),":"),r(3),b(n.dataModel.linkLocationIdParentTitle),r(2),b(n.dataModel.linkLocationIdTitle),r(),p("ngIf",n.dataModel.partition>0),r(),p("ngIf",n.dataModel.area>0),r(),p("ngIf",(n.dataModel.aboutAgentMobile==null?null:n.dataModel.aboutAgentMobile.length)>0),r(),p("ngIf",(n.dataModel.aboutAgentTel==null?null:n.dataModel.aboutAgentTel.length)>0),r(),p("ngIf",(n.dataModel.aboutCustomerMobile==null?null:n.dataModel.aboutCustomerMobile.length)>0),r(),p("ngIf",(n.dataModel.aboutCustomerTel==null?null:n.dataModel.aboutCustomerTel.length)>0),r(),p("ngIf",(n.dataModel.address==null?null:n.dataModel.address.length)>0),r(),p("ngIf",(n.dataModel.description==null?null:n.dataModel.description.length)>0),r(),p("ngIf",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.accessWatchField),r(3),C(" ",y(75,50,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),r(2),p("optionsInfoAreaId",n.constructorInfoAreaId),r(),p("ngIf",!n.publicHelper.processService.process.inRunAll),r(3),p("ngForOf",n.dataModel.propertyDetailGroups),r(5),C("",n.formInfo.formAlert," "),r(2),C("",n.formInfo.formError," "),r(2),p("ngIf",n.formInfo.formSubmitAllow&&!n.publicHelper.processService.process.inRunAll)}}var Fo=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q,re){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyService=m,this.estateContractTypeService=h,this.cmsToastrService=c,this.tokenHelper=R,this.cdr=B,this.publicHelper=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new Gi,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.propertyTypeLanduse="",this.contractType="",this.propertyDetails=new Map,this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateContractType(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.getEstateContractType()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}keyEvent(t){(t?.key==="39"||t?.key==="ArrowRight")&&this.onActionNext(),(t?.key==="37"||t?.key==="ArrowLeft")&&this.onActionPervious()}getEstateContractType(){let t=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Be.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,this.propertyTypeLanduse=this.dataModel.propertyTypeLanduse?.titleML,i.isSuccess?(this.optionTabledataSource.data=this.dataModel.contracts,this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert="",this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(m=>{if(this.propertyDetails[m.id]=0,this.dataModel.propertyDetailValues){let h=this.dataModel.propertyDetailValues.find(c=>c.linkPropertyDetailId===m.id);h&&(this.propertyDetails[m.id]=h.value)}})})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(mi),E(Ii),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(_h,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},hostBindings:function(i,e){i&1&&M("keyup",function(h){return e.keyEvent(h)},!1,ys)},decls:6,vars:3,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"content","mb-0",2,"height","100vh"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body"],[1,"table","table-striped","ntk-cms-html-table"],[3,"ngClass"],[1,"input-ltr-right"],["class","example-container mat-elevation-z8",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Price"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionDisplayOnlyValid","optionLabel"],[3,"modelChange","model","optionDisabled","optionLabel"],[3,"modelChange","model","optionDisabled"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionDisabled","optionLabel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),I(5,bg,90,52,"ng-container",4),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[ce,We,N,oo,ro,ao,li,Co,fo,_o,ho,yo,go,se,tt,nt,lt,ot,it,st,rt,at,dt,ct,j,Hn,Bn,Ln,On,Fn,Wn,Ue,lo,U,Cn,Mi,ri],encapsulation:2});let o=s;return o})();var wg=["vform"],Tg=o=>({direction:o}),xg=()=>["fa"];function Ag(o,s){o&1&&S(0,"i",35)}function Pg(o,s){o&1&&S(0,"i",36)}function kg(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Dg(o,s){o&1&&S(0,"i",35)}function Rg(o,s){o&1&&S(0,"i",36)}function Vg(o,s){o&1&&(a(0,"mat-error"),d(1," TitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Lg(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",37),d(2),l(),a(3,"input",38,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),_(i)}),l(),I(5,Dg,1,0,"i",21)(6,Rg,1,0,"i",22),a(7,"em"),d(8),l(),I(9,Vg,5,3,"mat-error",23),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Fg(o,s){if(o&1){let n=v();a(0,"div",39)(1,"div",40)(2,"h5",41),d(3),l()(),a(4,"div",42)(5,"div",43)(6,"input",44),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.createdYearActive,i)||(e.dataModel.createdYearActive=i),_(i)}),l(),S(7,"label",45),l()()()}if(o&2){let n=u();r(3),b(n.fieldsInfo.createdYearActive==null?null:n.fieldsInfo.createdYearActive.fieldTitle),r(3),w("ngModel",n.dataModel.createdYearActive)}}function Og(o,s){o&1&&S(0,"i",35)}function Bg(o,s){o&1&&S(0,"i",36)}function Hg(o,s){o&1&&(a(0,"mat-error"),d(1," TitleCreatedYaer is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Wg(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",46),d(2),l(),a(3,"input",47,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaer,i)||(e.dataModel.titleCreatedYaer=i),_(i)}),l(),I(5,Og,1,0,"i",21)(6,Bg,1,0,"i",22),a(7,"em"),d(8),l(),I(9,Hg,5,3,"mat-error",23),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleCreatedYaer==null?null:t.fieldsInfo.titleCreatedYaer.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleCreatedYaer==null?null:t.fieldsInfo.titleCreatedYaer.fieldTitle),w("ngModel",t.dataModel.titleCreatedYaer),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Ng(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",48),d(2,"TitleCreatedYaerML"),l(),a(3,"input",49,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaerML,i)||(e.dataModel.titleCreatedYaerML=i),_(i)}),l()()}if(o&2){let n=u();r(3),A("placeholder",n.fieldsInfo.titleCreatedYaerML==null?null:n.fieldsInfo.titleCreatedYaerML.fieldTitle),w("ngModel",n.dataModel.titleCreatedYaerML),p("disabled",!0)}}function Gg(o,s){o&1&&S(0,"i",35)}function Ug(o,s){o&1&&S(0,"i",36)}function jg(o,s){o&1&&(a(0,"mat-error"),d(1," TitleCreatedYaerResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function qg(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",50),d(2),l(),a(3,"input",51,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaerResourceLanguage,i)||(e.dataModel.titleCreatedYaerResourceLanguage=i),_(i)}),l(),I(5,Gg,1,0,"i",21)(6,Ug,1,0,"i",22),a(7,"em"),d(8),l(),I(9,jg,5,3,"mat-error",23),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Qg(o,s){if(o&1){let n=v();a(0,"div",39)(1,"div",40)(2,"h5",52),d(3),l()(),a(4,"div",42)(5,"div",43)(6,"input",53),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.partitionActive,i)||(e.dataModel.partitionActive=i),_(i)}),l(),S(7,"label",54),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.partitionActive==null?null:n.fieldsInfo.partitionActive.fieldTitle,""),r(3),w("ngModel",n.dataModel.partitionActive)}}function zg(o,s){o&1&&S(0,"i",35)}function Yg(o,s){o&1&&S(0,"i",36)}function Kg(o,s){o&1&&(a(0,"mat-error"),d(1," TitlePartition is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Zg(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",55),d(2),l(),a(3,"input",56,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartition,i)||(e.dataModel.titlePartition=i),_(i)}),l(),I(5,zg,1,0,"i",21)(6,Yg,1,0,"i",22),a(7,"em"),d(8),l(),I(9,Kg,5,3,"mat-error",23),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePartition==null?null:t.fieldsInfo.titlePartition.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePartition==null?null:t.fieldsInfo.titlePartition.fieldTitle),w("ngModel",t.dataModel.titlePartition),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function Jg(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",57),d(2,"TitlePartitionML"),l(),a(3,"input",58),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartitionML,i)||(e.dataModel.titlePartitionML=i),_(i)}),l()()}if(o&2){let n=u();r(3),w("ngModel",n.dataModel.titlePartitionML),p("disabled",!0)}}function Xg(o,s){o&1&&S(0,"i",35)}function $g(o,s){o&1&&S(0,"i",36)}function e1(o,s){o&1&&(a(0,"mat-error"),d(1," TitlePartitionResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function t1(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",59),d(2),l(),a(3,"input",60,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartitionResourceLanguage,i)||(e.dataModel.titlePartitionResourceLanguage=i),_(i)}),l(),I(5,Xg,1,0,"i",21)(6,$g,1,0,"i",22),a(7,"em"),d(8),l(),I(9,e1,5,3,"mat-error",23),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titlePartitionResourceLanguage),p("disabled",!(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function i1(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function n1(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",61),d(2),l(),a(3,"input",62,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",63),S(6,"i",64),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,xg))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function o1(o,s){if(o&1){let n=v();a(0,"div",18)(1,"label",65),d(2),l(),a(3,"div",66)(4,"div",67)(5,"input",68,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",69),S(8,"ngx-ntk-mat-color-toggle",70)(9,"ngx-ntk-mat-color-picker",71,12),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function r1(o,s){if(o&1&&(S(0,"img",72),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function a1(o,s){if(o&1){let n=v();a(0,"div",73)(1,"button",74),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",75),d(3),g(4,"translate"),l(),a(5,"button",76),S(6,"i",77),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var ol=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new Vt,c,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyTypeLanduseService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new Vt,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(ui),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-add"]],viewQuery:function(i,e){if(i&1&&ie(wg,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:53,vars:51,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",13),S(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",17,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",18)(11,"label",19),d(12),l(),a(13,"input",20,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,Ag,1,0,"i",21)(16,Pg,1,0,"i",22),a(17,"em"),d(18),l(),I(19,kg,5,3,"mat-error",23),l(),I(20,Lg,10,8,"div",24)(21,Fg,8,2,"div",25)(22,Wg,10,7,"div",24)(23,Ng,5,3,"div",24)(24,qg,10,8,"div",24)(25,Qg,8,2,"div",25)(26,Zg,10,7,"div",24)(27,Jg,4,2,"div",24)(28,t1,10,8,"div",24),a(29,"div",18)(30,"label",26),d(31),l(),a(32,"textarea",27,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(34,"          "),l(),a(35,"em"),d(36),l(),I(37,i1,5,3,"mat-error",23),l(),I(38,n1,7,9,"div",24)(39,o1,11,10,"div",24),a(40,"div",28)(41,"a",29),g(42,"cmsthumbnail"),I(43,r1,2,3,"img",30),l()(),a(44,"div",18)(45,"label",31),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(46),g(47,"translate"),l(),a(48,"input",32,3),g(50,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(51,"cms-file-manager",33),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(52,a1,9,7,"div",34),l()()()}if(i&2){let m=D(14),h=D(33);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,41,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(49,Tg,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataModel.createdYearActive),r(),p("ngIf",e.dataModel.createdYearActive),r(),p("ngIf",(e.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:e.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&e.dataModel.createdYearActive),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataModel.partitionActive),r(),p("ngIf",e.dataModel.partitionActive),r(),p("ngIf",(e.fieldsInfo.titlePartitionResourceLanguage==null?null:e.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&e.dataModel.partitionActive),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(2),A("href",y(42,43,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(47,45,"TITLE.PICTURE")),r(2),A("placeholder",y(50,47,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function l1(o,s){if(o&1){let n=v();a(0,"li")(1,"mat-checkbox",1),M("change",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u();r(),p("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),C(" ",n.titleML," ")}}var Pd=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.tokenHelper=c,this.cmsToastrService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new gt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionSelectAdded=new et,this.optionSelectRemoved=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){let t=new pe;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(m=>this.fieldsStatus.set(m.id,!1)),this.dataIdsSelect.forEach(m=>this.fieldsStatus.set(m,!0)),this.dataModelResult.listItems.forEach(m=>{this.fieldsStatus.get(m.id)&&this.dataModelSelect.push(m)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(String)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(gn)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(ln),E(H),E(L),E(O),E(Y),E(V))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(a(0,"ul"),I(1,l1,3,3,"li",0),l()),i&2&&(r(),p("ngForOf",e.dataModelResult.listItems))},dependencies:[We,ea],encapsulation:2});let o=s;return o})();var d1=["vform"],c1=o=>({direction:o}),p1=()=>["fa"];function m1(o,s){o&1&&S(0,"i",39)}function u1(o,s){o&1&&S(0,"i",40)}function f1(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function _1(o,s){o&1&&S(0,"i",39)}function h1(o,s){o&1&&S(0,"i",40)}function g1(o,s){o&1&&(a(0,"mat-error"),d(1," TitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function y1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",41),d(2),l(),a(3,"input",42,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),_(i)}),l(),I(5,_1,1,0,"i",22)(6,h1,1,0,"i",23),a(7,"em"),d(8),l(),I(9,g1,5,3,"mat-error",24),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleResourceLanguage),p("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function C1(o,s){if(o&1){let n=v();a(0,"div",43)(1,"div",44)(2,"h5",45),d(3),l()(),a(4,"div",46)(5,"div",47)(6,"input",48),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.createdYearActive,i)||(e.dataModel.createdYearActive=i),_(i)}),l(),S(7,"label",49),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.createdYearActive==null?null:n.fieldsInfo.createdYearActive.fieldTitle,""),r(3),w("ngModel",n.dataModel.createdYearActive)}}function S1(o,s){o&1&&S(0,"i",39)}function I1(o,s){o&1&&S(0,"i",40)}function M1(o,s){o&1&&(a(0,"mat-error"),d(1," TitleCreatedYaer is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function E1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",50),d(2),l(),a(3,"input",51,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaer,i)||(e.dataModel.titleCreatedYaer=i),_(i)}),l(),I(5,S1,1,0,"i",22)(6,I1,1,0,"i",23),a(7,"em"),d(8),l(),I(9,M1,5,3,"mat-error",24),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleCreatedYaer==null?null:t.fieldsInfo.titleCreatedYaer.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleCreatedYaer==null?null:t.fieldsInfo.titleCreatedYaer.fieldTitle),w("ngModel",t.dataModel.titleCreatedYaer),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function v1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",52),d(2,"TitleCreatedYaerML"),l(),a(3,"input",53,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaerML,i)||(e.dataModel.titleCreatedYaerML=i),_(i)}),l()()}if(o&2){let n=u();r(3),A("placeholder",n.fieldsInfo.titleCreatedYaerML==null?null:n.fieldsInfo.titleCreatedYaerML.fieldTitle),w("ngModel",n.dataModel.titleCreatedYaerML),p("disabled",!0)}}function b1(o,s){o&1&&S(0,"i",39)}function w1(o,s){o&1&&S(0,"i",40)}function T1(o,s){o&1&&(a(0,"mat-error"),d(1," TitleCreatedYaerResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function x1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",54),d(2),l(),a(3,"input",55,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleCreatedYaerResourceLanguage,i)||(e.dataModel.titleCreatedYaerResourceLanguage=i),_(i)}),l(),I(5,b1,1,0,"i",22)(6,w1,1,0,"i",23),a(7,"em"),d(8),l(),I(9,T1,5,3,"mat-error",24),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:t.fieldsInfo.titleCreatedYaerResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleCreatedYaerResourceLanguage),p("disabled",!(t.fieldsInfo.titleCreatedYaerResourceLanguage!=null&&t.fieldsInfo.titleCreatedYaerResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function A1(o,s){if(o&1){let n=v();a(0,"div",43)(1,"div",44)(2,"h5",56),d(3),l()(),a(4,"div",46)(5,"div",47)(6,"input",57),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.partitionActive,i)||(e.dataModel.partitionActive=i),_(i)}),l(),S(7,"label",58),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.partitionActive==null?null:n.fieldsInfo.partitionActive.fieldTitle,""),r(3),w("ngModel",n.dataModel.partitionActive)}}function P1(o,s){o&1&&S(0,"i",39)}function k1(o,s){o&1&&S(0,"i",40)}function D1(o,s){o&1&&(a(0,"mat-error"),d(1," TitlePartition is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function R1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",59),d(2),l(),a(3,"input",60,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartition,i)||(e.dataModel.titlePartition=i),_(i)}),l(),I(5,P1,1,0,"i",22)(6,k1,1,0,"i",23),a(7,"em"),d(8),l(),I(9,D1,5,3,"mat-error",24),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePartition==null?null:t.fieldsInfo.titlePartition.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePartition==null?null:t.fieldsInfo.titlePartition.fieldTitle),w("ngModel",t.dataModel.titlePartition),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function V1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",61),d(2,"TitlePartitionML"),l(),a(3,"input",62),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartitionML,i)||(e.dataModel.titlePartitionML=i),_(i)}),l()()}if(o&2){let n=u();r(3),w("ngModel",n.dataModel.titlePartitionML),p("disabled",!0)}}function L1(o,s){o&1&&S(0,"i",39)}function F1(o,s){o&1&&S(0,"i",40)}function O1(o,s){o&1&&(a(0,"mat-error"),d(1," TitlePartitionResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function B1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",63),d(2),l(),a(3,"input",64,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePartitionResourceLanguage,i)||(e.dataModel.titlePartitionResourceLanguage=i),_(i)}),l(),I(5,L1,1,0,"i",22)(6,F1,1,0,"i",23),a(7,"em"),d(8),l(),I(9,O1,5,3,"mat-error",24),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePartitionResourceLanguage==null?null:t.fieldsInfo.titlePartitionResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titlePartitionResourceLanguage),p("disabled",!(t.fieldsInfo.titlePartitionResourceLanguage!=null&&t.fieldsInfo.titlePartitionResourceLanguage.accessEditField)),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function H1(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function W1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",65),d(2),l(),a(3,"input",66,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",67),S(6,"i",68),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,p1))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function N1(o,s){if(o&1){let n=v();a(0,"div",19)(1,"label",69),d(2),l(),a(3,"div",70)(4,"div",71)(5,"input",72,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",73),S(8,"ngx-ntk-mat-color-toggle",74)(9,"ngx-ntk-mat-color-picker",75,13),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function G1(o,s){if(o&1&&(S(0,"img",76),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function U1(o,s){if(o&1){let n=v();a(0,"div",77)(1,"button",78),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",79),d(3),g(4,"translate"),l(),a(5,"button",80),S(6,"i",81),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var rl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new Vt,R,re),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyTypeLanduseService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.tokenHelper=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new Vt,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Ee=>{this.tokenInfo=Ee})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.setAccessLoad(),this.estatePropertyTypeLanduseService.setAccessDataType(Be.Editor),this.estatePropertyTypeLanduseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new Er;i.linkPropertyTypeUsageId=t.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new Er;i.linkPropertyTypeUsageId=t.id,i.linkPropertyTypeLanduseId=this.dataModel.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(ui),E($i),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-edit"]],viewQuery:function(i,e){if(i&1&&ie(d1,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:59,vars:56,consts:[["vform","ngForm"],["Title",""],["TitleML",""],["Description",""],["LinkMainImageId",""],["TitleResourceLanguage",""],["TitleCreatedYaer",""],["TitleCreatedYaerML",""],["TitleCreatedYaerResourceLanguage",""],["TitlePartition",""],["TitlePartitionResourceLanguage",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["type","text","name","dataModel.titleML","minlength","3","maxlength","100","required","","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.createdYearActive",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.createdYearActive","name","dataModel.createdYearActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.createdYearActive",1,"custom-control-label"],["for","dataModel.titleCreatedYaer",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaer","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleCreatedYaerML",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerML","id","dataModel.titleCreatedYaerML",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.titleCreatedYaerResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titleCreatedYaerResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleCreatedYaerResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.partitionActive",1,"font-600","font-14"],["type","checkbox","id","dataModel.partitionActive","name","dataModel.partitionActive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.partitionActive",1,"custom-control-label"],["for","dataModel.titlePartition",1,"color-highlight"],["type","text","name","dataModel.titlePartition","minlength","3","maxlength","100","required","","id","dataModel.titlePartition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePartitionML",1,"color-highlight"],["type","text","name","dataModel.titlePartitionML","id","dataModel.titlePartitionML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePartitionResourceLanguage",1,"color-highlight"],["type","text","name","dataModel.titlePartitionResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titlePartitionResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",14),S(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",18,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",19)(11,"label",20),d(12),l(),a(13,"input",21,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,m1,1,0,"i",22)(16,u1,1,0,"i",23),a(17,"em"),d(18),l(),I(19,f1,5,4,"mat-error",24),l(),a(20,"div",19)(21,"label",25),d(22,"TitleML"),l(),a(23,"input",26,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleML,c)||(e.dataModel.titleML=c),_(c)}),l()(),I(25,y1,10,8,"div",27)(26,C1,8,2,"div",28)(27,E1,10,7,"div",27)(28,v1,5,3,"div",27)(29,x1,10,8,"div",27)(30,A1,8,2,"div",28)(31,R1,10,7,"div",27)(32,V1,4,2,"div",27)(33,B1,10,8,"div",27),a(34,"div",19)(35,"label",29),d(36),l(),a(37,"textarea",30,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(39,"          "),l(),a(40,"em"),d(41),l(),I(42,H1,5,3,"mat-error",24),l(),I(43,W1,7,9,"div",27)(44,N1,11,10,"div",27),a(45,"div",31)(46,"a",32),g(47,"cmsthumbnail"),I(48,G1,2,3,"img",33),l()(),a(49,"div",19)(50,"label",34),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(51),g(52,"translate"),l(),a(53,"input",35,4),g(55,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(56,"cms-file-manager",36),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(57,"app-estate-property-type-usage-selectionlist",37),M("optionChange",function(c){return f(m),_(e.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return f(m),_(e.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return f(m),_(e.onActionSelectorUserCategorySelectRemoved(c))}),l(),I(58,U1,9,7,"div",38),l()()()}if(i&2){let m=D(14),h=D(38);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(54,c1,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(4),A("placeholder",e.fieldsInfo.titleML==null?null:e.fieldsInfo.titleML.fieldTitle),w("ngModel",e.dataModel.titleML),p("disabled",!0),r(2),p("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataModel.createdYearActive),r(),p("ngIf",e.dataModel.createdYearActive),r(),p("ngIf",(e.fieldsInfo.titleCreatedYaerResourceLanguage==null?null:e.fieldsInfo.titleCreatedYaerResourceLanguage.accessWatchField)&&e.dataModel.createdYearActive),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataModel.partitionActive),r(),p("ngIf",e.dataModel.partitionActive),r(),p("ngIf",(e.fieldsInfo.titlePartitionResourceLanguage==null?null:e.fieldsInfo.titlePartitionResourceLanguage.accessWatchField)&&e.dataModel.partitionActive),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(2),A("href",y(47,48,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(52,50,"TITLE.PICTURE")),r(2),A("placeholder",y(55,52,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("optionSelectForce",e.dataEstatePropertyTypeUsageIds)("optionDisabled",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,Pd,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function j1(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionAdd())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.ADD")))}function q1(o,s){if(o&1){let n=v();a(0,"button",14),M("click",function(){f(n);let i=u();return _(i.onActionEdit())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.EDIT")))}function Q1(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u();return _(i.onActionDelete())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.DELETE")))}function z1(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonReload())}),a(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),l()()}o&2&&(r(),A("title",y(2,1,"ACTION.RELOAD")))}function Y1(o,s){if(o&1){let n=v();a(0,"mat-tree-node",18),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),S(1,"button",19)(2,"i",20),d(3),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===n.id),r(2),_e("color",n.IconColor),p("ngClass",n.IconFont),r(),C(" ",n.title," ")}}function K1(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",21),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(3,"button",22),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(4,"mat-icon",23),d(5),l()(),S(6,"i",20),d(7),l(),a(8,"ul"),qe(9,24),l()()()}if(o&2){let n=s.$implicit,t=u();r(2),Me("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===n.id),r(),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),_e("color",n.IconColor),p("ngClass",n.IconFont),r(),C(" ",n.title," "),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var al=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cmsConfirmationDialogService=m,this.dialog=h,this.cdr=c,this.publicHelper=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Vt,this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(re=>null),this.dataSource=new xo,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(re,Ee)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Vt,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ol,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){let m=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(m);return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(ui),E(Ye),E(De),E(H),E(L),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),P(4,2),I(5,j1,3,3,"button",3)(6,q1,3,3,"button",4)(7,Q1,3,3,"button",5)(8,z1,4,3,"button",6),k(),P(9,7),S(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,Y1,4,10,"mat-tree-node",10)(13,K1,10,10,"mat-nested-tree-node",11),l(),k(),qe(14,12),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",y(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&e.dataModelSelect.id&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ce,N,ze,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U]});let o=s;return o})();function Z1(o,s){o&1&&S(0,"div",10)}var ll=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.headerService=t,this.publicHelper=i,this.cdr=e,this.cmsToastrService=m,this.translate=h,this.dialog=c,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(ui),E(L),E(H),E(V),E(O),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-header"]],inputs:{optionId:"optionId"},decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,Z1,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l()(),a(17,"div",9),d(18),l(),S(19,"div",10)(20,"div",11),l(),a(21,"div",4)(22,"div",5)(23,"b"),d(24),l()(),a(25,"div",9),d(26),l(),S(27,"div",10)(28,"div",11),l()()()(),S(29,"div",12)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,8,"TITLE.Property_Type_Selected")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[N,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var ra=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.headerService=t,this.publicHelper=i,this.cdr=e,this.tokenHelper=m,this.cmsToastrService=h,this.dialog=c,this.translate=R,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOneContent()}}))}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(sn),E(L),E(H),E(Y),E(V),E(De),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-header"]],inputs:{optionId:"optionId"},decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),S(12,"div",8),l(),a(13,"div",4)(14,"div",5),d(15),l(),a(16,"div",9),d(17),l(),S(18,"div",10)(19,"div",11),l(),a(20,"div",4)(21,"div",5),d(22),l(),a(23,"div",9),d(24),l(),S(25,"div",11),l()()()(),S(26,"div",12)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,7,"TITLE.Selected_Project")),r(5),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(5),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();function J1(o,s){o&1&&S(0,"div",10)}var sl=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.headerService=t,this.publicHelper=i,this.cdr=e,this.cmsToastrService=m,this.dialog=h,this.translate=c,this.tokenHelper=R,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(ln),E(L),E(H),E(V),E(De),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-header"]],inputs:{optionId:"optionId"},decls:30,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,J1,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l()(),a(17,"div",9),d(18),l(),S(19,"div",10)(20,"div",11),l(),a(21,"div",4)(22,"div",5)(23,"b"),d(24),l()(),a(25,"div",9),d(26),l(),S(27,"div",10)(28,"div",11),l()()()(),S(29,"div",12)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),C("",y(11,8,"TITLE.Selected_User_Type")," "),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[N,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();function X1(o,s){o&1&&S(0,"div",9)}var dl=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.headerService=t,this.publicHelper=i,this.cdr=e,this.cmsToastrService=m,this.translate=h,this.dialog=c,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(Ii),E(L),E(H),E(V),E(O),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-header"]],inputs:{optionId:"optionId"},decls:27,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width"],["class","td",4,"ngIf"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5"),d(9),g(10,"translate"),l()(),I(11,X1,1,0,"div",8),l(),a(12,"div",4)(13,"div",5),d(14),l(),a(15,"div",7),d(16),l(),S(17,"div",9)(18,"div",10),l(),a(19,"div",4)(20,"div",5),d(21),l(),a(22,"div",7),d(23),l(),S(24,"div",9)(25,"div",10),l()()()(),S(26,"div",11)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(3),b(y(10,8,"TITLE.The_type_of_contract_selected")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(3),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(5),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[N,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();function $1(o,s){o&1&&S(0,"div",10)}function ey(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonLinkTo())}),a(1,"mat-icon"),d(2,"\u2197 "),l()()}}var cl=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.headerService=t,this.publicHelper=i,this.cdr=e,this.cmsToastrService=m,this.dialog=h,this.translate=c,this.tokenHelper=R,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(t=this.dataModelResult.item){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(en,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.title,urlViewContentQRCodeBase64:t.urlViewContentQRCodeBase64,urlViewContent:t.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(Zo),E(L),E(H),E(V),E(De),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-billboard-header"]],inputs:{optionId:"optionId"},decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,$1,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l(),d(17,": "),l(),a(18,"div",9),d(19),l(),S(20,"div",10)(21,"div",11),l(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),l(),d(26," : "),l(),a(27,"div",9),d(28),l(),a(29,"div",12)(30,"abbr",13),I(31,ey,3,0,"button",14),l()(),S(32,"div",11),l()()()(),S(33,"div",15)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,9,"TITLE.Selected_Billboard")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id))},dependencies:[N,se,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();function ty(o,s){o&1&&S(0,"div",10)}function iy(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonLinkTo())}),a(1,"mat-icon"),d(2,"\u2197 "),l()()}}var Vr=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.headerService=t,this.publicHelper=i,this.cdr=e,this.translate=m,this.cmsToastrService=h,this.dialog=c,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(t=this.dataModelResult.item){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var i="";this.publicHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(en,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.title,urlViewContentQRCodeBase64:t.urlViewContentQRCodeBase64,urlViewContent:t.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(Xi),E(L),E(H),E(O),E(V),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-header"]],inputs:{optionId:"optionId"},decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,ty,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l(),d(17,": "),l(),a(18,"div",9),d(19),l(),S(20,"div",10)(21,"div",11),l(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),l(),d(26," : "),l(),a(27,"div",9),d(28),l(),a(29,"div",12)(30,"abbr",13),I(31,iy,3,0,"button",14),l()(),S(32,"div",11),l()()()(),S(33,"div",15)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,9,"TITLE.Selected_Customer")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id))},dependencies:[N,se,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var ny=()=>["expandedTitle"],oy=()=>["expandedDetail"],ry=()=>[5,10,20,100],Fd=o=>({display:o});function ay(o,s){if(o&1&&S(0,"app-estate-billboard-header",73),o&2){let n=u();p("optionId",n.requestLinkBillboardId)}}function ly(o,s){if(o&1&&S(0,"app-estate-contract-type-header",73),o&2){let n=u();p("optionId",n.requestLinkContractTypeId)}}function sy(o,s){if(o&1&&S(0,"app-estate-customer-order-header",73),o&2){let n=u();p("optionId",n.requestLinkCustomerOrderId)}}function dy(o,s){if(o&1&&S(0,"app-estate-property-type-landuse-header",73),o&2){let n=u();p("optionId",n.requestLinkPropertyTypeLanduseId)}}function cy(o,s){if(o&1&&S(0,"app-estate-property-type-usage-header",73),o&2){let n=u();p("optionId",n.requestLinkPropertyTypeUsageId)}}function py(o,s){if(o&1&&S(0,"app-estate-property-project-header",73),o&2){let n=u();p("optionId",n.requestLinkProjectId)}}function my(o,s){if(o&1){let n=v();a(0,"a",74),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),S(1,"i",75),l()}}function uy(o,s){if(o&1){let n=v();a(0,"div",29)(1,"a",76),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",77)(3,"br"),l(),a(4,"p",32),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function fy(o,s){if(o&1){let n=v();a(0,"div",29)(1,"a",78),M("click",function(){f(n);let i=u();return _(i.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",77)(3,"br"),l(),a(4,"p",32),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ActionSendSmsToCustomerOrder")))}function _y(o,s){if(o&1){let n=v();a(0,"div",29)(1,"a",30),M("click",function(i){f(n);let e=u();return _(e.onActionButtonAdsRow(e.tableRowSelected,i))}),S(2,"i",79)(3,"br"),l(),a(4,"p",32),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADS")))}function hy(o,s){if(o&1){let n=v();a(0,"div",29)(1,"a",80),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",81)(3,"br"),l(),a(4,"p",32),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function gy(o,s){if(o&1){let n=v();a(0,"div",29)(1,"a",82),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",83)(3,"br"),l(),a(4,"p",32),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function yy(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function Cy(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",84),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",85),l()()}}function Sy(o,s){o&1&&(a(0,"mat-header-cell",86),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function Iy(o,s){if(o&1&&(S(0,"img",88),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function My(o,s){if(o&1&&(a(0,"mat-cell"),I(1,Iy,2,3,"img",87),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function Ey(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function vy(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function by(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function wy(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function Ty(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function xy(o,s){if(o&1&&S(0,"select",91),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Fd,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ay(o,s){if(o&1&&(a(0,"mat-cell",89),g(1,"statusCellClass"),S(2,"i",89),g(3,"statusIconClass"),I(4,xy,1,5,"select",90),l()),o&2){let n=s.$implicit,t=u();p("ngClass",y(1,3,n.recordStatus)),r(2),p("ngClass",y(3,5,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Py(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function ky(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",89),g(2,"statusIconClass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.mainAdminRecordStatus))}}function Dy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.isSoldIt==null?null:n.fieldsInfo.isSoldIt.fieldTitle," ")}}function Ry(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",89),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.isSoldIt))}}function Vy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewConfigHiddenInList==null?null:n.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function Ly(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",89),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.viewConfigHiddenInList))}}function Fy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewCount==null?null:n.fieldsInfo.viewCount.fieldTitle," ")}}function Oy(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.viewCount," ")}}function By(o,s){o&1&&(a(0,"mat-header-cell",86),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Is_Special")," "))}function Hy(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",89),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),_e("color",n.adsActive?"#f7db25":"#ff0000"),p("ngClass",y(2,3,n.adsActive))}}function Wy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," ")}}function Ny(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.caseCode," ")}}function Gy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Uy(o,s){if(o&1&&(a(0,"mat-cell",92),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.createdDate)," ")}}function jy(o,s){if(o&1&&(a(0,"mat-header-cell",86),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function qy(o,s){if(o&1&&(a(0,"mat-cell",92),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.updatedDate)," ")}}function Qy(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function zy(o,s){if(o&1&&(a(0,"mat-cell",93)(1,"button",94)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function Yy(o,s){o&1&&(a(0,"mat-header-cell",86),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function Ky(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",95),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",96),d(3,"\u2197"),l()()()}}function Zy(o,s){o&1&&(a(0,"mat-header-cell",86),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.QUICK_VIEW")," "))}function Jy(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",95),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonQuickViewRow(i))}),a(2,"mat-icon",96),d(3,"visibility"),l()()()}}function Xy(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function $y(o,s){if(o&1&&(S(0,"img",101),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function eC(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u().$implicit;r(2),b(y(3,2,"TITLE.SquareMeters")),r(3),C(" ",n.area," ")}}function tC(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u().$implicit;r(2),b(y(3,2,"TITLE.CreatedYaer")),r(3),C(" ",n.createdYaer," ")}}function iC(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,$y,2,3,"img",97),l(),a(6,"th"),d(7),a(8,"span",98),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(9,"i",99),l()()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),I(14,eC,6,4,"tr",100)(15,tC,6,4,"tr",100),a(16,"tr"),S(17,"td"),a(18,"td"),d(19),l()(),a(20,"tr"),S(21,"td"),a(22,"td"),d(23),l()(),a(24,"tr")(25,"td"),d(26),g(27,"translate"),l(),a(28,"td"),d(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),d(33),g(34,"cmsuserinfo"),g(35,"async"),l()(),a(36,"tr"),S(37,"td")(38,"td"),l()()()()}if(o&2){let n=s.$implicit;r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),C(" ",n.id," "),r(),p("cdkCopyToClipboard",n.id),r(5),C(" ",n.title," "),r(),p("ngIf",n.area&&n.area>0),r(),p("ngIf",n.createdYaer&&n.createdYaer>0),r(4),C(" ",n.linkLocationIdParentTitle," "),r(4),C(" ",n.linkLocationIdTitle," "),r(3),C("",y(27,11,"TITLE.Address"),":"),r(3),C(" ",n.address," "),r(4),C(" ",y(35,15,y(34,13,n.createdBy))," ")}}function nC(o,s){o&1&&S(0,"mat-header-row")}function oC(o,s){if(o&1){let n=v();a(0,"mat-row",102),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function rC(o,s){if(o&1){let n=v();a(0,"mat-row",102),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function aC(o,s){if(o&1){let n=v();a(0,"mat-row",103),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Fd,n.expanded===!0?"":"none"))}}function lC(o,s){if(o&1){let n=v();a(0,"div",68)(1,"button",104),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",105),d(3),g(4,"translate"),l()()}o&2&&(r(3),C(" ",y(4,1,"ACTION.CANCEL")," "))}var Rn=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt){if(super(e,new Gi,Ze,R,re),this.data=t,this.dialogRef=i,this.contentService=e,this.activatedRoute=m,this.cmsToastrService=h,this.cmsConfirmationDialogService=c,this.tokenHelper=R,this.router=B,this.cdr=q,this.translate=re,this.pageInfo=Ee,this.publicHelper=Ze,this.dialog=Yt,this.requestSearchTitle="",this.requestSearchCustomerTel="",this.requestSearchCaseCode="",this.requestLinkPropertyTypeLanduseId="",this.requestLinkPropertyTypeUsageId="",this.requestLinkContractTypeId="",this.requestLinkBillboardId="",this.requestLinkCustomerOrderId="",this.requestLinkProjectId="",this.requestLinkUserId=0,this.requestInChecking=!1,this.constructorInfoAreaId=this.constructor.name,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.flag=!1,this.tablePropertySelected=[],this.searchInChecking=!1,this.searchInCheckingChecked=!1,this.filteModelContent=new pe,this.formInfo=new me,this.optionsSearch=new ja,this.optionsStatist=new qa,this.tokenInfo=new Pt,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","MainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","LinkSiteId","AdsActive","ViewCount","CaseCode","CreatedDate","UpdatedDate","LinkTo","QuickView","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IsSoldIt","CaseCode","LinkTo","QuickView","action_menu"],this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr,t&&(t.searchTitle&&(this.requestSearchTitle=t.searchTitle+""),t.searchCustomerTel&&(this.requestSearchCustomerTel=t.searchCustomerTel+""),t.searchCaseCode&&(this.requestSearchCaseCode=t.searchCaseCode+"")),this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInChecking=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Ve=new G;Ve.propertyName="LinkPropertyTypeLanduseId",Ve.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Ve=new G;Ve.propertyName="LinkPropertyTypeUsageId",Ve.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Ve=new G;Ve.propertyName="Contracts",Ve.propertyAnyName="LinkEstateContractTypeId",Ve.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Ve=new G;Ve.propertyName="linkCmsUserId",Ve.value=this.requestLinkUserId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Ve=new G;Ve.propertyName="linkPropertyProjectId",Ve.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Ve)}if(this.requestSearchTitle&&this.requestSearchTitle.length>0){let Ve=new G;Ve.propertyName="Title",Ve.value=this.requestSearchTitle,Ve.searchType=Ne.Contains,this.filteModelContent.filters.push(Ve)}if(this.requestSearchCaseCode&&this.requestSearchCaseCode.length>0){let Ve=new G;Ve.propertyName="caseCode",Ve.value=this.requestSearchCaseCode,this.filteModelContent.filters.push(Ve)}if(this.requestSearchCustomerTel&&this.requestSearchCustomerTel.length>0){let Ve=new G,Wt=new G;Wt.propertyName="aboutCustomerTel",Wt.value=this.requestSearchCustomerTel,Wt.searchType=Ne.Contains,Wt.clauseType=He.Or,Ve.filters.push(Wt);let Br=new G;Br.propertyName="aboutCustomerMobile",Br.value=this.requestSearchCustomerTel,Br.searchType=Ne.Contains,Br.clauseType=He.Or,Ve.filters.push(Br),this.filteModelContent.filters.push(Ve)}}set optionLinkCustomerOrderId(t){t&&t.length>0&&(this.requestLinkCustomerOrderId=t)}set optionLinkBillboardId(t){t&&t.length>0&&(this.requestLinkBillboardId=t)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}})}ngAfterViewInit(){this.searchInChecking&&(this.searchInCheckingChecked=!0)}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new Gi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=this.categoryModelSelected.id,i.filters.push(e)}if(this.searchInChecking){let e=new G;e.propertyName="RecordStatus",e.value=Ge.Available,e.searchType=Ne.NotEqual,i.filters.push(e);let m=new G;m.propertyName="RecordStatus",m.value=Ge.DeniedConfirmed,m.searchType=Ne.NotEqual,i.filters.push(m)}this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0?this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorGetAll(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}}):this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0?this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorGetAll(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}}):this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorGetAll(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(t=this.categoryModelSelected.id),t&&t.length>0?this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",t]):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonAdsRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;i.set("Active",0),i.set("All",0),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:h=>{h.isSuccess?(i.set("All",h.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(h.errorMessage)},error:h=>{this.cmsToastrService.typeError(h)}});let e=JSON.parse(JSON.stringify(this.filteModelContent)),m=new G;m.propertyName="RecordStatus",m.value=Ge.Available,e.filters.push(m),this.contentService.ServiceGetCount(e).subscribe({next:h=>{h.isSuccess?(i.set("Active",h.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(h.errorMessage)},error:h=>{this.cmsToastrService.typeError(h)}})}onActionButtonActionSendSmsToCustomerOrder(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.ServiceActionSendSmsToCustomerOrder(t.id).subscribe({next:e=>{e.isSuccess?this.cmsToastrService.typeSuccessMessage(e.errorMessage):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.requestLinkUserId=t.linkCmsUserId,this.requestLinkUserId&&this.requestLinkUserId>0){let i=new G;i.propertyName="linkCmsUserId",i.value=this.requestLinkUserId,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(t){this.searchInChecking=t,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(mi),E(Ht),E(V),E(Ye),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-quick-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkBillboardId:"optionLinkBillboardId"},features:[le],decls:134,vars:58,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[3,"click","checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","MainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","CaseCode"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","btn-outline-danger","BTN-text","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["mat-menu-item","","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){if(i&1){let m=v();a(0,"div",3),S(1,"app-progress-spinner",4),a(2,"div",5),d(3),l(),a(4,"div",6),S(5,"app-progress-spinner",4),I(6,ay,1,1,"app-estate-billboard-header",7)(7,ly,1,1,"app-estate-contract-type-header",7)(8,sy,1,1,"app-estate-customer-order-header",7)(9,dy,1,1,"app-estate-property-type-landuse-header",7)(10,cy,1,1,"app-estate-property-type-usage-header",7)(11,py,1,1,"app-estate-property-project-header",7),a(12,"app-cms-html-list",8),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(13,9),a(14,"app-estate-property-type-landuse-tree",10),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(15,11)(16,12),P(17,13),I(18,my,2,0,"a",14),a(19,"a",15),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(20,"i",16),l(),a(21,"a",15),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(22,"i",17),l(),a(23,"a",18),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(24,"i",19),l(),a(25,"a",18),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(26,"i",20),l(),k(),P(27,21),a(28,"a",22)(29,"mat-slide-toggle",23),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),l(),d(30),g(31,"translate"),l(),a(32,"a",22)(33,"mat-slide-toggle",24),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(34),g(35,"translate"),l(),a(36,"a",22)(37,"mat-slide-toggle",25),M("click",function(){return f(m),_(e.onActionButtonInChecking(!e.searchInChecking))}),l(),d(38),g(39,"translate"),l(),k(),P(40,26),I(41,uy,7,3,"div",27)(42,fy,7,3,"div",27),k(),P(43,28),I(44,_y,7,3,"div",27)(45,hy,7,3,"div",27)(46,gy,7,3,"div",27),a(47,"div",29)(48,"a",30),M("click",function(c){return f(m),_(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),S(49,"i",31)(50,"br"),l(),a(51,"p",32),d(52),g(53,"translate"),l()(),a(54,"div",29)(55,"a",15),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(56,"i",33)(57,"br"),l(),a(58,"p",32),d(59),g(60,"translate"),l()(),k(),P(61,34),a(62,"app-cms-search-list",35),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(63,"app-cms-statist-list",35),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(64,36),a(65,"mat-table",37,0),M("matSortChange",function(){f(m);let c=D(66);return _(e.onTableSortData(c))}),P(67,38),I(68,yy,3,3,"mat-header-cell",39)(69,Cy,3,0,"mat-cell",40),k(),P(70,41),I(71,Sy,3,3,"mat-header-cell",42)(72,My,2,1,"mat-cell",40),k(),P(73,43),I(74,Ey,2,1,"mat-header-cell",42)(75,vy,2,1,"mat-cell",40),k(),P(76,44),I(77,by,2,1,"mat-header-cell",42)(78,wy,4,5,"mat-cell",40),k(),P(79,45),I(80,Ty,2,1,"mat-header-cell",42)(81,Ay,5,7,"mat-cell",46),k(),P(82,47),I(83,Py,2,1,"mat-header-cell",42)(84,ky,3,3,"mat-cell",40),k(),P(85,48),I(86,Dy,2,1,"mat-header-cell",42)(87,Ry,3,3,"mat-cell",40),k(),P(88,49),I(89,Vy,2,1,"mat-header-cell",42)(90,Ly,3,3,"mat-cell",40),k(),P(91,50),I(92,Fy,2,1,"mat-header-cell",42)(93,Oy,2,1,"mat-cell",40),k(),P(94,51),I(95,By,3,3,"mat-header-cell",42)(96,Hy,3,5,"mat-cell",40),k(),P(97,52),I(98,Wy,2,1,"mat-header-cell",42)(99,Ny,2,1,"mat-cell",40),k(),P(100,53),I(101,Gy,2,1,"mat-header-cell",42)(102,Uy,2,1,"mat-cell",54),k(),P(103,55),I(104,jy,2,1,"mat-header-cell",42)(105,qy,2,1,"mat-cell",54),k(),P(106,56),I(107,Qy,3,3,"mat-header-cell",39)(108,zy,6,1,"mat-cell",57),k(),P(109,58),I(110,Yy,3,3,"mat-header-cell",42)(111,Ky,4,0,"mat-cell",40),k(),P(112,59),I(113,Zy,3,3,"mat-header-cell",42)(114,Jy,4,0,"mat-cell",40),k(),P(115,60),I(116,Xy,2,1,"mat-cell",40),k(),P(117,61),I(118,iC,39,17,"mat-cell",40),k(),I(119,nC,1,0,"mat-header-row",62)(120,oC,1,6,"mat-row",63)(121,rC,1,6,"mat-row",63)(122,aC,1,9,"mat-row",64),l(),k(),P(123,65),a(124,"mat-paginator",66,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()(),a(126,"div",67)(127,"div",68)(128,"small",69),d(129),l(),a(130,"small",70),d(131),l()()(),a(132,"div",71),I(133,lC,5,3,"div",72),l()()}i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(2),C(" ",e.formInfo.formTitle," "),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.requestLinkBillboardId==null?null:e.requestLinkBillboardId.length)>0),r(),p("ngIf",(e.requestLinkContractTypeId==null?null:e.requestLinkContractTypeId.length)>0),r(),p("ngIf",(e.requestLinkCustomerOrderId==null?null:e.requestLinkCustomerOrderId.length)>0),r(),p("ngIf",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0),r(),p("ngIf",(e.requestLinkPropertyTypeUsageId==null?null:e.requestLinkPropertyTypeUsageId.length)>0),r(),p("ngIf",(e.requestLinkProjectId==null?null:e.requestLinkProjectId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),p("ngIf",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0),r(11),w("ngModel",e.optionsSearch.data.show),r(),C("",y(31,45,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(35,47,"ACTION.STATIST")," "),r(3),p("checked",e.searchInCheckingChecked),r(),C(" ",y(39,49,"ACTION.INCHECKING")," "),r(3),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&e.optionloadByRoute),r(),p("ngIf",e.tokenHelper.isAdminSite&&e.optionloadByRoute&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(53,51,"ACTION.HISTORY")),r(7),b(y(60,53,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(54),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(55,ny)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(56,oy)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(57,ry)),r(5),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,dd,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,j,Ct,mn,al,ll,ra,sl,dl,cl,Vr,Ue,U,Mi,An,Se,ri,ir,er],encapsulation:2});let o=s;return o})();var Od=["*","*"];function sC(o,s){if(o&1&&(a(0,"mat-option",8)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function dC(o,s){if(o&1){let n=v();a(0,"mat-icon",9),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),d(1,"close"),l()}}function cC(o,s){if(o&1){let n=v();a(0,"mat-form-field",3),S(1,"input",4),a(2,"mat-autocomplete",5,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(4,sC,3,3,"mat-option",6),g(5,"async"),l(),I(6,dC,2,0,"mat-icon",7),oi(7),l()}if(o&2){let n=D(3),t=u();r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n),ht("disabled",t.optionDisabled?!0:null),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(5,7,t.filteredOptions)),r(2),p("ngIf",t.dataModelSelect==null?null:t.dataModelSelect.id)}}function pC(o,s){if(o&1){let n=v();a(0,"div",12)(1,"a",13),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function mC(o,s){if(o&1&&(a(0,"div",10),I(1,pC,3,3,"div",11),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var di=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.tokenHelper=c,this.categoryService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Vt,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionTypeView=1,this.optionAllowUnSelect=!1,this.typeUsageId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){t&&(typeof t=="string"&&t.length>0||typeof t==typeof Vt)&&this.onActionSelectForce(t)}set optionTypeUsageId(t){this.typeUsageId=t,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G,m=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,m.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,m.filters.push(e),i.filters.push(m)),this.typeUsageId&&this.typeUsageId.length>0&&(e=new G,e.propertyName="PropertyTypes",e.propertyAnyName="LinkPropertyTypeUsageId",e.value=this.typeUsageId,e.searchType=Ne.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),c.listItems))})}onActionSelect(t){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==t.id&&this.onActionSelectClear(),this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if((!t||typeof t=="string"&&t.length===0)&&(this.dataModelSelect=new Vt),typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Vt){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Vt,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(Y),E(ui))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Od,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","ntk-full-width",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(Od),I(0,cC,8,9,"mat-form-field",1)(1,mC,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,Ot,$t,Xt,ei,Bt,Oe,se,$,Ue],encapsulation:2});let o=s;return o})();var Bd=["*","*"];function uC(o,s){if(o&1&&(a(0,"mat-option",8)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function fC(o,s){if(o&1){let n=v();a(0,"mat-icon",9),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),d(1,"close"),l()}}function _C(o,s){if(o&1){let n=v();a(0,"mat-form-field",3),S(1,"input",4),a(2,"mat-autocomplete",5,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(4,uC,3,3,"mat-option",6),g(5,"async"),l(),I(6,fC,2,0,"mat-icon",7),oi(7),l()}if(o&2){let n=D(3),t=u();r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n),ht("disabled",t.optionDisabled?!0:null),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(5,7,t.filteredOptions)),r(2),p("ngIf",t.dataModelSelect==null?null:t.dataModelSelect.id)}}function hC(o,s){if(o&1){let n=v();a(0,"div",12)(1,"a",13),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function gC(o,s){if(o&1&&(a(0,"div",10),I(1,hC,3,3,"div",11),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var Ki=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.tokenHelper=c,this.categoryService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new gn,this.formControl=new gt,this.optionTypeView=1,this.optionAllowUnSelect=!1,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){t&&(typeof t=="string"&&t.length>0||typeof t==typeof gn)&&this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;if(i.rowPerPage=20,i.accessLoad=!0,typeof t=="string"&&t.length>0){let m=new G;m.propertyName="Name",m.value=t,m.searchType=Ne.Contains,i.filters.push(m),m=new G,m.propertyName="Id",m.value=t,m.searchType=Ne.Equal,m.clauseType=He.Or,i.filters.push(m)}let e=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(e),m.listItems))})}onActionSelect(t){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==t.id&&this.onActionSelectClear(),this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.patchValue(""),this.optionChange.emit(null),this.cdr.detectChanges())}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if((!t||typeof t=="string"&&t.length===0)&&(this.dataModelSelect=new gn),typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof gn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new gn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(Y),E(ln))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-selector"]],inputs:{optionTypeView:"optionTypeView",optionAllowUnSelect:"optionAllowUnSelect",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Bd,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","ntk-full-width",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(Bd),I(0,_C,8,9,"mat-form-field",1)(1,gC,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,Ot,$t,Xt,ei,Bt,Oe,se,$,Ue],encapsulation:2});let o=s;return o})();var Hd=["*","*"];function yC(o,s){if(o&1&&(a(0,"mat-option",8)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function CC(o,s){if(o&1){let n=v();a(0,"mat-icon",9),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),d(1,"close"),l()}}function SC(o,s){if(o&1){let n=v();a(0,"mat-form-field",3),S(1,"input",4),a(2,"mat-autocomplete",5,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(4,yC,3,3,"mat-option",6),g(5,"async"),l(),I(6,CC,2,0,"mat-icon",7),oi(7),l()}if(o&2){let n=D(3),t=u();r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n),ht("disabled",t.optionDisabled?!0:null),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(5,7,t.filteredOptions)),r(2),p("ngIf",t.dataModelSelect==null?null:t.dataModelSelect.id)}}function IC(o,s){if(o&1){let n=v();a(0,"div",12)(1,"a",13),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function MC(o,s){if(o&1&&(a(0,"div",10),I(1,IC,3,3,"div",11),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var Zi=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.tokenHelper=e,this.translate=m,this.cdr=h,this.publicHelper=c,this.categoryService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Vn,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionAllowUnSelect=!1,this.optionTypeView=1,this.typeUsageId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){t&&(typeof t=="string"&&t.length>0||typeof t==typeof Vn)&&this.onActionSelectForce(t)}set optionTypeUsageId(t){this.typeUsageId=t,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G,m=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,m.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,m.filters.push(e),i.filters.push(m)),this.typeUsageId&&this.typeUsageId.length>0&&(e=new G,e.propertyName="PropertyTypes",e.propertyAnyName="LinkPropertyTypeUsageId",e.value=this.typeUsageId,e.searchType=Ne.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),c.listItems))})}onActionSelect(t){this.optionDisabled||(this.optionAllowUnSelect&&this.dataModelSelect&&this.dataModelSelect.id==t.id&&this.onActionSelectClear(),this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if((!t||typeof t=="string"&&t.length===0)&&(this.dataModelSelect=new Vn),typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Vn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Vn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(Y),E(O),E(H),E(L),E(Ii))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionAllowUnSelect:"optionAllowUnSelect",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Hd,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","ntk-full-width",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(Hd),I(0,SC,8,9,"mat-form-field",1)(1,MC,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,Ot,$t,Xt,ei,Bt,Oe,se,$,Ue],encapsulation:2});let o=s;return o})();var EC=["vform"],vC=o=>({direction:o}),bC=()=>["descriptionDetail"];function wC(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Property_Type"),""))}function TC(o,s){if(o&1){let n=v();a(0,"div",41)(1,"a",42),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelectorSelectLanduse(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),r(),b(n.titleML)}}function xC(o,s){if(o&1&&(a(0,"div",39),I(1,TC,3,3,"div",40),l()),o&2){let n=u();r(),p("ngForOf",n.listTypeLanduse)}}function AC(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-landuse-selector",43),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseId!=null&&n.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",n.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(1,5,"TITLE.Property_Type"))("optionTypeUsageId",n.dataModel.linkPropertyTypeUsageId)}}function PC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(3);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function kC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",55),d(2),l(),a(3,"input",56,3),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,PC,5,4,"mat-error",24),l()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),w("ngModel",t.dataModel.title),r(3),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function DC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(3);r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function RC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",57),d(2),l(),a(3,"input",58,4),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.caseCode,i)||(e.dataModel.caseCode=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,DC,5,4,"mat-error",24),l()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),r(),A("disabled",!(t.fieldsInfo.caseCode!=null&&t.fieldsInfo.caseCode.accessAddField)),A("placeholder",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),w("ngModel",t.dataModel.caseCode),r(3),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function VC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",59),d(2),l(),a(3,"input",60,5),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.createdYaer,i)||(e.dataModel.createdYaer=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titleCreatedYaer),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),w("ngModel",n.dataModel.createdYaer)}}function LC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",61),d(2),l(),a(3,"input",62,6),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.partition,i)||(e.dataModel.partition=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titlePartition),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),w("ngModel",n.dataModel.partition)}}function FC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",63),d(2),l(),a(3,"input",64,7),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.area,i)||(e.dataModel.area=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),r(),A("disabled",!(n.fieldsInfo.area!=null&&n.fieldsInfo.area.accessAddField)),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.dataModel.area)}}function OC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",65),d(2),l(),a(3,"textarea",66,8),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.address,i)||(e.dataModel.address=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),r(),A("placeholder",t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),w("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),r(3),C("",n.value.length," / 500")}}function BC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function HC(o,s){if(o&1){let n=v();a(0,"div"),d(1," close "),I(2,kC,8,6,"div",29)(3,RC,8,6,"div",29),a(4,"div",44)(5,"div",45)(6,"h5",46),d(7),l()(),a(8,"div",47)(9,"div",48)(10,"input",49),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewConfigHiddenInList,i)||(e.dataModel.viewConfigHiddenInList=i),_(i)}),l(),S(11,"label",50),l()()(),I(12,VC,5,3,"div",29)(13,LC,5,3,"div",29)(14,FC,5,4,"div",29),a(15,"app-cms-location-selector",51),g(16,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l(),I(17,OC,7,5,"div",29),a(18,"div",52)(19,"label",53),d(20),g(21,"translate"),l(),a(22,"textarea",54,2),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),_(i)}),l(),a(24,"em"),d(25),l(),I(26,BC,5,4,"mat-error",24),l()()}if(o&2){let n=D(23),t=u();r(2),p("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),r(),p("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),r(4),C(" ",t.fieldsInfo.viewConfigHiddenInList==null?null:t.fieldsInfo.viewConfigHiddenInList.fieldTitle,""),r(3),w("ngModel",t.dataModel.viewConfigHiddenInList),r(2),p("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.PropertyTypeSelected.titleCreatedYaer.length>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"),r(),p("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.PropertyTypeSelected.titlePartition.length>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"),r(),p("ngIf",t.fieldsInfo.area==null?null:t.fieldsInfo.area.accessWatchField),r(),p("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",y(16,17,"TITLE.Region")),r(2),p("ngIf",t.fieldsInfo.address==null?null:t.fieldsInfo.address.accessWatchField),r(3),b(y(21,19,"TITLE.General_Description")),r(2),A("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),w("ngModel",t.dataModel.description),r(3),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function WC(o,s){if(o&1&&(a(0,"button",70),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function NC(o,s){if(o&1){let n=v();a(0,"div",67)(1,"button",68),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),I(4,WC,3,4,"button",69),l()}if(o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function GC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(3);r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function UC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",78),d(2),l(),a(3,"input",79,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.linkSiteId,i)||(e.dataModel.linkSiteId=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,GC,5,4,"mat-error",24),l()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.linkSiteId==null?null:t.fieldsInfo.linkSiteId.fieldTitle),r(),A("disabled",!(t.fieldsInfo.linkSiteId!=null&&t.fieldsInfo.linkSiteId.accessAddField)),A("placeholder",t.fieldsInfo.linkSiteId==null?null:t.fieldsInfo.linkSiteId.fieldTitle),w("ngModel",t.dataModel.linkSiteId),r(3),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function jC(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",80),x("modelChange",function(i){f(n);let e=u(2);return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u(2);w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qC(o,s){if(o&1&&(a(0,"button",70),d(1),g(2,"translate"),l()),o&2){u(3);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function QC(o,s){if(o&1&&(a(0,"div",67)(1,"button",81),d(2),g(3,"translate"),l(),I(4,qC,3,4,"button",69),l()),o&2){let n=u(2);r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function zC(o,s){if(o&1){let n=v();a(0,"mat-step",22),g(1,"translate"),I(2,UC,8,6,"div",29),a(3,"div",44)(4,"div",45)(5,"h5",71),d(6),l()(),a(7,"div",47)(8,"div",48)(9,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewContentHidden,i)||(e.dataModel.viewContentHidden=i),_(i)}),l(),S(10,"label",73),l()()(),a(11,"div",44)(12,"div",45)(13,"h5",74),d(14),l()(),a(15,"div",47)(16,"div",48)(17,"input",75),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.siteAdminViewContentHidden,i)||(e.dataModel.siteAdminViewContentHidden=i),_(i)}),l(),S(18,"label",76),l()()(),I(19,jC,1,5,"app-cms-enum-record-status-selector",77)(20,QC,5,4,"div",27),l()}if(o&2){let n=u();A("label",y(1,8,"TITLE.Admin_Config")),r(2),p("ngIf",(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.accessWatchField)&&n.tokenHelper.isAdminSite),r(4),C(" ",n.fieldsInfo.viewContentHidden==null?null:n.fieldsInfo.viewContentHidden.fieldTitle,""),r(3),w("ngModel",n.dataModel.viewContentHidden),r(5),C(" ",n.fieldsInfo.siteAdminViewContentHidden==null?null:n.fieldsInfo.siteAdminViewContentHidden.fieldTitle,""),r(3),w("ngModel",n.dataModel.siteAdminViewContentHidden),r(2),p("ngIf",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",n.formInfo.formSubmitAllow)}}function YC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",82),d(2),l(),a(3,"input",83,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerMobile,i)||(e.dataModel.aboutCustomerMobile=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),r(),A("disabled",!(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessAddField)),A("placeholder",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),w("ngModel",t.dataModel.aboutCustomerMobile),r(3),C("",n.value.length," / 100")}}function KC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",84),d(2),l(),a(3,"input",85,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerTel,i)||(e.dataModel.aboutCustomerTel=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),r(),A("disabled",!(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessAddField)),A("placeholder",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),w("ngModel",t.dataModel.aboutCustomerTel),r(3),C("",n.value.length," / 100")}}function ZC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function JC(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",86),d(2),g(3,"translate"),l(),a(4,"textarea",87,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l(),I(8,ZC,5,4,"mat-error",24),l()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function XC(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function $C(o,s){if(o&1){let n=v();a(0,"div",52)(1,"label",88),d(2),g(3,"translate"),l(),a(4,"textarea",89,13),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.addressHidden,i)||(e.dataModel.addressHidden=i),_(i)}),l(),a(6,"em"),d(7),l(),I(8,XC,5,4,"mat-error",24),l()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Address_Hidden")),r(2),A("placeholder",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.fieldTitle),w("ngModel",t.dataModel.addressHidden),r(3),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function eS(o,s){if(o&1&&(a(0,"button",70),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function tS(o,s){if(o&1&&(a(0,"div",67)(1,"button",81),d(2),g(3,"translate"),l(),I(4,eS,3,4,"button",69),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function iS(o,s){if(o&1){let n=v();a(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",101),d(4),g(5,"translate"),l()(),a(6,"div",47)(7,"div",48)(8,"input",102),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.salePriceByAgreement,i)||(e.contractDataModel.salePriceByAgreement=i),_(i)}),l(),S(9,"label",103),l()()()()}if(o&2){let n=u(4);r(4),C(" ",y(5,2,"TITLE.Agreement"),""),r(4),w("ngModel",n.contractDataModel.salePriceByAgreement)}}function nS(o,s){if(o&1){let n=v();a(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",97),d(4),l(),a(5,"input",98),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.salePrice,i)||(e.contractDataModel.salePrice=i),_(i)}),l(),a(6,"label"),d(7),l()()(),I(8,iS,10,4,"div",99),l()}if(o&2){let n=u(3);r(4),b(n.contractTypeSelected.titleSalePriceML),r(),w("ngModel",n.contractDataModel.salePrice),p("disabled",n.contractDataModel.salePriceByAgreement),r(2),fe(" (",n.dataModelCorCurrencySelector.titleML," ",n.dataModelCorCurrencySelector.symbol," ) "),r(),p("ngIf",n.contractTypeSelected.salePriceAllowAgreement)}}function oS(o,s){if(o&1){let n=v();a(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",106),d(4),g(5,"translate"),l()(),a(6,"div",47)(7,"div",48)(8,"input",107),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.depositPriceByAgreement,i)||(e.contractDataModel.depositPriceByAgreement=i),_(i)}),l(),S(9,"label",108),l()()()()}if(o&2){let n=u(4);r(4),C(" ",y(5,2,"TITLE.Agreement"),""),r(4),w("ngModel",n.contractDataModel.depositPriceByAgreement)}}function rS(o,s){if(o&1){let n=v();a(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",104),d(4),l(),a(5,"input",105),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.depositPrice,i)||(e.contractDataModel.depositPrice=i),_(i)}),l(),a(6,"label"),d(7),l()()(),I(8,oS,10,4,"div",99),l()}if(o&2){let n=u(3);r(4),b(n.contractTypeSelected.titleDepositPriceML),r(),w("ngModel",n.contractDataModel.depositPrice),p("disabled",n.contractDataModel.depositPriceByAgreement),r(2),fe(" (",n.dataModelCorCurrencySelector.titleML," ",n.dataModelCorCurrencySelector.symbol," ) "),r(),p("ngIf",n.contractTypeSelected.depositPriceAllowAgreement)}}function aS(o,s){if(o&1){let n=v();a(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",111),d(4),g(5,"translate"),l()(),a(6,"div",47)(7,"div",48)(8,"input",112),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.rentPriceByAgreement,i)||(e.contractDataModel.rentPriceByAgreement=i),_(i)}),l(),S(9,"label",113),l()()()()}if(o&2){let n=u(4);r(4),C(" ",y(5,2,"TITLE.Agreement"),""),r(4),w("ngModel",n.contractDataModel.rentPriceByAgreement)}}function lS(o,s){if(o&1){let n=v();a(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",109),d(4),l(),a(5,"input",110),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.rentPrice,i)||(e.contractDataModel.rentPrice=i),_(i)}),l(),a(6,"label"),d(7),l()()(),I(8,aS,10,4,"div",99),l()}if(o&2){let n=u(3);r(4),b(n.contractTypeSelected.titleRentPriceML),r(),w("ngModel",n.contractDataModel.rentPrice),p("disabled",n.contractDataModel.rentPriceByAgreement),r(2),fe(" (",n.dataModelCorCurrencySelector.titleML," ",n.dataModelCorCurrencySelector.symbol," ) "),r(),p("ngIf",n.contractTypeSelected.rentPriceAllowAgreement)}}function sS(o,s){if(o&1){let n=v();a(0,"div",100)(1,"div",44)(2,"div",45)(3,"h5",116),d(4),g(5,"translate"),l()(),a(6,"div",47)(7,"div",48)(8,"input",117),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.periodPriceByAgreement,i)||(e.contractDataModel.periodPriceByAgreement=i),_(i)}),l(),S(9,"label",118),l()()()()}if(o&2){let n=u(4);r(4),C(" ",y(5,2,"TITLE.Agreement"),""),r(4),w("ngModel",n.contractDataModel.periodPriceByAgreement)}}function dS(o,s){if(o&1){let n=v();a(0,"div",95)(1,"div",96)(2,"div",52)(3,"label",114),d(4),l(),a(5,"input",115),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.periodPrice,i)||(e.contractDataModel.periodPrice=i),_(i)}),l(),a(6,"label"),d(7),l()()(),I(8,sS,10,4,"div",99),l()}if(o&2){let n=u(3);r(4),b(n.contractTypeSelected.titlePeriodPriceML),r(),w("ngModel",n.contractDataModel.periodPrice),p("disabled",n.contractDataModel.periodPriceByAgreement),r(2),fe(" (",n.dataModelCorCurrencySelector.titleML," ",n.dataModelCorCurrencySelector.symbol," ) "),r(),p("ngIf",n.contractTypeSelected.hasPeriodPrice&&n.contractTypeSelected.periodPriceAllowAgreement)}}function cS(o,s){if(o&1){let n=v();a(0,"div"),I(1,nS,9,6,"div",92)(2,rS,9,6,"div",92)(3,lS,9,6,"div",92)(4,dS,9,6,"div",92),S(5,"hr"),a(6,"div",52)(7,"label",93),d(8),l(),a(9,"textarea",94,14),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.contractDataModel.description,i)||(e.contractDataModel.description=i),_(i)}),l(),a(11,"em"),d(12),l()()()}if(o&2){let n=D(10),t=u(2);r(),p("ngIf",t.contractTypeSelected.hasSalePrice),r(),p("ngIf",t.contractTypeSelected.hasDepositPrice),r(),p("ngIf",t.contractTypeSelected.hasRentPrice),r(),p("ngIf",t.contractTypeSelected.hasPeriodPrice),r(4),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),w("ngModel",t.contractDataModel.description),r(3),C("",n.value.length," / 500")}}function pS(o,s){if(o&1){let n=v();a(0,"div",90),S(1,"br")(2,"br"),a(3,"app-cms-currency-selector",91),g(4,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),I(5,cS,13,8,"div",24),S(6,"br")(7,"br"),l()}if(o&2){let n=u();r(3),p("optionSelectFirstItem",n.currencyOptionSelectFirstItem)("optionSelectForce",n.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",y(4,4,"TITLE.Specify_the_transaction_currency")),r(2),p("ngIf",n.contractDataModel.linkCoreCurrencyId>0)}}function mS(o,s){if(o&1){let n=v();a(0,"button",119),M("click",function(){f(n);let i=u();return _(i.onActionOptionAddToList())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.Add_To_List")," ... "))}function uS(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Contract")," "))}function fS(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u(2);r(),C(" ",zt(2,1,n.linkEstateContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function _S(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.SalePrice")," "))}function hS(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.salePrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function gS(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function yS(o,s){if(o&1&&(a(0,"mat-cell"),I(1,hS,5,5,"ng-container",24)(2,gS,3,3,"ng-container",24),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.salePrice>0),r(),p("ngIf",n.salePriceByAgreement)}}function CS(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.DepositPrice")," "))}function SS(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.depositPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function IS(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function MS(o,s){if(o&1&&(a(0,"mat-cell"),I(1,SS,5,5,"ng-container",24)(2,IS,3,3,"ng-container",24),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.depositPrice>0),r(),p("ngIf",n.depositPriceByAgreement)}}function ES(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.RentPrice")," "))}function vS(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.rentPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function bS(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function wS(o,s){if(o&1&&(a(0,"mat-cell"),I(1,vS,5,5,"ng-container",24)(2,bS,3,3,"ng-container",24),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.rentPrice>0),r(),p("ngIf",n.rentPriceByAgreement)}}function TS(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PeriodPrice")," "))}function xS(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.periodPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function AS(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function PS(o,s){if(o&1&&(a(0,"mat-cell"),I(1,xS,5,5,"ng-container",24)(2,AS,3,3,"ng-container",24),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.periodPrice>0),r(),p("ngIf",n.periodPriceByAgreement)}}function kS(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function DS(o,s){if(o&1){let n=v();a(0,"mat-cell",135)(1,"button",136),M("click",function(){let i=f(n).index,e=u(2);return _(e.onActionOptionRemoveFromList(i))}),a(2,"small")(3,"mat-icon",137),g(4,"translate"),d(5,"delete"),l()()()()}o&2&&(r(3),A("matTooltip",y(4,1,"ACTION.DELETE")))}function RS(o,s){if(o&1&&(P(0),d(1),k()),o&2){let n=u().$implicit;r(),C(" ",n.description," ")}}function VS(o,s){if(o&1&&(a(0,"mat-cell",138),d(1),g(2,"translate"),I(3,RS,2,1,"ng-container",24),l()),o&2){let n=s.$implicit;r(),C(" ",y(2,2,"TITLE.DESCRIPTION")," : "),r(2),p("ngIf",n.description)}}function LS(o,s){o&1&&S(0,"mat-header-row")}function FS(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function OS(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function BS(o,s){if(o&1&&(a(0,"div",120)(1,"mat-table",121),P(2,122),I(3,uS,3,3,"mat-header-cell",123)(4,fS,3,4,"mat-cell",124),k(),P(5,125),I(6,_S,3,3,"mat-header-cell",123)(7,yS,3,2,"mat-cell",124),k(),P(8,126),I(9,CS,3,3,"mat-header-cell",123)(10,MS,3,2,"mat-cell",124),k(),P(11,127),I(12,ES,3,3,"mat-header-cell",123)(13,wS,3,2,"mat-cell",124),k(),P(14,128),I(15,TS,3,3,"mat-header-cell",123)(16,PS,3,2,"mat-cell",124),k(),P(17,129),I(18,kS,3,3,"mat-header-cell",123)(19,DS,6,3,"mat-cell",130),k(),P(20,131),I(21,VS,4,4,"mat-cell",132),k(),I(22,LS,1,0,"mat-header-row",133)(23,FS,1,4,"mat-row",134)(24,OS,1,4,"mat-row",134),l()()),o&2){let n=u();r(),p("dataSource",n.optionTabledataSource),r(21),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",Ce(4,bC))}}function HS(o,s){if(o&1&&(a(0,"button",140),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function WS(o,s){if(o&1&&(a(0,"div",67)(1,"button",81),d(2),g(3,"translate"),l(),I(4,HS,3,4,"button",139),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.contracts&&n.dataModel.contracts.length>0)}}function NS(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function GS(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function US(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function jS(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Wd=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt){super(c,new Er,q,Yt),this.dialogRef=t,this.coreEnumService=i,this.estateContractTypeService=e,this.estatePropertyService=m,this.estatePropertyDetailGroupService=h,this.estatePropertyTypeService=c,this.estatePropertyTypeLanduseService=R,this.cmsToastrService=B,this.publicHelper=q,this.cdr=re,this.dialog=Ee,this.tokenHelper=Ze,this.translate=Yt,this.constructorInfoAreaId=this.constructor.name,this.currencyOptionSelectFirstItem=!0,this.fieldsInfo=new Map,this.enumInputDataType=Li,this.tokenInfo=new Pt,this.appLanguage="fa",this.formMatcher=new Wr,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModelEstatePropertyTypeResult=new Q,this.dataModelEstatePropertyTypeLanduseResult=new Q,this.dataModel=new Gi,this.formInfo=new me,this.dataModelCorCurrencySelector=new Vi,this.PropertyTypeSelected=new Vt,this.contractDataModel=new Yn,this.optionActionTitle="",this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"],this.propertyDetails=new Map,this.step=0,this.listTypeLanduse=[],this.hidden=!0,this.publicHelper.processService.cdr=this.cdr,this.tokenHelper.getTokenInfoState().then(Ve=>{this.tokenInfo=Ve})}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Submit_New_Content"),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List"),this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEstateContractType(){let t=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}getEstatePropertyType(){let t=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}getEstatePropertyTypeLanduse(){let t=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModel.propertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?this.dataModel.propertyDetailGroups=h.listItems:this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}DataAdd(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.dialogRef.close({dialogChangedDate:!0}),1e3)):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===t.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(e=>{e.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(e)})}))}onActionSelectorSelectLanduse(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id,this.DataGetPropertyDetailGroup(t.id)}onActionSelectorCmsUser(t){if(!t||!t.id||t.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=t.id}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){let i=this.translate.instant("MESSAGE.information_area_is_not_clear");this.cmsToastrService.typeWarningSelected(i),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorProject(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=t.id}onActionSelectorCompany(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=t.id}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorContractType(t){if(this.contractTypeSelected=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(i);return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=t,this.contractDataModel=new Yn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(t=>{t.propertyDetails.forEach(i=>{let e=new mo;e.linkPropertyDetailId=i.id,e.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(e)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){let t=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(t),this.formInfo.formSubmitAllow=!0;return}this.DataAdd()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionOptionAddToList(t=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){let e=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");t&&this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Sales_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Rent_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Period_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Deposit_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Yn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(t){t<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[t],this.dataModel.contracts.splice(t,1),this.contractDataModel=new Yn,this.optionTabledataSource.data=this.dataModel.contracts)}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Usage")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Landuse")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&t.previouslySelectedStep.state=="contract"&&t.previouslySelectedIndex<t.selectedIndex&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_transaction_type")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10))}onActionBackToParent(){this.dialogRef.close({dialogChangedDate:!1})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}onActionSelectCurrency(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.contractDataModel.linkCoreCurrencyId=t.id}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(Te),E(ee),E(Ii),E(mi),E(pi),E($i),E(ui),E(V),E(L),E(H),E(De),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-quick-add"]],viewQuery:function(i,e){if(i&1&&ie(EC,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:52,vars:52,consts:[["vform","ngForm"],["stepper",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg","ngStyle"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","main",3,"label",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.description","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.linkSiteId",1,"color-highlight"],["matInput","","name","dataModel.linkSiteId","type","text","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerMobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.aboutCustomerTel",1,"input-Mobile",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","1","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","contractDataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","name","contractDataModel.salePrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["class","col-3",4,"ngIf"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceByAgreement","name","contractDataModel.salePriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.salePriceByAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","name","contractDataModel.depositPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","name","contractDataModel.rentPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceAllowAgreement","name","contractDataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","name","contractDataModel.periodPrice","type","text","currencyMask","","placeholder","0","id","contractDataModel.periodPriceByAgreement",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",15),a(1,"div",16),S(2,"app-progress-spinner",17),a(3,"div",18)(4,"p",19),d(5," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",20,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"mat-vertical-stepper",21,1),M("selectionChange",function(c){f(m);let R=D(12);return _(e.onStepClick(c,R))}),a(13,"mat-step",22),g(14,"translate"),a(15,"app-estate-property-type-usage-selector",23),g(16,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectUsage(c))}),l(),I(17,wC,3,3,"p",24)(18,xC,2,1,"div",25)(19,AC,2,7,"app-estate-property-type-landuse-selector",26),S(20,"br")(21,"br"),I(22,HC,27,21,"div",24)(23,NC,5,4,"div",27),l(),I(24,zC,21,10,"mat-step",28),a(25,"mat-step",22),g(26,"translate"),I(27,YC,7,5,"div",29)(28,KC,7,5,"div",29)(29,JC,9,7,"div",29)(30,$C,9,7,"div",29)(31,tS,5,4,"div",27),l(),a(32,"mat-step",30),g(33,"translate"),a(34,"p"),d(35),g(36,"translate"),l(),a(37,"app-estate-contract-type-selector",31),g(38,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorContractType(c))}),l(),I(39,pS,8,6,"div",32)(40,mS,3,3,"button",33),S(41,"hr"),a(42,"p"),d(43),g(44,"translate"),l(),S(45,"app-progress-spinner",17),I(46,BS,25,5,"div",34)(47,WS,5,4,"div",27),l(),I(48,NS,2,0,"ng-template",35)(49,GS,2,0,"ng-template",36)(50,US,2,0,"ng-template",37)(51,jS,2,0,"ng-template",38),l()()()()}i&2&&(p("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg")("ngStyle",Je(50,vC,e.tokenInfo.direction)),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",y(8,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(14,36,"TITLE.REQUIRED_INFORMATION")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(16,38,"TITLE.Type_Usage")),r(2),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0&&e.listTypeLanduse&&e.listTypeLanduse.length>0),r(),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0&&e.listTypeLanduse&&e.listTypeLanduse.length>0),r(),p("ngIf",(!e.listTypeLanduse||e.listTypeLanduse.length===0)&&e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0),r(3),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&e.dataModel.linkPropertyTypeLanduseId.length>0),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),A("label",y(26,40,"TITLE.SECRET_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.accessWatchField),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(33,42,"TITLE.Transaction")),r(3),b(y(36,44,"TITLE.Specify_the_type_of_transaction_for_this_property")),r(2),p("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",y(38,46,"TITLE.Type_Of_Transaction"))("optionSelectForce",e.contractDataModel.linkEstateContractTypeId),r(2),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(3),C(" ",y(44,48,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ce,We,N,mt,Ae,te,Rt,Ft,z,ve,be,ke,we,X,xe,ze,Re,se,$,ji,qi,cn,pn,Ui,tt,nt,lt,ot,it,st,rt,at,dt,ct,tr,vi,bi,Nt,j,to,Oi,so,di,Ki,Zi,lo,U,Cn]});let o=s;return o})();var Nd=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.headerService=t,this.publicHelper=i,this.cdr=e,this.tokenHelper=m,this.cmsToastrService=h,this.dialog=c,this.translate=R,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId.length>0&&(this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOneContent()}}))}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(dn),E(L),E(H),E(Y),E(V),E(De),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-header"]],inputs:{optionId:"optionId"},decls:27,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),S(12,"div",8),l(),a(13,"div",4)(14,"div",5),d(15),l(),a(16,"div",9),d(17),l(),S(18,"div",10)(19,"div",11),l(),a(20,"div",4)(21,"div",5),d(22),l(),a(23,"div",9),d(24),l(),S(25,"div",11),l()()()(),S(26,"div",12)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,7,"TITLE.Selected_Company")),r(5),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(5),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," : "),r(2),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var QS=()=>["expandedTitle"],zS=()=>["expandedDetail"],YS=()=>[5,10,20,100],Gd=o=>({display:o}),KS=o=>({background:o});function ZS(o,s){if(o&1&&S(0,"app-estate-billboard-header",91),o&2){let n=u();p("optionId",n.requestLinkBillboardId)}}function JS(o,s){if(o&1&&S(0,"app-estate-contract-type-header",91),o&2){let n=u();p("optionId",n.requestLinkContractTypeId)}}function XS(o,s){if(o&1&&S(0,"app-estate-customer-order-header",91),o&2){let n=u();p("optionId",n.requestLinkCustomerOrderId)}}function $S(o,s){if(o&1&&S(0,"app-estate-property-type-landuse-header",91),o&2){let n=u();p("optionId",n.requestLinkPropertyTypeLanduseId)}}function eI(o,s){if(o&1&&S(0,"app-estate-property-type-usage-header",91),o&2){let n=u();p("optionId",n.requestLinkPropertyTypeUsageId)}}function tI(o,s){if(o&1&&S(0,"app-estate-property-project-header",91),o&2){let n=u();p("optionId",n.requestLinkProjectId)}}function iI(o,s){if(o&1&&S(0,"app-estate-property-company-header",91),o&2){let n=u();p("optionId",n.requestLinkCompanyId)}}function nI(o,s){if(o&1){let n=v();a(0,"a",92),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),S(1,"i",93),l()}}function oI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",94),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",95)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function rI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",96),M("click",function(i){f(n);let e=u();return _(e.onActionButtonQuickAddRow(i))}),S(2,"i",95)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.QUICK_ADD")))}function aI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",97),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",98)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function lI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",99),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",100)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function sI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",23),M("click",function(){f(n);let i=u();return _(i.onActionButtonActionSendSmsToCustomerOrder())}),S(2,"i",101)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ActionSendSmsToCustomerOrder")))}function dI(o,s){if(o&1){let n=v();a(0,"div",38)(1,"a",23),M("click",function(i){f(n);let e=u();return _(e.onActionButtonAdsRow(e.tableRowSelected,i))}),S(2,"i",102)(3,"br"),l(),a(4,"p",40),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADS")))}function cI(o,s){if(o&1&&(P(0),a(1,"button",43),d(2),g(3,"translate"),l(),k()),o&2){let n=u();r(),A("routerLink","/core/site/edit/"+(n.tableRowSelected==null?null:n.tableRowSelected.linkSiteId)),r(),C(" ",y(3,2,"ACTION.VIEW_SITE")," ")}}function pI(o,s){if(o&1){let n=v();a(0,"mat-icon",103),M("click",function(){f(n);let i=u();return _(i.filteModelContent.caseCode="")}),d(1," close"),l()}}function mI(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",105),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.filteModelContent.linkResponsibleUserId=i==null?null:i.id)}),l()}o&2&&p("optionPlaceholder",y(1,1,"TITLE.InResponsibleTo"))}function uI(o,s){if(o&1){let n=v();a(0,"mat-icon",114),M("click",function(){f(n);let i=u(2);return _(i.filteModelContent.linkPropertyTypeUsageId=null)}),d(1," close "),l()}}function fI(o,s){if(o&1){let n=v();a(0,"mat-icon",114),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectorSelectLanduse(null))}),d(1," close "),l()}}function _I(o,s){if(o&1){let n=v();a(0,"mat-icon",114),M("click",function(){f(n);let i=u(2);return _(i.filteModelContent.linkContractTypeId=null)}),d(1," close "),l()}}function hI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",116),d(2),l(),a(3,"input",117,3),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.createdYaer,i)||(e.filteModelContent.createdYaer=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titleCreatedYaer),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),w("ngModel",n.filteModelContent.createdYaer)}}function gI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",118),d(2),l(),a(3,"input",119,4),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.partition,i)||(e.filteModelContent.partition=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titlePartition),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),w("ngModel",n.filteModelContent.partition)}}function yI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",120),d(2),l(),a(3,"input",121,5),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.area,i)||(e.filteModelContent.area=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),r(),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.filteModelContent.area),r(3),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldDescription)}}function CI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",122),d(2),g(3,"translate"),l(),a(4,"input",123,6),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.salePriceMin,i)||(e.filteModelContent.salePriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.SalePriceMin")),r(2),w("ngModel",n.filteModelContent.salePriceMin)}}function SI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",124),d(2),g(3,"translate"),l(),a(4,"input",125,7),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.rentPriceMin,i)||(e.filteModelContent.rentPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.RentPriceMin")),r(2),w("ngModel",n.filteModelContent.rentPriceMin)}}function II(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",126),d(2),g(3,"translate"),l(),a(4,"input",127,8),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.depositPriceMin,i)||(e.filteModelContent.depositPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.DepositPriceMin")),r(2),w("ngModel",n.filteModelContent.depositPriceMin)}}function MI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",128),d(2),g(3,"translate"),l(),a(4,"input",129,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.periodPriceMin,i)||(e.filteModelContent.periodPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.PeriodPriceMin")),r(2),w("ngModel",n.filteModelContent.periodPriceMin)}}function EI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",130),d(2),g(3,"translate"),l(),a(4,"input",131,10),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.salePriceMax,i)||(e.filteModelContent.salePriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.SalePriceMax")),r(2),w("ngModel",n.filteModelContent.salePriceMax)}}function vI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",132),d(2),g(3,"translate"),l(),a(4,"input",133,11),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.rentPriceMax,i)||(e.filteModelContent.rentPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.RentPriceMax")," "),r(2),w("ngModel",n.filteModelContent.rentPriceMax)}}function bI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",134),d(2),g(3,"translate"),l(),a(4,"input",135,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.depositPriceMax,i)||(e.filteModelContent.depositPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.DepositPriceMax")),r(2),w("ngModel",n.filteModelContent.depositPriceMax)}}function wI(o,s){if(o&1){let n=v();a(0,"div",115)(1,"label",136),d(2),g(3,"translate"),l(),a(4,"input",137,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.periodPriceMax,i)||(e.filteModelContent.periodPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.PeriodPriceMax")),r(2),w("ngModel",n.filteModelContent.periodPriceMax)}}function TI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-string",147),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function xI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-int",148),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function AI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-boolean",149),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),r(),C("",n.title," ")}}function PI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-float",148),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function kI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",150),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)}}function DI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-textarea",148),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function RI(o,s){if(o&1){let n=v();a(0,"div",48),S(1,"i",146),d(2,"\xA0 "),a(3,"app-input-string",147),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function VI(o,s){if(o&1&&(P(0)(1,143),I(2,TI,4,12,"div",144)(3,xI,4,9,"div",144)(4,AI,5,5,"div",144)(5,PI,4,9,"div",144)(6,kI,6,9,"div",144)(7,DI,4,9,"div",144)(8,RI,4,12,"div",145),k()()),o&2){let n=s.$implicit,t=u(3);r(),p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function LI(o,s){if(o&1){let n=v();a(0,"button",151),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.PREVIOUS")))}function FI(o,s){if(o&1){let n=v();a(0,"button",152),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.NEXT")))}function OI(o,s){if(o&1){let n=v();a(0,"button",152),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.END")))}function BI(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",138),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon",139),d(7),l()()(),I(8,VI,9,7,"ng-container",140),a(9,"mat-action-row"),I(10,LI,3,3,"button",141)(11,FI,3,3,"button",142)(12,OI,3,3,"button",142),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),C(" ",n.title," "),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModelPropertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModelPropertyDetailGroups.length)}}function HI(o,s){if(o&1){let n=v();a(0,"div")(1,"P"),d(2),g(3,"translate"),l(),I(4,mI,2,3,"app-cms-user-selector",104),a(5,"app-cms-location-autocomplete",105),g(6,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l(),S(7,"hr"),a(8,"app-estate-property-type-usage-selector",106),g(9,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),I(10,uI,2,0,"mat-icon",107),l(),S(11,"br")(12,"br")(13,"br"),a(14,"app-estate-property-type-landuse-selector",106),g(15,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),I(16,fI,2,0,"mat-icon",107),l(),S(17,"br")(18,"br")(19,"br"),a(20,"app-estate-contract-type-selector",106),g(21,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),I(22,_I,2,0,"mat-icon",107),l(),S(23,"br")(24,"br")(25,"br"),I(26,hI,5,3,"div",108)(27,gI,5,3,"div",108)(28,yI,7,4,"div",108),S(29,"hr"),a(30,"app-cms-currency-selector",109),g(31,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),a(32,"div",110)(33,"div",111),I(34,CI,6,4,"div",108)(35,SI,6,4,"div",108)(36,II,6,4,"div",108)(37,MI,6,4,"div",108),l(),a(38,"div",111),I(39,EI,6,4,"div",108)(40,vI,6,4,"div",108)(41,bI,6,4,"div",108)(42,wI,6,4,"div",108),l(),a(43,"mat-accordion",112),I(44,BI,13,8,"mat-expansion-panel",113),S(45,"br"),l()()()}if(o&2){let n=u();r(2),C("",y(3,27,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),r(2),p("ngIf",n.tokenHelper.isAdminSite),r(),p("optionPlaceholder",y(6,29,"TITLE.Region")),r(3),p("optionTypeView",2)("optionPlaceholder",y(9,31,"TITLE.Type_Usage")),r(2),p("ngIf",n.filteModelContent.linkPropertyTypeUsageId&&(n.filteModelContent.linkPropertyTypeUsageId==null?null:n.filteModelContent.linkPropertyTypeUsageId.length)>0),r(4),p("optionTypeView",2)("optionPlaceholder",y(15,33,"TITLE.Property_Type")),r(2),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.filteModelContent.linkPropertyTypeLanduseId==null?null:n.filteModelContent.linkPropertyTypeLanduseId.length)>0),r(4),p("optionTypeView",2)("optionPlaceholder",y(21,35,"TITLE.Transaction_type")),r(2),p("ngIf",n.filteModelContent.linkContractTypeId&&(n.filteModelContent.linkContractTypeId==null?null:n.filteModelContent.linkContractTypeId.length)>0),r(4),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titleCreatedYaer==null?null:n.PropertyTypeSelected.titleCreatedYaer.length)>1),r(),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titlePartition==null?null:n.PropertyTypeSelected.titlePartition.length)>1),r(),p("ngIf",n.fieldsInfo.area==null?null:n.fieldsInfo.area.accessWatchField),r(2),p("optionSelectFirstItem",!1)("optionSelectForce",n.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",y(31,37,"TITLE.Specify_the_transaction_currency")),r(4),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(2),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(2),p("ngForOf",n.dataModelPropertyDetailGroups)}}function WI(o,s){o&1&&S(0,"mat-header-row")}function NI(o,s){if(o&1){let n=v();a(0,"mat-row",153),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function GI(o,s){if(o&1){let n=v();a(0,"mat-row",153),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function UI(o,s){if(o&1){let n=v();a(0,"mat-row",154),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Gd,n.expanded===!0?"":"none"))}}function jI(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function qI(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",155),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",156),l()()}}function QI(o,s){o&1&&(a(0,"mat-header-cell",157),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function zI(o,s){if(o&1&&(S(0,"img",159),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("ngSrc",y(1,1,n.linkMainImageIdSrc))}}function YI(o,s){if(o&1&&(a(0,"mat-cell"),I(1,zI,2,3,"img",158),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function KI(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ZI(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function JI(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function XI(o,s){if(o&1&&(a(0,"mat-cell",160),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function $I(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function eM(o,s){if(o&1&&S(0,"select",163),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Gd,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function tM(o,s){if(o&1&&(a(0,"mat-cell",161),g(1,"statusCellClass"),S(2,"i",161),g(3,"statusIconClass"),I(4,eM,1,5,"select",162),l()),o&2){let n=s.$implicit,t=u();p("ngClass",y(1,3,n.recordStatus)),r(2),p("ngClass",y(3,5,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function iM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function nM(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",161),g(2,"statusIconClass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.mainAdminRecordStatus))}}function oM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.isSoldIt==null?null:n.fieldsInfo.isSoldIt.fieldTitle," ")}}function rM(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",161),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.isSoldIt))}}function aM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewConfigHiddenInList==null?null:n.fieldsInfo.viewConfigHiddenInList.fieldTitle," ")}}function lM(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",161),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.viewConfigHiddenInList))}}function sM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewCount==null?null:n.fieldsInfo.viewCount.fieldTitle," ")}}function dM(o,s){if(o&1&&(a(0,"mat-cell",160),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.viewCount," ")}}function cM(o,s){o&1&&(a(0,"mat-header-cell",157),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Is_Special")," "))}function pM(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",161),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.adsActive))}}function mM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," ")}}function uM(o,s){if(o&1&&(a(0,"mat-cell",164),d(1),l()),o&2){let n=s.$implicit;p("ngStyle",Je(3,KS,n.ActiveDataStyle)),r(),fe(" ",n.caseCode," ",n.ActiveDataText,"")}}function fM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scoreEstateLocation==null?null:n.fieldsInfo.scoreEstateLocation.fieldTitle," ")}}function _M(o,s){if(o&1&&(a(0,"mat-cell",161),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scoreEstateLocation),r(),C(" ",n.scoreEstateLocation," ")}}function hM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scoreEstateBuild==null?null:n.fieldsInfo.scoreEstateBuild.fieldTitle," ")}}function gM(o,s){if(o&1&&(a(0,"mat-cell",161),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scoreEstateBuild),r(),C(" ",n.scoreEstateBuild," ")}}function yM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scoreEstatePrice==null?null:n.fieldsInfo.scoreEstatePrice.fieldTitle," ")}}function CM(o,s){if(o&1&&(a(0,"mat-cell",161),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scoreEstatePrice),r(),C(" ",n.scoreEstatePrice," ")}}function SM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function IM(o,s){if(o&1&&(a(0,"mat-cell",165),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.createdDate)," ")}}function MM(o,s){if(o&1&&(a(0,"mat-header-cell",157),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function EM(o,s){if(o&1&&(a(0,"mat-cell",165),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.updatedDate)," ")}}function vM(o,s){o&1&&(a(0,"mat-header-cell",166),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function bM(o,s){if(o&1&&(a(0,"mat-cell",167)(1,"button",168)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,14),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function wM(o,s){o&1&&(a(0,"mat-header-cell",157),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function TM(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",169),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",170),d(3,"\u2197"),l()()()}}function xM(o,s){o&1&&(a(0,"mat-header-cell",157),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.QUICK_VIEW")," "))}function AM(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",169),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonQuickViewRow(i))}),a(2,"mat-icon",170),d(3,"visibility"),l()()()}}function PM(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function kM(o,s){if(o&1&&(S(0,"img",174),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("ngSrc",y(1,1,n.linkMainImageIdSrc))}}function DM(o,s){if(o&1&&(a(0,"tr")(1,"td",160),d(2),g(3,"translate"),l(),a(4,"td",160),d(5),l()()),o&2){let n=u().$implicit;r(2),b(y(3,2,"TITLE.SquareMeters")),r(3),C(" ",n.area," ")}}function RM(o,s){if(o&1&&(a(0,"tr")(1,"td",160),d(2),g(3,"translate"),l(),a(4,"td",160),d(5),l()()),o&2){let n=u().$implicit;r(2),b(y(3,2,"TITLE.CreatedYaer")),r(3),C(" ",n.createdYaer," ")}}function VM(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,kM,2,3,"img",171),l(),a(6,"th",160)(7,"span",172),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",173),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td",160),d(13),l()(),a(14,"tr")(15,"td"),d(16),l(),a(17,"td",160),d(18),l()(),I(19,DM,6,4,"tr",45)(20,RM,6,4,"tr",45),a(21,"tr"),S(22,"td"),a(23,"td",160),d(24),l()(),a(25,"tr"),S(26,"td"),a(27,"td",160),d(28),l()(),a(29,"tr")(30,"td",160),d(31,"\u0622\u062F\u0631\u0633 :"),l(),a(32,"td",160),d(33),l()(),a(34,"tr"),S(35,"td"),a(36,"td",160),d(37),g(38,"cmsuserinfo"),g(39,"async"),l()(),a(40,"tr")(41,"td",160),d(42,"\u062A\u0627\u0631\u06CC\u062E\u0686\u0647 :"),l(),a(43,"td",160),d(44),l()(),a(45,"tr"),S(46,"td")(47,"td"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),C(" ",n.title," "),r(3),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),r(2),C(" ",n.caseCode," "),r(),p("ngIf",n.area&&n.area>0),r(),p("ngIf",n.createdYaer&&n.createdYaer>0),r(4),C(" ",n.linkLocationIdParentTitle," "),r(4),C(" ",n.linkLocationIdTitle," "),r(5),C(" ",n.address," "),r(4),C(" ",y(39,15,y(38,13,n.createdBy))," "),r(7),C(" ",n.historyTotalCount," ")}}var hi=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt){if(super(t,new Gi,m,B,Ze),this.contentService=t,this.configService=i,this.activatedRoute=e,this.publicHelper=m,this.cmsToastrService=h,this.cmsConfirmationDialogService=c,this.estatePropertyDetailGroupService=R,this.tokenHelper=B,this.router=q,this.cdr=re,this.dialog=Ee,this.translate=Ze,this.pageInfo=Yt,this.requestLinkPropertyTypeLanduseId="",this.requestLinkPropertyTypeUsageId="",this.requestLinkContractTypeId="",this.requestLinkBillboardId="",this.requestLinkCustomerOrderId="",this.requestLinkCustomerOrderIdHaveHistory="",this.requestLinkProjectId="",this.requestLinkCompanyId="",this.requestLinkEstateUserId="",this.requestLinkEstateAgencyId="",this.requestLinkUserId=0,this.requestInChecking=!1,this.requestAction="",this.constructorInfoAreaId=this.constructor.name,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.optionsortType=ae.Descending,this.responsibleUserId=0,this.flag=!1,this.tablePropertySelected=[],this.searchInChecking=!1,this.searchInCheckingChecked=!1,this.searchInResponsible=!1,this.searchInResponsibleChecked=!1,this.filteModelContent=new Ho,this.dataModelPropertyDetailGroups=[],this.dataConfigSiteValuesModel=new rd,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","MainAdminRecordStatus","IsSoldIt","ViewConfigHiddenInList","LinkSiteId","AdsActive","ViewCount","caseCode","scoreEstateLocation","scoreEstateBuild","scoreEstatePrice","CreatedDate","UpdatedDate","LinkTo","QuickView","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IsSoldIt","caseCode","LinkTo","QuickView","action_menu"],this.propertyDetails=new Map,this.enumInputDataType=Li,this.step=0,this.actionbuttonExportOn=!1,this.PropertyTypeSelected=new Vt,this.dataModelCorCurrencySelector=new Vi,this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkContractTypeId=this.activatedRoute.snapshot.paramMap.get("LinkContractTypeId"),this.requestLinkBillboardId=this.activatedRoute.snapshot.paramMap.get("LinkBillboardId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId"),this.requestLinkEstateUserId=this.activatedRoute.snapshot.paramMap.get("LinkEstateUserId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.requestLinkUserId=+this.activatedRoute.snapshot.paramMap.get("LinkUserId")|0,this.requestAction=this.activatedRoute.snapshot.paramMap.get("Action"),this.activatedRoute.snapshot.paramMap.get("InChecking")&&(this.searchInChecking=this.activatedRoute.snapshot.paramMap.get("InChecking")==="true"),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ge[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=ae.Descending,this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0){let Ve=new G;Ve.propertyName="LinkPropertyTypeLanduseId",Ve.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0){let Ve=new G;Ve.propertyName="LinkPropertyTypeUsageId",Ve.value=this.requestLinkPropertyTypeUsageId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkContractTypeId&&this.requestLinkContractTypeId.length>0){let Ve=new G;Ve.propertyName="Contracts",Ve.propertyAnyName="LinkEstateContractTypeId",Ve.value=this.requestLinkContractTypeId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkUserId&&this.requestLinkUserId>0){let Ve=new G;Ve.propertyName="linkCmsUserId",Ve.value=this.requestLinkUserId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Ve=new G;Ve.propertyName="linkPropertyProjectId",Ve.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0){let Ve=new G;Ve.propertyName="linkPropertyCompanyId",Ve.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkEstateUserId&&this.requestLinkEstateUserId.length>0){let Ve=new G;Ve.propertyName="linkEstateUserId",Ve.value=this.requestLinkEstateUserId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let Ve=new G;Ve.propertyName="linkEstateAgencyId",Ve.value=this.requestLinkEstateAgencyId,this.filteModelContent.filters.push(Ve)}}set optionLinkCustomerOrderId(t){t&&t.length>0&&(this.requestLinkCustomerOrderId=t)}set optionLinkCustomerOrderIdHaveHistory(t){t&&t.length>0&&(this.requestLinkCustomerOrderIdHaveHistory=t)}set optionLinkBillboardId(t){t&&t.length>0&&(this.requestLinkBillboardId=t)}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.GetServiceSiteConfig(this.tokenHelper.tokenInfo.siteId),this.DataGetAll(),this.tokenHelper.CheckIsAdmin(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))}),this.tokenInfo.direction,this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.GetServiceSiteConfig(this.tokenHelper.tokenInfo.siteId),this.DataGetAll(),this.tokenHelper.CheckIsAdmin(),!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateLocation"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstateBuild"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreEstatePrice"))}})}ngAfterViewInit(){this.searchInChecking&&(this.searchInCheckingChecked=!0)}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}GetServiceSiteConfig(t){let i=this.constructor.name+"ServiceSiteConfig";this.translate.get("MESSAGE.get_module_setting").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.configService.ServiceSiteConfig(t).subscribe({next:e=>{e.isSuccess?(this.dataConfigSiteValuesModel=e.item,this.RowStyleActiveData()):this.cmsToastrService.typeErrorGetOne(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeErrorGetOne(e),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){if(this.publicHelper.themeService.onActionScrollTopList(!0,1e4),this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;var t=0;this.searchInResponsible?t=this.tokenInfo.userId:this.responsibleUserId>0&&(t=this.responsibleUserId),this.optionsortType&&(this.filteModelContent.sortType=this.optionsortType),this.tableRowsSelected=[],this.onActionTableRowSelect(new Gi);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(h=>{this.publicHelper.processService.processStart(i,h,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let e=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0){let h=new G;h.propertyName="LinkPropertyTypeLanduseId",h.value=this.categoryModelSelected.id,e.filters.push(h)}if(this.searchInChecking){let h=new G;h.propertyName="RecordStatus",h.value=Ge.Pending,e.filters.push(h)}if(t>0)this.contentService.ServiceGetAllWithResponsibleUserId(t,e).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}});else if(this.requestLinkBillboardId&&this.requestLinkBillboardId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverBillboardId(this.requestLinkBillboardId,e).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderId(this.requestLinkCustomerOrderId,e).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else if(this.requestLinkCustomerOrderIdHaveHistory&&this.requestLinkCustomerOrderIdHaveHistory.length>0)this.actionbuttonExportOn=!1,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAllWithCoverCustomerOrderIdHaveHistory(this.requestLinkCustomerOrderIdHaveHistory,e).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i)}});else{var m=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(h=>{h.propertyDetails.forEach(c=>{let R=new mo;R.linkPropertyDetailId=c.id,R.value=this.propertyDetails[c.id],m.push(R)})}),e.propertyDetailValues=m,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(e).subscribe({next:h=>{this.actionbuttonExportOn=!0,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.RowStyleActiveData(),this.tableSource.data=h.listItems,this.requestAction?.length>0&&this.requestAction==="quick-add"&&(this.requestAction="",this.onActionButtonQuickAddRow()),this.optionsSearch.data.show&&this.optionsStatist.data.show&&(this.optionsStatist.data.show=!this.optionsStatist.data.show,this.onActionButtonStatist()),this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorGetAll(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}})}}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModelPropertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:h=>{h.isSuccess?(this.dataModelPropertyDetailGroups=h.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(c=>{c.propertyDetails.forEach(R=>{this.propertyDetails[R.id]=0})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.filteModelContent.sortColumn=="AdsActive"&&(this.filteModelContent.sortColumn="AdsExpireDate"),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.categoryModelSelected==null&&this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length===0&&(this.requestLinkPropertyTypeLanduseId==null||this.requestLinkPropertyTypeLanduseId.length===0)){this.translate.get("MESSAGE.Content_not_selected").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkPropertyTypeLanduseId;this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),i&&i.length>0?t?.ctrlKey?(this.link="/#/estate/property/add/LinkPropertyTypeLanduseId/"+i,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add/LinkPropertyTypeLanduseId",i]):t?.ctrlKey?(this.link="/#/estate/property/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property/add"])}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Ho,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/edit",this.tableRowSelected.id])}onActionButtonQuickViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),e=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:m,data:{id:this.tableRowSelected.id,perviousItem:e,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(c.onActionOpenItem)})}onActionButtonQuickAddRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey&&(this.link="/#/estate/property/add/",window.open(this.link,"_blank"));var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wd,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:i,data:{}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonQuickHistoryAddRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=t,this.onActionTableRowSelect(t);var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:t.id,linkEstateUserId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonAdsRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-ads/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-ads/LinkPropertyId",this.tableRowSelected.id])}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkPropertyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkPropertyId",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Deleting_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.publicHelper.processService.processStart(this.constructor.name+"All",this.translate.instant("MESSAGE.property_list"),this.constructorInfoAreaId),this.contentService.setAccessDataType(Be.Editor);let e=JSON.parse(JSON.stringify(this.filteModelContent)),m=this.contentService.ServiceGetCount(e),h=JSON.parse(JSON.stringify(this.filteModelContent)),c=new G;c.propertyName="RecordStatus",c.value=Ge.Available,h.filters.push(c);let R=this.contentService.ServiceGetCount(h),B=JSON.parse(JSON.stringify(this.filteModelContent)),q=new G;q.propertyName="RecordStatus",q.value=Ge.Disable,B.filters.push(q);let re=this.contentService.ServiceGetCount(B),Ee=JSON.parse(JSON.stringify(this.filteModelContent)),Ze=new G;Ze.propertyName="RecordStatus",Ze.value=Ge.Pending,Ee.filters.push(Ze);let Yt=this.contentService.ServiceGetCount(Ee);Ia([m,R,re,Yt]).subscribe(Ve=>{var Wt=Ve[0];Wt.isSuccess?i.set(this.translate.instant("TITLE.All"),Wt.totalRowCount):this.cmsToastrService.typeErrorMessage(Wt.errorMessage);var Wt=Ve[1];Wt.isSuccess?i.set(this.translate.instant("TITLE.Number_of_rows_in_the_recordstatus_available"),Wt.totalRowCount):this.cmsToastrService.typeErrorMessage(Wt.errorMessage),Wt=Ve[2],Wt.isSuccess?i.set(this.translate.instant("TITLE.Number_of_rows_in_the_recordstatus_disable"),Wt.totalRowCount):this.cmsToastrService.typeErrorMessage(Wt.errorMessage),Wt=Ve[3],Wt.isSuccess?i.set(this.translate.instant("TITLE.Number_of_rows_in_the_recordstatus_pending"),Wt.totalRowCount):this.cmsToastrService.typeErrorMessage(Wt.errorMessage),this.optionsStatist.childMethods.setStatistValue(i),this.publicHelper.processService.processStop(this.constructor.name+"All")})}onActionButtonActionSendSmsToCustomerOrder(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.tableRowSelected=t;let i=this.constructor.name+"main";this.translate.get("ACTION.ActionSendSmsToCustomerOrder").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceActionSendSmsToCustomerOrder(t.id).subscribe({next:e=>{e.isSuccess?this.cmsToastrService.typeSuccessMessage(e.errorMessage):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonViewOtherUserAdvertise(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,t.linkCmsUserId&&t.linkCmsUserId>0?this.requestLinkUserId=t.linkCmsUserId:this.requestLinkUserId=t.createdBy,t.linkCmsUserId&&t.linkCmsUserId>0){let i=new G;i.propertyName="linkCmsUserId",i.value=t.linkCmsUserId,i.clauseType=He.Or,this.filteModelContent.filters.push(i);let e=new G;e.propertyName="createdBy",e.value=t.linkCmsUserId,e.clauseType=He.Or,this.filteModelContent.filters.push(i)}if(t.createdBy&&t.createdBy>0){let i=new G;i.propertyName="linkCmsUserId",i.value=t.createdBy,i.clauseType=He.Or,this.filteModelContent.filters.push(i);let e=new G;e.propertyName="createdBy",e.value=t.createdBy,e.clauseType=He.Or,this.filteModelContent.filters.push(i)}this.DataGetAll()}onActionButtonInChecking(t){this.searchInChecking=t,this.DataGetAll()}onActionButtonInResponsible(t){this.searchInResponsible=t,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/ticketing/departemen/"])}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(t){this.filteModelContent.linkLocationIds=t}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(t.id),this.PropertyTypeSelected=t,this.filteModelContent.linkPropertyTypeLanduseId=t.id}onActionSelectorContarctType(t){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.contractTypeSelected=t,this.filteModelContent.linkContractTypeId=t.id}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.filteModelContent.linkCoreCurrencyId=t.id}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onSearchCaseCodeChange(t){t&&t.length>0&&(this.filteModelContent=new Ho,this.filteModelContent.caseCode=t,this.dataModelPropertyDetailGroups=[])}RowStyleActiveData(){if(!(!this.dataModelResult.listItems||this.dataModelResult.listItems.length===0||!this.dataConfigSiteValuesModel||this.dataConfigSiteValuesModel.autoArchiveDataDay<=0)){var t=new Date;t.setDate(t.getDate()-this.dataConfigSiteValuesModel.autoArchiveDataDay);for(let i=0;i<this.dataModelResult.listItems.length;i++){let e=this.dataModelResult.listItems[i];this.dataModelResult.listItems[i].ActiveDataStyle="",this.dataModelResult.listItems[i].ActiveDataText="",e.updatedDate?new Date(e.updatedDate)<t&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c91",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC"):new Date(e.createdDate)<t&&(this.dataModelResult.listItems[i].ActiveDataStyle="#ff9c01",this.dataModelResult.listItems[i].ActiveDataText="\u0622\u0631\u0634\u06CC\u0648 \u062E\u0648\u062F\u06A9\u0627\u0631  \u0633\u06CC\u0633\u062A\u0645\u06CC")}}}};s.\u0275fac=function(i){return new(i||s)(E(mi),E(Oa),E(Ht),E(L),E(V),E(Ye),E(pi),E(Y),E(Qe),E(H),E(De),E(O),E(ut))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionsortType:"optionsortType",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkCustomerOrderIdHaveHistory:"optionLinkCustomerOrderIdHaveHistory",optionLinkBillboardId:"optionLinkBillboardId"},features:[le],decls:183,vars:84,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"routerLink"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],[4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["class","col-form-label",4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","MainAdminRecordStatus"],["matColumnDef","IsSoldIt"],["matColumnDef","ViewConfigHiddenInList"],["matColumnDef","ViewCount"],["matColumnDef","AdsActive"],["matColumnDef","caseCode"],["class","col-form-label",3,"ngStyle",4,"matCellDef"],["matColumnDef","scoreEstateLocation"],["matColumnDef","scoreEstateBuild"],["matColumnDef","scoreEstatePrice"],["matColumnDef","CreatedDate"],["class","col-form-label","style","direction: ltr; justify-content: center; text-align: center;",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","QuickView"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-light","fa-message-lines","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"ngSrc",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"],[1,"col-form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"col-form-label",3,"ngStyle"],[1,"col-form-label",2,"direction","ltr","justify-content","center","text-align","center"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"text-dark",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"ngSrc",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"ngSrc"]],template:function(i,e){if(i&1){let m=v();I(0,ZS,1,1,"app-estate-billboard-header",15)(1,JS,1,1,"app-estate-contract-type-header",15)(2,XS,1,1,"app-estate-customer-order-header",15)(3,$S,1,1,"app-estate-property-type-landuse-header",15)(4,eI,1,1,"app-estate-property-type-usage-header",15)(5,tI,1,1,"app-estate-property-project-header",15)(6,iI,1,1,"app-estate-property-company-header",15),a(7,"app-cms-html-list",16),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(8,17),a(9,"app-estate-property-type-landuse-tree",18),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(10,19)(11,20),P(12,21),I(13,nI,2,0,"a",22),a(14,"a",23),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(15,"i",24),l(),a(16,"a",23),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(17,"i",25),l(),a(18,"a",26),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(19,"i",27),l(),a(20,"a",26),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(21,"i",28),l(),k(),P(22,29),a(23,"a",30),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(24,"mat-slide-toggle",31),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(25),g(26,"translate"),l(),a(27,"a",30),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(28,"mat-slide-toggle",32),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(29),g(30,"translate"),l(),a(31,"a",33)(32,"mat-slide-toggle",34),M("click",function(){return f(m),_(e.onActionButtonInChecking(!e.searchInChecking))}),l(),d(33),g(34,"translate"),l(),a(35,"a",33)(36,"mat-slide-toggle",34),M("click",function(){return f(m),_(e.onActionButtonInResponsible(!e.searchInResponsible))}),l(),d(37),g(38,"translate"),l(),k(),P(39,35),I(40,oI,7,3,"div",36)(41,rI,7,3,"div",36),k(),P(42,37),I(43,aI,7,3,"div",36)(44,lI,7,3,"div",36)(45,sI,7,3,"div",36)(46,dI,7,3,"div",36),a(47,"div",38)(48,"a",23),M("click",function(){return f(m),_(e.onActionButtonQuickHistoryAddRow(e.tableRowSelected))}),S(49,"i",39)(50,"br"),l(),a(51,"p",40),d(52),g(53,"translate"),l()(),a(54,"div",38)(55,"a",23),M("click",function(c){return f(m),_(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),S(56,"i",39)(57,"br"),l(),a(58,"p",40),d(59),g(60,"translate"),l()(),a(61,"div",38)(62,"a",23),M("click",function(){return f(m),_(e.onActionButtonQuickViewRow(e.tableRowSelected))}),S(63,"i",41)(64,"br"),l(),a(65,"p",40),d(66),g(67,"translate"),l()(),a(68,"div",38)(69,"a",23),M("click",function(){return f(m),_(e.onActionButtonViewOtherUserAdvertise(e.tableRowSelected))}),S(70,"i",42)(71,"br"),l(),a(72,"p",40),d(73),g(74,"translate"),l()(),a(75,"div",38)(76,"a",43),S(77,"i",42)(78,"br"),l(),a(79,"p",40),d(80),g(81,"translate"),l()(),a(82,"div",38)(83,"a",23),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(84,"i",44)(85,"br"),l(),a(86,"p",40),d(87),g(88,"translate"),l()(),I(89,cI,4,4,"ng-container",45),k(),P(90,46),a(91,"app-cms-search-list",47),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),S(92,"hr"),a(93,"p"),d(94),g(95,"translate"),l(),a(96,"mat-form-field",48)(97,"mat-label"),d(98),l(),a(99,"input",49,0),M("input",function(c){return f(m),_(e.onSearchCaseCodeChange(c.target.value))}),x("ngModelChange",function(c){return f(m),T(e.filteModelContent.caseCode,c)||(e.filteModelContent.caseCode=c),_(c)}),l(),I(101,pI,2,0,"mat-icon",50),a(102,"mat-icon",51),d(103," mode_edit"),l(),a(104,"mat-hint")(105,"mat-icon",52),d(106),g(107,"translate"),l(),a(108,"strong",53),d(109),l()()(),I(110,HI,46,39,"div",45),l(),a(111,"app-cms-statist-list",47),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(112,54),a(113,"mat-table",55,1),M("matSortChange",function(){f(m);let c=D(114);return _(e.onTableSortData(c))}),I(115,WI,1,0,"mat-header-row",56)(116,NI,1,6,"mat-row",57)(117,GI,1,6,"mat-row",57)(118,UI,1,9,"mat-row",58),P(119,59),I(120,jI,3,3,"mat-header-cell",60)(121,qI,3,0,"mat-cell",61),k(),P(122,62),I(123,QI,3,3,"mat-header-cell",63)(124,YI,2,1,"mat-cell",61),k(),P(125,64),I(126,KI,2,1,"mat-header-cell",63)(127,ZI,2,1,"mat-cell",61),k(),P(128,65),I(129,JI,2,1,"mat-header-cell",63)(130,XI,4,5,"mat-cell",66),k(),P(131,67),I(132,$I,2,1,"mat-header-cell",63)(133,tM,5,7,"mat-cell",68),k(),P(134,69),I(135,iM,2,1,"mat-header-cell",63)(136,nM,3,3,"mat-cell",61),k(),P(137,70),I(138,oM,2,1,"mat-header-cell",63)(139,rM,3,3,"mat-cell",61),k(),P(140,71),I(141,aM,2,1,"mat-header-cell",63)(142,lM,3,3,"mat-cell",61),k(),P(143,72),I(144,sM,2,1,"mat-header-cell",63)(145,dM,2,1,"mat-cell",66),k(),P(146,73),I(147,cM,3,3,"mat-header-cell",63)(148,pM,3,3,"mat-cell",61),k(),P(149,74),I(150,mM,2,1,"mat-header-cell",63)(151,uM,2,5,"mat-cell",75),k(),P(152,76),I(153,fM,2,1,"mat-header-cell",63)(154,_M,2,2,"mat-cell",68),k(),P(155,77),I(156,hM,2,1,"mat-header-cell",63)(157,gM,2,2,"mat-cell",68),k(),P(158,78),I(159,yM,2,1,"mat-header-cell",63)(160,CM,2,2,"mat-cell",68),k(),P(161,79),I(162,SM,2,1,"mat-header-cell",63)(163,IM,2,1,"mat-cell",80),k(),P(164,81),I(165,MM,2,1,"mat-header-cell",63)(166,EM,2,1,"mat-cell",80),k(),P(167,82),I(168,vM,3,3,"mat-header-cell",83)(169,bM,6,1,"mat-cell",84),k(),P(170,85),I(171,wM,3,3,"mat-header-cell",63)(172,TM,4,0,"mat-cell",61),k(),P(173,86),I(174,xM,3,3,"mat-header-cell",63)(175,AM,4,0,"mat-cell",61),k(),P(176,87),I(177,PM,2,1,"mat-cell",61),k(),P(178,88),I(179,VM,48,17,"mat-cell",61),k(),l(),k(),P(180,89),a(181,"mat-paginator",90,2),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkBillboardId==null?null:e.requestLinkBillboardId.length)>0),r(),p("ngIf",(e.requestLinkContractTypeId==null?null:e.requestLinkContractTypeId.length)>0),r(),p("ngIf",(e.requestLinkCustomerOrderId==null?null:e.requestLinkCustomerOrderId.length)>0),r(),p("ngIf",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0),r(),p("ngIf",(e.requestLinkPropertyTypeUsageId==null?null:e.requestLinkPropertyTypeUsageId.length)>0),r(),p("ngIf",(e.requestLinkProjectId==null?null:e.requestLinkProjectId.length)>0),r(),p("ngIf",(e.requestLinkCompanyId==null?null:e.requestLinkCompanyId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.property.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),p("ngIf",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0),r(11),w("ngModel",e.optionsSearch.data.show),r(),C("",y(26,57,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(30,59,"ACTION.STATIST")," "),r(3),p("checked",e.searchInCheckingChecked),r(),C(" ",y(34,61,"ACTION.INCHECKING")," "),r(3),p("checked",e.searchInResponsibleChecked),r(),C(" ",y(38,63,"ACTION.InResponsible")," "),r(3),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&e.optionloadByRoute),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&e.optionloadByRoute),r(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&((e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0||(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0)),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&e.optionloadByRoute&&((e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0||(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0)),r(),p("ngIf",e.tokenHelper.isAdminSite&&e.optionloadByRoute&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(6),b(y(53,65,"ACTION.HISTORY_ADD")),r(7),b(y(60,67,"ACTION.HISTORY_LIST")),r(7),b(y(67,69,"ACTION.QUICK_VIEW")),r(7),b(y(74,71,"ACTION.VIEW_OTHER_USER_ADVERTISE")),r(3),A("routerLink","/core/user/edit/"+(e.tableRowSelected==null?null:e.tableRowSelected.createdBy)),r(4),b(y(81,73,"ACTION.VIEW_USER")),r(7),b(y(88,75,"TITLE.LINKTO")),r(2),p("ngIf",e.tableRowSelected&&(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)!==e.tokenHelper.tokenInfo.siteId),r(2),w("options",e.optionsSearch),r(3),b(y(95,77,"MESSAGE.Content_of_your_choice_to_display")),r(4),b(e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle),w("ngModel",e.filteModelContent.caseCode),r(2),p("ngIf",e.filteModelContent.caseCode),r(5),b(y(107,79,"TITLE.info")),r(3),b(e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldDescription),r(),p("ngIf",!e.filteModelContent.caseCode||e.filteModelContent.caseCode.length===0),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(2),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(81,QS)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(82,zS)),r(63),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(83,YS)))},dependencies:[ce,We,N,mt,oo,ro,ao,As,te,Rt,z,X,ze,Co,fo,_o,ho,yo,go,Bt,ci,ka,yr,Oe,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,vi,qt,Wi,Ct,Hn,Bn,Ln,On,Fn,Wn,mn,so,Es,di,al,ll,ra,Nd,Ki,sl,Zi,dl,cl,Vr,Ue,U,Mi,An,Se,ri,ir,er],encapsulation:2});let o=s;return o})();var LM=["tagInput"];function FM(o,s){if(o&1){let n=v();a(0,"mat-chip",9),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.remove(i))}),d(1),a(2,"button",10)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n.display," ")}}function OM(o,s){if(o&1&&(a(0,"mat-option",11),d(1),l()),o&2){let n=s.$implicit;p("value",n),r(),C(" ",n.display," ")}}var ul=(()=>{let s=class s{constructor(t,i,e){this.service=t,this.cmsToastrService=i,this.translate=e,this.constructorInfoAreaId=this.constructor.name,this.optionDisabled=!1,this.optionPlaceholder="+ Tag",this.optionLabel="",this.optionChange=new et,this.tagDataModel=[],this.tagLastDataModel=[],this.selectForceStatus=!0,this.separatorKeysCodes=[13],this.tagCtrl=new gt(""),this.addOnBlur=!0,this.filteredOptions=this.tagCtrl.valueChanges.pipe(Zt(null),Kt(400),Jt(m=>this.filter(m||"")))}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(t){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G;return e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="string"&&+t>0&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),this.service.ServiceGetAll(i).pipe(xt(m=>(this.tagLastDataModel=m.listItems.map(h=>({display:h.titleML,value:h.id})),this.tagLastDataModel)))}checkIndex(t){let i=0,e=-1;return this.tagDataModel.forEach(m=>{m.value==t&&(e=i),i++}),e}add(t){let i;t.value&&this.tagLastDataModel.forEach(e=>{(e.display==t.value||e.value+""==t.value)&&(i=e)}),i&&this.checkIndex(i.value)<0&&(this.tagDataModel.push(i),this.onActionChange()),t.chipInput.clear(),this.tagCtrl.setValue(null)}remove(t){let i=this.checkIndex(t.value);i>=0&&(this.tagDataModel.splice(i,1),this.onActionChange())}selected(t){let i=t.option.value;this.checkIndex(i.value)<0&&this.tagDataModel.push(i),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let t=[];this.tagDataModel.forEach(i=>{t.findIndex(e=>e==i.value)<0&&t.push(i.value)}),this.selectForceStatus=!1,this.optionChange.emit(t)}onActionSelectForce(t){if(!this.selectForceStatus||!t||t.length===0)return;let i=new pe;t.forEach(e=>{if(e.length>0){let m=new G;m.propertyName="Id",m.value=e,m.clauseType=He.Or,i.filters.push(m)}}),this.service.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?e.listItems.forEach(m=>{this.tagDataModel.findIndex(h=>h.value==m.id)<0&&this.tagDataModel.push({value:m.id,display:m.titleML})}):this.cmsToastrService.typeErrorGetAll(e.errorMessage)},error:e=>{this.cmsToastrService.typeErrorGetAll(e)}})}};s.\u0275fac=function(i){return new(i||s)(E(ui),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-autocomplete"]],viewQuery:function(i,e){if(i&1&&ie(LM,5),i&2){let m;ne(m=oe())&&(e.tagInput=m.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(i,e){if(i&1){let m=v();a(0,"mat-form-field",3)(1,"mat-label"),d(2),l(),a(3,"mat-chip-grid",4,0),I(5,FM,5,1,"mat-chip",5),a(6,"input",6,1),M("matChipInputTokenEnd",function(c){return f(m),_(e.add(c))}),l()(),a(8,"mat-autocomplete",7,2),M("optionSelected",function(c){return f(m),_(e.selected(c))}),I(10,OM,2,2,"mat-option",8),g(11,"async"),l()()}if(i&2){let m=D(4),h=D(9);r(2),b(e.optionLabel),r(),p("disabled",e.optionDisabled),r(2),p("ngForOf",e.tagDataModel),r(),p("placeholder"," + "+e.optionPlaceholder)("matChipInputAddOnBlur",e.addOnBlur)("formControl",e.tagCtrl)("matAutocomplete",h)("matChipInputFor",m)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(4),p("ngForOf",y(11,10,e.filteredOptions))}},dependencies:[We,te,z,Ot,$t,Xt,ei,ki,Di,Ri,Pi,Bt,ci,se,Ue],encapsulation:2});let o=s;return o})();var BM=["tagInput"];function HM(o,s){if(o&1){let n=v();a(0,"mat-chip",9),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.remove(i))}),d(1),a(2,"button",10)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n.display," ")}}function WM(o,s){if(o&1&&(a(0,"mat-option",11),d(1),l()),o&2){let n=s.$implicit;p("value",n),r(),C(" ",n.display," ")}}var fl=(()=>{let s=class s{constructor(t,i,e){this.service=t,this.cmsToastrService=i,this.translate=e,this.constructorInfoAreaId=this.constructor.name,this.optionDisabled=!1,this.optionPlaceholder="+ Tag",this.optionLabel="",this.optionChange=new et,this.tagDataModel=[],this.tagLastDataModel=[],this.selectForceStatus=!0,this.separatorKeysCodes=[13],this.tagCtrl=new gt(""),this.addOnBlur=!0,this.filteredOptions=this.tagCtrl.valueChanges.pipe(Zt(null),Kt(400),Jt(m=>this.filter(m||"")))}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(t){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G;return e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="string"&&+t>0&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),this.service.ServiceGetAll(i).pipe(xt(m=>(this.tagLastDataModel=m.listItems.map(h=>({display:h.titleML,value:h.id})),this.tagLastDataModel)))}checkIndex(t){var i=0,e=-1;return this.tagDataModel.forEach(m=>{m.value==t&&(e=i),i++}),e}add(t){var i;t.value&&this.tagLastDataModel.forEach(e=>{(e.display==t.value||e.value+""==t.value)&&(i=e)}),i&&this.checkIndex(i.value)<0&&(this.tagDataModel.push(i),this.onActionChange()),t.chipInput.clear(),this.tagCtrl.setValue(null)}remove(t){let i=this.checkIndex(t.value);i>=0&&(this.tagDataModel.splice(i,1),this.onActionChange())}selected(t){let i=t.option.value;this.checkIndex(i.value)<0&&this.tagDataModel.push(i),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let t=[];this.tagDataModel.forEach(i=>{t.findIndex(e=>e==i.value)<0&&t.push(i.value)}),this.selectForceStatus=!1,this.optionChange.emit(t)}onActionSelectForce(t){if(!this.selectForceStatus||!t||t.length===0)return;let i=new pe;t.forEach(e=>{if(e.length>0){let m=new G;m.propertyName="Id",m.value=e,m.clauseType=He.Or,i.filters.push(m)}}),this.service.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?e.listItems.forEach(m=>{this.tagDataModel.findIndex(h=>h.value==m.id)<0&&this.tagDataModel.push({value:m.id,display:m.titleML})}):this.cmsToastrService.typeErrorGetAll(e.errorMessage)},error:e=>{this.cmsToastrService.typeErrorGetAll(e)}})}};s.\u0275fac=function(i){return new(i||s)(E(ln),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-autocomplete"]],viewQuery:function(i,e){if(i&1&&ie(BM,5),i&2){let m;ne(m=oe())&&(e.tagInput=m.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(i,e){if(i&1){let m=v();a(0,"mat-form-field",3)(1,"mat-label"),d(2),l(),a(3,"mat-chip-grid",4,0),I(5,HM,5,1,"mat-chip",5),a(6,"input",6,1),M("matChipInputTokenEnd",function(c){return f(m),_(e.add(c))}),l()(),a(8,"mat-autocomplete",7,2),M("optionSelected",function(c){return f(m),_(e.selected(c))}),I(10,WM,2,2,"mat-option",8),g(11,"async"),l()()}if(i&2){let m=D(4),h=D(9);r(2),b(e.optionLabel),r(),p("disabled",e.optionDisabled),r(2),p("ngForOf",e.tagDataModel),r(),p("placeholder"," + "+e.optionPlaceholder)("matChipInputAddOnBlur",e.addOnBlur)("formControl",e.tagCtrl)("matAutocomplete",h)("matChipInputFor",m)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(4),p("ngForOf",y(11,10,e.filteredOptions))}},dependencies:[We,te,z,Ot,$t,Xt,ei,ki,Di,Ri,Pi,Bt,ci,se,Ue],encapsulation:2});let o=s;return o})();var NM=["tagInput"];function GM(o,s){if(o&1){let n=v();a(0,"mat-chip",9),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.remove(i))}),d(1),a(2,"button",10)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n.display," ")}}function UM(o,s){if(o&1&&(a(0,"mat-option",11),d(1),l()),o&2){let n=s.$implicit;p("value",n),r(),C(" ",n.display," ")}}var la=(()=>{let s=class s{constructor(t,i,e){this.service=t,this.cmsToastrService=i,this.translate=e,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.optionDisabled=!1,this.optionPlaceholder="+ Tag",this.optionLabel="",this.optionRequired=!1,this.optionChange=new et,this.tagDataModel=[],this.tagLastDataModel=[],this.selectForceStatus=!0,this.separatorKeysCodes=[13],this.tagCtrl=new gt(""),this.addOnBlur=!0,this.filteredOptions=this.tagCtrl.valueChanges.pipe(Zt(null),Kt(400),Jt(m=>this.filter(m||"")))}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(t){let i=new Ho;i.rowPerPage=20,i.accessLoad=!0;let e=new G;return e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof t=="string"&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),t&&typeof+t=="number"&&+t>0&&(e=new G,e.propertyName="caseCode",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e)),this.service.ServiceGetAll(i).pipe(xt(m=>(this.tagLastDataModel=m.listItems.map(h=>({display:h.title,value:h.id})),this.tagLastDataModel)))}checkIndex(t){var i=0,e=-1;return this.tagDataModel.forEach(m=>{m.value==t&&(e=i),i++}),e}add(t){var i;t.value&&this.tagLastDataModel.forEach(e=>{(e.display==t.value||e.value+""==t.value)&&(i=e)}),i&&this.checkIndex(i.value)<0&&(this.tagDataModel.push(i),this.onActionChange()),t.chipInput.clear(),this.tagCtrl.setValue(null)}remove(t){let i=this.checkIndex(t.value);i>=0&&(this.tagDataModel.splice(i,1),this.onActionChange())}selected(t){let i=t.option.value;this.checkIndex(i.value)<0&&this.tagDataModel.push(i),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let t=[];this.tagDataModel.forEach(i=>{t.findIndex(e=>e==i.value)<0&&t.push(i.value)}),this.selectForceStatus=!1,this.optionChange.emit(t)}onActionSelectForce(t){if(!this.selectForceStatus||!t||t.length===0)return;let i=new Ho;t.forEach(e=>{if(e.length>0){let m=new G;m.propertyName="Id",m.value=e,m.clauseType=He.Or,i.filters.push(m)}}),this.service.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?e.listItems.forEach(m=>{this.tagDataModel.findIndex(h=>h.value==m.id)<0&&this.tagDataModel.push({value:m.id,display:m.title})}):this.cmsToastrService.typeErrorGetAll(e.errorMessage)},error:e=>{this.cmsToastrService.typeErrorGetAll(e)}})}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(mi),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-autocomplete"]],viewQuery:function(i,e){if(i&1&&ie(NM,5),i&2){let m;ne(m=oe())&&(e.tagInput=m.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(i,e){if(i&1){let m=v();a(0,"mat-form-field",3)(1,"mat-label"),d(2),l(),a(3,"mat-chip-grid",4,0),I(5,GM,5,1,"mat-chip",5),a(6,"input",6,1),M("matChipInputTokenEnd",function(c){return f(m),_(e.add(c))}),l()(),a(8,"mat-autocomplete",7,2),M("optionSelected",function(c){return f(m),_(e.selected(c))}),I(10,UM,2,2,"mat-option",8),g(11,"async"),l()()}if(i&2){let m=D(4),h=D(9);r(2),b(e.optionLabel),r(),p("disabled",e.optionDisabled),r(2),p("ngForOf",e.tagDataModel),r(),p("placeholder"," + "+e.optionPlaceholder)("matChipInputAddOnBlur",e.addOnBlur)("formControl",e.tagCtrl)("matAutocomplete",h)("matChipInputFor",m)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(4),p("ngForOf",y(11,10,e.filteredOptions))}},dependencies:[We,te,z,Ot,$t,Xt,ei,ki,Di,Ri,Pi,Bt,ci,se,Ue],encapsulation:2});let o=s;return o})();var jM=["tagInput"];function qM(o,s){if(o&1){let n=v();a(0,"mat-chip",9),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.remove(i))}),d(1),a(2,"button",10)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n.display," ")}}function QM(o,s){if(o&1&&(a(0,"mat-option",11),d(1),l()),o&2){let n=s.$implicit;p("value",n),r(),C(" ",n.display," ")}}var _l=(()=>{let s=class s{constructor(t,i,e){this.service=t,this.cmsToastrService=i,this.translate=e,this.constructorInfoAreaId=this.constructor.name,this.optionDisabled=!1,this.optionPlaceholder="+ Tag",this.optionLabel="",this.optionChange=new et,this.tagDataModel=[],this.tagLastDataModel=[],this.selectForceStatus=!0,this.separatorKeysCodes=[13],this.tagCtrl=new gt(""),this.addOnBlur=!0,this.filteredOptions=this.tagCtrl.valueChanges.pipe(Zt(null),Kt(400),Jt(m=>this.filter(m||"")))}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}filter(t){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G;return e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),this.service.ServiceGetAll(i).pipe(xt(m=>(this.tagLastDataModel=m.listItems.map(h=>({display:h.titleML,value:h.id})),this.tagLastDataModel)))}checkIndex(t){var i=0,e=-1;return this.tagDataModel.forEach(m=>{m.value==t&&(e=i),i++}),e}add(t){var i;t.value&&this.tagLastDataModel.forEach(e=>{(e.display==t.value||e.value+""==t.value)&&(i=e)}),i&&this.checkIndex(i.value)<0&&(this.tagDataModel.push(i),this.onActionChange()),t.chipInput.clear(),this.tagCtrl.setValue(null)}remove(t){let i=this.checkIndex(t.value);i>=0&&(this.tagDataModel.splice(i,1),this.onActionChange())}selected(t){let i=t.option.value;this.checkIndex(i.value)<0&&this.tagDataModel.push(i),this.tagInput.nativeElement.value="",this.tagCtrl.setValue(null),this.onActionChange()}onActionChange(){let t=[];this.tagDataModel.forEach(i=>{t.findIndex(e=>e==i.value)<0&&t.push(i.value)}),this.selectForceStatus=!1,this.optionChange.emit(t)}onActionSelectForce(t){if(!this.selectForceStatus||!t||t.length===0)return;let i=new pe;t.forEach(e=>{if(e.length>0){let m=new G;m.propertyName="Id",m.value=e,m.clauseType=He.Or,i.filters.push(m)}}),this.service.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?e.listItems.forEach(m=>{this.tagDataModel.findIndex(h=>h.value==m.id)<0&&this.tagDataModel.push({value:m.id,display:m.titleML})}):this.cmsToastrService.typeErrorGetAll(e.errorMessage)},error:e=>{this.cmsToastrService.typeErrorGetAll(e)}})}};s.\u0275fac=function(i){return new(i||s)(E(Ii),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-autocomplete"]],viewQuery:function(i,e){if(i&1&&ie(jM,5),i&2){let m;ne(m=oe())&&(e.tagInput=m.first)}},inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},decls:12,vars:12,consts:[["chipList",""],["tagInput",""],["auto","matAutocomplete"],["appearance","fill",2,"width","100%"],["aria-label","tag selection",3,"disabled"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["type","button","matChipRemove",""],[3,"value"]],template:function(i,e){if(i&1){let m=v();a(0,"mat-form-field",3)(1,"mat-label"),d(2),l(),a(3,"mat-chip-grid",4,0),I(5,qM,5,1,"mat-chip",5),a(6,"input",6,1),M("matChipInputTokenEnd",function(c){return f(m),_(e.add(c))}),l()(),a(8,"mat-autocomplete",7,2),M("optionSelected",function(c){return f(m),_(e.selected(c))}),I(10,QM,2,2,"mat-option",8),g(11,"async"),l()()}if(i&2){let m=D(4),h=D(9);r(2),b(e.optionLabel),r(),p("disabled",e.optionDisabled),r(2),p("ngForOf",e.tagDataModel),r(),p("placeholder"," + "+e.optionPlaceholder)("matChipInputAddOnBlur",e.addOnBlur)("formControl",e.tagCtrl)("matAutocomplete",h)("matChipInputFor",m)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(4),p("ngForOf",y(11,10,e.filteredOptions))}},dependencies:[We,te,z,Ot,$t,Xt,ei,ki,Di,Ri,Pi,Bt,ci,se,Ue],encapsulation:2});let o=s;return o})();var zM=["vform"];function YM(o,s){o&1&&S(0,"i",48)}function KM(o,s){o&1&&S(0,"i",49)}function ZM(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function JM(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function XM(o,s){o&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function $M(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",50),d(2),g(3,"translate"),l(),a(4,"textarea",51,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l(),I(8,XM,5,3,"mat-error",19),l()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function eE(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",52),d(2),l(),a(3,"input",53,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.speedView,i)||(e.dataModel.speedView=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.speedView==null?null:n.fieldsInfo.speedView.fieldTitle),r(),A("placeholder",n.fieldsInfo.speedView==null?null:n.fieldsInfo.speedView.fieldTitle),w("ngModel",n.dataModel.speedView),p("disabled",!(n.fieldsInfo.speedView!=null&&n.fieldsInfo.speedView.accessAddField))}}function tE(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",54),d(2),l(),a(3,"input",55,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.reloadViewPerMin,i)||(e.dataModel.reloadViewPerMin=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.reloadViewPerMin==null?null:n.fieldsInfo.reloadViewPerMin.fieldTitle),r(),A("placeholder",n.fieldsInfo.reloadViewPerMin==null?null:n.fieldsInfo.reloadViewPerMin.fieldTitle),w("ngModel",n.dataModel.reloadViewPerMin),p("disabled",!(n.fieldsInfo.reloadViewPerMin!=null&&n.fieldsInfo.reloadViewPerMin.accessAddField))}}function iE(o,s){if(o&1&&(S(0,"img",56),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function nE(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C("",y(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function oE(o,s){o&1&&(a(0,"P"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller"),""))}function rE(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-usage-autocomplete",57),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeUsageIds!=null&&n.fieldsInfo.linkPropertyTypeUsageIds.accessAddField))("optionSelectForce",n.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",y(1,3,"TITLE.Type_Usage"))}}function aE(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-landuse-autocomplete",57),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseIds!=null&&n.fieldsInfo.linkPropertyTypeLanduseIds.accessAddField))("optionSelectForce",n.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",y(1,3,"TITLE.Property_Type"))}}function lE(o,s){if(o&1){let n=v();a(0,"app-estate-contract-type-autocomplete",57),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkContractTypeIds!=null&&n.fieldsInfo.linkContractTypeIds.accessAddField))("optionSelectForce",n.dataModel.linkContractTypeIds)("optionPlaceholder",y(1,3,"TITLE.Transaction_type"))}}function sE(o,s){if(o&1){let n=v();a(0,"app-cms-currency-selector",58),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l()}if(o&2){let n=u();p("optionSelectFirstItem",!0)("optionSelectForce",n.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(1,3,"TITLE.Specify_the_transaction_currency"))}}function dE(o,s){if(o&1){let n=v();a(0,"app-cms-location-autocomplete",57),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkLocationIds!=null&&n.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",n.dataModel.linkLocationIds)("optionPlaceholder",y(1,3,"TITLE.Region"))}}function cE(o,s){if(o&1&&(a(0,"option",59),d(1),l()),o&2){let n=s.$implicit;p("value",n.fieldName),r(),C(" ",n.fieldTitle," ")}}function pE(o,s){if(o&1){let n=v();a(0,"div",60)(1,"a",61),M("click",function(){f(n);let i=u();return _(i.onActionSortArrow())}),S(2,"i",62),g(3,"sortTypeIconClass"),l()()}if(o&2){let n=u();r(2),p("ngClass",y(3,1,n.dataModel.resultSortType))}}function mE(o,s){if(o&1){let n=v();a(0,"div",63)(1,"button",64),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",65),d(3),g(4,"translate"),l(),a(5,"button",66),S(6,"i",67),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(10);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var hl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(e,new cr,c,B),this.router=t,this.coreEnumService=i,this.estateBillboardService=e,this.cmsToastrService=m,this.activatedRoute=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModel=new cr,this.dataModelCorCurrencySelector=new Vi,this.formInfo=new me,this.fileManagerOpenForm=!1,this.LinkPropertyIdsInUse=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.requestId&&this.requestId.length>0&&this.DataGetOneContent()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.DataGetOneContent(),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.router.navigate(["/estate/billboard/edit",i.item.id])):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorSelectUsage(t){this.dataModel.linkPropertyTypeUsageIds=t}onActionSelectorContarctType(t){this.dataModel.linkContractTypeIds=t}onActionSelectorSelectLanduse(t){this.dataModel.linkPropertyTypeLanduseIds=t}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}onActionSelectorProperty(t){this.dataModel.linkPropertyIds=t,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.dataModel.id&&this.dataModel.id.length>0?this.DataEditContent():this.DataAddContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onActionSortArrow(){this.dataModel.resultSortType==ae.Ascending?this.dataModel.resultSortType=ae.Descending:this.dataModel.resultSortType==ae.Descending?this.dataModel.resultSortType=ae.Random:this.dataModel.resultSortType==ae.Random?this.dataModel.resultSortType=ae.Ascending:this.dataModel.resultSortType=ae.Ascending}};s.\u0275fac=function(i){return new(i||s)(E(Qe),E(ee),E(Zo),E(V),E(Ht),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-billboard-add"]],viewQuery:function(i,e){if(i&1&&(ie(zM,5),ie(hi,5)),i&2){let m;ne(m=oe())&&(e.formGroup=m.first),ne(m=oe())&&(e.estatePropertyList=m.first)}},features:[le],decls:83,vars:66,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["ResultSortColumn","ngModel"],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",8),a(1,"div",9),S(2,"app-progress-spinner",10),a(3,"div",11)(4,"p",12),d(5),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",13,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"div",14)(12,"label",15),d(13),l(),a(14,"input",16,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(16,YM,1,0,"i",17)(17,KM,1,0,"i",18),a(18,"em"),d(19),l(),I(20,ZM,5,3,"mat-error",19),l(),a(21,"div",14)(22,"label",20),d(23),l(),a(24,"textarea",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(26,"em"),d(27),l(),I(28,JM,5,3,"mat-error",19),l(),I(29,$M,9,7,"div",22)(30,eE,5,4,"div",22)(31,tE,5,4,"div",22),a(32,"div",23)(33,"a",24),g(34,"cmsthumbnail"),I(35,iE,2,3,"img",25),l()(),a(36,"div",14)(37,"label",26),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(38),g(39,"translate"),l(),a(40,"input",27,3),g(42,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(43,"cms-file-manager",28),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(44,"p"),d(45),g(46,"translate"),l(),a(47,"app-estate-property-autocomplete",29),g(48,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorProperty(c))}),l(),a(49,"p"),d(50),g(51,"translate"),l(),S(52,"hr"),a(53,"div",30)(54,"div",31)(55,"h5",32),d(56),l()(),a(57,"div",33)(58,"div",34)(59,"input",35),x("ngModelChange",function(c){return f(m),T(e.dataModel.includeAllSite,c)||(e.dataModel.includeAllSite=c),_(c)}),l(),S(60,"label",36),l()()(),I(61,nE,3,3,"p",19)(62,oE,3,3,"P",19)(63,rE,2,5,"app-estate-property-type-usage-autocomplete",37)(64,aE,2,5,"app-estate-property-type-landuse-autocomplete",37),S(65,"br"),I(66,lE,2,5,"app-estate-contract-type-autocomplete",37)(67,sE,2,5,"app-cms-currency-selector",38)(68,dE,2,5,"app-cms-location-autocomplete",37),a(69,"div",39)(70,"div",40)(71,"div",14)(72,"label",41),d(73),l(),a(74,"select",42,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.resultSortColumn,c)||(e.dataModel.resultSortColumn=c),_(c)}),I(76,cE,2,2,"option",43),l(),a(77,"span"),S(78,"i",44),l(),S(79,"em"),l()(),a(80,"div",45),I(81,pE,4,3,"div",46),l()(),I(82,mE,9,7,"div",47),l()()()}if(i&2){let m=D(15),h=D(25);p("Key","estate.billboard.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(8,52,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.accessWatchField),r(),p("ngIf",e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.accessWatchField),r(2),A("href",y(34,54,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(39,56,"TITLE.PHOTO_FILE")),r(2),A("placeholder",y(42,58,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),b(y(46,60,"TITLE.specific_property_list")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyIds!=null&&e.fieldsInfo.linkPropertyIds.accessAddField))("optionPlaceholder",y(48,62,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIds),r(3),b(y(51,64,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")),r(6),C(" ",e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle,""),r(3),w("ngModel",e.dataModel.includeAllSite),r(2),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(2),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(5),b(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),r(),w("ngModel",e.dataModel.resultSortColumn),r(2),p("ngForOf",e.dataFieldInfoModel),r(5),p("ngIf",(e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,We,N,Ae,qr,Qr,te,Rt,Ft,jr,z,ve,be,ke,we,Pa,Aa,X,xe,Re,$,vi,qt,j,to,$e,ul,fl,la,_l,U,Se,ia],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var _E=["vform"];function hE(o,s){o&1&&S(0,"i",45)}function gE(o,s){o&1&&S(0,"i",46)}function yE(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function CE(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function SE(o,s){o&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function IE(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",47),d(2),g(3,"translate"),l(),a(4,"textarea",48,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"         "),l(),a(7,"em"),d(8),l(),I(9,SE,5,3,"mat-error",19),l()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function ME(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",49),d(2),l(),a(3,"input",50,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.speedView,i)||(e.dataModel.speedView=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.speedView==null?null:n.fieldsInfo.speedView.fieldTitle),r(),A("placeholder",n.fieldsInfo.speedView==null?null:n.fieldsInfo.speedView.fieldTitle),w("ngModel",n.dataModel.speedView),p("disabled",!(n.fieldsInfo.speedView!=null&&n.fieldsInfo.speedView.accessEditField))}}function EE(o,s){if(o&1){let n=v();a(0,"div",14)(1,"label",51),d(2),l(),a(3,"input",52,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.reloadViewPerMin,i)||(e.dataModel.reloadViewPerMin=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.reloadViewPerMin==null?null:n.fieldsInfo.reloadViewPerMin.fieldTitle),r(),A("placeholder",n.fieldsInfo.reloadViewPerMin==null?null:n.fieldsInfo.reloadViewPerMin.fieldTitle),w("ngModel",n.dataModel.reloadViewPerMin),p("disabled",!(n.fieldsInfo.reloadViewPerMin!=null&&n.fieldsInfo.reloadViewPerMin.accessEditField))}}function vE(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C("",y(2,1,"MESSAGE.Content_of_your_choice_to_display_On_this_billboard")," "))}function bE(o,s){o&1&&(a(0,"P"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "))}function wE(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-usage-autocomplete",53),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeUsageIds!=null&&n.fieldsInfo.linkPropertyTypeUsageIds.accessEditField))("optionSelectForce",n.dataModel.linkPropertyTypeUsageIds)("optionPlaceholder",y(1,3,"TITLE.Type_Usage"))}}function TE(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-landuse-autocomplete",53),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseIds!=null&&n.fieldsInfo.linkPropertyTypeLanduseIds.accessEditField))("optionSelectForce",n.dataModel.linkPropertyTypeLanduseIds)("optionPlaceholder",y(1,3,"TITLE.Property_Type"))}}function xE(o,s){if(o&1){let n=v();a(0,"app-estate-contract-type-autocomplete",53),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkContractTypeIds!=null&&n.fieldsInfo.linkContractTypeIds.accessEditField))("optionSelectForce",n.dataModel.linkContractTypeIds)("optionPlaceholder",y(1,3,"TITLE.Transaction_type"))}}function AE(o,s){if(o&1){let n=v();a(0,"app-cms-currency-selector",54),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l()}if(o&2){let n=u();p("optionSelectFirstItem",!0)("optionSelectForce",n.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(1,3,"TITLE.Specify_the_transaction_currency"))}}function PE(o,s){if(o&1){let n=v();a(0,"app-cms-location-autocomplete",53),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkLocationIds!=null&&n.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",n.dataModel.linkLocationIds)("optionPlaceholder",y(1,3,"TITLE.Region"))}}function kE(o,s){if(o&1&&(a(0,"option",55),d(1),l()),o&2){let n=s.$implicit;p("value",n.fieldName),r(),C(" ",n.fieldTitle," ")}}function DE(o,s){if(o&1){let n=v();a(0,"div",56)(1,"a",57),M("click",function(){f(n);let i=u();return _(i.onActionSortArrow())}),S(2,"i",58),g(3,"sortTypeIconClass"),l()()}if(o&2){let n=u();r(2),p("ngClass",y(3,1,n.dataModel.resultSortType))}}function RE(o,s){if(o&1){let n=v();a(0,"div",59)(1,"a",60),S(2,"img",61),g(3,"translate"),l(),a(4,"span",62),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(5,"i",63),l(),a(6,"h5",64),d(7),g(8,"translate"),l(),a(9,"p",65),d(10),g(11,"translate"),l(),a(12,"p",65),d(13),g(14,"translate"),S(15,"br"),d(16),g(17,"translate"),S(18,"br"),d(19),g(20,"translate"),S(21,"br"),d(22),g(23,"translate"),S(24,"br"),d(25),g(26,"translate"),l(),S(27,"hr")(28,"app-cms-qdoc",66),l()}if(o&2){let n=u();r(),A("href",n.dataModel.urlViewContent,Z),r(),A("alt",y(3,12,"TITLE.Scan_the_barcode")),p("src",n.dataModel.urlViewContentQRCodeBase64,Z),r(2),p("cdkCopyToClipboard",n.dataModel.urlViewContent),r(3),C("",y(8,14,"TITLE.DESCRIPTION"),":"),r(3),C(" ",y(11,16,"TITLE.You_can_view_the_output_of_your_billboard")," "),r(3),C(" ",y(14,18,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_billboard_and_write_a_description_for_it")," "),r(3),C(" ",y(17,20,"TITLE.In_the_next_section_you_can_set_the_speed_of_scrolling_the_page_and_reloading_the_page_every_minute_and_choose_a_picture_for_it")," "),r(3),C(" ",y(20,22,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),r(3),C(" ",y(23,24,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),r(3),C(" ",y(26,26,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),r(3),p("optionUrl",n.dataModel.urlViewContent)}}function VE(o,s){if(o&1){let n=v();a(0,"button",73),M("click",function(){f(n);let i=u(2);return _(i.onFormLoadResult())}),S(1,"i",69),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW")," "))}function LE(o,s){if(o&1){let n=v();a(0,"div",67)(1,"button",68),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",69),d(3),g(4,"translate"),l(),a(5,"button",70),S(6,"i",71),d(7),g(8,"translate"),l(),I(9,VE,4,3,"button",72),l()}if(o&2){let n=u(),t=D(10);r(3),C(" ",y(4,4,"ACTION.CANCEL")," "),r(2),p("disabled",!t.form.valid),r(2),C(" ",y(8,6,"ACTION.SAVE")," "),r(2),p("ngIf",(n.dataModel==null||n.dataModel.id==null?null:n.dataModel.id.length)>0)}}function FE(o,s){o&1&&(a(0,"div",74),S(1,"div",75),l())}var Ul=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new cr,c,q),this.router=t,this.estatePropertyDetailGroupService=i,this.coreEnumService=e,this.estateBillboardService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.activatedRoute=B,this.translate=q,this.http=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new cr,this.dataModelCorCurrencySelector=new Vi,this.formInfo=new me,this.fileManagerOpenForm=!1,this.optionloadComponent=!1,this.loadResult="",this.LinkPropertyIdsInUse=!1,this.optionReload=()=>{this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()},this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/billboard/"]);return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.setAccessLoad(),this.estateBillboardService.setAccessDataType(Be.Editor),this.estateBillboardService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataFieldInfoModel=i.access.fieldsInfo,this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateBillboardService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.optionReload()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionSelectorSelectUsage(t){this.dataModel.linkPropertyTypeUsageIds=t}onActionSelectorContarctType(t){this.dataModel.linkContractTypeIds=t}onActionSelectorSelectLanduse(t){this.dataModel.linkPropertyTypeLanduseIds=t}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}onActionSelectorProperty(t){this.dataModel.linkPropertyIds=t,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?(this.LinkPropertyIdsInUse=!0,this.dataModel.linkPropertyTypeUsageIds=null,this.dataModel.linkContractTypeIds=null,this.dataModel.linkPropertyTypeLanduseIds=null,this.dataModel.linkLocationIds=null):this.LinkPropertyIdsInUse=!1}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.router.navigate(["/estate/billboard/"])}onFormLoadResult(){this.loadResult="estatePropertyList",this.estatePropertyList.optionloadComponent=!0,this.estatePropertyList.DataGetAll()}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onActionSortArrow(){this.dataModel.resultSortType==ae.Ascending?this.dataModel.resultSortType=ae.Descending:this.dataModel.resultSortType==ae.Descending?this.dataModel.resultSortType=ae.Random:this.dataModel.resultSortType==ae.Random?this.dataModel.resultSortType=ae.Ascending:this.dataModel.resultSortType=ae.Ascending}};s.\u0275fac=function(i){return new(i||s)(E(Qe),E(pi),E(ee),E(Zo),E(V),E(L),E(H),E(Ht),E(O),E(ba))},s.\u0275cmp=F({type:s,selectors:[["app-estate-billboard-edit"]],viewQuery:function(i,e){if(i&1&&(ie(_E,5),ie(hi,5)),i&2){let m;ne(m=oe())&&(e.formGroup=m.first),ne(m=oe())&&(e.estatePropertyList=m.first)}},features:[le],decls:80,vars:56,consts:[["vform","ngForm"],["Title",""],["Description",""],["ResultSortColumn","ngModel"],["estatePropertyList",""],["DescriptionHidden",""],["SpeedView",""],["ReloadViewPerMin",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectFirstItem","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center;",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"optionLinkBillboardId","optionloadComponent","optionsortType","optionloadByRoute"],["class","row alert alert-custom alert-white alert-shadow gutter-b",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.speedView",1,"color-highlight"],["type","number","name","dataModel.speedView","min","3","max","10","id","dataModel.speedView",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.reloadViewPerMin",1,"color-highlight"],["type","number","name","dataModel.reloadViewPerMin","min","1","max","10","id","dataModel.reloadViewPerMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",3,"disabled"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],[1,"col-md-12","col-sm-12","col-xs-18"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",8),a(1,"div",9),S(2,"app-progress-spinner",10),a(3,"div",11)(4,"p",12),d(5),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",13,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"div",14)(12,"label",15),d(13),l(),a(14,"input",16,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(16,hE,1,0,"i",17)(17,gE,1,0,"i",18),a(18,"em"),d(19),l(),I(20,yE,5,3,"mat-error",19),l(),a(21,"div",14)(22,"label",20),d(23),l(),a(24,"textarea",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(26,"          "),l(),a(27,"em"),d(28),l(),I(29,CE,5,3,"mat-error",19),l(),I(30,IE,10,7,"div",22)(31,ME,5,4,"div",22)(32,EE,5,4,"div",22),a(33,"p"),d(34),g(35,"translate"),l(),a(36,"app-estate-property-autocomplete",23),g(37,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorProperty(c))}),l(),a(38,"p"),d(39),g(40,"translate"),l(),S(41,"hr"),a(42,"div",24)(43,"div",25)(44,"h5",26),d(45),l()(),a(46,"div",27)(47,"div",28)(48,"input",29),x("ngModelChange",function(c){return f(m),T(e.dataModel.includeAllSite,c)||(e.dataModel.includeAllSite=c),_(c)}),l(),S(49,"label",30),l()()(),I(50,vE,3,3,"p",19)(51,bE,3,3,"P",19)(52,wE,2,5,"app-estate-property-type-usage-autocomplete",31)(53,TE,2,5,"app-estate-property-type-landuse-autocomplete",31),S(54,"br"),I(55,xE,2,5,"app-estate-contract-type-autocomplete",31)(56,AE,2,5,"app-cms-currency-selector",32)(57,PE,2,5,"app-cms-location-autocomplete",31),S(58,"br"),d(59),g(60,"translate"),S(61,"hr"),a(62,"div",33)(63,"div",34)(64,"div",14)(65,"label",35),d(66),l(),a(67,"select",36,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.resultSortColumn,c)||(e.dataModel.resultSortColumn=c),_(c)}),I(69,kE,2,2,"option",37),l(),a(70,"span"),S(71,"i",38),l(),S(72,"em"),l()(),a(73,"div",39),I(74,DE,4,3,"div",40),l()(),I(75,RE,29,28,"div",41)(76,LE,10,8,"div",42),l(),S(77,"app-estate-property-list",43,4),l()(),I(79,FE,2,0,"div",44)}if(i&2){let m=D(15),h=D(25);p("Key","estate.billboard.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(8,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.fieldsInfo.speedView==null?null:e.fieldsInfo.speedView.accessWatchField),r(),p("ngIf",e.fieldsInfo.reloadViewPerMin==null?null:e.fieldsInfo.reloadViewPerMin.accessWatchField),r(2),C(" ",y(35,48,"TITLE.specific_property_list")," "),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyIds!=null&&e.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",y(37,50,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIds),r(3),b(y(40,52,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")),r(6),C(" ",e.fieldsInfo.includeAllSite==null?null:e.fieldsInfo.includeAllSite.fieldTitle,""),r(3),w("ngModel",e.dataModel.includeAllSite),r(2),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(2),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(),p("ngIf",!e.LinkPropertyIdsInUse),r(2),C(" ",y(60,54,"ACTION.SEARCH"),": "),r(7),b(e.fieldsInfo.resultSortColumn==null?null:e.fieldsInfo.resultSortColumn.fieldTitle),r(),w("ngModel",e.dataModel.resultSortColumn),r(2),p("ngForOf",e.dataFieldInfoModel),r(5),p("ngIf",(e.dataModel==null||e.dataModel.resultSortColumn==null?null:e.dataModel.resultSortColumn.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.urlViewContentQRCodeBase64==null?null:e.dataModel.urlViewContentQRCodeBase64.length)>0&&(e.dataModel==null||e.dataModel.urlViewContent==null?null:e.dataModel.urlViewContent.length)>0),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),p("optionLinkBillboardId",e.dataModel.id)("optionloadComponent",e.optionloadComponent)("optionsortType",e.dataModel.resultSortType)("optionloadByRoute",!1),r(2),p("ngIf",e.loadResult==="estatePropertyList")}},dependencies:[ce,We,N,Ae,qr,Qr,te,Rt,Ft,jr,z,ve,be,ke,we,Pa,Aa,X,xe,li,Re,$,Ei,vi,qt,Ua,j,to,ul,fl,hi,la,_l,U,ia],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.resultSortIcon[_ngcontent-%COMP%]{font-size:20px;align-self:center}"]});let o=s;return o})();var OE=()=>["expandedTitle"],BE=()=>["expandedDetail"],HE=()=>[5,10,20,100],Yd=o=>({display:o});function WE(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",55),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",56)(3,"br"),l(),a(4,"p",23),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function NE(o,s){if(o&1){let n=v();a(0,"a",57),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(1,"i",58)(2,"br"),l()}}function GE(o,s){if(o&1){let n=v();a(0,"a",59),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(1,"i",60)(2,"br"),l()}}function UE(o,s){if(o&1){let n=v();a(0,"a",61),M("click",function(i){f(n);let e=u();return _(e.onActionButtonCopyNewRow(e.tableRowSelected,i))}),S(1,"i",62)(2,"br"),l()}}function jE(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function qE(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",63),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",64),l()()}}function QE(o,s){o&1&&(a(0,"mat-header-cell",65),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function zE(o,s){if(o&1&&(S(0,"img",67),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function YE(o,s){if(o&1&&(a(0,"mat-cell"),I(1,zE,2,3,"img",66),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function KE(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ZE(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function JE(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function XE(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function $E(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function ev(o,s){if(o&1&&S(0,"select",70),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Yd,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function tv(o,s){if(o&1&&(a(0,"mat-cell",68),g(1,"statusCellClass"),S(2,"i",68),g(3,"statusIconClass"),I(4,ev,1,5,"select",69),l()),o&2){let n=s.$implicit,t=u();p("ngClass",y(1,3,n.recordStatus)),r(2),p("ngClass",y(3,5,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function iv(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function nv(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function ov(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.speedView==null?null:n.fieldsInfo.speedView.fieldTitle," ")}}function rv(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.speedView,"")}}function av(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.reloadViewPerMin==null?null:n.fieldsInfo.reloadViewPerMin.fieldTitle," ")}}function lv(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.reloadViewPerMin,"")}}function sv(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function dv(o,s){if(o&1&&(a(0,"mat-cell",71)(1,"button",72)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function cv(o,s){o&1&&(a(0,"mat-header-cell",65),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function pv(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",73),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",74),d(3,"\u2197"),l()()()}}function mv(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function uv(o,s){if(o&1&&(S(0,"img",79),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function fv(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," : ",n.description," ")}}function _v(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),g(4,"translate"),l()()),o&2){let n=u().$implicit;r(3),fe("",y(4,2,"TITLE.Description_Hidden")," : ",n.descriptionHidden," ")}}function hv(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,uv,2,3,"img",75),l(),a(6,"th")(7,"span",76),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",77),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),I(14,fv,4,2,"tr",78)(15,_v,5,4,"tr",78),a(16,"tr"),S(17,"td")(18,"td"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),fe("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," : ",n.title," "),r(),p("ngIf",n.description),r(),p("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField)}}function gv(o,s){o&1&&S(0,"mat-header-row")}function yv(o,s){if(o&1){let n=v();a(0,"mat-row",80),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Cv(o,s){if(o&1){let n=v();a(0,"mat-row",80),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Sv(o,s){if(o&1){let n=v();a(0,"mat-row",81),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Yd,n.expanded===!0?"":"none"))}}var Kd=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new cr,q,m,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=m,this.router=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","LinkSiteId","RecordStatus","SpeedView","ReloadViewPerMin","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","SpeedView","ReloadViewPerMin","LinkTo","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new cr);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey?(this.link="/#/estate/billboard/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add"])}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/billboard/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkBillboardId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkBillboardId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonOpenBillboard(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonCopyNewRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/billboard/add-copy/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/billboard/add-copy",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_billboards_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(Zo),E(Ye),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-billboard-list"]],features:[le],decls:109,vars:52,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta","target","_blank",3,"click",4,"ngIf"],[1,"font-11","text-center","opacity-70"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red","target","_blank",3,"click",4,"ngIf"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","SpeedView"],["matColumnDef","ReloadViewPerMin"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),a(10,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(11,"i",12),l(),a(12,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(13,"i",13),l(),k(),P(14,14),a(15,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(16,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(17),g(18,"translate"),l(),a(19,"a",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(20,"mat-slide-toggle",17),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(21),g(22,"translate"),l(),k(),P(23,18),I(24,WE,7,3,"div",19),k(),P(25,20),a(26,"div",21),I(27,NE,3,0,"a",22),a(28,"p",23),d(29),g(30,"translate"),l()(),a(31,"div",21),I(32,GE,3,0,"a",24),a(33,"p",23),d(34),g(35,"translate"),l()(),a(36,"div",21)(37,"a",11),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(38,"i",25)(39,"br"),l(),a(40,"p",23),d(41),g(42,"translate"),l()(),a(43,"div",21)(44,"a",11),M("click",function(){return f(m),_(e.onActionButtonOpenBillboard(e.tableRowSelected))}),S(45,"i",26)(46,"br"),l(),a(47,"p",23),d(48),g(49,"translate"),l()(),a(50,"div",21),I(51,UE,3,0,"a",27),a(52,"p",23),d(53),g(54,"translate"),l()(),a(55,"div",21)(56,"a",8),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(57,"i",28)(58,"br"),l(),a(59,"p",23),d(60),g(61,"translate"),l()(),k(),P(62,29),a(63,"app-cms-search-list",30),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(64,"app-cms-statist-list",30),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(65,31),a(66,"mat-table",32,0),M("matSortChange",function(){f(m);let c=D(67);return _(e.onTableSortData(c))}),P(68,33),I(69,jE,3,3,"mat-header-cell",34)(70,qE,3,0,"mat-cell",35),k(),P(71,36),I(72,QE,3,3,"mat-header-cell",37)(73,YE,2,1,"mat-cell",35),k(),P(74,38),I(75,KE,2,1,"mat-header-cell",37)(76,ZE,2,1,"mat-cell",35),k(),P(77,39),I(78,JE,2,1,"mat-header-cell",37)(79,XE,4,5,"mat-cell",35),k(),P(80,40),I(81,$E,2,1,"mat-header-cell",37)(82,tv,5,7,"mat-cell",41),k(),P(83,42),I(84,iv,2,1,"mat-header-cell",37)(85,nv,2,1,"mat-cell",35),k(),P(86,43),I(87,ov,2,1,"mat-header-cell",37)(88,rv,2,1,"mat-cell",35),k(),P(89,44),I(90,av,2,1,"mat-header-cell",37)(91,lv,2,1,"mat-cell",35),k(),P(92,45),I(93,sv,3,3,"mat-header-cell",34)(94,dv,6,1,"mat-cell",46),k(),P(95,47),I(96,cv,3,3,"mat-header-cell",37)(97,pv,4,0,"mat-cell",35),k(),P(98,48),I(99,mv,2,1,"mat-cell",35),k(),P(100,49),I(101,hv,19,7,"mat-cell",35),k(),I(102,gv,1,0,"mat-header-row",50)(103,yv,1,6,"mat-row",51)(104,Cv,1,6,"mat-row",51)(105,Sv,1,9,"mat-row",52),l(),k(),P(106,53),a(107,"mat-paginator",54,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.billboard.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(16),w("ngModel",e.optionsSearch.data.show),r(),C("",y(18,33,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(22,35,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(2),b(y(30,37,"ACTION.EDIT")),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),b(y(35,39,"ACTION.DELETE")),r(7),b(y(42,41,"ACTION.SHOWPROPERTIES")),r(7),b(y(49,43,"ACTION.BILLBOARDDISPLAY")),r(3),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&(e.tableRowSelected==null?null:e.tableRowSelected.id)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),b(y(54,45,"ACTION.COPY")),r(7),b(y(61,47,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(49,OE)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(50,BE)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(51,HE)))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,Ue,U,An,Se,ri,ir],encapsulation:2});let o=s;return o})();var Iv=["vform"],Mv=()=>["fa"];function Ev(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function vv(o,s){o&1&&S(0,"i",29)}function bv(o,s){o&1&&S(0,"i",30)}function wv(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Tv(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,Mv))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function xv(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function Av(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Pv(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var gl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new mr,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCategoryRackService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new mr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ir),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-rack-add"]],viewQuery:function(i,e){if(i&1&&ie(Iv,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:45,vars:42,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,Ev,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",15)(24,"label",19),d(25),l(),a(26,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,vv,1,0,"i",21)(29,bv,1,0,"i",22),a(30,"em"),d(31),l(),I(32,wv,5,3,"mat-error",23),l(),I(33,Tv,7,9,"div",24)(34,xv,11,10,"div",24),a(35,"div",15)(36,"label",25),d(37),l(),a(38,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"            "),l(),a(41,"em"),d(42),l(),I(43,Av,5,3,"mat-error",23),l(),I(44,Pv,9,7,"div",27),l()()()}if(i&2){let m=D(27),h=D(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,34,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,36,"TITLE.PICTURE")),r(2),A("placeholder",y(20,38,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,40,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var kv=["vform"],Dv=()=>["fa"];function Rv(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function Vv(o,s){o&1&&S(0,"i",29)}function Lv(o,s){o&1&&S(0,"i",30)}function Fv(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function Ov(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,Dv))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function Bv(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function Hv(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Wv(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var yl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new mr,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCategoryRackService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new mr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.setAccessLoad(),this.estateCategoryRackService.setAccessDataType(Be.Editor),this.estateCategoryRackService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkCategoryRackId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryRackService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ir),E($i),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-rack-edit"]],viewQuery:function(i,e){if(i&1&&ie(kv,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:45,vars:42,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,Rv,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",15)(24,"label",19),d(25),l(),a(26,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,Vv,1,0,"i",21)(29,Lv,1,0,"i",22),a(30,"em"),d(31),l(),I(32,Fv,5,4,"mat-error",23),l(),I(33,Ov,7,9,"div",24)(34,Bv,11,10,"div",24),a(35,"div",15)(36,"label",25),d(37),l(),a(38,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"          "),l(),a(41,"em"),d(42),l(),I(43,Hv,5,3,"mat-error",23),l(),I(44,Wv,9,7,"div",27),l()()()}if(i&2){let m=D(27),h=D(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,34,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,36,"TITLE.PICTURE")),r(2),A("placeholder",y(20,38,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,40,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Nv=()=>[5,10,20,100],Gv=o=>({background:o});function Uv(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function jv(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function qv(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function Qv(o,s){o&1&&(a(0,"mat-header-cell",47),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function zv(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function Yv(o,s){if(o&1&&(a(0,"mat-cell"),I(1,zv,2,3,"img",48),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function Kv(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function Zv(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function Jv(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Xv(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function $v(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function e2(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function t2(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function i2(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function n2(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function o2(o,s){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function r2(o,s){o&1&&S(0,"mat-header-row")}function a2(o,s){if(o&1){let n=v();a(0,"mat-row",53),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2)),p("ngStyle",Je(5,Gv,n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"#d3d3da":""))}}var Zd=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new mr,q,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new mr);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryRackId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryRackId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(Ir),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-rack-list"]],features:[le],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align: middle","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",12),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(16,"mat-slide-toggle",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,15),I(20,Uv,7,3,"div",16),k(),P(21,17),I(22,jv,7,3,"div",16)(23,qv,7,3,"div",16),a(24,"div",18)(25,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentDetailList(e.tableRowSelected,c))}),S(26,"i",20)(27,"br"),l(),a(28,"p",21),d(29),g(30,"translate"),l()(),a(31,"div",18)(32,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(33,"i",22)(34,"br"),l(),a(35,"p",21),d(36),g(37,"translate"),l()(),k(),P(38,23),a(39,"app-cms-search-list",24),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(40,"app-cms-statist-list",24),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(41,25),a(42,"mat-table",26,0),M("matSortChange",function(){f(m);let c=D(43);return _(e.onTableSortData(c))}),P(44,27),I(45,Qv,3,3,"mat-header-cell",28)(46,Yv,2,1,"mat-cell",29),k(),P(47,30),I(48,Kv,2,1,"mat-header-cell",28)(49,Zv,2,3,"mat-cell",29),k(),P(50,31),I(51,Jv,2,1,"mat-header-cell",28)(52,Xv,2,3,"mat-cell",29),k(),P(53,32),I(54,$v,2,1,"mat-header-cell",28)(55,e2,2,1,"mat-cell",29),k(),P(56,33),I(57,t2,2,1,"mat-header-cell",28)(58,i2,2,1,"mat-cell",29),k(),P(59,34),I(60,n2,3,3,"mat-header-cell",35)(61,o2,6,1,"mat-cell",36),k(),I(62,r2,1,0,"mat-header-row",37)(63,a2,1,7,"mat-row",38),l(),k(),P(64,39),a(65,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,25,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,29,"ACTION.DETAIL")),r(7),b(y(37,31,"ACTION.PROPERTYLIST")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(20),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(33,Nv)))},dependencies:[ce,N,mt,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se]});let o=s;return o})();var l2=["vform"],s2=()=>["fa"];function d2(o,s){if(o&1&&(S(0,"img",29),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function c2(o,s){o&1&&S(0,"i",30)}function p2(o,s){o&1&&S(0,"i",31)}function m2(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function u2(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",32),d(2),l(),a(3,"input",33,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",34),S(6,"i",35),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,s2))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function f2(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",36),d(2),l(),a(3,"div",37)(4,"div",38)(5,"input",39,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",40),S(8,"ngx-ntk-mat-color-toggle",41)(9,"ngx-ntk-mat-color-picker",42,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function _2(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function h2(o,s){if(o&1){let n=v();a(0,"div",43)(1,"button",44),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",45),d(3),g(4,"translate"),l(),a(5,"button",46),S(6,"i",47),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var jl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new ur,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCategoryZoneService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new ur,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)});this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.estateCategoryZoneService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Mr),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-zone-add"]],viewQuery:function(i,e){if(i&1&&ie(l2,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:50,vars:53,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,d2,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",15)(24,"label",19),d(25),l(),a(26,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,c2,1,0,"i",21)(29,p2,1,0,"i",22),a(30,"em"),d(31),l(),I(32,m2,5,3,"mat-error",23),l(),I(33,u2,7,9,"div",24)(34,f2,11,10,"div",24),d(35),g(36,"translate"),a(37,"app-cms-location-autocomplete",25),g(38,"translate"),g(39,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),a(40,"div",15)(41,"label",26),d(42),l(),a(43,"textarea",27,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(45,"          "),l(),a(46,"em"),d(47),l(),I(48,_2,5,3,"mat-error",23),l(),I(49,h2,9,7,"div",28),l()()()}if(i&2){let m=D(27),h=D(44);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,39,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,41,"TITLE.PICTURE")),r(2),A("placeholder",y(20,43,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),C(" ",y(36,47,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(38,49,"TITLE.Region"))("optionLabel",y(39,51,"TITLE.Geographical_Areas")),r(5),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,qt,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var g2=["vform"],y2=()=>["fa"];function C2(o,s){if(o&1&&(S(0,"img",29),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function S2(o,s){o&1&&S(0,"i",30)}function I2(o,s){o&1&&S(0,"i",31)}function M2(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function E2(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",32),d(2),l(),a(3,"input",33,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",34),S(6,"i",35),l()()}if(o&2){let n=u();r(2),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle,""),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,y2))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function v2(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",36),d(2),l(),a(3,"div",37)(4,"div",38)(5,"input",39,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",40),S(8,"ngx-ntk-mat-color-toggle",41)(9,"ngx-ntk-mat-color-picker",42,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function b2(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function w2(o,s){if(o&1){let n=v();a(0,"div",43)(1,"button",44),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",45),d(3),g(4,"translate"),l(),a(5,"button",46),S(6,"i",47),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var ql=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new ur,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCategoryZoneService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new ur,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.setAccessLoad(),this.estateCategoryZoneService.setAccessDataType(Be.Editor),this.estateCategoryZoneService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkCategoryZoneId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCategoryZoneService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Mr),E($i),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-zone-edit"]],viewQuery:function(i,e){if(i&1&&ie(g2,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:50,vars:53,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openSelectFileDescription","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,C2,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),g(22,"translate"),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(23,"div",15)(24,"label",19),d(25),l(),a(26,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(28,S2,1,0,"i",21)(29,I2,1,0,"i",22),a(30,"em"),d(31),l(),I(32,M2,5,4,"mat-error",23),l(),I(33,E2,7,9,"div",24)(34,v2,11,10,"div",24),d(35),g(36,"translate"),a(37,"app-cms-location-autocomplete",25),g(38,"translate"),g(39,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),a(40,"div",15)(41,"label",26),d(42),l(),a(43,"textarea",27,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(45,"      "),l(),a(46,"em"),d(47),l(),I(48,b2,5,3,"mat-error",23),l(),I(49,w2,9,7,"div",28),l()()()}if(i&2){let m=D(27),h=D(44);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,39,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,41,"TITLE.PICTURE")),r(2),A("placeholder",y(20,43,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openSelectFileDescription",y(22,45,"TITLE.The_dimensions_of_the_photo_should_be_600_x_600")),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),C(" ",y(36,47,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(38,49,"TITLE.Region"))("optionLabel",y(39,51,"TITLE.Geographical_Areas")),r(5),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,qt,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var T2=()=>[5,10,20,100];function x2(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function A2(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function P2(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function k2(o,s){o&1&&(a(0,"mat-header-cell",47),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function D2(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function R2(o,s){if(o&1&&(a(0,"mat-cell"),I(1,D2,2,3,"img",48),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function V2(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function L2(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function F2(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function O2(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function B2(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function H2(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function W2(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function N2(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function G2(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function U2(o,s){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function j2(o,s){o&1&&S(0,"mat-header-row")}function q2(o,s){if(o&1){let n=v();a(0,"mat-row",53),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Jd=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new ur,q,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=ae.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ur);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-wide",this.dialog.open(jl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ql,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property-detail/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-detail/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkCategoryZoneId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCategoryZoneId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(Mr),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-category-zone-list"]],features:[le],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",12),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(16,"mat-slide-toggle",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,15),I(20,x2,7,3,"div",16),k(),P(21,17),I(22,A2,7,3,"div",16)(23,P2,7,3,"div",16),a(24,"div",18)(25,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentDetailList(e.tableRowSelected,c))}),S(26,"i",20)(27,"br"),l(),a(28,"p",21),d(29),g(30,"translate"),l()(),a(31,"div",18)(32,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(33,"i",22)(34,"br"),l(),a(35,"p",21),d(36),g(37,"translate"),l()(),k(),P(38,23),a(39,"app-cms-search-list",24),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(40,"app-cms-statist-list",24),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(41,25),a(42,"mat-table",26,0),M("matSortChange",function(){f(m);let c=D(43);return _(e.onTableSortData(c))}),P(44,27),I(45,k2,3,3,"mat-header-cell",28)(46,R2,2,1,"mat-cell",29),k(),P(47,30),I(48,V2,2,1,"mat-header-cell",28)(49,L2,2,3,"mat-cell",29),k(),P(50,31),I(51,F2,2,1,"mat-header-cell",28)(52,O2,2,3,"mat-cell",29),k(),P(53,32),I(54,B2,2,1,"mat-header-cell",28)(55,H2,2,1,"mat-cell",29),k(),P(56,33),I(57,W2,2,1,"mat-header-cell",28)(58,N2,2,1,"mat-cell",29),k(),P(59,34),I(60,G2,3,3,"mat-header-cell",35)(61,U2,6,1,"mat-cell",36),k(),I(62,j2,1,0,"mat-header-row",37)(63,q2,1,6,"mat-row",38),l(),k(),P(64,39),a(65,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,25,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,29,"ACTION.DETAIL")),r(7),b(y(37,31,"ACTION.PROPERTYLIST")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(20),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(33,T2)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se],encapsulation:2});let o=s;return o})();var Q2=["vform"],z2=o=>({direction:o});function Y2(o,s){o&1&&S(0,"i",59)}function K2(o,s){o&1&&S(0,"i",60)}function Z2(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function J2(o,s){o&1&&S(0,"i",59)}function X2(o,s){o&1&&S(0,"i",60)}function $2(o,s){o&1&&(a(0,"mat-error"),d(1," titleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function eb(o,s){o&1&&S(0,"i",59)}function tb(o,s){o&1&&S(0,"i",60)}function ib(o,s){o&1&&(a(0,"mat-error"),d(1," orderTitle is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function nb(o,s){o&1&&S(0,"i",59)}function ob(o,s){o&1&&S(0,"i",60)}function rb(o,s){o&1&&(a(0,"mat-error"),d(1," orderTitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function ab(o,s){o&1&&S(0,"i",59)}function lb(o,s){o&1&&S(0,"i",60)}function sb(o,s){o&1&&(a(0,"mat-error"),d(1," TitleSoldIt is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function db(o,s){o&1&&S(0,"i",59)}function cb(o,s){o&1&&S(0,"i",60)}function pb(o,s){o&1&&(a(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function mb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.allowPriceInquiryCalculate,i)||(e.dataModel.allowPriceInquiryCalculate=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.allowPriceInquiryCalculate==null?null:n.fieldsInfo.allowPriceInquiryCalculate.fieldTitle,""),r(3),w("ngModel",n.dataModel.allowPriceInquiryCalculate)}}function ub(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",68),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasSalePrice,i)||(e.dataModel.hasSalePrice=i),_(i)}),l(),S(7,"label",69),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasSalePrice==null?null:n.fieldsInfo.hasSalePrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasSalePrice)}}function fb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",70),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasRentPrice,i)||(e.dataModel.hasRentPrice=i),_(i)}),l(),S(7,"label",71),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasRentPrice==null?null:n.fieldsInfo.hasRentPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasRentPrice)}}function _b(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasDepositPrice,i)||(e.dataModel.hasDepositPrice=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasDepositPrice==null?null:n.fieldsInfo.hasDepositPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasDepositPrice)}}function hb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",74),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasPeriodPrice,i)||(e.dataModel.hasPeriodPrice=i),_(i)}),l(),S(7,"label",75),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasPeriodPrice==null?null:n.fieldsInfo.hasPeriodPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasPeriodPrice)}}function gb(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function yb(o,s){o&1&&S(0,"hr")}function Cb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",76),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",77),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.salePriceAllowAgreement,i)||(e.dataModel.salePriceAllowAgreement=i),_(i)}),l(),S(7,"label",78),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.salePriceAllowAgreement==null?null:n.fieldsInfo.salePriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.salePriceAllowAgreement)}}function Sb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",79),d(2),l(),a(3,"input",80,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleSalePrice,i)||(e.dataModel.titleSalePrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),w("ngModel",t.dataModel.titleSalePrice),r(3),C("",n.value.length," / 100")}}function Ib(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",81),d(2),l(),a(3,"input",82,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleSalePriceResourceLanguage,i)||(e.dataModel.titleSalePriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleSalePriceResourceLanguage==null?null:t.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleSalePriceResourceLanguage==null?null:t.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleSalePriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function Mb(o,s){o&1&&S(0,"hr")}function Eb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",84),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPriceAllowAgreement,i)||(e.dataModel.rentPriceAllowAgreement=i),_(i)}),l(),S(7,"label",85),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.rentPriceAllowAgreement==null?null:n.fieldsInfo.rentPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.rentPriceAllowAgreement)}}function vb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",86),d(2),l(),a(3,"input",87,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleRentPrice,i)||(e.dataModel.titleRentPrice=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.titleRentPrice==null?null:n.fieldsInfo.titleRentPrice.fieldTitle),r(),A("placeholder",n.fieldsInfo.titleRentPrice==null?null:n.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",n.dataModel.titleRentPrice)}}function bb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",88),d(2),l(),a(3,"input",89,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleRentPriceResourceLanguage,i)||(e.dataModel.titleRentPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleRentPriceResourceLanguage==null?null:t.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.titleRentPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function wb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",90),d(2),l(),a(3,"input",91,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPricePriodTitle,i)||(e.dataModel.rentPricePriodTitle=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.rentPricePriodTitle),r(3),C("",n.value.length," / 100")}}function Tb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",92),d(2),l(),a(3,"input",93,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPricePriodTitleResourceLanguage,i)||(e.dataModel.rentPricePriodTitleResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:t.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.rentPricePriodTitleResourceLanguage),r(3),C("",n.value.length," / 100")}}function xb(o,s){o&1&&S(0,"hr")}function Ab(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",94),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.depositPriceAllowAgreement,i)||(e.dataModel.depositPriceAllowAgreement=i),_(i)}),l(),S(7,"label",95),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.depositPriceAllowAgreement==null?null:n.fieldsInfo.depositPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.depositPriceAllowAgreement)}}function Pb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",96),d(2),l(),a(3,"input",97,13),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleDepositPrice,i)||(e.dataModel.titleDepositPrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleDepositPrice==null?null:t.fieldsInfo.titleDepositPrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleDepositPrice==null?null:t.fieldsInfo.titleDepositPrice.fieldTitle),w("ngModel",t.dataModel.titleDepositPrice),r(3),C("",n.value.length," / 100")}}function kb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",98),d(2),l(),a(3,"input",99,14),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleDepositPriceResourceLanguage,i)||(e.dataModel.titleDepositPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleDepositPriceResourceLanguage==null?null:t.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleDepositPriceResourceLanguage==null?null:t.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleDepositPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function Db(o,s){o&1&&S(0,"hr")}function Rb(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",100),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.periodPriceAllowAgreement,i)||(e.dataModel.periodPriceAllowAgreement=i),_(i)}),l(),S(7,"label",101),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.periodPriceAllowAgreement==null?null:n.fieldsInfo.periodPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.periodPriceAllowAgreement)}}function Vb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",102),d(2),l(),a(3,"input",103,15),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePeriodPrice,i)||(e.dataModel.titlePeriodPrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePeriodPrice==null?null:t.fieldsInfo.titlePeriodPrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePeriodPrice==null?null:t.fieldsInfo.titlePeriodPrice.fieldTitle),w("ngModel",t.dataModel.titlePeriodPrice),r(3),C("",n.value.length," / 100")}}function Lb(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",104),d(2),l(),a(3,"input",105,16),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePeriodPriceResourceLanguage,i)||(e.dataModel.titlePeriodPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:t.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:t.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titlePeriodPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function Fb(o,s){if(o&1&&(a(0,"button",110),S(1,"i",111),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function Ob(o,s){if(o&1){let n=v();a(0,"div",106)(1,"button",107),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",108),d(3),g(4,"translate"),l(),I(5,Fb,4,4,"button",109),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var Ql=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new Vn,c,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateContractTypeService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new Vn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ii),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-add"]],viewQuery:function(i,e){if(i&1&&ie(Q2,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:139,vars:108,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","1","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",17),S(1,"app-progress-spinner",18),a(2,"div",19)(3,"p",20),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",21,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",22)(11,"label",23),d(12),l(),a(13,"input",24,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,Y2,1,0,"i",25)(16,K2,1,0,"i",26),a(17,"em"),d(18),l(),I(19,Z2,5,3,"mat-error",27),l(),a(20,"div",22)(21,"label",28),d(22),l(),a(23,"input",29),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleML,c)||(e.dataModel.titleML=c),_(c)}),l()(),a(24,"div",22)(25,"label",30),d(26),l(),a(27,"input",31,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleResourceLanguage,c)||(e.dataModel.titleResourceLanguage=c),_(c)}),l(),I(29,J2,1,0,"i",25)(30,X2,1,0,"i",26),a(31,"em"),d(32),l(),I(33,$2,5,3,"mat-error",27),l(),S(34,"hr"),a(35,"div",22)(36,"label",32),d(37),l(),a(38,"input",33,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitle,c)||(e.dataModel.orderTitle=c),_(c)}),l(),I(40,eb,1,0,"i",25)(41,tb,1,0,"i",26),a(42,"em"),d(43),l(),I(44,ib,5,3,"mat-error",27),l(),a(45,"div",22)(46,"label",34),d(47),l(),a(48,"input",35),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitleML,c)||(e.dataModel.orderTitleML=c),_(c)}),l()(),a(49,"div",22)(50,"label",36),d(51),l(),a(52,"input",37,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitleResourceLanguage,c)||(e.dataModel.orderTitleResourceLanguage=c),_(c)}),l(),I(54,nb,1,0,"i",25)(55,ob,1,0,"i",26),a(56,"em"),d(57),l(),I(58,rb,5,3,"mat-error",27),l(),a(59,"div",22)(60,"label",38),d(61),l(),a(62,"input",39,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldIt,c)||(e.dataModel.titleSoldIt=c),_(c)}),l(),I(64,ab,1,0,"i",25)(65,lb,1,0,"i",26),a(66,"em"),d(67),l(),I(68,sb,5,3,"mat-error",27),l(),a(69,"div",22)(70,"label",40),d(71),l(),a(72,"input",41,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldItML,c)||(e.dataModel.titleSoldItML=c),_(c)}),l()(),a(74,"div",22)(75,"label",42),d(76),l(),a(77,"input",43,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldItResourceLanguage,c)||(e.dataModel.titleSoldItResourceLanguage=c),_(c)}),l(),I(79,db,1,0,"i",25)(80,cb,1,0,"i",26),a(81,"em"),d(82),l(),I(83,pb,5,3,"mat-error",27),l(),I(84,mb,8,2,"div",44)(85,ub,8,2,"div",44)(86,fb,8,2,"div",44)(87,_b,8,2,"div",44)(88,hb,8,2,"div",44),a(89,"div",22)(90,"label",45),d(91),l(),a(92,"textarea",46,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(94,"em"),d(95),l(),I(96,gb,5,3,"mat-error",27),l(),I(97,yb,1,0,"hr",27)(98,Cb,8,2,"div",44)(99,Sb,7,4,"div",47),a(100,"div",22)(101,"label",48),d(102),l(),a(103,"input",49,8),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSalePriceML,c)||(e.dataModel.titleSalePriceML=c),_(c)}),l(),a(105,"em"),d(106),l()(),I(107,Ib,7,4,"div",47)(108,Mb,1,0,"hr",27)(109,Eb,8,2,"div",44)(110,vb,5,3,"div",47),a(111,"div",22)(112,"label",50),d(113),l(),a(114,"input",51),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleRentPriceML,c)||(e.dataModel.titleRentPriceML=c),_(c)}),l()(),I(115,bb,7,4,"div",47)(116,wb,7,4,"div",47),a(117,"div",22)(118,"label",52),d(119),l(),a(120,"input",53),x("ngModelChange",function(c){return f(m),T(e.dataModel.rentPricePriodTitleML,c)||(e.dataModel.rentPricePriodTitleML=c),_(c)}),l()(),I(121,Tb,7,4,"div",47)(122,xb,1,0,"hr",27)(123,Ab,8,2,"div",44)(124,Pb,7,4,"div",47),a(125,"div",22)(126,"label",54),d(127),l(),a(128,"input",55),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleDepositPriceML,c)||(e.dataModel.titleDepositPriceML=c),_(c)}),l()(),I(129,kb,7,4,"div",47)(130,Db,1,0,"hr",27)(131,Rb,8,2,"div",44)(132,Vb,7,4,"div",47),a(133,"div",22)(134,"label",56),d(135),l(),a(136,"input",57),x("ngModelChange",function(c){return f(m),T(e.dataModel.titlePeriodPriceML,c)||(e.dataModel.titlePeriodPriceML=c),_(c)}),l()(),I(137,Lb,7,4,"div",47)(138,Ob,6,4,"div",58),l()()()}if(i&2){let m=D(14),h=D(28),c=D(39),R=D(53),B=D(63),q=D(78),re=D(93),Ee=D(104);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,104,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(106,z2,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.titleML),p("disabled",!0),r(3),b(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.titleResourceLanguage),p("disabled",!0),r(2),p("ngIf",!h.value),r(),p("ngIf",h.value),r(2),C("",h.value.length," / 100"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(4),b(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),r(),A("placeholder",e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),w("ngModel",e.dataModel.orderTitle),p("disabled",!0),r(2),p("ngIf",!c.value),r(),p("ngIf",c.value),r(2),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.orderTitleML),p("disabled",!0)("disabled",!0),r(3),b(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.orderTitleResourceLanguage),p("disabled",!0),r(2),p("ngIf",!R.value),r(),p("ngIf",R.value),r(2),C("",R.value.length," / 100"),r(),p("ngIf",R.errors==null?null:R.errors.required),r(3),b(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),w("ngModel",e.dataModel.titleSoldIt),r(2),p("ngIf",!B.value),r(),p("ngIf",B.value),r(2),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),b(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),r(),w("ngModel",e.dataModel.titleSoldItML),p("disabled",!0),r(4),b(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),w("ngModel",e.dataModel.titleSoldItResourceLanguage),r(2),p("ngIf",!B.value),r(),p("ngIf",B.value),r(2),C("",q.value.length," / 100"),r(),p("ngIf",q.errors==null?null:q.errors.required),r(),p("ngIf",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",re.value.length," / 500"),r(),p("ngIf",re.errors==null?null:re.errors.required),r(),p("ngIf",e.dataModel.hasSalePrice),r(),p("ngIf",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasSalePrice),r(3),b(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),r(),w("ngModel",e.dataModel.titleSalePriceML),p("disabled",!0),r(3),C("",Ee.value.length," / 100"),r(),p("ngIf",e.dataModel.hasSalePrice),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasRentPrice),r(3),b(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),r(),w("ngModel",e.dataModel.titleRentPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.dataModel.hasRentPrice),r(3),b(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),r(),w("ngModel",e.dataModel.rentPricePriodTitleML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.dataModel.hasDepositPrice),r(),p("ngIf",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasDepositPrice),r(3),b(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),r(),w("ngModel",e.dataModel.titleDepositPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasDepositPrice),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(),p("ngIf",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(3),b(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),r(),w("ngModel",e.dataModel.titlePeriodPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,$,j,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Bb=["vform"],Hb=o=>({direction:o});function Wb(o,s){o&1&&S(0,"i",59)}function Nb(o,s){o&1&&S(0,"i",60)}function Gb(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Ub(o,s){o&1&&S(0,"i",59)}function jb(o,s){o&1&&S(0,"i",60)}function qb(o,s){o&1&&(a(0,"mat-error"),d(1," titleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Qb(o,s){o&1&&S(0,"i",59)}function zb(o,s){o&1&&S(0,"i",60)}function Yb(o,s){o&1&&(a(0,"mat-error"),d(1," orderTitle is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Kb(o,s){o&1&&S(0,"i",59)}function Zb(o,s){o&1&&S(0,"i",60)}function Jb(o,s){o&1&&(a(0,"mat-error"),d(1," orderTitleResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Xb(o,s){o&1&&S(0,"i",59)}function $b(o,s){o&1&&S(0,"i",60)}function ew(o,s){o&1&&(a(0,"mat-error"),d(1," TitleSoldIt is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function tw(o,s){o&1&&S(0,"i",59)}function iw(o,s){o&1&&S(0,"i",60)}function nw(o,s){o&1&&(a(0,"mat-error"),d(1," titleSoldItResourceLanguage is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function ow(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.allowPriceInquiryCalculate,i)||(e.dataModel.allowPriceInquiryCalculate=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.allowPriceInquiryCalculate==null?null:n.fieldsInfo.allowPriceInquiryCalculate.fieldTitle,""),r(3),w("ngModel",n.dataModel.allowPriceInquiryCalculate)}}function rw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",68),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasSalePrice,i)||(e.dataModel.hasSalePrice=i),_(i)}),l(),S(7,"label",69),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasSalePrice==null?null:n.fieldsInfo.hasSalePrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasSalePrice)}}function aw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",70),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasRentPrice,i)||(e.dataModel.hasRentPrice=i),_(i)}),l(),S(7,"label",71),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasRentPrice==null?null:n.fieldsInfo.hasRentPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasRentPrice)}}function lw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasDepositPrice,i)||(e.dataModel.hasDepositPrice=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasDepositPrice==null?null:n.fieldsInfo.hasDepositPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasDepositPrice)}}function sw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",63),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",74),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.hasPeriodPrice,i)||(e.dataModel.hasPeriodPrice=i),_(i)}),l(),S(7,"label",75),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.hasPeriodPrice==null?null:n.fieldsInfo.hasPeriodPrice.fieldTitle,""),r(3),w("ngModel",n.dataModel.hasPeriodPrice)}}function dw(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function cw(o,s){o&1&&S(0,"hr")}function pw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",76),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",77),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.salePriceAllowAgreement,i)||(e.dataModel.salePriceAllowAgreement=i),_(i)}),l(),S(7,"label",78),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.salePriceAllowAgreement==null?null:n.fieldsInfo.salePriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.salePriceAllowAgreement)}}function mw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",79),d(2),l(),a(3,"input",80,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleSalePrice,i)||(e.dataModel.titleSalePrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleSalePrice==null?null:t.fieldsInfo.titleSalePrice.fieldTitle),w("ngModel",t.dataModel.titleSalePrice),r(3),C("",n.value.length," / 100")}}function uw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",81),d(2),l(),a(3,"input",82,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleSalePriceResourceLanguage,i)||(e.dataModel.titleSalePriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleSalePriceResourceLanguage==null?null:t.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleSalePriceResourceLanguage==null?null:t.fieldsInfo.titleSalePriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleSalePriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function fw(o,s){o&1&&S(0,"hr")}function _w(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",84),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPriceAllowAgreement,i)||(e.dataModel.rentPriceAllowAgreement=i),_(i)}),l(),S(7,"label",85),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.rentPriceAllowAgreement==null?null:n.fieldsInfo.rentPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.rentPriceAllowAgreement)}}function hw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",86),d(2),l(),a(3,"input",87,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleRentPrice,i)||(e.dataModel.titleRentPrice=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.titleRentPrice==null?null:n.fieldsInfo.titleRentPrice.fieldTitle),r(),A("placeholder",n.fieldsInfo.titleRentPrice==null?null:n.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",n.dataModel.titleRentPrice)}}function gw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",88),d(2),l(),a(3,"input",89,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleRentPriceResourceLanguage,i)||(e.dataModel.titleRentPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleRentPriceResourceLanguage==null?null:t.fieldsInfo.titleRentPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.titleRentPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function yw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",90),d(2),l(),a(3,"input",91,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPricePriodTitle,i)||(e.dataModel.rentPricePriodTitle=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.rentPricePriodTitle==null?null:t.fieldsInfo.rentPricePriodTitle.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.rentPricePriodTitle),r(3),C("",n.value.length," / 100")}}function Cw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",92),d(2),l(),a(3,"input",93,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.rentPricePriodTitleResourceLanguage,i)||(e.dataModel.rentPricePriodTitleResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.rentPricePriodTitleResourceLanguage==null?null:t.fieldsInfo.rentPricePriodTitleResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleRentPrice==null?null:t.fieldsInfo.titleRentPrice.fieldTitle),w("ngModel",t.dataModel.rentPricePriodTitleResourceLanguage),r(3),C("",n.value.length," / 100")}}function Sw(o,s){o&1&&S(0,"hr")}function Iw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",94),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.depositPriceAllowAgreement,i)||(e.dataModel.depositPriceAllowAgreement=i),_(i)}),l(),S(7,"label",95),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.depositPriceAllowAgreement==null?null:n.fieldsInfo.depositPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.depositPriceAllowAgreement)}}function Mw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",96),d(2),l(),a(3,"input",97,13),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleDepositPrice,i)||(e.dataModel.titleDepositPrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleDepositPrice==null?null:t.fieldsInfo.titleDepositPrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleDepositPrice==null?null:t.fieldsInfo.titleDepositPrice.fieldTitle),w("ngModel",t.dataModel.titleDepositPrice),r(3),C("",n.value.length," / 100")}}function Ew(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",98),d(2),l(),a(3,"input",99,14),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titleDepositPriceResourceLanguage,i)||(e.dataModel.titleDepositPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titleDepositPriceResourceLanguage==null?null:t.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titleDepositPriceResourceLanguage==null?null:t.fieldsInfo.titleDepositPriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titleDepositPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function vw(o,s){o&1&&S(0,"hr")}function bw(o,s){if(o&1){let n=v();a(0,"div",61)(1,"div",62)(2,"h5",83),d(3),l()(),a(4,"div",64)(5,"div",65)(6,"input",100),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.periodPriceAllowAgreement,i)||(e.dataModel.periodPriceAllowAgreement=i),_(i)}),l(),S(7,"label",101),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.periodPriceAllowAgreement==null?null:n.fieldsInfo.periodPriceAllowAgreement.fieldTitle,""),r(3),w("ngModel",n.dataModel.periodPriceAllowAgreement)}}function ww(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",102),d(2),l(),a(3,"input",103,15),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePeriodPrice,i)||(e.dataModel.titlePeriodPrice=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePeriodPrice==null?null:t.fieldsInfo.titlePeriodPrice.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePeriodPrice==null?null:t.fieldsInfo.titlePeriodPrice.fieldTitle),w("ngModel",t.dataModel.titlePeriodPrice),r(3),C("",n.value.length," / 100")}}function Tw(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",104),d(2),l(),a(3,"input",105,16),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.titlePeriodPriceResourceLanguage,i)||(e.dataModel.titlePeriodPriceResourceLanguage=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:t.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),r(),A("placeholder",t.fieldsInfo.titlePeriodPriceResourceLanguage==null?null:t.fieldsInfo.titlePeriodPriceResourceLanguage.fieldTitle),w("ngModel",t.dataModel.titlePeriodPriceResourceLanguage),r(3),C("",n.value.length," / 100")}}function xw(o,s){if(o&1){let n=v();a(0,"div",106)(1,"button",107),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",108),d(3),g(4,"translate"),l(),a(5,"button",109),S(6,"i",110),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var zl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new Vn,c,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateContractTypeService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new Vn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.setAccessLoad(),this.estateContractTypeService.setAccessDataType(Be.Editor),this.estateContractTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ii),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-edit"]],viewQuery:function(i,e){if(i&1&&ie(Bb,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:136,vars:107,consts:[["vform","ngForm"],["Title",""],["titleResourceLanguage",""],["orderTitle",""],["orderTitleResourceLanguage",""],["TitleSoldIt",""],["titleSoldItResourceLanguage",""],["Description",""],["TitleSalePrice",""],["titleSalePriceResourceLanguage",""],["titleRentPriceResourceLanguage",""],["rentPricePriodTitle",""],["rentPricePriodTitleResourceLanguage",""],["TitleDepositPrice",""],["titleDepositPriceResourceLanguage",""],["TitlePeriodPrice",""],["titlePeriodPriceResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitle","minlength","3","maxlength","100","required","","id","dataModel.orderTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.orderTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleML","id","dataModel.orderTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.orderTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.orderTitleResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.orderTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.titleSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldIt","minlength","3","maxlength","100","required","","id","dataModel.titleSoldIt",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSoldItML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItML","id","dataModel.titleSoldItML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleSoldItResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSoldItResourceLanguage","minlength","1","maxlength","100","required","","id","dataModel.titleSoldItResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.titleSalePriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceML","id","dataModel.titleSalePriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleRentPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceML","id","dataModel.titleRentPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.rentPricePriodTitleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleML","id","dataModel.rentPricePriodTitleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleDepositPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceML","id","dataModel.titleDepositPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titlePeriodPriceML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceML","id","dataModel.titlePeriodPriceML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasPeriodPrice",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.allowPriceInquiryCalculate","name","dataModel.allowPriceInquiryCalculate",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.allowPriceInquiryCalculate",1,"custom-control-label"],["type","checkbox","id","dataModel.hasSalePrice","name","dataModel.hasSalePrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasSalePrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasRentPrice","name","dataModel.hasRentPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasRentPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasDepositPrice","name","dataModel.hasDepositPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasDepositPrice",1,"custom-control-label"],["type","checkbox","id","dataModel.hasPeriodPrice","name","dataModel.hasPeriodPrice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasPeriodPrice",1,"custom-control-label"],["data-trigger-switch","dataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.salePriceAllowAgreement","name","dataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleSalePrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePrice","minlength","1","maxlength","100","id","dataModel.titleSalePrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleSalePriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleSalePriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleSalePriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["data-trigger-switch","dataModel.rentPriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","dataModel.rentPriceAllowAgreement","name","dataModel.rentPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleRentPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPrice","minlength","1","maxlength","100","id","dataModel.titleRentPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleRentPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleRentPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleRentPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitle",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitle","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rentPricePriodTitleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.rentPricePriodTitleResourceLanguage","minlength","1","maxlength","100","id","dataModel.rentPricePriodTitleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.depositPriceAllowAgreement","name","dataModel.depositPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titleDepositPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.   titleDepositPrice","minlength","1","maxlength","100","id","dataModel.titleDepositPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titleDepositPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleDepositPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titleDepositPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["type","checkbox","id","dataModel.periodPriceAllowAgreement","name","dataModel.periodPriceAllowAgreement",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAllowAgreement",1,"custom-control-label"],["for","dataModel.titlePeriodPrice",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPrice","minlength","1","maxlength","100","id","dataModel.titlePeriodPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.titlePeriodPriceResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titlePeriodPriceResourceLanguage","minlength","1","maxlength","100","id","dataModel.titlePeriodPriceResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",17),S(1,"app-progress-spinner",18),a(2,"div",19)(3,"p",20),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",21,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",22)(11,"label",23),d(12),l(),a(13,"input",24,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,Wb,1,0,"i",25)(16,Nb,1,0,"i",26),a(17,"em"),d(18),l(),I(19,Gb,5,3,"mat-error",27),l(),a(20,"div",22)(21,"label",28),d(22),l(),a(23,"input",29),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleML,c)||(e.dataModel.titleML=c),_(c)}),l()(),a(24,"div",22)(25,"label",30),d(26),l(),a(27,"input",31,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleResourceLanguage,c)||(e.dataModel.titleResourceLanguage=c),_(c)}),l(),I(29,Ub,1,0,"i",25)(30,jb,1,0,"i",26),a(31,"em"),d(32),l(),I(33,qb,5,3,"mat-error",27),l(),S(34,"hr"),a(35,"div",22)(36,"label",32),d(37),l(),a(38,"input",33,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitle,c)||(e.dataModel.orderTitle=c),_(c)}),l(),I(40,Qb,1,0,"i",25)(41,zb,1,0,"i",26),a(42,"em"),d(43),l(),I(44,Yb,5,3,"mat-error",27),l(),a(45,"div",22)(46,"label",34),d(47),l(),a(48,"input",35),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitleML,c)||(e.dataModel.orderTitleML=c),_(c)}),l()(),a(49,"div",22)(50,"label",36),d(51),l(),a(52,"input",37,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.orderTitleResourceLanguage,c)||(e.dataModel.orderTitleResourceLanguage=c),_(c)}),l(),I(54,Kb,1,0,"i",25)(55,Zb,1,0,"i",26),a(56,"em"),d(57),l(),I(58,Jb,5,3,"mat-error",27),l(),a(59,"div",22)(60,"label",38),d(61),l(),a(62,"input",39,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldIt,c)||(e.dataModel.titleSoldIt=c),_(c)}),l(),I(64,Xb,1,0,"i",25)(65,$b,1,0,"i",26),a(66,"em"),d(67),l(),I(68,ew,5,3,"mat-error",27),l(),a(69,"div",22)(70,"label",40),d(71),l(),a(72,"input",41,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldItML,c)||(e.dataModel.titleSoldItML=c),_(c)}),l()(),a(74,"div",22)(75,"label",42),d(76),l(),a(77,"input",43,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSoldItResourceLanguage,c)||(e.dataModel.titleSoldItResourceLanguage=c),_(c)}),l(),I(79,tw,1,0,"i",25)(80,iw,1,0,"i",26),a(81,"em"),d(82),l(),I(83,nw,5,3,"mat-error",27),l(),I(84,ow,8,2,"div",44)(85,rw,8,2,"div",44)(86,aw,8,2,"div",44)(87,lw,8,2,"div",44)(88,sw,8,2,"div",44),a(89,"div",22)(90,"label",45),d(91),l(),a(92,"textarea",46,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(94,"em"),d(95),l(),I(96,dw,5,3,"mat-error",27),l(),I(97,cw,1,0,"hr",27)(98,pw,8,2,"div",44)(99,mw,7,4,"div",47),a(100,"div",22)(101,"label",48),d(102),l(),a(103,"input",49),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleSalePriceML,c)||(e.dataModel.titleSalePriceML=c),_(c)}),l()(),I(104,uw,7,4,"div",47)(105,fw,1,0,"hr",27)(106,_w,8,2,"div",44)(107,hw,5,3,"div",47),a(108,"div",22)(109,"label",50),d(110),l(),a(111,"input",51),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleRentPriceML,c)||(e.dataModel.titleRentPriceML=c),_(c)}),l()(),I(112,gw,7,4,"div",47)(113,yw,7,4,"div",47),a(114,"div",22)(115,"label",52),d(116),l(),a(117,"input",53),x("ngModelChange",function(c){return f(m),T(e.dataModel.rentPricePriodTitleML,c)||(e.dataModel.rentPricePriodTitleML=c),_(c)}),l()(),I(118,Cw,7,4,"div",47)(119,Sw,1,0,"hr",27)(120,Iw,8,2,"div",44)(121,Mw,7,4,"div",47),a(122,"div",22)(123,"label",54),d(124),l(),a(125,"input",55),x("ngModelChange",function(c){return f(m),T(e.dataModel.titleDepositPriceML,c)||(e.dataModel.titleDepositPriceML=c),_(c)}),l()(),I(126,Ew,7,4,"div",47)(127,vw,1,0,"hr",27)(128,bw,8,2,"div",44)(129,ww,7,4,"div",47),a(130,"div",22)(131,"label",56),d(132),l(),a(133,"input",57),x("ngModelChange",function(c){return f(m),T(e.dataModel.titlePeriodPriceML,c)||(e.dataModel.titlePeriodPriceML=c),_(c)}),l()(),I(134,Tw,7,4,"div",47)(135,xw,9,7,"div",58),l()()()}if(i&2){let m=D(14),h=D(28),c=D(39),R=D(53),B=D(63),q=D(78),re=D(93);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,103,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(105,Hb,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.titleML),p("disabled",!0),r(3),b(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.titleResourceLanguage),p("disabled",!0),r(2),p("ngIf",!h.value),r(),p("ngIf",h.value),r(2),C("",h.value.length," / 100"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(4),b(e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),r(),A("placeholder",e.fieldsInfo.orderTitle==null?null:e.fieldsInfo.orderTitle.fieldTitle),w("ngModel",e.dataModel.orderTitle),p("disabled",!0),r(2),p("ngIf",!c.value),r(),p("ngIf",c.value),r(2),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.orderTitleML),p("disabled",!0)("disabled",!0),r(3),b(e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.orderTitleResourceLanguage==null?null:e.fieldsInfo.orderTitleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.orderTitleResourceLanguage),p("disabled",!0),r(2),p("ngIf",!R.value),r(),p("ngIf",R.value),r(2),C("",R.value.length," / 100"),r(),p("ngIf",R.errors==null?null:R.errors.required),r(3),b(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),w("ngModel",e.dataModel.titleSoldIt),r(2),p("ngIf",!B.value),r(),p("ngIf",B.value),r(2),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),b(e.fieldsInfo.titleSoldIt==null?null:e.fieldsInfo.titleSoldIt.fieldTitle),r(),w("ngModel",e.dataModel.titleSoldItML),p("disabled",!0),r(4),b(e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),r(),A("placeholder",e.fieldsInfo.titleSoldItResourceLanguage==null?null:e.fieldsInfo.titleSoldItResourceLanguage.fieldTitle),w("ngModel",e.dataModel.titleSoldItResourceLanguage),r(2),p("ngIf",!B.value),r(),p("ngIf",B.value),r(2),C("",q.value.length," / 100"),r(),p("ngIf",q.errors==null?null:q.errors.required),r(),p("ngIf",e.fieldsInfo.allowPriceInquiryCalculate==null?null:e.fieldsInfo.allowPriceInquiryCalculate.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasSalePrice==null?null:e.fieldsInfo.hasSalePrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasRentPrice==null?null:e.fieldsInfo.hasRentPrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasDepositPrice==null?null:e.fieldsInfo.hasDepositPrice.accessWatchField),r(),p("ngIf",e.fieldsInfo.hasPeriodPrice==null?null:e.fieldsInfo.hasPeriodPrice.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",re.value.length," / 500"),r(),p("ngIf",re.errors==null?null:re.errors.required),r(),p("ngIf",e.dataModel.hasSalePrice),r(),p("ngIf",e.fieldsInfo.salePriceAllowAgreement==null?null:e.fieldsInfo.salePriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasSalePrice),r(3),b(e.fieldsInfo.titleSalePrice==null?null:e.fieldsInfo.titleSalePrice.fieldTitle),r(),w("ngModel",e.dataModel.titleSalePriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasSalePrice),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.fieldsInfo.rentPriceAllowAgreement==null?null:e.fieldsInfo.rentPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasRentPrice),r(3),b(e.fieldsInfo.titleRentPrice==null?null:e.fieldsInfo.titleRentPrice.fieldTitle),r(),w("ngModel",e.dataModel.titleRentPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.dataModel.hasRentPrice),r(3),b(e.fieldsInfo.rentPricePriodTitle==null?null:e.fieldsInfo.rentPricePriodTitle.fieldTitle),r(),w("ngModel",e.dataModel.rentPricePriodTitleML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasRentPrice),r(),p("ngIf",e.dataModel.hasDepositPrice),r(),p("ngIf",e.fieldsInfo.depositPriceAllowAgreement==null?null:e.fieldsInfo.depositPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasDepositPrice),r(3),b(e.fieldsInfo.titleDepositPriceML==null?null:e.fieldsInfo.titleDepositPriceML.fieldTitle),r(),w("ngModel",e.dataModel.titleDepositPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasDepositPrice),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(),p("ngIf",e.fieldsInfo.periodPriceAllowAgreement==null?null:e.fieldsInfo.periodPriceAllowAgreement.accessWatchField),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(3),b(e.fieldsInfo.titlePeriodPriceML==null?null:e.fieldsInfo.titlePeriodPriceML.fieldTitle),r(),w("ngModel",e.dataModel.titlePeriodPriceML),p("disabled",!0),r(),p("ngIf",e.dataModel.hasPeriodPrice),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,$,j,U],styles:[".backgroundColor[_ngcontent-%COMP%]{background-color:#d3d3d3}.form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Aw=()=>[5,10,20,100];function Pw(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function kw(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function Dw(o,s){if(o&1){let n=v();a(0,"div",18)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function Rw(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Vw(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function Lw(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Fw(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),fe(" ",n.title," / ",n.orderTitle," ")}}function Ow(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.hasSalePrice==null?null:n.fieldsInfo.hasSalePrice.fieldTitle," ")}}function Bw(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",48),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.hasSalePrice))}}function Hw(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.hasDepositPrice==null?null:n.fieldsInfo.hasDepositPrice.fieldTitle," ")}}function Ww(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",48),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.hasDepositPrice))}}function Nw(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.hasPeriodPrice==null?null:n.fieldsInfo.hasPeriodPrice.fieldTitle," ")}}function Gw(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",48),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.hasPeriodPrice))}}function Uw(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.hasRentPrice==null?null:n.fieldsInfo.hasRentPrice.fieldTitle," ")}}function jw(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",48),g(2,"boolclass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.hasRentPrice))}}function qw(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function Qw(o,s){if(o&1&&(a(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function zw(o,s){o&1&&S(0,"mat-header-row")}function Yw(o,s){if(o&1){let n=v();a(0,"mat-row",51),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Xd=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new Vn,q,m,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=m,this.router=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"],this.tabledisplayedColumnsMobileSource=["HasSalePrice","HasDepositPrice","HasRentPrice","HasPeriodPrice"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=ae.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ql,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkContractTypeId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkContractTypeId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(Ii),E(Ye),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-contract-type-list"]],features:[le],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","HasSalePrice"],["matColumnDef","HasDepositPrice"],["matColumnDef","HasPeriodPrice"],["matColumnDef","HasRentPrice"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",12),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(16,"mat-slide-toggle",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,15),I(20,Pw,7,3,"div",16),k(),P(21,17),I(22,kw,7,3,"div",16)(23,Dw,7,3,"div",16),a(24,"div",18)(25,"a",19),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(26,"i",20)(27,"br"),l(),a(28,"p",21),d(29),g(30,"translate"),l()(),k(),P(31,22),a(32,"app-cms-search-list",23),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(33,"app-cms-statist-list",23),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(34,24),a(35,"mat-table",25,0),M("matSortChange",function(){f(m);let c=D(36);return _(e.onTableSortData(c))}),P(37,26),I(38,Rw,2,1,"mat-header-cell",27)(39,Vw,2,1,"mat-cell",28),k(),P(40,29),I(41,Lw,2,1,"mat-header-cell",27)(42,Fw,2,2,"mat-cell",28),k(),P(43,30),I(44,Ow,2,1,"mat-header-cell",27)(45,Bw,3,3,"mat-cell",28),k(),P(46,31),I(47,Hw,2,1,"mat-header-cell",27)(48,Ww,3,3,"mat-cell",28),k(),P(49,32),I(50,Nw,2,1,"mat-header-cell",27)(51,Gw,3,3,"mat-cell",28),k(),P(52,33),I(53,Uw,2,1,"mat-header-cell",27)(54,jw,3,3,"mat-cell",28),k(),P(55,34),I(56,qw,3,3,"mat-header-cell",35)(57,Qw,6,1,"mat-cell",36),k(),I(58,zw,1,0,"mat-header-row",37)(59,Yw,1,6,"mat-row",38),l(),k(),P(60,39),a(61,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,24,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,26,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,28,"ACTION.Property_to_be_traded")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(23),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,Aw)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,er]});let o=s;return o})();var Kw=["vform"];function Zw(o,s){if(o&1){let n=v();a(0,"div",7)(1,"button",12),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",13),d(3),g(4,"translate"),l()()}o&2&&(r(3),C(" ",y(4,1,"ACTION.CANCEL")," "))}var $d=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCustomerOrderResultService=m,this.cmsToastrService=h,this.tokenHelper=c,this.cdr=R,this.publicHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new pa,this.formInfo=new me,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerOrderResultService.setAccessLoad(),this.estateCustomerOrderResultService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Zr),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-result-view"]],viewQuery:function(i,e){if(i&1&&ie(Kw,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"div",4),S(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),d(13),l(),a(14,"small",9),d(15),l()()(),a(16,"div",10),I(17,Zw,5,3,"div",11),l()()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),r(3),p("dataModel",e.dataModel)("optionMethod",1),r(4),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,j,md,U],encapsulation:2});let o=s;return o})();var Jw=()=>[5,10,20,100];function Xw(o,s){if(o&1&&S(0,"app-estate-customer-order-header",31),o&2){let n=u();p("optionId",n.requestLinkCustomerOrder)}}function $w(o,s){if(o&1){let n=v();a(0,"div",32)(1,"a",33),M("click",function(){f(n);let i=u();return _(i.onActionButtonViewRow(i.tableRowSelected))}),S(2,"i",34)(3,"br"),l(),a(4,"p",35),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.VIEW")))}function eT(o,s){if(o&1){let n=v();a(0,"div",32)(1,"a",36),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",37)(3,"br"),l(),a(4,"p",35),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function tT(o,s){if(o&1&&(a(0,"mat-header-cell",38),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function iT(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function nT(o,s){o&1&&S(0,"mat-header-row")}function oT(o,s){if(o&1){let n=v();a(0,"mat-row",39),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yl=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee){if(super(t,new pa,re,c,B),this.contentService=t,this.activatedRoute=i,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.router=h,this.tokenHelper=c,this.cdr=R,this.translate=B,this.pageInfo=q,this.publicHelper=re,this.dialog=Ee,this.requestLinkCustomerOrder="",this.requestLinkProperty="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Description"],this.tabledisplayedColumnsMobileSource=["Description"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkCustomerOrder=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrder"),this.requestLinkProperty=this.activatedRoute.snapshot.paramMap.get("LinkProperty"),this.optionsSearch.parentMethods={onSubmit:Ze=>this.onSubmitOptionsSearch(Ze)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=ae.Descending,this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0){let Ze=new G;this.requestLinkCustomerOrder&&this.requestLinkCustomerOrder.length>0&&(Ze.propertyName="LinkCustomerOrder",Ze.value=this.requestLinkCustomerOrder,this.filteModelContent.filters.push(Ze))}if(this.requestLinkProperty&&this.requestLinkProperty.length>0){let Ze=new G;this.requestLinkProperty&&this.requestLinkProperty.length>0&&(Ze.propertyName="LinkProperty",Ze.value=this.requestLinkProperty,this.filteModelContent.filters.push(Ze))}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pa);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($d,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/customer-order/"])}};s.\u0275fac=function(i){return new(i||s)(E(Zr),E(Ht),E(V),E(Ye),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-result-list"]],features:[le],decls:39,vars:28,consts:[["tableSort","matSort"],["paginator",""],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Description"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"click"]],template:function(i,e){if(i&1){let m=v();I(0,Xw,1,1,"app-estate-customer-order-header",2),a(1,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),qe(2,4)(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.onActionBackToParent())}),S(7,"i",9),l(),a(8,"a",10),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(9,"i",11),l(),a(10,"a",10),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(11,"i",12),l(),k(),P(12,13),a(13,"a",14),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(14,"mat-slide-toggle",15),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(15),g(16,"translate"),l(),a(17,"a",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(18,"mat-slide-toggle",16),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(19),g(20,"translate"),l(),k(),qe(21,17),P(22,18),I(23,$w,7,3,"div",19)(24,eT,7,3,"div",19),k(),P(25,20),a(26,"app-cms-search-list",21),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(27,"app-cms-statist-list",21),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(28,22),a(29,"mat-table",23,0),M("matSortChange",function(){f(m);let c=D(30);return _(e.onTableSortData(c))}),P(31,24),I(32,tT,2,1,"mat-header-cell",25)(33,iT,2,1,"mat-cell",26),k(),I(34,nT,1,0,"mat-header-row",27)(35,oT,1,6,"mat-row",28),l(),k(),P(36,29),a(37,"mat-paginator",30,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkCustomerOrder==null?null:e.requestLinkCustomerOrder.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(13),w("ngModel",e.optionsSearch.data.show),r(),C("",y(16,23,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(20,25,"ACTION.STATIST")," "),r(4),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(5),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(27,Jw)))},dependencies:[N,z,X,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,Vr,U],encapsulation:2});let o=s;return o})();var rT=["vform"];function aT(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",16),d(2," < "),l()}}function lT(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",16),d(2," > "),l()}}function sT(o,s){if(o&1){let n=v();a(0,"div",11)(1,"button",15),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",16),d(3),g(4,"translate"),l(),I(5,aT,3,0,"button",17)(6,lT,3,0,"button",17),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function dT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.Description_Hidden"),":"),r(3),b(n.dataModel.descriptionHidden)}}function cT(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",16),d(2," < "),l()}}function pT(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",16),d(2," > "),l()}}function mT(o,s){if(o&1){let n=v();a(0,"div",11)(1,"button",15),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",16),d(3),g(4,"translate"),l(),I(5,cT,3,0,"button",17)(6,pT,3,0,"button",17),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function uT(o,s){if(o&1&&(P(0),a(1,"div",5),I(2,sT,7,5,"div",6),l(),a(3,"div",7)(4,"table",8)(5,"tbody")(6,"tr")(7,"td"),d(8),l(),a(9,"td"),S(10,"i",9),g(11,"statusIconClass"),l()(),a(12,"tr")(13,"td"),d(14),l(),a(15,"td"),d(16),l()(),a(17,"tr")(18,"td")(19,"b"),d(20),l()(),a(21,"td")(22,"b"),d(23),l()()(),a(24,"tr")(25,"td"),d(26),l(),a(27,"td"),d(28),g(29,"cmsuserinfo"),g(30,"async"),l()(),a(31,"tr")(32,"td"),d(33),l(),a(34,"td"),d(35),l()(),a(36,"tr")(37,"td"),d(38),g(39,"translate"),l(),a(40,"td"),d(41),l()(),I(42,dT,6,4,"tr",4),l()()(),a(43,"div",10)(44,"div",11)(45,"small",12),d(46),l(),a(47,"small",13),d(48),l()()(),a(49,"div",14),I(50,mT,7,5,"div",6),l(),k()),o&2){let n=u();r(2),p("ngIf",n.formInfo.formSubmitAllow),r(6),C("",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(11,17,n.dataModel.recordStatus)),r(4),C("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle,":"),r(2),b(n.dataModel.title),r(4),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle,":"),r(3),b(n.dataModel.caseCode),r(3),C("",n.fieldsInfo.createdBy==null?null:n.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(30,21,y(29,19,n.dataModel.createdBy))),r(5),C("",n.fieldsInfo.linkEstateUserId==null?null:n.fieldsInfo.linkEstateUserId.fieldTitle,":"),r(2),b(n.dataModel.linkEstateUserId),r(3),C("",y(39,23,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description),r(),p("ngIf",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.accessWatchField),r(4),C("",n.formInfo.formAlert," "),r(2),C("",n.formInfo.formError," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var sa=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCustomerOrderService=m,this.cmsToastrService=h,this.tokenHelper=c,this.cdr=R,this.publicHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new hn,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Xi),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(rT,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:6,vars:3,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"content","mb-0",2,"height","100vh"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),I(5,uT,51,25,"ng-container",4),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,li,j,Ue,U,Mi,ri],encapsulation:2});let o=s;return o})();var fT=["vform"],_T=o=>({direction:o});function hT(o,s){o&1&&S(0,"i",26)}function gT(o,s){o&1&&S(0,"i",27)}function yT(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function CT(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function ST(o,s){o&1&&(a(0,"mat-error"),d(1," DescriptionHidden is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function IT(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",28),d(2),l(),a(3,"textarea",29,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,ST,5,3,"mat-error",16),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),r(),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),p("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function MT(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",30),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.activityStatus,i)||(e.dataModel.activityStatus=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelEstateActivityStatusEnumResult),w("model",n.dataModel.activityStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.activityStatus==null?null:n.fieldsInfo.activityStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ET(o,s){if(o&1){let n=v();a(0,"app-estate-account-user-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateUser(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkEstateUserId)("optionPlaceholder",y(1,2,"TITLE.USER"))}}function vT(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",31),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,3,"TITLE.Property_agency"))}}function bT(o,s){if(o&1){let n=v();a(0,"app-estate-property-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorProperty(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkPropertyId)("optionPlaceholder",y(1,2,"TITLE.Property"))}}function wT(o,s){if(o&1){let n=v();a(0,"app-estate-customer-order-selector",21),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCustomerOrderId(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkCustomerOrderId)("optionPlaceholder",y(1,2,"TITLE.Customer"))}}function TT(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",32),d(2),l(),a(3,"input",33),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.appointmentDateFrom,i)||(e.dataModel.appointmentDateFrom=i),_(i)}),l(),S(4,"mat-datepicker-toggle",34)(5,"mat-datepicker",35,4),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.appointmentDateFrom==null?null:t.fieldsInfo.appointmentDateFrom.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.appointmentDateFrom),p("formControl",t.date),r(),p("for",n)}}function xT(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",36),d(2),l(),a(3,"input",37),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.appointmentDateTo,i)||(e.dataModel.appointmentDateTo=i),_(i)}),l(),S(4,"mat-datepicker-toggle",34)(5,"mat-datepicker",35,5),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.appointmentDateTo==null?null:t.fieldsInfo.appointmentDateTo.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.appointmentDateTo),p("formControl",t.date),r(),p("for",n)}}function AT(o,s){if(o&1){let n=v();a(0,"div",38)(1,"button",39),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",40),d(3),g(4,"translate"),l(),a(5,"button",41),S(6,"i",42),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Kl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze){super(m,new $o,Ee,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyHistoryService=m,this.cmsToastrService=h,this.estateEnumService=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.pageInfo=re,this.publicHelper=Ee,this.dialog=Ze,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModel=new $o,this.dataFileModelFiles=new Map,this.formInfo=new me,this.fileManagerOpenForm=!1,this.date=new gt(new Date),this.dataModelEstateActivityStatusEnumResult=new Q,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Yt=>{this.tokenInfo=Yt})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEstateActivityStatusEnum()}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:t=>{this.dataModelEstateActivityStatusEnumResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Be.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((e,m)=>{let h="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(h=this.dataModel.linkFileIdsSrc[m]),this.dataFileModelFiles.set(+e,h)})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,t&&t.id.length>0&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorProperty(t){this.dataModel.linkPropertyId=null,t&&t.id.length>0&&(this.dataModel.linkPropertyId=t.id)}onActionSelectorCustomerOrderId(t){this.dataModel.linkCustomerOrderId=null,t&&t.id.length>0&&(this.dataModel.linkCustomerOrderId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorSelect(t){if(!t||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkActivityTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(co),E(V),E(Ji),E(H),E(Y),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-history-edit"]],viewQuery:function(i,e){if(i&1&&ie(fT,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:38,consts:[["vform","ngForm"],["Title",""],["Description",""],["DescriptionHidden",""],["AppointmentDateFrom",""],["AppointmentDateTo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","1000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"optionChange","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.appointmentDateFrom",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateFrom","id","dataModel.appointmentDateFrom",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.appointmentDateTo",1,"color-highlight"],["matInput","","name","dataModel.appointmentDateTo","id","dataModel.appointmentDateTo",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","formControl"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",6),S(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",10,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",11)(11,"label",12),d(12),l(),a(13,"input",13,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,hT,1,0,"i",14)(16,gT,1,0,"i",15),a(17,"em"),d(18),l(),I(19,yT,5,3,"mat-error",16),l(),a(20,"div",11)(21,"label",17),d(22),l(),a(23,"textarea",18,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(25,"            "),l(),a(26,"em"),d(27),l(),I(28,CT,5,3,"mat-error",16),l(),I(29,IT,8,6,"div",19)(30,MT,1,6,"app-cms-enum-x-selector",20),a(31,"app-estate-activity-type-selector",21),g(32,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),I(33,ET,2,4,"app-estate-account-user-selector",22)(34,vT,2,5,"app-estate-account-agency-selector",23)(35,bT,2,4,"app-estate-property-selector",22)(36,wT,2,4,"app-estate-customer-order-selector",22)(37,TT,7,5,"div",19)(38,xT,7,5,"div",19),a(39,"p"),d(40),g(41,"translate"),l(),a(42,"app-cms-files-selector",24),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l(),I(43,AT,9,7,"div",25),l()()()}if(i&2){let m=D(14),h=D(24);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,30,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(36,_T,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.fieldsInfo.activityStatus==null?null:e.fieldsInfo.activityStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkActivityTypeId)("optionPlaceholder",y(32,32,"TITLE.Category")),r(2),p("ngIf",e.fieldsInfo.linkEstateUserId==null?null:e.fieldsInfo.linkEstateUserId.accessWatchField),r(),p("ngIf",e.fieldsInfo.linkEstateAgencyId==null?null:e.fieldsInfo.linkEstateAgencyId.accessWatchField),r(),p("ngIf",e.fieldsInfo.linkPropertyId==null?null:e.fieldsInfo.linkPropertyId.accessWatchField),r(),p("ngIf",e.fieldsInfo.linkCustomerOrderId==null?null:e.fieldsInfo.linkCustomerOrderId.accessWatchField),r(),p("ngIf",e.fieldsInfo.appointmentDateFrom==null?null:e.fieldsInfo.appointmentDateFrom.accessWatchField),r(),p("ngIf",e.fieldsInfo.appointmentDateTo==null?null:e.fieldsInfo.appointmentDateTo.accessWatchField),r(2),b(y(41,34,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,z,ve,be,ke,we,X,xe,Ot,Un,jn,rn,Re,Oe,$,Ao,j,Hi,il,or,oa,Qi,on,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var Cl=(()=>{let s=class s{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new hr:this.service.ServiceGetOneById(t,1e6).pipe(xt(i=>{var e="";return i.isSuccess&&i.item.title&&i.item.title.length>0&&(e=i.item.title),e},i=>""))}};s.\u0275fac=function(i){return new(i||s)(E(Xi,16))},s.\u0275pipe=gr({name:"estateCustomerOrderInfo",type:s,pure:!0});let o=s;return o})();var Sl=(()=>{let s=class s{constructor(t){this.service=t}transform(t){return!t||t.length<=0?new hr:this.service.ServiceGetOneById(t,1e6).pipe(xt(i=>{var e="";return i.isSuccess&&i.item.title&&i.item.title.length>0&&(e=i.item.title),e},i=>""))}};s.\u0275fac=function(i){return new(i||s)(E(mi,16))},s.\u0275pipe=gr({name:"estatePropertyInfo",type:s,pure:!0});let o=s;return o})();var PT=["vform"];function kT(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",17),d(2," < "),l()}}function DT(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",17),d(2," > "),l()}}function RT(o,s){if(o&1){let n=v();a(0,"div",12)(1,"button",16),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",17),d(3),g(4,"translate"),l(),I(5,kT,3,0,"button",18)(6,DT,3,0,"button",18),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function VT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.appointmentDateFrom==null?null:n.fieldsInfo.appointmentDateFrom.fieldTitle,":"),r(2),b(n.publicHelper.LocaleDateTime(n.dataModel.appointmentDateFrom))}}function LT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.appointmentDateTo==null?null:n.fieldsInfo.appointmentDateTo.fieldTitle,":"),r(2),b(n.publicHelper.LocaleDateTime(n.dataModel.appointmentDateTo))}}function FT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.updatedBy==null?null:n.fieldsInfo.updatedBy.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.updatedBy)))}}function OT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),g(5,"estateAccountUserInfo"),g(6,"async"),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.linkEstateUserId==null?null:n.fieldsInfo.linkEstateUserId.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.linkEstateUserId)))}}function BT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td",10),d(4),g(5,"estateAccountAgencyInfo"),g(6,"async"),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.linkEstateAgencyId==null?null:n.fieldsInfo.linkEstateAgencyId.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.linkEstateAgencyId)))}}function HT(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"estatePropertyInfo"),g(6,"async"),a(7,"button",19),M("click",function(){f(n);let i=u(2);return _(i.onActionButtonPropertyQuickViewRow(i.dataModel.linkPropertyId))}),a(8,"mat-icon"),d(9,"visibility"),l()()()()}if(o&2){let n=u(2);r(2),C("",n.fieldsInfo.linkPropertyId==null?null:n.fieldsInfo.linkPropertyId.fieldTitle,":"),r(2),C("",y(6,4,y(5,2,n.dataModel.linkPropertyId))," ")}}function WT(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"estateCustomerOrderInfo"),g(6,"async"),a(7,"button",19),M("click",function(){f(n);let i=u(2);return _(i.onActionButtonCustomerOrderQuickViewRow(i.dataModel.linkCustomerOrderId))}),a(8,"mat-icon"),d(9,"visibility"),l()()()()}if(o&2){let n=u(2);r(2),C("",n.fieldsInfo.linkCustomerOrderId==null?null:n.fieldsInfo.linkCustomerOrderId.fieldTitle,":"),r(2),C("",y(6,4,y(5,2,n.dataModel.linkCustomerOrderId))," ")}}function NT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description)}}function GT(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.Description_Hidden"),":"),r(3),b(n.dataModel.descriptionHidden)}}function UT(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",17),d(2," < "),l()}}function jT(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",17),d(2," > "),l()}}function qT(o,s){if(o&1){let n=v();a(0,"div",12)(1,"button",16),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",17),d(3),g(4,"translate"),l(),I(5,UT,3,0,"button",18)(6,jT,3,0,"button",18),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function QT(o,s){if(o&1&&(P(0),a(1,"div",5),I(2,RT,7,5,"div",6),l(),a(3,"div",7)(4,"table",8)(5,"tbody")(6,"tr")(7,"td"),d(8),l(),a(9,"td"),S(10,"i",9),g(11,"statusIconClass"),l()(),a(12,"tr")(13,"td"),d(14),l(),a(15,"td"),d(16),l()(),a(17,"tr")(18,"td")(19,"b"),d(20),l()(),a(21,"td")(22,"b"),d(23),l()()(),I(24,VT,5,2,"tr",4)(25,LT,5,2,"tr",4),a(26,"tr")(27,"td"),d(28),l(),a(29,"td",10),d(30),g(31,"cmsuserinfo"),g(32,"async"),l()(),I(33,FT,7,6,"tr",4)(34,OT,7,6,"tr",4)(35,BT,7,6,"tr",4)(36,HT,10,6,"tr",4)(37,WT,10,6,"tr",4)(38,NT,6,4,"tr",4)(39,GT,6,4,"tr",4),l()()(),a(40,"div",11)(41,"div",12)(42,"small",13),d(43),l(),a(44,"small",14),d(45),l()()(),a(46,"div",15),I(47,qT,7,5,"div",6),l(),k()),o&2){let n=u();r(2),p("ngIf",n.formInfo.formSubmitAllow),r(6),C("",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(11,21,n.dataModel.recordStatus)),r(4),C("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle,":"),r(2),b(n.dataModel.title),r(4),C(" ",n.fieldsInfo.linkActivityTypeId==null?null:n.fieldsInfo.linkActivityTypeId.fieldTitle,":"),r(3),b(n.dataModel.linkActivityTypeId),r(),p("ngIf",n.dataModel.appointmentDateFrom),r(),p("ngIf",n.dataModel.appointmentDateTo),r(3),C("",n.fieldsInfo.createdBy==null?null:n.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(32,25,y(31,23,n.dataModel.createdBy))),r(3),p("ngIf",n.dataModel.updatedBy),r(),p("ngIf",(n.dataModel.linkEstateUserId==null?null:n.dataModel.linkEstateUserId.length)>0),r(),p("ngIf",(n.dataModel.linkEstateAgencyId==null?null:n.dataModel.linkEstateAgencyId.length)>0),r(),p("ngIf",(n.dataModel.linkPropertyId==null?null:n.dataModel.linkPropertyId.length)>0),r(),p("ngIf",(n.dataModel.linkCustomerOrderId==null?null:n.dataModel.linkCustomerOrderId.length)>0),r(),p("ngIf",(n.dataModel.description==null?null:n.dataModel.description.length)>0),r(),p("ngIf",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.accessWatchField),r(4),C("",n.formInfo.formAlert," "),r(2),C("",n.formInfo.formError," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var Il=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q,re){this.data=t,this.dialogRef=i,this.dialog=e,this.coreEnumService=m,this.estatePropertyHistoryService=h,this.cmsToastrService=c,this.tokenHelper=R,this.cdr=B,this.publicHelper=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new $o,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyHistoryService.setAccessLoad(),this.estatePropertyHistoryService.setAccessDataType(Be.Editor),this.estatePropertyHistoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onActionButtonPropertyQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonCustomerOrderQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(De),E(ee),E(co),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-history-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(PT,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:6,vars:3,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"content","mb-0",2,"height","100vh"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["class","form-actions",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body"],[1,"table","table-striped"],[3,"ngClass"],[1,"input-ltr-right"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"click"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),I(5,QT,48,27,"ng-container",4),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,li,ze,se,j,Ue,U,Mi,ri,vr,br,Cl,Sl],encapsulation:2});let o=s;return o})();function zT(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionAdd())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.ADD")))}function YT(o,s){if(o&1){let n=v();a(0,"button",14),M("click",function(){f(n);let i=u();return _(i.onActionEdit())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.EDIT")))}function KT(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u();return _(i.onActionDelete())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.DELETE")))}function ZT(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonReload())}),a(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),l()()}o&2&&(r(),A("title",y(2,1,"ACTION.RELOAD")))}function JT(o,s){if(o&1){let n=v();a(0,"mat-tree-node",18),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),S(1,"button",19)(2,"i",20),d(3),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===n.id),r(2),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," ")}}function XT(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",21),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(3,"button",22),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(4,"mat-icon",23),d(5),l()(),S(6,"i",20),d(7),l(),a(8,"ul"),qe(9,24),l()()()}if(o&2){let n=s.$implicit,t=u();r(2),Me("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===n.id),r(),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," "),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var ic=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cmsConfirmationDialogService=m,this.dialog=h,this.cdr=c,this.publicHelper=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new yn,this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(re=>null),this.dataSource=new xo,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(re,Ee)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new yn,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(el,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(tl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){let m=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(m);return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(zn),E(Ye),E(De),E(H),E(L),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-activity-type-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),P(4,2),I(5,zT,3,3,"button",3)(6,YT,3,3,"button",4)(7,KT,3,3,"button",5)(8,ZT,4,3,"button",6),k(),P(9,7),S(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,JT,4,10,"mat-tree-node",10)(13,XT,10,10,"mat-nested-tree-node",11),l(),k(),qe(14,12),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",y(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&e.dataModelSelect.id&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ce,N,ze,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U]});let o=s;return o})();function ex(o,s){o&1&&S(0,"div",10)}function tx(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonLinkTo())}),a(1,"mat-icon"),d(2,"\u2197 "),l()()}}var Ml=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.headerService=t,this.publicHelper=i,this.cdr=e,this.cmsToastrService=m,this.translate=h,this.dialog=c,this.tokenHelper=R,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?this.dataModelResult=i:this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonLinkTo(t=this.dataModelResult.item){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(en,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:t.title,urlViewContentQRCodeBase64:t.urlViewContentQRCodeBase64,urlViewContent:t.urlViewContent}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(mi),E(L),E(H),E(V),E(O),E(De),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-header"]],inputs:{optionId:"optionId"},decls:34,vars:11,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,"span",6),l(),a(7,"div",7)(8,"h5")(9,"b"),d(10),g(11,"translate"),l()()(),I(12,ex,1,0,"div",8),l(),a(13,"div",4)(14,"div",5)(15,"b"),d(16),l(),d(17,": "),l(),a(18,"div",9),d(19),l(),S(20,"div",10)(21,"div",11),l(),a(22,"div",4)(23,"div",5)(24,"b"),d(25),l(),d(26," : "),l(),a(27,"div",9),d(28),l(),a(29,"div",12)(30,"abbr",13),I(31,tx,3,0,"button",14),l()(),S(32,"div",11),l()()()(),S(33,"div",15)),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),p("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),b(y(11,9,"TITLE.Selected_Property")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),b(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id))},dependencies:[N,se,j,Fi,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var ix=()=>["expandedTitle"],nx=()=>["expandedDetail"],ox=()=>[5,10,20,100],rc=o=>({display:o});function rx(o,s){if(o&1&&S(0,"app-estate-property-header",56),o&2){let n=u();p("optionId",n.requestLinkPropertyId)}}function ax(o,s){if(o&1&&S(0,"app-estate-customer-order-header",56),o&2){let n=u();p("optionId",n.requestLinkCustomerOrderId)}}function lx(o,s){if(o&1&&S(0,"app-estate-account-user-header",56),o&2){let n=u();p("optionId",n.requestLinkEstateUserId)}}function sx(o,s){if(o&1){let n=v();a(0,"div",57)(1,"a",58),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",59)(3,"br"),l(),a(4,"p",60),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function dx(o,s){if(o&1){let n=v();a(0,"div",57)(1,"a",61),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",62)(3,"br"),l(),a(4,"p",60),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function cx(o,s){if(o&1){let n=v();a(0,"div",57)(1,"a",63),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",64)(3,"br"),l(),a(4,"p",60),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function px(o,s){o&1&&(a(0,"mat-error"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"MESSAGE.InvalidStartDate")))}function mx(o,s){o&1&&(a(0,"mat-error"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"MESSAGE.InvalidEndDate")))}function ux(o,s){if(o&1){let n=v();a(0,"div",65)(1,"div",66),d(2),g(3,"translate"),l(),a(4,"mat-form-field",67)(5,"mat-label"),d(6),g(7,"translate"),l(),a(8,"mat-date-range-input",68),S(9,"input",69),g(10,"translate"),S(11,"input",70),g(12,"translate"),l(),S(13,"mat-datepicker-toggle",71)(14,"mat-date-range-picker",null,2),I(16,px,3,3,"mat-error",72)(17,mx,3,3,"mat-error",72),l(),a(18,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionNext())}),S(19,"i",74),l(),a(20,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionPervious())}),S(21,"i",74),d(22," > "),l(),S(23,"br"),a(24,"a",75),M("click",function(){f(n);let i=u();return _(i.onActionButtonInCheckingOnDateSearch())}),d(25),g(26,"translate"),l()()}if(o&2){let n=D(15),t=u();r(2),b(y(3,10,"TITLE.SearchInCheckingOnDay")),r(4),b(y(7,12,"TITLE.Enter_a_date_range")),r(2),p("formGroup",t.checkingOnDayRange)("rangePicker",n),r(),A("placeholder",y(10,14,"TITLE.Start_Date")),r(2),A("placeholder",y(12,16,"TITLE.Start_Date")),r(2),p("for",n),r(3),p("ngIf",t.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),r(),p("ngIf",t.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),r(8),b(y(26,18,"ACTION.SEARCH"))}}function fx(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function _x(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",76),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",77),l()()}}function hx(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function gx(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function yx(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Cx(o,s){if(o&1&&S(0,"select",81),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,rc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Sx(o,s){if(o&1&&(a(0,"mat-cell",79),g(1,"statusCellClass"),S(2,"i",79),g(3,"statusIconClass"),I(4,Cx,1,5,"select",80),l()),o&2){let n=s.$implicit,t=u();p("ngClass",y(1,3,n.recordStatus)),r(2),p("ngClass",y(3,5,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Ix(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Mx(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function Ex(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function vx(o,s){if(o&1&&(a(0,"mat-cell",82),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.createdDate)," ")}}function bx(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.appointmentDateFrom==null?null:n.fieldsInfo.appointmentDateFrom.fieldTitle," ")}}function wx(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),fe(" ",t.publicHelper.LocaleDate(n.appointmentDateFrom)," ",t.publicHelper.getTime(n.appointmentDateFrom),"")}}function Tx(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.appointmentDateTo==null?null:n.fieldsInfo.appointmentDateTo.fieldTitle," ")}}function xx(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),fe(" ",t.publicHelper.LocaleDate(n.appointmentDateTo)," ",t.publicHelper.getTime(n.appointmentDateTo)," ")}}function Ax(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkActivityTypeId==null?null:n.fieldsInfo.linkActivityTypeId.fieldTitle," ")}}function Px(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkActivityTypeId,t.dataModelActivityTypeResult.listItems)," ")}}function kx(o,s){if(o&1&&(a(0,"mat-header-cell",78),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.activityStatus==null?null:n.fieldsInfo.activityStatus.fieldTitle," ")}}function Dx(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"enums"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.activityStatus,t.dataModelEstateActivityStatusEnumResult.listItems)," ")}}function Rx(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function Vx(o,s){if(o&1&&(a(0,"mat-cell",83)(1,"button",84)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,3),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function Lx(o,s){o&1&&(a(0,"mat-header-cell",85),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.QUICK_VIEW")," "))}function Fx(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",86),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonQuickViewRow(i))}),a(2,"mat-icon",87),d(3,"visibility"),l()()()}}function Ox(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function Bx(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td")(5,"span",88),M("click",function(){f(n);let i=u(2);return _(i.onActionCopied())}),d(6),g(7,"estatePropertyInfo"),g(8,"async"),S(9,"i",90),l(),a(10,"button",91),M("click",function(){f(n);let i=u().$implicit,e=u();return _(e.onActionButtonPropertyQuickViewRow(i.linkPropertyId))}),a(11,"mat-icon"),d(12,"visibility"),l()()()()}if(o&2){let n=u().$implicit;r(2),C("",y(3,3,"TITLE.Property_Id"),":"),r(3),p("cdkCopyToClipboard",n.linkPropertyId),r(),C(" ",y(8,7,y(7,5,n.linkPropertyId))," \xA0 ")}}function Hx(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td")(5,"span",88),M("click",function(){f(n);let i=u(2);return _(i.onActionCopied())}),d(6),g(7,"estateCustomerOrderInfo"),g(8,"async"),S(9,"i",89),l(),a(10,"button",91),M("click",function(){f(n);let i=u().$implicit,e=u();return _(e.onActionButtonCustomerOrderQuickViewRow(i.linkCustomerOrderId))}),a(11,"mat-icon"),d(12,"visibility"),l()()()()}if(o&2){let n=u().$implicit;r(2),C(" ",y(3,3,"TITLE.Customer_Order_Id"),":"),r(3),p("cdkCopyToClipboard",n.linkCustomerOrderId),r(),C(" ",y(8,7,y(7,5,n.linkCustomerOrderId))," \xA0 ")}}function Wx(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td")(5,"span",88),M("click",function(){f(n);let i=u(2);return _(i.onActionCopied())}),d(6),g(7,"estateAccountUserInfo"),g(8,"async"),S(9,"i",89),l()()()}if(o&2){let n=u().$implicit;r(2),C("",y(3,3,"TITLE.Expert_Id"),":"),r(3),p("cdkCopyToClipboard",n.linkCustomerOrderId),r(),C(" ",y(8,7,y(7,5,n.linkEstateUserId))," \xA0 ")}}function Nx(o,s){if(o&1){let n=v();a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td")(5,"span",88),M("click",function(){f(n);let i=u(2);return _(i.onActionCopied())}),d(6),g(7,"estateAccountAgencyInfo"),g(8,"async"),S(9,"i",89),l()()()}if(o&2){let n=u().$implicit;r(2),C("",y(3,3,"TITLE.Agency_Id"),":"),r(3),p("cdkCopyToClipboard",n.linkCustomerOrderId),r(),C(" ",y(8,7,y(7,5,n.linkEstateAgencyId))," \xA0 ")}}function Gx(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u().$implicit,t=u();r(2),C("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle,":"),r(2),C(" ",n.title," ")}}function Ux(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),l()()),o&2){let n=u().$implicit,t=u();r(2),C("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle,": "),r(2),C(" ",n.description," ")}}function jx(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"td"),d(5),g(6,"translate"),l(),a(7,"td")(8,"span",88),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),d(9," \xA0 "),S(10,"i",89),l(),d(11),l()(),I(12,Bx,13,9,"tr",72)(13,Hx,13,9,"tr",72)(14,Wx,10,9,"tr",72)(15,Nx,10,9,"tr",72)(16,Gx,5,2,"tr",72)(17,Ux,5,2,"tr",72),a(18,"tr"),S(19,"td"),a(20,"td"),d(21),g(22,"cmsuserinfo"),g(23,"async"),l()(),a(24,"tr"),S(25,"td")(26,"td"),l()()()()}if(o&2){let n=s.$implicit;r(5),C("",y(6,10,"TITLE.Id"),":"),r(3),p("cdkCopyToClipboard",n.id),r(3),C("",n.id," "),r(),p("ngIf",n.linkPropertyId&&n.linkPropertyId.length>0),r(),p("ngIf",n.linkCustomerOrderId&&n.linkCustomerOrderId.length>0),r(),p("ngIf",n.linkEstateUserId&&n.linkEstateUserId.length>0),r(),p("ngIf",n.linkEstateAgencyId&&n.linkEstateAgencyId.length>0),r(),p("ngIf",n.title&&n.title.length>0),r(),p("ngIf",n.description&&n.description.length>0),r(4),C(" ",y(23,14,y(22,12,n.createdBy))," ")}}function qx(o,s){o&1&&S(0,"mat-header-row")}function Qx(o,s){if(o&1){let n=v();a(0,"mat-row",92),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function zx(o,s){if(o&1){let n=v();a(0,"mat-row",92),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yx(o,s){if(o&1){let n=v();a(0,"mat-row",93),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,rc,n.expanded===!0?"":"none"))}}var vn=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze){super(t,new $o,Ee,c,q),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.estateActivityTypeService=m,this.estateEnumService=h,this.tokenHelper=c,this.activatedRoute=R,this.cdr=B,this.translate=q,this.pageInfo=re,this.publicHelper=Ee,this.dialog=Ze,this.requestLinkPropertyId="",this.requestLinkEstateUserId="",this.requestLinkCustomerOrderId="",this.requestLinkEstateAgencyId="",this.constructorInfoAreaId=this.constructor.name,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.popupAdd=!1,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.dataModelActivityTypeResult=new Q,this.searchInCheckingOnDay=!1,this.searchInCheckingOnDayChecked=!1,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","CreatedDate","AppointmentDateFrom","AppointmentDateTo","LinkActivityTypeId","ActivityStatus","QuickView","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CreatedDate","ActivityStatus","QuickView","action_menu"],this.dataModelEstateActivityStatusEnumResult=new Q,this.checkingOnDayRange=new wa({start:new gt(null),end:new gt(null)}),re.updateContentService(t),this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.requestLinkEstateUserId=this.activatedRoute.snapshot.paramMap.get("LinkEstateUserId"),this.requestLinkCustomerOrderId=this.activatedRoute.snapshot.paramMap.get("LinkCustomerOrderId"),this.requestLinkEstateAgencyId=this.activatedRoute.snapshot.paramMap.get("LinkEstateAgencyId"),this.popupAdd=this.activatedRoute.snapshot.paramMap.get("Action")?.toLowerCase()==="add",this.requestRecordStatus=Ge[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.optionsSearch.parentMethods={onSubmit:Yt=>this.onSubmitOptionsSearch(Yt)},this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")&&(this.searchInCheckingOnDay=this.activatedRoute.snapshot.paramMap.get("InCheckingOnDay")==="true"),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=ae.Descending}set optionLinkCustomerOrderId(t){t&&t.length>0&&(this.requestLinkCustomerOrderId=t)}set optionLinkPropertyId(t){t&&t.length>0&&(this.requestLinkPropertyId=t)}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEstateActivityStatusEnum(),this.getActivityTypeList()}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}ngAfterViewInit(){this.searchInCheckingOnDay&&(this.searchInCheckingOnDayChecked=!0)}getEstateActivityStatusEnum(){this.estateEnumService.ServiceEstateActivityStatusEnum().subscribe({next:t=>{this.dataModelEstateActivityStatusEnumResult=t}})}getActivityTypeList(){let t=new pe;t.rowPerPage=100,this.estateActivityTypeService.ServiceGetAllEditor(t).subscribe({next:i=>{this.dataModelActivityTypeResult=i}})}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new $o);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let e=new G;e.propertyName="LinkPropertyId",e.value=this.requestLinkPropertyId,i.filters.push(e)}if(this.requestLinkEstateUserId&&this.requestLinkEstateUserId.length>0){let e=new G;e.propertyName="linkEstateUserId",e.value=this.requestLinkEstateUserId,i.filters.push(e)}if(this.requestLinkCustomerOrderId&&this.requestLinkCustomerOrderId.length>0){let e=new G;e.propertyName="linkCustomerOrderId",e.value=this.requestLinkCustomerOrderId,i.filters.push(e)}if(this.requestLinkEstateAgencyId&&this.requestLinkEstateAgencyId.length>0){let e=new G;e.propertyName="linkEstateAgencyId",e.value=this.requestLinkEstateAgencyId,i.filters.push(e)}if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="LinkActivityTypeId",e.value=this.categoryModelSelected.id,i.filters.push(e)}if(this.searchInCheckingOnDay){let e=new Ha;e=i,this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),e.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,e.onDateTimeTo=this.checkingOnDayRange.controls.end.value,this.contentService.ServiceGetAll(e).subscribe({next:m=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(m.access),m.isSuccess?(this.dataModelResult=m,this.tableSource.data=m.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(m.access)},1e3)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(t),this.popupAdd&&this.onActionButtonNewRow()},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}else this.contentService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t),this.popupAdd&&this.onActionButtonNewRow()},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.popupAdd=!1,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.publicHelper.isMobile?this.dialog.open(jo,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateUserId:this.requestLinkEstateUserId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(jo,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:this.requestLinkPropertyId,linkEstateUserId:this.requestLinkEstateUserId,linkCustomerOrderId:this.requestLinkCustomerOrderId,linkEstateAgencyId:this.requestLinkEstateAgencyId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.publicHelper.isMobile?this.dialog.open(Kl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()}):this.dialog.open(Kl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){let m=this.translate.instant("MESSAGE.no_row_selected_to_delete");this.cmsToastrService.typeErrorSelected(m);return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(i.set(this.translate.instant("MESSAGE.Active"),c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonPropertyQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonQuickViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i=this.publicHelper.InfoNextRowInList(this.dataModelResult.listItems,this.tableRowSelected),e=this.publicHelper.InfoPerviousRowInList(this.dataModelResult.listItems,this.tableRowSelected),m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(Il,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id,perviousItem:e,nextItem:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&c.onActionOpenItem&&c.onActionOpenItem.id.length>0&&this.onActionButtonQuickViewRow(c.onActionOpenItem)})}onActionButtonCustomerOrderQuickViewRow(t){if(!t||t.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonInCheckingOnDate(t){this.searchInCheckingOnDay=t,this.searchInCheckingOnDay?(this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date)):this.DataGetAll()}onActionButtonInCheckingOnDateSearch(){this.searchInCheckingOnDay&&this.DataGetAll()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1))}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(new Date),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(new Date),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1))}addDays(t,i){let e=new Date(t);return e.setDate(e.getDate()+i),e}};s.\u0275fac=function(i){return new(i||s)(E(co),E(Ye),E(V),E(zn),E(Ji),E(Y),E(Ht),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-history-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkCustomerOrderId:"optionLinkCustomerOrderId",optionLinkPropertyId:"optionLinkPropertyId"},features:[le],decls:86,vars:41,consts:[["tableSort","matSort"],["paginator",""],["picker",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],["class","alert alert-info",4,"ngIf"],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["style","direction: ltr; justify-content: center; text-align: center;",4,"matCellDef"],["matColumnDef","AppointmentDateFrom"],["matColumnDef","AppointmentDateTo"],["matColumnDef","LinkActivityTypeId"],["matColumnDef","ActivityStatus"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","QuickView"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"alert","alert-info"],[2,"font-size","30px"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr","justify-content","center","text-align","center"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy","brown-color"],[1,"flaticon2-copy","brown-color",2,"color","brown"],["type","button","mat-icon-button","",3,"click"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();I(0,rx,1,1,"app-estate-property-header",4)(1,ax,1,1,"app-estate-customer-order-header",4)(2,lx,1,1,"app-estate-account-user-header",4),a(3,"app-cms-html-list",5),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(4,6),a(5,"app-estate-activity-type-tree",7),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(6,8)(7,9),P(8,10),a(9,"a",11),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(12,"i",13),l(),a(13,"a",14),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(14,"i",15),l(),a(15,"a",14),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(16,"i",16),l(),k(),P(17,17),a(18,"a",18)(19,"mat-slide-toggle",19),M("click",function(){return f(m),_(e.onActionButtonInCheckingOnDate(!e.searchInCheckingOnDay))}),d(20),g(21,"translate"),l()(),a(22,"a",20),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(23,"mat-slide-toggle",21),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(24),g(25,"translate"),l(),a(26,"a",18)(27,"mat-slide-toggle",22),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(28),g(29,"translate"),l(),k(),P(30,23),I(31,sx,7,3,"div",24),k(),P(32,25),I(33,dx,7,3,"div",24)(34,cx,7,3,"div",24),k(),P(35,26),I(36,ux,27,20,"div",27),a(37,"app-cms-search-list",28),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(38,"app-cms-statist-list",28),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(39,29),a(40,"mat-table",30,0),M("matSortChange",function(){f(m);let c=D(41);return _(e.onTableSortData(c))}),P(42,31),I(43,fx,3,3,"mat-header-cell",32)(44,_x,3,0,"mat-cell",33),k(),P(45,34),I(46,hx,2,1,"mat-header-cell",35)(47,gx,2,1,"mat-cell",33),k(),P(48,36),I(49,yx,2,1,"mat-header-cell",35)(50,Sx,5,7,"mat-cell",37),k(),P(51,38),I(52,Ix,2,1,"mat-header-cell",35)(53,Mx,2,1,"mat-cell",33),k(),P(54,39),I(55,Ex,2,1,"mat-header-cell",35)(56,vx,2,1,"mat-cell",40),k(),P(57,41),I(58,bx,2,1,"mat-header-cell",35)(59,wx,2,2,"mat-cell",33),k(),P(60,42),I(61,Tx,2,1,"mat-header-cell",35)(62,xx,2,2,"mat-cell",33),k(),P(63,43),I(64,Ax,2,1,"mat-header-cell",35)(65,Px,3,4,"mat-cell",33),k(),P(66,44),I(67,kx,2,1,"mat-header-cell",35)(68,Dx,3,4,"mat-cell",33),k(),P(69,45),I(70,Rx,3,3,"mat-header-cell",32)(71,Vx,6,1,"mat-cell",46),k(),P(72,47),I(73,Lx,3,3,"mat-header-cell",48)(74,Fx,4,0,"mat-cell",33),k(),P(75,49),I(76,Ox,2,1,"mat-cell",33),k(),P(77,50),I(78,jx,27,16,"mat-cell",33),k(),I(79,qx,1,0,"mat-header-row",51)(80,Qx,1,6,"mat-row",52)(81,zx,1,6,"mat-row",52)(82,Yx,1,9,"mat-row",53),l(),k(),P(83,54),a(84,"mat-paginator",55,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkPropertyId==null?null:e.requestLinkPropertyId.length)>0),r(),p("ngIf",(e.requestLinkCustomerOrderId==null?null:e.requestLinkCustomerOrderId.length)>0),r(),p("ngIf",(e.requestLinkEstateUserId==null?null:e.requestLinkEstateUserId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyhistory.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",e.optionloadByRoute)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(16),p("checked",e.searchInCheckingOnDayChecked),r(),C(" ",y(21,32,"ACTION.SearchOnDay")," "),r(3),w("ngModel",e.optionsSearch.data.show),r(),C("",y(25,34,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(29,36,"ACTION.STATIST")," "),r(3),p("ngIf",e.optionloadByRoute&&e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),p("ngIf",e.searchInCheckingOnDay),r(),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(39),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(38,ix)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(39,nx)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(40,ox)))},dependencies:[ce,N,mt,te,z,ve,X,Ta,xa,ze,rn,Va,Da,Ra,La,Bt,ci,Re,Oe,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,ic,Ml,Vr,$a,Ue,U,ta,Cn,Mi,ri,ir,vr,br,Cl,Sl],encapsulation:2});let o=s;return o})();var Kx=["vform"];function Zx(o,s){if(o&1){let n=v();a(0,"div")(1,"div",9),S(2,"br"),a(3,"mat-slide-toggle",22),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionSendSmsToAreaEstateAgency,i)||(e.dataModel.actionSendSmsToAreaEstateAgency=i),_(i)}),d(4),g(5,"translate"),l()(),a(6,"div",9),S(7,"br"),a(8,"mat-slide-toggle",23),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionSendSmsToAreaEstateAgent,i)||(e.dataModel.actionSendSmsToAreaEstateAgent=i),_(i)}),d(9),g(10,"translate"),l()()()}if(o&2){let n=u();r(3),w("ngModel",n.dataModel.actionSendSmsToAreaEstateAgency),r(),C(" ",y(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),r(4),w("ngModel",n.dataModel.actionSendSmsToAreaEstateAgent),r(),C(" ",y(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function Jx(o,s){if(o&1){let n=v();a(0,"div",17)(1,"button",24),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",25),d(3),g(4,"translate"),l(),a(5,"button",26),S(6,"i",27),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.Send_Message")," ")}}var lc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.data=t,this.dialogRef=i,this.service=e,this.publicHelper=m,this.translate=h,this.cmsToastrService=c,this.cdr=R,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModel=new ld,this.dataModelCustomerOrder=new hn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.dataModelCustomerOrder=t.model,this.dataModel.id=this.dataModelCustomerOrder.id)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Activities"),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.dialogRef.close({dialogChangedDate:!0})},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(Xi),E(L),E(O),E(V),E(H))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-action"]],viewQuery:function(i,e){if(i&1&&ie(Kx,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:50,vars:30,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",6,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",7),d(11),l(),a(12,"div",8)(13,"div",9),S(14,"br"),a(15,"mat-slide-toggle",10),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToMe,c)||(e.dataModel.actionSendSmsToMe=c),_(c)}),d(16),g(17,"translate"),l()(),a(18,"div",9),S(19,"br"),a(20,"mat-slide-toggle",11),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateAgent,c)||(e.dataModel.actionSendSmsToEstateAgent=c),_(c)}),d(21),g(22,"translate"),l()(),a(23,"div",9),S(24,"br"),a(25,"mat-slide-toggle",12),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateAgency,c)||(e.dataModel.actionSendSmsToEstateAgency=c),_(c)}),d(26),g(27,"translate"),l()(),a(28,"div",9),S(29,"br"),a(30,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateCustomer,c)||(e.dataModel.actionSendSmsToEstateCustomer=c),_(c)}),d(31),g(32,"translate"),l()(),S(33,"hr"),I(34,Zx,11,8,"div",14),S(35,"hr"),a(36,"div",9),d(37),g(38,"translate"),S(39,"br"),a(40,"textarea",15,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToContactNumber,c)||(e.dataModel.actionSendSmsToContactNumber=c),_(c)}),l()()(),a(42,"div",16)(43,"div",17)(44,"small",18),d(45),l(),a(46,"small",19),d(47),l()()(),a(48,"div",20),I(49,Jx,9,7,"div",21),l()()()()}i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),C(" ",e.formInfo.formTitle," "),r(4),w("ngModel",e.dataModel.actionSendSmsToMe),r(),C(" ",y(17,20,"ACTION.SEND_TO_ME")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateAgent),r(),C(" ",y(22,22,"ACTION.SEND_TO_ESTATE")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateAgency),r(),C(" ",y(27,24,"ACTION.SEND_TO_AGENCY")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateCustomer),r(),C(" ",y(32,26,"ACTION.SEND_TO_CLIENT")," "),r(3),p("ngIf",e.dataModelCustomerOrder.linkLocationIds&&e.dataModelCustomerOrder.linkLocationIds.length>0),r(3),C(" ",y(38,28,"TITLE.Send_link_message_to_the_special_number")," "),r(3),w("ngModel",e.dataModel.actionSendSmsToContactNumber),r(5),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ae,te,z,ve,we,X,xe,$,yt,j,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});let o=s;return o})();var sc=["*","*"];function Xx(o,s){if(o&1&&(a(0,"mat-option",13)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function $x(o,s){o&1&&S(0,"i",14)}function eA(o,s){o&1&&S(0,"i",15)}function tA(o,s){if(o&1){let n=v();a(0,"i",16),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),l()}}function iA(o,s){o&1&&(a(0,"em"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Necessary")," "))}function nA(o,s){if(o&1){let n=v();a(0,"div",3),S(1,"app-progress-spinner",4)(2,"input",5),a(3,"label",6),d(4),l(),a(5,"mat-autocomplete",7,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(7,Xx,3,3,"mat-option",8),g(8,"async"),l(),I(9,$x,1,0,"i",9)(10,eA,1,0,"i",10)(11,tA,1,0,"i",11)(12,iA,3,3,"em",12),oi(13),l()}if(o&2){let n=D(6),t=u();r(),p("optionsInfoAreaId",t.constructorInfoAreaId),r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n)("required",t.optionRequired),ht("disabled",t.optionDisabled?!0:null),r(2),b(t.optionLabel),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(8,13,t.filteredOptions)),r(2),p("ngIf",!t.formControl.valid),r(),p("ngIf",t.optionRequired&&t.formControl.valid),r(),p("ngIf",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0),r(),p("ngIf",t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||t.dataModelSelect.id.length<=0))}}function oA(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",20),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function rA(o,s){if(o&1&&(a(0,"div",17),I(1,oA,3,3,"div",18),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var El=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.tokenHelper=c,this.categoryService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Kn,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionRequired=!1,this.optionChange=new et,this.optionTypeView=1,this.typeUsageId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}set optionTypeUsageId(t){this.typeUsageId=t,this.loadOptions()}ngOnInit(){this.loadOptions(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.loadOptions()}}),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G,m=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,m.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,m.filters.push(e),i.filters.push(m)),this.typeUsageId&&this.typeUsageId.length>0&&(e=new G,e.propertyName="PropertyTypes",e.propertyAnyName="LinkPropertyTypeUsageId",e.value=this.typeUsageId,e.searchType=Ne.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),c.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if((!t||typeof t=="string"&&t.length===0)&&(this.dataModelSelect=new Kn),typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Kn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Kn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(Y),E(Jo))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-category-selector"]],inputs:{optionSelectForce:"optionSelectForce",optionTypeUsageId:"optionTypeUsageId",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionRequired:"optionRequired",optionTypeView:"optionTypeView",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:sc,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","input-style has-borders has-icon  input-style-always-active validate-field mb-4 loader-container",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required"],["for","forminput",1,"color-highlight"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(sc),I(0,nA,14,15,"div",1)(1,rA,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,be,Ot,$t,Xt,ei,$,j,Ue,U],encapsulation:2});let o=s;return o})();var aA=["vform"];function lA(o,s){o&1&&S(0,"i",64)}function sA(o,s){o&1&&S(0,"i",65)}function dA(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function cA(o,s){o&1&&S(0,"i",64)}function pA(o,s){o&1&&S(0,"i",65)}function mA(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function uA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"input",66,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.caseCode,i)||(e.dataModel.caseCode=i),_(i)}),l(),a(3,"label",67),d(4),l(),I(5,cA,1,0,"i",39)(6,pA,1,0,"i",40),S(7,"em"),I(8,mA,5,4,"mat-error",41),l()}if(o&2){let n=D(2),t=u();r(),A("disabled",!(t.fieldsInfo.caseCode!=null&&t.fieldsInfo.caseCode.accessEditField)),A("placeholder",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),w("ngModel",t.dataModel.caseCode),r(3),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),r(),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),p("ngIf",n.errors==null?null:n.errors.required)}}function fA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",68),d(2),g(3,"translate"),l(),a(4,"textarea",69,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function _A(o,s){if(o&1){let n=v();a(0,"div")(1,"div",70)(2,"label",71),d(3),g(4,"translate"),l(),S(5,"i",72)(6,"i",73),a(7,"input",74,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.scoreRushToBuy,i)||(e.dataModel.scoreRushToBuy=i),_(i)}),l()(),a(9,"div",70)(10,"label",75),d(11),g(12,"translate"),l(),S(13,"i",72)(14,"i",73),a(15,"input",76,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.scorePurchaseDecision,i)||(e.dataModel.scorePurchaseDecision=i),_(i)}),l()(),a(17,"div",70)(18,"label",77),d(19),g(20,"translate"),l(),S(21,"i",72)(22,"i",73),a(23,"input",78,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.scoreLiquidityPower,i)||(e.dataModel.scoreLiquidityPower=i),_(i)}),l()(),a(25,"div",70)(26,"label",79),d(27),g(28,"translate"),l(),S(29,"i",72)(30,"i",73),a(31,"input",80,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.scorePurchasingPower,i)||(e.dataModel.scorePurchasingPower=i),_(i)}),l()()()}if(o&2){let n=u();r(3),b(y(4,20,"MESSAGE.POINT_HURRY")),r(4),Et("ngClass","cms-range-score-",n.dataModel.scoreRushToBuy,""),w("ngModel",n.dataModel.scoreRushToBuy),p("disabled",!(n.fieldsInfo.scoreRushToBuy!=null&&n.fieldsInfo.scoreRushToBuy.accessEditField)),r(4),b(y(12,22,"MESSAGE.POINT_DECIDE")),r(4),Et("ngClass","cms-range-score-",n.dataModel.scorePurchaseDecision,""),w("ngModel",n.dataModel.scorePurchaseDecision),p("disabled",!(n.fieldsInfo.scorePurchaseDecision!=null&&n.fieldsInfo.scorePurchaseDecision.accessEditField)),r(4),b(y(20,24,"MESSAGE.POINT_Liquidity")),r(4),Et("ngClass","cms-range-score-",n.dataModel.scoreLiquidityPower,""),w("ngModel",n.dataModel.scoreLiquidityPower),p("disabled",!(n.fieldsInfo.scoreLiquidityPower!=null&&n.fieldsInfo.scoreLiquidityPower.accessEditField)),r(4),b(y(28,26,"MESSAGE.POINT_BUYING")),r(4),Et("ngClass","cms-range-score-",n.dataModel.scorePurchasingPower,""),w("ngModel",n.dataModel.scorePurchasingPower),p("disabled",!(n.fieldsInfo.scorePurchasingPower!=null&&n.fieldsInfo.scorePurchasingPower.accessEditField))}}function hA(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",48),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCmsUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.Order_Owner"))}}function gA(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",81),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateAgencyId!=null&&n.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,4,"TITLE.Property_agency"))}}function yA(o,s){o&1&&(a(0,"mat-error"),d(1," ContactMobiles is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function CA(o,s){if(o&1){let n=v();a(0,"div",82)(1,"div",83)(2,"h5",84),d(3),g(4,"translate"),l()(),a(5,"div",85)(6,"div",86)(7,"input",87),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionCreateCmsUserId,i)||(e.dataModel.actionCreateCmsUserId=i),_(i)}),l(),S(8,"label",88),l()()()}if(o&2){let n=u();r(3),b(y(4,2,"TITLE.Create_New_Account")),r(4),w("ngModel",n.dataModel.actionCreateCmsUserId)}}function SA(o,s){if(o&1){let n=v();a(0,"div",82)(1,"div",83)(2,"h5",89),d(3),l()(),a(4,"div",85)(5,"div",86)(6,"input",90),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.includeAllSite,i)||(e.dataModel.includeAllSite=i),_(i)}),l(),S(7,"label",91),l()()()}if(o&2){let n=u();r(3),b(n.fieldsInfo.includeAllSite==null?null:n.fieldsInfo.includeAllSite.fieldTitle),r(3),w("ngModel",n.dataModel.includeAllSite)}}function IA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",92),d(2),l(),a(3,"textarea",93,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.areaAddress,i)||(e.dataModel.areaAddress=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.areaAddress==null?null:t.fieldsInfo.areaAddress.fieldTitle),r(),A("placeholder",t.fieldsInfo.areaAddress==null?null:t.fieldsInfo.areaAddress.fieldTitle),w("ngModel",t.dataModel.areaAddress),r(3),C("",n.value.length," / 500")}}function MA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",109),d(2),g(3,"translate"),l(),a(4,"input",110,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.salePriceMin,i)||(e.dataModel.salePriceMin=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe("",n.contractTypeSelected.titleSalePriceML," ",y(3,5,"TITLE.Minimum"),""),r(2),A("placeholder",n.fieldsInfo.salePriceMin==null?null:n.fieldsInfo.salePriceMin.fieldTitle),w("ngModel",n.dataModel.salePriceMin),p("disabled",!(n.fieldsInfo.salePriceMin!=null&&n.fieldsInfo.salePriceMin.accessEditField))}}function EA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",111),d(2),g(3,"translate"),l(),a(4,"input",112,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.rentPriceMin,i)||(e.dataModel.rentPriceMin=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe("",n.contractTypeSelected.titleRentPriceML," ",y(3,5,"TITLE.Minimum"),""),r(2),A("placeholder",n.fieldsInfo.rentPriceMin==null?null:n.fieldsInfo.rentPriceMin.fieldTitle),w("ngModel",n.dataModel.rentPriceMin),p("disabled",!(n.fieldsInfo.rentPriceMin!=null&&n.fieldsInfo.rentPriceMin.accessEditField))}}function vA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",113),d(2),g(3,"translate"),l(),a(4,"input",114,14),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.depositPriceMin,i)||(e.dataModel.depositPriceMin=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe(" ",n.contractTypeSelected.titleDepositPriceML," ",y(3,5,"TITLE.Minimum"),""),r(2),A("placeholder",n.fieldsInfo.depositPriceMin==null?null:n.fieldsInfo.depositPriceMin.fieldTitle),w("ngModel",n.dataModel.depositPriceMin),p("disabled",!(n.fieldsInfo.depositPriceMin!=null&&n.fieldsInfo.depositPriceMin.accessEditField))}}function bA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",115),d(2),g(3,"translate"),l(),a(4,"input",116,15),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.periodPriceMin,i)||(e.dataModel.periodPriceMin=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe(" ",n.contractTypeSelected.titlePeriodPriceML," ",y(3,5,"TITLE.Minimum"),""),r(2),A("placeholder",n.fieldsInfo.periodPriceMin==null?null:n.fieldsInfo.periodPriceMin.fieldTitle),w("ngModel",n.dataModel.periodPriceMin),p("disabled",!(n.fieldsInfo.periodPriceMin!=null&&n.fieldsInfo.periodPriceMin.accessEditField))}}function wA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",117),d(2),g(3,"translate"),l(),a(4,"input",118,16),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.salePriceMax,i)||(e.dataModel.salePriceMax=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe("",n.contractTypeSelected.titleSalePriceML," ",y(3,5,"TITLE.Maximum"),""),r(2),A("placeholder",n.fieldsInfo.salePriceMax==null?null:n.fieldsInfo.salePriceMax.fieldTitle),w("ngModel",n.dataModel.salePriceMax),p("disabled",!(n.fieldsInfo.salePriceMax!=null&&n.fieldsInfo.salePriceMax.accessEditField))}}function TA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",119),d(2),g(3,"translate"),l(),a(4,"input",120,17),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.rentPriceMax,i)||(e.dataModel.rentPriceMax=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe(" ",n.contractTypeSelected.titleRentPriceML," ",y(3,5,"TITLE.Maximum"),""),r(2),A("placeholder",n.fieldsInfo.rentPriceMax==null?null:n.fieldsInfo.rentPriceMax.fieldTitle),w("ngModel",n.dataModel.rentPriceMax),p("disabled",!(n.fieldsInfo.rentPriceMax!=null&&n.fieldsInfo.rentPriceMax.accessEditField))}}function xA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",121),d(2),g(3,"translate"),l(),a(4,"input",122,18),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.depositPriceMax,i)||(e.dataModel.depositPriceMax=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe(" ",n.contractTypeSelected.titleDepositPriceML," ",y(3,5,"TITLE.Maximum"),""),r(2),A("placeholder",n.fieldsInfo.depositPriceMax==null?null:n.fieldsInfo.depositPriceMax.fieldTitle),w("ngModel",n.dataModel.depositPriceMax),p("disabled",!(n.fieldsInfo.depositPriceMax!=null&&n.fieldsInfo.depositPriceMax.accessEditField))}}function AA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",123),d(2),g(3,"translate"),l(),a(4,"input",124,19),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.periodPriceMax,i)||(e.dataModel.periodPriceMax=i),_(i)}),l(),S(6,"em"),l()}if(o&2){let n=u(2);r(2),fe(" ",n.contractTypeSelected.titlePeriodPriceML," ",y(3,5,"TITLE.Maximum"),""),r(2),A("placeholder",n.fieldsInfo.periodPriceMax==null?null:n.fieldsInfo.periodPriceMax.fieldTitle),w("ngModel",n.dataModel.periodPriceMax),p("disabled",!(n.fieldsInfo.periodPriceMax!=null&&n.fieldsInfo.periodPriceMax.accessEditField))}}function PA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",125),d(2),l(),a(3,"input",126,20),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.createdYaer,i)||(e.dataModel.createdYaer=i),_(i)}),l(),S(5,"em"),l()}if(o&2){let n=u(2);r(2),C(" ",n.PropertyTypeSelected.titleCreatedYaer,""),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),w("ngModel",n.dataModel.createdYaer)}}function kA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",127),d(2),l(),a(3,"input",128,21),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.partition,i)||(e.dataModel.partition=i),_(i)}),l(),S(5,"em"),l()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titlePartition),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),w("ngModel",n.dataModel.partition)}}function DA(o,s){if(o&1){let n=v();a(0,"div",36)(1,"label",129),d(2),l(),a(3,"input",130,22),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.area,i)||(e.dataModel.area=i),_(i)}),l(),S(5,"em"),l()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),r(),A("disabled",!(n.fieldsInfo.area!=null&&n.fieldsInfo.area.accessEditField)),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.dataModel.area)}}function RA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-string",141),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function VA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-int",142),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function LA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-boolean",143),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),r(),C("",n.title," ")}}function FA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-float",142),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function OA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",144),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)}}function BA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-textarea",142),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function HA(o,s){if(o&1){let n=v();a(0,"div",139),S(1,"i",140),d(2,"\xA0 "),a(3,"app-input-string",141),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function WA(o,s){if(o&1&&(P(0)(1,136),I(2,RA,4,12,"div",137)(3,VA,4,9,"div",137)(4,LA,5,5,"div",137)(5,FA,4,9,"div",137)(6,OA,6,9,"div",137)(7,BA,4,9,"div",137)(8,HA,4,12,"div",138),k()()),o&2){let n=s.$implicit,t=u(3);r(),p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function NA(o,s){if(o&1){let n=v();a(0,"button",145),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.PREVIOUS")," "))}function GA(o,s){if(o&1){let n=v();a(0,"button",146),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.NEXT")," "))}function UA(o,s){if(o&1){let n=v();a(0,"button",146),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.END")," "))}function jA(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",131),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon",132),d(7),l()()(),I(8,WA,9,7,"ng-container",133),a(9,"mat-action-row"),I(10,NA,3,3,"button",134)(11,GA,3,3,"button",135)(12,UA,3,3,"button",135),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),C(" ",n.title," "),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModel.propertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModel.propertyDetailGroups.length)}}function qA(o,s){if(o&1&&(a(0,"option",147),d(1),l()),o&2){let n=s.$implicit;p("value",n.fieldName),r(),C(" ",n.fieldTitle," ")}}function QA(o,s){if(o&1){let n=v();a(0,"div",148)(1,"a",149),M("click",function(){f(n);let i=u(2);return _(i.onActionSortArrow())}),S(2,"i",150),g(3,"sortTypeIconClass"),l()()}if(o&2){let n=u(2);r(2),p("ngClass",y(3,1,n.dataModel.resultSortType))}}function zA(o,s){if(o&1){let n=v();P(0),a(1,"p"),d(2),g(3,"translate"),l(),a(4,"P"),d(5),g(6,"translate"),l(),S(7,"hr"),a(8,"app-estate-property-type-usage-selector",94),g(9,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),l(),S(10,"br")(11,"br")(12,"br"),a(13,"app-estate-property-type-landuse-selector",95),g(14,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l(),S(15,"br")(16,"br")(17,"br"),a(18,"app-estate-contract-type-selector",96),g(19,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),l(),S(20,"br")(21,"br"),a(22,"app-cms-currency-selector",97),g(23,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),I(24,MA,7,7,"div",43)(25,EA,7,7,"div",43)(26,vA,7,7,"div",43)(27,bA,7,7,"div",43)(28,wA,7,7,"div",43)(29,TA,7,7,"div",43)(30,xA,7,7,"div",43)(31,AA,7,7,"div",43)(32,PA,6,3,"div",43)(33,kA,6,3,"div",43)(34,DA,6,4,"div",43),S(35,"br"),a(36,"app-cms-location-autocomplete",98),g(37,"translate"),g(38,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l(),a(39,"mat-accordion",99),I(40,jA,13,8,"mat-expansion-panel",100),S(41,"br"),l(),a(42,"p"),d(43),g(44,"translate"),l(),a(45,"p"),d(46),g(47,"translate"),S(48,"br"),d(49),g(50,"translate"),l(),a(51,"app-estate-property-autocomplete",52),g(52,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorPropertyIgnored(i))}),l(),a(53,"div"),d(54," \u062C\u0633\u062A\u062C\u0648: "),S(55,"hr")(56,"br"),l(),a(57,"div",101)(58,"div",102)(59,"div",36)(60,"label",103),d(61),l(),a(62,"select",104,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.resultSortColumn,i)||(e.dataModel.resultSortColumn=i),_(i)}),I(64,qA,2,2,"option",105),l(),a(65,"span"),S(66,"i",106),l(),S(67,"em"),l()(),a(68,"div",107),I(69,QA,4,3,"div",108),l()(),k()}if(o&2){let n=u();r(2),b(y(3,47,"MESSAGE.Content_of_your_choice_to_display")),r(3),b(y(6,49,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")),r(3),p("optionAllowUnSelect",!0)("optionDisabled",!(n.fieldsInfo.linkPropertyTypeUsageId!=null&&n.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",n.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(9,51,"TITLE.Type_Usage")),r(5),p("optionAllowUnSelect",!0)("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseId!=null&&n.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",n.dataModel.linkPropertyTypeLanduseId)("optionTypeUsageId",n.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(14,53,"TITLE.Type_Property")),r(5),p("optionTypeView",2)("optionAllowUnSelect",!0)("optionDisabled",!(n.fieldsInfo.linkContractTypeId!=null&&n.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",n.dataModel.linkContractTypeId)("optionPlaceholder",y(19,55,"TITLE.Type_Transaction")),r(4),p("optionSelectFirstItem",!0)("optionSelectForce",n.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(23,57,"TITLE.Specify_the_transaction_currency")),r(2),p("ngIf",(n.fieldsInfo.salePriceMin==null?null:n.fieldsInfo.salePriceMin.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice)),r(),p("ngIf",(n.fieldsInfo.rentPriceMin==null?null:n.fieldsInfo.rentPriceMin.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice)),r(),p("ngIf",(n.fieldsInfo.depositPriceMin==null?null:n.fieldsInfo.depositPriceMin.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice)),r(),p("ngIf",(n.fieldsInfo.periodPriceMin==null?null:n.fieldsInfo.periodPriceMin.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice)),r(),p("ngIf",(n.fieldsInfo.salePriceMax==null?null:n.fieldsInfo.salePriceMax.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice)),r(),p("ngIf",(n.fieldsInfo.rentPriceMax==null?null:n.fieldsInfo.rentPriceMax.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice)),r(),p("ngIf",(n.fieldsInfo.depositPriceMax==null?null:n.fieldsInfo.depositPriceMax.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice)),r(),p("ngIf",(n.fieldsInfo.periodPriceMax==null?null:n.fieldsInfo.periodPriceMax.accessWatchField)&&(n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice)),r(),p("ngIf",n.dataModel.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titleCreatedYaer==null?null:n.PropertyTypeSelected.titleCreatedYaer.length)>1),r(),p("ngIf",n.dataModel.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titlePartition==null?null:n.PropertyTypeSelected.titlePartition.length)>1),r(),p("ngIf",n.fieldsInfo.area==null?null:n.fieldsInfo.area.accessWatchField),r(2),p("optionDisabled",!(n.fieldsInfo.linkLocationIds!=null&&n.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",n.dataModel.linkLocationIds)("optionPlaceholder",y(37,59,"TITLE.Region"))("optionLabel",y(38,61,"TITLE.Geographical_Areas")),r(4),p("ngForOf",n.dataModel.propertyDetailGroups),r(3),C(" ",y(44,63,"TITLE.ignored_property_list")," "),r(3),C(" ",y(47,65,"TITLE.DESCRIPTION"),": "),r(3),C(" ",y(50,67,"TITLE.ignored_property_list_DESCRIPTION")," "),r(2),p("optionDisabled",!(n.fieldsInfo.linkPropertyIdsIgnored!=null&&n.fieldsInfo.linkPropertyIdsIgnored.accessEditField))("optionPlaceholder",y(52,69,"TITLE.Property"))("optionSelectForce",n.dataModel.linkPropertyIdsIgnored),r(10),b(n.fieldsInfo.resultSortColumn==null?null:n.fieldsInfo.resultSortColumn.fieldTitle),r(),w("ngModel",n.dataModel.resultSortColumn),r(2),p("ngForOf",n.dataFieldInfoModel),r(5),p("ngIf",(n.dataModel==null||n.dataModel.resultSortColumn==null?null:n.dataModel.resultSortColumn.length)>0)}}function YA(o,s){if(o&1){let n=v();a(0,"div",151)(1,"a",152),S(2,"img",153),g(3,"translate"),l(),a(4,"span",154),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(5,"i",155),l(),a(6,"h5",156),d(7),g(8,"translate"),l(),a(9,"p",157),d(10),g(11,"translate"),l(),a(12,"p",157),d(13),g(14,"translate"),S(15,"br"),d(16),g(17,"translate"),S(18,"br"),d(19),g(20,"translate"),S(21,"br"),d(22),g(23,"translate"),l(),S(24,"hr")(25,"app-cms-qdoc",158),l()}if(o&2){let n=u();r(),A("href",n.dataModel.urlViewContent,Z),r(),A("alt",y(3,11,"TITLE.Scan_the_barcode")),p("src",n.dataModel.urlViewContentQRCodeBase64,Z),r(2),p("cdkCopyToClipboard",n.dataModel.urlViewContent),r(3),C(" ",y(8,13,"TITLE.DESCRIPTION"),": "),r(3),C(" ",y(11,15,"TITLE.You_can_view_the_output_of_your_billboard")," "),r(3),C(" ",y(14,17,"TITLE.In_the_title_section_you_can_edit_the_title_of_your_screen_and_write_the_address_and_description_for_that_staff")," "),r(3),C(" ",y(17,19,"TITLE.In_the_next_section_you_can_see_your_display_content_for_the_billboard")," "),r(3),C(" ",y(20,21,"TITLE.You_can_narrow_your_search_by_filling_in_any_of_the_fields")," "),r(3),C(" ",y(23,23,"TITLE.Finally_by_clicking_on_the_view_option_you_can_see_the_advertisements_you_want_and_by_clicking_on_the_save_option_you_can_create_your_own_billboard")," "),r(3),p("optionUrl",n.dataModel.urlViewContent)}}function KA(o,s){if(o&1){let n=v();a(0,"div",159)(1,"button",160),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",161),d(3),g(4,"translate"),l(),a(5,"button",162),S(6,"i",163),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(10);r(3),C(" ",y(4,3,"ACTION.BACK")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}function ZA(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateResult())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estates")," "))}function JA(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateHaveHistoryResult())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Have_Histories")," "))}function XA(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateHistoryResult())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Histories")," "))}function $A(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateAgencyResult())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function e3(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateUserResult())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Users")," "))}function t3(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onFormSendMessage())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.Send_Message")," "))}function i3(o,s){if(o&1){let n=v();a(0,"button",164),M("click",function(){f(n);let i=u();return _(i.onActionButtonQuickHistoryAddRow())}),S(1,"i",161),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.HISTORY_ADD")," "))}function n3(o,s){if(o&1&&(a(0,"div",58),S(1,"app-estate-property-list",165,23),l()),o&2){let n=u();r(),p("optionLinkCustomerOrderId",n.dataModel.id)("optionloadComponent",n.optionloadComponent)("optionsortType",n.dataModel.resultSortType)("optionloadByRoute",!1)}}function o3(o,s){if(o&1&&(a(0,"div",58),S(1,"app-estate-property-list",166,24),l()),o&2){let n=u();r(),p("optionLinkCustomerOrderIdHaveHistory",n.dataModel.id)("optionloadComponent",n.optionloadComponent)("optionsortType",n.dataModel.resultSortType)("optionloadByRoute",!1)}}function r3(o,s){if(o&1&&(a(0,"div",58),S(1,"app-estate-account-agency-list",167,25),l()),o&2){let n=u();r(),p("optionLinkLocationWorkAreaIds",n.dataModel.linkLocationIds)("optionloadComponent",n.optionloadComponent)("optionloadByRoute",!1)}}function a3(o,s){if(o&1&&(a(0,"div",58),S(1,"app-estate-account-user-list",167,26),l()),o&2){let n=u();r(),p("optionLinkLocationWorkAreaIds",n.dataModel.linkLocationIds)("optionloadComponent",n.optionloadComponent)("optionloadByRoute",!1)}}function l3(o,s){if(o&1&&(a(0,"div",58),S(1,"app-estate-property-history-list",168,27),l()),o&2){let n=u();r(),p("optionLinkCustomerOrderId",n.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var cc=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt,Ve){super(e,new hn,B,Yt),this.router=t,this.coreEnumService=i,this.estateCustomerOrderService=e,this.estateContractTypeService=m,this.estatePropertyService=h,this.estatePropertyDetailGroupService=c,this.cmsToastrService=R,this.publicHelper=B,this.cdr=q,this.activatedRoute=re,this.http=Ee,this.tokenHelper=Ze,this.translate=Yt,this.dialog=Ve,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.allowActionSend=!1,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.enumInputDataType=Li,this.numbers=[0,1,2,3,4,5,6,7,8,9,10],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new hn,this.dataModelCorCurrencySelector=new Vi,this.formInfo=new me,this.fileManagerOpenForm=!1,this.propertyDetails=new Map,this.PropertyTypeSelected=new Vt,this.optionloadComponent=!1,this.LinkPropertyIdsInUse=!1,this.areaAddressView=!1,this.step=0,this.hidden=!0,this.optionReload=()=>{this.loadResult=""},this.loadResult="",this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenHelper.getTokenInfoState().then(Wt=>{this.tokenInfo=Wt})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),setTimeout(()=>this.router.navigate(["/estate/customer-order"]),1e3);return}this.DataGetOneContent(),this.DataGetAccessEstate()}DataGetAccessEstate(){this.estatePropertyService.ServiceViewModel().subscribe({next:t=>{t.isSuccess?this.dataFieldInfoModel=t.access.fieldsInfo:this.cmsToastrService.typeErrorGetAccess(t.errorMessage),this.cdr.detectChanges()},error:t=>{this.cmsToastrService.typeErrorGetAccess(t)}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess?((!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0&&(this.LinkPropertyIdsInUse=!0),this.formInfo.formAlert="",this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(e=>{e.propertyDetails.forEach(m=>{if(this.propertyDetails[m.id]=0,this.dataModel.propertyDetailValues){let h=this.dataModel.propertyDetailValues.find(c=>c.linkPropertyDetailId===m.id);h&&(this.propertyDetails[m.id]=h.value)}})}),this.dataModel.linkContractTypeId.length>0&&this.estateContractTypeService.ServiceGetOneById(this.dataModel.linkContractTypeId).subscribe({next:e=>{e.isSuccess?this.contractTypeSelected=e.item:this.cmsToastrService.typeErrorMessage(e.errorMessage)}}),this.cdr.detectChanges()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(t=!1){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.ServiceEdit(this.dataModel).subscribe({next:e=>{if(this.dataModelResult=e,e.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit(),this.optionReload(),(this.tokenHelper.CheckIsAdmin()||this.tokenHelper.CheckIsSupport()||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerCpSite||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==Ge.Available){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(lc,{panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(c=>{this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(i)})}this.cdr.detectChanges()}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModel.propertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?(this.dataModel.propertyDetailGroups=h.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(c=>{c.propertyDetails.forEach(R=>{if(this.propertyDetails[R.id]=0,this.dataModel.propertyDetailValues){let B=this.dataModel.propertyDetailValues.find(q=>q.linkPropertyDetailId===R.id);B&&(this.propertyDetails[R.id]=B.value)}})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.cdr.detectChanges(),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id,this.cdr.detectChanges()}onActionSelectorSelectLanduse(t){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id,this.DataGetPropertyDetailGroup(t.id),this.cdr.detectChanges()}onActionSelectorContarctType(t){if(this.contractTypeSelected=null,this.dataModel.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.contractTypeSelected=t,this.dataModel.linkContractTypeId=t.id,this.cdr.detectChanges()}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorLocation(t){this.dataModel.linkLocationIds=t}onActionSelectorProperty(t){this.dataModel.linkPropertyIds=t,this.dataModel.linkPropertyIds&&this.dataModel.linkPropertyIds.length>0?this.LinkPropertyIdsInUse=!0:this.LinkPropertyIdsInUse=!1}onActionSelectorPropertyIgnored(t){this.dataModel.linkPropertyIdsIgnored=t}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormSendMessage(){this.onFormSubmit(!0)}onFormSubmit(t=!1){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(e=>{let m=new mo;m.linkPropertyDetailId=e.id,m.value=this.propertyDetails[e.id],this.dataModel.propertyDetailValues.push(m)})}),this.DataEditContent(t))}onActionSelectorSelect(t){if(!t||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=t.id}onFormCancel(){this.router.navigate(["/estate/customer-order/"])}onFormLoadEstateResult(){this.loadResult="estatePropertyList",this.cdr.detectChanges(),this.estatePropertyListComponent.optionloadComponent=!0,this.estatePropertyListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estatePropertyHaveHistoryList",this.cdr.detectChanges(),this.estatePropertyHaveHistoryListComponent.optionloadComponent=!0,this.estatePropertyHaveHistoryListComponent.DataGetAll()}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",this.cdr.detectChanges(),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountUserList",this.cdr.detectChanges(),this.estateAccountUserListComponent.optionloadComponent=!0,this.estateAccountUserListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",this.cdr.detectChanges(),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionSelectorCmsUser(t){if(!t||!t.id||t.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=t.id}onActionButtonQuickHistoryAddRow(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:null,linkEstateUserId:null,linkCustomerOrderId:this.dataModel.id,linkEstateAgencyId:null}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionSortArrow(){this.dataModel.resultSortType==ae.Ascending?this.dataModel.resultSortType=ae.Descending:this.dataModel.resultSortType==ae.Descending?this.dataModel.resultSortType=ae.Random:this.dataModel.resultSortType==ae.Random?this.dataModel.resultSortType=ae.Ascending:this.dataModel.resultSortType=ae.Ascending}};s.\u0275fac=function(i){return new(i||s)(E(Qe),E(ee),E(Xi),E(Ii),E(mi),E(pi),E(V),E(L),E(H),E(Ht),E(ba),E(Y),E(O),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-edit"]],viewQuery:function(i,e){if(i&1&&(ie(aA,5),ie(hi,5),ie(hi,5),ie(Go,5),ie(Uo,5),ie(vn,5)),i&2){let m;ne(m=oe())&&(e.formGroup=m.first),ne(m=oe())&&(e.estatePropertyListComponent=m.first),ne(m=oe())&&(e.estatePropertyHaveHistoryListComponent=m.first),ne(m=oe())&&(e.estateAccountAgencyListComponent=m.first),ne(m=oe())&&(e.estateAccountUserListComponent=m.first),ne(m=oe())&&(e.estatePropertyHistoryListComponent=m.first)}},features:[le],decls:91,vars:80,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["CaseCode",""],["DescriptionHidden",""],["scoreRushToBuy","ngModel"],["scorePurchaseDecision","ngModel"],["scoreLiquidityPower","ngModel"],["scorePurchasingPower","ngModel"],["areaAddress",""],["ResultSortColumn","ngModel"],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["CreatedYaer",""],["Partition",""],["Area",""],["estatePropertyListComponent",""],["estatePropertyHaveHistoryListComponent",""],["estateAccountAgencyListComponent",""],["estateAccountUserListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mt-5","mb-3"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","name","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionPlaceholder","optionSelectForce"],[1,"ntk-cms-html-card-body"],[1,"row","alert","alert-custom","alert-shadow","gutter-b"],[1,"row"],[1,"col-md-10","col-sm-10","col-xs-16"],["class","col-md-6 col-sm-6 col-xs-9","style","text-align: center",4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],["class","form-actions",4,"ngIf"],[1,"ntk-cms-html-card-footer"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matInput","","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.caseCode",1,"color-highlight"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreRushToBuy",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreRushToBuy","name","dataModel.scoreRushToBuy",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchaseDecision",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchaseDecision","name","dataModel.scorePurchaseDecision",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreLiquidityPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreLiquidityPower","name","dataModel.scoreLiquidityPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scorePurchasingPower",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scorePurchasingPower","name","dataModel.scorePurchasingPower",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateCmsUserId",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateCmsUserId","name","dataModel.actionCreateCmsUserId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateCmsUserId",1,"custom-control-label"],["data-trigger-switch","dataModel.includeAllSite",1,"font-600","font-14"],["type","checkbox","id","dataModel.includeAllSite","name","dataModel.includeAllSite",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.includeAllSite",1,"custom-control-label"],["for","dataModel.areaAddress",1,"color-highlight"],["matInput","","name","dataModel.areaAddress","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.areaAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionAllowUnSelect","optionDisabled","optionTypeView","optionSelectForce","optionTypeUsageId","optionPlaceholder"],[3,"optionChange","optionTypeView","optionAllowUnSelect","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionLabel"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[1,"row","mb-0"],[1,"col-10","pe-0"],["for","dataModel.resultSortColumn",1,"color-highlight"],["id","dataModel.resultSortColumn","name","dataModel.resultSortColumn",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"fa","fa-chevron-down"],[1,"col-2","ps-0"],["class","col-md-2 col-sm-2 col-xs-2 resultSortIcon","style","margin: auto",4,"ngIf"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","text","currencyMask","","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","text","currencyMask","","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","text","currencyMask","","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","text","currencyMask","","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","text","currencyMask","","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","text","currencyMask","","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","text","currencyMask","","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","text","currencyMask","","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.partition","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],[3,"value"],[1,"col-md-2","col-sm-2","col-xs-2","resultSortIcon",2,"margin","auto"],[3,"click"],[2,"color","black",3,"ngClass"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],["target","_blank",3,"href"],["height","300px","width","300px",3,"src","alt"],[1,"navi-icon",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[2,"text-align","right"],["dir","rtl",2,"font-size","17px"],[3,"optionUrl"],[1,"form-actions"],["type","button",1,"btn","font-13","btn-s","font-600","m-1","rounded-s","border-0","shadow-xl","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-angle-left"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkCustomerOrderIdHaveHistory","optionloadComponent","optionsortType","optionloadByRoute"],[3,"optionLinkLocationWorkAreaIds","optionloadComponent","optionloadByRoute"],[3,"optionLinkCustomerOrderId","optionloadComponent","optionloadByRoute"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",28),a(1,"div",29),S(2,"app-progress-spinner",30),a(3,"div",31)(4,"p",32),d(5),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",33,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"div",34)(12,"app-cms-enum-record-status-selector",35),x("modelChange",function(c){return f(m),T(e.dataModel.recordStatus,c)||(e.dataModel.recordStatus=c),_(c)}),l(),a(13,"div",36)(14,"label",37),d(15),l(),a(16,"input",38,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(18,lA,1,0,"i",39)(19,sA,1,0,"i",40),S(20,"em"),I(21,dA,5,4,"mat-error",41),l(),a(22,"app-estate-customer-category-selector",42),g(23,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),I(24,uA,9,7,"div",43),a(25,"div",36)(26,"label",44),d(27),l(),a(28,"textarea",45,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(30,"em"),d(31),l()(),I(32,fA,8,6,"div",43)(33,_A,33,28,"div",41)(34,hA,2,5,"app-cms-user-selector",46)(35,gA,2,6,"app-estate-account-agency-selector",47),a(36,"app-estate-account-user-selector",48),g(37,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorEstateUser(c))}),l(),a(38,"div",36)(39,"label",49),d(40),g(41,"translate"),l(),a(42,"textarea",50,3),g(44,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.contactMobiles,c)||(e.dataModel.contactMobiles=c),_(c)}),l(),a(45,"em"),d(46),l(),I(47,yA,5,3,"mat-error",41),l(),I(48,CA,9,4,"div",51)(49,SA,8,2,"div",51)(50,IA,7,4,"div",43),S(51,"br"),a(52,"p"),d(53),g(54,"translate"),l(),a(55,"p"),d(56),g(57,"translate"),S(58,"br"),d(59),g(60,"translate"),l(),a(61,"p"),d(62),g(63,"translate"),l(),a(64,"app-estate-property-autocomplete",52),g(65,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorProperty(c))}),l(),S(66,"br"),I(67,zA,70,71,"ng-container",41),a(68,"div",53)(69,"div",54)(70,"div")(71,"div",55),S(72,"div",56),l()()()(),I(73,YA,26,25,"div",57),a(74,"div",55)(75,"div",58),I(76,KA,9,7,"div",59),l()(),a(77,"div",60),I(78,ZA,4,3,"button",61)(79,JA,4,3,"button",61)(80,XA,4,3,"button",61)(81,$A,4,3,"button",61)(82,e3,4,3,"button",61)(83,t3,4,3,"button",61)(84,i3,4,3,"button",61),l()()()()(),a(85,"div",62),I(86,n3,3,4,"div",63)(87,o3,3,4,"div",63)(88,r3,3,3,"div",63)(89,a3,3,3,"div",63)(90,l3,3,3,"div",63),l()}if(i&2){let m=D(17),h=D(29),c=D(43);p("Key","customerorder.content.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(8,60,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),w("model",e.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",y(23,62,"TITLE.Category")),r(2),p("ngIf",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",h.value.length," / 500"),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("optionDisabled",!(e.fieldsInfo.linkEstateUserId!=null&&e.fieldsInfo.linkEstateUserId.accessEditField))("optionSelectForce",e.dataModel.linkEstateUserId)("optionPlaceholder",y(37,64,"TITLE.Real_estate_customer_personnel")),r(4),b(y(41,66,"TITLE.Mobile_customer")),r(2),A("placeholder",y(44,68,"TITLE.Mobile_customer")),w("ngModel",e.dataModel.contactMobiles),r(4),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.accessWatchField)&&e.dataModel.contactMobiles&&e.dataModel.contactMobiles.length>0&&(e.dataModel.linkCmsUserId===null||e.dataModel.linkCmsUserId<=0)),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.areaAddressView),r(3),b(y(54,70,"TITLE.specific_property_list")),r(3),C(" ",y(57,72,"TITLE.DESCRIPTION"),":"),r(3),C("",y(60,74,"TITLE.The_specific_property_section_allows_you_to_search_for_registered_property")," "),r(3),C(" ",y(63,76,"MESSAGE.Selecting_specific_property_will_remove_all_search_fields")," "),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyIds!=null&&e.fieldsInfo.linkPropertyIds.accessEditField))("optionPlaceholder",y(65,78,"TITLE.Property"))("optionSelectForce",e.dataModel.linkPropertyIds),r(3),p("ngIf",!e.LinkPropertyIdsInUse),r(6),p("ngIf",(e.dataModel==null||e.dataModel.urlViewContentQRCodeBase64==null?null:e.dataModel.urlViewContentQRCodeBase64.length)>0&&(e.dataModel==null||e.dataModel.urlViewContent==null?null:e.dataModel.urlViewContent.length)>0),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(2),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&(e.dataModel==null?null:e.dataModel.linkLocationIds)&&(e.dataModel==null?null:e.dataModel.linkLocationIds.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&(e.dataModel==null?null:e.dataModel.linkLocationIds)&&(e.dataModel==null?null:e.dataModel.linkLocationIds.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&e.tokenHelper.isAdminSite),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(2),p("ngIf",e.loadResult==="estatePropertyList"),r(),p("ngIf",e.loadResult==="estatePropertyHaveHistoryList"),r(),p("ngIf",e.loadResult==="estateAccountAgencyList"),r(),p("ngIf",e.loadResult==="estateAccountUserList"),r(),p("ngIf",e.loadResult==="estateHistoryList")}},dependencies:[ce,We,N,oo,ro,ao,Ae,qr,Qr,te,Rt,Ur,Ft,jr,z,ve,be,ke,we,X,xe,li,Co,fo,_o,ho,yo,go,Re,se,$,Ei,vi,bi,qt,Wi,Ua,j,to,Hn,Bn,Ln,On,Fn,Wn,so,di,Ki,hi,la,vn,Zi,Uo,Qi,Go,on,El,U,ia],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.resultSortIcon[_ngcontent-%COMP%]{font-size:20px;align-self:center}"]});let o=s;return o})();var s3=["vform"];function d3(o,s){o&1&&S(0,"i",27)}function c3(o,s){o&1&&S(0,"i",28)}function p3(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function m3(o,s){if(o&1){let n=v();a(0,"div",11)(1,"label",29),d(2),g(3,"translate"),l(),a(4,"textarea",30,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function u3(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",22),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCmsUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.Order_Owner"))}}function f3(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",31),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateAgencyId!=null&&n.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,4,"TITLE.Property_agency"))}}function _3(o,s){o&1&&(a(0,"mat-error"),d(1," ContactMobiles is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function h3(o,s){if(o&1){let n=v();a(0,"div",32)(1,"div",33)(2,"h5",34),d(3),g(4,"translate"),l()(),a(5,"div",35)(6,"div",36)(7,"input",37),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionCreateCmsUserId,i)||(e.dataModel.actionCreateCmsUserId=i),_(i)}),l(),S(8,"label",38),l()()()}if(o&2){let n=u();r(3),b(y(4,2,"TITLE.Create_New_Account")),r(4),w("ngModel",n.dataModel.actionCreateCmsUserId)}}function g3(o,s){if(o&1){let n=v();a(0,"div",39)(1,"button",40),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",41),d(3),g(4,"translate"),l(),a(5,"button",42),S(6,"i",43),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Zl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new hn,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCustomerOrderService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModel=new hn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re}),t&&t.linkEstateCustomerCategoryId?.length>0&&(this.dataModel.linkEstateCustomerCategoryId=t.linkEstateCustomerCategoryId),t&&t.copyId?.length>0&&this.DataGetOneContent(t.copyId),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataGetOneContent(t){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estateCustomerOrderService.setAccessLoad(),this.estateCustomerOrderService.setAccessDataType(Be.Editor),this.estateCustomerOrderService.ServiceGetOneById(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModel=e.item,this.dataModel.title="Copy of "+this.dataModel.title,e.isSuccess?this.cdr.detectChanges():(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerOrderService.ServiceAdd(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({id:i.item.id,dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorSelect(t){if(!t||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkEstateCustomerCategoryId=t.id}onActionSelectorCmsUser(t){if(!t||!t.id||t.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=t.id}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateUserId=t.id)}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Xi),E(V),E(L),E(H),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-add-to-edit"]],viewQuery:function(i,e){if(i&1&&ie(s3,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:46,vars:38,consts:[["vform","ngForm"],["Title",""],["Description",""],["ContactMobiles",""],["DescriptionHidden",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.contactMobiles",1,"color-highlight"],["matInput","","name","dataModel.contactMobiles","type","text","minlength","0","maxlength","100","rows","5","id","dataModel.contactMobiles",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.actionCreateCmsUserId",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.actionCreateCmsUserId","name","dataModel.actionCreateCmsUserId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateCmsUserId",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",5),S(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",9,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"app-estate-customer-category-selector",10),g(11,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),a(12,"div",11)(13,"label",12),d(14),l(),a(15,"input",13,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(17,d3,1,0,"i",14)(18,c3,1,0,"i",15),S(19,"em"),I(20,p3,5,4,"mat-error",16),l(),a(21,"div",11)(22,"label",17),d(23),l(),a(24,"textarea",18,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(26,"em"),d(27),l()(),I(28,m3,8,6,"div",19),S(29,"hr"),I(30,u3,2,5,"app-cms-user-selector",20)(31,f3,2,6,"app-estate-account-agency-selector",21),a(32,"app-estate-account-user-selector",22),g(33,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorEstateUser(c))}),l(),a(34,"div",11)(35,"label",23),d(36),g(37,"translate"),l(),a(38,"textarea",24,3),g(40,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.contactMobiles,c)||(e.dataModel.contactMobiles=c),_(c)}),l(),a(41,"em"),d(42),l(),I(43,_3,5,3,"mat-error",16),l(),I(44,h3,9,4,"div",25)(45,g3,9,7,"div",26),l()()()}if(i&2){let m=D(16),h=D(25),c=D(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("optionSelectForce",e.dataModel.linkEstateCustomerCategoryId)("optionPlaceholder",y(11,30,"TITLE.Category")),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",h.value.length," / 500"),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(2),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("optionDisabled",!(e.fieldsInfo.linkEstateUserId!=null&&e.fieldsInfo.linkEstateUserId.accessAddField))("optionSelectForce",e.dataModel.linkEstateUserId)("optionPlaceholder",y(33,32,"TITLE.Real_estate_customer_personnel")),r(4),b(y(37,34,"TITLE.Mobile_customer")),r(2),A("placeholder",y(40,36,"TITLE.Mobile_customer")),w("ngModel",e.dataModel.contactMobiles),r(4),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.accessWatchField)&&e.dataModel.contactMobiles&&e.dataModel.contactMobiles.length>0&&(e.dataModel.linkCmsUserId===null||e.dataModel.linkCmsUserId<=0)),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,Ae,te,Ft,z,ve,be,ke,we,X,xe,Re,$,Wi,j,Qi,on,El,U],encapsulation:2});let o=s;return o})();var y3=["vform"],C3=()=>["fa"];function S3(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function I3(o,s){o&1&&S(0,"i",29)}function M3(o,s){o&1&&S(0,"i",30)}function E3(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function v3(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,C3))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function b3(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function w3(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function T3(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var pc=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new Kn,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCustomerCategoryService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new Kn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Jo),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-category-add"]],viewQuery:function(i,e){if(i&1&&ie(y3,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:39,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,S3,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(22,"div",15)(23,"label",19),d(24),l(),a(25,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(27,I3,1,0,"i",21)(28,M3,1,0,"i",22),a(29,"em"),d(30),l(),I(31,E3,5,3,"mat-error",23),l(),I(32,v3,7,9,"div",24)(33,b3,11,10,"div",24),a(34,"div",15)(35,"label",25),d(36),l(),a(37,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(39,"        "),l(),a(40,"em"),d(41),l(),I(42,w3,5,3,"mat-error",23),l(),I(43,T3,9,7,"div",27),l()()()}if(i&2){let m=D(26),h=D(38);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,33,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,35,"TITLE.PICTURE")),r(2),A("placeholder",y(20,37,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var x3=["vform"],A3=()=>["fa"];function P3(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function k3(o,s){o&1&&S(0,"i",29)}function D3(o,s){o&1&&S(0,"i",30)}function R3(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function V3(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,A3))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function L3(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function F3(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function O3(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var mc=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new Kn,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estateCustomerCategoryService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new Kn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.setAccessLoad(),this.estateCustomerCategoryService.setAccessDataType(Be.Editor),this.estateCustomerCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkCustomerCategoryId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateCustomerCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Jo),E($i),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-category-edit"]],viewQuery:function(i,e){if(i&1&&ie(x3,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:39,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,P3,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(22,"div",15)(23,"label",19),d(24),l(),a(25,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(27,k3,1,0,"i",21)(28,D3,1,0,"i",22),a(29,"em"),d(30),l(),I(31,R3,5,4,"mat-error",23),l(),I(32,V3,7,9,"div",24)(33,L3,11,10,"div",24),a(34,"div",15)(35,"label",25),d(36),l(),a(37,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(39,"        "),l(),a(40,"em"),d(41),l(),I(42,F3,5,3,"mat-error",23),l(),I(43,O3,9,7,"div",27),l()()()}if(i&2){let m=D(26),h=D(38);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,33,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,35,"TITLE.PICTURE")),r(2),A("placeholder",y(20,37,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function B3(o,s){if(o&1){let n=v();a(0,"button",14),M("click",function(){f(n);let i=u();return _(i.onActionAdd())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.ADD")))}function H3(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u();return _(i.onActionEdit())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.EDIT")))}function W3(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionDelete())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.DELETE")))}function N3(o,s){if(o&1){let n=v();a(0,"mat-tree-node",17),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),S(1,"button",18)(2,"i",19),d(3),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===n.id),r(2),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," ")}}function G3(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",20),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(3,"button",21),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(4,"mat-icon",22),d(5),l()(),S(6,"i",19),d(7),l(),a(8,"ul"),qe(9,23),l()()()}if(o&2){let n=s.$implicit,t=u();r(2),Me("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===n.id),r(),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," "),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var uc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cmsConfirmationDialogService=m,this.dialog=h,this.cdr=c,this.publicHelper=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Kn,this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(re=>null),this.dataSource=new xo,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(re,Ee)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Kn,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(pc,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(mc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){let m=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(m);return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(Jo),E(Ye),E(De),E(H),E(L),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:16,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),P(4,2),I(5,B3,3,3,"button",3)(6,H3,3,3,"button",4)(7,W3,3,3,"button",5),a(8,"a",6),M("click",function(){return e.onActionButtonReload()}),S(9,"i",7),l(),k(),P(10,8),S(11,"app-progress-spinner",9),a(12,"mat-tree",10),I(13,N3,4,10,"mat-tree-node",11)(14,G3,10,10,"mat-nested-tree-node",12),l(),k(),qe(15,13),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",y(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&e.dataModelSelect.id&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&e.dataModelSelect.id&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(4),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ce,N,ze,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U]});let o=s;return o})();var j3=()=>["expandedTitle"],q3=()=>["expandedDetail"],Q3=()=>[5,10,20,100],fc=o=>({display:o});function z3(o,s){if(o&1){let n=v();a(0,"a",80)(1,"mat-slide-toggle",81),M("click",function(){f(n);let i=u();return _(i.onActionButtonInResponsible(!i.searchInResponsible))}),l(),d(2),g(3,"translate"),l()}if(o&2){let n=u();r(),p("checked",n.searchInResponsibleChecked),r(),C(" ",y(3,2,"ACTION.InResponsible")," ")}}function Y3(o,s){if(o&1){let n=v();a(0,"div",35)(1,"a",82),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",83)(3,"br"),l(),a(4,"p",37),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function K3(o,s){if(o&1){let n=v();a(0,"div",35)(1,"a",84),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",85)(3,"br"),l(),a(4,"p",37),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function Z3(o,s){if(o&1){let n=v();a(0,"a",86),M("click",function(i){f(n);let e=u();return _(e.onActionButtonCopyNewRow(e.tableRowSelected,i))}),S(1,"i",87)(2,"br"),l()}}function J3(o,s){if(o&1){let n=v();a(0,"div",35)(1,"a",88),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",89)(3,"br"),l(),a(4,"p",37),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function X3(o,s){if(o&1){let n=v();a(0,"mat-icon",90),M("click",function(){f(n);let i=u();return _(i.filteModelContent.caseCode="")}),d(1," close"),l()}}function $3(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",92),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.filteModelContent.linkResponsibleUserId=i==null?null:i.id)}),l()}o&2&&p("optionPlaceholder",y(1,1,"TITLE.InResponsibleTo"))}function eP(o,s){if(o&1){let n=v();a(0,"mat-icon",101),M("click",function(){f(n);let i=u(2);return _(i.filteModelContent.linkPropertyTypeUsageId=null)}),d(1," close "),l()}}function tP(o,s){if(o&1){let n=v();a(0,"mat-icon",101),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectorSelectLanduse(null))}),d(1," close "),l()}}function iP(o,s){if(o&1){let n=v();a(0,"mat-icon",101),M("click",function(){f(n);let i=u(2);return _(i.filteModelContent.linkContractTypeId=null)}),d(1," close "),l()}}function nP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",103),d(2),l(),a(3,"input",104,3),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.createdYaer,i)||(e.filteModelContent.createdYaer=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titleCreatedYaer),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),w("ngModel",n.filteModelContent.createdYaer)}}function oP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",105),d(2),l(),a(3,"input",106,4),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.partition,i)||(e.filteModelContent.partition=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.PropertyTypeSelected.titlePartition),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),w("ngModel",n.filteModelContent.partition)}}function rP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",107),d(2),l(),a(3,"input",108,5),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.area,i)||(e.filteModelContent.area=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),r(),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.filteModelContent.area),r(3),b(n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldDescription)}}function aP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",109),d(2),g(3,"translate"),l(),a(4,"input",110,6),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.salePriceMin,i)||(e.filteModelContent.salePriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.SalePriceMin")," "),r(2),w("ngModel",n.filteModelContent.salePriceMin)}}function lP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",111),d(2),g(3,"translate"),l(),a(4,"input",112,7),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.rentPriceMin,i)||(e.filteModelContent.rentPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.RentPriceMin")),r(2),w("ngModel",n.filteModelContent.rentPriceMin)}}function sP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",113),d(2,"ImageThumbnailSizeHeight"),l(),a(3,"input",114,8),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.depositPriceMin,i)||(e.filteModelContent.depositPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(3),w("ngModel",n.filteModelContent.depositPriceMin)}}function dP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",115),d(2),g(3,"translate"),l(),a(4,"input",116,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.periodPriceMin,i)||(e.filteModelContent.periodPriceMin=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.PeriodPriceMin")," "),r(2),w("ngModel",n.filteModelContent.periodPriceMin)}}function cP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",117),d(2),g(3,"translate"),l(),a(4,"input",118,10),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.salePriceMax,i)||(e.filteModelContent.salePriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C(" ",y(3,2,"TITLE.SalePriceMax"),""),r(2),w("ngModel",n.filteModelContent.salePriceMax)}}function pP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",119),d(2),g(3,"translate"),l(),a(4,"input",120,11),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.rentPriceMax,i)||(e.filteModelContent.rentPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.RentPriceMax")," "),r(2),w("ngModel",n.filteModelContent.rentPriceMax)}}function mP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",121),d(2),g(3,"translate"),l(),a(4,"input",122,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.depositPriceMax,i)||(e.filteModelContent.depositPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(y(3,2,"TITLE.DepositPriceMax")),r(2),w("ngModel",n.filteModelContent.depositPriceMax)}}function uP(o,s){if(o&1){let n=v();a(0,"div",102)(1,"label",123),d(2),g(3,"translate"),l(),a(4,"input",124,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.filteModelContent.periodPriceMax,i)||(e.filteModelContent.periodPriceMax=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.PeriodPriceMax")," "),r(2),w("ngModel",n.filteModelContent.periodPriceMax)}}function fP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-string",134),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function _P(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-int",135),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function hP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-boolean",136),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),r(),C("",n.title," ")}}function gP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-float",135),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function yP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",137),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)}}function CP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-textarea",135),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function SP(o,s){if(o&1){let n=v();a(0,"div",44),S(1,"i",133),d(2,"\xA0 "),a(3,"app-input-string",134),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function IP(o,s){if(o&1&&(P(0)(1,130),I(2,fP,4,12,"div",131)(3,_P,4,9,"div",131)(4,hP,5,5,"div",131)(5,gP,4,9,"div",131)(6,yP,6,9,"div",131)(7,CP,4,9,"div",131)(8,SP,4,12,"div",132),k()()),o&2){let n=s.$implicit,t=u(3);r(),p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function MP(o,s){if(o&1){let n=v();a(0,"button",138),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.PREVIOUS")))}function EP(o,s){if(o&1){let n=v();a(0,"button",139),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.NEXT")))}function vP(o,s){if(o&1){let n=v();a(0,"button",139),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.END")))}function bP(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",125),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon",126),d(7),l()()(),I(8,IP,9,7,"ng-container",127),a(9,"mat-action-row"),I(10,MP,3,3,"button",128)(11,EP,3,3,"button",129)(12,vP,3,3,"button",129),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),C(" ",n.title," "),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModelPropertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModelPropertyDetailGroups.length)}}function wP(o,s){if(o&1){let n=v();a(0,"div")(1,"P"),d(2),g(3,"translate"),l(),I(4,$3,2,3,"app-cms-user-selector",91),a(5,"app-cms-location-autocomplete",92),g(6,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l(),S(7,"hr"),a(8,"app-estate-property-type-usage-selector",93),g(9,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),I(10,eP,2,0,"mat-icon",94),l(),S(11,"br")(12,"br")(13,"br"),a(14,"app-estate-property-type-landuse-selector",93),g(15,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),I(16,tP,2,0,"mat-icon",94),l(),S(17,"br")(18,"br")(19,"br"),a(20,"app-estate-contract-type-selector",93),g(21,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),I(22,iP,2,0,"mat-icon",94),l(),S(23,"br")(24,"br")(25,"br"),I(26,nP,5,3,"div",95)(27,oP,5,3,"div",95)(28,rP,7,4,"div",95),S(29,"hr"),a(30,"app-cms-currency-selector",96),g(31,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),a(32,"div",97)(33,"div",98),I(34,aP,6,4,"div",95)(35,lP,6,4,"div",95)(36,sP,5,1,"div",95)(37,dP,6,4,"div",95),l(),a(38,"div",98),I(39,cP,6,4,"div",95)(40,pP,6,4,"div",95)(41,mP,6,4,"div",95)(42,uP,6,4,"div",95),l(),a(43,"mat-accordion",99),I(44,bP,13,8,"mat-expansion-panel",100),S(45,"br"),l()()()}if(o&2){let n=u();r(2),C("",y(3,27,"MESSAGE.Selecting_any_of_the_following_will_make_the_search_results_range_smaller")," "),r(2),p("ngIf",n.tokenHelper.isAdminSite),r(),p("optionPlaceholder",y(6,29,"TITLE.Region")),r(3),p("optionTypeView",2)("optionPlaceholder",y(9,31,"TITLE.Type_Usage")),r(2),p("ngIf",n.filteModelContent.linkPropertyTypeUsageId&&(n.filteModelContent.linkPropertyTypeUsageId==null?null:n.filteModelContent.linkPropertyTypeUsageId.length)>0),r(4),p("optionTypeView",2)("optionPlaceholder",y(15,33,"TITLE.Property_Type")),r(2),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.filteModelContent.linkPropertyTypeLanduseId==null?null:n.filteModelContent.linkPropertyTypeLanduseId.length)>0),r(4),p("optionTypeView",2)("optionPlaceholder",y(21,35,"TITLE.Transaction_type")),r(2),p("ngIf",n.filteModelContent.linkContractTypeId&&(n.filteModelContent.linkContractTypeId==null?null:n.filteModelContent.linkContractTypeId.length)>0),r(4),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titleCreatedYaer==null?null:n.PropertyTypeSelected.titleCreatedYaer.length)>1),r(),p("ngIf",n.filteModelContent.linkPropertyTypeLanduseId&&(n.PropertyTypeSelected==null||n.PropertyTypeSelected.titlePartition==null?null:n.PropertyTypeSelected.titlePartition.length)>1),r(),p("ngIf",n.fieldsInfo.area==null?null:n.fieldsInfo.area.accessWatchField),r(2),p("optionSelectFirstItem",!1)("optionSelectForce",n.filteModelContent.linkCoreCurrencyId)("optionPlaceholder",y(31,37,"TITLE.Specify_the_transaction_currency")),r(4),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(2),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasSalePrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasRentPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(),p("ngIf",n.contractTypeSelected==null?null:n.contractTypeSelected.hasDepositPrice),r(2),p("ngForOf",n.dataModelPropertyDetailGroups)}}function TP(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function xP(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",140),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",141),l()()}}function AP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function PP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function kP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function DP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function RP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function VP(o,s){if(o&1&&S(0,"select",145),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,fc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function LP(o,s){if(o&1&&(a(0,"mat-cell",143),g(1,"statusCellClass"),S(2,"i",143),g(3,"statusIconClass"),I(4,VP,1,5,"select",144),l()),o&2){let n=s.$implicit,t=u();p("ngClass",y(1,3,n.recordStatus)),r(2),p("ngClass",y(3,5,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function FP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function OP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function BP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function HP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.createdDate)," ")}}function WP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scoreRushToBuy==null?null:n.fieldsInfo.scoreRushToBuy.fieldTitle," ")}}function NP(o,s){if(o&1&&(a(0,"mat-cell",143),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scoreRushToBuy),r(),C(" ",n.scoreRushToBuy," ")}}function GP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scorePurchaseDecision==null?null:n.fieldsInfo.scorePurchaseDecision.fieldTitle," ")}}function UP(o,s){if(o&1&&(a(0,"mat-cell",143),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scorePurchaseDecision),r(),C(" ",n.scorePurchaseDecision," ")}}function jP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scoreLiquidityPower==null?null:n.fieldsInfo.scoreLiquidityPower.fieldTitle," ")}}function qP(o,s){if(o&1&&(a(0,"mat-cell",143),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scoreLiquidityPower),r(),C(" ",n.scoreLiquidityPower," ")}}function QP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.scorePurchasingPower==null?null:n.fieldsInfo.scorePurchasingPower.fieldTitle," ")}}function zP(o,s){if(o&1&&(a(0,"mat-cell",143),d(1),l()),o&2){let n=s.$implicit;p("ngClass","cms-cell-score-"+n.scorePurchasingPower),r(),C(" ",n.scorePurchasingPower," ")}}function YP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function KP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDateTime(n.updatedDate)," ")}}function ZP(o,s){if(o&1&&(a(0,"mat-header-cell",142),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," ")}}function JP(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.caseCode," ")}}function XP(o,s){o&1&&(a(0,"mat-header-cell",146),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function $P(o,s){if(o&1&&(a(0,"mat-cell",147)(1,"button",148)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,14),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function e4(o,s){o&1&&(a(0,"mat-header-cell",142),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function t4(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",149),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",150),d(3,"\u2197"),l()()()}}function i4(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function n4(o,s){if(o&1&&(S(0,"img",156),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function o4(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe("",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle," : ",n.description," ")}}function r4(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),g(4,"translate"),l()()),o&2){let n=u().$implicit;r(3),fe("",y(4,2,"TITLE.Description_Hidden")," : ",n.descriptionHidden," ")}}function a4(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),g(4,"translate"),l()()),o&2){let n=u().$implicit;r(3),fe("",y(4,2,"TITLE.Contact_Mobiles")," : ",n.contactMobiles," ")}}function l4(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,n4,2,3,"img",151),l(),a(6,"th")(7,"span",152),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",153),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),I(14,o4,4,2,"tr",50)(15,r4,5,4,"tr",50)(16,a4,5,4,"tr",50),a(17,"tr"),S(18,"td"),a(19,"td",154),d(20),g(21,"cmsuserinfo"),g(22,"async"),l()(),a(23,"tr")(24,"td",155),d(25,"\u062A\u0627\u0631\u06CC\u062E\u0686\u0647 :"),l(),a(26,"td",155),d(27),l()(),a(28,"tr"),S(29,"td")(30,"td"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),fe("",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle," : ",n.title," "),r(),p("ngIf",n.description),r(),p("ngIf",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",t.fieldsInfo.contactMobiles==null?null:t.fieldsInfo.contactMobiles.accessWatchField),r(4),C(" ",y(22,12,y(21,10,n.createdBy))," "),r(7),C(" ",n.historyTotalCount," ")}}function s4(o,s){o&1&&S(0,"mat-header-row")}function d4(o,s){if(o&1){let n=v();a(0,"mat-row",157),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function c4(o,s){if(o&1){let n=v();a(0,"mat-row",157),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function p4(o,s){if(o&1){let n=v();a(0,"mat-row",158),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,fc,n.expanded===!0?"":"none"))}}var rr=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze){super(t,new hn,Ee,h,B),this.contentService=t,this.cmsConfirmationDialogService=i,this.estatePropertyDetailGroupService=e,this.cmsToastrService=m,this.tokenHelper=h,this.router=c,this.cdr=R,this.translate=B,this.activatedRoute=q,this.pageInfo=re,this.publicHelper=Ee,this.dialog=Ze,this.constructorInfoAreaId=this.constructor.name,this.responsibleUserId=0,this.searchInResponsible=!1,this.searchInResponsibleChecked=!1,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Sr,this.dataModelPropertyDetailGroups=[],this.enumInputDataType=Li,this.tabledisplayedColumns=[],this.step=0,this.tabledisplayedColumnsSource=["Id","LinkSiteId","RecordStatus","CreatedDate","UpdatedDate","scoreRushToBuy","scorePurchaseDecision","scoreLiquidityPower","scorePurchasingPower","CaseCode","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["RecordStatus","CaseCode","LinkTo","action_menu"],this.propertyDetails=new Map,this.optionloadComponent=!0,this.optionloadByRoute=!0,this.PropertyTypeSelected=new Vt,this.dataModelCorCurrencySelector=new Vi,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Yt=>this.onSubmitOptionsSearch(Yt)},this.responsibleUserId=+this.activatedRoute.snapshot.paramMap.get("ResponsibleUserId"),this.requestRecordStatus=Ge[this.activatedRoute.snapshot.paramMap.get("RecordStatus")+""],this.requestRecordStatus&&(this.optionsSearch.data.show=!0,this.optionsSearch.data.defaultQuery='{"condition":"and","rules":[{"field":"RecordStatus","type":"select","operator":"equal","value":"'+this.requestRecordStatus+'"}]}',this.requestRecordStatus=null),this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=ae.Descending}set optionLinkPropertyId(t){t&&t.length>0&&(this.requestLinkPropertyId=t)}set optionLinkPropertyIdHaveHistory(t){t&&t.length>0&&(this.requestLinkPropertyIdHaveHistory=t)}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,!this.tokenHelper.isAdminSite&&!this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,!this.tokenHelper.isAdminSite&&this.tokenHelper.isSupportSite&&(this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreRushToBuy"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchaseDecision"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scoreLiquidityPower"),this.tabledisplayedColumnsSource=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumnsSource,"scorePurchasingPower")),this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){if(this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),!this.optionloadComponent)return;this.tableRowsSelected=[],this.onActionTableRowSelect(new hn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(h=>{this.publicHelper.processService.processStart(t,h,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let h=new G;h.propertyName="linkEstateCustomerCategoryId",h.value=this.categoryModelSelected.id,i.filters.push(h)}var e=0;if(this.searchInResponsible?e=this.tokenInfo.userId:this.responsibleUserId>0&&(e=this.responsibleUserId),this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0)this.contentService.ServiceGetAllWithCoverPropertyId(this.requestLinkPropertyId,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(t)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(t,!1)}});else if(this.requestLinkPropertyIdHaveHistory&&this.requestLinkPropertyIdHaveHistory.length>0)this.contentService.ServiceGetAllWithCoverPropertyIdHaveHistory(this.requestLinkPropertyIdHaveHistory,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(t)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(t,!1)}});else if(e>0)this.contentService.ServiceGetAllWithResponsibleUserId(e,i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(t)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(t,!1)}});else{var m=[];this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(h=>{h.propertyDetails.forEach(c=>{let R=new mo;R.linkPropertyDetailId=c.id,R.value=this.propertyDetails[c.id],m.push(R)})}),i.propertyDetailValues=m,this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetAll(i).subscribe({next:h=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(h.access),h.isSuccess?(this.dataModelResult=h,this.tableSource.data=h.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(h.access)},1e3)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(t)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(t,!1)}})}}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",m.id])})}onActionButtonCopyNewRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(t);var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Zl,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{copyId:t.id,linkEstateCustomerCategoryId:this.categoryModelSelected?.id}}).afterClosed().subscribe(h=>{h&&h.dialogChangedDate&&this.router.navigate(["/estate/customer-order/edit/",h.id])})}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/customer-order/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/customer-order/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(t.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonHistoryRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-history/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-history/LinkCustomerOrderId",this.tableRowSelected.id])}onActionButtonOpenCustomerOrder(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),window.open(this.tableRowSelected.urlViewContent,"_blank")}onActionButtonContentList(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(t),i?.ctrlKey?(this.link="/#/estate/property/LinkCustomerOrderId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCustomerOrderId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.publicHelper.processService.processStart(this.constructor.name+"All",this.translate.instant("MESSAGE.property_list"),this.constructorInfoAreaId),this.contentService.setAccessDataType(Be.Editor);let e=JSON.parse(JSON.stringify(this.filteModelContent)),m=this.contentService.ServiceGetCount(e),h=JSON.parse(JSON.stringify(this.filteModelContent)),c=new G;c.propertyName="RecordStatus",c.value=Ge.Available,h.filters.push(c);let R=this.contentService.ServiceGetCount(h),B=JSON.parse(JSON.stringify(this.filteModelContent)),q=new G;q.propertyName="RecordStatus",q.value=Ge.Archive,B.filters.push(q);let re=this.contentService.ServiceGetCount(B),Ee=JSON.parse(JSON.stringify(this.filteModelContent)),Ze=new G;Ze.propertyName="RecordStatus",Ze.value=Ge.Pending,Ee.filters.push(Ze);let Yt=this.contentService.ServiceGetCount(Ee),Ve=JSON.parse(JSON.stringify(this.filteModelContent)),Wt=new G;Wt.propertyName="RecordStatus",Wt.value=Ge.Disable,Ve.filters.push(Wt);let Br=this.contentService.ServiceGetCount(Ve);Ia([m,R,re,Yt,Br]).subscribe(ca=>{var fn=ca[0];fn.isSuccess&&i.set(this.translate.instant("MESSAGE.customer_order_list"),fn.totalRowCount);var fn=ca[1];fn.isSuccess&&i.set(this.translate.instant("MESSAGE.customer_order_list_active"),fn.totalRowCount),fn=ca[2],fn.isSuccess?i.set(this.translate.instant("MESSAGE.customer_order_list_close"),fn.totalRowCount):this.cmsToastrService.typeErrorMessage(fn.errorMessage),fn=ca[3],fn.isSuccess?i.set(this.translate.instant("MESSAGE.customer_order_needs_approval"),fn.totalRowCount):this.cmsToastrService.typeErrorMessage(fn.errorMessage),fn=ca[4],fn.isSuccess?i.set(this.translate.instant("MESSAGE.customer_order_list_disable"),fn.totalRowCount):this.cmsToastrService.typeErrorMessage(fn.errorMessage),this.publicHelper.processService.processStop(this.constructor.name+"All"),this.optionsStatist.childMethods.setStatistValue(i)})}onActionButtonInResponsible(t){this.searchInResponsible=t,this.DataGetAll()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType,i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Sr,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.optionloadComponent=!0,this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=t;let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_customer_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLocation(t){this.filteModelContent.linkLocationIds=t}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.filteModelContent.linkPropertyTypeUsageId=t.id}onSearchCaseCodeChange(t){t&&t.length>0&&(this.filteModelContent=new Sr,this.filteModelContent.caseCode=t,this.dataModelPropertyDetailGroups=[])}onActionSelectorSelectLanduse(t){if(this.dataModelPropertyDetailGroups=[],this.PropertyTypeSelected=null,this.filteModelContent.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.DataGetPropertyDetailGroup(t.id),this.PropertyTypeSelected=t,this.filteModelContent.linkPropertyTypeLanduseId=t.id}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModelPropertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAllFastSearch(i).subscribe({next:h=>{h.isSuccess?(this.dataModelPropertyDetailGroups=h.listItems,this.dataModelPropertyDetailGroups&&this.dataModelPropertyDetailGroups.forEach(c=>{c.propertyDetails.forEach(R=>{this.propertyDetails[R.id]=0})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}onActionSelectorContarctType(t){if(this.contractTypeSelected=null,this.filteModelContent.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.contractTypeSelected=t,this.filteModelContent.linkContractTypeId=t.id}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.filteModelContent.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.filteModelContent.linkCoreCurrencyId=t.id}onActionButtonQuickHistoryAddRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(t);var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:this.categoryModelSelected?.id,linkPropertyId:null,linkEstateUserId:null,linkCustomerOrderId:t.id,linkEstateAgencyId:null}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}};s.\u0275fac=function(i){return new(i||s)(E(Xi),E(Ye),E(pi),E(V),E(Y),E(Qe),E(H),E(O),E(Ht),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-customer-order-list"]],inputs:{optionloadComponent:"optionloadComponent",optionloadByRoute:"optionloadByRoute",optionLinkPropertyId:"optionLinkPropertyId",optionLinkPropertyIdHaveHistory:"optionLinkPropertyIdHaveHistory"},features:[le],decls:147,vars:65,consts:[["caseCode",""],["tableSort","matSort"],["paginator",""],["CreatedYaer",""],["Partition",""],["Area",""],["SalePriceMin",""],["RentPriceMin",""],["DepositPriceMin",""],["PeriodPriceMin",""],["SalePriceMax",""],["RentPriceMax",""],["DepositPriceMax",""],["PeriodPriceMax",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",3,"click",4,"ngIf"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-clock-rotate-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],[1,"fa-light","fa-clapperboard-play","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],[1,"ntk-full-width"],["matInput","","name","filteModelContent.caseCode","type","text","step","1",3,"input","ngModelChange","ngModel","placeholder"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matPrefix",""],["matSuffix","",1,"info-field-icon"],[1,"info-field-text"],[4,"ngIf"],["cms-body",""],["matSort","","multiTemplateDataRows","",1,"ntk-cms-html-table",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","scoreRushToBuy"],["matColumnDef","scorePurchaseDecision"],["matColumnDef","scoreLiquidityPower"],["matColumnDef","scorePurchasingPower"],["matColumnDef","UpdatedDate"],["matColumnDef","CaseCode"],["matColumnDef","Action"],["class","form-label",4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","checked"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["matPrefix","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionPlaceholder"],[3,"optionChange","optionTypeView","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"row",2,"direction","rtl"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filteModelContent.createdYaer",1,"color-highlight"],["matInput","","name","filteModelContent.createdYaer","type","number","id","filteModelContent.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.partition",1,"color-highlight"],["matInput","","name","filteModelContent.partition","type","number","id","filteModelContent.partition",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.area",1,"color-highlight"],["matInput","","name","filteModelContent.area","type","text","currencyMask","","pattern","(d{3})","step","10","id","filteModelContent.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","filteModelContent.salePriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMin",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMin","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.salePriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.salePriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.rentPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.rentPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.depositPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.depositPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","filteModelContent.periodPriceMax",1,"color-highlight"],["matInput","","name","filteModelContent.periodPriceMax","type","text","currencyMask","","step","1000000","id","filteModelContent.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[3,"opened","expanded"],[2,"width","100px"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header","",1,"form-label"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"form-label"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[1,"input-Mobile"],[1,"col-form-label"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",15),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())}),P(1,16),a(2,"app-estate-customer-category-tree",17),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(3,18)(4,19),P(5,20),a(6,"a",21),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",22),l(),a(8,"a",21),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",23),l(),a(10,"a",24),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(11,"i",25),l(),a(12,"a",24),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(13,"i",26),l(),k(),P(14,27),a(15,"a",28),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(16,"mat-slide-toggle",29),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(17),g(18,"translate"),l(),a(19,"a",28),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(20,"mat-slide-toggle",30),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(21),g(22,"translate"),l(),I(23,z3,4,4,"a",31),k(),P(24,32),I(25,Y3,7,3,"div",33),k(),P(26,34),I(27,K3,7,3,"div",33),a(28,"div",35),I(29,Z3,3,0,"a",36),a(30,"p",37),d(31),g(32,"translate"),l()(),I(33,J3,7,3,"div",33),a(34,"div",35)(35,"a",24),M("click",function(){return f(m),_(e.onActionButtonQuickHistoryAddRow(e.tableRowSelected))}),S(36,"i",38)(37,"br"),l(),a(38,"p",37),d(39),g(40,"translate"),l()(),a(41,"div",35)(42,"a",24),M("click",function(c){return f(m),_(e.onActionButtonHistoryRow(e.tableRowSelected,c))}),S(43,"i",38)(44,"br"),l(),a(45,"p",37),d(46),g(47,"translate"),l()(),a(48,"div",35)(49,"a",24),M("click",function(c){return f(m),_(e.onActionButtonContentList(e.tableRowSelected,c))}),S(50,"i",39)(51,"br"),l(),a(52,"p",37),d(53),g(54,"translate"),l()(),a(55,"div",35)(56,"a",24),M("click",function(){return f(m),_(e.onActionButtonOpenCustomerOrder(e.tableRowSelected))}),S(57,"i",40)(58,"br"),l(),a(59,"p",37),d(60),g(61,"translate"),l()(),a(62,"div",35)(63,"a",21),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(64,"i",41)(65,"br"),l(),a(66,"p",37),d(67),g(68,"translate"),l()(),k(),P(69,42),a(70,"app-cms-search-list",43),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),S(71,"hr"),a(72,"p"),d(73),g(74,"translate"),l(),a(75,"mat-form-field",44)(76,"mat-label"),d(77),l(),a(78,"input",45,0),M("input",function(c){return f(m),_(e.onSearchCaseCodeChange(c.target.value))}),x("ngModelChange",function(c){return f(m),T(e.filteModelContent.caseCode,c)||(e.filteModelContent.caseCode=c),_(c)}),l(),I(80,X3,2,0,"mat-icon",46),a(81,"mat-icon",47),d(82," mode_edit"),l(),a(83,"mat-hint")(84,"mat-icon",48),d(85),g(86,"translate"),l(),a(87,"strong",49),d(88),l()()(),I(89,wP,46,39,"div",50),l(),a(90,"app-cms-statist-list",43),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(91,51),a(92,"mat-table",52,1),M("matSortChange",function(){f(m);let c=D(93);return _(e.onTableSortData(c))}),P(94,53),I(95,TP,3,3,"mat-header-cell",54)(96,xP,3,0,"mat-cell",55),k(),P(97,56),I(98,AP,2,1,"mat-header-cell",57)(99,PP,2,1,"mat-cell",55),k(),P(100,58),I(101,kP,2,1,"mat-header-cell",57)(102,DP,4,5,"mat-cell",55),k(),P(103,59),I(104,RP,2,1,"mat-header-cell",57)(105,LP,5,7,"mat-cell",60),k(),P(106,61),I(107,FP,2,1,"mat-header-cell",57)(108,OP,2,1,"mat-cell",55),k(),P(109,62),I(110,BP,2,1,"mat-header-cell",57)(111,HP,2,1,"mat-cell",55),k(),P(112,63),I(113,WP,2,1,"mat-header-cell",57)(114,NP,2,2,"mat-cell",60),k(),P(115,64),I(116,GP,2,1,"mat-header-cell",57)(117,UP,2,2,"mat-cell",60),k(),P(118,65),I(119,jP,2,1,"mat-header-cell",57)(120,qP,2,2,"mat-cell",60),k(),P(121,66),I(122,QP,2,1,"mat-header-cell",57)(123,zP,2,2,"mat-cell",60),k(),P(124,67),I(125,YP,2,1,"mat-header-cell",57)(126,KP,2,1,"mat-cell",55),k(),P(127,68),I(128,ZP,2,1,"mat-header-cell",57)(129,JP,2,1,"mat-cell",55),k(),P(130,69),I(131,XP,3,3,"mat-header-cell",70)(132,$P,6,1,"mat-cell",71),k(),P(133,72),I(134,e4,3,3,"mat-header-cell",57)(135,t4,4,0,"mat-cell",55),k(),P(136,73),I(137,i4,2,1,"mat-cell",55),k(),P(138,74),I(139,l4,31,14,"mat-cell",55),k(),I(140,s4,1,0,"mat-header-row",75)(141,d4,1,6,"mat-row",76)(142,c4,1,6,"mat-row",76)(143,p4,1,9,"mat-row",77),l(),k(),P(144,78),a(145,"mat-paginator",79,2),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","customerorder.content.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",e.optionloadByRoute)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(16),w("ngModel",e.optionsSearch.data.show),r(),C("",y(18,42,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(22,44,"ACTION.STATIST")," "),r(2),p("ngIf",!e.requestLinkPropertyId||e.requestLinkPropertyId.length===0),r(2),p("ngIf",e.optionloadByRoute&&e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&(e.tableRowSelected==null?null:e.tableRowSelected.id)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),b(y(32,46,"ACTION.COPY")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(40,48,"ACTION.HISTORY_ADD")),r(7),b(y(47,50,"ACTION.HISTORY_LIST")),r(7),b(y(54,52,"ACTION.THEPROPERTY_INCLUDESVIEWS")),r(7),b(y(61,54,"ACTION.DISPLAYCLIENTPAGE")),r(7),b(y(68,56,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(3),b(y(74,58,"MESSAGE.Content_of_your_choice_to_display")),r(4),b(e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldTitle),w("ngModel",e.filteModelContent.caseCode),r(2),p("ngIf",e.filteModelContent.caseCode),r(5),b(y(86,60,"TITLE.info")),r(3),b(e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.fieldDescription),r(),p("ngIf",!e.filteModelContent.caseCode||e.filteModelContent.caseCode.length===0),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(48),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(62,j3)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(63,q3)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(64,Q3)))},dependencies:[ce,We,N,mt,oo,ro,ao,te,Rt,z,vs,X,ze,Co,fo,_o,ho,yo,go,Bt,ci,ka,yr,Oe,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,vi,qt,Wi,Ct,Hn,Bn,Ln,On,Fn,Wn,mn,so,di,Ki,Zi,uc,Ue,U,Mi,An,Se,ri,ir],encapsulation:2});let o=s;return o})();var u4=["vform"];function f4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionNext())}),S(1,"i",14),d(2," < "),l()}}function _4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionPervious())}),S(1,"i",14),d(2," > "),l()}}function h4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u();r(2),C("",n.fieldsInfo.updatedBy==null?null:n.fieldsInfo.updatedBy.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.updatedBy)))}}function g4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u();r(2),C("",n.fieldsInfo.linkCmsUserId==null?null:n.fieldsInfo.linkCmsUserId.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.linkCmsUserId)))}}function y4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u();r(2),C("",y(3,2,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description)}}function C4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u(2);return _(i.onActionNext())}),S(1,"i",14),d(2," < "),l()}}function S4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u(2);return _(i.onActionPervious())}),S(1,"i",14),d(2," > "),l()}}function I4(o,s){if(o&1){let n=v();a(0,"div",8)(1,"button",13),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",14),d(3),g(4,"translate"),l(),I(5,C4,3,0,"button",1)(6,S4,3,0,"button",1),l()}if(o&2){let n=u();r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}var _c=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyCompanyService=m,this.cmsToastrService=h,this.tokenHelper=c,this.cdr=R,this.publicHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new xn,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyCompanyService.setAccessLoad(),this.estatePropertyCompanyService.setAccessDataType(Be.Editor),this.estatePropertyCompanyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(dn),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(u4,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:37,vars:22,consts:[[1,"ntk-cms-html-card-header",2,"height","100vh"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[1,"table","table-striped"],[3,"ngClass"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),d(1),I(2,f4,3,0,"button",1)(3,_4,3,0,"button",1),l(),a(4,"div",2),S(5,"app-progress-spinner",3),a(6,"table",4)(7,"tbody")(8,"tr")(9,"td"),d(10),l(),a(11,"td"),S(12,"i",5),g(13,"statusIconClass"),l()(),a(14,"tr")(15,"td"),d(16),l(),a(17,"td"),d(18),l()(),a(19,"tr")(20,"td"),d(21),l(),a(22,"td"),d(23),g(24,"cmsuserinfo"),g(25,"async"),l()(),I(26,h4,7,6,"tr",6)(27,g4,7,6,"tr",6)(28,y4,6,4,"tr",6),l()()(),a(29,"div",7)(30,"div",8)(31,"small",9),d(32),l(),a(33,"small",10),d(34),l()()(),a(35,"div",11),I(36,I4,7,5,"div",12),l()),i&2&&(r(),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),r(),p("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(13,16,e.dataModel.recordStatus)),r(4),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),r(2),b(e.dataModel.title),r(3),C("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(25,20,y(24,18,e.dataModel.createdBy))),r(3),p("ngIf",e.dataModel.updatedBy),r(),p("ngIf",e.dataModel.linkCmsUserId>0),r(),p("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),r(4),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ce,N,li,j,Ue,U,Mi,ri],encapsulation:2});let o=s;return o})();var M4=["vform"];function E4(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(2);return _(i.onActionNext())}),S(1,"i",17),d(2," < "),l()}}function v4(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(2);return _(i.onActionPervious())}),S(1,"i",17),d(2," > "),l()}}function b4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.updatedBy==null?null:n.fieldsInfo.updatedBy.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.updatedBy)))}}function w4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u(2);r(2),C("",n.fieldsInfo.linkCmsUserId==null?null:n.fieldsInfo.linkCmsUserId.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.linkCmsUserId)))}}function T4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u(2);r(2),C("",y(3,2,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description)}}function x4(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionNext())}),S(1,"i",17),d(2," < "),l()}}function A4(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u(3);return _(i.onActionPervious())}),S(1,"i",17),d(2," > "),l()}}function P4(o,s){if(o&1){let n=v();a(0,"div",11)(1,"button",16),M("click",function(){f(n);let i=u(2);return _(i.onFormCancel())}),S(2,"i",17),d(3),g(4,"translate"),l(),I(5,x4,3,0,"button",6)(6,A4,3,0,"button",6),l()}if(o&2){let n=u(2);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}function k4(o,s){if(o&1&&(P(0),a(1,"div",5),I(2,E4,3,0,"button",6)(3,v4,3,0,"button",6),S(4,"hr"),l(),a(5,"div",7)(6,"table",8)(7,"tbody")(8,"tr")(9,"td"),d(10),l(),a(11,"td"),S(12,"i",9),g(13,"statusIconClass"),l()(),a(14,"tr")(15,"td"),d(16),l(),a(17,"td"),d(18),l()(),a(19,"tr")(20,"td"),d(21),l(),a(22,"td"),d(23),g(24,"cmsuserinfo"),g(25,"async"),l()(),I(26,b4,7,6,"tr",4)(27,w4,7,6,"tr",4)(28,T4,6,4,"tr",4),l()()(),a(29,"div",10)(30,"div",11)(31,"small",12),d(32),l(),a(33,"small",13),d(34),l()()(),a(35,"div",14),I(36,P4,7,5,"div",15),l(),k()),o&2){let n=u();r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0),r(7),C("",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(13,14,n.dataModel.recordStatus)),r(4),C("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle,":"),r(2),b(n.dataModel.title),r(3),C("",n.fieldsInfo.createdBy==null?null:n.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(25,18,y(24,16,n.dataModel.createdBy))),r(3),p("ngIf",n.dataModel.updatedBy),r(),p("ngIf",n.dataModel.linkCmsUserId>0),r(),p("ngIf",(n.dataModel.description==null?null:n.dataModel.description.length)>0),r(4),C("",n.formInfo.formAlert," "),r(2),C("",n.formInfo.formError," "),r(2),p("ngIf",n.formInfo.formSubmitAllow&&!n.publicHelper.processService.process.inRunAll)}}var hc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyProjectService=m,this.cmsToastrService=h,this.tokenHelper=c,this.cdr=R,this.publicHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new Tn,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyProjectService.setAccessLoad(),this.estatePropertyProjectService.setAccessDataType(Be.Editor),this.estatePropertyProjectService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(sn),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(M4,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:6,vars:3,consts:[[1,"card","card-style","loader-container",2,"height","100vh","overflow-y","auto"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],[1,"ntk-cms-html-card-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body"],[1,"table","table-striped"],[3,"ngClass"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),I(5,k4,37,20,"ng-container",4),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[ce,N,li,j,Ue,U,Mi,ri],encapsulation:2});let o=s;return o})();var D4=["vform"];function R4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionNext())}),S(1,"i",14),d(2," < "),l()}}function V4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionPervious())}),S(1,"i",14),d(2," > "),l()}}function L4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u();r(2),C("",n.fieldsInfo.updatedBy==null?null:n.fieldsInfo.updatedBy.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.updatedBy)))}}function F4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),l(),a(3,"td"),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u();r(2),C("",n.fieldsInfo.linkCmsUserId==null?null:n.fieldsInfo.linkCmsUserId.fieldTitle,":"),r(2),b(y(6,4,y(5,2,n.dataModel.linkCmsUserId)))}}function O4(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"translate"),l(),a(4,"td"),d(5),l()()),o&2){let n=u();r(2),C("",y(3,2,"TITLE.General_Description"),":"),r(3),b(n.dataModel.description)}}function B4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u(2);return _(i.onActionNext())}),S(1,"i",14),d(2," < "),l()}}function H4(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u(2);return _(i.onActionPervious())}),S(1,"i",14),d(2," > "),l()}}function W4(o,s){if(o&1){let n=v();a(0,"div",8)(1,"button",13),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",14),d(3),g(4,"translate"),l(),I(5,B4,3,0,"button",1)(6,H4,3,0,"button",1),l()}if(o&2){let n=u();r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("ngIf",n.requestNextItem&&(n.requestNextItem==null||n.requestNextItem.id==null?null:n.requestNextItem.id.length)>0),r(),p("ngIf",n.requestPerviousItem&&(n.requestPerviousItem==null||n.requestPerviousItem.id==null?null:n.requestPerviousItem.id.length)>0)}}var gc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertySupplierService=m,this.cmsToastrService=h,this.tokenHelper=c,this.cdr=R,this.publicHelper=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new uo,this.formInfo=new me,this.fieldsInfo=new Map,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","Price"],this.fileManagerOpenForm=!1,this.errorMessage="",this.enumInputDataType=Li,this.step=0,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"",this.requestPerviousItem=t.perviousItem,this.requestNextItem=t.nextItem)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.QUICK_VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertySupplierService.setAccessLoad(),this.estatePropertySupplierService.setAccessDataType(Be.Editor),this.estatePropertySupplierService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.errorMessage=i.errorMessage+"<br> ( "+i.errorTypeTitle+" ) ",this.cmsToastrService.typeErrorMessage(this.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionNext(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestNextItem})}onActionPervious(){this.dialogRef.close({dialogChangedDate:!0,onActionOpenItem:this.requestPerviousItem})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Qn),E(V),E(Y),E(H),E(L),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-quick-view"]],viewQuery:function(i,e){if(i&1&&ie(D4,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:37,vars:22,consts:[[1,"ntk-cms-html-card-header",2,"height","100vh"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],["dir","rtl",1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[1,"table","table-striped"],[3,"ngClass"],[4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),d(1),I(2,R4,3,0,"button",1)(3,V4,3,0,"button",1),l(),a(4,"div",2),S(5,"app-progress-spinner",3),a(6,"table",4)(7,"tbody")(8,"tr")(9,"td"),d(10),l(),a(11,"td"),S(12,"i",5),g(13,"statusIconClass"),l()(),a(14,"tr")(15,"td"),d(16),l(),a(17,"td"),d(18),l()(),a(19,"tr")(20,"td"),d(21),l(),a(22,"td"),d(23),g(24,"cmsuserinfo"),g(25,"async"),l()(),I(26,L4,7,6,"tr",6)(27,F4,7,6,"tr",6)(28,O4,6,4,"tr",6),l()()(),a(29,"div",7)(30,"div",8)(31,"small",9),d(32),l(),a(33,"small",10),d(34),l()()(),a(35,"div",11),I(36,W4,7,5,"div",12),l()),i&2&&(r(),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.requestNextItem&&(e.requestNextItem==null||e.requestNextItem.id==null?null:e.requestNextItem.id.length)>0),r(),p("ngIf",e.requestPerviousItem&&(e.requestPerviousItem==null||e.requestPerviousItem.id==null?null:e.requestPerviousItem.id.length)>0),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C("",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.fieldTitle,":"),r(2),p("ngClass",y(13,16,e.dataModel.recordStatus)),r(4),C("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle,":"),r(2),b(e.dataModel.title),r(3),C("",e.fieldsInfo.createdBy==null?null:e.fieldsInfo.createdBy.fieldTitle,":"),r(2),b(y(25,20,y(24,18,e.dataModel.createdBy))),r(3),p("ngIf",e.dataModel.updatedBy),r(),p("ngIf",e.dataModel.linkCmsUserId>0),r(),p("ngIf",(e.dataModel.description==null?null:e.dataModel.description.length)>0),r(4),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ce,N,li,j,Ue,U,Mi,ri],encapsulation:2});let o=s;return o})();function N4(o,s){o&1&&(a(0,"mat-error"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"MESSAGE.InvalidStartDate")))}function G4(o,s){o&1&&(a(0,"mat-error"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"MESSAGE.InvalidEndDate")))}function U4(o,s){if(o&1){let n=v();a(0,"button",48),M("click",function(){f(n);let i=u();return _(i.onActionNext())}),S(1,"i",49),d(2," < "),l()}}function j4(o,s){if(o&1){let n=v();a(0,"button",48),M("click",function(){f(n);let i=u();return _(i.onActionPervious())}),S(1,"i",49),d(2," > "),l()}}function q4(o,s){if(o&1){let n=v();a(0,"button",48),M("click",function(){f(n);let i=u();return _(i.onActionToDay())}),S(1,"i",49),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"TITLE.Today")," "))}function Q4(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",50),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorUser(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.linkCmsUserId)("optionPlaceholder",y(1,2,"TITLE.USER"))}}function z4(o,s){if(o&1){let n=v();a(0,"a",51),M("click",function(){f(n);let i=u();return _(i.onActionButtonOnDateSearch())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.SEARCH")))}function Y4(o,s){if(o&1&&(a(0,"div",13),d(1),g(2,"translate"),g(3,"translate"),l()),o&2){let n=u();r(),Ss(" ",y(2,4,"TITLE.From_Date")," ",n.publicHelper.LocaleDateTime(n.checkingOnDayRange.controls.start.value)," - ",y(3,6,"TITLE.To_Date")," ",n.publicHelper.LocaleDateTime(n.checkingOnDayRange.controls.end.value)," ")}}function K4(o,s){if(o&1&&(a(0,"div",13),d(1),g(2,"cmsuserinfo"),g(3,"async"),l()),o&2){let n=u();r(),C(" ",y(3,3,y(2,1,n.linkCmsUserId))," ")}}function Z4(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function J4(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Z4,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function X4(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function $4(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,X4,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function ek(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function tk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,J4,5,5,"p",53)(3,$4,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonProperty(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonProperty(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,ek,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function ik(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function nk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,ik,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function ok(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function rk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,ok,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function ak(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function lk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,nk,5,5,"p",53)(3,rk,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonCustomerOrder(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonCustomerOrder(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,ak,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function sk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function dk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,sk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function ck(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function pk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,ck,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function mk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function uk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,dk,5,5,"p",53)(3,pk,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonHistory(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonHistory(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,mk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function fk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function _k(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,fk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function hk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function gk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,hk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function yk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function Ck(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,_k,5,5,"p",53)(3,gk,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonAccountAgency(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonAccountAgency(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,yk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function Sk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function Ik(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Sk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function Mk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function Ek(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Mk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function vk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function bk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,Ik,5,5,"p",53)(3,Ek,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonAccountUser(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonAccountUser(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,vk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function wk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function Tk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,wk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function xk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function Ak(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,xk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function Pk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function kk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,Tk,5,5,"p",53)(3,Ak,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertyCompany(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertyCompany(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,Pk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function Dk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function Rk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Dk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function Vk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function Lk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Vk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function Fk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function Ok(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,Rk,5,5,"p",53)(3,Lk,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertySupplier(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertySupplier(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,Fk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}function Bk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.createdDate)," ")}}function Hk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Bk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.ADD"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.createdDate),"")}}function Wk(o,s){if(o&1&&(a(0,"b"),d(1),l()),o&2){let n=u(2).$implicit,t=u();r(),C("",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function Nk(o,s){if(o&1&&(a(0,"p",4),d(1),g(2,"translate"),I(3,Wk,2,1,"b",12),d(4),l()),o&2){let n=u().$implicit,t=u();r(),C(" ",y(2,3,"TITLE.Edit"),":"),r(2),p("ngIf",!t.viewOnlyTime),r(),C(" ",t.publicHelper.getTime(n.updatedDate),"")}}function Gk(o,s){if(o&1&&(a(0,"p"),d(1),g(2,"translate"),a(3,"b",56),d(4),g(5,"cmsuserinfo"),g(6,"async"),l()()),o&2){let n=u().$implicit;r(),C(" ",y(2,2,"TITLE.Edit"),": "),r(3),C(" ",y(6,6,y(5,4,n.updatedBy))," ")}}function Uk(o,s){if(o&1){let n=v();P(0),S(1,"div",52),I(2,Hk,5,5,"p",53)(3,Nk,5,5,"p",53),a(4,"h4",54),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertyProject(e,i))}),d(5),a(6,"i",55),g(7,"statusIconClass"),M("click",function(i){let e=f(n).$implicit,m=u();return _(m.onActionButtonPropertyProject(e,i))}),l()(),a(8,"p"),d(9),l(),a(10,"p"),d(11),g(12,"translate"),a(13,"b",56),d(14),g(15,"cmsuserinfo"),g(16,"async"),l()(),I(17,Gk,7,8,"p",12),k()}if(o&2){let n=s.$implicit;r(2),p("ngIf",!n.updatedBy||n.updatedBy<=0),r(),p("ngIf",n.updatedBy>0),r(2),C(" ",n.title,""),r(),p("ngClass",y(7,8,n.recordStatus)),r(3),C(" ",n.description," "),r(2),C(" ",y(12,10,"TITLE.USER"),": "),r(3),C(" ",y(16,14,y(15,12,n.createdBy))," "),r(3),p("ngIf",n.updatedBy>0&&n.createdBy!==n.updatedBy)}}var yc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt,Ve,Wt){this.estatePropertyService=t,this.estatePropertyHistoryService=i,this.estatePropertyCompanyService=e,this.estatePropertySupplierService=m,this.estatePropertyProjectService=h,this.estateCustomerOrderService=c,this.estateAccountUserService=R,this.estateAccountAgencyService=B,this.publicHelper=q,this.cdr=re,this.cmsToastrService=Ee,this.router=Ze,this.dialog=Yt,this.translate=Ve,this.tokenHelper=Wt,this.constructorInfoAreaId=this.constructor.name,this.dataModelPropertyResult=new Q,this.dataModelCustomerOrderResult=new Q,this.dataModelHistoryResult=new Q,this.dataModelAccountUserResult=new Q,this.dataModelAccountAgencyResult=new Q,this.dataModelPropertyCompanyResult=new Q,this.dataModelPropertySupplierResult=new Q,this.dataModelPropertyProjectResult=new Q,this.fieldsInfo=new Map,this.checkingOnDayRange=new wa({start:new gt(null),end:new gt(null)}),this.todayStart=new Date(new Date().setHours(0,0,0,0)),this.todayEnd=new Date(new Date().setHours(23,59,59,999)),this.viewOnlyTime=!1,this.linkCmsUserId=0,this.publicHelper.processService.cdr=this.cdr,this.filterChildrecordStatus=new G,this.filterChildrecordStatus.propertyName="recordStatus",this.filterChildrecordStatus.value=Ge.Available}ngOnInit(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd);var t=this.publicHelper.getComponentLocalStorageMap(this.constructor.name,"linkCmsUserId");this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.linkCmsUserId=i.userId,Number.isFinite(t)&&+t>=0&&(this.linkCmsUserId=+t),this.onActionButtonOnDateSearch()}}),this.tokenHelper?.tokenInfo?.userId>0&&(this.linkCmsUserId=this.tokenHelper.tokenInfo.userId),Number.isFinite(t)&&+t>=0&&(this.linkCmsUserId=+t),this.onActionButtonOnDateSearch()}DataGetAllProperty(){let t=this.constructor.name+"DataGetAllProperty",i=new Ho;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0627\u0645\u0644\u0627\u06A9","dataModelPropertyResult"),this.estatePropertyService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelPropertyResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllCustomerOrder(){let t=this.constructor.name+"DataGetAllCustomerOrder",i=new Sr;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0633\u0641\u0627\u0631\u0634\u0627\u062A","dataModelCustomerOrderResult"),this.estateCustomerOrderService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelCustomerOrderResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllPropertyHistory(){let t=this.constructor.name+"DataGetAllPropertyHistory",i=new Ha;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0631\u06CC\u062E\u0686\u0647","dataModelHistoryResult"),this.estatePropertyHistoryService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelHistoryResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllPropertyCompany(){let t=this.constructor.name+"DataGetAllPropertyCompany",i=new Xr;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0634\u0631\u06A9\u062A \u0647\u0627\u06CC \u0633\u0627\u062E\u062A\u0645\u0627\u0646\u06CC","dataModelPropertyCompanyResult"),this.estatePropertyCompanyService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelPropertyCompanyResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllPropertySupplier(){let t=this.constructor.name+"DataGetAllPropertySupplier",i=new Wa;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u0627\u0645\u06CC\u0646 \u06A9\u0646\u0646\u062F","dataModelPropertySupplierResult"),this.estatePropertySupplierService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelPropertySupplierResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllPropertyProject(){let t=this.constructor.name+"DataGetAllPropertyProject",i=new $r;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u067E\u0631\u0648\u0698\u0647 \u0647\u0627","dataModelPropertyProjectResult"),this.estatePropertyProjectService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelPropertyProjectResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllAccountUser(){let t=this.constructor.name+"DataGetAllAccountUser",i=new Hr;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC","dataModelAccountUserResult"),this.estateAccountUserService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelAccountUserResult=e,this.publicHelper.processService.processStop(t))}})}DataGetAllAccountAgency(){let t=this.constructor.name+"DataGetAllAccountAgency",i=new Jr;this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),i.onDateTimeFrom=this.checkingOnDayRange.controls.start.value,i.onDateTimeTo=this.checkingOnDayRange.controls.end.value,i.countLoad=!0,this.linkCmsUserId>0&&(i.linkResponsibleUserId=this.linkCmsUserId),i.filters.push(this.filterChildrecordStatus),this.publicHelper.processService.processStart(t,"\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u06A9\u0627\u0631\u0634\u0646\u0627\u0633","dataModelAccountAgencyResult"),this.estateAccountAgencyService.ServiceGetAll(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelAccountAgencyResult=e,this.publicHelper.processService.processStop(t))}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}onActionButtonOnDateSearch(){this.viewOnlyTime=!1,this.checkingOnDayRange.controls.start?.value&&this.checkingOnDayRange.controls.end?.value&&this.checkingOnDayRange.controls.start.value?.toISOString()===this.checkingOnDayRange.controls.end.value?.toISOString()&&(this.viewOnlyTime=!0),this.DataGetAllProperty(),this.DataGetAllCustomerOrder(),this.DataGetAllPropertyHistory(),this.DataGetAllAccountUser(),this.DataGetAllAccountAgency(),this.DataGetAllPropertyCompany(),this.DataGetAllPropertySupplier(),this.DataGetAllPropertyProject()}onActionSelectorUser(t){this.linkCmsUserId=0,t&&t.id>0&&(this.linkCmsUserId=t.id),this.publicHelper.setComponentLocalStorageMap(this.constructor.name,"linkCmsUserId",this.linkCmsUserId),this.onActionButtonOnDateSearch()}onActionToDay(){this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.onActionButtonOnDateSearch()}onActionNext(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,1)),this.onActionButtonOnDateSearch()}onActionPervious(){this.checkingOnDayRange.controls.start?.value||this.checkingOnDayRange.controls.start.setValue(this.todayStart),this.checkingOnDayRange.controls.end?.value||this.checkingOnDayRange.controls.end.setValue(this.todayEnd),this.checkingOnDayRange.controls.start.setValue(this.addDays(this.checkingOnDayRange.controls.start.value,-1)),this.checkingOnDayRange.controls.end.setValue(this.addDays(this.checkingOnDayRange.controls.end.value,-1)),this.onActionButtonOnDateSearch()}addDays(t,i){let e=new Date(t);return e.setDate(e.getDate()+i),e}onActionButtonProperty(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelPropertyResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelPropertyResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonProperty(R.onActionOpenItem)})}onActionButtonCustomerOrder(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelCustomerOrderResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelCustomerOrderResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(sa,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonCustomerOrder(R.onActionOpenItem)})}onActionButtonHistory(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelHistoryResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelHistoryResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(Il,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonHistory(R.onActionOpenItem)})}onActionButtonAccountAgency(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(i?.ctrlKey){var e="/#/estate/account-agency/LinkCustomerOrderId/"+t.id;window.open(e,"_blank")}else this.router.navigate(["/estate/account-agency/LinkCustomerOrderId/",t.id])}onActionButtonAccountUser(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(i?.ctrlKey){var e="/#/estate/account-user/LinkCustomerOrderId/"+t.id;window.open(e,"_blank")}else this.router.navigate(["/estate/account-user/LinkCustomerOrderId/",t.id])}onActionButtonPropertyProject(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelCustomerOrderResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelCustomerOrderResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(hc,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonPropertyProject(R.onActionOpenItem)})}onActionButtonPropertySupplier(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelCustomerOrderResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelCustomerOrderResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(gc,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonPropertySupplier(R.onActionOpenItem)})}onActionButtonPropertyCompany(t,i){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(R=>{this.cmsToastrService.typeErrorSelected(R)});return}var e=this.publicHelper.InfoNextRowInList(this.dataModelCustomerOrderResult.listItems,t),m=this.publicHelper.InfoPerviousRowInList(this.dataModelCustomerOrderResult.listItems,t),h="";this.tokenHelper.isMobile?h="dialog-fullscreen":h="dialog-min",this.dialog.open(_c,{height:"90%",panelClass:h,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t.id,perviousItem:m,nextItem:e}}).afterClosed().subscribe(R=>{R&&R.dialogChangedDate&&R.onActionOpenItem&&R.onActionOpenItem.id.length>0&&this.onActionButtonPropertyCompany(R.onActionOpenItem)})}};s.\u0275fac=function(i){return new(i||s)(E(mi),E(co),E(dn),E(Qn),E(sn),E(Xi),E(an),E(bn),E(L),E(H),E(V),E(Qe),E(De),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-overview-events"]],decls:169,vars:97,consts:[["picker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-lg-6"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start",3,"placeholder"],["matEndDate","","formControlName","end",3,"placeholder"],["matIconSuffix","",3,"for"],[4,"ngIf"],[1,"col-12","col-sm-12","col-md-6","col-lg-6","loader-container"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray",3,"click",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["href","javascript:void(0)","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","col-12 col-sm-12 col-md-6 col-lg-6 loader-container",4,"ngIf"],[1,"content"],["id","accordion-1",1,"accordion"],[1,"mb-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1",1,"btn","accordion-btn","no-effect","color-theme"],[1,"fa","fa-cloud","color-blue-dark","me-2"],[1,"text-muted","fw-bold","fs-7"],[1,"fa","fa-arrow-down","font-10","accordion-icon"],["id","collapse1","data-bs-parent","#accordion-1",1,"collapse"],[4,"ngFor","ngForOf"],["id","accordion-2",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse2",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse2","data-bs-parent","#accordion-2",1,"collapse"],["id","accordion-3",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse3",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse3","data-bs-parent","#accordion-3",1,"collapse"],["id","accordion-4",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse4",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse4","data-bs-parent","#accordion-4",1,"collapse"],["id","accordion-5",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse5",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse5","data-bs-parent","#accordion-5",1,"collapse"],["id","accordion-6",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse6",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse6","data-bs-parent","#accordion-6",1,"collapse"],["id","accordion-7",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse7",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse7","data-bs-parent","#accordion-7",1,"collapse"],["id","accordion-8",1,"accordion"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse8",1,"btn","accordion-btn","no-effect","color-theme"],["id","collapse8","data-bs-parent","#accordion-8",1,"collapse"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"divider","divider-margins","bg-highlight"],["class","mb-0 color-highlight font-600 font-12",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"float-end",3,"click","ngClass"],["dir","ltr"]],template:function(i,e){if(i&1&&(a(0,"div",1),S(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),g(5,"translate"),l(),a(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),d(10),g(11,"translate"),l(),a(12,"mat-date-range-input",8),S(13,"input",9),g(14,"translate"),S(15,"input",10),g(16,"translate"),l(),S(17,"mat-datepicker-toggle",11)(18,"mat-date-range-picker",null,0),I(20,N4,3,3,"mat-error",12)(21,G4,3,3,"mat-error",12),l()(),a(22,"div",13),I(23,U4,3,0,"button",14)(24,j4,3,0,"button",14)(25,q4,4,3,"button",14),l(),a(26,"div",13),I(27,Q4,2,4,"app-cms-user-selector",15),l(),a(28,"div",13),I(29,z4,3,3,"a",16),l()(),I(30,Y4,4,8,"div",17)(31,K4,4,5,"div",17),l()(),a(32,"div",5)(33,"div",6)(34,"div",1),S(35,"app-progress-spinner",2),a(36,"div",18)(37,"div",19)(38,"div",20)(39,"button",21),S(40,"i",22),d(41),g(42,"translate"),a(43,"span",23),d(44),l(),d(45),g(46,"translate"),S(47,"i",24),l(),a(48,"div",25),I(49,tk,18,16,"ng-container",26),l()()()()()(),a(50,"div",6)(51,"div",1),S(52,"app-progress-spinner",2),a(53,"div",18)(54,"div",27)(55,"div",20)(56,"button",28),S(57,"i",22),d(58),g(59,"translate"),a(60,"span",23),d(61),l(),d(62),g(63,"translate"),S(64,"i",24),l(),a(65,"div",29),I(66,lk,18,16,"ng-container",26),l()()()()()(),a(67,"div",6)(68,"div",1),S(69,"app-progress-spinner",2),a(70,"div",18)(71,"div",30)(72,"div",20)(73,"button",31),S(74,"i",22),d(75),g(76,"translate"),a(77,"span",23),d(78),l(),d(79),g(80,"translate"),S(81,"i",24),l(),a(82,"div",32),I(83,uk,18,16,"ng-container",26),l()()()()()(),a(84,"div",6)(85,"div",1),S(86,"app-progress-spinner",2),a(87,"div",18)(88,"div",33)(89,"div",20)(90,"button",34),S(91,"i",22),d(92),g(93,"translate"),a(94,"span",23),d(95),l(),d(96),g(97,"translate"),S(98,"i",24),l(),a(99,"div",35),I(100,Ck,18,16,"ng-container",26),l()()()()()(),a(101,"div",6)(102,"div",1),S(103,"app-progress-spinner",2),a(104,"div",18)(105,"div",36)(106,"div",20)(107,"button",37),S(108,"i",22),d(109),g(110,"translate"),a(111,"span",23),d(112),l(),d(113),g(114,"translate"),S(115,"i",24),l(),a(116,"div",38),I(117,bk,18,16,"ng-container",26),l()()()()()(),a(118,"div",6)(119,"div",1),S(120,"app-progress-spinner",2),a(121,"div",18)(122,"div",39)(123,"div",20)(124,"button",40),S(125,"i",22),d(126),g(127,"translate"),a(128,"span",23),d(129),l(),d(130),g(131,"translate"),S(132,"i",24),l(),a(133,"div",41),I(134,kk,18,16,"ng-container",26),l()()()()()(),a(135,"div",6)(136,"div",1),S(137,"app-progress-spinner",2),a(138,"div",18)(139,"div",42)(140,"div",20)(141,"button",43),S(142,"i",22),d(143),g(144,"translate"),a(145,"span",23),d(146),l(),d(147),g(148,"translate"),S(149,"i",24),l(),a(150,"div",44),I(151,Ok,18,16,"ng-container",26),l()()()()()(),a(152,"div",6)(153,"div",1),S(154,"app-progress-spinner",2),a(155,"div",18)(156,"div",45)(157,"div",20)(158,"button",46),S(159,"i",22),d(160),g(161,"translate"),a(162,"span",23),d(163),l(),d(164),g(165,"translate"),S(166,"i",24),l(),a(167,"div",47),I(168,Uk,18,16,"ng-container",26),l()()()()()()()),i&2){let m=D(19);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",y(5,57,"TITLE.Event_Review")," "),r(6),b(y(11,59,"TITLE.Enter_a_date_range")),r(2),p("formGroup",e.checkingOnDayRange)("rangePicker",m),r(),A("placeholder",y(14,61,"TITLE.Start_Date")),r(2),A("placeholder",y(16,63,"TITLE.Start_Date")),r(2),p("for",m),r(3),p("ngIf",e.checkingOnDayRange.controls.start.hasError("matStartDateInvalid")),r(),p("ngIf",e.checkingOnDayRange.controls.end.hasError("matEndDateInvalid")),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(2),p("ngIf",e.tokenHelper.isAdminSite),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),p("ngIf",e.checkingOnDayRange==null||e.checkingOnDayRange.controls==null||e.checkingOnDayRange.controls.start==null?null:e.checkingOnDayRange.controls.start.value),r(),p("ngIf",e.linkCmsUserId>0),r(4),p("optionsInfoAreaId","dataModelPropertyResult"),r(6),C(" ",y(42,65,"TITLE.Property")," "),r(3),b(e.dataModelPropertyResult.totalRowCount),r(),C(" ",y(46,67,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelPropertyResult.listItems),r(3),p("optionsInfoAreaId","dataModelCustomerOrderResult"),r(6),C(" ",y(59,69,"TITLE.Customer_Order")," "),r(3),b(e.dataModelCustomerOrderResult.totalRowCount),r(),C(" ",y(63,71,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelCustomerOrderResult.listItems),r(3),p("optionsInfoAreaId","dataModelHistoryResult"),r(6),C(" ",y(76,73,"TITLE.History")," "),r(3),b(e.dataModelHistoryResult.totalRowCount),r(),C(" ",y(80,75,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelHistoryResult.listItems),r(3),p("optionsInfoAreaId","dataModelAccountAgencyResult"),r(6),C(" ",y(93,77,"TITLE.Property_agency")," "),r(3),b(e.dataModelAccountAgencyResult.totalRowCount),r(),C(" ",y(97,79,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelAccountAgencyResult.listItems),r(3),p("optionsInfoAreaId","dataModelAccountUserResult"),r(6),C(" ",y(110,81,"TITLE.Property_expert")," "),r(3),b(e.dataModelAccountUserResult.totalRowCount),r(),C(" ",y(114,83,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelAccountUserResult.listItems),r(3),p("optionsInfoAreaId","dataModelPropertyCompanyResult"),r(6),C(" ",y(127,85,"TITLE.Property_Company")," "),r(3),b(e.dataModelPropertyCompanyResult.totalRowCount),r(),C(" ",y(131,87,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelPropertyCompanyResult.listItems),r(3),p("optionsInfoAreaId","dataModelPropertySupplierResult"),r(6),C(" ",y(144,89,"TITLE.Property_Supplier")," "),r(3),b(e.dataModelPropertySupplierResult.totalRowCount),r(),C(" ",y(148,91,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelPropertySupplierResult.listItems),r(3),p("optionsInfoAreaId","dataModelPropertyProjectResult"),r(6),C(" ",y(161,93,"TITLE.Property_Project")," "),r(3),b(e.dataModelPropertyProjectResult.totalRowCount),r(),C(" ",y(165,95,"TITLE.Number")," "),r(4),p("ngForOf",e.dataModelPropertyProjectResult.listItems)}},dependencies:[ce,We,N,te,z,ve,Ta,xa,li,rn,Va,Da,Ra,La,Bt,ci,Re,Oe,Wi,j,Ue,U,Mi,ri],styles:["table[_ngcontent-%COMP%]{border:2px solid black}th[_ngcontent-%COMP%]{text-align:center}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.timeline-content[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{display:inline-block}.card-body-3d[_ngcontent-%COMP%]{transform:perspective(750px) translateZ(-250px) rotateX(27deg) scale(.9);border-radius:20px;border:5px solid #e6e6e6;box-shadow:0 70px 40px -20px #0003;transition:.4s ease-in-out transform}.card-body-3d[_ngcontent-%COMP%]:hover{transform:translateZ(-250px)}"]});let o=s;return o})();var Cc=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.publicHelper=t,this.cdr=i,this.cmsToastrService=e,this.dialog=m,this.translate=h,this.tokenHelper=c,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}};s.\u0275fac=function(i){return new(i||s)(E(L),E(H),E(V),E(De),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-overview-summary"]],decls:1,vars:0,template:function(i,e){i&1&&d(0,"summary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.componentsummary.component")},encapsulation:2});let o=s;return o})();var jk=["*"];function qk(o,s){if(o&1&&(a(0,"label",8),d(1),l()),o&2){let n=u();Et("for","app-cms-site-selector-",n.id,""),r(),b(n.optionLabel)}}function Qk(o,s){if(o&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u();p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function zk(o,s){if(o&1){let n=v();a(0,"mat-icon",10),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),d(1,"close"),l()}}var da=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.translate=e,this.cdr=m,this.publicHelper=h,this.categoryService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new _n,this.formControl=new gt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;i.rowPerPage=20,i.accessLoad=!0;let e=new G;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,i.filters.push(e),e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof _n){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new _n,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(O),E(H),E(L),E(qn))},s.\u0275cmp=F({type:s,selectors:[["app-estate-ads-type-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:jk,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),I(2,qk,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(6,Qk,3,3,"mat-option",6),g(7,"async"),l(),I(8,zk,2,0,"mat-icon",7),oi(9),l()}if(i&2){let m=D(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Et("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),ht("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[We,N,te,z,Ot,$t,Xt,ei,Oe,se,$,j,Ue]});let o=s;return o})();var Yk=["vform"];function Kk(o,s){o&1&&S(0,"i",27)}function Zk(o,s){o&1&&S(0,"i",28)}function Jk(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function Xk(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",29),d(2),l(),a(3,"input",30,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.stationLevel,i)||(e.dataModel.stationLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),w("ngModel",n.dataModel.stationLevel),p("disabled",!(n.fieldsInfo.stationLevel!=null&&n.fieldsInfo.stationLevel.accessEditField))}}function $k(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",31),d(2),l(),a(3,"input",32,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewLevel,i)||(e.dataModel.viewLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),w("ngModel",n.dataModel.viewLevel),p("disabled",!(n.fieldsInfo.viewLevel!=null&&n.fieldsInfo.viewLevel.accessEditField))}}function eD(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",33),d(2),l(),a(3,"input",34),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.expireDate,i)||(e.dataModel.expireDate=i),_(i)}),l(),S(4,"mat-datepicker-toggle",22)(5,"mat-datepicker",23,6),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.expireDate),r(),p("for",n)}}function tD(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function iD(o,s){if(o&1){let n=v();a(0,"div",35)(1,"button",36),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",37),d(3),g(4,"translate"),l(),a(5,"button",38),S(6,"i",39),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Sc=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new dr,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyAdsService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestLinkPropertyId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new dr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.AdsTypeTitle="",this.PropertyTitle="",this.publicHelper.processService.cdr=this.cdr,t&&t.linkPropertyId&&(this.requestLinkPropertyId=t.linkPropertyId),this.requestLinkPropertyId.length>0&&(this.dataModel.linkPropertyId=this.requestLinkPropertyId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkPropertyId(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Property_ID_is_unknown");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.linkPropertyId=t.id,this.PropertyTitle=t.title,this.dataModel.title=t.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Advertisement_ID_is_unknown");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.linkAdsTypeId=t.id,this.AdsTypeTitle=t.title,this.dataModel.title=this.PropertyTitle+"_"+t.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ko),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-ads-add"]],viewQuery:function(i,e){if(i&1&&ie(Yk,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:35,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,Kk,1,0,"i",15)(16,Zk,1,0,"i",16),a(17,"em"),d(18),l(),I(19,Jk,5,3,"mat-error",17),l(),a(20,"app-estate-ads-type-selector",18),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLinkAdsTypeId(c))}),l(),a(22,"app-estate-property-selector",18),g(23,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLinkPropertyId(c))}),l(),I(24,Xk,5,4,"div",19)(25,$k,5,4,"div",19),a(26,"div",12)(27,"label",20),d(28),l(),a(29,"input",21),x("ngModelChange",function(c){return f(m),T(e.dataModel.fromDate,c)||(e.dataModel.fromDate=c),_(c)}),l(),S(30,"mat-datepicker-toggle",22)(31,"mat-datepicker",23,2),l(),I(33,eD,7,4,"div",19),a(34,"div",12)(35,"label",24),d(36),l(),a(37,"textarea",25,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(39,"                "),l(),a(40,"em"),d(41),l(),I(42,tD,5,3,"mat-error",17),l(),I(43,iD,9,7,"div",26),l()()()}if(i&2){let m=D(14),h=D(32),c=D(38);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",y(21,31,"TITLE.Ad_type_ID")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",y(23,33,"TITLE.Property_ID")),r(2),p("ngIf",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.accessWatchField),r(),p("ngIf",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.accessWatchField),r(3),b(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),p("matDatepicker",h),w("ngModel",e.dataModel.fromDate),r(),p("for",h),r(3),p("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",c.value.length," / 500"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,Ae,te,Rt,z,ve,be,ke,we,X,xe,Un,jn,rn,Re,Oe,$,j,or,da,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var nD=["vform"];function oD(o,s){o&1&&S(0,"i",27)}function rD(o,s){o&1&&S(0,"i",28)}function aD(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function lD(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",29),d(2),l(),a(3,"input",30,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.stationLevel,i)||(e.dataModel.stationLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle),w("ngModel",n.dataModel.stationLevel),p("disabled",!(n.fieldsInfo.stationLevel!=null&&n.fieldsInfo.stationLevel.accessEditField))}}function sD(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",31),d(2),l(),a(3,"input",32,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewLevel,i)||(e.dataModel.viewLevel=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),r(),A("placeholder",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle),w("ngModel",n.dataModel.viewLevel),p("disabled",!(n.fieldsInfo.viewLevel!=null&&n.fieldsInfo.viewLevel.accessEditField))}}function dD(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",33),d(2),l(),a(3,"input",34),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.expireDate,i)||(e.dataModel.expireDate=i),_(i)}),l(),S(4,"mat-datepicker-toggle",22)(5,"mat-datepicker",23,6),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.expireDate),r(),p("for",n)}}function cD(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function pD(o,s){if(o&1){let n=v();a(0,"div",35)(1,"button",36),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",37),d(3),g(4,"translate"),l(),a(5,"button",38),S(6,"i",39),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Ic=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B){super(m,new dr,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyAdsService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new dr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.AdsTypeTitle="",this.PropertyTitle="",this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.setAccessLoad(),this.estatePropertyAdsService.setAccessDataType(Be.Editor),this.estatePropertyAdsService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectLinkPropertyId(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Property_ID_is_unknown");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.linkPropertyId=t.id,this.PropertyTitle=t.title,this.dataModel.title=t.title+"_"+this.AdsTypeTitle}onActionSelectorSelectLinkAdsTypeId(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Advertisement_ID_is_unknown");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.linkAdsTypeId=t.id,this.AdsTypeTitle=t.title,this.dataModel.title=this.PropertyTitle+"_"+t.title}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Ko),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-ads-edit"]],viewQuery:function(i,e){if(i&1&&ie(nD,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:35,consts:[["vform","ngForm"],["Title",""],["FromDate",""],["Description",""],["StationLevel",""],["ViewLevel",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.stationLevel",1,"color-highlight"],["matInput","","name","dataModel.stationLevel","type","number","id","dataModel.stationLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.viewLevel",1,"color-highlight"],["matInput","","name","dataModel.viewLevel","type","number","id","dataModel.viewLevel",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,oD,1,0,"i",15)(16,rD,1,0,"i",16),a(17,"em"),d(18),l(),I(19,aD,5,3,"mat-error",17),l(),a(20,"app-estate-ads-type-selector",18),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLinkAdsTypeId(c))}),l(),a(22,"app-estate-property-selector",18),g(23,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLinkPropertyId(c))}),l(),I(24,lD,5,4,"div",19)(25,sD,5,4,"div",19),a(26,"div",12)(27,"label",20),d(28),l(),a(29,"input",21),x("ngModelChange",function(c){return f(m),T(e.dataModel.fromDate,c)||(e.dataModel.fromDate=c),_(c)}),l(),S(30,"mat-datepicker-toggle",22)(31,"mat-datepicker",23,2),l(),I(33,dD,7,4,"div",19),a(34,"div",12)(35,"label",24),d(36),l(),a(37,"textarea",25,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(39,"                "),l(),a(40,"em"),d(41),l(),I(42,cD,5,3,"mat-error",17),l(),I(43,pD,9,7,"div",26),l()()()}if(i&2){let m=D(14),h=D(32),c=D(38);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,29,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionDisabled",!(e.fieldsInfo.linkAdsTypeId!=null&&e.fieldsInfo.linkAdsTypeId.accessAddField))("optionSelectForce",e.dataModel.linkAdsTypeId)("optionPlaceholder",y(21,31,"TITLE.Ad_type_ID")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyId!=null&&e.fieldsInfo.linkPropertyId.accessAddField))("optionSelectForce",e.dataModel.linkPropertyId)("optionPlaceholder",y(23,33,"TITLE.Property_ID")),r(2),p("ngIf",e.fieldsInfo.stationLevel==null?null:e.fieldsInfo.stationLevel.accessWatchField),r(),p("ngIf",e.fieldsInfo.viewLevel==null?null:e.fieldsInfo.viewLevel.accessWatchField),r(3),b(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),p("matDatepicker",h),w("ngModel",e.dataModel.fromDate),r(),p("for",h),r(3),p("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",c.value.length," / 500"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,Ae,te,Rt,z,ve,be,ke,we,X,xe,Un,jn,rn,Re,Oe,$,j,or,da,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var uD=()=>[5,10,20,100];function fD(o,s){if(o&1&&S(0,"app-estate-property-header",45),o&2){let n=u();p("optionId",n.requestLinkPropertyId)}}function _D(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",46),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",47)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function hD(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",48),M("click",function(){f(n);let i=u();return _(i.onActionButtonBuy())}),S(2,"i",49)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.BUY")))}function gD(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",50),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",51)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function yD(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",52),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",53)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function CD(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function SD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function ID(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyId==null?null:n.fieldsInfo.linkPropertyId.fieldTitle," ")}}function MD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.linkPropertyId," ")}}function ED(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function vD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function bD(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.stationLevel==null?null:n.fieldsInfo.stationLevel.fieldTitle," ")}}function wD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.stationLevel," ")}}function TD(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.viewLevel==null?null:n.fieldsInfo.viewLevel.fieldTitle," ")}}function xD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.viewLevel," ")}}function AD(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.fromDate==null?null:n.fieldsInfo.fromDate.fieldTitle," ")}}function PD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"persianDate"),l()),o&2){let n=s.$implicit;r(),C(" ",y(2,1,n.fromDate)," ")}}function kD(o,s){if(o&1&&(a(0,"mat-header-cell",54),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.expireDate==null?null:n.fieldsInfo.expireDate.fieldTitle," ")}}function DD(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"persianDate"),l()),o&2){let n=s.$implicit;r(),C(" ",y(2,1,n.expireDate)," ")}}function RD(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function VD(o,s){if(o&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function LD(o,s){o&1&&S(0,"mat-header-row")}function FD(o,s){if(o&1){let n=v();a(0,"mat-row",57),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Jl=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee){if(super(t,new dr,re,h,B),this.contentService=t,this.cmsConfirmationDialogService=i,this.activatedRoute=e,this.cmsToastrService=m,this.tokenHelper=h,this.router=c,this.cdr=R,this.translate=B,this.pageInfo=q,this.publicHelper=re,this.dialog=Ee,this.requestLinkPropertyId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["StationLevel","ViewLevel","LinkPropertyId","FromDate","ExpireDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId"),this.optionsSearch.parentMethods={onSubmit:Ze=>this.onSubmitOptionsSearch(Ze)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending,this.requestLinkPropertyId&&this.requestLinkPropertyId.length>0){let Ze=new G;Ze.propertyName="LinkPropertyId",Ze.value=this.requestLinkPropertyId,this.filteModelContent.filters.push(Ze)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new dr);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Sc,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ic,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property/LinkPropertyAdsId/",this.tableRowSelected.id])}onActionButtonBuy(){this.router.navigate(["/estate/property-ads/sale/",this.requestLinkPropertyId])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property/"])}};s.\u0275fac=function(i){return new(i||s)(E(Ko),E(Ye),E(Ht),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-ads-list"]],features:[le],decls:70,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkPropertyId"],["matColumnDef","Title"],["matColumnDef","StationLevel"],["matColumnDef","ViewLevel"],["matColumnDef","FromDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cart-shopping","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();I(0,fD,1,1,"app-estate-property-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(2,5),d(3," -------------------------------------- "),k(),qe(4,6)(5,7),P(6,8),a(7,"a",9),M("click",function(){return f(m),_(e.onActionBackToParent())}),S(8,"i",10),l(),a(9,"a",11),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(12,"i",13),l(),k(),P(13,14),a(14,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(15,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(16),g(17,"translate"),l(),a(18,"a",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(19,"mat-slide-toggle",17),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(20),g(21,"translate"),l(),k(),P(22,18),I(23,_D,7,3,"div",19)(24,hD,7,3,"div",19),k(),P(25,20),I(26,gD,7,3,"div",19)(27,yD,7,3,"div",19),a(28,"div",21)(29,"a",22),M("click",function(){return f(m),_(e.onActionButtonContentList(e.tableRowSelected))}),S(30,"i",23)(31,"br"),l(),a(32,"p",24),d(33),g(34,"translate"),l()(),k(),P(35,25),a(36,"app-cms-search-list",26),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(37,"app-cms-statist-list",26),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(38,27),a(39,"mat-table",28,0),M("matSortChange",function(){f(m);let c=D(40);return _(e.onTableSortData(c))}),P(41,29),I(42,CD,2,1,"mat-header-cell",30)(43,SD,2,1,"mat-cell",31),k(),P(44,32),I(45,ID,2,1,"mat-header-cell",30)(46,MD,2,1,"mat-cell",31),k(),P(47,33),I(48,ED,2,1,"mat-header-cell",30)(49,vD,2,1,"mat-cell",31),k(),P(50,34),I(51,bD,2,1,"mat-header-cell",30)(52,wD,2,1,"mat-cell",31),k(),P(53,35),I(54,TD,2,1,"mat-header-cell",30)(55,xD,2,1,"mat-cell",31),k(),P(56,36),I(57,AD,2,1,"mat-header-cell",30)(58,PD,3,3,"mat-cell",31),k(),P(59,37),I(60,kD,2,1,"mat-header-cell",30)(61,DD,3,3,"mat-cell",31),k(),P(62,38),I(63,RD,3,3,"mat-header-cell",39)(64,VD,6,1,"mat-cell",40),k(),I(65,LD,1,0,"mat-header-row",41)(66,FD,1,6,"mat-row",42),l(),k(),P(67,43),a(68,"mat-paginator",44,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkPropertyId==null?null:e.requestLinkPropertyId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(14),w("ngModel",e.optionsSearch.data.show),r(),C("",y(17,26,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(21,28,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",e.requestLinkPropertyId&&e.requestLinkPropertyId.length>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(34,30,"ACTION.Property_to_be_traded")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(26),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(32,uD)))},dependencies:[N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,Ml,U,kl],encapsulation:2});let o=s;return o})();function BD(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"currency"),l()),o&2){let n=u(2);r(),fe(" ",y(2,2,"TITLE.FEETAX"),": ",zt(3,4,n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.feeTax," "+(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.currency)+" ")," ")}}function HD(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"currency"),l()),o&2){let n=u(2);r(),fe(" ",y(2,2,"TITLE.Amount_pure"),": ",zt(3,4,n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.amountPure," "+(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.currency)+" ")," ")}}function WD(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"currency"),l()),o&2){let n=u(2);r(),fe(" ",y(2,2,"TITLE.Fee_transport"),": ",zt(3,4,n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.feeTransport," "+(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.currency)+" ")," ")}}function ND(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"currency"),l()),o&2){let n=u(2);r(),fe(" ",y(2,2,"TITLE.Final_Amount"),": ",zt(3,4,n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.amount," "+(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.currency)+" ")," ")}}function GD(o,s){if(o&1&&(a(0,"div"),I(1,BD,4,7,"div",9),S(2,"br"),I(3,HD,4,7,"div",9),S(4,"br"),I(5,WD,4,7,"div",9),S(6,"hr"),I(7,ND,4,7,"div",9),l()),o&2){let n=u();r(),p("ngIf",(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.feeTax)>0),r(2),p("ngIf",(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.amountPure)>0),r(2),p("ngIf",(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.feeTransport)>0),r(2),p("ngIf",(n.dataModelCalculateResult.item==null?null:n.dataModelCalculateResult.item.amount)>0)}}function UD(o,s){if(o&1){let n=v();a(0,"div",11)(1,"button",15),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",16),d(3),g(4,"translate"),l(),a(5,"button",17),M("click",function(){f(n);let i=u();return _(i.onActionSelectBankPayment())}),S(6,"i",18),d(7),g(8,"translate"),l()()}if(o&2){let n=u();r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.viewCalculate),r(2),C(" ",y(8,5,"ACTION.PAYMENT")," ")}}var Mc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){if(this.data=t,this.document=i,this.dialogRef=e,this.estateAdsTypeService=m,this.estatePropertyAdsService=h,this.cmsToastrService=c,this.translate=R,this.cdr=B,this.publicHelper=q,this.requestLinkPropertyId="",this.requestLinkAdsTypeId="",this.requestBankPrivateMaster=!1,this.constructorInfoAreaId=this.constructor.name,this.viewCalculate=!1,this.dataModelResult=new Q,this.dataModelCalculateResult=new Q,this.dataModelPaymentResult=new Q,this.dataModelCalculate=new Xs,this.dataModelPayment=new $s,this.formInfo=new me,this.publicHelper.processService.cdr=this.cdr,t&&(t.linkPropertyId&&t.linkPropertyId.length>0&&(this.requestLinkPropertyId=t.linkPropertyId),t.linkAdsTypeId&&t.linkAdsTypeId.length>0&&(this.requestLinkAdsTypeId=t.linkAdsTypeId),t.bankPrivateMaster&&t.bankPrivateMaster===!0&&(this.requestBankPrivateMaster=!0)),this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}if(this.requestLinkAdsTypeId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModelCalculate.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelCalculate.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.linkAdsTypeId=this.requestLinkAdsTypeId,this.dataModelPayment.linkPropertyId=this.requestLinkPropertyId,this.dataModelPayment.lastUrlAddressInUse=this.document.location.href}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Select_Payment_Gateway")}DataCalculate(){this.viewCalculate=!1;let t=this.constructor.name+"ServiceOrderCalculate";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderCalculate(this.dataModelCalculate).subscribe({next:i=>{i.isSuccess?(this.dataModelCalculateResult=i,this.viewCalculate=!0):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataPayment(){let t=this.constructor.name+"ServiceOrderPayment";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyAdsService.ServiceOrderPayment(this.dataModelPayment).subscribe({next:i=>{i.isSuccess?(this.dataModelPaymentResult=i,this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Transferring_to_the_payment_gateway")),localStorage.setItem("TransactionId",i.item.transactionId.toString()),this.document.location.href=this.dataModelPaymentResult.item.urlToPay):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectCalculate(t){this.dataModelCalculate.bankPaymentPrivateId=t.id,this.dataModelPayment.bankPaymentPrivateId=t.id,this.DataCalculate()}onActionSelectBankPayment(){this.DataPayment()}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Is),E(Te),E(qn),E(Ko),E(V),E(O),E(H),E(L))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-ads-salepayment"]],decls:21,vars:8,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionChange","optionMasterItem"],[4,"ngIf"],[2,"text-align","left"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),a(5,"a",4),M("click",function(){return e.onFormCancel()}),S(6,"i",5),l(),S(7,"hr"),l(),a(8,"div",6)(9,"p",7),d(10),l(),a(11,"mat-dialog-content")(12,"app-cms-bankpayment-grid",8),M("optionChange",function(h){return e.onActionSelectCalculate(h)}),l(),I(13,GD,8,4,"div",9),l(),a(14,"mat-dialog-actions",10)(15,"div",11)(16,"small",12),d(17),l(),a(18,"small",13),d(19),l()(),I(20,UD,9,7,"div",14),l()()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C("",e.formInfo.formTitle," "),r(6),C(" ",e.formInfo.formDescription," "),r(2),p("optionMasterItem",e.requestBankPrivateMaster),r(),p("ngIf",e.viewCalculate),r(4),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ws,Hs,j,Dl,va,U],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});let o=s;return o})();function jD(o,s){if(o&1){let n=v();a(0,"div",7)(1,"mat-card",8)(2,"mat-card-header")(3,"mat-card-title"),d(4),l(),a(5,"mat-card-subtitle"),d(6),g(7,"currency"),l()(),S(8,"img",9),a(9,"mat-card-content")(10,"p"),d(11),l()(),a(12,"mat-card-actions")(13,"button",10),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonBuy(i))}),d(14),g(15,"translate"),l()()()()}if(o&2){let n=s.$implicit,t=u();r(4),b(n.title),r(2),b(zt(7,5,n.salePrice," "+t.currency+" ")),r(2),A("src",n.linkMainImageIdSrc,Z),r(3),C(" ",n.description," "),r(3),b(y(15,8,"ACTION.BUY"))}}var Ec=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q,re,Ee){this.estateAdsTypeService=t,this.publicHelper=i,this.cmsToastrService=e,this.coreEnumService=m,this.coreSiteService=h,this.tokenHelper=c,this.router=R,this.translate=B,this.cdr=q,this.activatedRoute=re,this.dialog=Ee,this.requestLinkPropertyId="",this.constructorInfoAreaId=this.constructor.name,this.showBuy=!1,this.flag=!1,this.tableContentSelected=[],this.dataModelResult=new Q,this.tokenInfo=new Pt,this.tableRowSelected=new _n,this.categoryModelSelected=new _n,this.dataModelEnumCmsModuleSaleItemTypeResult=new Q,this.tabledisplayedColumns=["LinkModuleId","EnumCmsModuleSaleItemType","FromDate","ExpireDate"],this.currency="",this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyId")}ngOnInit(){if(!this.requestLinkPropertyId||this.requestLinkPropertyId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.DataGetAll()}}),this.DataGetAll(),this.DataGetCurrency();let t=+localStorage.getItem("TransactionId");if(t>0){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Rl,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&localStorage.removeItem("TransactionId")})}}DataGetCurrency(){this.coreSiteService.ServiceGetCurrencyMaster().subscribe({next:t=>{t.isSuccess?this.currency=t.item:this.cmsToastrService.typeErrorMessage(t.errorMessage)},error:t=>{this.cmsToastrService.typeError(t)}})}getEnumCmsModuleSaleItemType(){this.coreEnumService.ServiceCmsModuleSaleItemTypeEnum().subscribe({next:t=>{this.dataModelEnumCmsModuleSaleItemTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowSelected=new _n;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.showBuy=!1;let i=new pe;this.estateAdsTypeService.ServiceGetAllSale(i).subscribe({next:e=>{e.isSuccess?(this.showBuy=!0,this.dataModelResult=e):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonBuy(t){this.tableRowSelected=t;var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Mc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyId:this.requestLinkPropertyId,linkAdsTypeId:t.id,bankPrivateMaster:t.paymentForMainSite}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionBackToParent(){this.router.navigate(["/estate/property-ads/LinkPropertyId/"+this.requestLinkPropertyId])}};s.\u0275fac=function(i){return new(i||s)(E(qn),E(L),E(V),E(ee),E(js),E(Y),E(Qe),E(O),E(H),E(Ht),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-ads-salelist"]],decls:16,vars:12,consts:[[3,"svg"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"example-card"],["mat-card-image","",3,"src"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(i,e){i&1&&(a(0,"app-cms-html-notice",0)(1,"h4"),d(2),g(3,"translate"),l(),d(4),g(5,"translate"),S(6,"br"),a(7,"button",1),M("click",function(){return e.onActionBackToParent()}),S(8,"i",2),d(9),g(10,"translate"),l()(),a(11,"div",3)(12,"div",4),S(13,"app-progress-spinner",5),a(14,"div",3),I(15,jD,16,10,"div",6),l()()()),i&2&&(p("svg","assets/media/svg/icons/Shopping/Sale2.svg"),r(2),C(" ",y(3,6,"MESSAGE.ADS"),""),r(2),C(" ",y(5,8,"MESSAGE.Make_purchases_according_to_your_needs_and_duration")," "),r(5),C(" ",y(10,10,"ACTION.BACK")," "),r(4),p("optionsInfoAreaId",e.constructorInfoAreaId),r(2),p("ngForOf",e.dataModelResult.listItems))},dependencies:[We,ks,Ls,Rs,Fs,Os,Vs,Ds,j,pd,va,U],styles:[".example-card[_ngcontent-%COMP%]{max-width:200px}"]});let o=s;return o})();var vc=Jn(eo());var qD=["vform"];function QD(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",62),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zD(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",62),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function YD(o,s){o&1&&S(0,"i",65)}function KD(o,s){o&1&&S(0,"i",66)}function ZD(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function JD(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",63),d(2),l(),a(3,"input",64,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,YD,1,0,"i",31)(6,KD,1,0,"i",32),a(7,"em"),d(8),l(),I(9,ZD,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function XD(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function $D(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",67),d(2),l(),a(3,"textarea",68,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,XD,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),A("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),w("ngModel",t.dataModel.description),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function e6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",69),d(2),g(3,"translate"),l(),a(4,"textarea",70,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function t6(o,s){o&1&&S(0,"i",65)}function i6(o,s){o&1&&S(0,"i",66)}function n6(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function o6(o,s){if(o&1){let n=v();a(0,"div",71)(1,"button",72),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l()()}if(o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function r6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",74),d(2),g(3,"translate"),l(),a(4,"input",75,13),g(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Source_page_address")),r(2),A("placeholder",y(6,7,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessAddField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function a6(o,s){if(o&1){let n=v();a(0,"mat-chip",76),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",77)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function l6(o,s){if(o&1&&(a(0,"div",71)(1,"button",78),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function s6(o,s){if(o&1&&(S(0,"img",79),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function d6(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function c6(o,s){if(o&1&&(a(0,"audio",80),S(1,"source",81),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function p6(o,s){if(o&1&&(a(0,"video",80),S(1,"source",82),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function m6(o,s){if(o&1&&(a(0,"div",71)(1,"button",78),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function u6(o,s){if(o&1&&(a(0,"div",71)(1,"button",78),d(2),g(3,"translate"),l(),a(4,"button",83),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.SAVE")," ")}}function f6(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function _6(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function h6(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function g6(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Xl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R){super(e,new xn,i,R),this.coreEnumService=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.router=h,this.cdr=c,this.translate=R,this.constructorInfoAreaId=this.constructor.name,this.dataModel=new xn,this.dataModelResult=new Q,this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.fieldsInfo=new Map,this.keywordDataModel=[],this.tagDataModel=[],this.similarDataModel=new Array,this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(t){this.tagDataModel=t}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=vc.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-company/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(t)}})}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationIds=t}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(L),E(dn),E(V),E(Qe),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-add"]],viewQuery:function(i,e){if(i&1&&ie(qD,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:134,vars:148,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let m=v();a(0,"div",14),S(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",18,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",19,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",20),g(13,"translate"),I(14,QD,1,5,"app-cms-enum-record-status-selector",21)(15,zD,1,5,"app-cms-enum-record-status-selector",21)(16,JD,10,8,"div",22)(17,$D,8,6,"div",22)(18,e6,8,6,"div",22),a(19,"app-cms-location-selector",23),g(20,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),d(21),g(22,"translate"),a(23,"app-cms-location-autocomplete",23),g(24,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),a(25,"div",24)(26,"label",25),d(27),l(),a(28,"input",26,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(30,"em"),d(31),l()(),a(32,"div",24)(33,"label",27),d(34),l(),a(35,"input",28,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(37,"em"),d(38),l()(),a(39,"div",24)(40,"label",29),d(41),l(),a(42,"textarea",30,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),l(),a(44,"em"),d(45),l(),I(46,t6,1,0,"i",31)(47,i6,1,0,"i",32)(48,n6,5,3,"mat-error",33),l(),S(49,"hr",34),a(50,"label"),d(51),l(),a(52,"angular-editor",35),g(53,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(54,o6,7,7,"div",36),l(),a(55,"mat-step",37),g(56,"translate"),a(57,"p"),d(58),g(59,"translate"),l(),I(60,r6,9,9,"div",22),a(61,"mat-form-field",38)(62,"mat-label"),d(63),g(64,"translate"),l(),a(65,"mat-chip-grid",39,5),I(67,a6,5,1,"mat-chip",40),a(68,"input",41,6),g(70,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(71,l6,7,7,"div",36),l(),a(72,"mat-step",42),g(73,"translate"),a(74,"p"),d(75),g(76,"translate"),l(),a(77,"div",43)(78,"a",44),g(79,"cmsthumbnail"),I(80,s6,2,3,"img",45),l()(),a(81,"div",24)(82,"label",46),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(83),g(84,"translate"),l(),a(85,"input",47,7),g(87,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(88,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),S(89,"hr"),I(90,d6,3,3,"p",33),a(91,"app-cms-files-selector",49),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(92,"hr"),a(93,"div")(94,"p"),d(95),g(96,"translate"),l(),a(97,"app-cms-files-selector",50),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l(),S(98,"br"),l(),a(99,"div",43),I(100,c6,4,3,"audio",51),l(),a(101,"div",24)(102,"input",52,8),g(104,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(105,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(106,"div",43),I(107,p6,3,1,"video",51),l(),a(108,"div",24)(109,"input",53,9),g(111,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(112,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(113,"h3"),d(114),g(115,"translate"),l(),a(116,"app-cms-360-image-list",54),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(117,"br"),a(118,"h3"),d(119),g(120,"translate"),l(),a(121,"app-cms-360-tour-list",55),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(122,m6,7,7,"div",36),l(),a(123,"mat-step",56),g(124,"translate"),a(125,"p"),d(126),g(127,"translate"),l(),a(128,"app-cms-map",57),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(129,u6,7,7,"div",36),l(),I(130,f6,2,0,"ng-template",58)(131,_6,2,0,"ng-template",59)(132,h6,2,0,"ng-template",60)(133,g6,2,0,"ng-template",61),l()()()()}if(i&2){let m=D(29),h=D(36),c=D(43),R=D(66);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,104,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,106,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(20,108,"TITLE.Region")),r(2),C(" ",y(22,110,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(24,112,"TITLE.Region")),r(4),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),r(3),C("",m.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",h.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),r(3),C("",c.value.length," / 500"),r(),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(53,114,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(56,116,"TITLE.Search_Engines")),r(3),b(y(59,118,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(64,120,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(70,122,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",R)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(73,124,"TITLE.ATTACH_FILES")),r(3),b(y(76,126,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(79,128,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(84,130,"TITLE.Original_Photo")),r(2),A("placeholder",y(87,132,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(96,134,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(3),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(104,136,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(111,138,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(115,140,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(120,142,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(124,144,"TITLE.Location")," "),r(3),b(y(127,146,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Bt,ci,Re,se,$,ji,qi,cn,pn,Ui,bi,Nt,qt,Sn,In,si,j,Hi,Oi,Po,$e,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let o=s;return o})();var $l=Jn(eo());var y6=["vform"];function C6(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",62),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function S6(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",62),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function I6(o,s){o&1&&S(0,"i",65)}function M6(o,s){o&1&&S(0,"i",66)}function E6(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function v6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",63),d(2),l(),a(3,"input",64,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,I6,1,0,"i",31)(6,M6,1,0,"i",32),a(7,"em"),d(8),l(),I(9,E6,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function b6(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function w6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",67),d(2),l(),a(3,"textarea",68,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,b6,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),A("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),w("ngModel",t.dataModel.description),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function T6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",69),d(2),g(3,"translate"),l(),a(4,"textarea",70,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),A("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function x6(o,s){o&1&&S(0,"i",65)}function A6(o,s){o&1&&S(0,"i",66)}function P6(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function k6(o,s){if(o&1&&(a(0,"button",75),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function D6(o,s){if(o&1){let n=v();a(0,"div",71)(1,"button",72),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l(),I(7,k6,3,4,"button",74),l()}if(o&2){let n=u(),t=D(9);r(2),C(" ",y(3,4,"ACTION.BACK")," "),r(2),p("disabled",!t.form.valid),r(),C(" ",y(6,6,"ACTION.NEXT")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function R6(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",76),d(2),l(),a(3,"input",77,13),g(5,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.source==null?null:t.fieldsInfo.source.fieldTitle),r(),A("placeholder",y(5,5,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessEditField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function V6(o,s){if(o&1){let n=v();a(0,"mat-chip",78),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",79)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function L6(o,s){if(o&1&&(a(0,"div",71)(1,"button",80),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function F6(o,s){if(o&1&&(S(0,"img",81),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function O6(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function B6(o,s){if(o&1&&(a(0,"audio",82),S(1,"source",83),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function H6(o,s){if(o&1&&(a(0,"video",82),S(1,"source",84),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function W6(o,s){if(o&1&&(a(0,"div",71)(1,"button",80),d(2),g(3,"translate"),l(),a(4,"button",73),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function N6(o,s){if(o&1&&(a(0,"button",75),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function G6(o,s){if(o&1){let n=v();a(0,"div",71)(1,"button",72),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",80),d(5),g(6,"translate"),l(),I(7,N6,3,4,"button",74),l()}if(o&2){let n=u();r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(3),C(" ",y(6,5,"ACTION.BEFOR")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function U6(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function j6(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function q6(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Q6(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var es=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R){super(e,new xn,i,R),this.activatedRoute=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.router=h,this.cdr=c,this.translate=R,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModel=new xn,this.dataModelResult=new vt,this.dataContentCategoryModel=[],this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.similarDataModel=new Array,this.contentSimilarSelected=new xn,this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.keywordDataModel=[],this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(t),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(R=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+h,R)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(R=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+h,R)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(t,!1)}})}DataSimilarGetAll(t){if(!t||t.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(m=>{this.publicHelper.processService.processStart(i,m,this.constructorInfoAreaId)});let e=new Xr;t.forEach(m=>{if(m>0){let h=new G;h.propertyName="Id",h.value=m,h.clauseType=He.Or,e.filters.push(h)}}),this.contentService.ServiceGetAll(e).subscribe({next:m=>{this.formInfo.formSubmitAllow=!0,m.isSuccess?(this.similarDataModel=m.listItems,this.similarTabledataSource.data=m.listItems):this.cmsToastrService.typeErrorGetAll(m.errorMessage),this.publicHelper.processService.processStop(i)},error:m=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(m),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-company"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(t)}})}onActionTagChange(t){this.tagIdsData=t}onActionContentSimilarSelect(t){!t||t.id.length<=0||(this.contentSimilarSelected=t)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(t=>t.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-company/"])}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=$l.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=$l.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationIds=t}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(Ht),E(L),E(dn),E(V),E(Qe),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-edit"]],viewQuery:function(i,e){if(i&1&&ie(y6,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:132,vars:148,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","0","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,e){if(i&1){let m=v();a(0,"div",14),S(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",18,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",19,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",20),g(13,"translate"),I(14,C6,1,5,"app-cms-enum-record-status-selector",21)(15,S6,1,5,"app-cms-enum-record-status-selector",21)(16,v6,10,8,"div",22)(17,w6,8,6,"div",22)(18,T6,8,7,"div",22),a(19,"app-cms-location-selector",23),g(20,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),d(21),g(22,"translate"),a(23,"app-cms-location-autocomplete",23),g(24,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),a(25,"div",24)(26,"label",25),d(27),l(),a(28,"input",26,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(30,"em"),d(31),l()(),a(32,"div",24)(33,"label",27),d(34),l(),a(35,"input",28,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(37,"em"),d(38),l()(),a(39,"div",24)(40,"label",29),d(41),l(),a(42,"textarea",30,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),l(),a(44,"em"),d(45),l(),I(46,x6,1,0,"i",31)(47,A6,1,0,"i",32)(48,P6,5,3,"mat-error",33),l(),S(49,"hr",34),a(50,"label"),d(51),l(),a(52,"angular-editor",35),g(53,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(54,D6,8,8,"div",36),l(),a(55,"mat-step",37),g(56,"translate"),a(57,"p"),d(58),g(59,"translate"),l(),I(60,R6,8,7,"div",22),a(61,"mat-form-field",38)(62,"mat-label"),d(63),g(64,"translate"),l(),a(65,"mat-chip-grid",39,5),I(67,V6,5,1,"mat-chip",40),a(68,"input",41,6),g(70,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(71,L6,7,7,"div",36),l(),a(72,"mat-step",42),g(73,"translate"),a(74,"p"),d(75),g(76,"translate"),l(),a(77,"div",43)(78,"a",44),g(79,"cmsthumbnail"),I(80,F6,2,3,"img",45),l()(),a(81,"div",24)(82,"label",46),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(83),g(84,"translate"),l(),a(85,"input",47,7),g(87,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(88,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(89,O6,3,3,"p",33),a(90,"app-cms-files-selector",49),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(91,"br"),a(92,"div")(93,"p"),d(94),g(95,"translate"),l(),a(96,"app-cms-files-selector",50),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l()(),a(97,"div",43),I(98,B6,4,3,"audio",51),l(),a(99,"div",24)(100,"input",52,8),g(102,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(103,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(104,"div",43),I(105,H6,3,1,"video",51),l(),a(106,"div",24)(107,"input",53,9),g(109,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(110,"cms-file-manager",48),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(111,"h3"),d(112),g(113,"translate"),l(),a(114,"app-cms-360-image-list",54),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(115,"br"),a(116,"h3"),d(117),g(118,"translate"),l(),a(119,"app-cms-360-tour-list",55),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(120,W6,7,7,"div",36),l(),a(121,"mat-step",56),g(122,"translate"),a(123,"p"),d(124),g(125,"translate"),l(),a(126,"app-cms-map",57),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(127,G6,8,7,"div",36),l(),I(128,U6,2,0,"ng-template",58)(129,j6,2,0,"ng-template",59)(130,q6,2,0,"ng-template",60)(131,Q6,2,0,"ng-template",61),l()()()()}if(i&2){let m=D(29),h=D(36),c=D(43),R=D(66);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,104,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,106,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(20,108,"TITLE.Region")),r(2),C(" ",y(22,110,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(24,112,"TITLE.Region")),r(4),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),r(3),C("",m.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessEditField)),r(3),C("",h.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),r(3),C("",c.value.length," / 500"),r(),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(53,114,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),A("label",y(56,116,"TITLE.Search_Engines")),r(3),b(y(59,118,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(64,120,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(70,122,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",R)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(73,124,"TITLE.ATTACH_FILES")),r(3),b(y(76,126,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(79,128,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(84,130,"TITLE.Original_Photo")),r(2),A("placeholder",y(87,132,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(95,134,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(102,136,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(109,138,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(113,140,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(118,142,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(122,144,"TITLE.Location")," "),r(3),b(y(125,146,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Bt,ci,Re,se,$,ji,qi,cn,pn,Ui,bi,Nt,qt,Sn,In,si,j,Hi,Oi,Po,$e,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let o=s;return o})();var z6=["vform"],Y6=()=>["fa"];function K6(o,s){o&1&&S(0,"i",23)}function Z6(o,s){o&1&&S(0,"i",24)}function J6(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function X6(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",25),d(2),l(),a(3,"input",26,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",27),S(6,"i",28),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,Y6))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function $6(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",29),d(2),l(),a(3,"div",30)(4,"div",31)(5,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",33),S(8,"ngx-ntk-mat-color-toggle",34)(9,"ngx-ntk-mat-color-picker",35,5),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function eR(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",36),d(2),l(),a(3,"input",37,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFormOrder,i)||(e.dataModel.showInFormOrder=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),r(),A("placeholder",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),w("ngModel",n.dataModel.showInFormOrder)}}function tR(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function iR(o,s){if(o&1){let n=v();a(0,"div",38)(1,"button",39),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",40),d(3),g(4,"translate"),l(),a(5,"button",41),S(6,"i",42),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var bl=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new wn,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyDetailGroupService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestLinkPropertyTypeLanduseId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new wn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId),this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(pi),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-group-add"]],viewQuery:function(i,e){if(i&1&&ie(z6,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:35,vars:25,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,K6,1,0,"i",15)(16,Z6,1,0,"i",16),a(17,"em"),d(18),l(),I(19,J6,5,3,"mat-error",17),l(),a(20,"app-estate-property-type-landuse-selector",18),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),I(22,X6,7,9,"div",19)(23,$6,11,10,"div",19)(24,eR,5,3,"div",19),a(25,"div",12)(26,"label",20),d(27),l(),a(28,"textarea",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(30,"          "),l(),a(31,"em"),d(32),l(),I(33,tR,5,3,"mat-error",17),l(),I(34,iR,9,7,"div",22),l()()()}if(i&2){let m=D(14),h=D(29);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(21,23,"TITLE.Category")),r(2),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,Rt,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,di,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var nR=["vform"],oR=()=>["fa"];function rR(o,s){o&1&&S(0,"i",23)}function aR(o,s){o&1&&S(0,"i",24)}function lR(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function sR(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",25),d(2),l(),a(3,"input",26,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",27),S(6,"i",28),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,oR))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function dR(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",29),d(2),l(),a(3,"div",30)(4,"div",31)(5,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",33),S(8,"ngx-ntk-mat-color-toggle",34)(9,"ngx-ntk-mat-color-picker",35,5),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function cR(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",13),d(2),l(),a(3,"input",36,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFormOrder,i)||(e.dataModel.showInFormOrder=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),r(),A("placeholder",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),w("ngModel",n.dataModel.showInFormOrder),p("disabled",!(n.fieldsInfo.showInFormOrder!=null&&n.fieldsInfo.showInFormOrder.accessEditField))}}function pR(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function mR(o,s){if(o&1){let n=v();a(0,"div",37)(1,"button",38),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",39),d(3),g(4,"translate"),l(),a(5,"button",40),S(6,"i",41),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var wl=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B){super(m,new wn,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyDetailGroupService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new wn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.setAccessLoad(),this.estatePropertyDetailGroupService.setAccessDataType(Be.Editor),this.estatePropertyDetailGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(pi),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-group-edit"]],viewQuery:function(i,e){if(i&1&&ie(nR,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:35,vars:26,consts:[["vform","ngForm"],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,rR,1,0,"i",15)(16,aR,1,0,"i",16),a(17,"em"),d(18),l(),I(19,lR,5,3,"mat-error",17),l(),a(20,"app-estate-property-type-landuse-selector",18),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),I(22,sR,7,9,"div",19)(23,dR,11,10,"div",19)(24,cR,5,4,"div",19),a(25,"div",12)(26,"label",20),d(27),l(),a(28,"textarea",21,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(30,"        "),l(),a(31,"em"),d(32),l(),I(33,pR,5,3,"mat-error",17),l(),I(34,mR,9,7,"div",22),l()()()}if(i&2){let m=D(14),h=D(29);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(21,24,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),r(2),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,Rt,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,di,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var fR=()=>[5,10,20,100];function _R(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",44),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",45)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function hR(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",46),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",47)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function gR(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",48),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",49)(3,"br"),l(),a(4,"p",24),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function yR(o,s){if(o&1&&(a(0,"mat-header-cell",50),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function CR(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function SR(o,s){if(o&1&&(a(0,"mat-header-cell",50),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function IR(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",51),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function MR(o,s){if(o&1&&(a(0,"mat-header-cell",50),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function ER(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function vR(o,s){if(o&1&&(a(0,"mat-header-cell",50),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle," ")}}function bR(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.showInFormOrder," ")}}function wR(o,s){if(o&1&&(a(0,"mat-header-cell",50),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyTypeLanduseId==null?null:n.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function TR(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkPropertyTypeLanduseId,t.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function xR(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function AR(o,s){if(o&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function PR(o,s){o&1&&(a(0,"mat-header-cell",50),d(1,". "),l())}function kR(o,s){o&1&&(a(0,"mat-cell")(1,"mat-icon",54),d(2,"reorder"),l()())}function DR(o,s){o&1&&S(0,"mat-header-row")}function RR(o,s){if(o&1){let n=v();a(0,"mat-row",55),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var bc=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee){super(t,new wn,re,h,B),this.contentService=t,this.estatePropertyTypeLanduseService=i,this.cmsConfirmationDialogService=e,this.cmsToastrService=m,this.tokenHelper=h,this.router=c,this.cdr=R,this.translate=B,this.pageInfo=q,this.publicHelper=re,this.dialog=Ee,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.dataModelEstatePropertyTypeLanduseResult=new Q,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"],this.tabledisplayedColumnsMobileSource=["IconFont","ShowInFormOrder","LinkPropertyTypeLanduseId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ze=>this.onSubmitOptionsSearch(Ze)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=ae.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getPropertyType()}getPropertyType(){let t=new pe;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(m=>m===t.item.data),e=new Fa;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=zr.GoUp:e.actionGo=zr.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:m=>{m.isSuccess?(Qa(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(m.errorMessage)},error:m=>{this.cmsToastrService.typeError(m)}})}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/hypershop/content/PareintId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(pi),E(ui),E(Ye),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-group-list"]],features:[le],decls:66,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cubes","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Title"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),qe(1,4)(2,5),P(3,6),a(4,"div",7),S(5,"div",8)(6,"div",9),l(),k(),qe(7,6),P(8,10),a(9,"a",11),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(12,"i",13),l(),k(),P(13,14),a(14,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(15,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(16),g(17,"translate"),l(),a(18,"a",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(19,"mat-slide-toggle",17),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(20),g(21,"translate"),l(),k(),P(22,18),I(23,_R,7,3,"div",19),k(),P(24,20),I(25,hR,7,3,"div",19)(26,gR,7,3,"div",19),a(27,"div",21)(28,"a",22),M("click",function(){return f(m),_(e.onActionButtonContentList(e.tableRowSelected))}),S(29,"i",23)(30,"br"),l(),a(31,"p",24),d(32),g(33,"translate"),l()(),k(),P(34,25),a(35,"app-cms-search-list",26),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(36,"app-cms-statist-list",26),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(37,27),a(38,"mat-table",28,0),M("matSortChange",function(){f(m);let c=D(39);return _(e.onTableSortData(c))})("cdkDropListDropped",function(c){return f(m),_(e.onTableDropRow(c))}),P(40,29),I(41,yR,2,1,"mat-header-cell",30)(42,CR,2,1,"mat-cell",31),k(),P(43,32),I(44,SR,2,1,"mat-header-cell",30)(45,IR,2,3,"mat-cell",31),k(),P(46,33),I(47,MR,2,1,"mat-header-cell",30)(48,ER,2,1,"mat-cell",31),k(),P(49,34),I(50,vR,2,1,"mat-header-cell",30)(51,bR,2,1,"mat-cell",31),k(),P(52,35),I(53,wR,2,1,"mat-header-cell",30)(54,TR,3,4,"mat-cell",31),k(),P(55,36),I(56,xR,3,3,"mat-header-cell",37)(57,AR,6,1,"mat-cell",38),k(),P(58,39),I(59,PR,2,0,"mat-header-cell",30)(60,kR,3,0,"mat-cell",31),k(),I(61,DR,1,0,"mat-header-row",40)(62,RR,1,6,"mat-row",41),l(),k(),P(63,42),a(64,"mat-paginator",43,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(15),w("ngModel",e.optionsSearch.data.show),r(),C("",y(17,25,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(21,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(33,29,"ACTION.PRODUCTS")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource)("cdkDropListData",e.tableSource),r(23),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(31,fR)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,Ya,za,U,Cn],encapsulation:2});let o=s;return o})();var wc=["*","*"];function VR(o,s){if(o&1&&(a(0,"mat-option",8)(1,"span"),d(2),l()()),o&2){let n=s.$implicit,t=u(2);p("value",n)("disabled",t.optionDisabled),r(2),b(t.displayOption(n))}}function LR(o,s){if(o&1){let n=v();a(0,"mat-icon",9),M("click",function(){f(n);let i=u(2);return _(i.onActionSelectClear())}),d(1,"close"),l()}}function FR(o,s){if(o&1){let n=v();a(0,"mat-form-field",3),S(1,"input",4),a(2,"mat-autocomplete",5,0),M("optionSelected",function(i){f(n);let e=u();return _(e.onActionSelect(i.option.value))}),I(4,VR,3,3,"mat-option",6),g(5,"async"),l(),I(6,LR,2,0,"mat-icon",7),oi(7),l()}if(o&2){let n=D(3),t=u();r(),A("placeholder",t.optionPlaceholder),p("formControl",t.formControl)("matAutocomplete",n),ht("disabled",t.optionDisabled?!0:null),r(),p("displayWith",t.displayFn),r(2),p("ngForOf",y(5,7,t.filteredOptions)),r(2),p("ngIf",t.dataModelSelect==null?null:t.dataModelSelect.id)}}function OR(o,s){if(o&1){let n=v();a(0,"div",12)(1,"a",13),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModelSelect.id?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.optionDisabled?!0:null),r(),b(t.displayOption(n))}}function BR(o,s){if(o&1&&(a(0,"div",10),I(1,OR,3,3,"div",11),g(2,"async"),oi(3,1),l()),o&2){let n=u();r(),p("ngForOf",y(2,1,n.filteredOptions))}}var Tl=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.translate=e,this.cdr=m,this.publicHelper=h,this.categoryService=c,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new wn,this.formControl=new gt,this.optionTypeView=1,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.linkPropertyTypeLanduseId="",this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}set optionSelectParentForce(t){this.linkPropertyTypeLanduseId=t,this.loadOptions()}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new pe;if(i.rowPerPage=20,i.accessLoad=!0,typeof t=="string"&&t.length>0){let h=new G;h.propertyName="Name",h.value=t,h.searchType=Ne.Contains,i.filters.push(h)}if(this.linkPropertyTypeLanduseId&&this.linkPropertyTypeLanduseId.length>0){var e=new G;e.propertyName="linkPropertyTypeLanduseId",e.value=this.linkPropertyTypeLanduseId,e.searchType=Ne.Equal,i.filters.push(e)}let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yield yi(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length===0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof wn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new wn,this.loadOptions()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(O),E(H),E(L),E(pi))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-group-selector"]],inputs:{optionTypeView:"optionTypeView",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionSelectParentForce:"optionSelectParentForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:wc,decls:2,vars:2,consts:[["matauto","matAutocomplete"],["class","ntk-full-width",4,"ngIf"],["class","row mb-0",4,"ngIf"],[1,"ntk-full-width"],["type","text","aria-label","Assignee","matInput","",3,"placeholder","formControl","matAutocomplete"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"]],template:function(i,e){i&1&&(Si(wc),I(0,FR,8,9,"mat-form-field",1)(1,BR,4,3,"div",2)),i&2&&(p("ngIf",e.optionTypeView===1),r(),p("ngIf",e.optionTypeView===2))},dependencies:[ce,We,N,te,z,Ot,$t,Xt,ei,Bt,Oe,se,$,Ue],encapsulation:2});let o=s;return o})();var HR=["vform"],WR=()=>["fa"];function NR(o,s){o&1&&S(0,"i",35)}function GR(o,s){o&1&&S(0,"i",36)}function UR(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function jR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",37),d(2),l(),a(3,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",39),S(6,"i",40),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,WR))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function qR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",41),d(2),l(),a(3,"div",42)(4,"div",43)(5,"input",44,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",45),S(8,"ngx-ntk-mat-color-toggle",46)(9,"ngx-ntk-mat-color-picker",47,7),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function QR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",48),d(2),l(),a(3,"input",49,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFormOrder,i)||(e.dataModel.showInFormOrder=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),r(),A("placeholder",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),w("ngModel",n.dataModel.showInFormOrder),p("disabled",!(n.fieldsInfo.showInFormOrder!=null&&n.fieldsInfo.showInFormOrder.accessAddField))}}function zR(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",50),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.inputDataType,i)||(e.dataModel.inputDataType=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelInputDataTypeEnumResult),w("model",n.dataModel.inputDataType),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.inputDataType==null?null:n.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function YR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",51),d(2),l(),a(3,"input",52,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueIntValueMin,i)||(e.dataModel.configValueIntValueMin=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(),t=D(32);r(2),b(n.fieldsInfo.configValueIntValueMin==null?null:n.fieldsInfo.configValueIntValueMin.fieldTitle),r(),A("placeholder",n.fieldsInfo.configValueIntValueMin==null?null:n.fieldsInfo.configValueIntValueMin.fieldTitle),w("ngModel",n.dataModel.configValueIntValueMin),r(3),C("",t.value.length," / 64")}}function KR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",53),d(2),l(),a(3,"input",54,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueIntValueMax,i)||(e.dataModel.configValueIntValueMax=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(),t=D(32);r(2),b(n.fieldsInfo.configValueIntValueMax==null?null:n.fieldsInfo.configValueIntValueMax.fieldTitle),r(),A("placeholder",n.fieldsInfo.configValueIntValueMax==null?null:n.fieldsInfo.configValueIntValueMax.fieldTitle),w("ngModel",n.dataModel.configValueIntValueMax),r(3),C("",t.value.length," / 64")}}function ZR(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",50),x("modelChange",function(i){f(n);let e=u(2);return T(e.dataModel.inputDataType,i)||(e.dataModel.inputDataType=i),_(i)}),l()}if(o&2){let n=u(2);p("optionDataListResult",n.dataModelInputDataTypeEnumResult),w("model",n.dataModel.inputDataType),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.inputDataType==null?null:n.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function JR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",51),d(2),l(),a(3,"input",52,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.configValueIntValueMin,i)||(e.dataModel.configValueIntValueMin=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){u();let n=D(9),t=u();r(2),b(t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),r(),A("placeholder",t.fieldsInfo.configValueIntValueMin==null?null:t.fieldsInfo.configValueIntValueMin.fieldTitle),w("ngModel",t.dataModel.configValueIntValueMin),r(3),C("",n.value.length," / 64")}}function XR(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",53),d(2),l(),a(3,"input",54,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.configValueIntValueMax,i)||(e.dataModel.configValueIntValueMax=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){u();let n=D(9),t=u();r(2),b(t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),r(),A("placeholder",t.fieldsInfo.configValueIntValueMax==null?null:t.fieldsInfo.configValueIntValueMax.fieldTitle),w("ngModel",t.dataModel.configValueIntValueMax),r(3),C("",n.value.length," / 64")}}function $R(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",57),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",60),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.invisibleForEndUser,i)||(e.dataModel.invisibleForEndUser=i),_(i)}),l(),S(7,"label",61),l()()()}if(o&2){let n=u(2);r(3),C(" ",n.fieldsInfo.invisibleForEndUser==null?null:n.fieldsInfo.invisibleForEndUser.fieldTitle,""),r(3),w("ngModel",n.dataModel.invisibleForEndUser)}}function e5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",57),d(3),l()(),I(4,ZR,1,6,"app-cms-enum-x-selector",23),a(5,"div",15)(6,"label",24),d(7),l(),a(8,"input",25,2),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.unit,i)||(e.dataModel.unit=i),_(i)}),l(),a(10,"em"),d(11),l()(),I(12,JR,7,4,"div",22)(13,XR,7,4,"div",22)(14,$R,8,2,"div",26),l()}if(o&2){let n=D(9),t=u();r(3),C(" ",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.fieldTitle,""),r(),p("ngIf",t.fieldsInfo.inputDataType==null?null:t.fieldsInfo.inputDataType.accessWatchField),r(3),b(t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),r(),A("placeholder",t.fieldsInfo.unit==null?null:t.fieldsInfo.unit.fieldTitle),w("ngModel",t.dataModel.unit),r(3),C("",n.value.length," / 64"),r(),p("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),r(),p("ngIf",t.dataModel.inputDataType===1||t.dataModel.inputDataType===3),r(),p("ngIf",t.fieldsInfo.invisibleForEndUser==null?null:t.fieldsInfo.invisibleForEndUser.accessWatchField)}}function t5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",62),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",63),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.invisibleForSubmiter,i)||(e.dataModel.invisibleForSubmiter=i),_(i)}),l(),S(7,"label",64),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.invisibleForSubmiter==null?null:n.fieldsInfo.invisibleForSubmiter.fieldTitle,""),r(3),w("ngModel",n.dataModel.invisibleForSubmiter)}}function i5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",65),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",66),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.required,i)||(e.dataModel.required=i),_(i)}),l(),S(7,"label",67),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.required==null?null:n.fieldsInfo.required.fieldTitle,""),r(3),w("ngModel",n.dataModel.required)}}function n5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",68),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",69),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.isHistoryable,i)||(e.dataModel.isHistoryable=i),_(i)}),l(),S(7,"label",70),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.isHistoryable==null?null:n.fieldsInfo.isHistoryable.fieldTitle,""),r(3),w("ngModel",n.dataModel.isHistoryable)}}function o5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",71),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",72),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFastSearch,i)||(e.dataModel.showInFastSearch=i),_(i)}),l(),S(7,"label",73),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.showInFastSearch==null?null:n.fieldsInfo.showInFastSearch.fieldTitle,""),r(3),w("ngModel",n.dataModel.showInFastSearch)}}function r5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",74),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",75),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueForceUseDefaultValue,i)||(e.dataModel.configValueForceUseDefaultValue=i),_(i)}),l(),S(7,"label",76),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.configValueForceUseDefaultValue==null?null:n.fieldsInfo.configValueForceUseDefaultValue.fieldTitle,""),r(3),w("ngModel",n.dataModel.configValueForceUseDefaultValue)}}function a5(o,s){if(o&1){let n=v();a(0,"div",55)(1,"div",56)(2,"h5",77),d(3),l()(),a(4,"div",58)(5,"div",59)(6,"input",78),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueMultipleChoice,i)||(e.dataModel.configValueMultipleChoice=i),_(i)}),l(),S(7,"label",79),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.configValueMultipleChoice==null?null:n.fieldsInfo.configValueMultipleChoice.fieldTitle,""),r(3),w("ngModel",n.dataModel.configValueMultipleChoice)}}function l5(o,s){if(o&1){let n=v();a(0,"mat-chip",80),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTagDefault(i))}),d(1),a(2,"button",81)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function s5(o,s){if(o&1){let n=v();a(0,"mat-chip",80),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTagNull(i))}),d(1),a(2,"button",81)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function d5(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function c5(o,s){if(o&1&&(a(0,"button",86),S(1,"i",87),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function p5(o,s){if(o&1){let n=v();a(0,"div",82)(1,"button",83),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",84),d(3),g(4,"translate"),l(),I(5,c5,4,4,"button",85),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var ts=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new sr,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyDetailService=m,this.cmsToastrService=h,this.estateEnumService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestLinkPropertyTypeLanduseId="",this.requestLinkPropertyDetailGroupId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new sr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataModelInputDataTypeEnumResult=new Q,this.keywordDefaultDataModel=[],this.keywordNullDataModel=[],this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId,this.requestLinkPropertyDetailGroupId=t.linkPropertyDetailGroupId),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyDetailGroupId&&this.requestLinkPropertyDetailGroupId.length>0&&(this.dataModel.linkPropertyDetailGroupId=this.requestLinkPropertyDetailGroupId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Cr),E(V),E(Ji),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-add"]],viewQuery:function(i,e){if(i&1&&ie(HR,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:71,vars:65,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",14,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",15)(11,"label",16),d(12),l(),a(13,"input",17,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,NR,1,0,"i",18)(16,GR,1,0,"i",19),a(17,"em"),d(18),l(),I(19,UR,5,3,"mat-error",20),l(),a(20,"app-estate-property-type-landuse-selector",21),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),a(22,"app-estate-property-detail-group-selector",21),g(23,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorDetailGroup(c))}),l(),I(24,jR,7,9,"div",22)(25,qR,11,10,"div",22)(26,QR,5,4,"div",22)(27,zR,1,6,"app-cms-enum-x-selector",23),a(28,"div",15)(29,"label",24),d(30),l(),a(31,"input",25,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.unit,c)||(e.dataModel.unit=c),_(c)}),l(),a(33,"em"),d(34),l()(),I(35,YR,7,4,"div",22)(36,KR,7,4,"div",22)(37,e5,15,9,"div",26)(38,t5,8,2,"div",26)(39,i5,8,2,"div",26)(40,n5,8,2,"div",26)(41,o5,8,2,"div",26)(42,r5,8,2,"div",26)(43,a5,8,2,"div",26),a(44,"div",27)(45,"label",28),d(46),g(47,"translate"),l(),a(48,"mat-chip-grid",29,3),I(50,l5,5,1,"mat-chip",30),a(51,"input",31),g(52,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTagDefault(c))}),l()()(),a(53,"div",27)(54,"label",28),d(55),g(56,"translate"),l(),a(57,"mat-chip-grid",29,3),I(59,s5,5,1,"mat-chip",30),a(60,"input",31),g(61,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTagNull(c))}),l()()(),a(62,"div",15)(63,"label",32),d(64),l(),a(65,"textarea",33,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(67,"em"),d(68),l(),I(69,d5,5,3,"mat-error",20),l(),I(70,p5,6,4,"div",34),l()()()}if(i&2){let m=D(14),h=D(32),c=D(49),R=D(66);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,51,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(21,53,"TITLE.USER")),r(2),p("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionPlaceholder",y(23,55,"TITLE.Category")),r(2),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.accessWatchField),r(),p("ngIf",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.accessWatchField),r(3),b(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),r(),A("placeholder",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),w("ngModel",e.dataModel.unit),r(3),C("",h.value.length," / 64"),r(),p("ngIf",e.dataModel.inputDataType===1||e.dataModel.inputDataType===3),r(),p("ngIf",e.dataModel.inputDataType===1||e.dataModel.inputDataType===3),r(),p("ngIf",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.accessWatchField),r(),p("ngIf",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.accessWatchField),r(),p("ngIf",e.fieldsInfo.required==null?null:e.fieldsInfo.required.accessWatchField),r(),p("ngIf",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.accessWatchField),r(),p("ngIf",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),r(),p("ngIf",e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.accessWatchField)),r(3),b(y(47,57,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDefaultDataModel),r(),Et("placeholder","",y(52,59,"TITLE.key_word"),"+"),p("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),r(4),b(y(56,61,"TITLE.Choose_keywords_relative_to_null_content")),r(4),p("ngForOf",e.keywordNullDataModel),r(),Et("placeholder","",y(61,63,"TITLE.key_word"),"+"),p("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),r(4),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",R.value.length," / 500"),r(),p("ngIf",R.errors==null?null:R.errors.required),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[ce,We,N,Ae,te,Rt,Ft,z,ve,be,ke,we,X,xe,ki,Di,Ri,Pi,Re,Oe,se,$,Ao,j,Qt,jt,Ut,Gt,di,Tl,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var m5=["vform"],u5=()=>["fa"];function f5(o,s){o&1&&S(0,"i",36)}function _5(o,s){o&1&&S(0,"i",37)}function h5(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function g5(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",38),d(2),l(),a(3,"input",39,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",40),S(6,"i",41),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,u5))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function y5(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",42),d(2),l(),a(3,"div",43)(4,"div",44)(5,"input",45,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",46),S(8,"ngx-ntk-mat-color-toggle",47)(9,"ngx-ntk-mat-color-picker",48,7),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function C5(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",49),d(2),l(),a(3,"input",50,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFormOrder,i)||(e.dataModel.showInFormOrder=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),r(),A("placeholder",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle),w("ngModel",n.dataModel.showInFormOrder),p("disabled",!(n.fieldsInfo.showInFormOrder!=null&&n.fieldsInfo.showInFormOrder.accessEditField))}}function S5(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",51),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.inputDataType,i)||(e.dataModel.inputDataType=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelInputDataTypeEnumResult),w("model",n.dataModel.inputDataType),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.inputDataType==null?null:n.fieldsInfo.inputDataType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function I5(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",52),d(2),l(),a(3,"input",53,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueIntValueMin,i)||(e.dataModel.configValueIntValueMin=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(),t=D(33);r(2),b(n.fieldsInfo.configValueIntValueMin==null?null:n.fieldsInfo.configValueIntValueMin.fieldTitle),r(),A("placeholder",n.fieldsInfo.configValueIntValueMin==null?null:n.fieldsInfo.configValueIntValueMin.fieldTitle),w("ngModel",n.dataModel.configValueIntValueMin),r(3),C("",t.value.length," / 64")}}function M5(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",54),d(2),l(),a(3,"input",55,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueIntValueMax,i)||(e.dataModel.configValueIntValueMax=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=u(),t=D(33);r(2),b(n.fieldsInfo.configValueIntValueMax==null?null:n.fieldsInfo.configValueIntValueMax.fieldTitle),r(),A("placeholder",n.fieldsInfo.configValueIntValueMax==null?null:n.fieldsInfo.configValueIntValueMax.fieldTitle),w("ngModel",n.dataModel.configValueIntValueMax),r(3),C("",t.value.length," / 64")}}function E5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",58),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",61),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.invisibleForEndUser,i)||(e.dataModel.invisibleForEndUser=i),_(i)}),l(),S(7,"label",62),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.invisibleForEndUser==null?null:n.fieldsInfo.invisibleForEndUser.fieldTitle,""),r(3),w("ngModel",n.dataModel.invisibleForEndUser)}}function v5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",63),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",64),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.invisibleForSubmiter,i)||(e.dataModel.invisibleForSubmiter=i),_(i)}),l(),S(7,"label",65),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.invisibleForSubmiter==null?null:n.fieldsInfo.invisibleForSubmiter.fieldTitle,""),r(3),w("ngModel",n.dataModel.invisibleForSubmiter)}}function b5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",66),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",67),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.required,i)||(e.dataModel.required=i),_(i)}),l(),S(7,"label",68),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.required==null?null:n.fieldsInfo.required.fieldTitle,""),r(3),w("ngModel",n.dataModel.required)}}function w5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",69),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",70),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.isHistoryable,i)||(e.dataModel.isHistoryable=i),_(i)}),l(),S(7,"label",71),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.isHistoryable==null?null:n.fieldsInfo.isHistoryable.fieldTitle,""),r(3),w("ngModel",n.dataModel.isHistoryable)}}function T5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",72),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",73),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.showInFastSearch,i)||(e.dataModel.showInFastSearch=i),_(i)}),l(),S(7,"label",74),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.showInFastSearch==null?null:n.fieldsInfo.showInFastSearch.fieldTitle,""),r(3),w("ngModel",n.dataModel.showInFastSearch)}}function x5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",75),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",76),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueForceUseDefaultValue,i)||(e.dataModel.configValueForceUseDefaultValue=i),_(i)}),l(),S(7,"label",77),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.configValueForceUseDefaultValue==null?null:n.fieldsInfo.configValueForceUseDefaultValue.fieldTitle,""),r(3),w("ngModel",n.dataModel.configValueForceUseDefaultValue)}}function A5(o,s){if(o&1){let n=v();a(0,"div",56)(1,"div",57)(2,"h5",78),d(3),l()(),a(4,"div",59)(5,"div",60)(6,"input",79),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.configValueMultipleChoice,i)||(e.dataModel.configValueMultipleChoice=i),_(i)}),l(),S(7,"label",80),l()()()}if(o&2){let n=u();r(3),C(" ",n.fieldsInfo.configValueMultipleChoice==null?null:n.fieldsInfo.configValueMultipleChoice.fieldTitle,""),r(3),w("ngModel",n.dataModel.configValueMultipleChoice)}}function P5(o,s){if(o&1){let n=v();a(0,"mat-chip",81),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTagDefault(i))}),d(1),a(2,"button",82)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function k5(o,s){if(o&1){let n=v();a(0,"mat-chip",81),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTagNull(i))}),d(1),a(2,"button",82)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function D5(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function R5(o,s){if(o&1){let n=v();a(0,"div",83)(1,"button",84),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",85),d(3),g(4,"translate"),l(),a(5,"button",86),S(6,"i",87),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var is=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B){super(m,new sr,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyDetailService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new sr,this.formInfo=new me,this.dataModelInputDataTypeEnumResult=new Q,this.keywordDefaultDataModel=[],this.keywordNullDataModel=[],this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getInputDataTypeEnum()}getInputDataTypeEnum(){this.coreEnumService.ServiceInputDataTypeEnum().subscribe({next:t=>{this.dataModelInputDataTypeEnumResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.setAccessLoad(),this.estatePropertyDetailService.setAccessDataType(Be.Editor),this.estatePropertyDetailService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.dataModel.configValueDefaultValueJson=this.dataModel.configValueDefaultValueJson+"",this.dataModel.configValueNullValueJson=this.dataModel.configValueNullValueJson+"",this.keywordDefaultDataModel=this.dataModel.configValueDefaultValueJson.split(","),this.keywordNullDataModel=this.dataModel.configValueNullValueJson.split(","),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorDetailGroup(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyDetailGroupId=t.id}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){if(this.formGroup.valid){if(this.dataModel.configValueDefaultValueJson="",this.keywordDefaultDataModel&&this.keywordDefaultDataModel.length>0){let t=[];this.keywordDefaultDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueDefaultValueJson=t.join(","))}if(this.dataModel.configValueNullValueJson="",this.keywordNullDataModel&&this.keywordNullDataModel.length>0){let t=[];this.keywordNullDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.configValueNullValueJson=t.join(","))}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagDefault(t){let i=(t.value||"").trim();i&&this.keywordDefaultDataModel.push(i),t.chipInput.clear()}removeTagDefault(t){let i=this.keywordDefaultDataModel.indexOf(t);i>=0&&this.keywordDefaultDataModel.splice(i,1)}addTagNull(t){let i=(t.value||"").trim();i&&this.keywordNullDataModel.push(i),t.chipInput.clear()}removeTagNull(t){let i=this.keywordNullDataModel.indexOf(t);i>=0&&this.keywordNullDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Cr),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-edit"]],viewQuery:function(i,e){if(i&1&&ie(m5,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:72,vars:68,consts:[["vform","ngForm"],["Title",""],["Unit",""],["chipList",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],["ShowInFormOrder",""],["ConfigValueIntValueMax",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectForce","optionSelectParentForce","optionPlaceholder","optionDisabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["for","dataModel.unit",1,"color-highlight"],["matInput","","type","text","name","dataModel.unit","minlength","1","maxlength","64","id","dataModel.unit",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","d-flex mb-3",4,"ngIf"],["appearance","fill",1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4",2,"width","100%"],[1,"color-highlight"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.showInFormOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInFormOrder","id","dataModel.showInFormOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.configValueIntValueMin",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMin","id","dataModel.configValueIntValueMin",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.configValueIntValueMax",1,"color-highlight"],["matInput","","type","number","name","dataModel.configValueIntValueMax","id","dataModel.configValueIntValueMax",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.invisibleForEndUser",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.invisibleForEndUser","name","dataModel.invisibleForEndUser",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForEndUser",1,"custom-control-label"],["data-trigger-switch","dataModel.invisibleForSubmiter",1,"font-600","font-14"],["type","checkbox","id","dataModel.invisibleForSubmiter","name","dataModel.invisibleForSubmiter",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.invisibleForSubmiter",1,"custom-control-label"],["data-trigger-switch","dataModel.required",1,"font-600","font-14"],["type","checkbox","id","dataModel.required","name","dataModel.required",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.required",1,"custom-control-label"],["data-trigger-switch","dataModel.isHistoryable",1,"font-600","font-14"],["type","checkbox","id","dataModel.isHistoryable","name","dataModel.isHistoryable",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isHistoryable",1,"custom-control-label"],["data-trigger-switch","dataModel.showInFastSearch",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInFastSearch","name","dataModel.showInFastSearch",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInFastSearch",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueForceUseDefaultValue",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueForceUseDefaultValue","name","dataModel.configValueForceUseDefaultValue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueForceUseDefaultValue",1,"custom-control-label"],["data-trigger-switch","dataModel.configValueMultipleChoice",1,"font-600","font-14"],["type","checkbox","id","dataModel.configValueMultipleChoice","name","dataModel.configValueMultipleChoice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.configValueMultipleChoice",1,"custom-control-label"],[3,"removed"],["type","button","matChipRemove",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",10),S(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",14,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",15)(11,"label",16),d(12),l(),a(13,"input",17,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,f5,1,0,"i",18)(16,_5,1,0,"i",19),a(17,"em"),d(18),l(),I(19,h5,5,3,"mat-error",20),l(),a(20,"app-estate-property-type-landuse-selector",21),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),S(22,"br"),l(),a(23,"app-estate-property-detail-group-selector",22),g(24,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorDetailGroup(c))}),l(),I(25,g5,7,9,"div",23)(26,y5,11,10,"div",23)(27,C5,5,4,"div",23)(28,S5,1,6,"app-cms-enum-x-selector",24),a(29,"div",15)(30,"label",25),d(31),l(),a(32,"input",26,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.unit,c)||(e.dataModel.unit=c),_(c)}),l(),a(34,"em"),d(35),l()(),I(36,I5,7,4,"div",23)(37,M5,7,4,"div",23)(38,E5,8,2,"div",27)(39,v5,8,2,"div",27)(40,b5,8,2,"div",27)(41,w5,8,2,"div",27)(42,T5,8,2,"div",27)(43,x5,8,2,"div",27)(44,A5,8,2,"div",27),a(45,"div",28)(46,"label",29),d(47),g(48,"translate"),l(),a(49,"mat-chip-grid",30,3),I(51,P5,5,1,"mat-chip",31),a(52,"input",32),g(53,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTagDefault(c))}),l()()(),a(54,"div",28)(55,"label",29),d(56),g(57,"translate"),l(),a(58,"mat-chip-grid",30,3),I(60,k5,5,1,"mat-chip",31),a(61,"input",32),g(62,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTagNull(c))}),l()()(),a(63,"div",15)(64,"label",33),d(65),l(),a(66,"textarea",34,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(68,"em"),d(69),l(),I(70,D5,5,3,"mat-error",20),l(),I(71,R5,9,7,"div",35),l()()()}if(i&2){let m=D(14),h=D(33),c=D(50),R=D(67);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(21,56,"TITLE.USER"))("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField)),r(3),p("optionSelectForce",e.dataModel.linkPropertyDetailGroupId)("optionSelectParentForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(24,58,"TITLE.Category"))("optionDisabled",!(e.fieldsInfo.linkPropertyDetailGroupId!=null&&e.fieldsInfo.linkPropertyDetailGroupId.accessEditField)),r(2),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFormOrder==null?null:e.fieldsInfo.showInFormOrder.accessWatchField),r(),p("ngIf",e.fieldsInfo.inputDataType==null?null:e.fieldsInfo.inputDataType.accessWatchField),r(3),b(e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),r(),A("placeholder",e.fieldsInfo.unit==null?null:e.fieldsInfo.unit.fieldTitle),w("ngModel",e.dataModel.unit),r(3),C("",h.value.length," / 64"),r(),p("ngIf",e.dataModel.inputDataType===1||e.dataModel.inputDataType===3),r(),p("ngIf",e.dataModel.inputDataType===1||e.dataModel.inputDataType===3),r(),p("ngIf",e.fieldsInfo.invisibleForEndUser==null?null:e.fieldsInfo.invisibleForEndUser.accessWatchField),r(),p("ngIf",e.fieldsInfo.invisibleForSubmiter==null?null:e.fieldsInfo.invisibleForSubmiter.accessWatchField),r(),p("ngIf",e.fieldsInfo.required==null?null:e.fieldsInfo.required.accessWatchField),r(),p("ngIf",e.fieldsInfo.isHistoryable==null?null:e.fieldsInfo.isHistoryable.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInFastSearch==null?null:e.fieldsInfo.showInFastSearch.accessWatchField),r(),p("ngIf",e.fieldsInfo.configValueForceUseDefaultValue==null?null:e.fieldsInfo.configValueForceUseDefaultValue.accessWatchField),r(),p("ngIf",e.dataModel.configValueForceUseDefaultValue&&(e.fieldsInfo.configValueMultipleChoice==null?null:e.fieldsInfo.configValueMultipleChoice.accessWatchField)),r(3),b(y(48,60,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDefaultDataModel),r(),Et("placeholder","",y(53,62,"TITLE.key_word"),"+"),p("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),r(4),b(y(57,64,"TITLE.Choose_keywords_relative_to_null_content")),r(4),p("ngForOf",e.keywordNullDataModel),r(),Et("placeholder","",y(62,66,"TITLE.key_word"),"+"),p("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlurTag),r(4),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),C("",R.value.length," / 500"),r(),p("ngIf",R.errors==null?null:R.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,We,N,Ae,te,Rt,Ft,z,ve,be,ke,we,X,xe,ki,Di,Ri,Pi,Re,Oe,se,$,Ao,j,Qt,jt,Ut,Gt,di,Tl,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function V5(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionAdd())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.ADD")))}function L5(o,s){if(o&1){let n=v();a(0,"button",14),M("click",function(){f(n);let i=u();return _(i.onActionEdit())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.EDIT")))}function F5(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u();return _(i.onActionDelete())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.DELETE")))}function O5(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonReload())}),a(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),l()()}o&2&&(r(),A("title",y(2,1,"ACTION.RELOAD")))}function B5(o,s){if(o&1){let n=v();a(0,"mat-tree-node",18),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),S(1,"button",19)(2,"i",20),d(3),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===n.id),r(2),_e("color",n.IconColor),p("ngClass",n.IconFont),r(),C(" ",n.title," ")}}function H5(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",21),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(3,"button",22),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(4,"mat-icon",23),d(5),l()(),S(6,"i",20),d(7),l(),a(8,"ul"),qe(9,24),l()()()}if(o&2){let n=s.$implicit,t=u();r(2),Me("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===n.id),r(),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),_e("color",n.IconColor),p("ngClass",n.IconFont),r(),C(" ",n.title," "),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var xc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cmsConfirmationDialogService=m,this.dialog=h,this.cdr=c,this.publicHelper=R,this.translate=B,this.tokenHelper=q,this.requestLinkPropertyTypeLanduseId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new wn,this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(re=>null),this.dataSource=new xo,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(re,Ee)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}set optionLinkPropertyTypeLanduseId(t){if(this.requestLinkPropertyTypeLanduseId=t,this.filterModel=new pe,t&&t.length>0){let i=new G;i.propertyName="LinkPropertyTypeLanduseId",i.value=t,this.filterModel.filters.push(i)}}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new wn,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bl,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){let m=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(m);return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(pi),E(Ye),E(De),E(H),E(L),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-group-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLinkPropertyTypeLanduseId:"optionLinkPropertyTypeLanduseId",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),P(4,2),I(5,V5,3,3,"button",3)(6,L5,3,3,"button",4)(7,F5,3,3,"button",5)(8,O5,4,3,"button",6),k(),P(9,7),S(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,B5,4,10,"mat-tree-node",10)(13,H5,10,10,"mat-nested-tree-node",11),l(),k(),qe(14,12),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",y(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ce,N,ze,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U],encapsulation:2});let o=s;return o})();var N5=()=>[5,10,20,100];function G5(o,s){if(o&1){let n=v();a(0,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),S(1,"i",42),l()}}function U5(o,s){if(o&1){let n=v();a(0,"div",43)(1,"a",44),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",45)(3,"br"),l(),a(4,"p",46),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function j5(o,s){if(o&1){let n=v();a(0,"div",43)(1,"a",47),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",48)(3,"br"),l(),a(4,"p",46),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function q5(o,s){if(o&1){let n=v();a(0,"div",43)(1,"a",49),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",50)(3,"br"),l(),a(4,"p",46),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function Q5(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function z5(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function Y5(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function K5(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",52),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function Z5(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function J5(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function X5(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.unit==null?null:n.fieldsInfo.unit.fieldTitle," ")}}function $5(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.unit," ")}}function eV(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.showInFormOrder==null?null:n.fieldsInfo.showInFormOrder.fieldTitle," ")}}function tV(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.showInFormOrder," ")}}function iV(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyTypeLanduseId==null?null:n.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function nV(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkPropertyTypeLanduseId,t.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function oV(o,s){if(o&1&&(a(0,"mat-header-cell",51),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyDetailGroupId==null?null:n.fieldsInfo.linkPropertyDetailGroupId.fieldTitle," ")}}function rV(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkPropertyDetailGroupId,t.dataModelEstatePropertyDetailGroupResult.listItems)," ")}}function aV(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function lV(o,s){if(o&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function sV(o,s){o&1&&(a(0,"mat-header-cell",51),d(1,". "),l())}function dV(o,s){o&1&&(a(0,"mat-cell")(1,"mat-icon",55),d(2,"reorder"),l()())}function cV(o,s){o&1&&S(0,"mat-header-row")}function pV(o,s){if(o&1){let n=v();a(0,"mat-row",56),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ns=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt){super(t,new sr,Ze,R,re),this.contentService=t,this.estatePropertyDetailGroupService=i,this.estatePropertyTypeLanduseService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=h,this.cmsToastrService=c,this.tokenHelper=R,this.router=B,this.cdr=q,this.translate=re,this.pageInfo=Ee,this.publicHelper=Ze,this.dialog=Yt,this.requestLinkPropertyTypeLanduseId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.dataModelEstatePropertyTypeLanduseResult=new Q,this.dataModelEstatePropertyDetailGroupResult=new Q,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["IconFont","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"],this.tabledisplayedColumnsMobileSource=["IconFont","Unit","ShowInFormOrder","LinkPropertyTypeLanduseId","LinkPropertyDetailGroupId"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.optionsSearch.parentMethods={onSubmit:Wt=>this.onSubmitOptionsSearch(Wt)},this.filteModelContent.sortColumn="ShowInFormOrder",this.filteModelContent.sortType=ae.Ascending;let Ve=new G;this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(Ve.propertyName="LinkPropertyTypeLanduseId",Ve.value=this.requestLinkPropertyTypeLanduseId,this.filteModelContent.filters.push(Ve))}ngOnInit(){this.filteModelContent.sortColumn="ShowInFormOrder",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getPropertyType(),this.getPropertyDetailGroup()}getPropertyType(){let t=new pe;t.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i}})}getPropertyDetailGroup(){let t=new pe;t.rowPerPage=100,this.estatePropertyDetailGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelEstatePropertyDetailGroupResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new sr);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="LinkPropertyDetailGroupId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(m=>m===t.item.data),e=new Fa;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=zr.GoUp:e.actionGo=zr.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:m=>{m.isSuccess?(Qa(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(m.errorMessage)},error:m=>{this.cmsToastrService.typeError(m)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ts,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkPropertyTypeLanduseId:this.requestLinkPropertyTypeLanduseId,linkPropertyDetailGroupId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(is,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/estate/property-type-landuse/"])}};s.\u0275fac=function(i){return new(i||s)(E(Cr),E(pi),E(ui),E(Ye),E(Ht),E(V),E(Y),E(Qe),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-detail-list"]],features:[le],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange","optionLinkPropertyTypeLanduseId"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Title"],["matColumnDef","Unit"],["matColumnDef","ShowInFormOrder"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkPropertyDetailGroupId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),a(2,"app-estate-property-detail-group-tree",5),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(3,6)(4,7),P(5,8),I(6,G5,2,0,"a",9),a(7,"a",10),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(8,"i",11),l(),a(9,"a",10),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(10,"i",12),l(),k(),P(11,13),a(12,"a",14),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(13,"mat-slide-toggle",15),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(14),g(15,"translate"),l(),a(16,"a",14),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(17,"mat-slide-toggle",16),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(18),g(19,"translate"),l(),k(),P(20,17),I(21,U5,7,3,"div",18),k(),P(22,19),I(23,j5,7,3,"div",18)(24,q5,7,3,"div",18),k(),P(25,20),a(26,"app-cms-search-list",21),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(27,"app-cms-statist-list",21),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(28,22),a(29,"mat-table",23,0),M("matSortChange",function(){f(m);let c=D(30);return _(e.onTableSortData(c))})("cdkDropListDropped",function(c){return f(m),_(e.onTableDropRow(c))}),P(31,24),I(32,Q5,2,1,"mat-header-cell",25)(33,z5,2,1,"mat-cell",26),k(),P(34,27),I(35,Y5,2,1,"mat-header-cell",25)(36,K5,2,3,"mat-cell",26),k(),P(37,28),I(38,Z5,2,1,"mat-header-cell",25)(39,J5,2,1,"mat-cell",26),k(),P(40,29),I(41,X5,2,1,"mat-header-cell",25)(42,$5,2,1,"mat-cell",26),k(),P(43,30),I(44,eV,2,1,"mat-header-cell",25)(45,tV,2,1,"mat-cell",26),k(),P(46,31),I(47,iV,2,1,"mat-header-cell",25)(48,nV,3,4,"mat-cell",26),k(),P(49,32),I(50,oV,2,1,"mat-header-cell",25)(51,rV,3,4,"mat-cell",26),k(),P(52,33),I(53,aV,3,3,"mat-header-cell",34)(54,lV,6,1,"mat-cell",35),k(),P(55,36),I(56,sV,2,0,"mat-header-cell",25)(57,dV,3,0,"mat-cell",26),k(),I(58,cV,1,0,"mat-header-row",37)(59,pV,1,6,"mat-row",38),l(),k(),P(60,39),a(61,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(2),p("optionLinkPropertyTypeLanduseId",e.requestLinkPropertyTypeLanduseId),r(4),p("ngIf",(e.requestLinkPropertyTypeLanduseId==null?null:e.requestLinkPropertyTypeLanduseId.length)>0),r(7),w("ngModel",e.optionsSearch.data.show),r(),C("",y(15,26,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(19,28,"ACTION.STATIST")," "),r(3),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow)&&(e.categoryModelSelected==null?null:e.categoryModelSelected.id.length)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource)("cdkDropListData",e.tableSource),r(29),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,N5)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,Ya,za,xc,U,Cn],encapsulation:2});let o=s;return o})();var mV=["vform"],uV=o=>({direction:o});function fV(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",34),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _V(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",35),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.expertPriceType,i)||(e.dataModel.expertPriceType=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelEstatePropertyExpertPriceTypeEnumResult),w("model",n.dataModel.expertPriceType),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.expertPriceType==null?null:n.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hV(o,s){if(o&1){let n=v();a(0,"mat-icon",36),M("click",function(){f(n);let i=u();return _(i.dataModel.linkContractTypeId=null)}),d(1,"close "),l()}}function gV(o,s){if(o&1){let n=v();a(0,"mat-icon",36),M("click",function(){f(n);let i=u();return _(i.dataModel.linkPropertyTypeUsageId=null)}),d(1,"close "),l()}}function yV(o,s){if(o&1){let n=v();a(0,"mat-icon",36),M("click",function(){f(n);let i=u();return _(i.onActionSelectorSelectLanduse(null))}),d(1,"close "),l()}}function CV(o,s){if(o&1){let n=v();a(0,"tr")(1,"td")(2,"div",23)(3,"label",38),d(4),l(),a(5,"input",39,3),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.salePriceMin,i)||(e.dataModel.salePriceMin=i),_(i)}),l()()(),a(7,"td")(8,"div",23)(9,"label",40),d(10),l(),a(11,"input",41,4),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.salePriceMax,i)||(e.dataModel.salePriceMax=i),_(i)}),l()()(),a(13,"td")(14,"div",23)(15,"label",42),d(16),l(),a(17,"input",43,5),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.salePriceAverage,i)||(e.dataModel.salePriceAverage=i),_(i)}),l()()()()}if(o&2){let n=u(2);r(4),b(n.fieldsInfo.salePriceMin==null?null:n.fieldsInfo.salePriceMin.fieldTitle),r(),w("ngModel",n.dataModel.salePriceMin),r(5),b(n.fieldsInfo.salePriceMax==null?null:n.fieldsInfo.salePriceMax.fieldTitle),r(),w("ngModel",n.dataModel.salePriceMax),r(5),b(n.fieldsInfo.salePriceAverage==null?null:n.fieldsInfo.salePriceAverage.fieldTitle),r(),w("ngModel",n.dataModel.salePriceAverage)}}function SV(o,s){if(o&1){let n=v();a(0,"tr")(1,"td")(2,"div",23)(3,"label",44),d(4),l(),a(5,"input",45,6),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.rentPriceMin,i)||(e.dataModel.rentPriceMin=i),_(i)}),l()()(),a(7,"td")(8,"div",23)(9,"label",46),d(10),l(),a(11,"input",47,7),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.rentPriceMax,i)||(e.dataModel.rentPriceMax=i),_(i)}),l()()(),a(13,"td")(14,"div",23)(15,"label",48),d(16),l(),a(17,"input",49,8),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.rentPriceAverage,i)||(e.dataModel.rentPriceAverage=i),_(i)}),l()()()()}if(o&2){let n=u(2);r(4),b(n.fieldsInfo.rentPriceMin==null?null:n.fieldsInfo.rentPriceMin.fieldTitle),r(),w("ngModel",n.dataModel.rentPriceMin),r(5),b(n.fieldsInfo.rentPriceMax==null?null:n.fieldsInfo.rentPriceMax.fieldTitle),r(),w("ngModel",n.dataModel.rentPriceMax),r(5),b(n.fieldsInfo.rentPriceAverage==null?null:n.fieldsInfo.rentPriceAverage.fieldTitle),r(),w("ngModel",n.dataModel.rentPriceAverage)}}function IV(o,s){if(o&1){let n=v();a(0,"tr")(1,"td")(2,"div",23)(3,"label",50),d(4),l(),a(5,"input",51,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.depositPriceMin,i)||(e.dataModel.depositPriceMin=i),_(i)}),l()()(),a(7,"td")(8,"div",23)(9,"label",52),d(10),l(),a(11,"input",53,10),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.depositPriceMax,i)||(e.dataModel.depositPriceMax=i),_(i)}),l()()(),a(13,"td")(14,"div",23)(15,"label",54),d(16),l(),a(17,"input",55,11),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.depositPriceAverage,i)||(e.dataModel.depositPriceAverage=i),_(i)}),l()()()()}if(o&2){let n=u(2);r(4),b(n.fieldsInfo.depositPriceMin==null?null:n.fieldsInfo.depositPriceMin.fieldTitle),r(),w("ngModel",n.dataModel.depositPriceMin),r(5),b(n.fieldsInfo.depositPriceMax==null?null:n.fieldsInfo.depositPriceMax.fieldTitle),r(),w("ngModel",n.dataModel.depositPriceMax),r(5),b(n.fieldsInfo.depositPriceAverage==null?null:n.fieldsInfo.depositPriceAverage.fieldTitle),r(),w("ngModel",n.dataModel.depositPriceAverage)}}function MV(o,s){if(o&1){let n=v();a(0,"tr")(1,"td")(2,"div",23)(3,"label",56),d(4),l(),a(5,"input",57,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.periodPriceMin,i)||(e.dataModel.periodPriceMin=i),_(i)}),l()()(),a(7,"td")(8,"div",23)(9,"label",58),d(10),l(),a(11,"input",59,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.periodPriceMax,i)||(e.dataModel.periodPriceMax=i),_(i)}),l()()(),a(13,"td")(14,"div",23)(15,"label",60),d(16),g(17,"translate"),l(),a(18,"input",61,14),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.periodPriceAverage,i)||(e.dataModel.periodPriceAverage=i),_(i)}),l()()()()}if(o&2){let n=u(2);r(4),b(n.fieldsInfo.periodPriceMin==null?null:n.fieldsInfo.periodPriceMin.fieldTitle),r(),w("ngModel",n.dataModel.periodPriceMin),r(5),b(n.fieldsInfo.periodPriceMax==null?null:n.fieldsInfo.periodPriceMax.fieldTitle),r(),w("ngModel",n.dataModel.periodPriceMax),r(5),b(y(17,6,"TITLE.Period_Price_Average")),r(2),w("ngModel",n.dataModel.periodPriceAverage)}}function EV(o,s){if(o&1&&(a(0,"div")(1,"table",37),I(2,CV,19,6,"tr",30)(3,SV,19,6,"tr",30)(4,IV,19,6,"tr",30)(5,MV,20,8,"tr",30),l()()),o&2){let n=u();r(2),p("ngIf",n.contractTypeSelected.hasSalePrice),r(),p("ngIf",n.contractTypeSelected.hasRentPrice),r(),p("ngIf",n.contractTypeSelected.hasDepositPrice),r(),p("ngIf",n.contractTypeSelected.hasPeriodPrice)}}function vV(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function bV(o,s){if(o&1){let n=v();a(0,"div",62)(1,"button",63),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",64),d(3),g(4,"translate"),l(),a(5,"button",65),S(6,"i",66),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Ac=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new pr,c,re),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyExpertPriceService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.estateEnumService=B,this.tokenHelper=q,this.translate=re,this.requestTargetCategoryId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new pr,this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q,this.formInfo=new me,this.PropertyTypeSelected=new Vt,this.dataModelCorCurrencySelector=new Vi,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.tokenHelper.getTokenInfoState().then(Ee=>{this.tokenInfo=Ee})}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.getEstatePropertyExpertPriceTypeEnum(),this.DataGetAccess()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:t=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorContarctType(t){if(this.dataModel.linkContractTypeId=null,this.contractTypeSelected=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.contractTypeSelected=t,this.dataModel.linkContractTypeId=t.id,this.dataModel.rentPriceMin=0,this.dataModel.rentPriceMax=0,this.dataModel.rentPriceAverage=0,this.dataModel.salePriceMin=0,this.dataModel.salePriceMax=0,this.dataModel.salePriceAverage=0,this.dataModel.depositPriceMin=0,this.dataModel.depositPriceMax=0,this.dataModel.depositPriceAverage=0,this.dataModel.periodPriceMin=0,this.dataModel.periodPriceMax=0,this.dataModel.periodPriceAverage=0}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(po),E(V),E(L),E(H),E(Ji),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-expert-price-add"]],viewQuery:function(i,e){if(i&1&&ie(mV,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:46,vars:52,consts:[["vform","ngForm"],["CreatedYaer",""],["Description",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",15),S(1,"app-progress-spinner",16),a(2,"div",17)(3,"p",18),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",19,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),I(10,fV,1,5,"app-cms-enum-record-status-selector",20)(11,_V,1,6,"app-cms-enum-x-selector",21),a(12,"app-cms-location-selector",22),g(13,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),a(14,"div",23)(15,"label",24),d(16),g(17,"translate"),l(),a(18,"input",25,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.createdYaer,c)||(e.dataModel.createdYaer=c),_(c)}),l()(),S(20,"br"),a(21,"app-cms-currency-selector",26),g(22,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectCurrency(c))}),l(),S(23,"br"),a(24,"app-estate-contract-type-selector",27),g(25,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorContarctType(c))}),I(26,hV,2,0,"mat-icon",28),l(),a(27,"app-estate-property-type-usage-selector",29),g(28,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectUsage(c))}),I(29,gV,2,0,"mat-icon",28),l(),a(30,"app-estate-property-type-landuse-selector",29),g(31,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLanduse(c))}),I(32,yV,2,0,"mat-icon",28),l(),S(33,"hr"),I(34,EV,6,4,"div",30),S(35,"hr"),a(36,"div",23)(37,"label",31),d(38),l(),a(39,"textarea",32,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(41,"          "),l(),a(42,"em"),d(43),l(),I(44,vV,5,3,"mat-error",30),l(),I(45,bV,9,7,"div",33),l()()()}if(i&2){let m=D(40);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,36,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(50,uV,e.tokenInfo.direction)),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(13,38,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField)),r(4),b(y(17,40,"TITLE.CreatedYaer")),r(2),w("ngModel",e.dataModel.createdYaer),r(3),p("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(22,42,"TITLE.Specify_the_transaction_currency")),r(3),p("optionTypeView",1)("optionDisabled",!(e.fieldsInfo.linkContractTypeId!=null&&e.fieldsInfo.linkContractTypeId.accessAddField))("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",y(25,44,"TITLE.Transaction_type")),r(2),p("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0),r(),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(28,46,"TITLE.Type_Usage")),r(2),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0),r(),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(31,48,"TITLE.Property_Type")),r(2),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.dataModel.linkPropertyTypeLanduseId==null?null:e.dataModel.linkPropertyTypeLanduseId.length)>0),r(2),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(4),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",m.value.length," / 1000"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[N,mt,Ae,te,Rt,z,ve,be,ke,we,X,xe,Re,Oe,se,$,vi,bi,Ao,Nt,j,di,Ki,Zi,U],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let o=s;return o})();var wV=["vform"],TV=o=>({direction:o});function xV(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",64),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function AV(o,s){if(o&1){let n=v();a(0,"app-cms-enum-x-selector",65),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.expertPriceType,i)||(e.dataModel.expertPriceType=i),_(i)}),l()}if(o&2){let n=u();p("optionDataListResult",n.dataModelEstatePropertyExpertPriceTypeEnumResult),w("model",n.dataModel.expertPriceType),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.expertPriceType==null?null:n.fieldsInfo.expertPriceType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function PV(o,s){if(o&1){let n=v();a(0,"mat-icon",66),M("click",function(){f(n);let i=u();return _(i.dataModel.linkContractTypeId=null)}),d(1,"close "),l()}}function kV(o,s){if(o&1){let n=v();a(0,"mat-icon",66),M("click",function(){f(n);let i=u();return _(i.dataModel.linkPropertyTypeUsageId=null)}),d(1,"close "),l()}}function DV(o,s){if(o&1){let n=v();a(0,"mat-icon",66),M("click",function(){f(n);let i=u();return _(i.onActionSelectorSelectLanduse(null))}),d(1,"close "),l()}}function RV(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function VV(o,s){if(o&1){let n=v();a(0,"div",60)(1,"button",67),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",68),d(3),g(4,"translate"),l(),a(5,"button",69),S(6,"i",70),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}function LV(o,s){if(o&1&&(a(0,"button",69),S(1,"i",70),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function FV(o,s){if(o&1){let n=v();a(0,"div",60)(1,"button",67),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",68),d(3),g(4,"translate"),l(),I(5,LV,4,4,"button",71),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var Pc=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new pr,R,re),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyExpertPriceService=m,this.cmsToastrService=h,this.estateEnumService=c,this.publicHelper=R,this.cdr=B,this.tokenHelper=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new pr,this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q,this.formInfo=new me,this.dataModelCorCurrencySelector=new Vi,this.PropertyTypeSelected=new Vt,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Ee=>{this.tokenInfo=Ee})}ngOnInit(){if(this.requestId.length>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:t=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=t}})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.setAccessLoad(),this.estatePropertyExpertPriceService.setAccessDataType(Be.Editor),this.estatePropertyExpertPriceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorContarctType(t){if(this.dataModel.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.dataModel.linkContractTypeId=t.id}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(po),E(V),E(Ji),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-expert-price-edit"]],viewQuery:function(i,e){if(i&1&&ie(wV,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:134,vars:80,consts:[["vform","ngForm"],["CreatedYaer",""],["SalePriceMin",""],["SalePriceMax",""],["SalePriceAverage",""],["RentPriceMin",""],["RentPriceMax",""],["RentPriceAverage",""],["DepositPriceMin",""],["DepositPriceMax",""],["DepositPriceAverage",""],["PeriodPriceMin",""],["PeriodPriceMax",""],["PeriodPriceAverage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.CreatedYaer",1,"color-highlight"],["type","number","name","dataModel.CreatedYaer","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["cellspacing","0",1,"ntk-full-width"],["for","dataModel.salePriceMin",1,"color-highlight"],["matInput","","name","dataModel.salePriceMin","type","number","placeholder","0","id","dataModel.salePriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceMax",1,"color-highlight"],["matInput","","name","dataModel.salePriceMax","type","number","placeholder","0","id","dataModel.salePriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.salePriceAverage",1,"color-highlight"],["matInput","","name","dataModel.salePriceAverage","type","number","placeholder","0","id","dataModel.salePriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMin",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMin","type","number","placeholder","0","id","dataModel.rentPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceMax",1,"color-highlight"],["matInput","","name","dataModel.rentPriceMax","type","number","placeholder","0","id","dataModel.rentPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.rentPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.rentPriceAverage","type","number","placeholder","0","id","dataModel.rentPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMin",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMin","type","number","placeholder","0","id","dataModel.depositPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceMax",1,"color-highlight"],["matInput","","name","dataModel.depositPriceMax","type","number","placeholder","0","id","dataModel.depositPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.depositPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.depositPriceAverage","type","number","placeholder","0","id","dataModel.depositPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMin",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMin","type","number","placeholder","0","id","dataModel.periodPriceMin",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceMax",1,"color-highlight"],["matInput","","name","dataModel.periodPriceMax","type","number","placeholder","0","id","dataModel.periodPriceMax",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.periodPriceAverage",1,"color-highlight"],["matInput","","name","dataModel.periodPriceAverage","type","number","placeholder","0","id","dataModel.periodPriceAverage",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","1000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"]],template:function(i,e){if(i&1){let m=v();a(0,"div",15),S(1,"app-progress-spinner",16),a(2,"div",17)(3,"p",18),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",19,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),I(10,xV,1,5,"app-cms-enum-record-status-selector",20)(11,AV,1,6,"app-cms-enum-x-selector",21),a(12,"app-cms-location-selector",22),g(13,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),S(14,"br"),a(15,"div",23)(16,"label",24),d(17),g(18,"translate"),l(),a(19,"input",25,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.createdYaer,c)||(e.dataModel.createdYaer=c),_(c)}),l()(),S(21,"br"),a(22,"app-cms-currency-selector",26),g(23,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectCurrency(c))}),l(),S(24,"br"),a(25,"app-estate-contract-type-selector",27),g(26,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorContarctType(c))}),I(27,PV,2,0,"mat-icon",28),l(),a(28,"app-estate-property-type-usage-selector",29),g(29,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectUsage(c))}),I(30,kV,2,0,"mat-icon",28),l(),S(31,"br")(32,"br"),a(33,"app-estate-property-type-landuse-selector",29),g(34,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLanduse(c))}),I(35,DV,2,0,"mat-icon",28),l(),S(36,"hr"),a(37,"table",30)(38,"tr")(39,"td")(40,"div",23)(41,"label",31),d(42),l(),a(43,"input",32,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.salePriceMin,c)||(e.dataModel.salePriceMin=c),_(c)}),l()()(),a(45,"td")(46,"div",23)(47,"label",33),d(48),l(),a(49,"input",34,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.salePriceMax,c)||(e.dataModel.salePriceMax=c),_(c)}),l()()(),a(51,"td")(52,"div",23)(53,"label",35),d(54),l(),a(55,"input",36,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.salePriceAverage,c)||(e.dataModel.salePriceAverage=c),_(c)}),l()()()(),a(57,"tr")(58,"td")(59,"div",23)(60,"label",37),d(61),l(),a(62,"input",38,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.rentPriceMin,c)||(e.dataModel.rentPriceMin=c),_(c)}),l()()(),a(64,"td")(65,"div",23)(66,"label",39),d(67),l(),a(68,"input",40,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.rentPriceMax,c)||(e.dataModel.rentPriceMax=c),_(c)}),l()()(),a(70,"td")(71,"div",23)(72,"label",41),d(73),l(),a(74,"input",42,7),x("ngModelChange",function(c){return f(m),T(e.dataModel.rentPriceAverage,c)||(e.dataModel.rentPriceAverage=c),_(c)}),l()()()(),a(76,"tr")(77,"td")(78,"div",23)(79,"label",43),d(80),l(),a(81,"input",44,8),x("ngModelChange",function(c){return f(m),T(e.dataModel.depositPriceMin,c)||(e.dataModel.depositPriceMin=c),_(c)}),l()()(),a(83,"td")(84,"div",23)(85,"label",45),d(86),l(),a(87,"input",46,9),x("ngModelChange",function(c){return f(m),T(e.dataModel.depositPriceMax,c)||(e.dataModel.depositPriceMax=c),_(c)}),l()()(),a(89,"td")(90,"div",23)(91,"label",47),d(92),l(),a(93,"input",48,10),x("ngModelChange",function(c){return f(m),T(e.dataModel.depositPriceAverage,c)||(e.dataModel.depositPriceAverage=c),_(c)}),l()()()(),a(95,"tr")(96,"td")(97,"div",23)(98,"label",49),d(99),l(),a(100,"input",50,11),x("ngModelChange",function(c){return f(m),T(e.dataModel.periodPriceMin,c)||(e.dataModel.periodPriceMin=c),_(c)}),l()()(),a(102,"td")(103,"div",23)(104,"label",51),d(105),l(),a(106,"input",52,12),x("ngModelChange",function(c){return f(m),T(e.dataModel.periodPriceMax,c)||(e.dataModel.periodPriceMax=c),_(c)}),l()()(),a(108,"td")(109,"div",23)(110,"label",53),d(111),g(112,"translate"),l(),a(113,"input",54,13),x("ngModelChange",function(c){return f(m),T(e.dataModel.periodPriceAverage,c)||(e.dataModel.periodPriceAverage=c),_(c)}),l()()()()(),S(115,"hr"),a(116,"div",23)(117,"label",55),d(118),l(),a(119,"textarea",56,14),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(121,"            "),l(),a(122,"em"),d(123),l(),I(124,RV,5,3,"mat-error",57),l(),I(125,VV,9,7,"div",58),l()(),a(126,"div",59)(127,"div",60)(128,"small",61),d(129),l(),a(130,"small",62),d(131),l()()(),a(132,"div",63),I(133,FV,6,4,"div",58),l()()}if(i&2){let m=D(120);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,62,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(78,TV,e.tokenInfo.direction)),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.expertPriceType==null?null:e.fieldsInfo.expertPriceType.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(13,64,"TITLE.Geographical_Region"))("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField)),r(5),b(y(18,66,"TITLE.CreatedYaer")),r(2),w("ngModel",e.dataModel.createdYaer),r(3),p("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(23,68,"TITLE.Specify_the_transaction_currency")),r(3),p("optionTypeView",2)("optionDisabled",!(e.fieldsInfo.linkContractTypeId!=null&&e.fieldsInfo.linkContractTypeId.accessEditField))("optionSelectForce",e.dataModel.linkContractTypeId)("optionPlaceholder",y(26,70,"TITLE.Transaction_type")),r(2),p("ngIf",e.dataModel.linkContractTypeId&&(e.dataModel.linkContractTypeId==null?null:e.dataModel.linkContractTypeId.length)>0),r(),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(29,72,"TITLE.Type_Usage")),r(2),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&(e.dataModel.linkPropertyTypeUsageId==null?null:e.dataModel.linkPropertyTypeUsageId.length)>0),r(3),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeLanduseId!=null&&e.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(34,74,"TITLE.Property_Type")),r(2),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.dataModel.linkPropertyTypeLanduseId==null?null:e.dataModel.linkPropertyTypeLanduseId.length)>0),r(7),b(e.fieldsInfo.salePriceMin==null?null:e.fieldsInfo.salePriceMin.fieldTitle),r(),w("ngModel",e.dataModel.salePriceMin),r(5),b(e.fieldsInfo.salePriceMax==null?null:e.fieldsInfo.salePriceMax.fieldTitle),r(),w("ngModel",e.dataModel.salePriceMax),r(5),b(e.fieldsInfo.salePriceAverage==null?null:e.fieldsInfo.salePriceAverage.fieldTitle),r(),w("ngModel",e.dataModel.salePriceAverage),r(6),b(e.fieldsInfo.rentPriceMin==null?null:e.fieldsInfo.rentPriceMin.fieldTitle),r(),w("ngModel",e.dataModel.rentPriceMin),r(5),b(e.fieldsInfo.rentPriceMax==null?null:e.fieldsInfo.rentPriceMax.fieldTitle),r(),w("ngModel",e.dataModel.rentPriceMax),r(5),b(e.fieldsInfo.rentPriceAverage==null?null:e.fieldsInfo.rentPriceAverage.fieldTitle),r(),w("ngModel",e.dataModel.rentPriceAverage),r(6),b(e.fieldsInfo.depositPriceMin==null?null:e.fieldsInfo.depositPriceMin.fieldTitle),r(),w("ngModel",e.dataModel.depositPriceMin),r(5),b(e.fieldsInfo.depositPriceMax==null?null:e.fieldsInfo.depositPriceMax.fieldTitle),r(),w("ngModel",e.dataModel.depositPriceMax),r(5),b(e.fieldsInfo.depositPriceAverage==null?null:e.fieldsInfo.depositPriceAverage.fieldTitle),r(),w("ngModel",e.dataModel.depositPriceAverage),r(6),b(e.fieldsInfo.periodPriceMin==null?null:e.fieldsInfo.periodPriceMin.fieldTitle),r(),w("ngModel",e.dataModel.periodPriceMin),r(5),b(e.fieldsInfo.periodPriceMax==null?null:e.fieldsInfo.periodPriceMax.fieldTitle),r(),w("ngModel",e.dataModel.periodPriceMax),r(5),b(y(112,76,"TITLE.Period_Price_Average")),r(2),w("ngModel",e.dataModel.periodPriceAverage),r(5),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",m.value.length," / 1000"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow),r(4),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[N,mt,Ae,te,Rt,z,ve,be,ke,we,X,xe,Re,Oe,se,$,vi,bi,Ao,Nt,j,di,Ki,Zi,U],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let o=s;return o})();var OV=["vform"];function BV(o,s){if(o&1){let n=v();a(0,"mat-icon",18),M("click",function(){f(n);let i=u(2);return _(i.dataModel.linkContractTypeId=null)}),d(1,"close "),l()}}function HV(o,s){if(o&1){let n=v();a(0,"app-estate-contract-type-selector",17),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),I(2,BV,2,0,"mat-icon",15),l()}if(o&2){let n=u();p("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",n.dataModel.linkContractTypeId)("optionPlaceholder",y(1,5,"TITLE.Transaction_type")),r(2),p("ngIf",n.dataModel.linkContractTypeId&&(n.dataModel.linkContractTypeId==null?null:n.dataModel.linkContractTypeId.length)>0)}}function WV(o,s){if(o&1){let n=v();a(0,"mat-icon",18),M("click",function(){f(n);let i=u(2);return _(i.dataModel.linkPropertyTypeUsageId=null)}),d(1,"close "),l()}}function NV(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-usage-selector",14),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),I(2,WV,2,0,"mat-icon",15),l()}if(o&2){let n=u();p("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",n.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(1,5,"TITLE.Type_Usage")),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&(n.dataModel.linkPropertyTypeUsageId==null?null:n.dataModel.linkPropertyTypeUsageId.length)>0)}}function GV(o,s){if(o&1){let n=v();a(0,"mat-icon",18),M("click",function(){f(n);let i=u();return _(i.onActionSelectorSelectLanduse(null))}),d(1,"close "),l()}}function UV(o,s){if(o&1&&(a(0,"button",23),S(1,"i",24),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.SAVE")," ")}}function jV(o,s){if(o&1){let n=v();a(0,"div",19)(1,"button",20),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",21),d(3),g(4,"translate"),l(),I(5,UV,4,4,"button",22),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var kc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyExpertPriceService=m,this.cmsToastrService=h,this.estateEnumService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new Kr,this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q,this.formInfo=new me,this.PropertyTypeSelected=new Vt,this.dataModelCorCurrencySelector=new Vi,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.dataModel.linkLocationId=+t.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+t.linkCoreCurrencyId|0,this.dataModel.createdYaer=+t.createdYaer|0,this.dataModel.linkContractTypeId=t.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=t.linkPropertyTypeUsageId)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.getEstatePropertyExpertPriceTypeEnum()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:t=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=t}})}DataGetAll(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyExpertPriceService.ServicePriceInquiryCalculate(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorContarctType(t){if(this.dataModel.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.dataModel.linkContractTypeId=t.id}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataGetAll())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(po),E(V),E(Ji),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-expert-price-inquiry-calculate"]],viewQuery:function(i,e){if(i&1&&ie(OV,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:32,vars:29,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.CreatedYaer","type","number","placeholder","0","id","dataModel.createdYaer",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",6,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"app-cms-location-selector",7),g(11,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),S(12,"br"),l(),a(13,"app-cms-currency-selector",8),g(14,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectCurrency(c))}),l(),S(15,"br"),a(16,"div",9)(17,"label",10),d(18),g(19,"translate"),l(),a(20,"input",11,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.createdYaer,c)||(e.dataModel.createdYaer=c),_(c)}),l()(),S(22,"br"),I(23,HV,3,7,"app-estate-contract-type-selector",12),S(24,"br"),I(25,NV,3,7,"app-estate-property-type-usage-selector",13),S(26,"br"),a(27,"app-estate-property-type-landuse-selector",14),g(28,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLanduse(c))}),I(29,GV,2,0,"mat-icon",15),l(),S(30,"hr"),I(31,jV,6,4,"div",16),l()()()}i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(11,21,"TITLE.Geographical_Region"))("optionDisabled",!1),r(3),p("optionSelectFirstItem",!0)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(14,23,"TITLE.Specify_the_transaction_currency")),r(5),b(y(19,25,"TITLE.CreatedYaer")),r(2),w("ngModel",e.dataModel.createdYaer),r(3),p("ngIf",e.dataModel.linkCoreCurrencyId&&e.dataModel.linkCoreCurrencyId>0),r(2),p("ngIf",e.dataModel.linkCoreCurrencyId&&e.dataModel.linkCoreCurrencyId>0),r(2),p("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(28,27,"TITLE.Property_Type")),r(2),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.dataModel.linkPropertyTypeLanduseId==null?null:e.dataModel.linkPropertyTypeLanduseId.length)>0),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[N,Ae,te,Rt,z,ve,X,xe,Oe,se,$,vi,Nt,j,di,Ki,Zi,U],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let o=s;return o})();var qV=["vform"];function QV(o,s){if(o&1){let n=v();a(0,"mat-icon",19),M("click",function(){f(n);let i=u(2);return _(i.dataModel.linkContractTypeId=null)}),d(1,"close "),l()}}function zV(o,s){if(o&1){let n=v();a(0,"app-estate-contract-type-selector",18),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorContarctType(i))}),I(2,QV,2,0,"mat-icon",15),l()}if(o&2){let n=u();p("optionTypeView",1)("optionDisabled",!1)("optionSelectForce",n.dataModel.linkContractTypeId)("optionPlaceholder",y(1,5,"TITLE.Transaction_type")),r(2),p("ngIf",n.dataModel.linkContractTypeId&&(n.dataModel.linkContractTypeId==null?null:n.dataModel.linkContractTypeId.length)>0)}}function YV(o,s){if(o&1){let n=v();a(0,"mat-icon",19),M("click",function(){f(n);let i=u(2);return _(i.dataModel.linkPropertyTypeUsageId=null)}),d(1,"close "),l()}}function KV(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-usage-selector",14),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectUsage(i))}),I(2,YV,2,0,"mat-icon",15),l()}if(o&2){let n=u();p("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",n.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(1,5,"TITLE.Type_Usage")),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&(n.dataModel.linkPropertyTypeUsageId==null?null:n.dataModel.linkPropertyTypeUsageId.length)>0)}}function ZV(o,s){if(o&1){let n=v();a(0,"mat-icon",19),M("click",function(){f(n);let i=u();return _(i.onActionSelectorSelectLanduse(null))}),d(1,"close "),l()}}function JV(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceMin)," ")}}function XV(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceMin)," ")}}function $V(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceMin)," ")}}function eL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceMin)," ")}}function tL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceAverage)," ")}}function iL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceAverage)," ")}}function nL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceAverage)," ")}}function oL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceAverage)," ")}}function rL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceMax)," ")}}function aL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceMax)," ")}}function lL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceMax)," ")}}function sL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceMax)," ")}}function dL(o,s){if(o&1&&(a(0,"tr")(1,"td"),d(2),g(3,"enums"),l(),a(4,"td"),d(5),l(),a(6,"td"),I(7,JV,4,6,"div",20)(8,XV,4,6,"div",20)(9,$V,4,6,"div",20)(10,eL,4,6,"div",20),l(),a(11,"td"),I(12,tL,4,6,"div",20)(13,iL,4,6,"div",20)(14,nL,4,6,"div",20)(15,oL,4,6,"div",20),l(),a(16,"td"),I(17,rL,4,6,"div",20)(18,aL,4,6,"div",20)(19,lL,4,6,"div",20)(20,sL,4,6,"div",20),l()()),o&2){let n=s.$implicit,t=u();r(2),C("",zt(3,14,n.expertPriceType,t.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),r(3),b(n.createdYaer),r(2),p("ngIf",n.salePriceMin&&n.salePriceMin>0),r(),p("ngIf",n.rentPriceMin&&n.rentPriceMin>0),r(),p("ngIf",n.depositPriceMin&&n.depositPriceMin>0),r(),p("ngIf",n.periodPriceMin&&n.periodPriceMin>0),r(2),p("ngIf",n.salePriceAverage&&n.salePriceAverage>0),r(),p("ngIf",n.rentPriceAverage&&n.rentPriceAverage>0),r(),p("ngIf",n.depositPriceAverage&&n.depositPriceAverage>0),r(),p("ngIf",n.periodPriceAverage&&n.periodPriceAverage>0),r(2),p("ngIf",n.salePriceMax&&n.salePriceMax>0),r(),p("ngIf",n.rentPriceMax&&n.rentPriceMax>0),r(),p("ngIf",n.depositPriceMax&&n.depositPriceMax>0),r(),p("ngIf",n.periodPriceMax&&n.periodPriceMax>0)}}function cL(o,s){if(o&1&&(a(0,"button",25),S(1,"i",26),d(2),g(3,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(2),C(" ",y(3,2,"ACTION.Inquiry")," ")}}function pL(o,s){if(o&1){let n=v();a(0,"div",21)(1,"button",22),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",23),d(3),g(4,"translate"),l(),I(5,cL,4,4,"button",24),l()}if(o&2){let n=u();r(3),C(" ",y(4,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}var Gr=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyExpertPriceService=m,this.estateEnumService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.appLanguage="fa",this.dataModel=new Kr,this.dataModelResult=new Q,this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q,this.formInfo=new me,this.PropertyTypeSelected=new Vt,this.dataModelCorCurrencySelector=new Vi,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.dataModel.linkLocationId=+t.linkLocationId|0,this.dataModel.linkCoreCurrencyId=+t.linkCoreCurrencyId|0,this.dataModel.createdYaer=+t.createdYaer|0,this.dataModel.linkContractTypeId=t.linkContractTypeId,this.dataModel.linkPropertyTypeLanduseId=t.linkPropertyTypeLanduseId,this.dataModel.linkPropertyTypeUsageId=t.linkPropertyTypeUsageId)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Expert_Price_Inquiry"),this.getEstatePropertyExpertPriceTypeEnum(),this.dataModel.linkLocationId>0&&this.dataModel.linkCoreCurrencyId>0&&this.dataModel.createdYaer>0&&this.dataModel.linkContractTypeId&&this.dataModel.linkContractTypeId.length>0&&this.dataModel.linkPropertyTypeLanduseId&&this.dataModel.linkPropertyTypeLanduseId.length>0&&this.dataModel.linkPropertyTypeUsageId&&this.dataModel.linkPropertyTypeUsageId.length>0&&this.DataActionContent()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:t=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=t}})}DataActionContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.dataModelResult=new Q,this.estatePropertyExpertPriceService.ServicePriceInquiryList(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),i.listItems&&i.listItems.length>0?this.dataModelResult=i:(this.cmsToastrService.typeWarningMessage(this.translate.instant("MESSAGE.PriceInquiryCalculateNotFind")),this.dialogRef.close({dialogChangedDate:!0}))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(this.PropertyTypeSelected=null,this.dataModel.linkPropertyTypeLanduseId=null,!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id}onActionSelectorContarctType(t){if(this.dataModel.linkContractTypeId=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeWarningSelected(i);return}this.dataModel.linkContractTypeId=t.id}onActionSelectorLocation(t){this.dataModel.linkLocationId=null,t&&t.id>0&&(this.dataModel.linkLocationId=t.id)}onActionSelectCurrency(t){if(!t||t.id<=0){this.dataModelCorCurrencySelector=null,this.dataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.dataModel.linkCoreCurrencyId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataActionContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(po),E(Ji),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-expert-price-inquiry-list"]],viewQuery:function(i,e){if(i&1&&ie(qV,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:50,vars:45,consts:[["vform","ngForm"],["CreatedYaer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.SalePriceAverage","type","number","id","dataModel.createdYaer","placeholder","0",3,"ngModelChange","ngModel"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],[3,"optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],["class","margin-top","matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionTypeView","optionDisabled","optionSelectForce","optionPlaceholder"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",1,"margin-top",3,"click"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",6,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",7)(11,"label",8),d(12),g(13,"translate"),l(),a(14,"input",9,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.createdYaer,c)||(e.dataModel.createdYaer=c),_(c)}),l()(),S(16,"br"),a(17,"app-cms-location-selector",10),g(18,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),S(19,"br"),l(),a(20,"app-cms-currency-selector",11),g(21,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectCurrency(c))}),l(),S(22,"br"),I(23,zV,3,7,"app-estate-contract-type-selector",12),S(24,"br"),I(25,KV,3,7,"app-estate-property-type-usage-selector",13),S(26,"br"),a(27,"app-estate-property-type-landuse-selector",14),g(28,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectLanduse(c))}),I(29,ZV,2,0,"mat-icon",15),l(),S(30,"hr"),a(31,"table")(32,"tr")(33,"td"),d(34),g(35,"translate"),l(),a(36,"td"),d(37),g(38,"translate"),l(),a(39,"td"),d(40),g(41,"translate"),l(),a(42,"td"),d(43),g(44,"translate"),l(),a(45,"td"),d(46),g(47,"translate"),l()(),I(48,dL,21,17,"tr",16),l(),I(49,pL,6,4,"div",17),l()()()}i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,25,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),b(y(13,27,"TITLE.CreatedYaer")),r(2),w("ngModel",e.dataModel.createdYaer),r(3),p("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(18,29,"TITLE.Geographical_Region"))("optionDisabled",!1),r(3),p("optionSelectFirstItem",!1)("optionSelectForce",e.dataModel.linkCoreCurrencyId)("optionPlaceholder",y(21,31,"TITLE.Specify_the_transaction_currency")),r(3),p("ngIf",e.dataModel.linkCoreCurrencyId&&e.dataModel.linkCoreCurrencyId>0),r(2),p("ngIf",e.dataModel.linkCoreCurrencyId&&e.dataModel.linkCoreCurrencyId>0),r(2),p("optionDisabled",!1)("optionTypeView",1)("optionSelectForce",e.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(28,33,"TITLE.Property_Type")),r(2),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&(e.dataModel.linkPropertyTypeLanduseId==null?null:e.dataModel.linkPropertyTypeLanduseId.length)>0),r(5),b(y(35,35,"TITLE.Expert_Type")),r(3),b(y(38,37,"TITLE.CreatedYaer")),r(3),b(y(41,39,"TITLE.Minimum")),r(3),b(y(44,41,"TITLE.Average")),r(3),b(y(47,43,"TITLE.Maximum")),r(2),p("ngForOf",e.dataModelResult.listItems),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll))},dependencies:[We,N,Ae,te,Rt,z,ve,X,xe,Oe,se,$,vi,Nt,j,di,Ki,Zi,lo,U,ta],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}.margin-top[_ngcontent-%COMP%]{margin-top:10px}"]});let o=s;return o})();var mL=()=>["expandedTitle"],uL=()=>["expandedDetail"],fL=()=>[5,10,20,100],Dc=o=>({display:o});function _L(o,s){if(o&1){let n=v();a(0,"div",51)(1,"a",52),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",53)(3,"br"),l(),a(4,"p",54),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function hL(o,s){if(o&1){let n=v();a(0,"div",51)(1,"a",55),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",56)(3,"br"),l(),a(4,"p",54),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function gL(o,s){if(o&1){let n=v();a(0,"div",51)(1,"a",57),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",58)(3,"br"),l(),a(4,"p",54),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function yL(o,s){if(o&1){let n=v();a(0,"div",51)(1,"a",59),M("click",function(){f(n);let i=u();return _(i.onActionPriceInquiryCalculate())}),S(2,"i",60)(3,"br"),l(),a(4,"p",54),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.PriceInquiryCalculate")))}function CL(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function SL(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",61),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",62),l()()}}function IL(o,s){o&1&&(a(0,"mat-header-cell",63),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function ML(o,s){if(o&1&&(S(0,"img",65),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function EL(o,s){if(o&1&&(a(0,"mat-cell"),I(1,ML,2,3,"img",64),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function vL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function bL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function wL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function TL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function xL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function AL(o,s){if(o&1&&S(0,"select",68),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Dc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function PL(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",66),g(2,"statusIconClass"),I(3,AL,1,5,"select",67),l()),o&2){let n=s.$implicit,t=u();r(),p("ngClass",y(2,2,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function kL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.expertPriceType==null?null:n.fieldsInfo.expertPriceType.fieldTitle," ")}}function DL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"enums"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.expertPriceType,t.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," ")}}function RL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle," ")}}function VL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.createdYaer," ")}}function LL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkLocationId==null?null:n.fieldsInfo.linkLocationId.fieldTitle," ")}}function FL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),fe(" ",n.linkLocationIdTitle," / ",n.linkLocationIdParentTitle,"")}}function OL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyTypeUsageId==null?null:n.fieldsInfo.linkPropertyTypeUsageId.fieldTitle," ")}}function BL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkPropertyTypeUsageId,t.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function HL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkPropertyTypeLanduseId==null?null:n.fieldsInfo.linkPropertyTypeLanduseId.fieldTitle," ")}}function WL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkPropertyTypeLanduseId,t.dataModelEstatePropertyTypeLanduseResult.listItems)," ")}}function NL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkContractTypeId==null?null:n.fieldsInfo.linkContractTypeId.fieldTitle," ")}}function GL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function UL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkCoreCurrencyId==null?null:n.fieldsInfo.linkCoreCurrencyId.fieldTitle," ")}}function jL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",zt(2,1,n.linkCoreCurrencyId,t.dataModelCoreCurrencyResult.listItems)," ")}}function qL(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function QL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function zL(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function YL(o,s){if(o&1&&(a(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function KL(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"translate"),S(3,"br"),d(4),g(5,"translate"),S(6,"br"),d(7),g(8,"translate"),g(9,"cmstitle"),S(10,"br"),l()),o&2){let n=s.$implicit,t=u();r(),Cs(" ",y(2,7,"TITLE.LocationId")," : ",n.linkLocationIdTitle," / ",n.linkLocationIdParentTitle," "),r(3),fe(" ",y(5,9,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," "),r(3),fe(" ",y(8,11,"TITLE.LinkAgreementTypeIdentifier")," : ",zt(9,13,n.linkContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function ZL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceMin)," ")}}function JL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceMin)," ")}}function XL(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceMin)," ")}}function $L(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceMin)," ")}}function e7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceAverage)," ")}}function t7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceAverage)," ")}}function i7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceAverage)," ")}}function n7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceAverage)," ")}}function o7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.SalePrice")," : ",y(3,4,n.salePriceMax)," ")}}function r7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe("",y(2,2,"TITLE.RentPrice")," : ",y(3,4,n.rentPriceMax)," ")}}function a7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.DepositPrice")," : ",y(3,4,n.depositPriceMax)," ")}}function l7(o,s){if(o&1&&(a(0,"div"),d(1),g(2,"translate"),g(3,"number"),l()),o&2){let n=u().$implicit;r(),fe(" ",y(2,2,"TITLE.PeriodPrice"),": ",y(3,4,n.periodPriceMax)," ")}}function s7(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table",71)(3,"tr")(4,"td"),d(5),g(6,"translate"),l(),a(7,"td"),d(8),g(9,"translate"),l(),a(10,"td"),d(11),g(12,"translate"),l()(),a(13,"tr")(14,"td"),I(15,ZL,4,6,"div",72)(16,JL,4,6,"div",72)(17,XL,4,6,"div",72)(18,$L,4,6,"div",72),l(),a(19,"td"),I(20,e7,4,6,"div",72)(21,t7,4,6,"div",72)(22,i7,4,6,"div",72)(23,n7,4,6,"div",72),l(),a(24,"td"),I(25,o7,4,6,"div",72)(26,r7,4,6,"div",72)(27,a7,4,6,"div",72)(28,l7,4,6,"div",72),l()()(),S(29,"br"),a(30,"div")(31,"span",73),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(32,"i",74),l(),d(33),l(),a(34,"div"),d(35),g(36,"translate"),g(37,"enums"),l(),a(38,"div"),d(39),g(40,"translate"),g(41,"cmstitle"),l(),S(42,"br"),l()()}if(o&2){let n=s.$implicit,t=u();r(5),b(y(6,21,"TITLE.Minimum")),r(3),b(y(9,23,"TITLE.Average")),r(3),b(y(12,25,"TITLE.Maximum")),r(4),p("ngIf",n.salePriceMin&&n.salePriceMin>0),r(),p("ngIf",n.rentPriceMin&&n.rentPriceMin>0),r(),p("ngIf",n.depositPriceMin&&n.depositPriceMin>0),r(),p("ngIf",n.periodPriceMin&&n.periodPriceMin>0),r(2),p("ngIf",n.salePriceAverage&&n.salePriceAverage>0),r(),p("ngIf",n.rentPriceAverage&&n.rentPriceAverage>0),r(),p("ngIf",n.depositPriceAverage&&n.depositPriceAverage>0),r(),p("ngIf",n.periodPriceAverage&&n.periodPriceAverage>0),r(2),p("ngIf",n.salePriceMax&&n.salePriceMax>0),r(),p("ngIf",n.rentPriceMax&&n.rentPriceMax>0),r(),p("ngIf",n.depositPriceMax&&n.depositPriceMax>0),r(),p("ngIf",n.periodPriceMax&&n.periodPriceMax>0),r(3),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(2),fe(" ",y(36,27,"TITLE.ExpertPriceType")," : ",zt(37,29,n.expertPriceType,t.dataModelEstatePropertyExpertPriceTypeEnumResult.listItems)," "),r(4),fe(" ",y(40,32,"TITLE.TheUsageIdentifierOfTheLinkAssetType")," : ",zt(41,34,n.linkPropertyTypeUsageId,t.dataModelEstatePropertyTypeUsageResult.listItems)," ")}}function d7(o,s){o&1&&S(0,"mat-header-row")}function c7(o,s){if(o&1){let n=v();a(0,"mat-row",75),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function p7(o,s){if(o&1){let n=v();a(0,"mat-row",75),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function m7(o,s){if(o&1){let n=v();a(0,"mat-row",76),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Dc,n.expanded===!0?"":"none"))}}var Rc=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt,Ve){super(t,new pr,Yt,q,Ee),this.contentService=t,this.cmsToastrService=i,this.estateEnumService=e,this.cmsConfirmationDialogService=m,this.coreCurrencyService=h,this.estateContractTypeService=c,this.estatePropertyTypeUsageService=R,this.estatePropertyTypeLanduseService=B,this.tokenHelper=q,this.cdr=re,this.translate=Ee,this.pageInfo=Ze,this.publicHelper=Yt,this.dialog=Ve,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new pe,this.dataModelEstatePropertyExpertPriceTypeEnumResult=new Q,this.dataModelEstatePropertyTypeUsageResult=new Q,this.dataModelEstatePropertyTypeLanduseResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModelCoreCurrencyResult=new Q,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","ExpertPriceType","CreatedYaer","LinkPropertyTypeUsageId","LinkPropertyTypeLanduseId","LinkContractTypeId","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedYaer","LinkPropertyTypeLanduseId","action_menu"],this.dataModelInquiry=new Kr,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Wt=>this.onSubmitOptionsSearch(Wt)},this.filteModelContent.sortColumn="CreatedYaer",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEstatePropertyExpertPriceTypeEnum(),this.getEstatePropertyTypeUsages(),this.getEstatePropertyTypeLanduses(),this.getEstateContractTypes(),this.getCoreCurrency()}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEstatePropertyExpertPriceTypeEnum(){this.estateEnumService.ServiceEstatePropertyExpertPriceTypeEnum().subscribe({next:t=>{this.dataModelEstatePropertyExpertPriceTypeEnumResult=t}})}getEstatePropertyTypeUsages(){let t=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?this.dataModelEstatePropertyTypeUsageResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}getEstatePropertyTypeLanduses(){let t=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estatePropertyTypeLanduseService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?this.dataModelEstatePropertyTypeLanduseResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}getEstateContractTypes(){let t=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.estateContractTypeService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?this.dataModelEstateContractTypeResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}getCoreCurrency(){let t=this.constructor.name+"getCoreCurrency",i=new pe;i.rowPerPage=100,this.coreCurrencyService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?this.dataModelCoreCurrencyResult=e:this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pr);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=new ar;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={};var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ac,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let i=new ar;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={id:this.tableRowSelected.id};var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Pc,i).afterClosed().subscribe(h=>{h&&h.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionPriceInquiryCalculate(){if(this.dataModelResult==null||this.dataModelResult.access==null){this.cmsToastrService.typeErrorAccessAdd();return}let t=new ar;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={id:this.tableRowSelected.id};var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(kc,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionPriceInquiryList(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=new ar;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={id:this.tableRowSelected.id};var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gr,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(po),E(V),E(Ji),E(Ye),E(Gs),E(Ii),E(ln),E(ui),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-expert-price-list"]],features:[le],decls:87,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","ExpertPriceType"],["matColumnDef","CreatedYaer"],["matColumnDef","LinkLocationId"],["matColumnDef","LinkPropertyTypeUsageId"],["matColumnDef","LinkPropertyTypeLanduseId"],["matColumnDef","LinkContractTypeId"],["matColumnDef","LinkCoreCurrencyId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-calculator","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["id","table1",2,"border-collapse","collapse"],[4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),qe(1,4)(2,5)(3,6),P(4,7),a(5,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(6,"i",9),l(),a(7,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(8,"i",10),l(),a(9,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(12,"i",13),l(),k(),P(13,14),a(14,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(15,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(16),g(17,"translate"),l(),a(18,"a",17)(19,"mat-slide-toggle",18),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(20),g(21,"translate"),l(),k(),P(22,19),I(23,_L,7,3,"div",20),k(),P(24,21),I(25,hL,7,3,"div",20)(26,gL,7,3,"div",20)(27,yL,7,3,"div",20),k(),P(28,22),a(29,"app-cms-search-list",23),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(30,"app-cms-statist-list",23),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(31,24),a(32,"mat-table",25,0),M("matSortChange",function(){f(m);let c=D(33);return _(e.onTableSortData(c))}),P(34,26),I(35,CL,3,3,"mat-header-cell",27)(36,SL,3,0,"mat-cell",28),k(),P(37,29),I(38,IL,3,3,"mat-header-cell",30)(39,EL,2,1,"mat-cell",28),k(),P(40,31),I(41,vL,2,1,"mat-header-cell",30)(42,bL,2,1,"mat-cell",28),k(),P(43,32),I(44,wL,2,1,"mat-header-cell",30)(45,TL,4,5,"mat-cell",28),k(),P(46,33),I(47,xL,2,1,"mat-header-cell",30)(48,PL,4,4,"mat-cell",28),k(),P(49,34),I(50,kL,2,1,"mat-header-cell",30)(51,DL,3,4,"mat-cell",28),k(),P(52,35),I(53,RL,2,1,"mat-header-cell",30)(54,VL,2,1,"mat-cell",28),k(),P(55,36),I(56,LL,2,1,"mat-header-cell",30)(57,FL,2,2,"mat-cell",28),k(),P(58,37),I(59,OL,2,1,"mat-header-cell",30)(60,BL,3,4,"mat-cell",28),k(),P(61,38),I(62,HL,2,1,"mat-header-cell",30)(63,WL,3,4,"mat-cell",28),k(),P(64,39),I(65,NL,2,1,"mat-header-cell",30)(66,GL,3,4,"mat-cell",28),k(),P(67,40),I(68,UL,2,1,"mat-header-cell",30)(69,jL,3,4,"mat-cell",28),k(),P(70,41),I(71,qL,2,1,"mat-header-cell",30)(72,QL,2,1,"mat-cell",28),k(),P(73,42),I(74,zL,3,3,"mat-header-cell",27)(75,YL,6,1,"mat-cell",43),k(),P(76,44),I(77,KL,11,16,"mat-cell",28),k(),P(78,45),I(79,s7,43,37,"mat-cell",28),k(),I(80,d7,1,0,"mat-header-row",46)(81,c7,1,6,"mat-row",47)(82,p7,1,6,"mat-row",47)(83,m7,1,9,"mat-row",48),l(),k(),P(84,49),a(85,"mat-paginator",50,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyexpertprice.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(15),w("ngModel",e.optionsSearch.data.show),r(),C("",y(17,27,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C(" ",y(21,29,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),p("ngIf",(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(48),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(31,mL)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(32,uL)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(33,fL)))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,Ue,lo,U,ta,Cn,An,Se,ri],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}#table1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:2px solid black;padding:15px}#table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid black;padding:15px;text-align:center}"]});let o=s;return o})();var Vc=Jn(eo());var u7=["*"];function f7(o,s){if(o&1&&(a(0,"label",8),d(1),l()),o&2){let n=u();Et("for","app-cms-site-selector-",n.id,""),r(),b(n.optionLabel)}}function _7(o,s){if(o&1&&(S(0,"img",11),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function h7(o,s){if(o&1&&(a(0,"mat-option",9),I(1,_7,2,3,"img",10),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,t=u();p("value",n),r(),p("ngIf",n.linkMainImageIdSrc),r(2),b(t.displayOption(n))}}function g7(o,s){if(o&1){let n=v();a(0,"mat-icon",12),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),d(1,"close"),l()}}var _r=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.contentService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new xn,this.formControl=new gt,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new Xr;i.rowPerPage=20,i.accessLoad=!0;let e=new G;e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof t=="string"&&t.length>0&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e)),t?.length>0&&(e=new G,e.propertyName="LinkCmsUserId",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="mobileNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),e=new G,e.propertyName="phoneNumber",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yi(this.contentService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){this.contentService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof xn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xn,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(dn))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:u7,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),I(2,f7,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(6,h7,4,3,"mat-option",6),g(7,"async"),l(),I(8,g7,2,0,"mat-icon",7),oi(9),l()}if(i&2){let m=D(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Et("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),ht("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[We,N,te,z,Ot,$t,Xt,ei,Oe,se,$,j,Ue,Se],encapsulation:2});let o=s;return o})();var y7=["vform"];function C7(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",56),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function S7(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",56),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function I7(o,s){o&1&&S(0,"i",61)}function M7(o,s){o&1&&S(0,"i",62)}function E7(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function v7(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",57),d(2),l(),a(3,"input",58,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,I7,1,0,"i",59)(6,M7,1,0,"i",60),a(7,"em"),d(8),l(),I(9,E7,5,4,"mat-error",26),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function b7(o,s){if(o&1){let n=v();a(0,"app-estate-property-company-selector",63),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCompany(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkPropertyCompanyId)("optionPlaceholder",y(1,2,"TITLE.Company"))}}function w7(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function T7(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",64),d(2),g(3,"translate"),l(),a(4,"textarea",65,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function x7(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",66),d(2),l(),a(3,"input",67),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.fromDate,i)||(e.dataModel.fromDate=i),_(i)}),l(),S(4,"mat-datepicker-toggle",68)(5,"mat-datepicker",69,10),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),r(),A("placeholder",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),A("disabled",!(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessAddField)),p("matDatepicker",n),w("ngModel",t.dataModel.fromDate),r(),p("for",n)}}function A7(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",70),d(2),l(),a(3,"input",71,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.expireDate,i)||(e.dataModel.expireDate=i),_(i)}),l(),S(5,"mat-datepicker-toggle",68),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),r(),A("placeholder",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),A("disabled",!(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessAddField)),p("matDatepicker",n),w("ngModel",t.dataModel.expireDate),r(2),p("for",n)}}function P7(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()}if(o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function k7(o,s){if(o&1){let n=v();a(0,"div",23)(1,"label",75),d(2),g(3,"translate"),l(),a(4,"input",76,12),g(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Source_page_address")),r(2),A("placeholder",y(6,7,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessAddField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function D7(o,s){if(o&1){let n=v();a(0,"mat-chip",77),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",78)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function R7(o,s){if(o&1&&(a(0,"div",72)(1,"button",79),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function V7(o,s){if(o&1&&(S(0,"img",80),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function L7(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function F7(o,s){if(o&1&&(a(0,"audio",81),S(1,"source",82),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function O7(o,s){if(o&1&&(a(0,"video",81),S(1,"source",83),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function B7(o,s){if(o&1&&(a(0,"div",72)(1,"button",79),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function H7(o,s){if(o&1&&(a(0,"button",85),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function W7(o,s){if(o&1&&(a(0,"div",72)(1,"button",79),d(2),g(3,"translate"),l(),I(4,H7,3,4,"button",84),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function N7(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function G7(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function U7(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function j7(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var os=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(e,new Tn,i,B),this.coreEnumService=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.tokenHelper=h,this.router=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.dataModel=new Tn,this.dataModelResult=new Q,this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.fieldsInfo=new Map,this.keywordDataModel=[],this.tagDataModel=[],this.similarDataModel=new Array,this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.appLanguage="fa",this.tokenInfo=new Pt,this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(q=>{this.tokenInfo=q})}ngOnInit(){this.DataGetAccess()}onActionTagChange(t){this.tagDataModel=t}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Vc.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-project/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(t)}})}onActionSelectorCompany(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.information_area_is_not_clear");this.cmsToastrService.typeWarningSelected(i),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=t.id}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(L),E(sn),E(V),E(Y),E(Qe),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-add"]],viewQuery:function(i,e){if(i&1&&ie(y7,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:116,vars:130,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let m=v();a(0,"div",13),S(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",17,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",18,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",19),g(13,"translate"),I(14,C7,1,5,"app-cms-enum-record-status-selector",20)(15,S7,1,5,"app-cms-enum-record-status-selector",20)(16,v7,10,8,"div",21)(17,b7,2,4,"app-estate-property-company-selector",22),a(18,"div",23)(19,"label",24),d(20),l(),a(21,"textarea",25,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(23,"em"),d(24),l(),I(25,w7,5,4,"mat-error",26),l(),I(26,T7,8,6,"div",21),a(27,"app-cms-location-selector",27),g(28,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),I(29,x7,7,6,"div",21)(30,A7,6,6,"div",21),S(31,"hr",28),a(32,"label"),d(33),l(),a(34,"angular-editor",29),g(35,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(36,P7,7,7,"div",30),l(),a(37,"mat-step",31),g(38,"translate"),a(39,"p"),d(40),g(41,"translate"),l(),I(42,k7,9,9,"div",21),a(43,"mat-form-field",32)(44,"mat-label"),d(45),g(46,"translate"),l(),a(47,"mat-chip-grid",33,3),I(49,D7,5,1,"mat-chip",34),a(50,"input",35,4),g(52,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(53,R7,7,7,"div",30),l(),a(54,"mat-step",36),g(55,"translate"),a(56,"p"),d(57),g(58,"translate"),l(),a(59,"div",37)(60,"a",38),g(61,"cmsthumbnail"),I(62,V7,2,3,"img",39),l()(),a(63,"div",23)(64,"label",40),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(65),g(66,"translate"),l(),a(67,"input",41,5),g(69,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(70,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),S(71,"hr"),I(72,L7,3,3,"p",26),a(73,"app-cms-files-selector",43),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(74,"hr"),a(75,"div")(76,"p"),d(77),g(78,"translate"),l(),a(79,"app-cms-files-selector",44),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l(),S(80,"br"),l(),a(81,"div",37),I(82,F7,4,3,"audio",45),l(),a(83,"div",23)(84,"input",46,6),g(86,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(87,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(88,"div",37),I(89,O7,3,1,"video",45),l(),a(90,"div",23)(91,"input",47,7),g(93,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(94,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(95,"h3"),d(96),g(97,"translate"),l(),a(98,"app-cms-360-image-list",48),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(99,"br"),a(100,"h3"),d(101),g(102,"translate"),l(),a(103,"app-cms-360-tour-list",49),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(104,B7,7,7,"div",30),l(),a(105,"mat-step",50),g(106,"translate"),a(107,"p"),d(108),g(109,"translate"),l(),a(110,"app-cms-map",51),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(111,W7,5,4,"div",30),l(),I(112,N7,2,0,"ng-template",52)(113,G7,2,0,"ng-template",53)(114,U7,2,0,"ng-template",54)(115,j7,2,0,"ng-template",55),l()()()()}if(i&2){let m=D(22),h=D(48);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,90,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,92,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),w("ngModel",e.dataModel.description),r(3),C("",m.value.length," / 500"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(28,94,"TITLE.Region")),r(2),p("ngIf",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.accessWatchField),r(),p("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(35,96,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(38,98,"TITLE.Search_Engines")),r(3),b(y(41,100,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(46,102,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(52,104,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(55,106,"TITLE.ATTACH_FILES")),r(3),b(y(58,108,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(61,110,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(66,112,"TITLE.Original_Photo")),r(2),A("placeholder",y(69,114,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(78,116,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(3),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(86,118,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(93,120,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(97,122,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(102,124,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(106,126,"TITLE.Location")," "),r(3),b(y(109,128,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Un,jn,rn,Bt,ci,Re,Oe,se,$,ji,qi,cn,pn,Ui,bi,Nt,Sn,In,si,j,Hi,Oi,Po,$e,_r,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let o=s;return o})();var rs=Jn(eo());var q7=["vform"];function Q7(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",56),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function z7(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",56),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Y7(o,s){o&1&&S(0,"i",61)}function K7(o,s){o&1&&S(0,"i",62)}function Z7(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function J7(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",57),d(2),l(),a(3,"input",58,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,Y7,1,0,"i",59)(6,K7,1,0,"i",60),a(7,"em"),d(8),l(),I(9,Z7,5,4,"mat-error",25),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function X7(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function $7(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",63),d(2),g(3,"translate"),l(),a(4,"textarea",64,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),A("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function e8(o,s){if(o&1){let n=v();a(0,"app-estate-property-company-selector",65),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCompany(i))}),l()}if(o&2){let n=u();p("optionSelectForce",n.dataModel.linkPropertyCompanyId)("optionPlaceholder",y(1,2,"TITLE.Company"))}}function t8(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",66),d(2),l(),a(3,"input",67),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.fromDate,i)||(e.dataModel.fromDate=i),_(i)}),l(),S(4,"mat-datepicker-toggle",68)(5,"mat-datepicker",69,10),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),r(),A("placeholder",t.fieldsInfo.fromDate==null?null:t.fieldsInfo.fromDate.fieldTitle),A("disabled",!(t.fieldsInfo.fromDate!=null&&t.fieldsInfo.fromDate.accessEditField)),p("matDatepicker",n),w("ngModel",t.dataModel.fromDate),r(),p("for",n)}}function i8(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",70),d(2),l(),a(3,"input",71),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.expireDate,i)||(e.dataModel.expireDate=i),_(i)}),l(),S(4,"mat-datepicker-toggle",68)(5,"mat-datepicker",69,11),l()}if(o&2){let n=D(6),t=u();r(2),b(t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),r(),A("placeholder",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.fieldTitle),A("disabled",!(t.fieldsInfo.expireDate!=null&&t.fieldsInfo.expireDate.accessEditField)),p("matDatepicker",n),w("ngModel",t.dataModel.expireDate),r(),p("for",n)}}function n8(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l(),a(7,"button",75),d(8),g(9,"translate"),l()()}if(o&2){u();let n=D(9);r(2),C(" ",y(3,5,"ACTION.BACK")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,7,"ACTION.NEXT")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(9,9,"ACTION.SAVE")," ")}}function o8(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",76),d(2),g(3,"translate"),l(),a(4,"input",77,12),g(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Source_page_address")),r(2),A("placeholder",y(6,7,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accesseEditField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function r8(o,s){if(o&1){let n=v();a(0,"mat-chip",78),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",79)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function a8(o,s){if(o&1&&(a(0,"div",72)(1,"button",80),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function l8(o,s){if(o&1&&(S(0,"img",81),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function s8(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function d8(o,s){if(o&1&&(a(0,"audio",82),S(1,"source",83),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function c8(o,s){if(o&1&&(a(0,"video",82),S(1,"source",84),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function p8(o,s){if(o&1&&(a(0,"div",72)(1,"button",80),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function m8(o,s){if(o&1&&(a(0,"button",75),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function u8(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",80),d(5),g(6,"translate"),l(),I(7,m8,3,4,"button",85),l()}if(o&2){let n=u();r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(3),C(" ",y(6,5,"ACTION.BEFOR")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function f8(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function _8(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function h8(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function g8(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var as=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B){super(e,new Tn,i,B),this.activatedRoute=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.router=h,this.cdr=c,this.tokenHelper=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModel=new Tn,this.dataModelResult=new vt,this.dataContentCategoryModel=[],this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.similarDataModel=new Array,this.contentSimilarSelected=new Tn,this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.keywordDataModel=[],this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.tokenHelper.getTokenInfoState().then(q=>{this.tokenInfo=q})}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(t),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(R=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+h,R)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(R=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+h,R)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(t,!1)}})}DataSimilarGetAll(t){if(!t||t.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let i=this.constructor.name+"main";this.publicHelper.processService.processStart(i,this.translate.instant("MESSAGE.get_other_information_from_the_server"),this.constructorInfoAreaId);let e=new $r;t.forEach(m=>{if(m>0){let h=new G;h.propertyName="Id",h.value=m,h.clauseType=He.Or,e.filters.push(h)}}),this.contentService.ServiceGetAll(e).subscribe({next:m=>{this.formInfo.formSubmitAllow=!0,m.isSuccess?(this.similarDataModel=m.listItems,this.similarTabledataSource.data=m.listItems):this.cmsToastrService.typeErrorGetAll(m.errorMessage),this.publicHelper.processService.processStop(i)},error:m=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(m),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-project"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(t)}})}onActionTagChange(t){this.tagIdsData=t}onActionContentSimilarSelect(t){!t||t.id.length<=0||(this.contentSimilarSelected=t)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(t=>t.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-project/"])}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=rs.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=rs.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorCompany(t){if(!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.information_area_is_not_clear");this.cmsToastrService.typeWarningSelected(i),this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=t.id}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(Ht),E(L),E(sn),E(V),E(Qe),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-edit"]],viewQuery:function(i,e){if(i&1&&ie(q7,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:114,vars:130,consts:[["vform","ngForm"],["stepper",""],["Description",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["DescriptionHidden",""],["FromDate",""],["ExpireDate",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"]],template:function(i,e){if(i&1){let m=v();a(0,"div",13),S(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",17,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",18,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",19),g(13,"translate"),I(14,Q7,1,5,"app-cms-enum-record-status-selector",20)(15,z7,1,5,"app-cms-enum-record-status-selector",20)(16,J7,10,8,"div",21),a(17,"div",22)(18,"label",23),d(19),l(),a(20,"textarea",24,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(22,"em"),d(23),l(),I(24,X7,5,4,"mat-error",25),l(),I(25,$7,8,7,"div",21)(26,e8,2,4,"app-estate-property-company-selector",26),a(27,"app-cms-location-selector",27),g(28,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),I(29,t8,7,6,"div",21)(30,i8,7,6,"div",21),S(31,"hr",28),a(32,"label"),d(33),l(),a(34,"angular-editor",29),g(35,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(36,n8,10,11,"div",30),l(),a(37,"mat-step",31),g(38,"translate"),a(39,"p"),d(40),g(41,"translate"),l(),I(42,o8,9,9,"div",21),a(43,"mat-form-field",32)(44,"mat-label"),d(45),g(46,"translate"),l(),a(47,"mat-chip-grid",33,3),I(49,r8,5,1,"mat-chip",34),a(50,"input",35,4),g(52,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(53,a8,7,7,"div",30),l(),a(54,"mat-step",36),g(55,"translate"),a(56,"p"),d(57),g(58,"translate"),l(),a(59,"div",37)(60,"a",38),g(61,"cmsthumbnail"),I(62,l8,2,3,"img",39),l()(),a(63,"div",22)(64,"label",40),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(65),g(66,"translate"),l(),a(67,"input",41,5),g(69,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(70,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(71,s8,3,3,"p",25),a(72,"app-cms-files-selector",43),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(73,"br"),a(74,"div")(75,"p"),d(76),g(77,"translate"),l(),a(78,"app-cms-files-selector",44),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l()(),a(79,"div",37),I(80,d8,4,3,"audio",45),l(),a(81,"div",22)(82,"input",46,6),g(84,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(85,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(86,"div",37),I(87,c8,3,1,"video",45),l(),a(88,"div",22)(89,"input",47,7),g(91,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(92,"cms-file-manager",42),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(93,"h3"),d(94),g(95,"translate"),l(),a(96,"app-cms-360-image-list",48),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(97,"br"),a(98,"h3"),d(99),g(100,"translate"),l(),a(101,"app-cms-360-tour-list",49),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(102,p8,7,7,"div",30),l(),a(103,"mat-step",50),g(104,"translate"),a(105,"p"),d(106),g(107,"translate"),l(),a(108,"app-cms-map",51),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(109,u8,8,7,"div",30),l(),I(110,f8,2,0,"ng-template",52)(111,_8,2,0,"ng-template",53)(112,h8,2,0,"ng-template",54)(113,g8,2,0,"ng-template",55),l()()()()}if(i&2){let m=D(21),h=D(48);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,90,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,92,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),w("ngModel",e.dataModel.description),r(3),C("",m.value.length," / 500"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(28,94,"TITLE.Region")),r(2),p("ngIf",e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.accessWatchField),r(),p("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(35,96,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(38,98,"TITLE.Search_Engines")),r(3),b(y(41,100,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(46,102,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(52,104,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(55,106,"TITLE.ATTACH_FILES")),r(3),b(y(58,108,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(61,110,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(66,112,"TITLE.Original_Photo")),r(2),A("placeholder",y(69,114,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(77,116,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(84,118,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(91,120,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(95,122,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(100,124,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(104,126,"TITLE.Location")," "),r(3),b(y(107,128,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Un,jn,rn,Bt,ci,Re,Oe,se,$,ji,qi,cn,pn,Ui,bi,Nt,Sn,In,si,j,Hi,Oi,Po,$e,_r,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let o=s;return o})();var y8=["vform"];function C8(o,s){if(o&1){let n=v();P(0),a(1,"div",8)(2,"label",9),d(3),l(),a(4,"input",10,0),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.title,i)||(e.dataModelResultContent.item.title=i),_(i)}),l()(),a(6,"div",8)(7,"label",11),d(8),l(),a(9,"textarea",12,1),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.description,i)||(e.dataModelResultContent.item.description=i),_(i)}),l()(),k()}if(o&2){let n=u();r(3),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),r(),A("placeholder",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),w("ngModel",n.dataModelResultContent.item.title),r(4),b(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),w("ngModel",n.dataModelResultContent.item.description)}}function S8(o,s){if(o&1){let n=v();a(0,"div",13)(1,"button",14),M("click",function(){f(n);let i=u();return _(i.onFormDelete())}),S(2,"i",15),d(3),g(4,"translate"),l(),a(5,"button",16),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(6,"i",17),d(7),g(8,"translate"),l()()}if(o&2){let n=u();r(),p("disabled",!n.formInfo.buttonSubmittedEnabled),r(2),C(" ",y(4,3,"ACTION.DELETE")," "),r(4),C(" ",y(8,5,"ACTION.CANCEL")," ")}}var Lc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B){this.data=t,this.dialogRef=i,this.publicHelper=e,this.contentService=m,this.cdr=h,this.cmsToastrService=c,this.tokenHelper=R,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.tokenInfo=new Pt,this.dataModelResultContent=new Q,this.formInfo=new me,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.tokenHelper.getTokenInfoState().then(q=>{this.tokenInfo=q})}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let t=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResultContent=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,i.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(L),E(sn),E(H),E(V),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-delete"]],viewQuery:function(i,e){if(i&1&&ie(y8,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),I(8,C8,11,6,"ng-container",6)(9,S8,9,7,"div",7),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,te,z,be,ke,we,X,$,j,U],encapsulation:2});let o=s;return o})();var I8=()=>["expandedTitle"],M8=()=>["expandedDetail"],E8=()=>[5,10,20,100],Fc=o=>({display:o});function v8(o,s){if(o&1){let n=v();a(0,"a",17)(1,"mat-slide-toggle",54),M("click",function(){f(n);let i=u();return _(i.onActionButtonWithHierarchy())}),l(),d(2),g(3,"translate"),l()}o&2&&(r(2),C("",y(3,1,"ACTION.BATCHVIEW")," "))}function b8(o,s){if(o&1){let n=v();a(0,"div",23)(1,"a",55),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",56)(3,"br"),l(),a(4,"p",25),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function w8(o,s){if(o&1){let n=v();a(0,"div",23)(1,"a",57),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",58)(3,"br"),l(),a(4,"p",25),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function T8(o,s){if(o&1){let n=v();a(0,"div",23)(1,"a",59),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",60)(3,"br"),l(),a(4,"p",25),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function x8(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function A8(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",61),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",62),l()()}}function P8(o,s){o&1&&(a(0,"mat-header-cell",63),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function k8(o,s){if(o&1&&(S(0,"img",65),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function D8(o,s){if(o&1&&(a(0,"mat-cell"),I(1,k8,2,3,"img",64),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function R8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function V8(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function L8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function F8(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function O8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function B8(o,s){if(o&1&&S(0,"select",68),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Fc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function H8(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",66),g(2,"statusIconClass"),I(3,B8,1,5,"select",67),l()),o&2){let n=s.$implicit,t=u();r(),p("ngClass",y(2,2,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function W8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function N8(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",66),g(2,"statusIconClass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.mainAdminRecordStatus))}}function G8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function U8(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function j8(o,s){if(o&1&&(a(0,"mat-header-cell",63),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function q8(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function Q8(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function z8(o,s){if(o&1&&(a(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function Y8(o,s){o&1&&(a(0,"mat-header-cell",71),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function K8(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",72),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",73),d(3,"\u2197"),l()()()}}function Z8(o,s){if(o&1&&(a(0,"mat-cell"),d(1),S(2,"br"),d(3),g(4,"translate"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",n.title," "),r(2),fe(" ",y(4,3,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function J8(o,s){if(o&1&&(S(0,"img",78),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function X8(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle," : ",t.publicHelper.LocaleDate(n.updatedDate),"")}}function $8(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,J8,2,3,"img",74),l(),a(6,"th")(7,"span",75),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",76),l(),d(9),l()(),I(10,X8,4,2,"tr",77),a(11,"tr"),S(12,"td"),a(13,"td"),d(14),l()(),a(15,"tr"),S(16,"td"),a(17,"td"),d(18),l()(),a(19,"tr"),S(20,"td")(21,"td"),l()()()()}if(o&2){let n=s.$implicit;r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(),p("ngIf",n.updatedDate),r(4),C(" ",n.title," "),r(4),C(" ",n.description," ")}}function eF(o,s){o&1&&S(0,"mat-header-row")}function tF(o,s){if(o&1){let n=v();a(0,"mat-row",79),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function iF(o,s){if(o&1){let n=v();a(0,"mat-row",79),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function nF(o,s){if(o&1){let n=v();a(0,"mat-row",80),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Fc,n.expanded===!0?"":"none"))}}var Oc=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q){super(t,new Tn,B,m,c),this.contentService=t,this.cmsToastrService=i,this.router=e,this.tokenHelper=m,this.cdr=h,this.translate=c,this.pageInfo=R,this.publicHelper=B,this.dialog=q,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.GetAllWithHierarchyCategoryId=!1,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:re=>this.onSubmitOptionsSearch(re)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Tn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="linkEstateProjectCategoryId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey?(this.link="/#/estate/property-project/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/add"])}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-project/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-project/edit",this.tableRowSelected.id])}onActionButtonProperty(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkProjectId",this.tableRowSelected.id])}onActionButtonPropertyCompany(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/LinkProjectId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/LinkProjectId",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Lc,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(sn),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-list"]],features:[le],decls:96,vars:43,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-building","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),qe(1,4)(2,5)(3,6),P(4,7),a(5,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(6,"i",9),l(),a(7,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(8,"i",10),l(),a(9,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(12,"i",13),l(),k(),P(13,14),a(14,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(15,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(16),g(17,"translate"),l(),a(18,"a",17)(19,"mat-slide-toggle",18),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(20),g(21,"translate"),l(),I(22,v8,4,3,"a",19),k(),P(23,20),I(24,b8,7,3,"div",21),k(),P(25,22),I(26,w8,7,3,"div",21)(27,T8,7,3,"div",21),a(28,"div",23)(29,"a",11),M("click",function(c){return f(m),_(e.onActionButtonProperty(e.tableRowSelected,c))}),S(30,"i",24)(31,"br"),l(),a(32,"p",25),d(33),g(34,"translate"),l()(),a(35,"div",23)(36,"a",11),M("click",function(c){return f(m),_(e.onActionButtonPropertyCompany(e.tableRowSelected,c))}),S(37,"i",26)(38,"br"),l(),a(39,"p",25),d(40),g(41,"translate"),l()(),a(42,"div",23)(43,"a",8),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(44,"i",27)(45,"br"),l(),a(46,"p",25),d(47),g(48,"translate"),l()(),k(),P(49,28),a(50,"app-cms-search-list",29),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(51,"app-cms-statist-list",29),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(52,30),a(53,"mat-table",31,0),M("matSortChange",function(){f(m);let c=D(54);return _(e.onTableSortData(c))}),P(55,32),I(56,x8,3,3,"mat-header-cell",33)(57,A8,3,0,"mat-cell",34),k(),P(58,35),I(59,P8,3,3,"mat-header-cell",36)(60,D8,2,1,"mat-cell",34),k(),P(61,37),I(62,R8,2,1,"mat-header-cell",36)(63,V8,2,1,"mat-cell",34),k(),P(64,38),I(65,L8,2,1,"mat-header-cell",36)(66,F8,4,5,"mat-cell",34),k(),P(67,39),I(68,O8,2,1,"mat-header-cell",36)(69,H8,4,4,"mat-cell",34),k(),P(70,40),I(71,W8,2,1,"mat-header-cell",36)(72,N8,3,3,"mat-cell",34),k(),P(73,41),I(74,G8,2,1,"mat-header-cell",36)(75,U8,2,1,"mat-cell",34),k(),P(76,42),I(77,j8,2,1,"mat-header-cell",36)(78,q8,2,1,"mat-cell",34),k(),P(79,43),I(80,Q8,3,3,"mat-header-cell",33)(81,z8,6,1,"mat-cell",44),k(),P(82,45),I(83,Y8,3,3,"mat-header-cell",46)(84,K8,4,0,"mat-cell",34),k(),P(85,47),I(86,Z8,5,5,"mat-cell",34),k(),P(87,48),I(88,$8,22,6,"mat-cell",34),k(),I(89,eF,1,0,"mat-header-row",49)(90,tF,1,6,"mat-row",50)(91,iF,1,6,"mat-row",50)(92,nF,1,9,"mat-row",51),l(),k(),P(93,52),a(94,"mat-paginator",53,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertyproject.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(15),w("ngModel",e.optionsSearch.data.show),r(),C("",y(17,30,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(21,32,"ACTION.STATIST")," "),r(2),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(34,34,"ACTION.PROPERTY")),r(7),b(y(41,36,"ACTION.COMPANY")),r(7),b(y(48,38,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(40,I8)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(41,M8)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(42,E8)))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,Ue,U,An,Se,ri],encapsulation:2});let o=s;return o})();var Hc=Jn(eo());function oF(o,s){if(o&1){let n=v();a(0,"mat-tree-node",9),S(1,"button",10),a(2,"mat-checkbox",11),M("change",function(){let i=f(n).$implicit,e=u();return _(e.checklistSelection.toggle(i))}),d(3),l()()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2)),r(2),p("checked",i.checklistSelection.isSelected(n)),r(),b(n.title)}}function rF(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",12)(3,"button",13)(4,"mat-icon",14),d(5),l()(),a(6,"mat-checkbox",15),M("change",function(){let i=f(n).$implicit,e=u();return _(e.todoItemSelectionToggle(i))}),d(7),l()(),a(8,"ul"),qe(9,16),l()()()}if(o&2){let n=s.$implicit,t=u();r(3),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),p("checked",t.checklistSelection.isSelected(n))("indeterminate",t.descendantsPartiallySelected(n)),r(),C(" ",n.title,""),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var xl=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cdr=m,this.publicHelper=h,this.tokenHelper=c,this.dialog=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=[],this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(q=>q.children),this.dataSource=new xo,this.runComplate=!1,this.optionSelectChecked=new et,this.optionSelectDisChecked=new et,this.optionModelChange=new et,this.checklistSelection=new Bs(!0),this.hasChild=(q,re)=>!!re.children&&re.children.length>0,this.hasNoContent=(q,re)=>re.children,this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(q=>{if(!this.runComplate)return;let re=[];this.checklistSelection.selected.forEach(Ee=>{re.push(Ee.id)}),this.optionModelChange.emit(re),q.added&&q.added.length>0&&q.added.forEach(Ee=>{this.optionSelectChecked.emit(Ee.id)}),q.removed&&q.removed.length>0&&q.removed.forEach(Ee=>{this.optionSelectDisChecked.emit(Ee.id)})})}set optionModel(t){this.dataModelSelect=t,this.loadCheked()}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(t=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&t.forEach(i=>{this.dataModelSelect.find(m=>m===i.id)&&this.checklistSelection.select(i),i.children&&i.children.length>0&&this.loadCheked(i.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.cmsToastrService.typeError(i)}})}descendantsAllSelected(t){return this.treeControl.getDescendants(t).every(e=>this.checklistSelection.isSelected(e))}descendantsPartiallySelected(t){return this.treeControl.getDescendants(t).some(m=>this.checklistSelection.isSelected(m))&&!this.descendantsAllSelected(t)}todoItemSelectionToggle(t){this.checklistSelection.toggle(t);let i=this.treeControl.getDescendants(t);this.checklistSelection.isSelected(t)?this.checklistSelection.select(...i):this.checklistSelection.deselect(...i)}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(Xo),E(H),E(L),E(Y),E(De),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},decls:11,vars:10,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"change","checked"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"change","checked","indeterminate"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),qe(4,2),P(5,3),S(6,"app-progress-spinner",4),a(7,"mat-tree",5),I(8,oF,4,6,"mat-tree-node",6)(9,rF,10,7,"mat-nested-tree-node",7),l(),k(),qe(10,8),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!1)("optionFooterDisplay",!1),r(2),C(" ",y(3,8,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(4),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ze,ea,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U],encapsulation:2});let o=s;return o})();var aF=["vform"];function lF(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",67),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function sF(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",67),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dF(o,s){o&1&&S(0,"i",68)}function cF(o,s){o&1&&S(0,"i",69)}function pF(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function mF(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function uF(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",70),d(2),g(3,"translate"),l(),a(4,"textarea",71,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,4,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function fF(o,s){o&1&&S(0,"i",68)}function _F(o,s){o&1&&S(0,"i",69)}function hF(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function gF(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()}if(o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function yF(o,s){if(o&1&&(a(0,"div",72)(1,"button",75),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function CF(o,s){if(o&1){let n=v();a(0,"div",22)(1,"label",76),d(2),g(3,"translate"),l(),a(4,"input",77,13),g(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(7,"em"),d(8),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Source_page_address")),r(2),A("placeholder",y(6,7,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessAddField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function SF(o,s){if(o&1){let n=v();a(0,"mat-chip",78),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",79)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function IF(o,s){if(o&1&&(a(0,"div",72)(1,"button",75),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function MF(o,s){if(o&1&&(S(0,"img",80),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function EF(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function vF(o,s){if(o&1&&(a(0,"audio",81),S(1,"source",82),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function bF(o,s){if(o&1&&(a(0,"video",81),S(1,"source",83),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function wF(o,s){if(o&1&&(a(0,"div",72)(1,"button",75),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function TF(o,s){if(o&1&&(a(0,"button",85),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function xF(o,s){if(o&1&&(a(0,"div",72)(1,"button",75),d(2),g(3,"translate"),l(),I(4,TF,3,4,"button",84),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function AF(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function PF(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function kF(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function DF(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var ls=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R){super(e,new uo,i,R),this.coreEnumService=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.router=h,this.cdr=c,this.translate=R,this.constructorInfoAreaId=this.constructor.name,this.dataModel=new uo,this.dataModelResult=new Q,this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.fieldsInfo=new Map,this.keywordDataModel=[],this.tagDataModel=[],this.similarDataModel=new Array,this.otherInfoTabledisplayedColumns=["Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.DataGetAccess()}onActionTagChange(t){this.tagDataModel=t}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=Hc.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}this.contentService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),setTimeout(()=>this.router.navigate(["/estate/property-supplier/"]),1e3)):this.cmsToastrService.typeErrorAdd(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(i),this.publicHelper.processService.processStop(t)}})}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationIds=t}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(L),E(Qn),E(V),E(Qe),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-add"]],viewQuery:function(i,e){if(i&1&&ie(aF,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:155,vars:164,consts:[["vform","ngForm"],["stepper",""],["Title",""],["Description",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["DescriptionHidden",""],["Source",""],[3,"optionsInfoAreaId"],[1,"card","card-style","loader-container"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let m=v();S(0,"app-progress-spinner",14),a(1,"div",15)(2,"div",16)(3,"p",17),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",18,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",19,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",20),g(13,"translate"),I(14,lF,1,5,"app-cms-enum-record-status-selector",21)(15,sF,1,5,"app-cms-enum-record-status-selector",21),a(16,"div",22)(17,"label",23),d(18),l(),a(19,"input",24,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(21,dF,1,0,"i",25)(22,cF,1,0,"i",26),a(23,"em"),d(24),l(),I(25,pF,5,4,"mat-error",27),l(),a(26,"div",22)(27,"label",28),d(28),l(),a(29,"textarea",29,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),l(),a(31,"em"),d(32),l(),I(33,mF,5,4,"mat-error",27),l(),I(34,uF,8,6,"div",30),a(35,"app-cms-location-selector",31),g(36,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),d(37),g(38,"translate"),a(39,"app-cms-location-autocomplete",31),g(40,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),a(41,"div",22)(42,"label",32),d(43),l(),a(44,"input",33,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(46,"em"),d(47),l()(),a(48,"div",22)(49,"label",34),d(50),l(),a(51,"input",35,5),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(53,"em"),d(54),l()(),a(55,"div",22)(56,"label",36),d(57),l(),a(58,"textarea",37,6),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),l(),a(60,"em"),d(61),l(),I(62,fF,1,0,"i",25)(63,_F,1,0,"i",26)(64,hF,5,3,"mat-error",27),l(),S(65,"hr",38),a(66,"label"),d(67),l(),a(68,"angular-editor",39),g(69,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(70,gF,7,7,"div",40),l(),a(71,"mat-step",41),g(72,"translate"),a(73,"app-estate-property-supplier-category-treeselector",42),x("optionModelChange",function(c){return f(m),T(e.dataModel.linkEstatePropertySupplierCategoryIds,c)||(e.dataModel.linkEstatePropertySupplierCategoryIds=c),_(c)}),l(),S(74,"br"),I(75,yF,7,7,"div",40),l(),a(76,"mat-step",41),g(77,"translate"),a(78,"p"),d(79),g(80,"translate"),l(),I(81,CF,9,9,"div",30),a(82,"mat-form-field",43)(83,"mat-label"),d(84),g(85,"translate"),l(),a(86,"mat-chip-grid",44,7),I(88,SF,5,1,"mat-chip",45),a(89,"input",46,8),g(91,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(92,IF,7,7,"div",40),l(),a(93,"mat-step",47),g(94,"translate"),a(95,"p"),d(96),g(97,"translate"),l(),a(98,"div",48)(99,"a",49),g(100,"cmsthumbnail"),I(101,MF,2,3,"img",50),l()(),a(102,"div",22)(103,"label",51),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(104),g(105,"translate"),l(),a(106,"input",52,9),g(108,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(109,"cms-file-manager",53),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),S(110,"hr"),I(111,EF,3,3,"p",27),a(112,"app-cms-files-selector",54),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(113,"hr"),a(114,"div")(115,"p"),d(116),g(117,"translate"),l(),a(118,"app-cms-files-selector",55),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l(),S(119,"br"),l(),a(120,"div",48),I(121,vF,4,3,"audio",56),l(),a(122,"div",22)(123,"input",57,10),g(125,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(126,"cms-file-manager",53),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(127,"div",48),I(128,bF,3,1,"video",56),l(),a(129,"div",22)(130,"input",58,11),g(132,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(133,"cms-file-manager",53),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(134,"h3"),d(135),g(136,"translate"),l(),a(137,"app-cms-360-image-list",59),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(138,"br"),a(139,"h3"),d(140),g(141,"translate"),l(),a(142,"app-cms-360-tour-list",60),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(143,wF,7,7,"div",40),l(),a(144,"mat-step",61),g(145,"translate"),a(146,"p"),d(147),g(148,"translate"),l(),a(149,"app-cms-map",62),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(150,xF,5,4,"div",40),l(),I(151,AF,2,0,"ng-template",63)(152,PF,2,0,"ng-template",64)(153,kF,2,0,"ng-template",65)(154,DF,2,0,"ng-template",66),l()()()()}if(i&2){let m=D(20),h=D(30),c=D(45),R=D(52),B=D(59),q=D(87);p("optionsInfoAreaId",e.constructorInfoAreaId),r(4),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,118,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,120,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessAddField)),w("ngModel",e.dataModel.description),r(3),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(36,122,"TITLE.Region")),r(2),C(" ",y(38,124,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessAddField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(40,126,"TITLE.Region")),r(4),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessAddField)),r(3),C("",c.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessAddField)),r(3),C("",R.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessAddField)),r(3),C("",B.value.length," / 500"),r(),p("ngIf",!B.value),r(),p("ngIf",B.value),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(69,128,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(72,130,"TITLE.Categories")),r(2),w("optionModel",e.dataModel.linkEstatePropertySupplierCategoryIds),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(77,132,"TITLE.Search_Engines")),r(3),b(y(80,134,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(85,136,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(91,138,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",q)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(94,140,"TITLE.ATTACH_FILES")),r(3),b(y(97,142,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(100,144,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(105,146,"TITLE.Original_Photo")),r(2),A("placeholder",y(108,148,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(117,150,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(3),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(125,152,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(132,154,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(136,156,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(141,158,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(145,160,"TITLE.Location")," "),r(3),b(y(148,162,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Bt,ci,Re,se,$,ji,qi,cn,pn,Ui,bi,Nt,qt,Sn,In,si,j,Hi,Oi,Po,$e,xl,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let o=s;return o})();var ss=Jn(eo());var RF=["vform"];function VF(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",63),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function LF(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",63),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function FF(o,s){o&1&&S(0,"i",66)}function OF(o,s){o&1&&S(0,"i",67)}function BF(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function HF(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",64),d(2),l(),a(3,"input",65,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,FF,1,0,"i",31)(6,OF,1,0,"i",32),a(7,"em"),d(8),l(),I(9,BF,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function WF(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function NF(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",68),d(2),l(),a(3,"textarea",69,11),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,WF,5,4,"mat-error",33),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),A("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),w("ngModel",t.dataModel.description),r(3),C("",n.value.length," / 500"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function GF(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",70),d(2),g(3,"translate"),l(),a(4,"textarea",71,12),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(5),t=u();r(2),b(y(3,5,"TITLE.Description_Hidden")),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),A("disabled",!(t.fieldsInfo.descriptionHidden!=null&&t.fieldsInfo.descriptionHidden.accessEditField)),w("ngModel",t.dataModel.descriptionHidden),r(3),C("",n.value.length," / 500")}}function UF(o,s){o&1&&S(0,"i",66)}function jF(o,s){o&1&&S(0,"i",67)}function qF(o,s){o&1&&(a(0,"mat-error"),d(1," Address is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function QF(o,s){if(o&1&&(a(0,"button",76),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function zF(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l(),I(7,QF,3,4,"button",75),l()}if(o&2){let n=u(),t=D(9);r(2),C(" ",y(3,4,"ACTION.BACK")," "),r(2),p("disabled",!t.form.valid),r(),C(" ",y(6,6,"ACTION.NEXT")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function YF(o,s){if(o&1&&(a(0,"div",72)(1,"button",77),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function KF(o,s){if(o&1){let n=v();a(0,"div",24)(1,"label",78),d(2),l(),a(3,"input",79,13),g(5,"translate"),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.source,i)||(e.dataModel.source=i),_(i)}),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.source==null?null:t.fieldsInfo.source.fieldTitle),r(),A("placeholder",y(5,5,"TITLE.Content_reference_website_link")),A("disabled",!(t.fieldsInfo.source!=null&&t.fieldsInfo.source.accessEditField)),w("ngModel",t.dataModel.source),r(4),C("",n.value.length," / 500")}}function ZF(o,s){if(o&1){let n=v();a(0,"mat-chip",80),M("removed",function(){let i=f(n).$implicit,e=u();return _(e.removeTag(i))}),d(1),a(2,"button",81)(3,"mat-icon"),d(4,"cancel"),l()()()}if(o&2){let n=s.$implicit;r(),C(" ",n," ")}}function JF(o,s){if(o&1&&(a(0,"div",72)(1,"button",77),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function XF(o,s){if(o&1&&(S(0,"img",82),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function $F(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),b(y(2,1,"TITLE.List_of_attached_photos")))}function eO(o,s){if(o&1&&(a(0,"audio",83),S(1,"source",84),g(2,"cmsthumbnail"),d(3," Your browser does not support the audio tag. "),l()),o&2){let n=u();r(),A("src",y(2,1,n.dataModel.linkFilePodcastIdSrc),Z)}}function tO(o,s){if(o&1&&(a(0,"video",83),S(1,"source",85),d(2," Your browser does not support the video tag. "),l()),o&2){let n=u();r(),A("src",n.dataModel.linkFileMovieIdSrc,Z)}}function iO(o,s){if(o&1&&(a(0,"div",72)(1,"button",77),d(2),g(3,"translate"),l(),a(4,"button",74),d(5),g(6,"translate"),l()()),o&2){u();let n=D(9);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function nO(o,s){if(o&1&&(a(0,"button",76),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(9);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function oO(o,s){if(o&1){let n=v();a(0,"div",72)(1,"button",73),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",77),d(5),g(6,"translate"),l(),I(7,nO,3,4,"button",75),l()}if(o&2){let n=u();r(2),C(" ",y(3,3,"ACTION.BACK")," "),r(3),C(" ",y(6,5,"ACTION.BEFOR")," "),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function rO(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function aO(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function lO(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function sO(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var ds=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R){super(e,new uo,i,R),this.activatedRoute=t,this.publicHelper=i,this.contentService=e,this.cmsToastrService=m,this.router=h,this.cdr=c,this.translate=R,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModel=new uo,this.dataModelResult=new vt,this.dataContentCategoryModel=[],this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.similarDataModel=new Array,this.contentSimilarSelected=new uo,this.otherInfoTabledisplayedColumns=["Id","Title","TypeId","Action"],this.similarTabledisplayedColumns=["LinkMainImageIdSrc","Id","RecordStatus","Title","Action"],this.similarTabledataSource=new ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new me,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.keywordDataModel=[],this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestId=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){if(this.requestId?.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne()}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFilePodcastId(t){this.dataModel.linkFilePodcastId=t.id,this.dataModel.linkFilePodcastIdSrc=t.downloadLinksrc}onActionFileSelectedLinkFileMovieId(t){this.dataModel.linkFileMovieId=t.id,this.dataModel.linkFileMovieIdSrc=t.downloadLinksrc}onFormSubmit(){if(this.requestId?.length<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}if(this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.publicHelper.processService.processStop(t),this.dataModelResult=i,this.formInfo.formSubmitAllow=!0,i.isSuccess){this.dataModel=i.item;let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap()),this.dataModel.keyword=this.dataModel.keyword+"",this.keywordDataModel=this.dataModel.keyword.split(","),this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(R=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+h,R)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(R=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+h,R)})}else this.cmsToastrService.typeErrorGetOne(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(i),this.publicHelper.processService.processStop(t,!1)}})}DataSimilarGetAll(t){if(!t||t.length===0)return;this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_other_information_from_the_server").subscribe(m=>{this.publicHelper.processService.processStart(i,m,this.constructorInfoAreaId)});let e=new Wa;t.forEach(m=>{if(m>0){let h=new G;h.propertyName="Id",h.value=m,h.clauseType=He.Or,e.filters.push(h)}}),this.contentService.ServiceGetAll(e).subscribe({next:m=>{this.formInfo.formSubmitAllow=!0,m.isSuccess?(this.similarDataModel=m.listItems,this.similarTabledataSource.data=m.listItems):this.cmsToastrService.typeErrorGetAll(m.errorMessage),this.publicHelper.processService.processStop(i)},error:m=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(m),this.publicHelper.processService.processStop(i)}})}DataEditContent(){if(this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/estate/property-supplier"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i),this.publicHelper.processService.processStop(t)}})}onActionTagChange(t){this.tagIdsData=t}onActionContentSimilarSelect(t){!t||t.id.length<=0||(this.contentSimilarSelected=t)}onActionContentSimilarAddToLIst(){if(!(!this.contentSimilarSelected||this.contentSimilarSelected.id.length<=0)){if(this.similarDataModel.find(t=>t.id===this.contentSimilarSelected.id)){this.cmsToastrService.typeErrorAddDuplicate();return}this.similarDataModel.push(this.contentSimilarSelected),this.similarTabledataSource.data=this.similarDataModel}}onActionContentSimilarRemoveFromLIst(t){if(!t||t.id.length<=0||!this.similarDataModel||this.similarDataModel.length===0)return;let i=new Array;this.similarDataModel.forEach(e=>{e.id!==t.id&&i.push(e)}),this.similarDataModel=i,this.similarTabledataSource.data=this.similarDataModel}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property-supplier/"])}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=ss.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=ss.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorLocationWorkArea(t){this.dataModel.linkLocationIds=t}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(E(Ht),E(L),E(Qn),E(V),E(Qe),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-edit"]],viewQuery:function(i,e){if(i&1&&ie(RF,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:137,vars:153,consts:[["vform","ngForm"],["stepper",""],["PhoneNumber",""],["mobileNumber",""],["Address",""],["chipList",""],["tagInput",""],["LinkMainImageId",""],["LinkFilePodcastId",""],["LinkFileMovieId",""],["Title",""],["Description",""],["DescriptionHidden",""],["Source",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.phoneNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.phoneNumber","type","text","minlength","0","maxlength","64","id","dataModel.phoneNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.mobileNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobileNumber","type","text","minlength","3","maxlength","64","id","dataModel.mobileNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"pb-5"],["id","main","name","dataModel.body",3,"ngModelChange","placeholder","config","ngModel"],["class","ntk-button-row",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionModel"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["controls","",4,"ngIf"],["matInput","","type","text","name","dataModel.linkFilePodcastId","id","dataModel.linkFilePodcastId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],["matInput","","type","text","name","dataModel.linkFileMovieId","id","dataModel.linkFileMovieId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["for","dataModel.source",1,"color-highlight"],["matInput","","type","text","name","dataModel.source","type","text","dir","ltr","minlength","3","maxlength","500","id","dataModel.source",1,"form-control","validate-name",2,"text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["controls",""],["type","audio/mp3",3,"src"],["type","video/mp4",3,"src"]],template:function(i,e){if(i&1){let m=v();a(0,"div",14),S(1,"app-progress-spinner",15),a(2,"div",16)(3,"p",17),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",18,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"mat-vertical-stepper",19,1),M("selectionChange",function(c){f(m);let R=D(11);return _(e.onStepClick(c,R))}),a(12,"mat-step",20),g(13,"translate"),I(14,VF,1,5,"app-cms-enum-record-status-selector",21)(15,LF,1,5,"app-cms-enum-record-status-selector",21)(16,HF,10,8,"div",22)(17,NF,8,6,"div",22)(18,GF,8,7,"div",22),a(19,"app-cms-location-selector",23),g(20,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),d(21),g(22,"translate"),a(23,"app-cms-location-autocomplete",23),g(24,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocationWorkArea(c))}),l(),a(25,"div",24)(26,"label",25),d(27),l(),a(28,"input",26,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.phoneNumber,c)||(e.dataModel.phoneNumber=c),_(c)}),l(),a(30,"em"),d(31),l()(),a(32,"div",24)(33,"label",27),d(34),l(),a(35,"input",28,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.mobileNumber,c)||(e.dataModel.mobileNumber=c),_(c)}),l(),a(37,"em"),d(38),l()(),a(39,"div",24)(40,"label",29),d(41),l(),a(42,"textarea",30,4),x("ngModelChange",function(c){return f(m),T(e.dataModel.address,c)||(e.dataModel.address=c),_(c)}),l(),a(44,"em"),d(45),l(),I(46,UF,1,0,"i",31)(47,jF,1,0,"i",32)(48,qF,5,3,"mat-error",33),l(),S(49,"hr",34),a(50,"label"),d(51),l(),a(52,"angular-editor",35),g(53,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.body,c)||(e.dataModel.body=c),_(c)}),l(),I(54,zF,8,8,"div",36),l(),a(55,"mat-step",37),g(56,"translate"),a(57,"app-estate-property-supplier-category-treeselector",38),x("optionModelChange",function(c){return f(m),T(e.dataModel.linkEstatePropertySupplierCategoryIds,c)||(e.dataModel.linkEstatePropertySupplierCategoryIds=c),_(c)}),l(),S(58,"br"),I(59,YF,7,7,"div",36),l(),a(60,"mat-step",37),g(61,"translate"),a(62,"p"),d(63),g(64,"translate"),l(),I(65,KF,8,7,"div",22),a(66,"mat-form-field",39)(67,"mat-label"),d(68),g(69,"translate"),l(),a(70,"mat-chip-grid",40,5),I(72,ZF,5,1,"mat-chip",41),a(73,"input",42,6),g(75,"translate"),M("matChipInputTokenEnd",function(c){return f(m),_(e.addTag(c))}),l()()(),I(76,JF,7,7,"div",36),l(),a(77,"mat-step",43),g(78,"translate"),a(79,"p"),d(80),g(81,"translate"),l(),a(82,"div",44)(83,"a",45),g(84,"cmsthumbnail"),I(85,XF,2,3,"img",46),l()(),a(86,"div",24)(87,"label",47),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(88),g(89,"translate"),l(),a(90,"input",48,7),g(92,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(93,"cms-file-manager",49),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(94,$F,3,3,"p",33),a(95,"app-cms-files-selector",50),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(96,"br"),a(97,"div")(98,"p"),d(99),g(100,"translate"),l(),a(101,"app-cms-files-selector",51),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelFiles,c)||(e.dataFileModelFiles=c),_(c)}),l()(),a(102,"div",44),I(103,eO,4,3,"audio",52),l(),a(104,"div",24)(105,"input",53,8),g(107,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFilePodcastId,c)||(e.dataModel.linkFilePodcastId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormPodcast=!0)}),l(),a(108,"cms-file-manager",49),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFilePodcastId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormPodcast,c)||(e.fileManagerOpenFormPodcast=c),_(c)}),l()(),a(109,"div",44),I(110,tO,3,1,"video",52),l(),a(111,"div",24)(112,"input",54,9),g(114,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkFileMovieId,c)||(e.dataModel.linkFileMovieId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenFormMovie=!0)}),l(),a(115,"cms-file-manager",49),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkFileMovieId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenFormMovie,c)||(e.fileManagerOpenFormMovie=c),_(c)}),l()(),a(116,"h3"),d(117),g(118,"translate"),l(),a(119,"app-cms-360-image-list",55),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(120,"br"),a(121,"h3"),d(122),g(123,"translate"),l(),a(124,"app-cms-360-tour-list",56),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(125,iO,7,7,"div",36),l(),a(126,"mat-step",57),g(127,"translate"),a(128,"p"),d(129),g(130,"translate"),l(),a(131,"app-cms-map",58),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),I(132,oO,8,7,"div",36),l(),I(133,rO,2,0,"ng-template",59)(134,aO,2,0,"ng-template",60)(135,lO,2,0,"ng-template",61)(136,sO,2,0,"ng-template",62),l()()()()}if(i&2){let m=D(29),h=D(36),c=D(43),R=D(71);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,107,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(13,109,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.mainAdminRecordStatus==null?null:e.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(20,111,"TITLE.Region")),r(2),C(" ",y(22,113,"TITLE.Geographical_Areas")," : "),r(2),p("optionDisabled",!(e.fieldsInfo.linkLocationIds!=null&&e.fieldsInfo.linkLocationIds.accessEditField))("optionSelectForce",e.dataModel.linkLocationIds)("optionPlaceholder",y(24,115,"TITLE.Region")),r(4),b(e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.phoneNumber==null?null:e.fieldsInfo.phoneNumber.fieldTitle),w("ngModel",e.dataModel.phoneNumber),p("disabled",!(e.fieldsInfo.phoneNumber!=null&&e.fieldsInfo.phoneNumber.accessEditField)),r(3),C("",m.value.length," / 64"),r(3),b(e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.mobileNumber==null?null:e.fieldsInfo.mobileNumber.fieldTitle),w("ngModel",e.dataModel.mobileNumber),p("disabled",!(e.fieldsInfo.mobileNumber!=null&&e.fieldsInfo.mobileNumber.accessEditField)),r(3),C("",h.value.length," / 64"),r(3),b(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),A("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),w("ngModel",e.dataModel.address),p("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),r(3),C("",c.value.length," / 500"),r(),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),C(" ",e.fieldsInfo.body==null?null:e.fieldsInfo.body.fieldTitle," "),r(),p("placeholder",y(53,117,"TITLE.Enter_Text"))("config",e.publicHelper.editorConfig),w("ngModel",e.dataModel.body),r(2),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),A("label",y(56,119,"TITLE.Categories")),r(2),w("optionModel",e.dataModel.linkEstatePropertySupplierCategoryIds),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(61,121,"TITLE.Search_Engines")),r(3),b(y(64,123,"TITLE.This_section_helps_search_engines_better_index_content")),r(2),p("ngIf",e.fieldsInfo.source==null?null:e.fieldsInfo.source.accessWatchField),r(3),b(y(69,125,"TITLE.Choose_keywords_relative_to_the_content")),r(4),p("ngForOf",e.keywordDataModel),r(),p("placeholder",y(75,127,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",R)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(78,129,"TITLE.ATTACH_FILES")),r(3),b(y(81,131,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(84,133,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(89,135,"TITLE.Original_Photo")),r(2),A("placeholder",y(92,137,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(4),b(y(100,139,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",e.dataFileModelFiles),p("openDirectUploadView",!0),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFilePodcastIdSrc==null?null:e.dataModel.linkFilePodcastIdSrc.length)>0),r(2),A("placeholder",y(107,141,"TITLE.Audio_File_ID")),w("ngModel",e.dataModel.linkFilePodcastId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormPodcast),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypePodcast)("openFilemanagerButtonView",!1),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkFileMovieIdSrc==null?null:e.dataModel.linkFileMovieIdSrc.length)>0),r(2),A("placeholder",y(114,143,"TITLE.Video_File_ID")),w("ngModel",e.dataModel.linkFileMovieId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenFormMovie),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMovie)("openFilemanagerButtonView",!1),r(2),b(y(118,145,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(123,147,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),Et("label","",y(127,149,"TITLE.Location")," "),r(3),b(y(130,151,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll)}},dependencies:[We,N,Ae,te,z,ve,be,ke,we,X,xe,li,ki,Di,Ri,Pi,Bt,ci,Re,se,$,ji,qi,cn,pn,Ui,bi,Nt,qt,Sn,In,si,j,Hi,Oi,Po,$e,xl,U,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let o=s;return o})();var dO=["vform"];function cO(o,s){if(o&1){let n=v();P(0),a(1,"div",8)(2,"label",9),d(3),l(),a(4,"input",10,0),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.title,i)||(e.dataModelResultContent.item.title=i),_(i)}),l()(),a(6,"div",8)(7,"label",11),d(8),l(),a(9,"textarea",12,1),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.description,i)||(e.dataModelResultContent.item.description=i),_(i)}),l()(),k()}if(o&2){let n=u();r(3),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),r(),A("placeholder",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),w("ngModel",n.dataModelResultContent.item.title),r(4),b(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),w("ngModel",n.dataModelResultContent.item.description)}}function pO(o,s){if(o&1){let n=v();a(0,"div",13)(1,"button",14),M("click",function(){f(n);let i=u();return _(i.onFormDelete())}),S(2,"i",15),d(3),g(4,"translate"),l(),a(5,"button",16),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(6,"i",17),d(7),g(8,"translate"),l()()}if(o&2){let n=u();r(),p("disabled",!n.formInfo.buttonSubmittedEnabled),r(2),C(" ",y(4,3,"ACTION.DELETE")," "),r(4),C(" ",y(8,5,"ACTION.CANCEL")," ")}}var Wc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.data=t,this.dialogRef=i,this.publicHelper=e,this.contentService=m,this.cdr=h,this.cmsToastrService=c,this.translate=R,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new Q,this.formInfo=new me,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let t=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResultContent=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,i.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(L),E(Qn),E(H),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-delete"]],viewQuery:function(i,e){if(i&1&&ie(dO,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),I(8,cO,11,6,"ng-container",6)(9,pO,9,7,"div",7),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,te,z,be,ke,we,X,$,j,U],encapsulation:2});let o=s;return o})();var mO=["vform"],uO=()=>["fa"];function fO(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function _O(o,s){o&1&&S(0,"i",29)}function hO(o,s){o&1&&S(0,"i",30)}function gO(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function yO(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,uO))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function CO(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function SO(o,s){o&1&&S(0,"i",29)}function IO(o,s){o&1&&S(0,"i",30)}function MO(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function EO(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Nc=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B){super(m,new fr,c,B),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertySupplierCategoryService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Q,this.dataModel=new fr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Xo),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-category-add"]],viewQuery:function(i,e){if(i&1&&ie(mO,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:47,vars:44,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,fO,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(22,"div",15)(23,"label",19),d(24),l(),a(25,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(27,_O,1,0,"i",21)(28,hO,1,0,"i",22),a(29,"em"),d(30),l(),I(31,gO,5,3,"mat-error",23),l(),I(32,yO,7,9,"div",24)(33,CO,11,10,"div",24),a(34,"div",15)(35,"label",25),d(36),g(37,"translate"),l(),a(38,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"        "),l(),a(41,"em"),d(42),l(),I(43,SO,1,0,"i",21)(44,IO,1,0,"i",22)(45,MO,5,3,"mat-error",23),l(),I(46,EO,9,7,"div",27),l()()()}if(i&2){let m=D(26),h=D(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,36,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,38,"TITLE.PICTURE")),r(2),A("placeholder",y(20,40,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(y(37,42,"TITLE.General_Description")),r(2),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",!h.value),r(),p("ngIf",h.value),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var vO=["vform"],bO=()=>["fa"];function wO(o,s){if(o&1&&(S(0,"img",28),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function TO(o,s){o&1&&S(0,"i",29)}function xO(o,s){o&1&&S(0,"i",30)}function AO(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),b(y(4,2,"MESSAGE.required"))}}function PO(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,bO))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function kO(o,s){if(o&1){let n=v();a(0,"div",15)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function DO(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function RO(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var Gc=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q){super(m,new fr,R,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertySupplierCategoryService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.translate=q,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new fr,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeUsageIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.setAccessLoad(),this.estatePropertySupplierCategoryService.setAccessDataType(Be.Editor),this.estatePropertySupplierCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkPropertySupplierCategoryId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeUsageId)}),this.dataEstatePropertyTypeUsageIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertySupplierCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeUsageModel=t}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(Xo),E($i),E(V),E(L),E(H),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-category-edit"]],viewQuery:function(i,e){if(i&1&&ie(vO,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:45,vars:41,consts:[["vform","ngForm"],["LinkMainImageId",""],["Title",""],["Description",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"a",13),g(12,"cmsthumbnail"),I(13,wO,2,3,"img",14),l()(),a(14,"div",15)(15,"label",16),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(16),g(17,"translate"),l(),a(18,"input",17,1),g(20,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(21,"cms-file-manager",18),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(22,"div",15)(23,"label",19),d(24),l(),a(25,"input",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(27,TO,1,0,"i",21)(28,xO,1,0,"i",22),a(29,"em"),d(30),l(),I(31,AO,5,4,"mat-error",23),l(),I(32,PO,7,9,"div",24)(33,kO,11,10,"div",24),a(34,"div",15)(35,"label",25),d(36),g(37,"translate"),l(),a(38,"textarea",26,3),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(40,"        "),l(),a(41,"em"),d(42),l(),I(43,DO,5,3,"mat-error",23),l(),I(44,RO,9,7,"div",27),l()()()}if(i&2){let m=D(26),h=D(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),A("href",y(12,33,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(17,35,"TITLE.PICTURE")),r(2),A("placeholder",y(20,37,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(y(37,39,"TITLE.General_Description")),r(2),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function VO(o,s){if(o&1){let n=v();a(0,"button",13),M("click",function(){f(n);let i=u();return _(i.onActionAdd())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.ADD")))}function LO(o,s){if(o&1){let n=v();a(0,"button",14),M("click",function(){f(n);let i=u();return _(i.onActionEdit())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.EDIT")))}function FO(o,s){if(o&1){let n=v();a(0,"button",15),M("click",function(){f(n);let i=u();return _(i.onActionDelete())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.DELETE")))}function OO(o,s){if(o&1){let n=v();a(0,"button",16),M("click",function(){f(n);let i=u();return _(i.onActionButtonReload())}),a(1,"mat-icon",17),g(2,"translate"),d(3,"refresh"),l()()}o&2&&(r(),A("title",y(2,1,"ACTION.RELOAD")))}function BO(o,s){if(o&1){let n=v();a(0,"mat-tree-node",18),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),S(1,"button",19)(2,"i",20),d(3),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&(i.dataModelSelect==null?null:i.dataModelSelect.id)===n.id),r(2),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," ")}}function HO(o,s){if(o&1){let n=v();a(0,"mat-nested-tree-node")(1,"li")(2,"div",21),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(3,"button",22),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),a(4,"mat-icon",23),d(5),l()(),S(6,"i",20),d(7),l(),a(8,"ul"),qe(9,24),l()()()}if(o&2){let n=s.$implicit,t=u();r(2),Me("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&(t.dataModelSelect==null?null:t.dataModelSelect.id)===n.id),r(),ht("aria-label","Toggle "+n.title),r(2),C(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(),C(" \xA0\xA0\xA0\xA0 ",n.title," "),r(),Me("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Uc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R,B,q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.cmsConfirmationDialogService=m,this.dialog=h,this.cdr=c,this.publicHelper=R,this.translate=B,this.tokenHelper=q,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new fr,this.dataModelResult=new Q,this.filterModel=new pe,this.treeControl=new So(re=>null),this.dataSource=new xo,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(re,Ee)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new fr,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Nc,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gc,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect.id&&this.dataModelSelect.id.length>0&&(t=this.dataModelSelect.id),t===""){let m=this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected");this.cmsToastrService.typeErrorSelected(m);return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.dataModelSelect.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.dataModelSelect.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}};s.\u0275fac=function(i){return new(i||s)(E(V),E(ee),E(Xo),E(Ye),E(De),E(H),E(L),E(O),E(Y))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","type","button","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","type","button","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),P(1,1),d(2),g(3,"translate"),k(),P(4,2),I(5,VO,3,3,"button",3)(6,LO,3,3,"button",4)(7,FO,3,3,"button",5)(8,OO,4,3,"button",6),k(),P(9,7),S(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,BO,4,10,"mat-tree-node",10)(13,HO,10,10,"mat-nested-tree-node",11),l(),k(),qe(14,12),l()),i&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",y(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&e.dataModelSelect.id&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[ce,N,ze,se,Eo,Mo,vo,To,wo,Io,bo,j,Bi,U]});let o=s;return o})();var NO=()=>["expandedTitle"],GO=()=>["expandedDetail"],UO=()=>[5,10,20,100],jc=o=>({display:o});function jO(o,s){if(o&1&&S(0,"app-estate-property-project-header",55),o&2){let n=u();p("optionId",n.requestLinkProjectId)}}function qO(o,s){if(o&1){let n=v();a(0,"a",19)(1,"mat-slide-toggle",56),M("click",function(){f(n);let i=u();return _(i.onActionButtonWithHierarchy())}),l(),d(2),g(3,"translate"),l()}o&2&&(r(2),C("",y(3,1,"ACTION.BATCHVIEW")," "))}function QO(o,s){if(o&1){let n=v();a(0,"div",25)(1,"a",57),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",58)(3,"br"),l(),a(4,"p",27),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function zO(o,s){if(o&1){let n=v();a(0,"div",25)(1,"a",59),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",60)(3,"br"),l(),a(4,"p",27),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function YO(o,s){if(o&1){let n=v();a(0,"div",25)(1,"a",61),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",62)(3,"br"),l(),a(4,"p",27),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function KO(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function ZO(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",63),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",64),l()()}}function JO(o,s){o&1&&(a(0,"mat-header-cell",65),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function XO(o,s){if(o&1&&(S(0,"img",67),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function $O(o,s){if(o&1&&(a(0,"mat-cell"),I(1,XO,2,3,"img",66),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function eB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function tB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function iB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function nB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function oB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function rB(o,s){if(o&1&&S(0,"select",70),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,jc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function aB(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",68),g(2,"statusIconClass"),I(3,rB,1,5,"select",69),l()),o&2){let n=s.$implicit,t=u();r(),p("ngClass",y(2,2,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function lB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function sB(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",68),g(2,"statusIconClass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.mainAdminRecordStatus))}}function dB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function cB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function pB(o,s){if(o&1&&(a(0,"mat-header-cell",65),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function mB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function uB(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function fB(o,s){if(o&1&&(a(0,"mat-cell",71)(1,"button",72)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function _B(o,s){o&1&&(a(0,"mat-header-cell",73),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function hB(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",74),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",75),d(3,"\u2197"),l()()()}}function gB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),S(2,"br"),d(3),g(4,"translate"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",n.title," "),r(2),fe(" ",y(4,3,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function yB(o,s){if(o&1&&(S(0,"img",80),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function CB(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle," : ",t.publicHelper.LocaleDate(n.updatedDate),"")}}function SB(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,yB,2,3,"img",76),l(),a(6,"th")(7,"span",77),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",78),l(),d(9),l()(),I(10,CB,4,2,"tr",79),a(11,"tr"),S(12,"td"),a(13,"td"),d(14),l()(),a(15,"tr"),S(16,"td"),a(17,"td"),d(18),l()(),a(19,"tr"),S(20,"td")(21,"td"),l()()()()}if(o&2){let n=s.$implicit;r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(),p("ngIf",n.updatedDate),r(4),C(" ",n.title," "),r(4),C(" ",n.description," ")}}function IB(o,s){o&1&&S(0,"mat-header-row")}function MB(o,s){if(o&1){let n=v();a(0,"mat-row",81),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function EB(o,s){if(o&1){let n=v();a(0,"mat-row",81),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function vB(o,s){if(o&1){let n=v();a(0,"mat-row",82),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,jc,n.expanded===!0?"":"none"))}}var cs=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){if(super(t,new uo,q,h,R),this.contentService=t,this.cmsToastrService=i,this.activatedRoute=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.requestLinkProjectId="",this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.GetAllWithHierarchyCategoryId=!1,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.requestLinkProjectId=this.activatedRoute.snapshot.paramMap.get("LinkProjectId"),this.requestLinkProjectId&&this.requestLinkProjectId.length>0){let Ee=new G;Ee.propertyName="linkPropertyProjectId",Ee.value=this.requestLinkProjectId,this.filteModelContent.filters.push(Ee)}this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new uo);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="linkEstatePropertySupplierCategoryIds",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey?(this.link="/#/estate/property-supplier/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/add"])}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-supplier/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-supplier/edit",this.tableRowSelected.id])}onActionButtonProperty(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkSupplierId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkSupplierId",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Wc,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(Qn),E(V),E(Ht),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-supplier-list"]],features:[le],decls:91,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","target","_blank",4,"ngIf"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],[3,"click"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","type","button","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();I(0,jO,1,1,"app-estate-property-project-header",3),a(1,"app-cms-html-list",4),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(2,5),a(3,"app-estate-property-supplier-category-tree",6),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelect(c))}),l(),k(),qe(4,7)(5,8),P(6,9),a(7,"a",10),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(8,"i",11),l(),a(9,"a",10),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(10,"i",12),l(),a(11,"a",13),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(12,"i",14),l(),a(13,"a",13),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(14,"i",15),l(),k(),P(15,16),a(16,"a",17),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(17,"mat-slide-toggle",18),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(18),g(19,"translate"),l(),a(20,"a",19)(21,"mat-slide-toggle",20),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(22),g(23,"translate"),l(),I(24,qO,4,3,"a",21),k(),P(25,22),I(26,QO,7,3,"div",23),k(),P(27,24),I(28,zO,7,3,"div",23)(29,YO,7,3,"div",23),a(30,"div",25)(31,"a",13),M("click",function(c){return f(m),_(e.onActionButtonProperty(e.tableRowSelected,c))}),S(32,"i",26)(33,"br"),l(),a(34,"p",27),d(35),g(36,"translate"),l()(),a(37,"div",25)(38,"a",10),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(39,"i",28)(40,"br"),l(),a(41,"p",27),d(42),g(43,"translate"),l()(),k(),P(44,29),a(45,"app-cms-search-list",30),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(46,"app-cms-statist-list",30),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(47,31),a(48,"mat-table",32,0),M("matSortChange",function(){f(m);let c=D(49);return _(e.onTableSortData(c))}),P(50,33),I(51,KO,3,3,"mat-header-cell",34)(52,ZO,3,0,"mat-cell",35),k(),P(53,36),I(54,JO,3,3,"mat-header-cell",37)(55,$O,2,1,"mat-cell",35),k(),P(56,38),I(57,eB,2,1,"mat-header-cell",37)(58,tB,2,1,"mat-cell",35),k(),P(59,39),I(60,iB,2,1,"mat-header-cell",37)(61,nB,4,5,"mat-cell",35),k(),P(62,40),I(63,oB,2,1,"mat-header-cell",37)(64,aB,4,4,"mat-cell",35),k(),P(65,41),I(66,lB,2,1,"mat-header-cell",37)(67,sB,3,3,"mat-cell",35),k(),P(68,42),I(69,dB,2,1,"mat-header-cell",37)(70,cB,2,1,"mat-cell",35),k(),P(71,43),I(72,pB,2,1,"mat-header-cell",37)(73,mB,2,1,"mat-cell",35),k(),P(74,44),I(75,uB,3,3,"mat-header-cell",34)(76,fB,6,1,"mat-cell",45),k(),P(77,46),I(78,_B,3,3,"mat-header-cell",47)(79,hB,4,0,"mat-cell",35),k(),P(80,48),I(81,gB,5,5,"mat-cell",35),k(),P(82,49),I(83,SB,22,6,"mat-cell",35),k(),I(84,IB,1,0,"mat-header-row",50)(85,MB,1,6,"mat-row",51)(86,EB,1,6,"mat-row",51)(87,vB,1,9,"mat-row",52),l(),k(),P(88,53),a(89,"mat-paginator",54,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("ngIf",(e.requestLinkProjectId==null?null:e.requestLinkProjectId.length)>0),r(),p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertysupplier.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(16),w("ngModel",e.optionsSearch.data.show),r(),C("",y(19,30,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(23,32,"ACTION.STATIST")," "),r(2),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(36,34,"ACTION.PROPERTY")),r(7),b(y(43,36,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(38,NO)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(39,GO)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(40,UO)))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,ra,Uc,Ue,U,An,Se,ri],encapsulation:2});let o=s;return o})();var bB=()=>[5,10,20,100];function wB(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",42),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",43)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function TB(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",44),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",45)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function xB(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",46),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",47)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function AB(o,s){o&1&&(a(0,"mat-header-cell",48),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function PB(o,s){if(o&1&&(S(0,"img",50),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function kB(o,s){if(o&1&&(a(0,"mat-cell"),I(1,PB,2,3,"img",49),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function DB(o,s){if(o&1&&(a(0,"mat-header-cell",48),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function RB(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",51),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function VB(o,s){if(o&1&&(a(0,"mat-header-cell",48),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function LB(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",51),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function FB(o,s){if(o&1&&(a(0,"mat-header-cell",48),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function OB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function BB(o,s){if(o&1&&(a(0,"mat-header-cell",48),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function HB(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function WB(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function NB(o,s){if(o&1&&(a(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function GB(o,s){o&1&&S(0,"mat-header-row")}function UB(o,s){if(o&1){let n=v();a(0,"mat-row",54),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qc=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new Vt,q,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.router=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=ae.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ol,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rl,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonContentDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property-detail/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonContentList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property/LinkPropertyTypeLanduseId/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(ui),E(Ye),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-list"]],features:[le],decls:67,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-buildings","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5)(4,6),P(5,7),a(6,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(7,"i",9),l(),a(8,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(9,"i",10),l(),k(),P(10,11),a(11,"a",12),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(13),g(14,"translate"),l(),a(15,"a",14)(16,"mat-slide-toggle",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(17),g(18,"translate"),l(),k(),P(19,16),I(20,wB,7,3,"div",17),k(),P(21,18),I(22,TB,7,3,"div",17)(23,xB,7,3,"div",17),a(24,"div",19)(25,"a",20),M("click",function(){return f(m),_(e.onActionButtonContentDetailList(e.tableRowSelected))}),S(26,"i",21)(27,"br"),l(),a(28,"p",22),d(29),g(30,"translate"),l()(),a(31,"div",19)(32,"a",20),M("click",function(){return f(m),_(e.onActionButtonContentList(e.tableRowSelected))}),S(33,"i",23)(34,"br"),l(),a(35,"p",22),d(36),g(37,"translate"),l()(),k(),P(38,24),a(39,"app-cms-search-list",25),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(40,"app-cms-statist-list",25),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(41,26),a(42,"mat-table",27,0),M("matSortChange",function(){f(m);let c=D(43);return _(e.onTableSortData(c))}),P(44,28),I(45,AB,3,3,"mat-header-cell",29)(46,kB,2,1,"mat-cell",30),k(),P(47,31),I(48,DB,2,1,"mat-header-cell",29)(49,RB,2,3,"mat-cell",30),k(),P(50,32),I(51,VB,2,1,"mat-header-cell",29)(52,LB,2,3,"mat-cell",30),k(),P(53,33),I(54,FB,2,1,"mat-header-cell",29)(55,OB,2,1,"mat-cell",30),k(),P(56,34),I(57,BB,2,1,"mat-header-cell",29)(58,HB,2,1,"mat-cell",30),k(),P(59,35),I(60,WB,3,3,"mat-header-cell",36)(61,NB,6,1,"mat-cell",37),k(),I(62,GB,1,0,"mat-header-row",38)(63,UB,1,6,"mat-row",39),l(),k(),P(64,40),a(65,"mat-paginator",41,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),w("ngModel",e.optionsSearch.data.show),r(),C("",y(14,25,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(18,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,29,"ACTION.DETAIL")),r(7),b(y(37,31,"ACTION.PROPERTYLIST")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(20),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(33,bB)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se],encapsulation:2});let o=s;return o})();var jB=["vform"],qB=o=>({direction:o}),QB=()=>["fa"];function zB(o,s){o&1&&S(0,"i",28)}function YB(o,s){o&1&&S(0,"i",29)}function KB(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function ZB(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",30),d(2),l(),a(3,"input",31,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",32),S(6,"i",33),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,QB))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessAddField)),r(3),p("ngClass",n.dataModel.iconFont)}}function JB(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",34),d(2),l(),a(3,"div",35)(4,"div",36)(5,"input",37,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",38),S(8,"ngx-ntk-mat-color-toggle",39)(9,"ngx-ntk-mat-color-picker",40,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessAddField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function XB(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function $B(o,s){if(o&1&&(S(0,"img",41),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function e9(o,s){if(o&1){let n=v();a(0,"div",42)(1,"button",43),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",44),d(3),g(4,"translate"),l(),a(5,"button",45),S(6,"i",46),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var ps=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q){super(m,new gn,c,q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyTypeUsageService=m,this.cmsToastrService=h,this.publicHelper=c,this.cdr=R,this.tokenHelper=B,this.translate=q,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.tokenInfo=new Pt,this.dataModelResult=new Q,this.dataModel=new gn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(re=>{this.tokenInfo=re})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataAddContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(ln),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-add"]],viewQuery:function(i,e){if(i&1&&ie(jB,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:44,vars:42,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,zB,1,0,"i",15)(16,YB,1,0,"i",16),a(17,"em"),d(18),l(),I(19,KB,5,3,"mat-error",17),l(),I(20,ZB,7,9,"div",18)(21,JB,11,10,"div",18),a(22,"div",12)(23,"label",19),d(24),l(),a(25,"textarea",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(27,"          "),l(),a(28,"em"),d(29),l(),I(30,XB,5,3,"mat-error",17),l(),a(31,"div",21)(32,"a",22),g(33,"cmsthumbnail"),I(34,$B,2,3,"img",23),l()(),a(35,"div",12)(36,"label",24),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(37),g(38,"translate"),l(),a(39,"input",25,3),g(41,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(42,"cms-file-manager",26),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),I(43,e9,9,7,"div",27),l()()()}if(i&2){let m=D(14),h=D(26);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(40,qB,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(2),A("href",y(33,34,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(38,36,"TITLE.PICTURE")),r(2),A("placeholder",y(41,38,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0)("openDirectUploadView",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();function t9(o,s){if(o&1){let n=v();a(0,"li")(1,"mat-checkbox",1),M("change",function(){let i=f(n).$implicit,e=u();return _(e.onActionSelect(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u();r(),p("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),C(" ",n.titleML," ")}}var Qc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=m,this.tokenHelper=h,this.translate=c,this.cmsToastrService=R,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new gt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new et,this.optionSelectAdded=new et,this.optionSelectRemoved=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){let t=new pe;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(m=>this.fieldsStatus.set(m.id,!1)),this.dataIdsSelect.forEach(m=>this.fieldsStatus.set(m,!0)),this.dataModelResult.listItems.forEach(m=>{this.fieldsStatus.get(m.id)&&this.dataModelSelect.push(m)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(String)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(Vt)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(E(ee),E(ui),E(H),E(L),E(Y),E(O),E(V))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-landuse-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(a(0,"ul"),I(1,t9,3,3,"li",0),l()),i&2&&(r(),p("ngForOf",e.dataModelResult.listItems))},dependencies:[We,ea],encapsulation:2});let o=s;return o})();var n9=["vform"],o9=o=>({direction:o}),r9=()=>["fa"];function a9(o,s){o&1&&S(0,"i",29)}function l9(o,s){o&1&&S(0,"i",30)}function s9(o,s){o&1&&(a(0,"mat-error"),d(1," Title is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function d9(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",31),d(2),l(),a(3,"input",32,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconFont,i)||(e.dataModel.iconFont=i),_(i)}),M("iconPickerSelect",function(i){f(n);let e=u();return _(e.onIconPickerSelect(i))}),l(),a(5,"span",33),S(6,"i",34),l()()}if(o&2){let n=u();r(2),b(n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),r(),A("placeholder",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle),w("ngModel",n.dataModel.iconFont),p("iconPicker",n.dataModel.iconFont)("ipIconPack",Ce(8,r9))("ipPosition","top")("disabled",!(n.fieldsInfo.iconFont!=null&&n.fieldsInfo.iconFont.accessEditField)),r(3),p("ngClass",n.dataModel.iconFont)}}function c9(o,s){if(o&1){let n=v();a(0,"div",12)(1,"label",35),d(2),l(),a(3,"div",36)(4,"div",37)(5,"input",38,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.iconColor,i)||(e.dataModel.iconColor=i),_(i)}),l()(),a(7,"div",39),S(8,"ngx-ntk-mat-color-toggle",40)(9,"ngx-ntk-mat-color-picker",41,6),l()()()}if(o&2){let n=D(10),t=u();r(2),b(t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),r(3),_e("background",t.dataModel.iconColor),A("placeholder",t.fieldsInfo.iconColor==null?null:t.fieldsInfo.iconColor.fieldTitle),w("ngModel",t.dataModel.iconColor),p("ngxMatColorPicker",n)("disabled",!(t.fieldsInfo.iconColor!=null&&t.fieldsInfo.iconColor.accessEditField)),r(3),p("for",n),r(),p("touchUi",!0)("color","primary")}}function p9(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function m9(o,s){if(o&1&&(S(0,"img",42),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function u9(o,s){if(o&1){let n=v();a(0,"div",43)(1,"button",44),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",45),d(3),g(4,"translate"),l(),a(5,"button",46),S(6,"i",47),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.SAVE")," ")}}var ms=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re){super(m,new gn,R,re),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.estatePropertyTypeUsageService=m,this.estatePropertyTypeService=h,this.cmsToastrService=c,this.publicHelper=R,this.cdr=B,this.tokenHelper=q,this.translate=re,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new vt,this.dataModel=new gn,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataEstatePropertyTypeLandUseIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Ee=>{this.tokenInfo=Ee})}ngOnInit(){if(this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.DataGetAllEstatePropertyUsage()}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.setAccessLoad(),this.estatePropertyTypeUsageService.setAccessDataType(Be.Editor),this.estatePropertyTypeUsageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.iconColor=this.dataModel.iconColor?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeUsageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllEstatePropertyUsage(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(t,m,this.constructorInfoAreaId)});let i=new pe,e=new G;e.propertyName="LinkPropertyTypeUsageId",e.value=this.requestId,i.filters.push(e),this.estatePropertyTypeService.ServiceGetAll(i).subscribe({next:m=>{this.dataEstatePropertyTypeModel=m.listItems;let h=[];this.dataEstatePropertyTypeModel.forEach(c=>{h.push(c.linkPropertyTypeLanduseId)}),this.dataEstatePropertyTypeLandUseIds=h,m.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=m.errorMessage,this.cmsToastrService.typeErrorMessage(m.errorMessage)),this.publicHelper.processService.processStop(t)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataEstatePropertyTypeLanduseModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new Er;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new Er;i.linkPropertyTypeUsageId=this.dataModel.id,i.linkPropertyTypeLanduseId=t.id,this.estatePropertyTypeService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.iconFont=t}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(ee),E(ln),E($i),E(V),E(L),E(H),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-type-usage-edit"]],viewQuery:function(i,e){if(i&1&&ie(n9,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},features:[le],decls:45,vars:44,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],["IconFont",""],["iconColor",""],["iconColorPicker",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["type","text","name","dataModel.title","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.iconFont",1,"color-highlight"],["matInput","","type","text","name","dataModel.iconFont","type","text","id","dataModel.iconFont",1,"form-control","validate-name",3,"ngModelChange","iconPickerSelect","ngModel","iconPicker","ipIconPack","ipPosition","placeholder","disabled"],[1,"input-group-addon"],[3,"ngClass"],["for","dataModel.iconColor",1,"color-highlight"],[1,"row","mb-0"],[1,"col-11","pe-0"],["matInput","","type","text","name","dataModel.iconColor","type","text","id","dataModel.iconColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[1,"col-1","ps-0"],["matSuffix","",3,"for"],[3,"touchUi","color"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",7),S(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",11,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",12)(11,"label",13),d(12),l(),a(13,"input",14,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),_(c)}),l(),I(15,a9,1,0,"i",15)(16,l9,1,0,"i",16),a(17,"em"),d(18),l(),I(19,s9,5,3,"mat-error",17),l(),I(20,d9,7,9,"div",18)(21,c9,11,10,"div",18),a(22,"div",12)(23,"label",19),d(24),l(),a(25,"textarea",20,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(27,"        "),l(),a(28,"em"),d(29),l(),I(30,p9,5,3,"mat-error",17),l(),a(31,"div",21)(32,"a",22),g(33,"cmsthumbnail"),I(34,m9,2,3,"img",23),l()(),a(35,"div",12)(36,"label",24),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(37),g(38,"translate"),l(),a(39,"input",25,3),g(41,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(42,"cms-file-manager",26),M("itemSelected",function(c){return f(m),_(e.onActionFileSelected(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),a(43,"app-estate-property-type-landuse-selectionlist",27),M("optionChange",function(c){return f(m),_(e.onActionSelectorUserCategorySelect(c))})("optionSelectAdded",function(c){return f(m),_(e.onActionSelectorUserCategorySelectAdded(c))})("optionSelectRemoved",function(c){return f(m),_(e.onActionSelectorUserCategorySelectRemoved(c))}),l(),I(44,u9,9,7,"div",28),l()()()}if(i&2){let m=D(14),h=D(26);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngStyle",Je(42,o9,e.tokenInfo.direction)),r(4),b(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.iconFont==null?null:e.fieldsInfo.iconFont.accessWatchField),r(),p("ngIf",e.fieldsInfo.iconColor==null?null:e.fieldsInfo.iconColor.accessWatchField),r(3),b(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(4),C("",h.value.length," / 500"),r(),p("ngIf",h.errors==null?null:h.errors.required),r(2),A("href",y(33,36,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(38,38,"TITLE.PICTURE")),r(2),A("placeholder",y(41,40,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),p("optionSelectForce",e.dataEstatePropertyTypeLandUseIds)("optionDisabled",!1),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[ce,N,mt,Ae,te,z,ve,be,ke,we,X,xe,Re,Oe,$,j,Qt,jt,Ut,Gt,$e,Qc,U,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var f9=()=>[5,10,20,100];function _9(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",41),M("click",function(){f(n);let i=u();return _(i.onActionButtonNewRow())}),S(2,"i",42)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function h9(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",43),M("click",function(){f(n);let i=u();return _(i.onActionButtonEditRow(i.tableRowSelected))}),S(2,"i",44)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function g9(o,s){if(o&1){let n=v();a(0,"div",19)(1,"a",45),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",46)(3,"br"),l(),a(4,"p",22),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function y9(o,s){o&1&&(a(0,"mat-header-cell",47),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function C9(o,s){if(o&1&&(S(0,"img",49),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function S9(o,s){if(o&1&&(a(0,"mat-cell"),I(1,C9,2,3,"img",48),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function I9(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.iconFont==null?null:n.fieldsInfo.iconFont.fieldTitle," ")}}function M9(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",50),l()),o&2){let n=s.$implicit;r(),_e("color",n.iconColor),p("ngClass",n.iconFont)}}function E9(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function v9(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function b9(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function w9(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function T9(o,s){if(o&1&&(a(0,"mat-header-cell",47),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," ")}}function x9(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.description," ")}}function A9(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function P9(o,s){if(o&1&&(a(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function k9(o,s){o&1&&S(0,"mat-header-row")}function D9(o,s){if(o&1){let n=v();a(0,"mat-row",53),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zc=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q,re){super(t,new gn,q,h,R),this.contentService=t,this.cmsConfirmationDialogService=i,this.router=e,this.cmsToastrService=m,this.tokenHelper=h,this.cdr=c,this.translate=R,this.pageInfo=B,this.publicHelper=q,this.dialog=re,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new pe,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","IconFont","Description"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","IconFont","Description"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ee=>this.onSubmitOptionsSearch(Ee)},this.filteModelContent.sortColumn="Title",this.filteModelContent.sortType=ae.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new gn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ps,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ms,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(h,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),h=new G;h.propertyName="RecordStatus",h.value=Ge.Available,m.filters.push(h),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonContentDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/estate/property/LinkPropertyTypeUsageId/",this.tableRowSelected.id])}};s.\u0275fac=function(i){return new(i||s)(E(ln),E(Ye),E(Qe),E(V),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-hstate-propertytypeusage-list"]],features:[le],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","IconFont"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","Description"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["aria-hidden","true",3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),P(1,4),d(2," -------------------------------------- "),k(),qe(3,5),P(4,6),a(5,"a",7),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(6,"mat-slide-toggle",8),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(7),g(8,"translate"),l(),a(9,"a",9)(10,"mat-slide-toggle",10),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(11),g(12,"translate"),l(),k(),P(13,11),a(14,"a",12),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(15,"i",13),l(),a(16,"a",12),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(17,"i",14),l(),k(),qe(18,15),P(19,16),I(20,_9,7,3,"div",17),k(),P(21,18),I(22,h9,7,3,"div",17)(23,g9,7,3,"div",17),a(24,"div",19)(25,"a",20),M("click",function(){return f(m),_(e.onActionButtonContentDetailList(e.tableRowSelected))}),S(26,"i",21)(27,"br"),l(),a(28,"p",22),d(29),g(30,"translate"),l()(),k(),P(31,23),a(32,"app-cms-search-list",24),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(33,"app-cms-statist-list",24),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(34,25),a(35,"mat-table",26,0),M("matSortChange",function(){f(m);let c=D(36);return _(e.onTableSortData(c))}),P(37,27),I(38,y9,3,3,"mat-header-cell",28)(39,S9,2,1,"mat-cell",29),k(),P(40,30),I(41,I9,2,1,"mat-header-cell",28)(42,M9,2,3,"mat-cell",29),k(),P(43,31),I(44,E9,2,1,"mat-header-cell",28)(45,v9,2,1,"mat-cell",29),k(),P(46,32),I(47,b9,2,1,"mat-header-cell",28)(48,w9,2,1,"mat-cell",29),k(),P(49,33),I(50,T9,2,1,"mat-header-cell",28)(51,x9,2,1,"mat-cell",29),k(),P(52,34),I(53,A9,3,3,"mat-header-cell",35)(54,P9,6,1,"mat-cell",36),k(),I(55,k9,1,0,"mat-header-row",37)(56,D9,1,6,"mat-row",38),l(),k(),P(57,39),a(58,"mat-paginator",40,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),w("ngModel",e.optionsSearch.data.show),r(),C("",y(8,24,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(12,26,"ACTION.STATIST")," "),r(9),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(30,28,"ACTION.DETAIL")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(20),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,f9)))},dependencies:[ce,N,z,X,ze,se,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,St,It,Ct,U,Se],encapsulation:2});let o=s;return o})();var fs=Jn(eo());var R9=["vform"];function V9(o,s){if(o&1){let n=v();a(0,"div")(1,"div",8),S(2,"br"),a(3,"mat-slide-toggle",22),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionSendSmsToAreaEstateAgency,i)||(e.dataModel.actionSendSmsToAreaEstateAgency=i),_(i)}),d(4),g(5,"translate"),l()(),a(6,"div",8),S(7,"br"),a(8,"mat-slide-toggle",23),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionSendSmsToAreaEstateAgent,i)||(e.dataModel.actionSendSmsToAreaEstateAgent=i),_(i)}),d(9),g(10,"translate"),l()()()}if(o&2){let n=u();r(3),w("ngModel",n.dataModel.actionSendSmsToAreaEstateAgency),r(),C(" ",y(5,4,"ACTION.SEND_TO_NEAR_AGENCY")," "),r(4),w("ngModel",n.dataModel.actionSendSmsToAreaEstateAgent),r(),C(" ",y(10,6,"ACTION.SEND_TO_NEAR_EMPLOYE_AGENCY")," ")}}function L9(o,s){if(o&1){let n=v();a(0,"div",17)(1,"button",24),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(2,"i",25),d(3),g(4,"translate"),l(),a(5,"button",26),S(6,"i",27),d(7),g(8,"translate"),l()()}if(o&2){u();let n=D(9);r(3),C(" ",y(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),C(" ",y(8,5,"ACTION.Send_Message")," ")}}var Ca=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.data=t,this.dialogRef=i,this.service=e,this.publicHelper=m,this.translate=h,this.cmsToastrService=c,this.cdr=R,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelProperty=new Gi,this.dataModel=new ad,this.formInfo=new me,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.dataModelProperty=t.model,this.dataModel.id=this.dataModelProperty.id)}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Activities"),(!this.dataModel||!this.dataModel.id||this.dataModel.id.length==0)&&(this.cmsToastrService.typeErrorMessage("\u0634\u0646\u0627\u0633\u0647 \u0645\u0634\u062E\u0635 \u0646\u0645\u06CC \u0628\u0627\u0634\u062F"),this.dialogRef.close({dialogChangedDate:!1}))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataSend())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}DataSend(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.service.ServiceActionSendSms(this.dataModel).subscribe({next:i=>{i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.dialogRef.close({dialogChangedDate:!0})},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(mi),E(L),E(O),E(V),E(H))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-action"]],viewQuery:function(i,e){if(i&1&&ie(R9,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:52,vars:33,consts:[["vform","ngForm"],["ActionSendSmsToContactNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body"],[1,"ntk-full-width"],["name","dataModel.actionSendSmsToMe",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgent",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToEstateCustomer",3,"ngModelChange","ngModel"],[4,"ngIf"],["name","dataModel.actionSendSmsToCustomerOrder",3,"ngModelChange","ngModel"],["matInput","","name","dataModel.actionSendSmsToContactNumber","type","text","rows","5","maxlength","100","placeholder","09123456789",1,"text-line",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["name","dataModel.actionSendSmsToAreaEstateAgency",3,"ngModelChange","ngModel"],["name","dataModel.actionSendSmsToAreaEstateAgent",3,"ngModelChange","ngModel"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=v();a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),a(8,"form",6,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(10,"div",7)(11,"div",8),S(12,"br"),a(13,"mat-slide-toggle",9),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToMe,c)||(e.dataModel.actionSendSmsToMe=c),_(c)}),d(14),g(15,"translate"),l()(),a(16,"div",8),S(17,"br"),a(18,"mat-slide-toggle",10),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateAgent,c)||(e.dataModel.actionSendSmsToEstateAgent=c),_(c)}),d(19),g(20,"translate"),l()(),a(21,"div",8),S(22,"br"),a(23,"mat-slide-toggle",11),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateAgency,c)||(e.dataModel.actionSendSmsToEstateAgency=c),_(c)}),d(24),g(25,"translate"),l()(),a(26,"div",8),S(27,"br"),a(28,"mat-slide-toggle",12),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToEstateCustomer,c)||(e.dataModel.actionSendSmsToEstateCustomer=c),_(c)}),d(29),g(30,"translate"),l()(),S(31,"hr"),I(32,V9,11,8,"div",13),a(33,"div",8),S(34,"br"),a(35,"mat-slide-toggle",14),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToCustomerOrder,c)||(e.dataModel.actionSendSmsToCustomerOrder=c),_(c)}),d(36),g(37,"translate"),l()(),a(38,"div",8),d(39),g(40,"translate"),S(41,"br"),a(42,"textarea",15,1),x("ngModelChange",function(c){return f(m),T(e.dataModel.actionSendSmsToContactNumber,c)||(e.dataModel.actionSendSmsToContactNumber=c),_(c)}),l()()(),a(44,"div",16)(45,"div",17)(46,"small",18),d(47),l(),a(48,"small",19),d(49),l()()(),a(50,"div",20),I(51,L9,9,7,"div",21),l()()()()}i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),r(7),w("ngModel",e.dataModel.actionSendSmsToMe),r(),C(" ",y(15,21,"ACTION.SEND_TO_ME")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateAgent),r(),C(" ",y(20,23,"ACTION.SEND_TO_ESTATE")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateAgency),r(),C(" ",y(25,25,"ACTION.SEND_TO_AGENCY")," "),r(4),w("ngModel",e.dataModel.actionSendSmsToEstateCustomer),r(),C(" ",y(30,27,"ACTION.SEND_TO_CLIENT")," "),r(3),p("ngIf",e.dataModelProperty.linkLocationId&&e.dataModelProperty.linkLocationId>0),r(3),w("ngModel",e.dataModel.actionSendSmsToCustomerOrder),r(),C(" ",y(37,29,"TITLE.SMS_to_the_list_of_applicants_for_this_property")," "),r(3),C(" ",y(40,31,"TITLE.Send_link_message_to_the_special_number")," "),r(3),w("ngModel",e.dataModel.actionSendSmsToContactNumber),r(5),C("",e.formInfo.formAlert," "),r(2),C("",e.formInfo.formError," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ae,te,z,ve,we,X,xe,$,yt,j,U],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}.text-line[_ngcontent-%COMP%]{background-color:transparent;outline:none;outline-style:none;border-top:none;border-left:none;border-right:none;border-bottom:solid #eeeeee 1px;padding:3px 10px}"]});let o=s;return o})();var F9=["*"];function O9(o,s){if(o&1&&(a(0,"label",8),d(1),l()),o&2){let n=u();Et("for","app-cms-site-selector-",n.id,""),r(),b(n.optionLabel)}}function B9(o,s){if(o&1&&(S(0,"img",11),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function H9(o,s){if(o&1&&(a(0,"mat-option",9),I(1,B9,2,3,"img",10),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,t=u();p("value",n),r(),p("ngIf",n.linkMainImageIdSrc),r(2),b(t.displayOption(n))}}function W9(o,s){if(o&1){let n=v();a(0,"mat-icon",12),M("click",function(){f(n);let i=u();return _(i.onActionSelectClear())}),d(1,"close"),l()}}var Sa=(()=>{let s=class s{constructor(t,i,e,m,h,c){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=m,this.translate=h,this.contentService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Q,this.dataModelSelect=new Tn,this.formControl=new gt,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionChange=new et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Zt(""),Kt(1500),Ci(),Jt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return ni(this,null,function*(){let i=new $r;i.rowPerPage=20,i.accessLoad=!0;let e=new G;e.propertyName="Title",e.value=t,e.searchType=Ne.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof t=="string"&&t.length>0&&(e=new G,e.propertyName="Id",e.value=t,e.searchType=Ne.Equal,e.clauseType=He.Or,i.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),yi(this.contentService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),h.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect.linkMainImageIdSrc="",this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(xt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){this.contentService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Tn){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Tn,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(E(ee),E(V),E(H),E(L),E(O),E(sn))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-project-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:F9,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let m=v();Si(),a(0,"div",1),S(1,"app-progress-spinner",2),I(2,O9,2,3,"label",3),S(3,"input",4),a(4,"mat-autocomplete",5,0),M("optionSelected",function(c){return f(m),_(e.onActionSelect(c.option.value))}),I(6,H9,4,3,"mat-option",6),g(7,"async"),l(),I(8,W9,2,0,"mat-icon",7),oi(9),l()}if(i&2){let m=D(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Et("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),ht("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",y(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[We,N,te,z,Ot,$t,Xt,ei,Oe,se,$,j,Ue,Se],encapsulation:2});let o=s;return o})();var N9=["vform"],G9=()=>["descriptionDetail"];function U9(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Property_Type"),""))}function j9(o,s){if(o&1){let n=v();a(0,"div",66)(1,"a",67),M("click",function(){let i=f(n).$implicit,e=u(2);return _(e.onActionSelectorSelectLanduse(i))}),d(2),l()()}if(o&2){let n=s.$implicit,t=u(2);r(),p("ngClass",n.id===t.dataModel.linkPropertyTypeLanduseId?"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-0 gradient-highlight btn-full":"btn font-13 font-600 btn-s m-1 rounded-xl shadow-xl border-blue-dark color-blue-dark bg-theme btn-border btn-full"),ht("disabled",t.fieldsInfo.linkPropertyTypeLanduseId!=null&&t.fieldsInfo.linkPropertyTypeLanduseId.accessAddField?null:!0),r(),b(n.titleML)}}function q9(o,s){if(o&1&&(a(0,"div",64),I(1,j9,3,3,"div",65),l()),o&2){let n=u();r(),p("ngForOf",n.listTypeLanduse)}}function Q9(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-landuse-selector",68),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseId!=null&&n.fieldsInfo.linkPropertyTypeLanduseId.accessAddField))("optionTypeView",2)("optionSelectForce",n.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(1,5,"TITLE.Property_Type"))("optionTypeUsageId",n.dataModel.linkPropertyTypeUsageId)}}function z9(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",77),d(3),g(4,"translate"),l()(),a(5,"div",78)(6,"div",79)(7,"input",80),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataProfessional,i)||(e.dataProfessional=i),_(i)}),l(),S(8,"label",81),l()()()}if(o&2){let n=u(2);r(3),C(" ",y(4,2,"TITLE.Would_you_like_to_complete_your_information"),""),r(4),w("ngModel",n.dataProfessional)}}function Y9(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",82),x("modelChange",function(i){f(n);let e=u(2);return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u(2);w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function K9(o,s){o&1&&S(0,"i",86)}function Z9(o,s){o&1&&S(0,"i",87)}function J9(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(3);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function X9(o,s){if(o&1){let n=v();a(0,"mat-icon",88),M("click",function(){f(n);let i=u(3);return _(i.onActionButtonQuickListSearchTitle())}),d(1,"find_replace"),l()}}function $9(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",83),d(2),l(),a(3,"input",84,4),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,K9,1,0,"i",73)(6,Z9,1,0,"i",74),a(7,"em"),d(8),l(),I(9,J9,5,4,"mat-error",30)(10,X9,2,0,"mat-icon",85),l()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required),r(),p("ngIf",t.dataModel.title)}}function eH(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(3);r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function tH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",89),d(2),l(),a(3,"input",90,5),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.caseCode,i)||(e.dataModel.caseCode=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,eH,5,4,"mat-error",30),l()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),r(),A("placeholder",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),A("disabled",!(t.fieldsInfo.caseCode!=null&&t.fieldsInfo.caseCode.accessAddField)),w("ngModel",t.dataModel.caseCode),r(3),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function iH(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",91),d(3),l()(),a(4,"div",78)(5,"div",79)(6,"input",92),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.viewConfigHiddenInList,i)||(e.dataModel.viewConfigHiddenInList=i),_(i)}),l(),S(7,"label",93),l()()()}if(o&2){let n=u(2);r(3),b(n.fieldsInfo.viewConfigHiddenInList==null?null:n.fieldsInfo.viewConfigHiddenInList.fieldTitle),r(3),w("ngModel",n.dataModel.viewConfigHiddenInList)}}function nH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",94),d(2),l(),a(3,"input",95,6),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.createdYaer,i)||(e.dataModel.createdYaer=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C(" ",n.PropertyTypeSelected.titleCreatedYaer,""),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),w("ngModel",n.dataModel.createdYaer)}}function oH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",96),d(2),l(),a(3,"input",97,7),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.partition,i)||(e.dataModel.partition=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",n.PropertyTypeSelected.titlePartition," "),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),w("ngModel",n.dataModel.partition)}}function rH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",98),d(2),l(),a(3,"input",99,8),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.area,i)||(e.dataModel.area=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),C("",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle," "),r(),A("disabled",!(n.fieldsInfo.area!=null&&n.fieldsInfo.area.accessAddField)),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.dataModel.area)}}function aH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",100),d(2),l(),a(3,"textarea",101,9),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.address,i)||(e.dataModel.address=i),_(i)}),d(5,"                 "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(4),t=u(2);r(2),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),r(),A("placeholder",t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),w("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessAddField)),r(4),C("",n.value.length," / 500")}}function lH(o,s){o&1&&S(0,"i",86)}function sH(o,s){o&1&&S(0,"i",87)}function dH(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function cH(o,s){if(o&1&&(a(0,"button",105),d(1),g(2,"translate"),l()),o&2){u(3);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function pH(o,s){if(o&1){let n=v();a(0,"div",102)(1,"button",103),M("click",function(){f(n);let i=u(2);return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),I(4,cH,3,4,"button",104),l()}if(o&2){let n=u(2);r(2),C(" ",y(3,2,"ACTION.CANCEL")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function mH(o,s){if(o&1){let n=v();a(0,"div"),I(1,z9,9,4,"div",37),S(2,"br"),I(3,Y9,1,5,"app-cms-enum-record-status-selector",69)(4,$9,11,9,"div",36)(5,tH,8,6,"div",36)(6,iH,8,2,"div",37)(7,nH,5,3,"div",36)(8,oH,5,3,"div",36)(9,rH,5,4,"div",36),a(10,"app-cms-location-selector",70),g(11,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorLocation(i))}),l(),I(12,aH,8,5,"div",36),a(13,"div",49)(14,"label",71),d(15),g(16,"translate"),l(),a(17,"textarea",72,3),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),_(i)}),d(19,"                    "),l(),a(20,"em"),d(21),l(),I(22,lH,1,0,"i",73)(23,sH,1,0,"i",74)(24,dH,5,4,"mat-error",30),l(),I(25,pH,5,4,"div",38),l()}if(o&2){let n=D(18),t=u();r(),p("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),r(2),p("ngIf",t.dataProfessional&&(t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField)),r(),p("ngIf",t.fieldsInfo.title==null?null:t.fieldsInfo.title.accessWatchField),r(),p("ngIf",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.accessWatchField),r(),p("ngIf",t.tokenHelper.isAdminSite||t.tokenHelper.isSupportSite),r(),p("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.PropertyTypeSelected.titleCreatedYaer.length>1&&t.PropertyTypeSelected.titleCreatedYaer!=="---"),r(),p("ngIf",t.dataModel.linkPropertyTypeLanduseId&&t.PropertyTypeSelected.titlePartition.length>1&&t.PropertyTypeSelected.titlePartition!=="---"),r(),p("ngIf",t.fieldsInfo.area==null?null:t.fieldsInfo.area.accessWatchField),r(),p("optionDisabled",!(t.fieldsInfo.linkLocationId!=null&&t.fieldsInfo.linkLocationId.accessAddField))("optionSelectForce",t.dataModel.linkLocationId)("optionPlaceholder",y(11,20,"TITLE.Region")),r(2),p("ngIf",t.fieldsInfo.address==null?null:t.fieldsInfo.address.accessWatchField),r(3),b(y(16,22,"TITLE.General_Description")),r(2),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),w("ngModel",t.dataModel.description),r(4),C("",n.value.length," / 2000"),r(),p("ngIf",!n.value),r(),p("ngIf",n.value),r(),p("ngIf",n.errors==null?null:n.errors.required),r(),p("ngIf",t.formInfo.formSubmitAllow)}}function uH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",83),d(2),l(),a(3,"input",106,10),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.linkSiteId,i)||(e.dataModel.linkSiteId=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle),r(),A("placeholder",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle),A("disabled",!(n.fieldsInfo.linkSiteId!=null&&n.fieldsInfo.linkSiteId.accessAddField)),w("ngModel",n.dataModel.linkSiteId)}}function fH(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",107),d(3),l()(),a(4,"div",78)(5,"div",79)(6,"input",108),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.viewContentHidden,i)||(e.dataModel.viewContentHidden=i),_(i)}),l(),S(7,"label",109),l()()()}if(o&2){let n=u(2);r(3),b(n.fieldsInfo.viewContentHidden==null?null:n.fieldsInfo.viewContentHidden.fieldTitle),r(3),w("ngModel",n.dataModel.viewContentHidden)}}function _H(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",110),d(3),l()(),a(4,"div",78)(5,"div",79)(6,"input",111),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.siteAdminViewContentHidden,i)||(e.dataModel.siteAdminViewContentHidden=i),_(i)}),l(),S(7,"label",112),l()()()}if(o&2){let n=u(2);r(3),C(" ",n.fieldsInfo.siteAdminViewContentHidden==null?null:n.fieldsInfo.siteAdminViewContentHidden.fieldTitle,""),r(3),w("ngModel",n.dataModel.siteAdminViewContentHidden)}}function hH(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",82),x("modelChange",function(i){f(n);let e=u(2);return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u(2);w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!1)("optionSelectFirstItem",!0)}}function gH(o,s){if(o&1){let n=v();a(0,"div")(1,"div",113)(2,"label",114),d(3),l(),S(4,"i",115)(5,"i",116),a(6,"input",117,11),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstateLocation,i)||(e.dataModel.scoreEstateLocation=i),_(i)}),l()(),a(8,"div",113)(9,"label",118),d(10),l(),S(11,"i",115)(12,"i",116),a(13,"input",119,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstateBuild,i)||(e.dataModel.scoreEstateBuild=i),_(i)}),l()(),a(15,"div",113)(16,"label",120),d(17),l(),S(18,"i",115)(19,"i",116),a(20,"input",121,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstatePrice,i)||(e.dataModel.scoreEstatePrice=i),_(i)}),l()()()}if(o&2){let n=u(2);r(3),b(n.fieldsInfo.scoreEstateLocation==null?null:n.fieldsInfo.scoreEstateLocation.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstateLocation,""),w("ngModel",n.dataModel.scoreEstateLocation),p("disabled",!(n.fieldsInfo.scoreEstateLocation!=null&&n.fieldsInfo.scoreEstateLocation.accessEditField)),r(4),b(n.fieldsInfo.scoreEstateBuild==null?null:n.fieldsInfo.scoreEstateBuild.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstateBuild,""),w("ngModel",n.dataModel.scoreEstateBuild),p("disabled",!(n.fieldsInfo.scoreEstateBuild!=null&&n.fieldsInfo.scoreEstateBuild.accessEditField)),r(4),b(n.fieldsInfo.scoreEstatePrice==null?null:n.fieldsInfo.scoreEstatePrice.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstatePrice,""),w("ngModel",n.dataModel.scoreEstatePrice),p("disabled",!(n.fieldsInfo.scoreEstatePrice!=null&&n.fieldsInfo.scoreEstatePrice.accessEditField))}}function yH(o,s){if(o&1&&(a(0,"button",105),d(1),g(2,"translate"),l()),o&2){u(3);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function CH(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),I(4,yH,3,4,"button",104),l()),o&2){let n=u(2);r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function SH(o,s){if(o&1&&(a(0,"mat-step",28),g(1,"translate"),I(2,uH,5,4,"div",36)(3,fH,8,2,"div",37)(4,_H,8,2,"div",37)(5,hH,1,5,"app-cms-enum-record-status-selector",69)(6,gH,22,15,"div",30)(7,CH,5,4,"div",38),l()),o&2){let n=u();A("label",y(1,7,"TITLE.Admin_Config")),r(2),p("ngIf",(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.accessWatchField)&&n.tokenHelper.isAdminSite),r(),p("ngIf",n.fieldsInfo.viewContentHidden==null?null:n.fieldsInfo.viewContentHidden.accessWatchField),r(),p("ngIf",n.tokenHelper.isAdminSite||n.tokenHelper.isSupportSite),r(),p("ngIf",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",n.tokenHelper.isAdminSite||n.tokenHelper.isSupportSite),r(),p("ngIf",n.formInfo.formSubmitAllow)}}function IH(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",70),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCmsUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.Order_Owner"))}}function MH(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",123),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateAgencyId!=null&&n.fieldsInfo.linkEstateAgencyId.accessAddField))("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,4,"TITLE.Property_agency"))}}function EH(o,s){if(o&1){let n=v();a(0,"app-estate-account-user-selector",70),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateUserId!=null&&n.fieldsInfo.linkEstateUserId.accessAddField))("optionSelectForce",n.dataModel.linkEstateUserId)("optionPlaceholder",y(1,3,"TITLE.Property_personnel"))}}function vH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",124),d(2),l(),a(3,"input",125,14),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutAgentMobile,i)||(e.dataModel.aboutAgentMobile=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.fieldTitle),A("disabled",!(t.fieldsInfo.aboutAgentMobile!=null&&t.fieldsInfo.aboutAgentMobile.accessAddField)),w("ngModel",t.dataModel.aboutAgentMobile),r(3),C("",n.value.length," / 100")}}function bH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",126),d(2),l(),a(3,"input",127,15),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutAgentTel,i)||(e.dataModel.aboutAgentTel=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.fieldTitle),A("disabled",!(t.fieldsInfo.aboutAgentTel!=null&&t.fieldsInfo.aboutAgentTel.accessAddField)),w("ngModel",t.dataModel.aboutAgentTel),r(3),C("",n.value.length," / 100")}}function wH(o,s){if(o&1){let n=v();a(0,"mat-icon",88),M("click",function(){f(n);let i=u(2);return _(i.onActionButtonQuickListSearchCustomerMobile())}),d(1,"find_replace"),l()}}function TH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",128),d(2),l(),a(3,"input",129,16),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerMobile,i)||(e.dataModel.aboutCustomerMobile=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,wH,2,0,"mat-icon",85),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),A("disabled",!(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessAddField)),w("ngModel",t.dataModel.aboutCustomerMobile),r(3),C("",n.value.length," / 100"),r(),p("ngIf",t.dataModel.aboutCustomerMobile)}}function xH(o,s){if(o&1){let n=v();a(0,"mat-icon",88),M("click",function(){f(n);let i=u(2);return _(i.onActionButtonQuickListSearchCustomerTel())}),d(1,"find_replace"),l()}}function AH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",130),d(2),l(),a(3,"input",131,17),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerTel,i)||(e.dataModel.aboutCustomerTel=i),_(i)}),l(),a(5,"em"),d(6),l(),I(7,xH,2,0,"mat-icon",85),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),A("disabled",!(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessAddField)),w("ngModel",t.dataModel.aboutCustomerTel),r(3),C("",n.value.length," / 100"),r(),p("ngIf",t.dataModel.aboutCustomerTel)}}function PH(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",132),d(3),g(4,"translate"),l()(),a(5,"div",133)(6,"div",79)(7,"input",134),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionCreateCmsUserId,i)||(e.dataModel.actionCreateCmsUserId=i),_(i)}),l(),S(8,"label",135),l()()()}if(o&2){let n=u();r(3),C(" ",y(4,2,"TITLE.Create_New_Account"),""),r(4),w("ngModel",n.dataModel.actionCreateCmsUserId)}}function kH(o,s){if(o&1&&(a(0,"button",105),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function DH(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),I(4,kH,3,4,"button",104),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function RH(o,s){if(o&1){let n=v();a(0,"app-estate-property-company-selector",140),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.onActionSelectorCompany(i))}),l()}if(o&2){let n=u(2);p("optionSelectForce",n.dataModel.linkPropertyCompanyId)("optionPlaceholder",y(1,2,"TITLE.Company"))}}function VH(o,s){if(o&1){let n=v();a(0,"app-estate-property-project-selector",140),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.onActionSelectorProject(i))}),l()}if(o&2){let n=u(2);p("optionSelectForce",n.dataModel.linkPropertyProjectId)("optionPlaceholder",y(1,2,"TITLE.Project"))}}function LH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-string",149),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionLabel",n.title)}}function FH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-int",150),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionLabel",n.title)}}function OH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-boolean",151),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),r(),C("",n.title," ")}}function BH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-float",150),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionLabel",n.title)}}function HH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",151),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id])}}function WH(o,s){if(o&1){let n=v();a(0,"div",147),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-textarea",150),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionLabel",n.title)}}function NH(o,s){if(o&1){let n=v();a(0,"div"),S(1,"i",148),d(2,"\xA0\xA0 "),a(3,"app-input-string",150),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionLabel",n.title)}}function GH(o,s){if(o&1&&(P(0)(1,144),I(2,LH,4,11,"div",145)(3,FH,4,8,"div",145)(4,OH,5,5,"div",145),S(5,"br"),I(6,BH,4,8,"div",145)(7,HH,6,8,"div",145)(8,WH,4,8,"div",145)(9,NH,4,8,"div",146),k()()),o&2){let n=s.$implicit,t=u(3);r(),p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(2),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function UH(o,s){if(o&1){let n=v();a(0,"button",152),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.BEFOR")," "))}function jH(o,s){if(o&1){let n=v();a(0,"button",152),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.NEXT")," "))}function qH(o,s){if(o&1){let n=v();a(0,"button",152),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.END")," "))}function QH(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",141),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),l()()(),I(8,GH,10,7,"ng-container",142),a(9,"mat-action-row"),I(10,UH,3,3,"button",143)(11,jH,3,3,"button",143)(12,qH,3,3,"button",143),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),b(n.title),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModel.propertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModel.propertyDetailGroups.length)}}function zH(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",105),d(5),g(6,"translate"),l()()),o&2){u(2);let n=D(10);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function YH(o,s){if(o&1&&(a(0,"mat-step",136),g(1,"translate"),a(2,"p"),d(3),g(4,"translate"),l(),I(5,RH,2,4,"app-estate-property-company-selector",137)(6,VH,2,4,"app-estate-property-project-selector",137),S(7,"hr"),a(8,"mat-accordion",138),I(9,QH,13,8,"mat-expansion-panel",139),S(10,"br"),l(),I(11,zH,7,7,"div",38),l()),o&2){let n=u();A("label",y(1,6,"TITLE.Details")),r(3),b(y(4,8,"TITLE.Property_details_according_to_the_type_of_property")),r(2),p("ngIf",n.tokenHelper.isAdminSite),r(),p("ngIf",n.tokenHelper.isAdminSite),r(3),p("ngForOf",n.dataModel.propertyDetailGroups),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function KH(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function ZH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",153),d(2),g(3,"translate"),l(),a(4,"textarea",154,18),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(6,"             "),l(),a(7,"em"),d(8),l(),I(9,KH,5,4,"mat-error",30),l()}if(o&2){let n=D(5),t=u();r(2),C("",y(3,5,"TITLE.Description_Hidden")," "),r(2),A("placeholder",t.fieldsInfo.descriptionHidden==null?null:t.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",t.dataModel.descriptionHidden),r(4),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function JH(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function XH(o,s){if(o&1){let n=v();a(0,"div",49)(1,"label",155),d(2),g(3,"translate"),l(),a(4,"textarea",156,19),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.addressHidden,i)||(e.dataModel.addressHidden=i),_(i)}),d(6,"              "),l(),a(7,"em"),d(8),l(),I(9,JH,5,4,"mat-error",30),l()}if(o&2){let n=D(5),t=u();r(2),C(" ",y(3,5,"TITLE.Address_Hidden")," "),r(2),A("placeholder",t.fieldsInfo.addressHidden==null?null:t.fieldsInfo.addressHidden.fieldTitle),w("ngModel",t.dataModel.addressHidden),r(4),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function $H(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",105),d(5),g(6,"translate"),l()()),o&2){u();let n=D(10);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function eW(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",167),d(3),g(4,"translate"),l()(),a(5,"div",133)(6,"div",79)(7,"input",168),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.salePriceByAgreement,i)||(e.contractDataModel.salePriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickSalePriceAllowAgreement())}),l(),S(8,"label",169),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.salePriceByAgreement)}}function tW(o,s){if(o&1){let n=v();a(0,"div",162)(1,"div",163)(2,"label",164),d(3,"contractTypeSelected.titleSalePriceML"),l(),a(4,"input",165),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.salePrice,i)||(e.contractDataModel.salePrice=i),_(i)}),l()(),a(5,"div",166),I(6,eW,9,4,"div",37),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.salePrice),p("disabled",n.contractDataModel.salePriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.salePriceAllowAgreement)}}function iW(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",172),d(3),g(4,"translate"),l()(),a(5,"div",133)(6,"div",79)(7,"input",173),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.depositPriceByAgreement,i)||(e.contractDataModel.depositPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickDepositPriceByAgreement())}),l(),S(8,"label",174),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.depositPriceByAgreement)}}function nW(o,s){if(o&1){let n=v();a(0,"div",162)(1,"div",163)(2,"label",170),d(3),l(),a(4,"input",171),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.depositPrice,i)||(e.contractDataModel.depositPrice=i),_(i)}),l()(),a(5,"div",166),I(6,iW,9,4,"div",37),l()()}if(o&2){let n=u(3);r(3),b(n.contractTypeSelected.titleDepositPriceML),r(),w("ngModel",n.contractDataModel.depositPrice),p("disabled",n.contractDataModel.depositPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.depositPriceAllowAgreement)}}function oW(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",177),d(3),g(4,"translate"),l()(),a(5,"div",133)(6,"div",79)(7,"input",178),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.rentPriceByAgreement,i)||(e.contractDataModel.rentPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickRentPriceAllowAgreement())}),l(),S(8,"label",179),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.rentPriceByAgreement)}}function rW(o,s){if(o&1){let n=v();a(0,"div",162)(1,"div",163)(2,"label",175),d(3,"contractTypeSelected.titleRentPriceML"),l(),a(4,"input",176),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.rentPrice,i)||(e.contractDataModel.rentPrice=i),_(i)}),l()(),a(5,"div",166),I(6,oW,9,4,"div",37),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.rentPrice),p("disabled",n.contractDataModel.rentPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.rentPriceAllowAgreement)}}function aW(o,s){if(o&1){let n=v();a(0,"div",75)(1,"div",76)(2,"h5",182),d(3),g(4,"translate"),l()(),a(5,"div",133)(6,"div",79)(7,"input",183),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.periodPriceByAgreement,i)||(e.contractDataModel.periodPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickPeriodPriceAllowAgreement())}),l(),S(8,"label",184),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.periodPriceByAgreement)}}function lW(o,s){if(o&1){let n=v();a(0,"div",162)(1,"div",163)(2,"label",180),d(3,"contractTypeSelected.titlePeriodPriceML"),l(),a(4,"input",181),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.periodPrice,i)||(e.contractDataModel.periodPrice=i),_(i)}),l()(),a(5,"div",166),I(6,aW,9,4,"div",37),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.periodPrice),p("disabled",n.contractDataModel.periodPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.hasPeriodPrice&&n.contractTypeSelected.periodPriceAllowAgreement)}}function sW(o,s){if(o&1){let n=v();a(0,"div"),I(1,tW,7,3,"div",159)(2,nW,7,4,"div",159)(3,rW,7,3,"div",159)(4,lW,7,3,"div",159),S(5,"hr"),a(6,"div",49)(7,"label",160),d(8),l(),a(9,"textarea",161,20),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.contractDataModel.description,i)||(e.contractDataModel.description=i),_(i)}),d(11,"                        "),l(),a(12,"em"),d(13),l()()()}if(o&2){let n=D(10),t=u(2);r(),p("ngIf",t.contractTypeSelected.hasSalePrice),r(),p("ngIf",t.contractTypeSelected.hasDepositPrice),r(),p("ngIf",t.contractTypeSelected.hasRentPrice),r(),p("ngIf",t.contractTypeSelected.hasPeriodPrice),r(4),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),w("ngModel",t.contractDataModel.description),r(4),C("",n.value.length," / 500")}}function dW(o,s){if(o&1){let n=v();a(0,"div",157),S(1,"br")(2,"br"),a(3,"app-cms-currency-selector",158),g(4,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),I(5,sW,14,8,"div",30),S(6,"br")(7,"br"),l()}if(o&2){let n=u();r(3),p("optionSelectFirstItem",n.currencyOptionSelectFirstItem)("optionSelectForce",n.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",y(4,4,"TITLE.Specify_the_transaction_currency")),r(2),p("ngIf",n.contractDataModel.linkCoreCurrencyId>0)}}function cW(o,s){if(o&1){let n=v();a(0,"button",59),M("click",function(){f(n);let i=u();return _(i.onActionOptionAddToList())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.Add_To_List")," ... "))}function pW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Contract")," "))}function mW(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u(2);r(),C(" ",zt(2,1,n.linkEstateContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function uW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.SalePrice")," "))}function fW(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.salePrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function _W(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function hW(o,s){if(o&1&&(a(0,"mat-cell"),I(1,fW,5,5,"ng-container",30)(2,_W,3,3,"ng-container",30),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.salePrice>0),r(),p("ngIf",n.salePriceByAgreement)}}function gW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.DepositPrice")," "))}function yW(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.depositPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function CW(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function SW(o,s){if(o&1&&(a(0,"mat-cell"),I(1,yW,5,5,"ng-container",30)(2,CW,3,3,"ng-container",30),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.depositPrice>0),r(),p("ngIf",n.depositPriceByAgreement)}}function IW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.RentPrice")," "))}function MW(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.rentPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function EW(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function vW(o,s){if(o&1&&(a(0,"mat-cell"),I(1,MW,5,5,"ng-container",30)(2,EW,3,3,"ng-container",30),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.rentPrice>0),r(),p("ngIf",n.rentPriceByAgreement)}}function bW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PeriodPrice")," "))}function wW(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.periodPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function TW(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function xW(o,s){if(o&1&&(a(0,"mat-cell"),I(1,wW,5,5,"ng-container",30)(2,TW,3,3,"ng-container",30),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.periodPrice>0),r(),p("ngIf",n.periodPriceByAgreement)}}function AW(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function PW(o,s){if(o&1){let n=v();a(0,"mat-cell",200)(1,"button",201),M("click",function(){let i=f(n).index,e=u(2);return _(e.onActionOptionRemoveFromList(i))}),a(2,"small")(3,"mat-icon",202),g(4,"translate"),d(5,"delete"),l()()()()}o&2&&(r(3),A("matTooltip",y(4,1,"ACTION.DELETE")))}function kW(o,s){if(o&1&&(P(0),d(1),k()),o&2){let n=u().$implicit;r(),C(" ",n.description," ")}}function DW(o,s){if(o&1&&(a(0,"mat-cell",203),d(1),g(2,"translate"),I(3,kW,2,1,"ng-container",30),l()),o&2){let n=s.$implicit;r(),C(" ",y(2,2,"TITLE.DESCRIPTION")," : "),r(2),p("ngIf",n.description)}}function RW(o,s){o&1&&S(0,"mat-header-row")}function VW(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function LW(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function FW(o,s){if(o&1&&(a(0,"div",185)(1,"mat-table",186),P(2,187),I(3,pW,3,3,"mat-header-cell",188)(4,mW,3,4,"mat-cell",189),k(),P(5,190),I(6,uW,3,3,"mat-header-cell",188)(7,hW,3,2,"mat-cell",189),k(),P(8,191),I(9,gW,3,3,"mat-header-cell",188)(10,SW,3,2,"mat-cell",189),k(),P(11,192),I(12,IW,3,3,"mat-header-cell",188)(13,vW,3,2,"mat-cell",189),k(),P(14,193),I(15,bW,3,3,"mat-header-cell",188)(16,xW,3,2,"mat-cell",189),k(),P(17,194),I(18,AW,3,3,"mat-header-cell",188)(19,PW,6,3,"mat-cell",195),k(),P(20,196),I(21,DW,4,4,"mat-cell",197),k(),I(22,RW,1,0,"mat-header-row",198)(23,VW,1,4,"mat-row",199)(24,LW,1,4,"mat-row",199),l()()),o&2){let n=u();r(),p("dataSource",n.optionTabledataSource),r(21),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",Ce(4,G9))}}function OW(o,s){if(o&1&&(a(0,"button",105),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function BW(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),I(4,OW,3,4,"button",104),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.contracts&&n.dataModel.contracts.length>0)}}function HW(o,s){if(o&1&&(S(0,"img",204),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function WW(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.List_of_attached_photos")," "))}function NW(o,s){if(o&1){let n=v();a(0,"div")(1,"p"),d(2),g(3,"translate"),l(),a(4,"app-cms-files-selector",205),x("dataFileModelChange",function(i){f(n);let e=u();return T(e.dataFileModelFiles,i)||(e.dataFileModelFiles=i),_(i)}),l(),S(5,"br"),l()}if(o&2){let n=u();r(2),b(y(3,3,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",n.dataFileModelFiles),p("openDirectUploadView",!0)}}function GW(o,s){if(o&1&&(a(0,"div",206)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",105),d(5),g(6,"translate"),l(),a(7,"button",207),d(8),g(9,"translate"),l()()),o&2){let n=u(),t=D(10);r(2),C(" ",y(3,5,"ACTION.BEFOR")," "),r(2),p("disabled",!t.form.valid),r(),C(" ",y(6,7,"ACTION.NEXT")," "),r(2),p("disabled",!t.form.valid||!n.connectionStatus.internetConnection),r(),C(" ",y(9,9,"ACTION.SAVE")," ")}}function UW(o,s){if(o&1&&(a(0,"button",209),d(1),g(2,"translate"),l()),o&2){let n=u(2),t=D(10);p("disabled",!t.form.valid||!n.connectionStatus.internetConnection),r(),C(" ",y(2,2,"ACTION.SAVE")," ")}}function jW(o,s){if(o&1&&(a(0,"div",102)(1,"button",122),d(2),g(3,"translate"),l(),I(4,UW,3,4,"button",208),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function qW(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function QW(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function zW(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function YW(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var _s=(()=>{let s=class s extends ft{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze,Yt,Ve){super(m,new Gi,re,Ve),this.activatedRoute=t,this.coreEnumService=i,this.estateContractTypeService=e,this.estatePropertyService=m,this.estatePropertyDetailGroupService=h,this.estatePropertyTypeService=c,this.estatePropertyTypeLanduseService=R,this.cmsToastrService=B,this.router=q,this.publicHelper=re,this.cdr=Ee,this.dialog=Ze,this.tokenHelper=Yt,this.translate=Ve,this.requestLinkPropertyTypeLanduseId="",this.requestLinkPropertyTypeUsageId="",this.constructorInfoAreaId=this.constructor.name,this.connectionStatus=new ma,this.currencyOptionSelectFirstItem=!0,this.fieldsInfo=new Map,this.enumInputDataType=Li,this.tokenInfo=new Pt,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.formMatcher=new Wr,this.dataModelResult=new Q,this.dataModelEstateContractTypeResult=new Q,this.dataModelEstatePropertyTypeResult=new Q,this.dataModelEstatePropertyTypeLanduseResult=new Q,this.dataModel=new Gi,this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.formInfo=new me,this.fileManagerOpenForm=!1,this.dataModelCorCurrencySelector=new Vi,this.PropertyTypeSelected=new Vt,this.contractDataModel=new Yn,this.optionActionTitle="",this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","RentPrice","DepositPrice","PeriodPrice","Action"],this.propertyDetails=new Map,this.step=0,this.numbers=[1,2,3,4,5,6,7,8,9,10],this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.listTypeLanduse=[],this.dataProfessional=!1,this.hidden=!0,this.publicHelper.processService.cdr=this.cdr,this.requestLinkPropertyTypeLanduseId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeLanduseId"),this.requestLinkPropertyTypeLanduseId&&this.requestLinkPropertyTypeLanduseId.length>0&&(this.dataModel.linkPropertyTypeLanduseId=this.requestLinkPropertyTypeLanduseId),this.requestLinkPropertyTypeUsageId=this.activatedRoute.snapshot.paramMap.get("LinkPropertyTypeUsageId"),this.requestLinkPropertyTypeUsageId&&this.requestLinkPropertyTypeUsageId.length>0&&(this.dataModel.linkPropertyTypeUsageId=this.requestLinkPropertyTypeUsageId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Wt=>{this.tokenInfo=Wt}),this.publicHelper.getStateOnChange().subscribe(Wt=>{this.connectionStatus=Wt.connectionStatusStore})}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Submit_New_Content"),this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetAccess(),this.getEstateContractType(),this.getEstatePropertyType(),this.getEstatePropertyTypeLanduse(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List"),this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEstateContractType(){let t=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}getEstatePropertyType(){let t=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_property_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}getEstatePropertyTypeLanduse(){let t=this.constructor.name+"getEstatePropertyType";this.translate.get("TITLE.Get_Estate_user_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyTypeLanduseService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstatePropertyTypeLanduseResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModel.propertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("TITLE.Get_Details").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?this.dataModel.propertyDetailGroups=h.listItems:this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}DataAdd(){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="",this.dataFileModelFiles){let i=Array.from(this.dataFileModelFiles.keys());i&&i.length>0&&(this.dataModel.linkFileIds=i.join(","))}if(this.dataFileModelImgaes){let i=Array.from(this.dataFileModelImgaes.keys());i&&i.length>0&&(this.dataModel.linkExtraImageIds=i.join(","))}let t=this.constructor.name+"ServiceAdd";this.translate.get("TITLE.Property_registration").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceAdd(this.dataModel).subscribe({next:i=>{if(this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess)if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessAdd(),(this.tokenHelper.CheckIsAdmin()||this.tokenHelper.CheckIsSupport()||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerCpSite||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerEmployeeCpSite)&&this.dataModel.recordStatus==Ge.Available){var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ca,{height:"90%",panelClass:e,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModelResult.item}}).afterClosed().subscribe(h=>{setTimeout(()=>this.router.navigate(["/estate/property"]),1e3)})}else setTimeout(()=>this.router.navigate(["/estate/property"]),1e3);else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=fs.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=fs.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id,this.dataModelEstatePropertyTypeResult.isSuccess&&this.dataModelEstatePropertyTypeLanduseResult.isSuccess&&(this.listTypeLanduse=[],this.dataModelEstatePropertyTypeResult.listItems.forEach(i=>{i.linkPropertyTypeUsageId===t.id&&this.dataModelEstatePropertyTypeLanduseResult.listItems.forEach(e=>{e.id===i.linkPropertyTypeLanduseId&&this.listTypeLanduse.push(e)})}))}onActionSelectorSelectLanduse(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id,this.DataGetPropertyDetailGroup(t.id)}onActionSelectorCmsUser(t){if(!t||!t.id||t.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=t.id}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){let i=this.translate.instant("MESSAGE.information_area_is_not_clear");this.cmsToastrService.typeWarningSelected(i),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorProject(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=t.id}onActionSelectorCompany(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=t.id}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorContractType(t){if(this.contractTypeSelected=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(i);return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=t,this.contractDataModel=new Yn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(t=>{t.propertyDetails.forEach(i=>{let e=new mo;e.linkPropertyDetailId=i.id,e.value=this.propertyDetails[i.id],this.dataModel.propertyDetailValues.push(e)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(!1),!this.dataModel.contracts||this.dataModel.contracts.length===0){let t=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(t),this.formInfo.formSubmitAllow=!0;return}this.DataAdd()}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(t=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){let e=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");t&&this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts||(this.dataModel.contracts=[]);var i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Sales_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Rent_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Period_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Deposit_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Yn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(t){t<0||!this.dataModel.contracts||this.dataModel.contracts.length===0||(this.contractDataModel=this.dataModel.contracts[t],this.dataModel.contracts.splice(t,1),this.contractDataModel=new Yn,this.optionTabledataSource.data=this.dataModel.contracts)}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Usage")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Landuse")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10))),(!this.dataModel.contracts||this.dataModel.contracts.length==0)&&t.previouslySelectedStep.state=="contract"&&t.previouslySelectedIndex<t.selectedIndex&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_transaction_type")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(t=>{let i=t.lat,e=t.lon;i>0&&e>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:e}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=e,this.receiveMap())})}onActionSelectCurrency(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.contractDataModel.linkCoreCurrencyId=t.id,this.tokenHelper.CheckIsAdmin()&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let t=new ar;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gr,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(Ht),E(ee),E(Ii),E(mi),E(pi),E($i),E(ui),E(V),E(Qe),E(L),E(H),E(De),E(Y),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-add"]],viewQuery:function(i,e){if(i&1&&(ie(N9,5),ie(si,5)),i&2){let m;ne(m=oe())&&(e.formGroup=m.first),ne(m=oe())&&(e.childMap=m.first)}},features:[le],decls:106,vars:112,consts:[["vform","ngForm"],["stepper",""],["LinkMainImageId",""],["Description",""],["Title",""],["CaseCode",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["contractDataModel_Description",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","row mb-0",4,"ngIf"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","contract",3,"label"],[3,"optionChange","optionTypeView","optionDisabled","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","openDirectUploadView","isPopup","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","optionFileType","openDirectUploadView"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["class","ntk-button-row",4,"ngIf"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"row","mb-0"],["class","col-xl-2 col-lg-3 col-md-4 col-sm-12 pe-1",4,"ngFor","ngForOf"],[1,"col-xl-2","col-lg-3","col-md-4","col-sm-12","pe-1"],[3,"click","ngClass"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessional",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["matSuffix","","class","pointer",3,"click",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["matSuffix","",1,"pointer",3,"click"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],["data-trigger-switch","dataModel.siteAdminViewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.siteAdminViewContentHidden","name","dataModel.siteAdminViewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.siteAdminViewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.actionCreateCmsUserId",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateCmsUserId","name","dataModel.actionCreateCmsUserId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateCmsUserId",1,"custom-control-label"],["state","seo",3,"label"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionLabel"],[3,"modelChange","model","optionLabel"],[3,"modelChange","model"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],[1,"ntk-button-row"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","submit","matStepperNext","","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",21),a(1,"div",22),S(2,"app-progress-spinner",23),a(3,"div",24)(4,"p",25),d(5),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",26,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"mat-vertical-stepper",27,1),M("selectionChange",function(c){f(m);let R=D(12);return _(e.onStepClick(c,R))}),a(13,"mat-step",28),g(14,"translate"),a(15,"p"),d(16),g(17,"translate"),l(),a(18,"app-estate-property-type-usage-selector",29),g(19,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectUsage(c))}),l(),I(20,U9,3,3,"p",30)(21,q9,2,1,"div",31)(22,Q9,2,7,"app-estate-property-type-landuse-selector",32),S(23,"br")(24,"br")(25,"br"),I(26,mH,26,24,"div",30),l(),I(27,SH,8,9,"mat-step",33),a(28,"mat-step",28),g(29,"translate"),I(30,IH,2,5,"app-cms-user-selector",34)(31,MH,2,6,"app-estate-account-agency-selector",35)(32,EH,2,5,"app-estate-account-user-selector",34)(33,vH,7,5,"div",36)(34,bH,7,5,"div",36)(35,TH,8,6,"div",36)(36,AH,8,6,"div",36)(37,PH,9,4,"div",37)(38,DH,5,4,"div",38),l(),I(39,YH,12,10,"mat-step",39),a(40,"mat-step",28),g(41,"translate"),I(42,ZH,10,7,"div",36)(43,XH,10,7,"div",36)(44,$H,7,7,"div",38),l(),a(45,"mat-step",40),g(46,"translate"),a(47,"p"),d(48),g(49,"translate"),l(),a(50,"app-estate-contract-type-selector",41),M("optionChange",function(c){return f(m),_(e.onActionSelectorContractType(c))}),l(),I(51,dW,8,6,"div",42)(52,cW,3,3,"button",43),S(53,"hr"),a(54,"p"),d(55),g(56,"translate"),l(),S(57,"app-progress-spinner",23),I(58,FW,25,5,"div",44)(59,BW,5,4,"div",38),l(),a(60,"mat-step",45),g(61,"translate"),a(62,"p"),d(63),g(64,"translate"),l(),a(65,"div",46)(66,"a",47),g(67,"cmsthumbnail"),I(68,HW,2,3,"img",48),l()(),a(69,"div",49)(70,"label",50),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(71),g(72,"translate"),l(),a(73,"input",51,2),g(75,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(76,"cms-file-manager",52),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),S(77,"hr"),I(78,WW,3,3,"p",30),a(79,"app-cms-files-selector",53),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),S(80,"hr"),I(81,NW,6,5,"div",30),a(82,"h3"),d(83),g(84,"translate"),l(),a(85,"app-cms-360-image-list",54),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(86,"br"),a(87,"h3"),d(88),g(89,"translate"),l(),a(90,"app-cms-360-tour-list",55),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(91,GW,10,11,"div",56),l(),a(92,"mat-step",57),g(93,"translate"),a(94,"p"),d(95),g(96,"translate"),l(),a(97,"app-cms-map",58),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),a(98,"button",59),M("click",function(){return f(m),_(e.ActionCurrentPoint())}),d(99),g(100,"translate"),l(),I(101,jW,5,4,"div",38),l(),I(102,qW,2,0,"ng-template",60)(103,QW,2,0,"ng-template",61)(104,zW,2,0,"ng-template",62)(105,YW,2,0,"ng-template",63),l()()()()}i&2&&(p("Key","estate.property.list.add")("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(8,74,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(14,76,"TITLE.REQUIRED_INFORMATION")),r(3),b(y(17,78,"TITLE.Type_Usage")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessAddField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(19,80,"TITLE.Type_Usage")),r(2),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0&&e.listTypeLanduse&&e.listTypeLanduse.length>0),r(),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0&&e.listTypeLanduse&&e.listTypeLanduse.length>0),r(),p("ngIf",(!e.listTypeLanduse||e.listTypeLanduse.length===0)&&e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0),r(4),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&e.dataModel.linkPropertyTypeLanduseId.length>0),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),A("label",y(29,82,"TITLE.Personal_Information")),r(2),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.fieldsInfo.aboutAgentMobile==null?null:e.fieldsInfo.aboutAgentMobile.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutAgentTel==null?null:e.fieldsInfo.aboutAgentTel.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.accessWatchField),r(),p("ngIf",(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.accessWatchField)&&e.dataModel.aboutCustomerMobile&&e.dataModel.aboutCustomerMobile.length>0&&(e.dataModel.linkCmsUserId===null||e.dataModel.linkCmsUserId<=0)),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),p("ngIf",e.dataModel.propertyDetailGroups&&e.dataModel.propertyDetailGroups.length>0),r(),A("label",y(41,84,"TITLE.SECRET_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField),r(),p("ngIf",e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(46,86,"TITLE.Transaction")),r(3),b(y(49,88,"TITLE.Specify_the_type_of_transaction_for_this_property")),r(2),p("optionTypeView",2)("optionDisabled",!1)("optionPlaceholder",e.translate.instant("TITLE.Type_Of_Transaction"))("optionSelectForce",e.contractDataModel.linkEstateContractTypeId),r(),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(3),C(" ",y(56,90,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(61,92,"TITLE.ATTACH_FILES")),r(3),b(y(64,94,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(67,96,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(72,98,"TITLE.Original_Photo")),r(2),A("placeholder",y(75,100,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("openDirectUploadView",!0)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("optionFileType",e.selectFileTypeMainImage)("openDirectUploadView",!0),r(2),p("ngIf",!e.hidden),r(2),b(y(84,102,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(89,104,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(93,106,"TITLE.Location")),r(3),C(" ",y(96,108,"TITLE.Click_on_the_map_to_specify_the_location")," "),r(2),p("optonCenter",e.mapOptonCenter),r(2),C(" ",y(100,110,"ACTION.MY_LOCATION")," "),r(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ce,We,N,oo,ro,ao,Ae,te,Rt,Ur,Ft,z,ve,be,ke,we,X,xe,ze,Co,fo,_o,ho,yo,go,Re,Oe,se,$,ji,qi,cn,pn,Ui,tt,nt,lt,ot,it,st,rt,at,dt,ct,tr,vi,bi,Nt,Wi,Sn,In,si,j,to,Hi,Hn,Bn,Ln,On,Fn,Wn,Oi,so,$e,di,Sa,_r,Ki,Zi,Qi,on,lo,U,Cn,Se],encapsulation:2});let o=s;return o})();var hs=Jn(eo());var KW=["vform"],ZW=()=>["descriptionDetail"];function JW(o,s){if(o&1){let n=v();a(0,"app-estate-property-type-landuse-selector",80),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorSelectLanduse(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkPropertyTypeLanduseId!=null&&n.fieldsInfo.linkPropertyTypeLanduseId.accessEditField))("optionTypeView",2)("optionSelectForce",n.dataModel.linkPropertyTypeLanduseId)("optionPlaceholder",y(1,5,"TITLE.Property_Type"))("optionTypeUsageId",n.dataModel.linkPropertyTypeUsageId)}}function XW(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",81),x("modelChange",function(i){f(n);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),_(i)}),l()}if(o&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $W(o,s){o&1&&S(0,"i",84)}function eN(o,s){o&1&&S(0,"i",85)}function tN(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function iN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",82),d(2),l(),a(3,"input",83,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),_(i)}),l(),I(5,$W,1,0,"i",45)(6,eN,1,0,"i",46),a(7,"em"),d(8),l(),I(9,tN,5,4,"mat-error",47),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),A("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),A("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),w("ngModel",t.dataModel.title),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function nN(o,s){o&1&&S(0,"i",84)}function oN(o,s){o&1&&S(0,"i",85)}function rN(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.caseCode==null?null:n.fieldsInfo.caseCode.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function aN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",86),d(2),l(),a(3,"input",87,5),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.caseCode,i)||(e.dataModel.caseCode=i),_(i)}),l(),I(5,nN,1,0,"i",45)(6,oN,1,0,"i",46),a(7,"em"),d(8),l(),I(9,rN,5,4,"mat-error",47),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),r(),A("placeholder",t.fieldsInfo.caseCode==null?null:t.fieldsInfo.caseCode.fieldTitle),A("disabled",!(t.fieldsInfo.caseCode!=null&&t.fieldsInfo.caseCode.accessEditField)),w("ngModel",t.dataModel.caseCode),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(2),C("",n.value.length," / 100"),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function lN(o,s){o&1&&S(0,"i",84)}function sN(o,s){o&1&&S(0,"i",85)}function dN(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.sharingKey==null?null:n.fieldsInfo.sharingKey.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function cN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",88),d(2),l(),a(3,"input",89,6),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.sharingKey,i)||(e.dataModel.sharingKey=i),_(i)}),l(),I(5,lN,1,0,"i",45)(6,sN,1,0,"i",46)(7,dN,5,4,"mat-error",47),l()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.sharingKey==null?null:t.fieldsInfo.sharingKey.fieldTitle),r(),A("placeholder",t.fieldsInfo.sharingKey==null?null:t.fieldsInfo.sharingKey.fieldTitle),A("disabled",!(t.fieldsInfo.sharingKey!=null&&t.fieldsInfo.sharingKey.accessEditField)),w("ngModel",t.dataModel.sharingKey),r(2),p("ngIf",!n.value),r(),p("ngIf",n.value),r(),p("ngIf",n.errors==null?null:n.errors.required)}}function pN(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",92),d(3),l()(),a(4,"div",93)(5,"div",94)(6,"input",95),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.viewConfigHiddenInList,i)||(e.dataModel.viewConfigHiddenInList=i),_(i)}),l(),S(7,"label",96),l()()()}if(o&2){let n=u();r(3),b(n.fieldsInfo.viewConfigHiddenInList==null?null:n.fieldsInfo.viewConfigHiddenInList.fieldTitle),r(3),w("ngModel",n.dataModel.viewConfigHiddenInList)}}function mN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",97),d(2),l(),a(3,"input",98,7),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.createdYaer,i)||(e.dataModel.createdYaer=i),_(i)}),l()()}if(o&2){let n=u();r(2),C(" ",n.PropertyTypeSelected.titleCreatedYaer,""),r(),A("placeholder",n.fieldsInfo.createdYaer==null?null:n.fieldsInfo.createdYaer.fieldTitle),A("disabled",!(n.fieldsInfo.createdYaer!=null&&n.fieldsInfo.createdYaer.accessEditField)),w("ngModel",n.dataModel.createdYaer)}}function uN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",99),d(2),l(),a(3,"input",100,8),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.partition,i)||(e.dataModel.partition=i),_(i)}),l()()}if(o&2){let n=u();r(2),C("",n.PropertyTypeSelected.titlePartition," "),r(),A("placeholder",n.PropertyTypeSelected.titlePartition),A("disabled",!(n.fieldsInfo.partition!=null&&n.fieldsInfo.partition.accessEditField)),w("ngModel",n.dataModel.partition)}}function fN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",101),d(2),l(),a(3,"input",102,9),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.area,i)||(e.dataModel.area=i),_(i)}),l()()}if(o&2){let n=u();r(2),C("",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle," "),r(),A("disabled",!(n.fieldsInfo.area!=null&&n.fieldsInfo.area.accessEditField)),A("placeholder",n.fieldsInfo.area==null?null:n.fieldsInfo.area.fieldTitle),w("ngModel",n.dataModel.area)}}function _N(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",103),d(2),l(),a(3,"textarea",104,10),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.address,i)||(e.dataModel.address=i),_(i)}),d(5,"                          "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),r(),A("placeholder",t.fieldsInfo.address==null?null:t.fieldsInfo.address.fieldTitle),w("ngModel",t.dataModel.address),p("disabled",!(t.fieldsInfo.address!=null&&t.fieldsInfo.address.accessEditField)),r(4),C("",n.value.length," / 500")}}function hN(o,s){o&1&&S(0,"i",84)}function gN(o,s){o&1&&S(0,"i",85)}function yN(o,s){o&1&&(a(0,"mat-error"),d(1," Description is "),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2&&(r(3),b(y(4,1,"MESSAGE.required")))}function CN(o,s){if(o&1){let n=v();a(0,"div",105)(1,"button",106),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",107),d(5),g(6,"translate"),l(),a(7,"button",108),d(8),g(9,"translate"),l()()}if(o&2){let n=u(),t=D(10);r(2),C(" ",y(3,5,"ACTION.BACK_TO_PROPERTY_LIST")," "),r(2),p("disabled",!t.form.valid),r(),C(" ",y(6,7,"ACTION.NEXT")," "),r(2),p("disabled",!t.form.valid||!n.connectionStatus.internetConnection),r(),C(" ",y(9,9,"ACTION.SAVE")," ")}}function SN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",82),d(2),l(),a(3,"input",109,11),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.linkSiteId,i)||(e.dataModel.linkSiteId=i),_(i)}),l()()}if(o&2){let n=u(2);r(2),b(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle),r(),A("placeholder",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle),A("disabled",!(n.fieldsInfo.linkSiteId!=null&&n.fieldsInfo.linkSiteId.accessEitField)),w("ngModel",n.dataModel.linkSiteId)}}function IN(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",110),d(3),l()(),a(4,"div",93)(5,"div",94)(6,"input",111),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.viewContentHidden,i)||(e.dataModel.viewContentHidden=i),_(i)}),l(),S(7,"label",112),l()()()}if(o&2){let n=u(2);r(3),b(n.fieldsInfo.viewContentHidden==null?null:n.fieldsInfo.viewContentHidden.fieldTitle),r(3),w("ngModel",n.dataModel.viewContentHidden)}}function MN(o,s){if(o&1){let n=v();a(0,"app-cms-enum-record-status-selector",81),x("modelChange",function(i){f(n);let e=u(2);return T(e.dataModel.mainAdminRecordStatus,i)||(e.dataModel.mainAdminRecordStatus=i),_(i)}),l()}if(o&2){let n=u(2);w("model",n.dataModel.mainAdminRecordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function EN(o,s){if(o&1){let n=v();a(0,"div")(1,"div",113)(2,"label",114),d(3),l(),S(4,"i",115)(5,"i",116),a(6,"input",117,12),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstateLocation,i)||(e.dataModel.scoreEstateLocation=i),_(i)}),l()(),a(8,"div",113)(9,"label",118),d(10),l(),S(11,"i",115)(12,"i",116),a(13,"input",119,13),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstateBuild,i)||(e.dataModel.scoreEstateBuild=i),_(i)}),l()(),a(15,"div",113)(16,"label",120),d(17),l(),S(18,"i",115)(19,"i",116),a(20,"input",121,14),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.dataModel.scoreEstatePrice,i)||(e.dataModel.scoreEstatePrice=i),_(i)}),l()()()}if(o&2){let n=u(2);r(3),b(n.fieldsInfo.scoreEstateLocation==null?null:n.fieldsInfo.scoreEstateLocation.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstateLocation,""),w("ngModel",n.dataModel.scoreEstateLocation),p("disabled",!(n.fieldsInfo.scoreEstateLocation!=null&&n.fieldsInfo.scoreEstateLocation.accessEditField)),r(4),b(n.fieldsInfo.scoreEstateBuild==null?null:n.fieldsInfo.scoreEstateBuild.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstateBuild,""),w("ngModel",n.dataModel.scoreEstateBuild),p("disabled",!(n.fieldsInfo.scoreEstateBuild!=null&&n.fieldsInfo.scoreEstateBuild.accessEditField)),r(4),b(n.fieldsInfo.scoreEstatePrice==null?null:n.fieldsInfo.scoreEstatePrice.fieldTitle),r(3),Et("ngClass","cms-range-score-",n.dataModel.scoreEstatePrice,""),w("ngModel",n.dataModel.scoreEstatePrice),p("disabled",!(n.fieldsInfo.scoreEstatePrice!=null&&n.fieldsInfo.scoreEstatePrice.accessEditField))}}function vN(o,s){if(o&1&&(a(0,"button",107),d(1),g(2,"translate"),l()),o&2){u(3);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function bN(o,s){if(o&1&&(a(0,"div",105)(1,"button",122),d(2),g(3,"translate"),l(),I(4,vN,3,4,"button",123),l()),o&2){let n=u(2);r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function wN(o,s){if(o&1&&(a(0,"mat-step",35),g(1,"translate"),I(2,SN,5,4,"div",39)(3,IN,8,2,"div",40)(4,MN,1,5,"app-cms-enum-record-status-selector",38)(5,EN,22,15,"div",47)(6,bN,5,4,"div",48),l()),o&2){let n=u();A("label",y(1,6,"TITLE.Admin_Config")),r(2),p("ngIf",(n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.accessWatchField)&&n.tokenHelper.isAdminSite),r(),p("ngIf",n.fieldsInfo.viewContentHidden==null?null:n.fieldsInfo.viewContentHidden.accessWatchField),r(),p("ngIf",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.accessWatchField),r(),p("ngIf",n.tokenHelper.isAdminSite||n.tokenHelper.isSupportSite),r(),p("ngIf",n.formInfo.formSubmitAllow)}}function TN(o,s){if(o&1){let n=v();a(0,"app-cms-user-selector",41),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorCmsUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkCmsUserId!=null&&n.fieldsInfo.linkCmsUserId.accessAddField))("optionSelectForce",n.dataModel.linkCmsUserId)("optionPlaceholder",y(1,3,"TITLE.Order_Owner"))}}function xN(o,s){if(o&1){let n=v();a(0,"app-estate-account-agency-selector",124),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateAgency(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateAgencyId!=null&&n.fieldsInfo.linkEstateAgencyId.accessEditField))("optionSelectForce",n.dataModel.linkEstateAgencyId)("optionSelectUserId",n.tokenInfo.userId)("optionPlaceholder",y(1,4,"TITLE.Property_agency"))}}function AN(o,s){if(o&1){let n=v();a(0,"app-estate-account-user-selector",41),g(1,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectorEstateUser(i))}),l()}if(o&2){let n=u();p("optionDisabled",!(n.fieldsInfo.linkEstateUserId!=null&&n.fieldsInfo.linkEstateUserId.accessEditField))("optionSelectForce",n.dataModel.linkEstateUserId)("optionPlaceholder",y(1,3,"TITLE.Property_personnel"))}}function PN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",125),d(2),l(),a(3,"input",126,15),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutAgentMobile,i)||(e.dataModel.aboutAgentMobile=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutAgentMobile==null?null:t.fieldsInfo.aboutAgentMobile.fieldTitle),A("disabled",!(t.fieldsInfo.aboutAgentMobile!=null&&t.fieldsInfo.aboutAgentMobile.accessEditField)),w("ngModel",t.dataModel.aboutAgentMobile),r(3),C("",n.value.length," / 100")}}function kN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",127),d(2),l(),a(3,"input",128,16),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutAgentTel,i)||(e.dataModel.aboutAgentTel=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutAgentTel==null?null:t.fieldsInfo.aboutAgentTel.fieldTitle),A("disabled",!(t.fieldsInfo.aboutAgentTel!=null&&t.fieldsInfo.aboutAgentTel.accessEditField)),w("ngModel",t.dataModel.aboutAgentTel),r(3),C("",n.value.length," / 100")}}function DN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",129),d(2),l(),a(3,"input",130,17),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerMobile,i)||(e.dataModel.aboutCustomerMobile=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutCustomerMobile==null?null:t.fieldsInfo.aboutCustomerMobile.fieldTitle),A("disabled",!(t.fieldsInfo.aboutCustomerMobile!=null&&t.fieldsInfo.aboutCustomerMobile.accessEditField)),w("ngModel",t.dataModel.aboutCustomerMobile),r(3),C("",n.value.length," / 100")}}function RN(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",131),d(2),l(),a(3,"input",132,18),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.aboutCustomerTel,i)||(e.dataModel.aboutCustomerTel=i),_(i)}),l(),a(5,"em"),d(6),l()()}if(o&2){let n=D(4),t=u();r(2),b(t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),r(),A("placeholder",t.fieldsInfo.aboutCustomerTel==null?null:t.fieldsInfo.aboutCustomerTel.fieldTitle),A("disabled",!(t.fieldsInfo.aboutCustomerTel!=null&&t.fieldsInfo.aboutCustomerTel.accessEditField)),w("ngModel",t.dataModel.aboutCustomerTel),r(3),C("",n.value.length," / 100")}}function VN(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",133),d(3),g(4,"translate"),l()(),a(5,"div",134)(6,"div",94)(7,"input",135),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.actionCreateCmsUserId,i)||(e.dataModel.actionCreateCmsUserId=i),_(i)}),l(),S(8,"label",136),l()()()}if(o&2){let n=u();r(3),C(" ",y(4,2,"TITLE.Create_New_Account"),""),r(4),w("ngModel",n.dataModel.actionCreateCmsUserId)}}function LN(o,s){if(o&1&&(a(0,"button",107),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function FN(o,s){if(o&1&&(a(0,"div",137)(1,"button",122),d(2),g(3,"translate"),l(),I(4,LN,3,4,"button",123),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.linkPropertyTypeUsageId&&n.dataModel.linkPropertyTypeUsageId.length>0)}}function ON(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.descriptionHidden==null?null:n.fieldsInfo.descriptionHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function BN(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),g(4,"translate"),l()()),o&2){let n=u(2);r(),C(" ",n.fieldsInfo.addressHidden==null?null:n.fieldsInfo.addressHidden.fieldTitle," "),r(2),b(y(4,2,"MESSAGE.required"))}}function HN(o,s){if(o&1&&(a(0,"div",137)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",107),d(5),g(6,"translate"),l()()),o&2){u(2);let n=D(10);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function WN(o,s){if(o&1){let n=v();a(0,"mat-step",35),g(1,"translate"),a(2,"div",42)(3,"label",138),d(4),g(5,"translate"),l(),a(6,"textarea",139,19),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.descriptionHidden,i)||(e.dataModel.descriptionHidden=i),_(i)}),d(8,"                              "),l(),a(9,"em"),d(10),l(),I(11,ON,5,4,"mat-error",47),l(),a(12,"div",42)(13,"label",140),d(14),g(15,"translate"),l(),a(16,"textarea",141,20),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.addressHidden,i)||(e.dataModel.addressHidden=i),_(i)}),d(18,"                                "),l(),a(19,"em"),d(20),l(),I(21,BN,5,4,"mat-error",47),l(),I(22,HN,7,7,"div",52),l()}if(o&2){let n=D(7),t=D(17),i=u();A("label",y(1,12,"TITLE.SECRET_INFORMATION")),r(4),C("",y(5,14,"TITLE.Description_Hidden")," "),r(2),A("placeholder",i.fieldsInfo.descriptionHidden==null?null:i.fieldsInfo.descriptionHidden.fieldTitle),w("ngModel",i.dataModel.descriptionHidden),r(4),C("",n.value.length," / 2000"),r(),p("ngIf",n.errors==null?null:n.errors.required),r(3),C(" ",y(15,16,"TITLE.Address_Hidden")," "),r(2),A("placeholder",i.fieldsInfo.addressHidden==null?null:i.fieldsInfo.addressHidden.fieldTitle),w("ngModel",i.dataModel.addressHidden),r(4),C("",t.value.length," / 2000"),r(),p("ngIf",t.errors==null?null:t.errors.required),r(),p("ngIf",i.formInfo.formSubmitAllow)}}function NN(o,s){if(o&1){let n=v();a(0,"app-estate-property-company-selector",145),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.onActionSelectorCompany(i))}),l()}if(o&2){let n=u(2);p("optionSelectForce",n.dataModel.linkPropertyCompanyId)("optionPlaceholder",y(1,2,"TITLE.Company"))}}function GN(o,s){if(o&1){let n=v();a(0,"app-estate-property-project-selector",145),g(1,"translate"),M("optionChange",function(i){f(n);let e=u(2);return _(e.onActionSelectorProject(i))}),l()}if(o&2){let n=u(2);p("optionSelectForce",n.dataModel.linkPropertyProjectId)("optionPlaceholder",y(1,2,"TITLE.Project"))}}function UN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-string",155),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function jN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-int",156),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function qN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-boolean",157),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),d(4),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),w("model",t.propertyDetails[n.id]),r(),C("",n.title," ")}}function QN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-float",156),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function zN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"label"),d(4),l(),a(5,"app-input-date",158),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),r(),b(n.title),r(),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)}}function YN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-textarea",156),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionRequired",n.required)("optionLabel",n.title)}}function KN(o,s){if(o&1){let n=v();a(0,"div",153),S(1,"i",154),d(2,"\xA0\xA0 "),a(3,"app-input-string",155),x("modelChange",function(i){f(n);let e=u().$implicit,m=u(3);return T(m.propertyDetails[e.id],i)||(m.propertyDetails[e.id]=i),_(i)}),l()()}if(o&2){let n=u().$implicit,t=u(3);r(),_e("color",n.iconColor),p("ngClass",n.iconFont),r(2),At("color:'",n.iconColor,"';"),w("model",t.propertyDetails[n.id]),p("optionForceUseDefaultValue",n.configValueForceUseDefaultValue)("optionMultipleChoice",n.configValueMultipleChoice)("optionDefaultValue",n.configValueDefaultValues)("optionRequired",n.required)("optionLabel",n.title)}}function ZN(o,s){if(o&1&&(P(0)(1,150),I(2,UN,4,12,"div",151)(3,jN,4,9,"div",151)(4,qN,5,5,"div",151)(5,QN,4,9,"div",151)(6,zN,6,9,"div",151)(7,YN,4,9,"div",151)(8,KN,4,12,"div",152),k()()),o&2){let n=s.$implicit,t=u(3);r(),p("ngSwitch",n.inputDataType),r(),p("ngSwitchCase",t.enumInputDataType.String),r(),p("ngSwitchCase",t.enumInputDataType.Int),r(),p("ngSwitchCase",t.enumInputDataType.Boolean),r(),p("ngSwitchCase",t.enumInputDataType.Float),r(),p("ngSwitchCase",t.enumInputDataType.Date),r(),p("ngSwitchCase",t.enumInputDataType.TextArea)}}function JN(o,s){if(o&1){let n=v();a(0,"button",159),M("click",function(){f(n);let i=u(3);return _(i.prevStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.PREVIOUS")))}function XN(o,s){if(o&1){let n=v();a(0,"button",160),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.NEXT")))}function $N(o,s){if(o&1){let n=v();a(0,"button",160),M("click",function(){f(n);let i=u(3);return _(i.nextStep())}),d(1),g(2,"translate"),l()}o&2&&(r(),b(y(2,1,"ACTION.END")))}function eG(o,s){if(o&1){let n=v();a(0,"mat-expansion-panel",146),M("opened",function(){let i=f(n).index,e=u(2);return _(e.setStep(i))}),a(1,"mat-expansion-panel-header")(2,"mat-panel-title"),d(3),l(),a(4,"mat-panel-description"),d(5),a(6,"mat-icon"),d(7),l()()(),I(8,ZN,9,7,"ng-container",147),a(9,"mat-action-row"),I(10,JN,3,3,"button",148)(11,XN,3,3,"button",149)(12,$N,3,3,"button",149),l()()}if(o&2){let n=s.$implicit,t=s.index,i=u(2);p("expanded",i.step===t),r(3),C(" ",n.title," "),r(2),C(" ",n.description," "),r(2),b(n.iconFont),r(),p("ngForOf",n.propertyDetails),r(2),p("ngIf",t>0),r(),p("ngIf",t+1<i.dataModel.propertyDetailGroups.length),r(),p("ngIf",t+1===i.dataModel.propertyDetailGroups.length)}}function tG(o,s){if(o&1&&(a(0,"div",137)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",107),d(5),g(6,"translate"),l()()),o&2){u(2);let n=D(10);r(2),C(" ",y(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!n.form.valid),r(),C(" ",y(6,5,"ACTION.NEXT")," ")}}function iG(o,s){if(o&1&&(a(0,"mat-step",54),g(1,"translate"),a(2,"p"),d(3),g(4,"translate"),l(),I(5,NN,2,4,"app-estate-property-company-selector",142)(6,GN,2,4,"app-estate-property-project-selector",142),S(7,"hr"),a(8,"mat-accordion",143),I(9,eG,13,8,"mat-expansion-panel",144),S(10,"br"),l(),I(11,tG,7,7,"div",52),l()),o&2){let n=u();A("label",y(1,6,"TITLE.Details")),r(3),b(y(4,8,"TITLE.Property_details_according_to_the_type_of_property")),r(2),p("ngIf",n.tokenHelper.isAdminSite),r(),p("ngIf",n.tokenHelper.isAdminSite),r(3),p("ngForOf",n.dataModel.propertyDetailGroups),r(2),p("ngIf",n.formInfo.formSubmitAllow)}}function nG(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",161),d(3),l()(),a(4,"div",93)(5,"div",94)(6,"input",162),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.isSoldIt,i)||(e.dataModel.isSoldIt=i),_(i)}),l(),S(7,"label",163),l()()()}if(o&2){let n=u();r(3),b(n.fieldsInfo.isSoldIt==null?null:n.fieldsInfo.isSoldIt.fieldTitle),r(3),w("ngModel",n.dataModel.isSoldIt)}}function oG(o,s){if(o&1){let n=v();a(0,"div",42)(1,"label",164),d(2),l(),a(3,"input",165,4),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModel.reviewDataAfterSoldIt,i)||(e.dataModel.reviewDataAfterSoldIt=i),_(i)}),l(),S(5,"mat-datepicker-toggle",166)(6,"mat-datepicker",167,21),l()}if(o&2){let n=D(7),t=u();r(2),b(t.fieldsInfo.reviewDataAfterSoldIt==null?null:t.fieldsInfo.reviewDataAfterSoldIt.fieldTitle),r(),p("matDatepicker",n),w("ngModel",t.dataModel.reviewDataAfterSoldIt),r(2),p("for",n)}}function rG(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",178),d(3),g(4,"translate"),l()(),a(5,"div",134)(6,"div",94)(7,"input",179),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.salePriceByAgreement,i)||(e.contractDataModel.salePriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickSalePriceAllowAgreement())}),l(),S(8,"label",180),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.salePriceByAgreement)}}function aG(o,s){if(o&1){let n=v();a(0,"div",173)(1,"div",174)(2,"label",175),d(3,"contractTypeSelected.titleSalePriceML"),l(),a(4,"input",176),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.salePrice,i)||(e.contractDataModel.salePrice=i),_(i)}),l()(),a(5,"div",177),I(6,rG,9,4,"div",40),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.salePrice),p("disabled",n.contractDataModel.salePriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.salePriceAllowAgreement)}}function lG(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",183),d(3),g(4,"translate"),l()(),a(5,"div",134)(6,"div",94)(7,"input",184),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.depositPriceByAgreement,i)||(e.contractDataModel.depositPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickDepositPriceByAgreement())}),l(),S(8,"label",185),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.depositPriceByAgreement)}}function sG(o,s){if(o&1){let n=v();a(0,"div",173)(1,"div",174)(2,"label",181),d(3),l(),a(4,"input",182),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.depositPrice,i)||(e.contractDataModel.depositPrice=i),_(i)}),l()(),a(5,"div",177),I(6,lG,9,4,"div",40),l()()}if(o&2){let n=u(3);r(3),b(n.contractTypeSelected.titleDepositPriceML),r(),w("ngModel",n.contractDataModel.depositPrice),p("disabled",n.contractDataModel.depositPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.depositPriceAllowAgreement)}}function dG(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",188),d(3),g(4,"translate"),l()(),a(5,"div",134)(6,"div",94)(7,"input",189),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.rentPriceByAgreement,i)||(e.contractDataModel.rentPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickRentPriceAllowAgreement())}),l(),S(8,"label",190),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.rentPriceByAgreement)}}function cG(o,s){if(o&1){let n=v();a(0,"div",173)(1,"div",174)(2,"label",186),d(3,"contractTypeSelected.titleRentPriceML"),l(),a(4,"input",187),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.rentPrice,i)||(e.contractDataModel.rentPrice=i),_(i)}),l()(),a(5,"div",177),I(6,dG,9,4,"div",40),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.rentPrice),p("disabled",n.contractDataModel.rentPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.rentPriceAllowAgreement)}}function pG(o,s){if(o&1){let n=v();a(0,"div",90)(1,"div",91)(2,"h5",193),d(3),g(4,"translate"),l()(),a(5,"div",134)(6,"div",94)(7,"input",194),x("ngModelChange",function(i){f(n);let e=u(4);return T(e.contractDataModel.periodPriceByAgreement,i)||(e.contractDataModel.periodPriceByAgreement=i),_(i)}),M("change",function(){f(n);let i=u(4);return _(i.onActionClickPeriodPriceAllowAgreement())}),l(),S(8,"label",195),l()()()}if(o&2){let n=u(4);r(3),b(y(4,2,"TITLE.Agreement")),r(4),w("ngModel",n.contractDataModel.periodPriceByAgreement)}}function mG(o,s){if(o&1){let n=v();a(0,"div",173)(1,"div",174)(2,"label",191),d(3,"contractTypeSelected.titlePeriodPriceML"),l(),a(4,"input",192),x("ngModelChange",function(i){f(n);let e=u(3);return T(e.contractDataModel.periodPrice,i)||(e.contractDataModel.periodPrice=i),_(i)}),l()(),a(5,"div",177),I(6,pG,9,4,"div",40),l()()}if(o&2){let n=u(3);r(4),w("ngModel",n.contractDataModel.periodPrice),p("disabled",n.contractDataModel.periodPriceByAgreement),r(2),p("ngIf",n.contractTypeSelected.hasPeriodPrice&&n.contractTypeSelected.periodPriceAllowAgreement)}}function uG(o,s){if(o&1){let n=v();a(0,"div"),I(1,aG,7,3,"div",170)(2,sG,7,4,"div",170)(3,cG,7,3,"div",170)(4,mG,7,3,"div",170),S(5,"hr"),a(6,"div",42)(7,"label",171),d(8),l(),a(9,"textarea",172,22),x("ngModelChange",function(i){f(n);let e=u(2);return T(e.contractDataModel.description,i)||(e.contractDataModel.description=i),_(i)}),d(11,"                                        "),l(),a(12,"em"),d(13),l()()()}if(o&2){let n=D(10),t=u(2);r(),p("ngIf",t.contractTypeSelected.hasSalePrice),r(),p("ngIf",t.contractTypeSelected.hasDepositPrice),r(),p("ngIf",t.contractTypeSelected.hasRentPrice),r(),p("ngIf",t.contractTypeSelected.hasPeriodPrice),r(4),b(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),A("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),w("ngModel",t.contractDataModel.description),r(4),C("",n.value.length," / 500")}}function fG(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u(2);return _(i.onActionOptionAddToList())}),d(1),g(2,"translate"),l()}o&2&&(r(),C(" ",y(2,1,"ACTION.Add_To_List")," ... "))}function _G(o,s){if(o&1){let n=v();a(0,"div",168),S(1,"br")(2,"br"),a(3,"app-cms-currency-selector",169),g(4,"translate"),M("optionChange",function(i){f(n);let e=u();return _(e.onActionSelectCurrency(i))}),l(),I(5,uG,14,8,"div",47),S(6,"br")(7,"br"),I(8,fG,3,3,"button",77),l()}if(o&2){let n=u();r(3),p("optionSelectFirstItem",n.currencyOptionSelectFirstItem)("optionSelectForce",n.contractDataModel.linkCoreCurrencyId)("optionPlaceholder",y(4,5,"TITLE.Specify_the_transaction_currency")),r(2),p("ngIf",n.contractDataModel.linkCoreCurrencyId>0),r(3),p("ngIf",n.contractTypeSelected&&n.contractTypeSelected.id.length>0)}}function hG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.Contract")," "))}function gG(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmstitle"),l()),o&2){let n=s.$implicit,t=u(2);r(),C(" ",zt(2,1,n.linkEstateContractTypeId,t.dataModelEstateContractTypeResult.listItems)," ")}}function yG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.SalePrice")," "))}function CG(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.salePrice)," "),r(3),fe("( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function SG(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function IG(o,s){if(o&1&&(P(0),d(1),g(2,"number"),k()),o&2){let n=u().$implicit,t=u(2);r(),C(" (\u0645\u062A\u0631\u0645\u0631\u0628\u0639 :",y(2,1,n.salePrice/t.dataModel.area),") ")}}function MG(o,s){if(o&1&&(a(0,"mat-cell"),I(1,CG,5,5,"ng-container",47)(2,SG,3,3,"ng-container",47)(3,IG,3,3,"ng-container",47),l()),o&2){let n=s.$implicit,t=u(2);r(),p("ngIf",n.salePrice>0),r(),p("ngIf",n.salePriceByAgreement),r(),p("ngIf",n.salePrice>0&&t.dataModel.area>0)}}function EG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.DepositPrice")," "))}function vG(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.depositPrice),""),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function bG(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function wG(o,s){if(o&1&&(a(0,"mat-cell"),I(1,vG,5,5,"ng-container",47)(2,bG,3,3,"ng-container",47),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.depositPrice>0),r(),p("ngIf",n.depositPriceByAgreement)}}function TG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.RentPrice")," "))}function xG(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.rentPrice),""),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol," ) ")}}function AG(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function PG(o,s){if(o&1&&(a(0,"mat-cell"),I(1,xG,5,5,"ng-container",47)(2,AG,3,3,"ng-container",47),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.rentPrice>0),r(),p("ngIf",n.rentPriceByAgreement)}}function kG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PeriodPrice")," "))}function DG(o,s){if(o&1&&(P(0),d(1),g(2,"number"),S(3,"br"),d(4),k()),o&2){let n=u().$implicit;r(),C(" ",y(2,3,n.periodPrice)," "),r(3),fe(" ( ",n.currencyTitle," ",n.currencySymbol,") ")}}function RG(o,s){o&1&&(P(0),d(1),g(2,"translate"),k()),o&2&&(r(),C(" ",y(2,1,"TITLE.PriceByAgreement")," "))}function VG(o,s){if(o&1&&(a(0,"mat-cell"),I(1,DG,5,5,"ng-container",47)(2,RG,3,3,"ng-container",47),l()),o&2){let n=s.$implicit;r(),p("ngIf",n.periodPrice>0),r(),p("ngIf",n.periodPriceByAgreement)}}function LG(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function FG(o,s){if(o&1){let n=v();a(0,"mat-cell",211)(1,"button",212),M("click",function(){let i=f(n).index,e=u(2);return _(e.onActionOptionRemoveFromList(i))}),a(2,"small")(3,"mat-icon",213),g(4,"translate"),d(5,"delete"),l()()()()}o&2&&(r(3),A("matTooltip",y(4,1,"ACTION.DELETE")))}function OG(o,s){if(o&1&&(P(0),d(1),k()),o&2){let n=u().$implicit;r(),C(" ",n.description," ")}}function BG(o,s){if(o&1&&(a(0,"mat-cell",214),d(1),g(2,"translate"),I(3,OG,2,1,"ng-container",47),l()),o&2){let n=s.$implicit;r(),C(" ",y(2,2,"TITLE.DESCRIPTION")," : "),r(2),p("ngIf",n.description)}}function HG(o,s){o&1&&S(0,"mat-header-row")}function WG(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function NG(o,s){if(o&1&&S(0,"mat-row"),o&2){let n=s.dataIndex;Me("ntk-row-odd",n%2)("ntk-row-even",!(n%2))}}function GG(o,s){if(o&1&&(a(0,"div",196)(1,"mat-table",197),P(2,198),I(3,hG,3,3,"mat-header-cell",199)(4,gG,3,4,"mat-cell",200),k(),P(5,201),I(6,yG,3,3,"mat-header-cell",199)(7,MG,4,3,"mat-cell",200),k(),P(8,202),I(9,EG,3,3,"mat-header-cell",199)(10,wG,3,2,"mat-cell",200),k(),P(11,203),I(12,TG,3,3,"mat-header-cell",199)(13,PG,3,2,"mat-cell",200),k(),P(14,204),I(15,kG,3,3,"mat-header-cell",199)(16,VG,3,2,"mat-cell",200),k(),P(17,205),I(18,LG,3,3,"mat-header-cell",199)(19,FG,6,3,"mat-cell",206),k(),P(20,207),I(21,BG,4,4,"mat-cell",208),k(),I(22,HG,1,0,"mat-header-row",209)(23,WG,1,4,"mat-row",210)(24,NG,1,4,"mat-row",210),l()()),o&2){let n=u();r(),p("dataSource",n.optionTabledataSource),r(21),p("matHeaderRowDef",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",n.optionTabledisplayedColumns),r(),p("matRowDefColumns",Ce(4,ZW))}}function UG(o,s){if(o&1&&(a(0,"button",107),d(1),g(2,"translate"),l()),o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.NEXT")," ")}}function jG(o,s){if(o&1&&(a(0,"div",137)(1,"button",122),d(2),g(3,"translate"),l(),I(4,UG,3,4,"button",123),l()),o&2){let n=u();r(2),C(" ",y(3,2,"ACTION.BEFOR")," "),r(2),p("ngIf",n.dataModel.contracts&&n.dataModel.contracts.length>0)}}function qG(o,s){if(o&1&&(S(0,"img",215),g(1,"cmsthumbnail")),o&2){let n=u();A("src",y(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function QG(o,s){o&1&&(a(0,"p"),d(1),g(2,"translate"),l()),o&2&&(r(),C("",y(2,1,"TITLE.List_of_attached_photos")," "))}function zG(o,s){if(o&1){let n=v();a(0,"div")(1,"p"),d(2),g(3,"translate"),l(),a(4,"app-cms-files-selector",216),x("dataFileModelChange",function(i){f(n);let e=u();return T(e.dataFileModelFiles,i)||(e.dataFileModelFiles=i),_(i)}),l()()}if(o&2){let n=u();r(2),b(y(3,3,"TITLE.List_of_attached_files")),r(2),w("dataFileModel",n.dataFileModelFiles),p("openDirectUploadView",!0)}}function YG(o,s){if(o&1&&(a(0,"div",105)(1,"button",122),d(2),g(3,"translate"),l(),a(4,"button",107),d(5),g(6,"translate"),l(),a(7,"button",108),d(8),g(9,"translate"),l()()),o&2){let n=u(),t=D(10);r(2),C(" ",y(3,5,"ACTION.BEFOR")," "),r(2),p("disabled",!t.form.valid),r(),C(" ",y(6,7,"ACTION.NEXT")," "),r(2),p("disabled",!t.form.valid||!n.connectionStatus.internetConnection),r(),C(" ",y(9,9,"ACTION.SAVE")," ")}}function KG(o,s){if(o&1){let n=v();a(0,"button",218),M("click",function(){f(n);let i=u(2);return _(i.onFormSubmitAndMessage())}),d(1),g(2,"translate"),l()}if(o&2){u(2);let n=D(10);p("disabled",!n.form.valid),r(),C(" ",y(2,2,"ACTION.Send_Message")," ")}}function ZG(o,s){if(o&1){let n=v();a(0,"div",105)(1,"button",106),M("click",function(){f(n);let i=u();return _(i.onActionBackToParent())}),d(2),g(3,"translate"),l(),a(4,"button",122),d(5),g(6,"translate"),l(),a(7,"button",108),d(8),g(9,"translate"),l(),I(10,KG,3,4,"button",217),l()}if(o&2){let n=u(),t=D(10);r(2),C(" ",y(3,5,"ACTION.BACK")," "),r(3),C(" ",y(6,7,"ACTION.BEFOR")," "),r(2),p("disabled",!t.form.valid||!n.connectionStatus.internetConnection),r(),C(" ",y(9,9,"ACTION.SAVE")," "),r(2),p("ngIf",n.tokenHelper.isAdminSite)}}function JG(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function XG(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function $G(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function eU(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function tU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateCustomerOrderResult())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Customer_Orders")," "))}function iU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateHaveHistoryResult())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Customer_Have_Histories")," "))}function nU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateHistoryResult())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Histories")," "))}function oU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateAgencyResult())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Agencys")," "))}function rU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormLoadEstateUserResult())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.VIEW_Estate_Users")," "))}function aU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onFormSubmitAndMessage())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.Send_Message")," "))}function lU(o,s){if(o&1){let n=v();a(0,"button",70),M("click",function(){f(n);let i=u();return _(i.onActionButtonQuickHistoryAddRow())}),S(1,"i",219),d(2),g(3,"translate"),l()}o&2&&(r(2),C(" ",y(3,1,"ACTION.HISTORY_ADD")," "))}function sU(o,s){if(o&1&&(a(0,"div",220),S(1,"app-estate-account-agency-list",221,23),l()),o&2){let n=u();r(),p("optionLinkLocationWorkAreaId",n.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function dU(o,s){if(o&1&&(a(0,"div",220),S(1,"app-estate-account-user-list",221,24),l()),o&2){let n=u();r(),p("optionLinkLocationWorkAreaId",n.dataModel.linkLocationId)("optionloadComponent",!1)("optionloadByRoute",!1)}}function cU(o,s){if(o&1&&(a(0,"div",220),S(1,"app-estate-customer-order-list",222,25),l()),o&2){let n=u();r(),p("optionLinkPropertyId",n.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function pU(o,s){if(o&1&&(a(0,"div",220),S(1,"app-estate-customer-order-list",223,26),l()),o&2){let n=u();r(),p("optionLinkPropertyIdHaveHistory",n.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}function mU(o,s){if(o&1&&(a(0,"div",220),S(1,"app-estate-property-history-list",222,27),l()),o&2){let n=u();r(),p("optionLinkPropertyId",n.dataModel.id)("optionloadComponent",!1)("optionloadByRoute",!1)}}var Yc=(()=>{let s=class s extends Mt{constructor(t,i,e,m,h,c,R,B,q,re,Ee,Ze){super(m,new Gi,B,Ee),this.activatedRoute=t,this.coreEnumService=i,this.estateContractTypeService=e,this.estatePropertyService=m,this.estatePropertyDetailGroupService=h,this.cmsToastrService=c,this.router=R,this.publicHelper=B,this.cdr=q,this.tokenHelper=re,this.translate=Ee,this.dialog=Ze,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.connectionStatus=new ma,this.enumInputDataType=Li,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.formMatcher=new Wr,this.dataModelResult=new vt,this.dataModelEstateContractTypeResult=new Q,this.dataModel=new Gi,this.dataModelCorCurrencySelector=new Vi,this.dataFileModelImgaes=new Map,this.dataFileModelFiles=new Map,this.formInfo=new me,this.fileManagerOpenForm=!1,this.currencyOptionSelectFirstItem=!0,this.PropertyTypeSelected=new Vt,this.contractDataModel=new Yn,this.optionTabledataSource=new ti,this.optionTabledisplayedColumns=["LinkEstateContractTypeId","SalePrice","DepositPrice","RentPrice","PeriodPrice","Action"],this.propertyDetails=new Map,this.numbers=[0,1,2,3,4,5,6,7,8,9,10],this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new wi,this.step=0,this.hidden=!0,this.optionReload=()=>{this.loadResult=""},this.loadResult="",this.publicHelper.processService.cdr=this.cdr,this.requestId=this.activatedRoute.snapshot.paramMap.get("id"),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(Yt=>{this.tokenInfo=Yt}),this.publicHelper.getStateOnChange().subscribe(Yt=>{this.connectionStatus=Yt.connectionStatusStore})}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.router.navigate(["/estate/property"]);return}this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOne(),this.getEstateContractType(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.DataGetOne(),this.getEstateContractType()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getEstateContractType(){let t=this.constructor.name+"getEstateContractType";this.translate.get("TITLE.Get_Estate_Contract_Type").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estateContractTypeService.ServiceGetAll(null).subscribe({next:i=>{this.dataModelEstateContractTypeResult=i,this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t)}})}DataGetOne(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.estatePropertyService.setAccessLoad(),this.estatePropertyService.setAccessDataType(Be.Editor),this.estatePropertyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{if(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.lastRecordStatus=i.item.recordStatus,this.dataModel=i.item,i.isSuccess){(!this.dataModel.caseCode||this.dataModel.caseCode.length<=0)&&(this.dataModel.caseCode=this.publicHelper.StringRandomGenerator(5,!0)),this.optionTabledataSource.data=this.dataModel.contracts,this.DataGetPropertyDetailGroup(this.dataModel.linkPropertyTypeLanduseId);let e=this.dataModel.geolocationlatitude,m=this.dataModel.geolocationlongitude;e>0&&m>0&&(this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:e,lon:m}),this.receiveMap()),this.formInfo.formTitle=i.item.title,this.formInfo.formAlert="",this.dataModel.linkFileIds&&this.dataModel.linkFileIds.length>0&&this.dataModel.linkFileIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkFileIdsSrc.length>=this.dataModel.linkFileIdsSrc.length&&(R=this.dataModel.linkFileIdsSrc[c]),this.dataFileModelFiles.set(+h,R)}),this.dataModel.linkExtraImageIdsSrc&&this.dataModel.linkExtraImageIdsSrc.length>0&&this.dataModel.linkExtraImageIds.split(",").forEach((h,c)=>{let R="";this.dataModel.linkExtraImageIdsSrc.length>=this.dataModel.linkExtraImageIdsSrc.length&&(R=this.dataModel.linkExtraImageIdsSrc[c]),this.dataFileModelImgaes.set(+h,R)})}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage);this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetPropertyDetailGroup(t){let i=new pe,e=new G;e.propertyName="LinkPropertyTypeLanduseId",e.value=t,i.filters.push(e),this.dataModel.propertyDetailGroups=[];let m=this.constructor.name+"DataGetPropertyDetailGroup";this.translate.get("MESSAGE.Get_detailed_information").subscribe(h=>{this.publicHelper.processService.processStart(m,h,this.constructorInfoAreaId)}),this.estatePropertyDetailGroupService.ServiceGetAll(i).subscribe({next:h=>{h.isSuccess?(this.dataModel.propertyDetailGroups=h.listItems,this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(c=>{c.propertyDetails.forEach(R=>{if(this.propertyDetails[R.id]=0,this.dataModel.propertyDetailValues){let B=this.dataModel.propertyDetailValues.find(q=>q.linkPropertyDetailId===R.id);B&&(this.propertyDetails[R.id]=B.value)}})})):this.cmsToastrService.typeErrorGetAccess(h.errorMessage),this.publicHelper.processService.processStop(m)},error:h=>{this.cmsToastrService.typeErrorGetAccess(h),this.publicHelper.processService.processStop(m,!1)}})}DataEditContent(t=!1){if(this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="",this.dataFileModelFiles){let e=Array.from(this.dataFileModelFiles.keys());e&&e.length>0&&(this.dataModel.linkFileIds=e.join(","))}if(this.dataFileModelImgaes){let e=Array.from(this.dataFileModelImgaes.keys());e&&e.length>0&&(this.dataModel.linkExtraImageIds=e.join(","))}let i=this.constructor.name+"ServiceEdit";this.translate.get("MESSAGE.registration_chaneges_in_property_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.estatePropertyService.ServiceEdit(this.dataModel).subscribe({next:e=>{if(this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess){if(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit(),(this.tokenHelper.CheckIsAdmin()||this.tokenHelper.CheckIsSupport()||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerCpSite||this.tokenHelper.tokenInfo.userAccessUserType==lr.ResellerEmployeeCpSite)&&(t||this.dataModel.recordStatus==Ge.Available&&this.dataModel.recordStatus!=this.lastRecordStatus)){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(Ca,{height:"90%",panelClass:m,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{model:this.dataModel}}).afterClosed().subscribe(c=>{})}}else this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}receiveMap(t=this.mapModel){t&&(this.mapModel=t,this.mapMarkerPoints&&this.mapMarkerPoints.length>0&&(this.mapMarkerPoints.forEach(i=>{this.mapMarker=hs.marker([i.lat,i.lon]).addTo(this.mapModel)}),this.mapOptonCenter=this.mapMarkerPoints[0],this.mapMarkerPoints=[]),this.mapModel.on("click",i=>{let e=i.latlng.lat,m=i.latlng.lng;if(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),e===this.dataModel.geolocationlatitude&&m===this.dataModel.geolocationlongitude){this.dataModel.geolocationlatitude=null,this.dataModel.geolocationlongitude=null;return}this.mapMarker=hs.marker([e,m]).addTo(this.mapModel),this.dataModel.geolocationlatitude=e,this.dataModel.geolocationlongitude=m}))}receiveZoom(t){}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionSelectorSelectUsage(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.dataModel.linkPropertyTypeUsageId=t.id}onActionSelectorSelectLanduse(t){if(!t||!t.id||t.id.length<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.PropertyTypeSelected=t,this.dataModel.linkPropertyTypeLanduseId=t.id,this.DataGetPropertyDetailGroup(t.id)}onActionSelectorCmsUser(t){if(!t||!t.id||t.id<=0){this.dataModel.linkCmsUserId=null;return}this.dataModel.linkCmsUserId=t.id}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onActionSelectorProject(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyProjectId=null;return}this.dataModel.linkPropertyProjectId=t.id}onActionSelectorCompany(t){if(!t||!t.id||t.id.length<=0){this.dataModel.linkPropertyCompanyId=null;return}this.dataModel.linkPropertyCompanyId=t.id}onActionSelectorEstateUser(t){this.dataModel.linkEstateUserId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateUserId=t.id)}onActionSelectorEstateAgency(t){this.dataModel.linkEstateAgencyId=null,!(!t||!t.id||t.id.length<=0)&&(this.dataModel.linkEstateAgencyId=t.id)}onActionSelectorContractType(t){if(this.contractTypeSelected=null,!t||!t.id||t.id.length<=0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(i);return}this.currencyOptionSelectFirstItem=!0,this.contractTypeSelected=t,this.contractDataModel=new Yn,this.contractDataModel.contractType=this.contractTypeSelected,this.contractDataModel.linkEstateContractTypeId=this.contractTypeSelected.id}onFormSubmitAndMessage(){this.onFormSubmit(!0)}onFormSubmit(t=!1){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.propertyDetailValues=[],this.dataModel.propertyDetailGroups&&this.dataModel.propertyDetailGroups.forEach(i=>{i.propertyDetails.forEach(e=>{let m=new mo;m.linkPropertyDetailId=e.id,m.value=this.propertyDetails[e.id],this.dataModel.propertyDetailValues.push(m)})}),(!this.dataModel.contracts||this.dataModel.contracts.length===0)&&this.onActionOptionAddToList(),!this.dataModel.contracts||this.dataModel.contracts.length===0){let i=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");this.cmsToastrService.typeErrorSelected(i),this.formInfo.formSubmitAllow=!0;return}this.DataEditContent(t)}}onFormCancel(){this.router.navigate(["/estate/property"])}onActionOptionAddToList(t=!0){if(!this.contractTypeSelected||this.contractTypeSelected.id.length===0){let e=this.translate.instant("MESSAGE.Type_of_property_transaction_is_not_known");t&&this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts||(this.dataModel.contracts=[]);let i=!1;if(this.contractTypeSelected.hasSalePrice&&(this.contractDataModel.salePrice&&this.contractDataModel.salePrice>0&&(i=!0),this.contractTypeSelected.salePriceAllowAgreement&&this.contractDataModel.salePriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Sales_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasRentPrice&&(this.contractDataModel.rentPrice&&this.contractDataModel.rentPrice>0&&(i=!0),this.contractTypeSelected.rentPriceAllowAgreement&&this.contractDataModel.rentPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Rent_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasPeriodPrice&&(this.contractDataModel.periodPrice&&this.contractDataModel.periodPrice>0&&(i=!0),this.contractTypeSelected.periodPriceAllowAgreement&&this.contractDataModel.periodPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Period_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}if(i=!1,this.contractTypeSelected.hasDepositPrice&&(this.contractDataModel.depositPrice&&this.contractDataModel.depositPrice>0&&(i=!0),this.contractTypeSelected.depositPriceAllowAgreement&&this.contractDataModel.depositPriceByAgreement&&(i=!0),!i)){let e=this.translate.instant("MESSAGE.Deposit_amount_is_not_entered_correctly");this.cmsToastrService.typeErrorSelected(e);return}this.dataModel.contracts.push(this.contractDataModel),this.contractDataModel=new Yn,this.optionTabledataSource.data=this.dataModel.contracts,this.contractTypeSelected=null}onActionOptionRemoveFromList(t){if(!(t<0)&&!(!this.dataModel.contracts||this.dataModel.contracts.length===0)){var i;this.contractDataModel=this.dataModel.contracts[t],i=this.dataModel.contracts.splice(t,1),this.contractDataModel=i,this.optionTabledataSource.data=this.dataModel.contracts}}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&((!this.dataModel.linkPropertyTypeUsageId||this.dataModel.linkPropertyTypeUsageId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Usage")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),(!this.dataModel.linkPropertyTypeLanduseId||this.dataModel.linkPropertyTypeLanduseId.length===0)&&(this.cmsToastrService.typeErrorFormInvalid(this.translate.instant("TITLE.Select_the_Property_Type_Landuse")),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)),this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/estate/property/"])}setStep(t){this.step=t}nextStep(){this.step++}prevStep(){this.step--}onActionClickSalePriceAllowAgreement(){this.contractDataModel.salePriceByAgreement&&(this.contractDataModel.salePrice=0)}onActionClickRentPriceAllowAgreement(){this.contractDataModel.rentPriceByAgreement&&(this.contractDataModel.rentPrice=0)}onActionClickPeriodPriceAllowAgreement(){this.contractDataModel.periodPriceByAgreement&&(this.contractDataModel.periodPrice=0)}onActionClickDepositPriceByAgreement(){this.contractDataModel.depositPriceByAgreement&&(this.contractDataModel.depositPrice=0)}ActionCurrentPoint(){this.childMap.getPosition().then(t=>{let i=t.lat,e=t.lon;i>0&&e>0&&(this.mapMarker!==void 0&&this.mapModel.removeLayer(this.mapMarker),this.mapMarkerPoints=[],this.mapMarkerPoints.push({lat:i,lon:e}),this.dataModel.geolocationlatitude=i,this.dataModel.geolocationlongitude=e,this.receiveMap())})}onActionSelectCurrency(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorSelected(),this.dataModelCorCurrencySelector=null,this.contractDataModel.linkCoreCurrencyId=null;return}this.dataModelCorCurrencySelector=t,this.contractDataModel.linkCoreCurrencyId=t.id,this.tokenHelper.CheckIsAdmin()&&this.contractTypeSelected.allowPriceInquiryCalculate&&this.onActionPriceInquiryList()}onActionPriceInquiryList(){let t=new ar;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={linkLocationId:this.dataModel.linkLocationId,linkCoreCurrencyId:this.contractDataModel.linkCoreCurrencyId,createdYaer:this.dataModel.createdYaer,linkPropertyTypeUsageId:this.dataModel.linkPropertyTypeUsageId,linkPropertyTypeLanduseId:this.dataModel.linkPropertyTypeLanduseId,linkContractTypeId:this.contractDataModel.linkEstateContractTypeId};var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Gr,t).afterClosed().subscribe(m=>{})}onActionButtonQuickListSearchTitle(){if(!this.dataModel||!this.dataModel.title||this.dataModel.title.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchTitle:this.dataModel.title}}).afterClosed().subscribe(e=>{})}onActionButtonQuickListSearchCustomerTel(){if(!this.dataModel||!this.dataModel.aboutCustomerTel||this.dataModel.aboutCustomerTel.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerTel}}).afterClosed().subscribe(e=>{})}onActionButtonQuickListSearchCustomerMobile(){if(!this.dataModel||!this.dataModel.aboutCustomerMobile||this.dataModel.aboutCustomerMobile.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCustomerTel:this.dataModel.aboutCustomerMobile}}).afterClosed().subscribe(e=>{})}onActionButtonQuickListSearchCaseCode(){if(!this.dataModel||!this.dataModel.caseCode||this.dataModel.caseCode.length===0){this.cmsToastrService.typeErrorSelectedRow();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Rn,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{searchCaseCode:this.dataModel.caseCode}}).afterClosed().subscribe(e=>{})}onFormLoadEstateAgencyResult(){this.loadResult="estateAccountAgencyList",this.cdr.detectChanges(),this.estateAccountAgencyListComponent.optionloadComponent=!0,this.estateAccountAgencyListComponent.DataGetAll()}onFormLoadEstateUserResult(){this.loadResult="estateAccountUserList",this.cdr.detectChanges(),this.estateAccountUserListComponent.optionloadComponent=!0,this.estateAccountUserListComponent.DataGetAll()}onFormLoadEstateCustomerOrderResult(){this.loadResult="estateCustomerOrderList",this.cdr.detectChanges(),this.estateCustomerOrderListComponent.optionloadComponent=!0,this.estateCustomerOrderListComponent.DataGetAll()}onFormLoadEstateHaveHistoryResult(){this.loadResult="estateCustomerOrderHaveHistoryList",this.cdr.detectChanges(),this.estateCustomerOrderHaveHistoryListComponent.optionloadComponent=!0,this.estateCustomerOrderHaveHistoryListComponent.DataGetAll()}onFormLoadEstateHistoryResult(){this.loadResult="estateHistoryList",this.cdr.detectChanges(),this.estatePropertyHistoryListComponent.optionloadComponent=!0,this.estatePropertyHistoryListComponent.DataGetAll()}onActionButtonQuickHistoryAddRow(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(jo,{height:"90%",panelClass:t,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{linkActivityTypeId:null,linkPropertyId:this.dataModel.id,linkEstateUserId:null,linkCustomerOrderId:null,linkEstateAgencyId:null}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(E(Ht),E(ee),E(Ii),E(mi),E(pi),E(V),E(Qe),E(L),E(H),E(Y),E(O),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-edit"]],viewQuery:function(i,e){if(i&1&&(ie(KW,5),ie(si,5),ie(Go,5),ie(Uo,5),ie(rr,5),ie(rr,5),ie(vn,5)),i&2){let m;ne(m=oe())&&(e.formGroup=m.first),ne(m=oe())&&(e.childMap=m.first),ne(m=oe())&&(e.estateAccountAgencyListComponent=m.first),ne(m=oe())&&(e.estateAccountUserListComponent=m.first),ne(m=oe())&&(e.estateCustomerOrderListComponent=m.first),ne(m=oe())&&(e.estateCustomerOrderHaveHistoryListComponent=m.first),ne(m=oe())&&(e.estatePropertyHistoryListComponent=m.first)}},features:[le],decls:143,vars:144,consts:[["vform","ngForm"],["stepper",""],["Description",""],["LinkMainImageId",""],["Title",""],["CaseCode",""],["SharingKey",""],["CreatedYaer",""],["Partition",""],["Area",""],["Address",""],["LinkSiteId",""],["scoreEstateLocation","ngModel"],["scoreEstateBuild","ngModel"],["scoreEstatePrice","ngModel"],["AboutAgentMobile",""],["AboutAgentTel",""],["AboutCustomerMobile",""],["AboutCustomerTel",""],["DescriptionHidden",""],["AddressHidden",""],["ReviewDataAfterSoldIt",""],["contractDataModel_Description",""],["estateAccountAgencyListComponent",""],["estateAccountUserListComponent",""],["estateCustomerOrderListComponent",""],["estateCustomerOrderHaveHistoryListComponent",""],["estatePropertyHistoryListComponent",""],[3,"Key","svg"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId","optionChange",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","2000","rows","5","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","ntk-button-row",4,"ngIf"],["state","main",3,"label",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder","optionChange",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label",4,"ngIf"],["state","seo",3,"label"],[3,"optionChange","optionDisabled","optionTypeView","optionPlaceholder","optionSelectForce"],["class","container",4,"ngIf"],["class","example-container mat-elevation-z8",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView","optionFileType"],[3,"dataModelChange","dataModel"],[3,"dataModelChange","dataModel","dataImageModel"],["state","loaction",3,"label"],["id","main-map",3,"map$","zoom$","optonCenter"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[1,"ntk-cms-html-card-message"],[1,"ntk-cms-html-card-footer"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","alert","alert-custom","alert-white","alert-shadow","gutter-b"],["class","col-md-12 col-sm-12 col-xs-18",4,"ngIf"],[3,"optionChange","optionDisabled","optionTypeView","optionSelectForce","optionPlaceholder","optionTypeUsageId"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.caseCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.caseCode","type","text","minlength","3","maxlength","100","required","","id","dataModel.caseCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.sharingKey",1,"color-highlight"],["matInput","","type","text","name","dataModel.sharingKey","type","text","id","dataModel.sharingKey",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.viewConfigHiddenInList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2",2,"position","inherit"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.viewConfigHiddenInList","name","dataModel.viewConfigHiddenInList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewConfigHiddenInList",1,"custom-control-label"],["for","dataModel.createdYaer",1,"color-highlight"],["matInput","","name","dataModel.createdYaer","type","number","id","dataModel.createdYaer",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.partition",1,"color-highlight"],["matInput","","name","dataModel.partition","type","number","id","dataModel.partition",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.area",1,"color-highlight"],["matInput","","name","dataModel.area","type","text","currencyMask","","id","dataModel.area",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"ntk-button-row"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],["type","text","name","dataModel.linkSiteId","minlength","3","maxlength","100","id","dataModel.linkSiteId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.viewContentHidden",1,"font-600","font-14"],["type","checkbox","id","dataModel.viewContentHidden","name","dataModel.viewContentHidden",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.viewContentHidden",1,"custom-control-label"],[1,"range-slider","bottom-15","range-slider-icons"],["for","dataModel.scoreEstateLocation",1,"color-highlight"],[1,"fa","fa-range-icon-1","fa-angle-down","color-theme"],[1,"fa","fa-range-icon-2","fa-angle-up","color-theme"],["type","range","min","0","max","10","id","dataModel.scoreEstateLocation","name","dataModel.scoreEstateLocation",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstateBuild",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstateBuild","name","dataModel.scoreEstateBuild",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["for","dataModel.scoreEstatePrice",1,"color-highlight"],["type","range","min","0","max","10","id","dataModel.scoreEstatePrice","name","dataModel.scoreEstatePrice",1,"ios-slider","input-ltr",3,"ngModelChange","ngModel","disabled","ngClass"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue","matStepperNext","",3,"disabled",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionSelectUserId","optionPlaceholder"],["for","dataModel.aboutAgentMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutAgentMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutAgentTel",1,"color-highlight"],["matInput","","type","text","name","dataModel.  aboutAgentTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerMobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.aboutCustomerMobile","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.aboutCustomerTel",1,"color-highlight"],["matInput","","type","text","name","dataModel. aboutCustomerTel","type","text","minlength","0","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["data-trigger-switch","dataModel.actionCreateCmsUserId",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],["type","checkbox","id","dataModel.actionCreateCmsUserId","name","dataModel.actionCreateCmsUserId",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.actionCreateCmsUserId",1,"custom-control-label"],[1,"form-actions"],["for","dataModel.descriptionHidden",1,"color-highlight"],["matInput","","name","dataModel.descriptionHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.descriptionHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.addressHidden",1,"color-highlight"],["matInput","","name","dataModel.addressHidden","type","text","minlength","0","maxlength","2000","rows","5","id","dataModel.addressHidden",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],[1,"example-headers-align"],[3,"expanded","opened",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"opened","expanded"],[4,"ngFor","ngForOf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","ntk-full-width",4,"ngSwitchCase"],["class","ntk-full-width",4,"ngSwitchDefault"],[1,"ntk-full-width"],["aria-hidden","true",3,"ngClass"],[3,"modelChange","model","optionForceUseDefaultValue","optionMultipleChoice","optionDefaultValue","optionRequired","optionLabel"],[3,"modelChange","model","optionRequired","optionLabel"],[3,"modelChange","model"],[3,"modelChange","model","optionRequired"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["data-trigger-switch","dataModel.isSoldIt",1,"font-600","font-14"],["type","checkbox","id","dataModel.isSoldIt","name","dataModel.isSoldIt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isSoldIt",1,"custom-control-label"],["for","dataModel.reviewDataAfterSoldIt",1,"color-highlight"],["matInput","","type","text","name","dataModel.reviewDataAfterSoldIt","type","text","id","dataModel.reviewDataAfterSoldIt",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[1,"container"],[3,"optionChange","optionSelectFirstItem","optionSelectForce","optionPlaceholder"],["class","row",4,"ngIf"],["for","contractDataModel.description",1,"color-highlight"],["matInput","","name","contractDataModel. description","type","text","minlength","0","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"row"],[1,"col-6","input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","contractDataModel.salePrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.salePrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.salePrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],[1,"col-3"],["data-trigger-switch","contractDataModel.salePriceAllowAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.salePriceAllowAgreement","name","contractDataModel.salePriceAllowAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.salePriceAllowAgreement",1,"custom-control-label"],["for","contractDataModel.depositPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.depositPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.depositPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.depositPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.depositPriceByAgreement","name","contractDataModel.depositPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.depositPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.rentPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.rentPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.rentPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.rentPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.rentPriceByAgreement","name","contractDataModel.rentPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.rentPriceByAgreement",1,"custom-control-label"],["for","contractDataModel.periodPrice",1,"color-highlight"],["matInput","","type","text","name","contractDataModel.periodPrice","currencyMask","","type","text","placeholder","0","id","contractDataModel.periodPrice",1,"form-control","validate-name","input-ltr-center",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","contractDataModel.periodPriceByAgreement",1,"font-600","font-14"],["type","checkbox","id","contractDataModel.periodPriceByAgreement","name","contractDataModel.periodPriceByAgreement",1,"ios-input",3,"ngModelChange","change","ngModel"],["for","contractDataModel.periodPriceByAgreement",1,"custom-control-label"],[1,"example-container","mat-elevation-z8"],["multiTemplateDataRows","",3,"dataSource"],["matColumnDef","LinkEstateContractTypeId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","SalePrice"],["matColumnDef","DepositPrice"],["matColumnDef","RentPrice"],["matColumnDef","PeriodPrice"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","descriptionDetail"],["colspan","6",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even",4,"matRowDef","matRowDefColumns"],[1,"Action"],["type","button","mat-icon-button","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["matTooltipPosition","before","aria-hidden","false",2,"color","red",3,"matTooltip"],["colspan","6"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"dataFileModelChange","dataFileModel","openDirectUploadView"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],[1,"col-md-12","col-sm-12","col-xs-18"],[3,"optionLinkLocationWorkAreaId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyId","optionloadComponent","optionloadByRoute"],[3,"optionLinkPropertyIdHaveHistory","optionloadComponent","optionloadByRoute"]],template:function(i,e){if(i&1){let m=v();S(0,"app-cms-guide-notice",28),a(1,"div",29),S(2,"app-progress-spinner",30),a(3,"div",31)(4,"p",32),d(5),l(),a(6,"p"),d(7),g(8,"translate"),l(),a(9,"form",33,0),M("ngSubmit",function(){return f(m),_(e.onFormSubmit())}),a(11,"mat-vertical-stepper",34,1),M("selectionChange",function(c){f(m);let R=D(12);return _(e.onStepClick(c,R))}),a(13,"mat-step",35),g(14,"translate"),a(15,"app-estate-property-type-usage-selector",36),g(16,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorSelectUsage(c))}),l(),S(17,"br"),I(18,JW,2,7,"app-estate-property-type-landuse-selector",37),S(19,"br"),I(20,XW,1,5,"app-cms-enum-record-status-selector",38)(21,iN,10,8,"div",39)(22,aN,10,8,"div",39)(23,cN,8,7,"div",39)(24,pN,8,2,"div",40)(25,mN,5,4,"div",39)(26,uN,5,4,"div",39)(27,fN,5,4,"div",39),a(28,"app-cms-location-selector",41),g(29,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorLocation(c))}),l(),I(30,_N,8,5,"div",39),a(31,"div",42)(32,"label",43),d(33),g(34,"translate"),l(),a(35,"textarea",44,2),x("ngModelChange",function(c){return f(m),T(e.dataModel.description,c)||(e.dataModel.description=c),_(c)}),d(37,"                          "),l(),a(38,"em"),d(39),l(),I(40,hN,1,0,"i",45)(41,gN,1,0,"i",46)(42,yN,5,3,"mat-error",47),l(),I(43,CN,10,11,"div",48),l(),I(44,wN,7,8,"mat-step",49),a(45,"mat-step",35),g(46,"translate"),I(47,TN,2,5,"app-cms-user-selector",50)(48,xN,2,6,"app-estate-account-agency-selector",51)(49,AN,2,5,"app-estate-account-user-selector",50)(50,PN,7,5,"div",39)(51,kN,7,5,"div",39)(52,DN,7,5,"div",39)(53,RN,7,5,"div",39)(54,VN,9,4,"div",40)(55,FN,5,4,"div",52),l(),I(56,WN,23,18,"mat-step",49)(57,iG,12,10,"mat-step",53),a(58,"mat-step",54),g(59,"translate"),a(60,"p"),d(61),g(62,"translate"),l(),I(63,nG,8,2,"div",40)(64,oG,8,4,"div",39),S(65,"hr"),a(66,"p"),d(67),g(68,"translate"),l(),a(69,"app-estate-contract-type-selector",55),g(70,"translate"),M("optionChange",function(c){return f(m),_(e.onActionSelectorContractType(c))}),l(),I(71,_G,9,7,"div",56),S(72,"hr"),a(73,"p"),d(74),g(75,"translate"),l(),S(76,"app-progress-spinner",30),I(77,GG,25,5,"div",57),S(78,"br"),I(79,jG,5,4,"div",52),l(),a(80,"mat-step",58),g(81,"translate"),a(82,"p"),d(83),g(84,"translate"),l(),a(85,"div",59)(86,"a",60),g(87,"cmsthumbnail"),I(88,qG,2,3,"img",61),l()(),a(89,"div",42)(90,"label",62),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),d(91),g(92,"translate"),l(),a(93,"input",63,3),g(95,"translate"),x("ngModelChange",function(c){return f(m),T(e.dataModel.linkMainImageId,c)||(e.dataModel.linkMainImageId=c),_(c)}),M("click",function(){return f(m),_(e.fileManagerOpenForm=!0)}),l(),a(96,"cms-file-manager",64),M("itemSelected",function(c){return f(m),_(e.onActionFileSelectedLinkMainImageId(c))}),x("openFormChange",function(c){return f(m),T(e.fileManagerOpenForm,c)||(e.fileManagerOpenForm=c),_(c)}),l()(),S(97,"hr"),I(98,QG,3,3,"p",47),a(99,"app-cms-files-selector",65),x("dataFileModelChange",function(c){return f(m),T(e.dataFileModelImgaes,c)||(e.dataFileModelImgaes=c),_(c)}),l(),I(100,zG,5,5,"div",47),S(101,"br")(102,"hr")(103,"br"),a(104,"h3"),d(105),g(106,"translate"),l(),a(107,"app-cms-360-image-list",66),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Views,c)||(e.dataModel.file360Views=c),_(c)}),l(),S(108,"br"),a(109,"h3"),d(110),g(111,"translate"),l(),a(112,"app-cms-360-tour-list",67),x("dataModelChange",function(c){return f(m),T(e.dataModel.file360Tour,c)||(e.dataModel.file360Tour=c),_(c)}),l(),I(113,YG,10,11,"div",48),l(),a(114,"mat-step",68),g(115,"translate"),a(116,"p"),d(117),g(118,"translate"),l(),a(119,"app-cms-map",69),M("map$",function(c){return f(m),_(e.receiveMap(c))})("zoom$",function(c){return f(m),_(e.receiveZoom(c))}),l(),a(120,"button",70),M("click",function(){return f(m),_(e.ActionCurrentPoint())}),d(121),g(122,"translate"),l(),I(123,ZG,11,11,"div",48),l(),I(124,JG,2,0,"ng-template",71)(125,XG,2,0,"ng-template",72)(126,$G,2,0,"ng-template",73)(127,eU,2,0,"ng-template",74),l()()(),S(128,"div",75),a(129,"div",76),I(130,tU,4,3,"button",77)(131,iU,4,3,"button",77)(132,nU,4,3,"button",77)(133,oU,4,3,"button",77)(134,rU,4,3,"button",77)(135,aU,4,3,"button",77)(136,lU,4,3,"button",77),l()(),a(137,"div",78),I(138,sU,3,3,"div",79)(139,dU,3,3,"div",79)(140,cU,3,3,"div",79)(141,pU,3,3,"div",79)(142,mU,3,3,"div",79),l()}if(i&2){let m=D(36);p("Key","estate.property.list.edit")("svg","assets/media/svg/icons/General/Notifications1.svg"),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(8,102,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",y(14,104,"TITLE.REQUIRED_INFORMATION")),r(2),p("optionDisabled",!(e.fieldsInfo.linkPropertyTypeUsageId!=null&&e.fieldsInfo.linkPropertyTypeUsageId.accessEditField))("optionTypeView",2)("optionSelectForce",e.dataModel.linkPropertyTypeUsageId)("optionPlaceholder",y(16,106,"TITLE.Type_Usage")),r(3),p("ngIf",e.dataModel.linkPropertyTypeUsageId&&e.dataModel.linkPropertyTypeUsageId.length>0),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),p("ngIf",e.fieldsInfo.caseCode==null?null:e.fieldsInfo.caseCode.accessWatchField),r(),p("ngIf",e.fieldsInfo.sharingKey==null?null:e.fieldsInfo.sharingKey.accessWatchField),r(),p("ngIf",e.tokenHelper.isAdminSite||e.tokenHelper.isSupportSite),r(),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected.titleCreatedYaer==null?null:e.PropertyTypeSelected.titleCreatedYaer.length)>1&&e.PropertyTypeSelected.titleCreatedYaer!=="---"),r(),p("ngIf",e.dataModel.linkPropertyTypeLanduseId&&e.dataModel.linkPropertyTypeLanduseId&&(e.PropertyTypeSelected.titlePartition==null?null:e.PropertyTypeSelected.titlePartition.length)>1&&e.PropertyTypeSelected.titlePartition!=="---"),r(),p("ngIf",e.dataModel.linkPropertyTypeLanduseId),r(),p("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",y(29,108,"TITLE.Region")),r(2),p("ngIf",e.fieldsInfo.address==null?null:e.fieldsInfo.address.accessWatchField),r(3),b(y(34,110,"TITLE.General_Description")),r(2),A("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),w("ngModel",e.dataModel.description),r(4),C("",m.value.length," / 2000"),r(),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),A("label",y(46,112,"TITLE.Personal_Information")),r(2),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.tokenHelper.isAdminSite),r(),p("ngIf",e.fieldsInfo.aboutAgentMobile==null?null:e.fieldsInfo.aboutAgentMobile.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutAgentTel==null?null:e.fieldsInfo.aboutAgentTel.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutCustomerMobile==null?null:e.fieldsInfo.aboutCustomerMobile.accessWatchField),r(),p("ngIf",e.fieldsInfo.aboutCustomerTel==null?null:e.fieldsInfo.aboutCustomerTel.accessWatchField),r(),p("ngIf",(e.fieldsInfo.linkCmsUserId==null?null:e.fieldsInfo.linkCmsUserId.accessWatchField)&&e.dataModel.aboutCustomerMobile&&e.dataModel.aboutCustomerMobile.length>0&&(e.dataModel.linkCmsUserId===null||e.dataModel.linkCmsUserId<=0)),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),p("ngIf",(e.fieldsInfo.descriptionHidden==null?null:e.fieldsInfo.descriptionHidden.accessWatchField)&&(e.fieldsInfo.addressHidden==null?null:e.fieldsInfo.addressHidden.accessWatchField)),r(),p("ngIf",e.dataModel.propertyDetailGroups&&e.dataModel.propertyDetailGroups.length>0),r(),A("label",y(59,114,"TITLE.Contract")),r(3),b(y(62,116,"TITLE.If_you_sell_your_property_activate_the_option_below")),r(2),p("ngIf",e.fieldsInfo.isSoldIt==null?null:e.fieldsInfo.isSoldIt.accessWatchField),r(),p("ngIf",(e.fieldsInfo.reviewDataAfterSoldIt==null?null:e.fieldsInfo.reviewDataAfterSoldIt.accessWatchField)&&e.dataModel.isSoldIt),r(3),b(y(68,118,"TITLE.Specify_the_type_of_transaction_for_this_property")),r(2),p("optionDisabled",!1)("optionTypeView",2)("optionPlaceholder",y(70,120,"TITLE.Type_Of_Transaction"))("optionSelectForce",e.contractDataModel.linkEstateContractTypeId),r(2),p("ngIf",e.contractTypeSelected&&e.contractTypeSelected.id.length>0),r(3),C(" ",y(75,122,"TITLE.List_Of_Transaction_Details_Of_This_Property")," "),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",!e.publicHelper.processService.process.inRunAll),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(81,124,"TITLE.ATTACH_FILES")),r(3),b(y(84,126,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",y(87,128,e.dataModel.linkMainImageIdSrc),Z),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),b(y(92,130,"TITLE.Original_Photo")),r(2),A("placeholder",y(95,132,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),p("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),p("tree",e.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(2),p("ngIf",e.dataFileModelImgaes&&e.dataFileModelImgaes.size>0),r(),w("dataFileModel",e.dataFileModelImgaes),p("openDirectUploadView",!0)("optionFileType",e.selectFileTypeMainImage),r(),p("ngIf",!e.hidden),r(5),b(y(106,134,"TITLE.image_360")),r(2),w("dataModel",e.dataModel.file360Views),r(3),b(y(111,136,"TITLE.virtual_tour")),r(2),w("dataModel",e.dataModel.file360Tour),p("dataImageModel",e.dataModel.file360Views),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",y(115,138,"TITLE.Location")),r(3),b(y(118,140,"TITLE.Click_on_the_map_to_specify_the_location")),r(2),p("optonCenter",e.mapOptonCenter),r(2),C(" ",y(122,142,"ACTION.MY_LOCATION"),""),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(7),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&(e.dataModel==null?null:e.dataModel.linkLocationId)&&(e.dataModel==null?null:e.dataModel.linkLocationId)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&(e.dataModel==null?null:e.dataModel.linkLocationId)&&(e.dataModel==null?null:e.dataModel.linkLocationId)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&(e.dataModel==null?null:e.dataModel.linkLocationId)&&(e.dataModel==null?null:e.dataModel.linkLocationId)>0),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0&&e.tokenHelper.isAdminSite),r(),p("ngIf",(e.dataModel==null||e.dataModel.id==null?null:e.dataModel.id.length)>0),r(2),p("ngIf",e.loadResult==="estateAccountAgencyList"),r(),p("ngIf",e.loadResult==="estateAccountUserList"),r(),p("ngIf",e.loadResult==="estateCustomerOrderList"),r(),p("ngIf",e.loadResult==="estateCustomerOrderHaveHistoryList"),r(),p("ngIf",e.loadResult==="estateHistoryList")}},dependencies:[ce,We,N,oo,ro,ao,Ae,te,Rt,Ur,Ft,z,ve,be,ke,we,X,xe,ze,Un,jn,rn,Co,fo,_o,ho,yo,go,Re,Oe,se,$,ji,qi,cn,pn,Ui,tt,nt,lt,ot,it,st,rt,at,dt,ct,tr,vi,bi,Nt,Wi,Sn,In,si,j,to,Hi,Hn,Bn,Ln,On,Fn,Wn,Oi,so,$e,di,Sa,_r,Ki,vn,Zi,rr,Uo,Qi,Go,on,lo,U,Cn,Se],encapsulation:2});let o=s;return o})();var uU=["vform"];function fU(o,s){if(o&1){let n=v();P(0),a(1,"div",8)(2,"label",9),d(3),l(),a(4,"input",10,0),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.title,i)||(e.dataModelResultContent.item.title=i),_(i)}),l()(),a(6,"div",8)(7,"label",11),d(8),l(),a(9,"textarea",12,1),x("ngModelChange",function(i){f(n);let e=u();return T(e.dataModelResultContent.item.description,i)||(e.dataModelResultContent.item.description=i),_(i)}),d(11," "),l()(),k()}if(o&2){let n=u();r(3),b(n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),r(),A("placeholder",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),w("ngModel",n.dataModelResultContent.item.title),r(4),b(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),w("ngModel",n.dataModelResultContent.item.description)}}function _U(o,s){if(o&1){let n=v();a(0,"div",13)(1,"button",14),M("click",function(){f(n);let i=u();return _(i.onFormDelete())}),S(2,"i",15),d(3),g(4,"translate"),l(),a(5,"button",16),M("click",function(){f(n);let i=u();return _(i.onFormCancel())}),S(6,"i",17),d(7),g(8,"translate"),l()()}if(o&2){let n=u();r(),p("disabled",!n.formInfo.buttonSubmittedEnabled),r(2),C(" ",y(4,3,"ACTION.DELETE")," "),r(4),C(" ",y(8,5,"ACTION.CANCEL")," ")}}var Kc=(()=>{let s=class s{constructor(t,i,e,m,h,c,R){this.data=t,this.dialogRef=i,this.publicHelper=e,this.contentService=m,this.cdr=h,this.cmsToastrService=c,this.translate=R,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new Q,this.formInfo=new me,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(i=>{this.formInfo.formAlert=i});let t=this.constructor.name+"fieldInfoConvertor";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.setAccessLoad(),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResultContent=i,i.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.requestId).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,i.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)},error:i=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(E(Pe),E(Te),E(L),E(dn),E(H),E(V),E(O))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-delete"]],viewQuery:function(i,e){if(i&1&&ie(uU,5),i&2){let m;ne(m=oe())&&(e.formGroup=m.first)}},decls:10,vars:7,consts:[["Writer",""],["Content",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","readonly","","id","dataModelResultContent.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultContent.item.description",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultContent.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",2),S(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),g(7,"translate"),l(),I(8,fU,12,6,"ng-container",6)(9,_U,9,7,"div",7),l()()),i&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",y(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,te,z,be,ke,we,X,$,j,U],encapsulation:2});let o=s;return o})();var hU=()=>["expandedTitle"],gU=()=>["expandedDetail"],yU=()=>[5,10,20,100],Zc=o=>({display:o});function CU(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",51),M("click",function(i){f(n);let e=u();return _(e.onActionButtonNewRow(i))}),S(2,"i",52)(3,"br"),l(),a(4,"p",23),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.ADD")))}function SU(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",53),M("click",function(){f(n);let i=u();return _(i.onActionButtonWithHierarchy())}),S(2,"i",54)(3,"br"),l(),a(4,"p",23),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.BATCHVIEW")))}function IU(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",55),M("click",function(i){f(n);let e=u();return _(e.onActionButtonEditRow(e.tableRowSelected,i))}),S(2,"i",56)(3,"br"),l(),a(4,"p",23),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.EDIT")))}function MU(o,s){if(o&1){let n=v();a(0,"div",21)(1,"a",57),M("click",function(){f(n);let i=u();return _(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",58)(3,"br"),l(),a(4,"p",23),d(5),g(6,"translate"),l()()}o&2&&(r(5),b(y(6,1,"ACTION.DELETE")))}function EU(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.MENU")," "))}function vU(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",59),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelectActionMenu(i))}),S(2,"i",60),l()()}}function bU(o,s){o&1&&(a(0,"mat-header-cell",61),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.PICTURE")," "))}function wU(o,s){if(o&1&&(S(0,"img",63),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function TU(o,s){if(o&1&&(a(0,"mat-cell"),I(1,wU,2,3,"img",62),l()),o&2){let n=s.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function xU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function AU(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function PU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function kU(o,s){if(o&1&&(a(0,"mat-cell"),d(1),g(2,"cmssiteinfo"),g(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",y(3,3,y(2,1,n.linkSiteId))," ")}}function DU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function RU(o,s){if(o&1&&S(0,"select",66),o&2){let n=u().$implicit,t=u();p("contentService",t.contentService)("row",n)("ngStyle",Je(3,Zc,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function VU(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",64),g(2,"statusIconClass"),I(3,RU,1,5,"select",65),l()),o&2){let n=s.$implicit,t=u();r(),p("ngClass",y(2,2,n.recordStatus)),r(2),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function LU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.mainAdminRecordStatus==null?null:n.fieldsInfo.mainAdminRecordStatus.fieldTitle," ")}}function FU(o,s){if(o&1&&(a(0,"mat-cell"),S(1,"i",64),g(2,"statusIconClass"),l()),o&2){let n=s.$implicit;r(),p("ngClass",y(2,1,n.mainAdminRecordStatus))}}function OU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function BU(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function HU(o,s){if(o&1&&(a(0,"mat-header-cell",61),d(1),l()),o&2){let n=u();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function WU(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function NU(o,s){o&1&&(a(0,"mat-header-cell"),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.OPTION")," "))}function GU(o,s){if(o&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=D(5);r(),p("matMenuTriggerFor",n)}}function UU(o,s){o&1&&(a(0,"mat-header-cell",69),d(1),g(2,"translate"),l()),o&2&&(r(),C(" ",y(2,1,"TITLE.LINKTO")," "))}function jU(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"button",70),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionButtonLinkTo(i))}),a(2,"mat-icon",71),d(3,"\u2197"),l()()()}}function qU(o,s){if(o&1&&(a(0,"mat-cell"),d(1),S(2,"br"),d(3),g(4,"translate"),l()),o&2){let n=s.$implicit,t=u();r(),C(" ",n.title," "),r(2),fe(" ",y(4,3,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function QU(o,s){if(o&1&&(S(0,"img",76),g(1,"cmsthumbnail")),o&2){let n=u().$implicit;A("src",y(1,1,n.linkMainImageIdSrc),Z)}}function zU(o,s){if(o&1&&(a(0,"tr"),S(1,"td"),a(2,"td"),d(3),l()()),o&2){let n=u().$implicit,t=u();r(3),fe(" ",t.fieldsInfo.updatedDate==null?null:t.fieldsInfo.updatedDate.fieldTitle," : ",t.publicHelper.LocaleDate(n.updatedDate),"")}}function YU(o,s){if(o&1){let n=v();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,QU,2,3,"img",72),l(),a(6,"th")(7,"span",73),M("click",function(){f(n);let i=u();return _(i.onActionCopied())}),S(8,"i",74),l(),d(9),l()(),I(10,zU,4,2,"tr",75),a(11,"tr"),S(12,"td"),a(13,"td"),d(14),l()(),a(15,"tr"),S(16,"td"),a(17,"td"),d(18),l()(),a(19,"tr"),S(20,"td")(21,"td"),l()()()()}if(o&2){let n=s.$implicit;r(5),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(),p("ngIf",n.updatedDate),r(4),C(" ",n.title," "),r(4),C(" ",n.description," ")}}function KU(o,s){o&1&&S(0,"mat-header-row")}function ZU(o,s){if(o&1){let n=v();a(0,"mat-row",77),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function JU(o,s){if(o&1){let n=v();a(0,"mat-row",77),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function XU(o,s){if(o&1){let n=v();a(0,"mat-row",78),M("click",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=u();return _(e.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,t=s.dataIndex,i=u();Me("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),p("ngStyle",Je(7,Zc,n.expanded===!0?"":"none"))}}var gs=(()=>{let s=class s extends _t{constructor(t,i,e,m,h,c,R,B,q){super(t,new xn,B,m,c),this.contentService=t,this.cmsToastrService=i,this.router=e,this.tokenHelper=m,this.cdr=h,this.translate=c,this.pageInfo=R,this.publicHelper=B,this.dialog=q,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new pe,this.optionsSearch=new ja,this.optionsStatist=new qa,this.tokenInfo=new Pt,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","mainAdminRecordStatus","LinkTo","action_menu"],this.fieldsInfo=new Map,this.GetAllWithHierarchyCategoryId=!1,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:re=>this.onSubmitOptionsSearch(re)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ae.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xn);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new G;e.propertyName="linkEstateCompanyCategoryId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ae.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=ae.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(t){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}t?.ctrlKey?(this.link="/#/estate/property-company/add/",window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/add"])}onActionButtonEditRow(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property-company/edit/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property-company/edit",this.tableRowSelected.id])}onActionButtonProperty(t=this.tableRowSelected,i){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/estate/property/LinkCompanyId/"+this.tableRowSelected.id,window.open(this.link,"_blank")):this.router.navigate(["/estate/property/LinkCompanyId",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){let m=this.translate.instant("MESSAGE.no_row_selected_to_delete");this.cmsToastrService.typeErrorSelected(m);return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Kc,{panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(h=>{t.set(h,0)}),this.translate.get("MESSAGE.All").subscribe(h=>{t.set(h,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(h=>{this.publicHelper.processService.processStart(i,h,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:h=>{h.isSuccess?(this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,h.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}});let e=JSON.parse(JSON.stringify(this.filteModelContent)),m=new G;m.propertyName="RecordStatus",m.value=Ge.Available,e.filters.push(m),this.contentService.ServiceGetCount(e).subscribe({next:h=>{h.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,h.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(h.errorMessage),this.publicHelper.processService.processStop(i)},error:h=>{this.cmsToastrService.typeError(h),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonWithHierarchy(){this.GetAllWithHierarchyCategoryId=!this.GetAllWithHierarchyCategoryId,this.DataGetAll()}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new pe,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionButtonLinkTo(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(t.recordStatus!=Ge.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(t);let i=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_state_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.contentService.setAccessDataType(Be.Editor),this.contentService.ServiceGetOneById(t.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(en,{height:"90%",enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,panelClass:m,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}};s.\u0275fac=function(i){return new(i||s)(E(dn),E(V),E(Qe),E(Y),E(H),E(O),E(ut),E(L),E(De))},s.\u0275cmp=F({type:s,selectors:[["app-estate-property-company-list"]],features:[le],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-apartment","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","mainAdminRecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["mat-sort-header","","class","form-label",4,"matHeaderCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["mat-sort-header","",1,"form-label"],["type","button","mat-icon-button","",1,"text-dark",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,e){if(i&1){let m=v();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),_(c)}),M("optionOnActionButtonMemoRow",function(){return f(m),_(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),_(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),_(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),_(e.onActionButtonPrintRow())}),qe(1,4)(2,5)(3,6),P(4,7),a(5,"a",8),M("click",function(){return f(m),_(e.viewGuideNotice=!e.viewGuideNotice)}),S(6,"i",9),l(),a(7,"a",8),M("click",function(){return f(m),_(e.onActionButtonReload())}),S(8,"i",10),l(),a(9,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!0))}),S(10,"i",12),l(),a(11,"a",11),M("click",function(){return f(m),_(e.onActionGridExpandRows(!1))}),S(12,"i",13),l(),k(),P(13,14),a(14,"a",15),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(15,"mat-slide-toggle",16),x("ngModelChange",function(c){return f(m),T(e.optionsSearch.data.show,c)||(e.optionsSearch.data.show=c),_(c)}),M("click",function(){return f(m),_(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),d(16),g(17,"translate"),l(),a(18,"a",15),M("click",function(){return f(m),_(e.onActionButtonStatist())}),a(19,"mat-slide-toggle",17),M("click",function(){return f(m),_(e.onActionButtonStatist())}),x("ngModelChange",function(c){return f(m),T(e.optionsStatist.data.show,c)||(e.optionsStatist.data.show=c),_(c)}),l(),d(20),g(21,"translate"),l(),k(),P(22,18),I(23,CU,7,3,"div",19)(24,SU,7,3,"div",19),k(),P(25,20),I(26,IU,7,3,"div",19)(27,MU,7,3,"div",19),a(28,"div",21)(29,"a",15),M("click",function(c){return f(m),_(e.onActionButtonProperty(e.tableRowSelected,c))}),S(30,"i",22)(31,"br"),l(),a(32,"p",23),d(33),g(34,"translate"),l()(),a(35,"div",21)(36,"a",8),M("click",function(){return f(m),_(e.onActionButtonLinkTo(e.tableRowSelected))}),S(37,"i",24)(38,"br"),l(),a(39,"p",23),d(40),g(41,"translate"),l()(),k(),P(42,25),a(43,"app-cms-search-list",26),x("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),_(c)}),l(),a(44,"app-cms-statist-list",26),x("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),_(c)}),l(),k(),P(45,27),a(46,"mat-table",28,0),M("matSortChange",function(){f(m);let c=D(47);return _(e.onTableSortData(c))}),P(48,29),I(49,EU,3,3,"mat-header-cell",30)(50,vU,3,0,"mat-cell",31),k(),P(51,32),I(52,bU,3,3,"mat-header-cell",33)(53,TU,2,1,"mat-cell",31),k(),P(54,34),I(55,xU,2,1,"mat-header-cell",33)(56,AU,2,1,"mat-cell",31),k(),P(57,35),I(58,PU,2,1,"mat-header-cell",33)(59,kU,4,5,"mat-cell",31),k(),P(60,36),I(61,DU,2,1,"mat-header-cell",33)(62,VU,4,4,"mat-cell",31),k(),P(63,37),I(64,LU,2,1,"mat-header-cell",33)(65,FU,3,3,"mat-cell",31),k(),P(66,38),I(67,OU,2,1,"mat-header-cell",33)(68,BU,2,1,"mat-cell",31),k(),P(69,39),I(70,HU,2,1,"mat-header-cell",33)(71,WU,2,1,"mat-cell",31),k(),P(72,40),I(73,NU,3,3,"mat-header-cell",30)(74,GU,6,1,"mat-cell",41),k(),P(75,42),I(76,UU,3,3,"mat-header-cell",43)(77,jU,4,0,"mat-cell",31),k(),P(78,44),I(79,qU,5,5,"mat-cell",31),k(),P(80,45),I(81,YU,22,6,"mat-cell",31),k(),I(82,KU,1,0,"mat-header-row",46)(83,ZU,1,6,"mat-row",47)(84,JU,1,6,"mat-row",47)(85,XU,1,9,"mat-row",48),l(),k(),P(86,49),a(87,"mat-paginator",50,1),M("page",function(c){return f(m),_(e.onTablePageingData(c))}),l(),k(),l()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","estate.propertycompany.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(15),w("ngModel",e.optionsSearch.data.show),r(),C("",y(17,29,"ACTION.SEARCH")," "),r(3),w("ngModel",e.optionsStatist.data.show),r(),C("",y(21,31,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),b(y(34,33,"ACTION.PROPERTY")),r(7),b(y(41,35,"TITLE.LINKTO")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(37,hU)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Ce(38,gU)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(39,yU)))},dependencies:[ce,N,mt,z,X,ze,se,$,kt,Dt,bt,yt,wt,Tt,tt,nt,lt,ot,it,st,rt,at,dt,ct,Ei,St,It,Ct,mn,Ue,U,An,Se,ri],encapsulation:2});let o=s;return o})();var $U=[{path:"",component:gd,data:{title:"ROUTE.ESTATE"},children:[{path:"config",loadChildren:()=>import("./chunk-EWS75FLN.js").then(o=>o.EstateConfigModule),data:{title:"ROUTE.ESTATE"}},{path:"overview-events",component:yc,data:{title:"ROUTE.ESTATE.EVENTS"}},{path:"overview-summary",component:Cc,data:{title:"ROUTE.ESTATE.SUMMARY"}},{path:"property",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/Action/:Action",component:hi},{path:"property/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkPropertyTypeUsageId/:LinkPropertyTypeUsageId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkContractTypeId/:LinkContractTypeId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkBillboardId/:LinkBillboardId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCustomerOrderId/:LinkCustomerOrderId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkUserId/:LinkUserId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkProjectId/:LinkProjectId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkCompanyId/:LinkCompanyId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateUserId/:LinkEstateUserId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/LinkEstateAgencyId/:LinkEstateAgencyId",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/InChecking/:InChecking",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/recordstatus/:RecordStatus",component:hi,data:{title:"ROUTE.ESTATE.PROPERTY"}},{path:"property/add",component:_s,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/add/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:_s,data:{title:"ROUTE.ESTATE.PROPERTYADD"}},{path:"property/edit/:id",component:Yc,data:{title:"ROUTE.ESTATE.PROPERTYEDIT"}},{path:"property-type-usage",component:zc,data:{title:"ROUTE.ESTATE.TYPEUSAGE"}},{path:"property-type-landuse",component:qc,data:{title:"ROUTE.ESTATE.LANDUSE"}},{path:"property-ads/LinkPropertyId/:LinkPropertyId",component:Jl,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads",component:Jl,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"property-ads/sale/:LinkPropertyId",component:Ec,data:{title:"ROUTE.ESTATE.PROPERTYADS"}},{path:"activity-type",component:Ed,data:{title:"ROUTE.ESTATE.ACTIVITYTYPE"}},{path:"property-company",component:gs,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/LinkProjectId/:LinkProjectId",component:gs,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/add",component:Xl,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-company/edit/:id",component:es,data:{title:"ROUTE.ESTATE.COMPANY"}},{path:"property-supplier",component:cs,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/LinkProjectId/:LinkProjectId",component:cs,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/add",component:ls,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-supplier/edit/:id",component:ds,data:{title:"ROUTE.ESTATE.SUPPLIER"}},{path:"property-history",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/InCheckingOnDay/:InCheckingOnDay",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkPropertyId/:LinkPropertyId",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateUserId/:LinkEstateUserId",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkCustomerOrderId/:LinkCustomerOrderId",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/LinkEstateAgencyId/:LinkEstateAgencyId",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/recordstatus/:RecordStatus",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"property-history/action/:Action",component:vn,data:{title:"ROUTE.ESTATE.HISTORY"}},{path:"expert-price",component:Rc,data:{title:"ROUTE.EXPERT.PRICE"}},{path:"ads-type",component:wd,data:{title:"ROUTE.ESTATE.ADSTYPE"}},{path:"account-agency",component:Go,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-agency/LinkAccountUserId/:LinkAccountUserId",component:Go,data:{title:"ROUTE.ESTATE.ACCOUNTAGENCY"}},{path:"account-user",component:Uo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"account-user/LinkAccountAgencyId/:LinkAccountAgencyId",component:Uo,data:{title:"ROUTE.ESTATE.ACCOUNTUSER"}},{path:"contract-type",component:Xd,data:{title:"ROUTE.ESTATE.CONTRACTTYPE"}},{path:"billboard",component:Kd,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add",component:hl,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/add-copy/:id",component:hl,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"billboard/edit/:id",component:Ul,data:{title:"ROUTE.ESTATE.BILLBOARD"}},{path:"property-project",component:Oc,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/add",component:os,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"property-project/edit/:id",component:as,data:{title:"ROUTE.ESTATE.PROJECT"}},{path:"category-zone",component:Jd,data:{title:"ROUTE.ESTATE.CATEGORY.ZONE"}},{path:"category-rack",component:Zd,data:{title:"ROUTE.ESTATE.CATEGORY.RACK"}},{path:"customer-order",component:rr,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus",component:rr,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/recordstatus/:RecordStatus/:ResponsibleUserId",component:rr,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/responsibleUserId/:ResponsibleUserId",component:rr,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order/edit/:id",component:cc,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDER"}},{path:"customer-order-result/LinkCustomerOrder/:LinkCustomerOrder",component:Yl,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"customer-order-result/LinkProperty/:LinkProperty",component:Yl,data:{title:"ROUTE.ESTATE.CUSTOMER.ORDERRESULT"}},{path:"property-detail-group",component:bc,data:{title:"ROUTE.ESTATE.DETAIL.GROUP"}},{path:"property-detail",component:ns,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}},{path:"property-detail/LinkPropertyTypeLanduseId/:LinkPropertyTypeLanduseId",component:ns,data:{title:"ROUTE.ESTATE.PROPERTYDETAIL"}}]}];var Jc=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Ea({type:s}),s.\u0275inj=Ma({imports:[Al.forChild($U),Al]});let o=s;return o})();var ej=Jn(eo());var gme=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Ea({type:s}),s.\u0275inj=Ma({providers:[Us,zs,ee,qs,Oa,bn,Yr,od,nd,an,Zs,Ii,Ji,Zo,Jo,Mr,Ir,Xi,Zr,mi,Js,pi,Cr,po,co,ed,td,id,sn,dn,Qn,Xo,ui,zn,ln,$i,Ko,qn,Ks,Ye,Qs,Ys],imports:[Ms,Jc,bs,ws.withConfig({warnOnNgModelWithFormControl:"never"}),ud,fd,Ps,Ns,Ts,cd,hd,_d,Pl,Pl,sd]});let o=s;return o})();export{gme as EstateModule};
