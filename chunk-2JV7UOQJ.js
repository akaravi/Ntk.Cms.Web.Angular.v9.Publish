import{a as Xe}from"./chunk-TFUU2Z7G.js";import{a as st}from"./chunk-CQACG5XF.js";import{b as Vi}from"./chunk-QP444FFK.js";import{a as he}from"./chunk-ML3NIS3M.js";import{$a as Li,Bd as Ke,Dc as xi,Ed as pt,F as qt,G as Qt,H as zt,Kd as Ni,L as fi,La as ee,M as hi,Ma as te,Na as be,O as vi,Oc as ft,P as wi,Pc as ti,Rc as ki,Sc as lt,Ta as ve,Tc as qe,Uc as Qe,Vb as Re,Wa as we,Wb as Ae,Xb as De,Yb as xe,Zb as ke,_a as Ti,_b as Ne,aa as Jt,ab as Ri,da as Mi,fc as Ve,gc as Be,hc as Oe,ic as Ge,id as ze,jc as He,kc as Pe,lc as Fe,ld as mt,mb as Di,mc as je,nb as W,nc as We,oc as Ue,p as $e,qd as dt,s as et,sa as Ee,sb as Te,t as tt,tb as U,ud as Je,v as it,vb as oe,x as ot,y as nt,yb as at,yd as Mt,zb as Le}from"./chunk-D3PPNHCP.js";import{b as P,c as F,q as j}from"./chunk-WZHZ4IQF.js";import{Ae as _t,Be as gt,Bf as $t,Cd as Kt,Cf as ei,Db as Y,Dc as ui,Dd as N,Df as It,Eb as Z,Ef as Et,Fb as $,Fc as Ze,Ff as ai,Gf as bt,Ha as Ye,Hd as q,Hf as vt,Ib as J,Id as ye,If as wt,Jd as ie,Je as ct,Kb as d,La as l,Lb as x,Lc as bi,Ma as u,Mb as f,Qb as L,Qd as Q,Rb as R,Sb as A,Ud as Ai,Vb as Ce,Wb as pi,Yb as _,Za as X,Zb as g,_b as Wt,ab as w,cb as h,cq as z,da as mi,eb as Se,fd as ge,gc as G,gd as yi,hd as Ie,ja as O,ka as di,kd as Ci,lb as c,mb as s,nb as E,ob as b,pb as v,qb as ne,ra as S,rb as y,sa as C,td as Me,ub as M,ue as Xt,vd as B,ve as Yt,wb as I,we as ht,xc as _e,xe as Zt,yc as Ut,ye as St,zc as H,zd as rt,ze as Ct}from"./chunk-B4IEXLZS.js";var Bi=(()=>{let a=class a{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=O({type:a,selectors:[["app-corelog"]],decls:1,vars:0,template:function(o,e){o&1&&E(0,"router-outlet")},dependencies:[yi],encapsulation:2});let t=a;return t})();var oo=["vform"];function no(t,a){if(t&1&&(c(0,"div"),E(1,"div",18),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function ro(t,a){if(t&1){let n=y();c(0,"div",19)(1,"button",20),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",21),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Oi=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new $t,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogAvoidDuplicateDataEntryService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Kt,this.dataModel=new $t,this.formInfo=new ie,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogAvoidDuplicateDataEntryService.setAccessLoad(),this.coreLogAvoidDuplicateDataEntryService.setAccessDataType(rt.Editor),this.coreLogAvoidDuplicateDataEntryService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(Xt),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-avoid-duplicate-edit"]],viewQuery:function(o,e){if(o&1&&Y(oo,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:31,vars:20,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",4),E(1,"app-progress-spinner",5),c(2,"div",6)(3,"p",7),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0),E(10,"app-cms-user-selector",8),_(11,"translate"),E(12,"app-cms-member-selector",8),_(13,"translate"),c(14,"div",9)(15,"label",10),d(16,"ModuleName"),s(),c(17,"input",11,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleName,r)||(e.dataModel.moduleName=r),C(r)}),s()(),c(19,"div",9)(20,"label",12),d(21,"ModuleEntityName"),s(),c(22,"input",13,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityName,r)||(e.dataModel.moduleEntityName=r),C(r)}),s()(),c(24,"div",9)(25,"label",14),d(26,"EntityId"),s(),c(27,"input",15,3),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),w(29,no,3,3,"div",16)(30,ro,5,3,"div",17),s()()()}o&2&&(l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),l(4),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",g(11,16,"TITLE.USER")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(13,18,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleName),l(5),L("ngModel",e.dataModel.moduleEntityName),l(5),L("ngModel",e.dataModel.moduleEntityId),l(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,nt,$e,et,tt,ot,it,we,pt,dt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var ao=()=>[5,10,20,100];function lo(t,a){if(t&1){let n=y();c(0,"div",17)(1,"a",45),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",46)(3,"br"),s(),c(4,"p",20),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function so(t,a){if(t&1){let n=y();c(0,"div",17)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",48)(3,"br"),s(),c(4,"p",20),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function co(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function mo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function po(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function uo(t,a){if(t&1&&(c(0,"mat-cell",50),_(1,"statusCellClass"),E(2,"i",50),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function fo(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function ho(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function So(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberUserId==null?null:n.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Co(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberUserId," ")}}function _o(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function go(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleName," ")}}function Io(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Eo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleEntityName," ")}}function bo(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function vo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleEntityId," ")}}function wo(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Mo(t,a){if(t&1&&(c(0,"mat-cell",51),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function yo(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function To(t,a){if(t&1&&(c(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function Lo(t,a){t&1&&E(0,"mat-header-row")}function Ro(t,a){if(t&1){let n=y();c(0,"mat-row",54),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var _i=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae){if(super(i,new $t,fe,k,T),this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=e,this.activatedRoute=m,this.router=p,this.cdr=r,this.translate=T,this.tokenHelper=k,this.pageInfo=V,this.publicHelper=fe,this.dialog=ae,this.requestLinkUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","ModuleName","ModuleEntityName","LinkUserId","LinkMemberUserId","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","ModuleName","ModuleEntityName","LinkUserId","LinkMemberUserId","ModuleEntityId","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new N,this.dataModelEnumManageUserAccessUserTypesResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkUserId>0){let K=new q;K.propertyName="LinkUserId",K.value=this.requestLinkUserId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $t);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Xt),u(W),u(he),u(ge),u(Ie),u(G),u(P),u(j),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-avoid-duplicate-list"]],features:[X],decls:75,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),c(6,"a",8),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(7,"i",9),s(),c(8,"a",8),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(9,"i",10),s(),v(),b(10,11),c(11,"a",12),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(12,"mat-slide-toggle",13),d(13),_(14,"translate"),s(),c(15,"a",12),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(16,"mat-slide-toggle",13),d(17),_(18,"translate"),s(),v(),ne(19,14),b(20,15),w(21,lo,7,3,"div",16)(22,so,7,3,"div",16),c(23,"div",17)(24,"a",18),M("click",function(){return S(m),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),E(25,"i",19)(26,"br"),s(),c(27,"p",20),d(28),_(29,"translate"),s()(),c(30,"div",17)(31,"a",18),M("click",function(){return S(m),C(e.onActionButtonViewMemberRow(e.tableRowSelected))}),E(32,"i",21)(33,"br"),s(),c(34,"p",20),d(35),_(36,"translate"),s()(),v(),b(37,22),c(38,"app-cms-search-list",23),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(39,"app-cms-statist-list",23),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(40,24),c(41,"mat-table",25,0),M("matSortChange",function(){S(m);let r=J(42);return C(e.onTableSortData(r))}),b(43,26),w(44,co,2,1,"mat-header-cell",27)(45,mo,2,1,"mat-cell",28),v(),b(46,29),w(47,po,2,1,"mat-header-cell",27)(48,uo,4,6,"mat-cell",30),v(),b(49,31),w(50,fo,2,1,"mat-header-cell",27)(51,ho,4,5,"mat-cell",28),v(),b(52,32),w(53,So,2,1,"mat-header-cell",27)(54,Co,2,1,"mat-cell",28),v(),b(55,33),w(56,_o,2,1,"mat-header-cell",27)(57,go,2,1,"mat-cell",28),v(),b(58,34),w(59,Io,2,1,"mat-header-cell",27)(60,Eo,2,1,"mat-cell",28),v(),b(61,35),w(62,bo,2,1,"mat-header-cell",27)(63,vo,2,1,"mat-cell",28),v(),b(64,36),w(65,wo,2,1,"mat-header-cell",27)(66,Mo,3,3,"mat-cell",37),v(),b(67,38),w(68,yo,3,3,"mat-header-cell",39)(69,To,6,1,"mat-cell",40),v(),w(70,Lo,1,0,"mat-header-row",41)(71,Ro,1,6,"mat-row",42),s(),v(),b(72,43),c(73,"mat-paginator",44,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(12),h("checked",e.optionsSearch.data.show),l(),f("",g(14,24,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(18,26,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(6),x(g(29,28,"ACTION.USER")),l(7),x(g(36,30,"ACTION.MEMBER")),l(3),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(29),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(32,ao)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,at,Le,Qe,qe],encapsulation:2});let t=a;return t})();var Ao=["vform"];function Do(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogCurrencyService=m,this.cmsToastrService=p,this.publicHelper=r,this.cdr=T,this.tokenHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new ai,this.formInfo=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogCurrencyService.setAccessLoad(),this.coreLogCurrencyService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(Yt),u(W),u(U),u(G),u(j),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-currency-view"]],viewQuery:function(o,e){if(o&1&&Y(Ao,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,Do,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var xo=()=>[5,10,20,100],ko=t=>({display:t});function No(t,a){if(t&1){let n=y();c(0,"a",42),M("click",function(){S(n);let o=I();return C(o.onActionBackToParent())}),E(1,"i",43),s()}}function Vo(t,a){if(t&1){let n=y();c(0,"div",44)(1,"a",45),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",46)(3,"br"),s(),c(4,"p",47),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function Bo(t,a){if(t&1){let n=y();c(0,"div",44)(1,"a",48),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow())}),E(2,"i",49)(3,"br"),s(),c(4,"p",47),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function Oo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Go(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function Ho(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.mainId==null?null:n.fieldsInfo.mainId.fieldTitle," ")}}function Po(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.mainId," ")}}function Fo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function jo(t,a){if(t&1&&E(0,"select",53),t&2){let n=I().$implicit,i=I();h("contentService",i.contentService)("row",n)("ngStyle",pi(3,ko,n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Wo(t,a){if(t&1&&(c(0,"mat-cell",51),_(1,"statusCellClass"),E(2,"i",51),_(3,"statusIconClass"),w(4,jo,1,5,"select",52),s()),t&2){let n=a.$implicit,i=I();h("ngClass",g(1,3,n.recordStatus)),l(2),h("ngClass",g(3,5,n.recordStatus)),l(2),h("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Uo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function qo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.title," ")}}function Qo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.symbol==null?null:n.fieldsInfo.symbol.fieldTitle," ")}}function zo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.symbol," ")}}function Jo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.exchangeBuyRatio==null?null:n.fieldsInfo.exchangeBuyRatio.fieldTitle," ")}}function Ko(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.exchangeBuyRatio," ")}}function Xo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.exchangeSaleRatio==null?null:n.fieldsInfo.exchangeSaleRatio.fieldTitle," ")}}function Yo(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.exchangeSaleRatio," ")}}function Zo(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.masterCurrency==null?null:n.fieldsInfo.masterCurrency.fieldTitle," ")}}function $o(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.masterCurrency," ")}}function en(t,a){if(t&1&&(c(0,"mat-header-cell",50),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function tn(t,a){if(t&1&&(c(0,"mat-cell",54),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function on(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function nn(t,a){if(t&1&&(c(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function rn(t,a){t&1&&E(0,"mat-header-row")}function an(t,a){if(t&1){let n=y();c(0,"mat-row",57),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var gi=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae){if(super(i,new ai,fe,p,T),this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=e,this.activatedRoute=m,this.tokenHelper=p,this.cdr=r,this.translate=T,this.router=k,this.pageInfo=V,this.publicHelper=fe,this.dialog=ae,this.requestLinkCurrencyId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","MainId","RecordStatus","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","MasterCurrency","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","MainId","RecordStatus","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","MasterCurrency","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkCurrencyId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkCurrencyId")),this.requestLinkCurrencyId>0){let K=new q;K.propertyName="MainId",K.value=this.requestLinkCurrencyId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ai);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/currency/"])}};a.\u0275fac=function(o){return new(o||a)(u(Yt),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-currency-list"]],features:[X],decls:65,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","MainId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Symbol"],["matColumnDef","ExchangeBuyRatio"],["matColumnDef","ExchangeSaleRatio"],["matColumnDef","MasterCurrency"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),w(6,No,2,0,"a",8),c(7,"a",9),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(8,"i",10),s(),c(9,"a",9),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(10,"i",11),s(),v(),b(11,12),c(12,"a",13),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(13,"mat-slide-toggle",14),d(14),_(15,"translate"),s(),c(16,"a",13),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(17,"mat-slide-toggle",14),d(18),_(19,"translate"),s(),v(),ne(20,15),b(21,16),w(22,Vo,7,3,"div",17)(23,Bo,7,3,"div",17),v(),b(24,18),c(25,"app-cms-search-list",19),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(26,"app-cms-statist-list",19),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(27,20),c(28,"mat-table",21,0),M("matSortChange",function(){S(m);let r=J(29);return C(e.onTableSortData(r))}),b(30,22),w(31,Oo,2,1,"mat-header-cell",23)(32,Go,2,1,"mat-cell",24),v(),b(33,25),w(34,Ho,2,1,"mat-header-cell",23)(35,Po,2,1,"mat-cell",24),v(),b(36,26),w(37,Fo,2,1,"mat-header-cell",23)(38,Wo,5,7,"mat-cell",27),v(),b(39,28),w(40,Uo,2,1,"mat-header-cell",23)(41,qo,2,1,"mat-cell",24),v(),b(42,29),w(43,Qo,2,1,"mat-header-cell",23)(44,zo,2,1,"mat-cell",24),v(),b(45,30),w(46,Jo,2,1,"mat-header-cell",23)(47,Ko,2,1,"mat-cell",24),v(),b(48,31),w(49,Xo,2,1,"mat-header-cell",23)(50,Yo,2,1,"mat-cell",24),v(),b(51,32),w(52,Zo,2,1,"mat-header-cell",23)(53,$o,2,1,"mat-cell",24),v(),b(54,33),w(55,en,2,1,"mat-header-cell",23)(56,tn,3,3,"mat-cell",34),v(),b(57,35),w(58,on,3,3,"mat-header-cell",36)(59,nn,6,1,"mat-cell",37),v(),w(60,rn,1,0,"mat-header-row",38)(61,an,1,6,"mat-row",39),s(),v(),b(62,40),c(63,"mat-paginator",41,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("ngIf",e.requestLinkCurrencyId>0),l(7),h("checked",e.optionsSearch.data.show),l(),f("",g(15,23,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(19,25,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(),h("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),l(2),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(32),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(27,xo)))},dependencies:[_e,H,ui,Ee,ve,we,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,xi,F,Le,Qe,qe],encapsulation:2});let t=a;return t})();var ln=["vform"];function sn(t,a){if(t&1&&(c(0,"div"),E(1,"div",21),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function cn(t,a){if(t&1){let n=y();c(0,"div",22)(1,"button",23),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",24),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Hi=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new ei,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogErrorService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new N,this.dataModel=new ei,this.formInfo=new ie,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogErrorService.setAccessLoad(),this.coreLogErrorService.setAccessDataType(rt.Editor),this.coreLogErrorService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(Zt),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-error-edit"]],viewQuery:function(o,e){if(o&1&&Y(ln,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:36,vars:22,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","placeholder","description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",5),E(1,"app-progress-spinner",6),c(2,"div",7)(3,"p",8),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0),E(10,"app-cms-user-selector",9),_(11,"translate"),E(12,"app-cms-member-selector",9),_(13,"translate"),c(14,"div",10)(15,"label",11),d(16,"ModuleName"),s(),c(17,"input",12,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleName,r)||(e.dataModel.moduleName=r),C(r)}),s()(),c(19,"div",10)(20,"label",13),d(21,"ModuleEntityName"),s(),c(22,"input",14,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityName,r)||(e.dataModel.moduleEntityName=r),C(r)}),s()(),c(24,"div",10)(25,"label",15),d(26,"EntityId"),s(),c(27,"input",16,3),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),c(29,"div",10)(30,"label",17),d(31),s(),c(32,"input",18,4),A("ngModelChange",function(r){return S(m),R(e.dataModel.description,r)||(e.dataModel.description=r),C(r)}),s()(),w(34,sn,3,3,"div",19)(35,cn,5,3,"div",20),s()()()}o&2&&(l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),l(4),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",g(11,18,"TITLE.USER")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(13,20,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleName),l(5),L("ngModel",e.dataModel.moduleEntityName),l(5),L("ngModel",e.dataModel.moduleEntityId),l(4),x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),l(),L("ngModel",e.dataModel.description),l(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,nt,$e,et,tt,fi,hi,ot,it,we,pt,dt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var mn=()=>[5,10,20,100];function dn(t,a){if(t&1){let n=y();c(0,"div",17)(1,"a",45),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",46)(3,"br"),s(),c(4,"p",20),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function pn(t,a){if(t&1){let n=y();c(0,"div",17)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",48)(3,"br"),s(),c(4,"p",20),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function un(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function fn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function hn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Sn(t,a){if(t&1&&(c(0,"mat-cell",50),_(1,"statusCellClass"),E(2,"i",50),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function Cn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function _n(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function gn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function In(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberId," ")}}function En(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function bn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleName," ")}}function vn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function wn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleEntityName," ")}}function Mn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function yn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.moduleEntityId," ")}}function Tn(t,a){if(t&1&&(c(0,"mat-header-cell",49),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ln(t,a){if(t&1&&(c(0,"mat-cell",51),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function Rn(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function An(t,a){if(t&1&&(c(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function Dn(t,a){t&1&&E(0,"mat-header-row")}function xn(t,a){if(t&1){let n=y();c(0,"mat-row",54),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Pi=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae){if(super(i,new ei,fe,k,T),this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=e,this.activatedRoute=m,this.router=p,this.cdr=r,this.translate=T,this.tokenHelper=k,this.pageInfo=V,this.publicHelper=fe,this.dialog=ae,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","ModuleName","ModuleEntityName","LinkUserId","LinkMemberId","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","ModuleName","ModuleEntityName","LinkUserId","LinkMemberId","ModuleEntityId","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new N,this.dataModelEnumManageUserAccessUserTypesResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkUserId>0){let K=new q;K.propertyName="LinkUserId",K.value=this.requestLinkUserId,this.filteModelContent.filters.push(K)}if(this.requestLinkDeviceId>0){let K=new q;K.propertyName="LinkDeviceId",K.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(K)}this.optionsSearch.parentMethods={onSubmit:K=>this.onSubmitOptionsSearch(K)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ei);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Zt),u(W),u(he),u(ge),u(Ie),u(G),u(P),u(j),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-error-list"]],features:[X],decls:75,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),c(6,"a",8),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(7,"i",9),s(),c(8,"a",8),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(9,"i",10),s(),v(),b(10,11),c(11,"a",12),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(12,"mat-slide-toggle",13),d(13),_(14,"translate"),s(),c(15,"a",12),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(16,"mat-slide-toggle",13),d(17),_(18,"translate"),s(),v(),ne(19,14),b(20,15),w(21,dn,7,3,"div",16)(22,pn,7,3,"div",16),c(23,"div",17)(24,"a",18),M("click",function(){return S(m),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),E(25,"i",19)(26,"br"),s(),c(27,"p",20),d(28),_(29,"translate"),s()(),c(30,"div",17)(31,"a",18),M("click",function(){return S(m),C(e.onActionButtonViewMemberRow(e.tableRowSelected))}),E(32,"i",21)(33,"br"),s(),c(34,"p",20),d(35),_(36,"translate"),s()(),v(),b(37,22),c(38,"app-cms-search-list",23),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(39,"app-cms-statist-list",23),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(40,24),c(41,"mat-table",25,0),M("matSortChange",function(){S(m);let r=J(42);return C(e.onTableSortData(r))}),b(43,26),w(44,un,2,1,"mat-header-cell",27)(45,fn,2,1,"mat-cell",28),v(),b(46,29),w(47,hn,2,1,"mat-header-cell",27)(48,Sn,4,6,"mat-cell",30),v(),b(49,31),w(50,Cn,2,1,"mat-header-cell",27)(51,_n,4,5,"mat-cell",28),v(),b(52,32),w(53,gn,2,1,"mat-header-cell",27)(54,In,2,1,"mat-cell",28),v(),b(55,33),w(56,En,2,1,"mat-header-cell",27)(57,bn,2,1,"mat-cell",28),v(),b(58,34),w(59,vn,2,1,"mat-header-cell",27)(60,wn,2,1,"mat-cell",28),v(),b(61,35),w(62,Mn,2,1,"mat-header-cell",27)(63,yn,2,1,"mat-cell",28),v(),b(64,36),w(65,Tn,2,1,"mat-header-cell",27)(66,Ln,3,3,"mat-cell",37),v(),b(67,38),w(68,Rn,3,3,"mat-header-cell",39)(69,An,6,1,"mat-cell",40),v(),w(70,Dn,1,0,"mat-header-row",41)(71,xn,1,6,"mat-row",42),s(),v(),b(72,43),c(73,"mat-paginator",44,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(12),h("checked",e.optionsSearch.data.show),l(),f("",g(14,24,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(18,26,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(6),x(g(29,28,"ACTION.USER")),l(7),x(g(36,30,"ACTION.MEMBER")),l(3),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(29),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(32,mn)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,at,Le,Qe,qe],encapsulation:2});let t=a;return t})();var kn=["vform"];function Nn(t,a){if(t&1&&(c(0,"div"),E(1,"div",12),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function Vn(t,a){if(t&1){let n=y();c(0,"div",13)(1,"button",14),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",15),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new bt,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogMemberService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Kt,this.dataModel=new bt,this.formInfo=new ie,this.dataModelEnumSendMemberStatusTypeResult=new N,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogMemberService.setAccessLoad(),this.coreLogMemberService.setAccessDataType(rt.Editor),this.coreLogMemberService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(St),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-member-edit"]],viewQuery:function(o,e){if(o&1&&Y(kn,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:19,vars:14,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","placeholder","Description","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",2),E(1,"app-progress-spinner",3),c(2,"div",4)(3,"p",5),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0),E(10,"app-cms-user-selector",6),_(11,"translate"),c(12,"div",7)(13,"label",8),d(14),s(),c(15,"input",9,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.description,r)||(e.dataModel.description=r),C(r)}),s()(),w(17,Nn,3,3,"div",10)(18,Vn,5,3,"div",11),s()()()}o&2&&(l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),l(4),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",g(11,12,"TITLE.USER")),l(4),x(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),l(),L("ngModel",e.dataModel.description),l(2),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,nt,$e,et,tt,fi,hi,ot,it,we,pt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var Bn=["vform"];function On(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var ji=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogMemberService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new bt,this.formInfo=new ie,this.dataModelEnumSendMemberStatusTypeResult=new N,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogMemberService.setAccessLoad(),this.coreLogMemberService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(St),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-member-view"]],viewQuery:function(o,e){if(o&1&&Y(Bn,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,On,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var Gn=()=>[5,10,20,100];function Hn(t,a){if(t&1){let n=y();c(0,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionBackToParent())}),E(1,"i",48),s()}}function Pn(t,a){if(t&1){let n=y();c(0,"div",18)(1,"a",19),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow(o.tableRowSelected))}),E(2,"i",49)(3,"br"),s(),c(4,"p",21),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function Fn(t,a){if(t&1){let n=y();c(0,"div",18)(1,"a",50),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",51)(3,"br"),s(),c(4,"p",21),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function jn(t,a){if(t&1){let n=y();c(0,"div",18)(1,"a",52),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",53)(3,"br"),s(),c(4,"p",21),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function Wn(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Un(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function qn(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Qn(t,a){if(t&1&&(c(0,"mat-cell",55),_(1,"statusCellClass"),E(2,"i",55),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function zn(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function Kn(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function Yn(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberUserId==null?null:n.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Zn(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberUserId," ")}}function $n(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.apiNumber==null?null:n.fieldsInfo.apiNumber.fieldTitle," ")}}function er(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.apiNumber," ")}}function tr(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.fromNumber==null?null:n.fieldsInfo.fromNumber.fieldTitle," ")}}function ir(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.fromNumber," ")}}function or(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.toNumber==null?null:n.fieldsInfo.toNumber.fieldTitle," ")}}function nr(t,a){if(t&1&&(c(0,"mat-cell",56),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.toNumber," ")}}function rr(t,a){if(t&1&&(c(0,"mat-header-cell",54),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function ar(t,a){if(t&1&&(c(0,"mat-cell",57),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function lr(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function sr(t,a){if(t&1&&(c(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function cr(t,a){t&1&&E(0,"mat-header-row")}function mr(t,a){if(t&1){let n=y();c(0,"mat-row",60),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Wi=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae,K){if(super(o,new bt,ae,r,k),this.coreEnumService=i,this.contentService=o,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=p,this.tokenHelper=r,this.cdr=T,this.translate=k,this.router=V,this.pageInfo=fe,this.publicHelper=ae,this.dialog=K,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberUserId","FromNumber","ToNumber","ApiNumber","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberUserId","FromNumber","ToNumber","ApiNumber","CreatedDate"],this.dataModelEnumSendMemberStatusTypeResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let D=new q;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){let D=new q;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){let D=new q;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkCoreUserId||this.tableRowSelected.linkCoreUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkCoreUserId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Q),u(St),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-member-list"]],features:[X],decls:73,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","ApiNumber"],["matColumnDef","FromNumber"],["matColumnDef","ToNumber"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),w(6,Hn,2,0,"a",8),c(7,"a",9),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(8,"i",10),s(),c(9,"a",9),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(10,"i",11),s(),v(),b(11,12),c(12,"a",13),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(13,"mat-slide-toggle",14),d(14),_(15,"translate"),s(),c(16,"a",13),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(17,"mat-slide-toggle",14),d(18),_(19,"translate"),s(),v(),ne(20,15),b(21,16),w(22,Pn,7,3,"div",17)(23,Fn,7,3,"div",17)(24,jn,7,3,"div",17),c(25,"div",18)(26,"a",19),M("click",function(){return S(m),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),E(27,"i",20)(28,"br"),s(),c(29,"p",21),d(30),_(31,"translate"),s()(),v(),b(32,22),c(33,"app-cms-search-list",23),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(34,"app-cms-statist-list",23),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(35,24),c(36,"mat-table",25,0),M("matSortChange",function(){S(m);let r=J(37);return C(e.onTableSortData(r))}),b(38,26),w(39,Wn,2,1,"mat-header-cell",27)(40,Un,2,1,"mat-cell",28),v(),b(41,29),w(42,qn,2,1,"mat-header-cell",27)(43,Qn,4,6,"mat-cell",30),v(),b(44,31),w(45,zn,2,1,"mat-header-cell",27)(46,Jn,4,5,"mat-cell",28),v(),b(47,32),w(48,Kn,2,1,"mat-header-cell",27)(49,Xn,4,5,"mat-cell",28),v(),b(50,33),w(51,Yn,2,1,"mat-header-cell",27)(52,Zn,2,1,"mat-cell",28),v(),b(53,34),w(54,$n,2,1,"mat-header-cell",27)(55,er,2,1,"mat-cell",28),v(),b(56,35),w(57,tr,2,1,"mat-header-cell",27)(58,ir,2,1,"mat-cell",28),v(),b(59,36),w(60,or,2,1,"mat-header-cell",27)(61,nr,2,1,"mat-cell",37),v(),b(62,38),w(63,rr,2,1,"mat-header-cell",27)(64,ar,3,3,"mat-cell",39),v(),b(65,40),w(66,lr,3,3,"mat-header-cell",41)(67,sr,6,1,"mat-cell",42),v(),w(68,cr,1,0,"mat-header-row",43)(69,mr,1,6,"mat-row",44),s(),v(),b(70,45),c(71,"mat-paginator",46,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("ngIf",e.requestLinkSiteId>0),l(7),h("checked",e.optionsSearch.data.show),l(),f("",g(15,25,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(19,27,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(6),x(g(31,29,"ACTION.USER")),l(3),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(32),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(31,Gn)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,at,ft,Le,Qe,qe],encapsulation:2});let t=a;return t})();var dr=["vform"];function pr(t,a){if(t&1&&(c(0,"option",30),d(1),s()),t&2){let n=a.$implicit;h("value",n.value),l(),f(" ",n.description," ")}}function ur(t,a){t&1&&(c(0,"mat-error"),d(1," SendStatusType is "),c(2,"strong"),d(3),_(4,"translate"),s()()),t&2&&(l(3),x(g(4,1,"content.required")))}function fr(t,a){if(t&1&&(c(0,"div"),E(1,"div",31),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function hr(t,a){if(t&1){let n=y();c(0,"div",32)(1,"button",33),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",34),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ui=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new wt,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogNotificationService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new N,this.dataModel=new wt,this.formInfo=new ie,this.dataModelEnumSendNotificationStatusTypeResult=new N,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendNotificationStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogNotificationService.setAccessLoad(),this.coreLogNotificationService.setAccessDataType(rt.Editor),this.coreLogNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(Ct),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-notification-edit"]],viewQuery:function(o,e){if(o&1&&Y(dr,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:56,vars:30,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["Title",""],["content",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","placeholder","title","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.content",1,"color-highlight"],["matInput","","name","dataModel.content","type","text","placeholder","content","id","dataModel.content",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",8),E(1,"app-progress-spinner",9),c(2,"div",10)(3,"p",11),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0)(10,"div",12)(11,"select",13,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.sendStatusType,r)||(e.dataModel.sendStatusType=r),C(r)}),w(13,pr,2,2,"option",14),s(),c(14,"em"),d(15),_(16,"translate"),s(),w(17,ur,5,3,"mat-error",15),s(),E(18,"app-cms-site-selector",16),_(19,"translate"),E(20,"app-cms-member-selector",16),_(21,"translate"),c(22,"div",12)(23,"label",17),d(24,"ModuleName"),s(),c(25,"input",18,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleName,r)||(e.dataModel.moduleName=r),C(r)}),s()(),c(27,"div",12)(28,"label",19),d(29,"ModuleEntityName"),s(),c(30,"input",20,3),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityName,r)||(e.dataModel.moduleEntityName=r),C(r)}),s()(),c(32,"div",12)(33,"label",21),d(34,"EntityId"),s(),c(35,"input",22,4),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),c(37,"div",12)(38,"label",23),d(39),s(),c(40,"input",24,5),A("ngModelChange",function(r){return S(m),R(e.dataModel.title,r)||(e.dataModel.title=r),C(r)}),s()(),c(42,"div",12)(43,"label",25),d(44,"content"),s(),c(45,"textarea",26,6),A("ngModelChange",function(r){return S(m),R(e.dataModel.content,r)||(e.dataModel.content=r),C(r)}),d(47,"        "),s()(),c(48,"div",12)(49,"label",27),d(50,"ReturnApi"),s(),c(51,"textarea",28,7),A("ngModelChange",function(r){return S(m),R(e.dataModel.returnApi,r)||(e.dataModel.returnApi=r),C(r)}),d(53,"        "),s()(),w(54,fr,3,3,"div",15)(55,hr,5,3,"div",29),s()()()}if(o&2){let m=J(12);l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),l(5),L("ngModel",e.dataModel.sendStatusType),l(2),h("ngForOf",e.dataModelEnumSendNotificationStatusTypeResult.listItems),l(2),x(g(16,24,"TITLE.SELECT_STATUS")),l(2),h("ngIf",m.errors==null?null:m.errors.required),l(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",g(19,26,"TITLE.SITE")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(21,28,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleName),l(5),L("ngModel",e.dataModel.moduleEntityName),l(5),L("ngModel",e.dataModel.moduleEntityId),l(4),x(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),l(),L("ngModel",e.dataModel.title),l(5),L("ngModel",e.dataModel.content),l(6),L("ngModel",e.dataModel.returnApi),l(3),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ut,H,nt,Qt,zt,$e,qt,et,tt,ot,it,Jt,we,Mt,dt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var Sr=["vform"];function Cr(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var qi=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogNotificationService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new wt,this.formInfo=new ie,this.dataModelEnumSendNotificationStatusTypeResult=new N,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendNotificationStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogNotificationService.setAccessLoad(),this.coreLogNotificationService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(Ct),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-notification-view"]],viewQuery:function(o,e){if(o&1&&Y(Sr,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,Cr,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var _r=()=>[5,10,20,100];function gr(t,a){if(t&1){let n=y();c(0,"div",37)(1,"a",38),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow(o.tableRowSelected))}),E(2,"i",39)(3,"br"),s(),c(4,"p",40),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function Ir(t,a){if(t&1){let n=y();c(0,"div",37)(1,"a",41),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",42)(3,"br"),s(),c(4,"p",40),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function Er(t,a){if(t&1){let n=y();c(0,"div",37)(1,"a",43),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",44)(3,"br"),s(),c(4,"p",40),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function br(t,a){if(t&1){let n=y();c(0,"div",37)(1,"a",38),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewMemberRow(o.tableRowSelected))}),E(2,"i",45)(3,"br"),s(),c(4,"p",40),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.MEMBER")))}function vr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function wr(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function Mr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function yr(t,a){if(t&1&&(c(0,"mat-cell",47),_(1,"statusCellClass"),E(2,"i",47),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function Tr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Lr(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function Rr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ar(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberId," ")}}function Dr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.contentType==null?null:n.fieldsInfo.contentType.fieldTitle," ")}}function xr(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f("",n.contentType," ")}}function kr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.senderlinkUserId==null?null:n.fieldsInfo.senderlinkUserId.fieldTitle," ")}}function Nr(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.senderlinkUserId))," ")}}function Vr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.receiverlinkUserId==null?null:n.fieldsInfo.receiverlinkUserId.fieldTitle," ")}}function Br(t,a){if(t&1&&(c(0,"mat-cell",48),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.receiverlinkUserId))," ")}}function Or(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.sendStatusType==null?null:n.fieldsInfo.sendStatusType.fieldTitle," ")}}function Gr(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"enums"),s()),t&2){let n=a.$implicit,i=I();l(),f(" ",Wt(2,1,n.sendStatusType,i.dataModelEnumSendNotificationStatusTypeResult.listItems)," ")}}function Hr(t,a){if(t&1&&(c(0,"mat-header-cell",46),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Pr(t,a){if(t&1&&(c(0,"mat-cell",49),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function Fr(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function jr(t,a){if(t&1&&(c(0,"mat-cell",50)(1,"button",51)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function Wr(t,a){t&1&&E(0,"mat-header-row")}function Ur(t,a){if(t&1){let n=y();c(0,"mat-row",52),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var zi=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae,K){if(super(o,new wt,ae,r,k),this.coreEnumService=i,this.contentService=o,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=p,this.tokenHelper=r,this.cdr=T,this.translate=k,this.router=V,this.pageInfo=fe,this.publicHelper=ae,this.dialog=K,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","SendStatusType","senderlinkUserId","receiverlinkUserId","contentType","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","SendStatusType","senderlinkUserId","receiverlinkUserId","contentType","CreatedDate"],this.dataModelEnumSendNotificationStatusTypeResult=new N,this.dataModelEnumContentTypeResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let D=new q;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){let D=new q;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){let D=new q;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumSendNotificationStatusType()}getEnumSendNotificationStatusType(){this.coreEnumService.ServiceSendNotificationStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendNotificationStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Q),u(Ct),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-notification-list"]],features:[X],decls:60,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkMemberId"],["matColumnDef","contentType"],["matColumnDef","senderlinkUserId"],["matColumnDef","receiverlinkUserId"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","SendStatusType"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5),b(4,6),c(5,"a",7),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(6,"mat-slide-toggle",8),d(7),_(8,"translate"),s(),c(9,"a",7),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(10,"mat-slide-toggle",8),d(11),_(12,"translate"),s(),v(),ne(13,9),b(14,10),w(15,gr,7,3,"div",11)(16,Ir,7,3,"div",11)(17,Er,7,3,"div",11)(18,br,7,3,"div",11),v(),b(19,12),c(20,"app-cms-search-list",13),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(21,"app-cms-statist-list",13),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(22,14),c(23,"mat-table",15,0),M("matSortChange",function(){S(m);let r=J(24);return C(e.onTableSortData(r))}),b(25,16),w(26,vr,2,1,"mat-header-cell",17)(27,wr,2,1,"mat-cell",18),v(),b(28,19),w(29,Mr,2,1,"mat-header-cell",17)(30,yr,4,6,"mat-cell",20),v(),b(31,21),w(32,Tr,2,1,"mat-header-cell",17)(33,Lr,4,5,"mat-cell",18),v(),b(34,22),w(35,Rr,2,1,"mat-header-cell",17)(36,Ar,2,1,"mat-cell",18),v(),b(37,23),w(38,Dr,2,1,"mat-header-cell",17)(39,xr,2,1,"mat-cell",18),v(),b(40,24),w(41,kr,2,1,"mat-header-cell",17)(42,Nr,4,5,"mat-cell",18),v(),b(43,25),w(44,Vr,2,1,"mat-header-cell",17)(45,Br,4,5,"mat-cell",26),v(),b(46,27),w(47,Or,2,1,"mat-header-cell",17)(48,Gr,3,4,"mat-cell",18),v(),b(49,28),w(50,Hr,2,1,"mat-header-cell",17)(51,Pr,3,3,"mat-cell",29),v(),b(52,30),w(53,Fr,3,3,"mat-header-cell",31)(54,jr,6,1,"mat-cell",32),v(),w(55,Wr,1,0,"mat-header-row",33)(56,Ur,1,6,"mat-row",34),s(),v(),b(57,35),c(58,"mat-paginator",36,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("checked",e.optionsSearch.data.show),l(),f("",g(8,24,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(12,26,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),l(2),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(32),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(28,_r)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,ti,at,ft,Le,Qe,qe],encapsulation:2});let t=a;return t})();var qr=["vform"];function Qr(t,a){if(t&1){let n=y();c(0,"div",9)(1,"label",17),d(2),s(),c(3,"input",18),A("ngModelChange",function(o){S(n);let e=I();return R(e.dataModel.expireDate,o)||(e.dataModel.expireDate=o),C(o)}),s(),E(4,"mat-datepicker-toggle",19)(5,"mat-datepicker",20,3),s()}if(t&2){let n=J(6),i=I();l(2),x(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),l(),h("matDatepicker",n),L("ngModel",i.dataModel.expireDate),l(),h("for",n)}}function zr(t,a){if(t&1&&(c(0,"div"),E(1,"div",21),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function Jr(t,a){if(t&1){let n=y();c(0,"div",22)(1,"button",23),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",24),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ji=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new vt,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogReportDataService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new Kt,this.dataModel=new vt,this.formInfo=new ie,this.dataModelEnumSendReportDataStatusTypeResult=new N,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogReportDataService.setAccessLoad(),this.coreLogReportDataService.setAccessDataType(rt.Editor),this.coreLogReportDataService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(_t),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-report-data-edit"]],viewQuery:function(o,e){if(o&1&&Y(qr,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:30,vars:25,consts:[["vform","ngForm"],["ModuleEntityId",""],["ReportData",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.reportData",1,"color-highlight"],["matInput","","name","dataModel.reportData","type","text","placeholder","ReportData","id","dataModel.reportData",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",4),E(1,"app-progress-spinner",5),c(2,"div",6)(3,"p",7),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0),E(10,"app-cms-site-selector",8),_(11,"translate"),E(12,"app-cms-user-selector",8),_(13,"translate"),E(14,"app-cms-member-selector",8),_(15,"translate"),c(16,"div",9)(17,"label",10),d(18,"ModuleEntityId"),s(),c(19,"input",11,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),c(21,"div",9)(22,"label",12),d(23,"Report Data"),s(),c(24,"textarea",13,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.reportData,r)||(e.dataModel.reportData=r),C(r)}),d(26,"        "),s()(),w(27,Qr,7,4,"div",14)(28,zr,3,3,"div",15)(29,Jr,5,3,"div",16),s()()()}o&2&&(l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,17,"TITLE.Be_Careful_When_Entering_Information")," "),l(4),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",g(11,19,"TITLE.SITE")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",g(13,21,"TITLE.USER")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(15,23,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleEntityId),l(5),L("ngModel",e.dataModel.reportData),l(3),h("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),l(),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,nt,$e,et,tt,ot,it,Ti,Li,Ri,Mi,we,Mt,pt,dt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var Kr=["vform"];function Xr(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Ki=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogReportDataService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new vt,this.formInfo=new ie,this.dataModelEnumSendSmsStatusTypeResult=new N,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogReportDataService.setAccessLoad(),this.coreLogReportDataService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(_t),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-report-data-view"]],viewQuery:function(o,e){if(o&1&&Y(Kr,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,Xr,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var Yr=()=>[5,10,20,100],Zr=t=>({background:t});function $r(t,a){if(t&1){let n=y();c(0,"a",43),M("click",function(){S(n);let o=I();return C(o.onActionBackToParent())}),E(1,"i",44),s()}}function ea(t,a){if(t&1){let n=y();c(0,"div",45)(1,"a",46),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow(o.tableRowSelected))}),E(2,"i",47)(3,"br"),s(),c(4,"p",48),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function ta(t,a){if(t&1){let n=y();c(0,"div",45)(1,"a",49),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",50)(3,"br"),s(),c(4,"p",48),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function ia(t,a){if(t&1){let n=y();c(0,"div",45)(1,"a",51),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",52)(3,"br"),s(),c(4,"p",48),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function oa(t,a){if(t&1){let n=y();c(0,"div",45)(1,"a",46),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewUserRow(o.tableRowSelected))}),E(2,"i",53)(3,"br"),s(),c(4,"p",48),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.USER")))}function na(t,a){if(t&1){let n=y();c(0,"div",45)(1,"a",46),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewMemberRow(o.tableRowSelected))}),E(2,"i",54)(3,"br"),s(),c(4,"p",48),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.MEMBER")))}function ra(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function aa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function la(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function sa(t,a){if(t&1&&(c(0,"mat-cell",56),_(1,"statusCellClass"),E(2,"i",56),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function ca(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function ma(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function da(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function pa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function ua(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function fa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberId," ")}}function ha(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkModuleEntityId==null?null:n.fieldsInfo.linkModuleEntityId.fieldTitle," ")}}function Sa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkModuleEntityId," ")}}function Ca(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkModuleEntityReportFileId==null?null:n.fieldsInfo.linkModuleEntityReportFileId.fieldTitle," ")}}function _a(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkModuleEntityReportFileId," ")}}function ga(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ia(t,a){if(t&1&&(c(0,"mat-cell",57),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function Ea(t,a){if(t&1&&(c(0,"mat-header-cell",55),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.expireDate==null?null:n.fieldsInfo.expireDate.fieldTitle," ")}}function ba(t,a){if(t&1&&(c(0,"mat-cell",58),d(1),_(2,"persianDate"),s()),t&2){let n=a.$implicit,i=I();h("ngStyle",pi(4,Zr,i.publicHelper.RowStyleExpireDate(n.expireDate))),l(),f(" ",g(2,2,n.expireDate)," ")}}function va(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function wa(t,a){if(t&1&&(c(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function Ma(t,a){t&1&&E(0,"mat-header-row")}function ya(t,a){if(t&1){let n=y();c(0,"mat-row",61),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var ri=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae,K){if(super(o,new vt,ae,r,k),this.coreEnumService=i,this.contentService=o,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=p,this.tokenHelper=r,this.cdr=T,this.translate=k,this.router=V,this.pageInfo=fe,this.publicHelper=ae,this.dialog=K,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkModuleEntityId=0,this.requestLinkModuleEntityReportFileId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","LinkModuleEntityId","LinkModuleEntityReportFileId","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","LinkModuleEntityId","LinkModuleEntityReportFileId","CreatedDate","ExpireDate"],this.dataModelEnumSendReportDataStatusTypeResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkModuleEntityId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleEntityId")),this.requestLinkModuleEntityReportFileId=this.activatedRoute.snapshot.paramMap.get("LinkModuleEntityReportFileId"),this.requestLinkSiteId>0){let D=new q;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){let D=new q;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkModuleEntityId>0){let D=new q;D.propertyName="LinkModuleEntityId",D.value=this.requestLinkModuleEntityId,this.filteModelContent.filters.push(D)}if(this.requestLinkModuleEntityReportFileId&&this.requestLinkModuleEntityReportFileId.length>0){let D=new q;D.propertyName="LinkModuleEntityReportFileId",D.value=this.requestLinkModuleEntityReportFileId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Q),u(_t),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-report-data-list"]],features:[X],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkModuleEntityId"],["matColumnDef","LinkModuleEntityReportFileId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#FFFFFF"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),w(6,$r,2,0,"a",8),c(7,"a",9),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(8,"i",10),s(),c(9,"a",9),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(10,"i",11),s(),v(),b(11,12),c(12,"a",13),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(13,"mat-slide-toggle",14),d(14),_(15,"translate"),s(),c(16,"a",13),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(17,"mat-slide-toggle",14),d(18),_(19,"translate"),s(),v(),ne(20,15),b(21,16),w(22,ea,7,3,"div",17)(23,ta,7,3,"div",17)(24,ia,7,3,"div",17)(25,oa,7,3,"div",17)(26,na,7,3,"div",17),v(),b(27,18),c(28,"app-cms-search-list",19),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(29,"app-cms-statist-list",19),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(30,20),c(31,"mat-table",21,0),M("matSortChange",function(){S(m);let r=J(32);return C(e.onTableSortData(r))}),b(33,22),w(34,ra,2,1,"mat-header-cell",23)(35,aa,2,1,"mat-cell",24),v(),b(36,25),w(37,la,2,1,"mat-header-cell",23)(38,sa,4,6,"mat-cell",26),v(),b(39,27),w(40,ca,2,1,"mat-header-cell",23)(41,ma,4,5,"mat-cell",24),v(),b(42,28),w(43,da,2,1,"mat-header-cell",23)(44,pa,4,5,"mat-cell",24),v(),b(45,29),w(46,ua,2,1,"mat-header-cell",23)(47,fa,2,1,"mat-cell",24),v(),b(48,30),w(49,ha,2,1,"mat-header-cell",23)(50,Sa,2,1,"mat-cell",24),v(),b(51,31),w(52,Ca,2,1,"mat-header-cell",23)(53,_a,2,1,"mat-cell",24),v(),b(54,32),w(55,ga,2,1,"mat-header-cell",23)(56,Ia,3,3,"mat-cell",33),v(),b(57,34),w(58,Ea,2,1,"mat-header-cell",23)(59,ba,3,6,"mat-cell",35),v(),b(60,36),w(61,va,3,3,"mat-header-cell",37)(62,wa,6,1,"mat-cell",38),v(),w(63,Ma,1,0,"mat-header-row",39)(64,ya,1,6,"mat-row",40),s(),v(),b(65,41),c(66,"mat-paginator",42,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("ngIf",e.requestLinkSiteId>0),l(7),h("checked",e.optionsSearch.data.show),l(),f("",g(15,26,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(19,28,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),l(2),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(32),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,Yr)))},dependencies:[_e,H,ui,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,ki,at,ft,Le,Qe,qe],encapsulation:2});let t=a;return t})();var Ta=["vform"];function La(t,a){if(t&1&&(c(0,"option",36),d(1),s()),t&2){let n=a.$implicit;h("value",n.value),l(),f(" ",n.description," ")}}function Ra(t,a){t&1&&(c(0,"mat-error"),d(1," SendStatusType is "),c(2,"strong"),d(3),_(4,"translate"),s()()),t&2&&(l(3),x(g(4,1,"content.required")))}function Aa(t,a){if(t&1&&(c(0,"div"),E(1,"div",37),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function Da(t,a){if(t&1){let n=y();c(0,"div",38)(1,"button",39),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",40),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new It,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogSmsService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new N,this.dataModel=new It,this.formInfo=new ie,this.dataModelEnumSendSmsStatusTypeResult=new N,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogSmsService.setAccessLoad(),this.coreLogSmsService.setAccessDataType(rt.Editor),this.coreLogSmsService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(gt),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-sms-edit"]],viewQuery:function(o,e){if(o&1&&Y(Ta,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:68,vars:36,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["FromNumber",""],["toNumber",""],["ApiNumber",""],["Message",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","placeholder","FromNumber","id","dataModel.fromNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","placeholder","toNumber","id","dataModel.toNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.apiNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.apiNumber","placeholder","ApiNumber","id","dataModel.apiNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","name","dataModel.message","type","text","placeholder","Message","id","dataModel.message",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",10),E(1,"app-progress-spinner",11),c(2,"div",12)(3,"p",13),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0)(10,"div",14)(11,"select",15,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.sendStatusType,r)||(e.dataModel.sendStatusType=r),C(r)}),w(13,La,2,2,"option",16),s(),c(14,"em"),d(15),_(16,"translate"),s(),w(17,Ra,5,3,"mat-error",17),s(),E(18,"app-cms-site-selector",18),_(19,"translate"),E(20,"app-cms-user-selector",18),_(21,"translate"),E(22,"app-cms-member-selector",18),_(23,"translate"),c(24,"div",14)(25,"label",19),d(26,"ModuleName"),s(),c(27,"input",20,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleName,r)||(e.dataModel.moduleName=r),C(r)}),s()(),c(29,"div",14)(30,"label",21),d(31,"ModuleEntityName"),s(),c(32,"input",22,3),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityName,r)||(e.dataModel.moduleEntityName=r),C(r)}),s()(),c(34,"div",14)(35,"label",23),d(36,"ModuleEntityId"),s(),c(37,"input",24,4),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),c(39,"div",14)(40,"label",25),d(41,"FromNumber"),s(),c(42,"input",26,5),A("ngModelChange",function(r){return S(m),R(e.dataModel.fromNumber,r)||(e.dataModel.fromNumber=r),C(r)}),s()(),c(44,"div",14)(45,"label",27),d(46,"toNumber"),s(),c(47,"input",28,6),A("ngModelChange",function(r){return S(m),R(e.dataModel.toNumber,r)||(e.dataModel.toNumber=r),C(r)}),s()(),c(49,"div",14)(50,"label",29),d(51,"ApiNumber"),s(),c(52,"input",30,7),A("ngModelChange",function(r){return S(m),R(e.dataModel.apiNumber,r)||(e.dataModel.apiNumber=r),C(r)}),s()(),c(54,"div",14)(55,"label",31),d(56,"Message"),s(),c(57,"textarea",32,8),A("ngModelChange",function(r){return S(m),R(e.dataModel.message,r)||(e.dataModel.message=r),C(r)}),d(59,"        "),s()(),c(60,"div",14)(61,"label",33),d(62,"ReturnApi"),s(),c(63,"textarea",34,9),A("ngModelChange",function(r){return S(m),R(e.dataModel.returnApi,r)||(e.dataModel.returnApi=r),C(r)}),d(65,"        "),s()(),w(66,Aa,3,3,"div",17)(67,Da,5,3,"div",35),s()()()}if(o&2){let m=J(12);l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),l(5),L("ngModel",e.dataModel.sendStatusType),l(2),h("ngForOf",e.dataModelEnumSendSmsStatusTypeResult.listItems),l(2),x(g(16,28,"TITLE.SELECT_STATUS")),l(2),h("ngIf",m.errors==null?null:m.errors.required),l(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",g(19,30,"TITLE.SITE")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",g(21,32,"TITLE.USER")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(23,34,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleName),l(5),L("ngModel",e.dataModel.moduleEntityName),l(5),L("ngModel",e.dataModel.moduleEntityId),l(5),L("ngModel",e.dataModel.fromNumber),l(5),L("ngModel",e.dataModel.toNumber),l(5),L("ngModel",e.dataModel.apiNumber),l(5),L("ngModel",e.dataModel.message),l(6),L("ngModel",e.dataModel.returnApi),l(3),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ut,H,nt,Qt,zt,$e,qt,et,tt,ot,it,Jt,we,Mt,pt,dt,oe,F,lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=a;return t})();var xa=["vform"];function ka(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var Yi=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogSmsService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new It,this.formInfo=new ie,this.dataModelEnumSendSmsStatusTypeResult=new N,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogSmsService.setAccessLoad(),this.coreLogSmsService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(gt),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-sms-view"]],viewQuery:function(o,e){if(o&1&&Y(xa,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,ka,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var Na=()=>[5,10,20,100];function Va(t,a){if(t&1){let n=y();c(0,"a",44),M("click",function(){S(n);let o=I();return C(o.onActionBackToParent())}),E(1,"i",45),s()}}function Ba(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow(o.tableRowSelected))}),E(2,"i",48)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function Oa(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",50),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",51)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function Ga(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",52),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",53)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function Ha(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewUserRow(o.tableRowSelected))}),E(2,"i",54)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.USER")))}function Pa(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewMemberRow(o.tableRowSelected))}),E(2,"i",55)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.MEMBER")))}function Fa(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ja(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function Wa(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ua(t,a){if(t&1&&(c(0,"mat-cell",57),_(1,"statusCellClass"),E(2,"i",57),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function qa(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Qa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function za(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Ja(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function Ka(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Xa(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberId," ")}}function Ya(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.apiNumber==null?null:n.fieldsInfo.apiNumber.fieldTitle," ")}}function Za(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.apiNumber," ")}}function $a(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.fromNumber==null?null:n.fieldsInfo.fromNumber.fieldTitle," ")}}function el(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.fromNumber," ")}}function tl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.toNumber==null?null:n.fieldsInfo.toNumber.fieldTitle," ")}}function il(t,a){if(t&1&&(c(0,"mat-cell",58),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.toNumber," ")}}function ol(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.sendStatusType==null?null:n.fieldsInfo.sendStatusType.fieldTitle," ")}}function nl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"enums"),s()),t&2){let n=a.$implicit,i=I();l(),f(" ",Wt(2,1,n.sendStatusType,i.dataModelEnumSendSmsStatusTypeResult.listItems)," ")}}function rl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function al(t,a){if(t&1&&(c(0,"mat-cell",59),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function ll(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function sl(t,a){if(t&1&&(c(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function cl(t,a){t&1&&E(0,"mat-header-row")}function ml(t,a){if(t&1){let n=y();c(0,"mat-row",62),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var Zi=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae,K){if(super(o,new It,ae,r,k),this.coreEnumService=i,this.contentService=o,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=p,this.tokenHelper=r,this.cdr=T,this.translate=k,this.router=V,this.pageInfo=fe,this.publicHelper=ae,this.dialog=K,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","SendStatusType","FromNumber","ToNumber","ApiNumber","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","SendStatusType","FromNumber","ToNumber","ApiNumber","CreatedDate"],this.dataModelEnumSendSmsStatusTypeResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let D=new q;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){let D=new q;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){let D=new q;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new It);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Q),u(gt),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-sms-list"]],features:[X],decls:71,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ApiNumber"],["matColumnDef","FromNumber"],["matColumnDef","ToNumber"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","SendStatusType"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),w(6,Va,2,0,"a",8),c(7,"a",9),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(8,"i",10),s(),c(9,"a",9),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(10,"i",11),s(),v(),b(11,12),c(12,"a",13),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(13,"mat-slide-toggle",14),d(14),_(15,"translate"),s(),c(16,"a",13),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(17,"mat-slide-toggle",14),d(18),_(19,"translate"),s(),v(),ne(20,15),b(21,16),w(22,Ba,7,3,"div",17)(23,Oa,7,3,"div",17)(24,Ga,7,3,"div",17)(25,Ha,7,3,"div",17)(26,Pa,7,3,"div",17),v(),b(27,18),c(28,"app-cms-search-list",19),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(29,"app-cms-statist-list",19),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(30,20),c(31,"mat-table",21,0),M("matSortChange",function(){S(m);let r=J(32);return C(e.onTableSortData(r))}),b(33,22),w(34,Fa,2,1,"mat-header-cell",23)(35,ja,2,1,"mat-cell",24),v(),b(36,25),w(37,Wa,2,1,"mat-header-cell",23)(38,Ua,4,6,"mat-cell",26),v(),b(39,27),w(40,qa,2,1,"mat-header-cell",23)(41,Qa,4,5,"mat-cell",24),v(),b(42,28),w(43,za,2,1,"mat-header-cell",23)(44,Ja,4,5,"mat-cell",24),v(),b(45,29),w(46,Ka,2,1,"mat-header-cell",23)(47,Xa,2,1,"mat-cell",24),v(),b(48,30),w(49,Ya,2,1,"mat-header-cell",23)(50,Za,2,1,"mat-cell",24),v(),b(51,31),w(52,$a,2,1,"mat-header-cell",23)(53,el,2,1,"mat-cell",24),v(),b(54,32),w(55,tl,2,1,"mat-header-cell",23)(56,il,2,1,"mat-cell",33),v(),b(57,34),w(58,ol,2,1,"mat-header-cell",23)(59,nl,3,4,"mat-cell",24),v(),b(60,35),w(61,rl,2,1,"mat-header-cell",23)(62,al,3,3,"mat-cell",36),v(),b(63,37),w(64,ll,3,3,"mat-header-cell",38)(65,sl,6,1,"mat-cell",39),v(),w(66,cl,1,0,"mat-header-row",40)(67,ml,1,6,"mat-row",41),s(),v(),b(68,42),c(69,"mat-paginator",43,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("ngIf",e.requestLinkSiteId>0),l(7),h("checked",e.optionsSearch.data.show),l(),f("",g(15,26,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(19,28,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),l(2),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(35),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,Na)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,ti,at,ft,Le,Qe,qe],encapsulation:2});let t=a;return t})();var dl=["vform"];function pl(t,a){if(t&1&&(c(0,"option",36),d(1),s()),t&2){let n=a.$implicit;h("value",n.value),l(),f(" ",n.description," ")}}function ul(t,a){t&1&&(c(0,"mat-error"),d(1," SendStatusType is "),c(2,"strong"),d(3),_(4,"translate"),s()()),t&2&&(l(3),x(g(4,1,"content.required")))}function fl(t,a){if(t&1&&(c(0,"div"),E(1,"div",37),_(2,"prettyjson"),s()),t&2){let n=I();l(),h("innerHTML",g(2,1,n.dataModel),Ye)}}function hl(t,a){if(t&1){let n=y();c(0,"div",38)(1,"button",39),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",40),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var $i=(()=>{let a=class a extends st{constructor(i,o,e,m,p,r,T,k,V){super(m,new Et,k,V),this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogEmailService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new N,this.dataModel=new Et,this.formInfo=new ie,this.dataModelEnumSendEmailStatusTypeResult=new N,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendEmailStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogEmailService.setAccessLoad(),this.coreLogEmailService.setAccessDataType(rt.Editor),this.coreLogEmailService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(ht),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-email-edit"]],viewQuery:function(o,e){if(o&1&&Y(dl,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},features:[X],decls:69,vars:36,consts:[["vform","ngForm"],["SendStatusType","ngModel"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["fromEmail",""],["toEmail",""],["emailSubject",""],["emailBody",""],["ReturnApi",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.sendStatusType","name","dataModel.sendStatusType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromEmail",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromEmail","placeholder","fromEmail","id","dataModel.fromEmail",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toEmail",1,"color-highlight"],["matInput","","type","text","name","dataModel.toEmail","placeholder","toEmail","id","dataModel.toEmail",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.emailSubject",1,"color-highlight"],["matInput","","name","dataModel.emailSubject","type","text","placeholder","emailSubject","id","dataModel.emailSubject",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.emailBody",1,"color-highlight"],["matInput","","name","dataModel.emailBody","type","text","placeholder","emailBody","id","dataModel.emailBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.returnApi",1,"color-highlight"],["matInput","","name","dataModel.returnApi","type","text","placeholder","ReturnApi","id","dataModel.returnApi",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){if(o&1){let m=y();c(0,"div",10),E(1,"app-progress-spinner",11),c(2,"div",12)(3,"p",13),d(4),s(),c(5,"p"),d(6),_(7,"translate"),s(),c(8,"form",null,0)(10,"div",14)(11,"select",15,1),A("ngModelChange",function(r){return S(m),R(e.dataModel.sendStatusType,r)||(e.dataModel.sendStatusType=r),C(r)}),w(13,pl,2,2,"option",16),s(),c(14,"em"),d(15),_(16,"translate"),s(),w(17,ul,5,3,"mat-error",17),s(),E(18,"app-cms-site-selector",18),_(19,"translate"),E(20,"app-cms-user-selector",18),_(21,"translate"),E(22,"app-cms-member-selector",18),_(23,"translate"),c(24,"div",14)(25,"label",19),d(26,"ModuleName"),s(),c(27,"input",20,2),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleName,r)||(e.dataModel.moduleName=r),C(r)}),s()(),c(29,"div",14)(30,"label",21),d(31,"ModuleEntityName"),s(),c(32,"input",22,3),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityName,r)||(e.dataModel.moduleEntityName=r),C(r)}),s()(),c(34,"div",14)(35,"label",23),d(36,"ModuleEntityId"),s(),c(37,"input",24,4),A("ngModelChange",function(r){return S(m),R(e.dataModel.moduleEntityId,r)||(e.dataModel.moduleEntityId=r),C(r)}),s()(),c(39,"div",14)(40,"label",25),d(41,"fromEmail"),s(),c(42,"input",26,5),A("ngModelChange",function(r){return S(m),R(e.dataModel.fromEmail,r)||(e.dataModel.fromEmail=r),C(r)}),s()(),c(44,"div",14)(45,"label",27),d(46,"toEmail"),s(),c(47,"input",28,6),A("ngModelChange",function(r){return S(m),R(e.dataModel.toEmail,r)||(e.dataModel.toEmail=r),C(r)}),s()(),c(49,"div",14)(50,"label",29),d(51,"emailSubject"),s(),c(52,"textarea",30,7),A("ngModelChange",function(r){return S(m),R(e.dataModel.emailSubject,r)||(e.dataModel.emailSubject=r),C(r)}),d(54,"        "),s()(),c(55,"div",14)(56,"label",31),d(57,"emailBody"),s(),c(58,"textarea",32,8),A("ngModelChange",function(r){return S(m),R(e.dataModel.emailBody,r)||(e.dataModel.emailBody=r),C(r)}),d(60,"            "),s()(),c(61,"div",14)(62,"label",33),d(63,"ReturnApi"),s(),c(64,"textarea",34,9),A("ngModelChange",function(r){return S(m),R(e.dataModel.returnApi,r)||(e.dataModel.returnApi=r),C(r)}),d(66,"        "),s()(),w(67,fl,3,3,"div",17)(68,hl,5,3,"div",35),s()()()}if(o&2){let m=J(12);l(),h("optionsInfoAreaId",e.constructorInfoAreaId),l(3),f(" ",e.formInfo.formTitle," "),l(2),f(" ",g(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),l(5),L("ngModel",e.dataModel.sendStatusType),l(2),h("ngForOf",e.dataModelEnumSendEmailStatusTypeResult.listItems),l(2),x(g(16,28,"TITLE.SELECT_STATUS")),l(2),h("ngIf",m.errors==null?null:m.errors.required),l(),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",g(19,30,"TITLE.SITE")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",g(21,32,"TITLE.USER")),l(2),h("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",g(23,34,"TITLE.Member")),l(5),L("ngModel",e.dataModel.moduleName),l(5),L("ngModel",e.dataModel.moduleEntityName),l(5),L("ngModel",e.dataModel.moduleEntityId),l(5),L("ngModel",e.dataModel.fromEmail),l(5),L("ngModel",e.dataModel.toEmail),l(5),L("ngModel",e.dataModel.emailSubject),l(6),L("ngModel",e.dataModel.emailBody),l(6),L("ngModel",e.dataModel.returnApi),l(3),h("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),l(),h("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ut,H,nt,Qt,zt,$e,qt,et,tt,ot,it,Jt,we,Mt,pt,dt,oe,F,lt],encapsulation:2});let t=a;return t})();var Sl=["vform"];function Cl(t,a){if(t&1){let n=y();c(0,"div",5)(1,"button",10),M("click",function(){S(n);let o=I();return C(o.onFormCancel())}),E(2,"i",11),d(3),_(4,"translate"),s()()}t&2&&(l(3),f(" ",g(4,1,"ACTION.CANCEL")," "))}var eo=(()=>{let a=class a{constructor(i,o,e,m,p,r,T,k,V){this.data=i,this.dialogRef=o,this.coreEnumService=e,this.coreLogEmailService=m,this.cmsToastrService=p,this.tokenHelper=r,this.cdr=T,this.publicHelper=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ct,this.dataModelResult=new N,this.dataModel=new Et,this.formInfo=new ie,this.dataModelEnumSendEmailStatusTypeResult=new N,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendEmailStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(i,o,this.constructorInfoAreaId)}),this.coreLogEmailService.setAccessLoad(),this.coreLogEmailService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(o){return new(o||a)(u(te),u(ee),u(Q),u(ht),u(W),u(j),u(G),u(U),u(P))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-email-view"]],viewQuery:function(o,e){if(o&1&&Y(Sl,5),o&2){let m;Z(m=$())&&(e.formGroup=m.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,e){o&1&&(c(0,"div",0),d(1),s(),c(2,"div",1),E(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),c(5,"div",4)(6,"div",5)(7,"small",6),d(8),s(),c(9,"small",7),d(10),s()()(),c(11,"div",8),w(12,Cl,5,3,"div",9),s()),o&2&&(l(),f(" ",e.formInfo.formTitle," "),l(2),h("optionsInfoAreaId",e.constructorInfoAreaId),l(),h("dataModel",e.dataModel)("optionMethod",1),l(4),f("",e.formInfo.formAlert," "),l(2),f("",e.formInfo.formError," "),l(2),h("ngIf",e.formInfo.formSubmitAllow))},dependencies:[H,oe,mt,F],encapsulation:2});let t=a;return t})();var _l=()=>[5,10,20,100];function gl(t,a){if(t&1){let n=y();c(0,"a",44),M("click",function(){S(n);let o=I();return C(o.onActionBackToParent())}),E(1,"i",45),s()}}function Il(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewRow(o.tableRowSelected))}),E(2,"i",48)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.VIEW")))}function El(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",50),M("click",function(){S(n);let o=I();return C(o.onActionButtonEditRow(o.tableRowSelected))}),E(2,"i",51)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.EDIT")))}function bl(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",52),M("click",function(){S(n);let o=I();return C(o.onActionButtonDeleteRow(o.tableRowSelected))}),E(2,"i",53)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.DELETE")))}function vl(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewUserRow(o.tableRowSelected))}),E(2,"i",54)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.USER")))}function wl(t,a){if(t&1){let n=y();c(0,"div",46)(1,"a",47),M("click",function(){S(n);let o=I();return C(o.onActionButtonViewMemberRow(o.tableRowSelected))}),E(2,"i",55)(3,"br"),s(),c(4,"p",49),d(5),_(6,"translate"),s()()}t&2&&(l(5),x(g(6,1,"ACTION.MEMBER")))}function Ml(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function yl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.id," ")}}function Tl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ll(t,a){if(t&1&&(c(0,"mat-cell",57),_(1,"statusCellClass"),E(2,"i",57),_(3,"statusIconClass"),s()),t&2){let n=a.$implicit;h("ngClass",g(1,2,n.recordStatus)),l(2),h("ngClass",g(3,4,n.recordStatus))}}function Rl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Al(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmssiteinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function Dl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function xl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"cmsuserinfo"),_(3,"async"),s()),t&2){let n=a.$implicit;l(),f(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function kl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Nl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.linkMemberId," ")}}function Vl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.fromEmail==null?null:n.fieldsInfo.fromEmail.fieldTitle," ")}}function Bl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.fromEmail," ")}}function Ol(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.toEmail==null?null:n.fieldsInfo.toEmail.fieldTitle," ")}}function Gl(t,a){if(t&1&&(c(0,"mat-cell",58),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.toEmail," ")}}function Hl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.emailSubject==null?null:n.fieldsInfo.emailSubject.fieldTitle," ")}}function Pl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),s()),t&2){let n=a.$implicit;l(),f(" ",n.emailSubject," ")}}function Fl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.sendStatusType==null?null:n.fieldsInfo.sendStatusType.fieldTitle," ")}}function jl(t,a){if(t&1&&(c(0,"mat-cell"),d(1),_(2,"enums"),s()),t&2){let n=a.$implicit,i=I();l(),f(" ",Wt(2,1,n.sendStatusType,i.dataModelEnumSendEmailStatusTypeResult.listItems)," ")}}function Wl(t,a){if(t&1&&(c(0,"mat-header-cell",56),d(1),s()),t&2){let n=I();l(),f(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ul(t,a){if(t&1&&(c(0,"mat-cell",59),d(1),_(2,"localeDateTime"),s()),t&2){let n=a.$implicit;l(),f(" ",g(2,1,n.createdDate)," ")}}function ql(t,a){t&1&&(c(0,"mat-header-cell"),d(1),_(2,"translate"),s()),t&2&&(l(),f(" ",g(2,1,"TITLE.OPTION")," "))}function Ql(t,a){if(t&1&&(c(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),d(3,"more_vert"),s()(),E(4,"mat-menu",null,2),s()),t&2){let n=J(5);l(),h("matMenuTriggerFor",n)}}function zl(t,a){t&1&&E(0,"mat-header-row")}function Jl(t,a){if(t&1){let n=y();c(0,"mat-row",62),M("click",function(){let o=S(n).$implicit,e=I();return C(e.onActionTableRowSelect(o))}),s()}if(t&2){let n=a.$implicit,i=a.dataIndex,o=I();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id))}}var to=(()=>{let a=class a extends Xe{constructor(i,o,e,m,p,r,T,k,V,fe,ae,K){if(super(o,new Et,ae,r,k),this.coreEnumService=i,this.contentService=o,this.cmsToastrService=e,this.cmsConfirmationDialogService=m,this.activatedRoute=p,this.tokenHelper=r,this.cdr=T,this.translate=k,this.router=V,this.pageInfo=fe,this.publicHelper=ae,this.dialog=K,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ye,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","SendStatusType","fromEmail","toEmail","emailSubject","CreatedDate"],this.tabledisplayedColumnsMobileSource=["LinkUserId","LinkSiteId","LinkMemberId","fromEmail","toEmail","emailSubject","CreatedDate"],this.dataModelEnumSendEmailStatusTypeResult=new N,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let D=new q;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){let D=new q;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){let D=new q;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumSendEmailStatusType()}getEnumSendEmailStatusType(){this.coreEnumService.ServiceSendEmailStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendEmailStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Et);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(eo,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open($i,{height:"90%",panelClass:o,enterAnimationDuration:z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var o="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{o=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,e).then(m=>{if(m){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(r=>{this.publicHelper.processService.processStart(p,r,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:r=>{r.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let o=new Map;this.translate.get("MESSAGE.Active").subscribe(r=>{o.set(r,0)}),this.translate.get("MESSAGE.All").subscribe(r=>{o.set(r,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(r=>{this.publicHelper.processService.processStart(e,r,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.All").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),p=new q;p.propertyName="RecordStatus",p.value=Me.Available,m.filters.push(p),this.contentService.ServiceGetCount(m).subscribe({next:r=>{r.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(T=>{o.set(T,r.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(r.errorMessage),this.publicHelper.processService.processStop(e)},error:r=>{this.cmsToastrService.typeError(r),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};a.\u0275fac=function(o){return new(o||a)(u(Q),u(ht),u(W),u(he),u(ge),u(j),u(G),u(P),u(Ie),u(Te),u(U),u(be))},a.\u0275cmp=O({type:a,selectors:[["app-core-log-email-list"]],features:[X],decls:71,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","fromEmail"],["matColumnDef","toEmail"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","emailSubject"],["matColumnDef","SendStatusType"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"grid-row-ltr"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(o,e){if(o&1){let m=y();c(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(r){return S(m),R(e.viewGuideNotice,r)||(e.viewGuideNotice=r),C(r)}),M("optionOnActionButtonMemoRow",function(){return S(m),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return S(m),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return S(m),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return S(m),C(e.onActionButtonPrintRow())}),b(1,4),d(2," -------------------------------------- "),v(),ne(3,5)(4,6),b(5,7),w(6,gl,2,0,"a",8),c(7,"a",9),M("click",function(){return S(m),C(e.viewGuideNotice=!e.viewGuideNotice)}),E(8,"i",10),s(),c(9,"a",9),M("click",function(){return S(m),C(e.onActionButtonReload())}),E(10,"i",11),s(),v(),b(11,12),c(12,"a",13),M("click",function(){return S(m),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),E(13,"mat-slide-toggle",14),d(14),_(15,"translate"),s(),c(16,"a",13),M("click",function(){return S(m),C(e.onActionButtonStatist())}),E(17,"mat-slide-toggle",14),d(18),_(19,"translate"),s(),v(),ne(20,15),b(21,16),w(22,Il,7,3,"div",17)(23,El,7,3,"div",17)(24,bl,7,3,"div",17)(25,vl,7,3,"div",17)(26,wl,7,3,"div",17),v(),b(27,18),c(28,"app-cms-search-list",19),A("optionsChange",function(r){return S(m),R(e.optionsSearch,r)||(e.optionsSearch=r),C(r)}),s(),c(29,"app-cms-statist-list",19),A("optionsChange",function(r){return S(m),R(e.optionsStatist,r)||(e.optionsStatist=r),C(r)}),s(),v(),b(30,20),c(31,"mat-table",21,0),M("matSortChange",function(){S(m);let r=J(32);return C(e.onTableSortData(r))}),b(33,22),w(34,Ml,2,1,"mat-header-cell",23)(35,yl,2,1,"mat-cell",24),v(),b(36,25),w(37,Tl,2,1,"mat-header-cell",23)(38,Ll,4,6,"mat-cell",26),v(),b(39,27),w(40,Rl,2,1,"mat-header-cell",23)(41,Al,4,5,"mat-cell",24),v(),b(42,28),w(43,Dl,2,1,"mat-header-cell",23)(44,xl,4,5,"mat-cell",24),v(),b(45,29),w(46,kl,2,1,"mat-header-cell",23)(47,Nl,2,1,"mat-cell",24),v(),b(48,30),w(49,Vl,2,1,"mat-header-cell",23)(50,Bl,2,1,"mat-cell",24),v(),b(51,31),w(52,Ol,2,1,"mat-header-cell",23)(53,Gl,2,1,"mat-cell",32),v(),b(54,33),w(55,Hl,2,1,"mat-header-cell",23)(56,Pl,2,1,"mat-cell",24),v(),b(57,34),w(58,Fl,2,1,"mat-header-cell",23)(59,jl,3,4,"mat-cell",24),v(),b(60,35),w(61,Wl,2,1,"mat-header-cell",23)(62,Ul,3,3,"mat-cell",36),v(),b(63,37),w(64,ql,3,3,"mat-header-cell",38)(65,Ql,6,1,"mat-cell",39),v(),w(66,zl,1,0,"mat-header-row",40)(67,Jl,1,6,"mat-row",41),s(),v(),b(68,42),c(69,"mat-paginator",43,1),M("page",function(r){return S(m),C(e.onTablePageingData(r))}),s(),v(),s()}o&2&&(h("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",e.viewGuideNotice),h("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),l(6),h("ngIf",e.requestLinkSiteId>0),l(7),h("checked",e.optionsSearch.data.show),l(),f("",g(15,26,"ACTION.SEARCH")," "),l(3),h("checked",e.optionsStatist.data.show),l(),f("",g(19,28,"ACTION.STATIST")," "),l(4),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),l(),h("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),l(),h("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkMemberId)>0),l(2),L("options",e.optionsSearch),l(),L("options",e.optionsStatist),l(2),h("dataSource",e.tableSource),l(35),h("matHeaderRowDef",e.tabledisplayedColumns),l(),h("matRowDefColumns",e.tabledisplayedColumns),l(2),h("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Ce(30,_l)))},dependencies:[_e,H,Ee,ve,Re,Ae,De,xe,ke,Ne,Ve,Oe,Fe,Ge,Be,je,He,Pe,We,Ue,Je,Ke,ze,Ze,F,ti,at,ft,Le,Qe,qe],encapsulation:2});let t=a;return t})();var Kl=[{path:"",component:Bi,data:{title:"ROUTE.CORELOG"},children:[{path:"error",component:Pi,data:{title:"ROUTE.CORELOG.ERROR"}},{path:"avoid-duplicate",component:_i,data:{title:"ROUTE.CORELOG"}},{path:"avoid-duplicate/:LinkUserId",component:_i,data:{title:"ROUTE.CORELOG"}},{path:"sms",component:Zi,data:{title:"ROUTE.CORELOG"}},{path:"email",component:to,data:{title:"ROUTE.CORELOG"}},{path:"notification",component:zi,data:{title:"ROUTE.CORELOG"}},{path:"report-data",component:ri,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkSiteId/:LinkSiteId",component:ri,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkUserId/:LinkUserId",component:ri,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityId/:LinkModuleEntityId",component:ri,data:{title:"ROUTE.CORELOG"}},{path:"report-data/LinkModuleEntityReportFileId/:LinkModuleEntityReportFileId",component:ri,data:{title:"ROUTE.CORELOG"}},{path:"member",component:Wi,data:{title:"ROUTE.CORELOG"}},{path:"currency",component:gi,data:{title:"ROUTE.CORELOG"}},{path:"currency/:LinkCurrencyId",component:gi,data:{title:"ROUTE.CORELOG"}}]}],io=(()=>{let a=class a{};a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=di({type:a}),a.\u0275inj=mi({imports:[Ci.forChild(Kl),Ci]});let t=a;return t})();var Qm=(()=>{let a=class a{};a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=di({type:a}),a.\u0275inj=mi({providers:[Ai,Zt,gt,ht,Ct,St,Yt,Xt,_t,he],imports:[io,bi,vi,wi.withConfig({warnOnNgModelWithFormControl:"never"}),Ni,Vi,Di]});let t=a;return t})();export{Qm as CoreLogModule};
