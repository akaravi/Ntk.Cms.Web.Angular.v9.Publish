import{a as Ni,b as Bi}from"./chunk-52HAWB3U.js";import{d as Fi,g as Gi}from"./chunk-K57XU62J.js";import{a as ki,b as Pi,c as Li,d as Vi,e as Oi}from"./chunk-YJFTMALL.js";import{b as yt,c as Tt,d as At,e as xt}from"./chunk-RPBZ7SKY.js";import{b as Ri,c as Di}from"./chunk-FVIIRJIU.js";import{a as xi}from"./chunk-3JGX6DNS.js";import{a as Ti}from"./chunk-PVEUCOX5.js";import{a as yi}from"./chunk-BRMVS3UD.js";import{b as Ai}from"./chunk-DO2N37AD.js";import{a as Fe}from"./chunk-NR33HZCH.js";import{$ as Ae,$b as Wt,Ab as q,Ac as mi,B as _t,Bc as ui,Bd as wi,Cb as de,Cc as fi,Dc as hi,E as St,Ec as Ci,F as gt,G as It,Id as bi,Jc as Mi,K as ye,Kc as _i,L as Te,N as vt,Na as Et,Nb as Nt,O as wt,Oa as De,Ob as Bt,Od as Ei,Pa as ke,Qa as Pe,Vc as Si,Wa as X,Za as Y,_c as gi,ac as Ht,bc as jt,ca as xe,cc as qt,dc as Ut,ec as Qt,fc as zt,gc as Jt,gd as Ii,hc as Kt,ic as Xt,jc as Yt,jd as Oe,lc as Zt,m as ht,mc as $t,nc as ei,o as Ct,oc as ti,p as se,pa as H,pc as ii,pd as vi,qa as K,qc as ni,rc as oi,s as J,sc as ri,t as we,tc as ai,ub as ee,uc as li,v as be,va as Re,vb as j,w as Mt,wc as si,x as ce,xb as Ft,xc as ci,y as Ee,yc as di,zb as Gt,zc as pi}from"./chunk-SBJL5AHS.js";import{a as $}from"./chunk-LB2GNHBM.js";import{Aa as he,Ab as Qe,Bd as te,Db as Me,Dc as le,Eb as _e,Fb as Se,Fc as ut,Fd as kt,Ib as D,Kb as p,Kd as Pt,L as at,La as r,Lb as E,Lc as ft,Ld as G,Ma as M,Mb as _,O as lt,Od as Z,Pd as U,Qb as y,Qd as Le,Rb as T,Sb as A,Sd as Lt,Td as O,Ud as Ve,Vb as ge,Vd as F,W as st,Wb as ae,X as ct,Xe as Ye,Yb as S,Ye as P,Za as ne,Zb as I,Zd as Vt,_b as mt,ab as g,bb as Ce,cb as m,da as ue,db as oe,eb as re,fe as Ot,g as nt,gc as B,gd as bt,ja as V,ka as fe,kd as ze,lb as l,mb as s,nb as b,nd as Rt,ob as x,pb as R,qb as me,ra as f,rb as w,rd as Je,sa as h,td as Ke,u as ot,ub as v,v as rt,wb as u,wd as Xe,xb as dt,xc as Ie,yb as pt,yc as ve,zb as k,zc as W,zd as Dt}from"./chunk-XKQYEJGP.js";var Ji=["*"];function Ki(n,a){if(n&1&&(l(0,"label",8),p(1),s()),n&2){let o=u();Qe("for","app-cms-site-selector-",o.id,""),r(),E(o.optionLabel)}}function Xi(n,a){if(n&1&&(l(0,"mat-option",9)(1,"span"),p(2),s()()),n&2){let o=a.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),r(2),E(t.displayOption(o))}}function Yi(n,a){if(n&1){let o=w();l(0,"mat-icon",10),v("click",function(){f(o);let i=u();return h(i.onActionSelectClear())}),p(1,"close"),s()}}var je=(()=>{let a=class a{constructor(t,i,e,c,C,d){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=c,this.translate=C,this.categoryService=d,this.id=++a.nextId,this.dataModelResult=new G,this.dataModelSelect=new P,this.formControl=new Mt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new he,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(st(""),at(1500),lt(),ct(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return nt(this,null,function*(){let i=new U;i.rowPerPage=20,i.accessLoad=!0;let e=new Z;e.propertyName="Title",e.value=t,e.searchType=Xe.Contains,e.clauseType=Je.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new Z,e.propertyName="Id",e.value=t,e.searchType=Xe.Equal,e.clauseType=Je.Or,i.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(C=>{this.publicHelper.processService.processStart(c,C,this.constructor.name)}),yield ot(this.categoryService.ServiceGetAll(i)).then(C=>(this.dataModelResult=C,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),C.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(rt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="number"&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof P){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new P,this.loadOptions()}};a.nextId=0,a.\u0275fac=function(i){return new(i||a)(M(F),M(j),M(B),M(q),M(H),M(O))},a.\u0275cmp=V({type:a,selectors:[["app-core-cpmainmenu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Ji,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();dt(),l(0,"div",1),b(1,"app-progress-spinner",2),g(2,Ki,2,3,"label",3),b(3,"input",4),l(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(c),h(e.onActionSelect(d.option.value))}),g(6,Xi,3,3,"mat-option",6),S(7,"async"),s(),g(8,Yi,2,0,"mat-icon",7),pt(9),s()}if(i&2){let c=D(5);r(),m("optionsInfoAreaId",e.constructor.name),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),k("placeholder",e.optionPlaceholder),Qe("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Ce("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",I(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[ve,W,se,J,_t,Nt,ht,Bt,xe,X,Y,de,ut],encapsulation:2});let n=a;return n})();var $i=["vform"],en=n=>({direction:n});function tn(n,a){if(n&1){let o=w();l(0,"app-cms-enum-record-status-selector",17),A("modelChange",function(i){f(o);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nn(n,a){if(n&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),S(4,"translate"),s()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),E(I(4,2,"MESSAGE.required"))}}function on(n,a){n&1&&(l(0,"mat-error"),p(1," Description is "),l(2,"strong"),p(3),S(4,"translate"),s()()),n&2&&(r(3),E(I(4,1,"MESSAGE.required")))}function rn(n,a){if(n&1){let o=w();l(0,"div",18)(1,"button",19),v("click",function(){f(o);let i=u();return h(i.onFormCancel())}),b(2,"i",20),p(3),S(4,"translate"),s(),l(5,"button",21),b(6,"i",22),p(7),S(8,"translate"),s()()}if(n&2){u();let o=D(9);r(3),_(" ",I(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",I(8,5,"ACTION.SAVE")," ")}}var qe=(()=>{let a=class a extends yi{constructor(t,i,e,c,C,d,L,Q,N){super(c,new P,C,Q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreCpMainMenuService=c,this.publicHelper=C,this.cmsToastrService=d,this.cdr=L,this.translate=Q,this.tokenHelper=N,this.requestParentId=0,this.fieldsInfo=new Map,this.dataModelResult=new G,this.dataModel=new P,this.formInfo=new Le,this.dataModelEnumMenuPlaceTypeResult=new G,this.fileManagerOpenForm=!1,this.tokenInfo=new Rt,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestParentId=+t.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.tokenHelper.getCurrentToken().then(z=>{this.tokenInfo=z})}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreCpMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:i.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};a.\u0275fac=function(i){return new(i||a)(M(ke),M(De),M(F),M(O),M(q),M(j),M(B),M(H),M(ee))},a.\u0275cmp=V({type:a,selectors:[["app-core-user-add"]],viewQuery:function(i,e){if(i&1&&Me($i,5),i&2){let c;_e(c=Se())&&(e.formGroup=c.first)}},features:[ne],decls:31,vars:25,consts:[["vform","ngForm"],["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",3),b(1,"app-progress-spinner",4),l(2,"div",5)(3,"p",6),p(4),s(),l(5,"p"),p(6),S(7,"translate"),s(),l(8,"form",7,0),v("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),g(10,tn,1,5,"app-cms-enum-record-status-selector",8),l(11,"app-core-cpmainmenu-selector",9),S(12,"translate"),v("optionChange",function(d){return f(c),h(e.onActionSelectorSelect(d))}),s(),l(13,"div",10)(14,"label",11),p(15),s(),l(16,"input",12,1),A("ngModelChange",function(d){return f(c),T(e.dataModel.title,d)||(e.dataModel.title=d),h(d)}),s(),l(18,"em"),p(19),s(),g(20,nn,5,4,"mat-error",13),s(),l(21,"div",10)(22,"label",14),p(23),s(),l(24,"textarea",15,2),A("ngModelChange",function(d){return f(c),T(e.dataModel.description,d)||(e.dataModel.description=d),h(d)}),p(26,"        "),s(),l(27,"em"),p(28),s(),g(29,on,5,3,"mat-error",13),s(),g(30,rn,9,7,"div",16),s()()()}if(i&2){let c=D(17),C=D(25);r(),m("optionsInfoAreaId",e.constructor.name),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",I(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("ngStyle",ae(23,en,e.tokenInfo.direction)),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",I(12,21,"TITLE.Parent_Menu")),r(4),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),k("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(3),_("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),k("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),y("ngModel",e.dataModel.description),r(4),_("",C.value.length," / 500"),r(),m("ngIf",C.errors==null?null:C.errors.required),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,le,Ee,se,J,we,ye,Te,ce,be,Ae,Y,Oe,de,je,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=a;return n})();var qi=(()=>{let a=class a{constructor(){}ngOnInit(){}};a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=V({type:a,selectors:[["app-core-user"]],decls:1,vars:0,template:function(i,e){i&1&&b(0,"router-outlet")},dependencies:[bt],encapsulation:2});let n=a;return n})();var an=["vform"],ln=n=>({direction:n}),sn=()=>["fa"];function cn(n,a){if(n&1){let o=w();l(0,"app-cms-enum-record-status-selector",34),A("modelChange",function(i){f(o);let e=u();return T(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dn(n,a){if(n&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),S(4,"translate"),s()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),E(I(4,2,"MESSAGE.required"))}}function pn(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",35),p(2),s(),l(3,"input",36,3),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),h(i)}),s(),l(5,"em"),p(6),s(),g(7,dn,5,4,"mat-error",37),s()}if(n&2){let o=D(4),t=u();r(2),E(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),k("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),y("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(3),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function mn(n,a){n&1&&(l(0,"mat-error"),p(1," TitleResourceLanguage is "),l(2,"strong"),p(3),S(4,"translate"),s()()),n&2&&(r(3),E(I(4,1,"MESSAGE.required")))}function un(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",38),p(2),s(),l(3,"input",39,4),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.title,i)||(e.dataModel.title=i),h(i)}),s(),l(5,"em"),p(6),s(),g(7,mn,5,3,"mat-error",37),s()}if(n&2){let o=D(4),t=u();r(2),E(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),k("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),y("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function fn(n,a){if(n&1&&(l(0,"option",40),p(1),s()),n&2){let o=a.$implicit;m("value",o.value),r(),_(" ",o.description," ")}}function hn(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",41),p(2),s(),l(3,"input",42,5),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),h(i)}),s(),l(5,"em"),p(6),s()()}if(n&2){let o=D(4),t=u();r(2),E(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),k("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),y("ngModel",t.dataModel.routeAddressLink),m("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),r(3),_("",o.value.length," / 100")}}function Cn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"div",44)(2,"h5",45),p(3),s()(),l(4,"div",46)(5,"div",47)(6,"input",48),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),h(i)}),s(),b(7,"label",49),s()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),r(3),y("ngModel",o.dataModel.routeAddressBlankPage)}}function Mn(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",50),p(2),s(),l(3,"input",51,6),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.color,i)||(e.dataModel.color=i),h(i)}),s(),b(5,"ngx-ntk-mat-color-toggle",52)(6,"ngx-ntk-mat-color-picker",53,7),s()}if(n&2){let o=D(7),t=u();r(2),E(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),oe("background",t.dataModel.color),k("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),m("ngxMatColorPicker",o),y("ngModel",t.dataModel.color),m("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessEditField)),r(2),m("for",o),r(),m("touchUi",!0)("color","primary")}}function _n(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",54),p(2),s(),l(3,"input",55,8),v("iconPickerSelect",function(i){f(o);let e=u();return h(e.onIconPickerSelect(i))}),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.icon,i)||(e.dataModel.icon=i),h(i)}),s()()}if(n&2){let o=u();r(2),E(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),r(),k("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),m("iconPicker",o.dataModel.icon)("ipIconPack",ge(7,sn))("ipPosition","top"),y("ngModel",o.dataModel.icon),m("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function Sn(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",56),p(2),s(),l(3,"input",57,9),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),h(i)}),s()()}if(n&2){let o=u();r(2),E(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),r(),k("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),y("ngModel",o.dataModel.showInMenuOrder),m("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function gn(n,a){n&1&&(l(0,"mat-error"),p(1," Description is "),l(2,"strong"),p(3),S(4,"translate"),s()()),n&2&&(r(3),E(I(4,1,"MESSAGE.required")))}function In(n,a){if(n&1){let o=w();l(0,"div",21)(1,"label",58),p(2),s(),l(3,"textarea",59,10),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.description,i)||(e.dataModel.description=i),h(i)}),p(5,"            "),s(),l(6,"em"),p(7),s(),g(8,gn,5,3,"mat-error",37),s()}if(n&2){let o=D(4),t=u();r(2),E(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),k("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),y("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function vn(n,a){if(n&1){let o=w();l(0,"div",60)(1,"button",61),v("click",function(){f(o);let i=u();return h(i.onFormCancel())}),p(2),S(3,"translate"),s(),l(4,"button",62),p(5),S(6,"translate"),s()()}if(n&2){u();let o=D(9);r(2),E(I(3,3,"ACTION.BACK")),r(2),m("disabled",!o.form.valid),r(),_(" ",I(6,5,"ACTION.NEXT")," ")}}function wn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"div",44)(2,"h5",63),p(3),s()(),l(4,"div",46)(5,"div",47)(6,"input",64),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.showInMenu,i)||(e.dataModel.showInMenu=i),h(i)}),s(),b(7,"label",65),s()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.showInMenu==null?null:o.fieldsInfo.showInMenu.fieldTitle,""),r(3),y("ngModel",o.dataModel.showInMenu)}}function bn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"div",44)(2,"h5",66),p(3),s()(),l(4,"div",46)(5,"div",47)(6,"input",67),A("ngModelChange",function(i){f(o);let e=u();return T(e.dataModel.showInAccessAdminAllowToProfessionalData,i)||(e.dataModel.showInAccessAdminAllowToProfessionalData=i),h(i)}),s(),b(7,"label",68),s()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.showInAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.showInAccessAdminAllowToProfessionalData.fieldTitle,""),r(3),y("ngModel",o.dataModel.showInAccessAdminAllowToProfessionalData)}}function En(n,a){if(n&1&&(l(0,"div",60)(1,"button",69),p(2),S(3,"translate"),s(),l(4,"button",70),p(5),S(6,"translate"),s()()),n&2){u();let o=D(9);r(2),_(" ",I(3,3,"ACTION.BEFOR")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",I(6,5,"ACTION.SAVE")," ")}}function yn(n,a){n&1&&(l(0,"mat-icon"),p(1,"call_end"),s())}function Tn(n,a){n&1&&(l(0,"mat-icon"),p(1,"call_end"),s())}function An(n,a){n&1&&(l(0,"mat-icon"),p(1,"forum"),s())}function xn(n,a){n&1&&(l(0,"mat-icon"),p(1,"forum"),s())}var pe=(()=>{let a=class a extends Ti{constructor(t,i,e,c,C,d,L,Q,N,z){super(c,new P,L,N),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreCpMainMenuService=c,this.coreCpMainMenuCmsUserGroupService=C,this.cmsToastrService=d,this.publicHelper=L,this.cdr=Q,this.translate=N,this.tokenHelper=z,this.requestId=0,this.appLanguage="fa",this.dataModelResult=new Pt,this.dataModel=new P,this.formInfo=new Le,this.dataModelEnumMenuPlaceTypeResult=new G,this.fileManagerOpenForm=!1,this.dataCoreCpMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.tokenHelper.getCurrentToken().then(Ue=>{this.tokenInfo=Ue})}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreCpMainMenuService.setAccessLoad(),this.coreCpMainMenuService.setAccessDataType(kt.Editor),this.coreCpMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.formInfo.formAlert=this.translate.instant("MESSAGE.Getting_access_category_from_the_server"),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)});let i=new U,e=new Z;e.propertyName="CmsCpMainMenu_Id",e.value=this.requestId,i.filters.push(e),this.coreCpMainMenuCmsUserGroupService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreCpMainMenuCmsUserGroupModel=c.listItems;let C=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(d=>{C.push(d.cmsUserGroup_Id)}),this.dataCoreCpMainMenuIds=C,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.formAlert=d}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)});this.dataModel.color=this.dataModel.color?.toString(),this.coreCpMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorModuleSelect(t){this.dataModel.linkModuleId=null,t&&t.id>0&&(this.dataModel.linkModuleId=t.id)}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataCoreCpMainMenuModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new Ye;i.cmsUserGroup_Id=t.id,i.cmsCpMainMenu_Id=this.dataModel.id,this.coreCpMainMenuCmsUserGroupService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new Ye;i.cmsUserGroup_Id=t.id,i.cmsCpMainMenu_Id=this.dataModel.id,this.coreCpMainMenuCmsUserGroupService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onIconPickerSelect(t){this.dataModel.icon=t}};a.\u0275fac=function(i){return new(i||a)(M(ke),M(De),M(F),M(O),M(Ve),M(j),M(q),M(B),M(H),M(ee))},a.\u0275cmp=V({type:a,selectors:[["app-core-user-edit"]],viewQuery:function(i,e){if(i&1&&Me(an,5),i&2){let c;_e(c=Se())&&(e.formGroup=c.first)}},features:[ne],decls:50,vars:49,consts:[["vform","ngForm"],["stepper",""],["MenuPlaceType","ngModel"],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit","ngStyle"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["id","dataModel.menuPlaceType","name","dataModel.menuPlaceType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[3,"value"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","3","maxlength","100","id","dataModel.routeAddressLink",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","text","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["data-trigger-switch","dataModel.showInMenu",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInMenu","name","dataModel.showInMenu",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInMenu",1,"custom-control-label"],["data-trigger-switch","dataModel.showInAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.showInAccessAdminAllowToProfessionalData","name","dataModel.showInAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.showInAccessAdminAllowToProfessionalData",1,"custom-control-label"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let c=w();l(0,"div",11),b(1,"app-progress-spinner",12),l(2,"div",13)(3,"p",14),p(4),s(),l(5,"p"),p(6),S(7,"translate"),s(),l(8,"form",15,0),v("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),l(10,"mat-vertical-stepper",16,1),v("selectionChange",function(d){f(c);let L=D(11);return h(e.onStepClick(d,L))}),l(12,"mat-step",17),S(13,"translate"),g(14,cn,1,5,"app-cms-enum-record-status-selector",18),l(15,"app-core-cpmainmenu-selector",19),S(16,"translate"),v("optionChange",function(d){return f(c),h(e.onActionSelectorSelect(d))}),s(),g(17,pn,8,6,"div",20),l(18,"div",21)(19,"label",22),p(20),S(21,"translate"),s(),l(22,"input",23),A("ngModelChange",function(d){return f(c),T(e.dataModel.titleML,d)||(e.dataModel.titleML=d),h(d)}),s()(),g(23,un,8,6,"div",20),l(24,"div",21)(25,"select",24,2),A("ngModelChange",function(d){return f(c),T(e.dataModel.menuPlaceType,d)||(e.dataModel.menuPlaceType=d),h(d)}),g(27,fn,2,2,"option",25),s()(),g(28,hn,7,5,"div",20)(29,Cn,8,2,"div",26)(30,Mn,8,10,"div",20)(31,_n,5,8,"div",20)(32,Sn,5,4,"div",20)(33,In,9,5,"div",20)(34,vn,7,7,"div",27),s(),l(35,"mat-step",28),S(36,"translate"),l(37,"p"),p(38),S(39,"translate"),s(),g(40,wn,8,2,"div",26)(41,bn,8,2,"div",26),l(42,"app-core-module-selector",19),S(43,"translate"),v("optionChange",function(d){return f(c),h(e.onActionSelectorModuleSelect(d))}),s(),l(44,"app-core-usergroup-selectionlist",29),v("optionChange",function(d){return f(c),h(e.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return f(c),h(e.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return f(c),h(e.onActionSelectorUserCategorySelectRemoved(d))}),s(),g(45,En,7,7,"div",27),s(),g(46,yn,2,0,"ng-template",30)(47,Tn,2,0,"ng-template",31)(48,An,2,0,"ng-template",32)(49,xn,2,0,"ng-template",33),s()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructor.name),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",I(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("ngStyle",ae(47,ln,e.tokenInfo.direction)),r(4),k("label",I(13,35,"TITLE.Menu_Profile")),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",I(16,37,"TITLE.Parent_Menu")),r(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),E(I(21,39,"TITLE.TitleML")),r(2),y("ngModel",e.dataModel.titleML),m("disabled",!0),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(2),y("ngModel",e.dataModel.menuPlaceType),r(2),m("ngForOf",e.dataModelEnumMenuPlaceTypeResult.listItems),r(),m("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),r(),m("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),r(),m("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),r(),m("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),r(),m("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow),r(),k("label",I(36,41,"TITLE.ACEESS")),r(3),E(I(39,43,"TITLE.Specify_access_to_this_content")),r(2),m("ngIf",e.fieldsInfo.showInMenu==null?null:e.fieldsInfo.showInMenu.accessWatchField),r(),m("ngIf",e.fieldsInfo.showInAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.showInAccessAdminAllowToProfessionalData.accessWatchField),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",I(43,45,"TITLE.MODULE")),r(2),m("optionSelectForce",e.dataCoreCpMainMenuIds)("optionDisabled",!1),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[ve,W,le,Ee,gt,It,se,Ct,St,J,we,ye,Te,ce,be,Ae,xe,X,Y,Jt,Kt,Xt,Yt,zt,Oe,de,_i,Fi,Ri,At,Tt,yt,Ni,je,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=a;return n})();function Dn(n,a){if(n&1){let o=w();l(0,"button",11),v("click",function(){f(o);let i=u();return h(i.onActionAdd())}),p(1),S(2,"translate"),s()}n&2&&(r(),E(I(2,1,"ACTION.ADD")))}function kn(n,a){if(n&1){let o=w();l(0,"button",12),v("click",function(){f(o);let i=u();return h(i.onActionEdit())}),p(1),S(2,"translate"),s()}n&2&&(r(),E(I(2,1,"ACTION.EDIT")))}function Pn(n,a){if(n&1){let o=w();l(0,"button",13),v("click",function(){f(o);let i=u();return h(i.onActionButtonReload())}),l(1,"mat-icon",14),S(2,"translate"),p(3,"refresh"),s()()}n&2&&(r(),k("title",I(2,1,"ACTION.RELOAD")))}function Ln(n,a){if(n&1){let o=w();l(0,"mat-tree-node",15),v("click",function(){let i=f(o).$implicit,e=u();return h(e.onActionSelect(i))}),b(1,"button",16)(2,"i",17),p(3),s()}if(n&2){let o=a.$implicit,t=a.dataIndex,i=u();re("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===o.id),r(2),m("ngClass",o.icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.titleML," ")}}function Vn(n,a){if(n&1){let o=w();l(0,"mat-nested-tree-node")(1,"li")(2,"div",18),v("click",function(){let i=f(o).$implicit,e=u();return h(e.onActionSelect(i))}),l(3,"button",19),v("click",function(){let i=f(o).$implicit,e=u();return h(e.onActionSelect(i))}),l(4,"mat-icon",20),p(5),s()(),b(6,"i",17),p(7),s(),l(8,"ul"),me(9,21),s()()()}if(n&2){let o=a.$implicit,t=u();r(2),re("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(),Ce("aria-label","Toggle "+o.titleML),r(2),_(" ",t.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),oe("color",o.color),m("ngClass",o.icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.titleML," "),r(),re("category-tree-invisible",!t.treeControl.isExpanded(o))}}var Ui=(()=>{let a=class a{constructor(t,i,e,c,C,d,L,Q){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.tokenHelper=C,this.translate=d,this.cdr=L,this.publicHelper=Q,this.dataModelSelect=new P,this.dataModelResult=new G,this.filterModel=new U,this.treeControl=new si(N=>N.children),this.dataSource=new Ci,this.optionChange=new he,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(N,z)=>!!z.children&&z.children.length>0,this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=te.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new P,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id);let i=new Et;i.disableClose=!0,i.autoFocus=!0,i.data={parentId:t},this.dialog.open(qe,i).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&(this.dataModelSelect=c.model,this.onActionEdit())})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pe,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};a.\u0275fac=function(i){return new(i||a)(M(j),M(F),M(O),M(Pe),M(ee),M(H),M(B),M(q))},a.\u0275cmp=V({type:a,selectors:[["app-core-cpmainmenu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:12,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(l(0,"app-cms-html-tree",0),x(1,1),p(2),S(3,"translate"),R(),x(4,2),g(5,Dn,3,3,"button",3)(6,kn,3,3,"button",4)(7,Pn,4,3,"button",5),R(),x(8,6),l(9,"mat-tree",7),g(10,Ln,4,8,"mat-tree-node",8)(11,Vn,10,10,"mat-nested-tree-node",9),s(),R(),me(12,10),s()),i&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),_(" ",I(3,10,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),m("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[Ie,W,Re,X,pi,di,mi,hi,fi,ci,ui,Ii,K],encapsulation:2});let n=a;return n})();var Fn=()=>[5,10,20,100],Gn=n=>({display:n});function Nn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"a",44),v("click",function(){f(o);let i=u();return h(i.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),s(),l(4,"p",46),p(5),S(6,"translate"),s()()}n&2&&(r(5),E(I(6,1,"ACTION.ADD")))}function Bn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"a",47),v("click",function(){f(o);let i=u();return h(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",48)(3,"br"),s(),l(4,"p",46),p(5),S(6,"translate"),s()()}n&2&&(r(5),E(I(6,1,"ACTION.EDIT")))}function Wn(n,a){if(n&1){let o=w();l(0,"div",43)(1,"a",49),v("click",function(){f(o);let i=u();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",50)(3,"br"),s(),l(4,"p",46),p(5),S(6,"translate"),s()()}n&2&&(r(5),E(I(6,1,"ACTION.DELETE")))}function Hn(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle," ")}}function jn(n,a){if(n&1&&(l(0,"mat-cell"),b(1,"i",52),s()),n&2){let o=a.$implicit;r(),oe("color",o.color),m("ngClass",o.icon)}}function qn(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Un(n,a){if(n&1&&(l(0,"mat-cell"),p(1),s()),n&2){let o=a.$implicit;r(),_(" ",o.id," ")}}function Qn(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function zn(n,a){if(n&1&&b(0,"select",55),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",ae(3,Gn,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Jn(n,a){if(n&1&&(l(0,"mat-cell"),b(1,"i",53),S(2,"statusIconClass"),g(3,zn,1,5,"select",54),s()),n&2){let o=a.$implicit,t=u();r(),m("ngClass",I(2,2,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Kn(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle,"")}}function Xn(n,a){if(n&1&&(l(0,"mat-cell"),p(1),s()),n&2){let o=a.$implicit;r(),_(" ",o.title," ")}}function Yn(n,a){n&1&&(l(0,"mat-header-cell",51),p(1),S(2,"translate"),s()),n&2&&(r(),_(" ",I(2,1,"TITLE.TitleML"),""))}function Zn(n,a){if(n&1&&(l(0,"mat-cell"),p(1),s()),n&2){let o=a.$implicit;r(),_(" ",o.titleML," ")}}function $n(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.showInMenu==null?null:o.fieldsInfo.showInMenu.fieldTitle,"")}}function eo(n,a){if(n&1&&(l(0,"mat-cell"),b(1,"i",53),S(2,"boolclass"),s()),n&2){let o=a.$implicit;r(),m("ngClass",I(2,1,o.showInMenu))}}function to(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.showInAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.showInAccessAdminAllowToProfessionalData.fieldTitle,"")}}function io(n,a){if(n&1&&(l(0,"mat-cell"),b(1,"i",53),S(2,"boolclass"),s()),n&2){let o=a.$implicit;r(),m("ngClass",I(2,1,o.showInAccessAdminAllowToProfessionalData))}}function no(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.menuPlaceType==null?null:o.fieldsInfo.menuPlaceType.fieldTitle," ")}}function oo(n,a){if(n&1&&(l(0,"mat-cell"),p(1),S(2,"enums"),s()),n&2){let o=a.$implicit,t=u();r(),_(" ",mt(2,1,o.menuPlaceType,t.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function ro(n,a){if(n&1&&(l(0,"mat-header-cell",51),p(1),s()),n&2){let o=u();r(),_(" ",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function ao(n,a){if(n&1&&(l(0,"mat-cell"),p(1),s()),n&2){let o=a.$implicit;r(),_(" ",o.showInMenuOrder," ")}}function lo(n,a){n&1&&(l(0,"mat-header-cell"),p(1),S(2,"translate"),s()),n&2&&(r(),_(" ",I(2,1,"TITLE.OPTION")," "))}function so(n,a){if(n&1&&(l(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),p(3,"more_vert"),s()(),b(4,"mat-menu",null,2),s()),n&2){let o=D(5);r(),m("matMenuTriggerFor",o)}}function co(n,a){n&1&&(l(0,"mat-header-cell",51),p(1,". "),s())}function po(n,a){n&1&&(l(0,"mat-cell")(1,"mat-icon",58),p(2,"reorder"),s()())}function mo(n,a){n&1&&b(0,"mat-header-row")}function uo(n,a){if(n&1){let o=w();l(0,"mat-row",59),v("click",function(){let i=f(o).$implicit,e=u();return h(e.onActionTableRowSelect(i))}),s()}if(n&2){let o=a.$implicit,t=a.dataIndex,i=u();re("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",o)}}var Qi=(()=>{let a=class a extends xi{constructor(t,i,e,c,C,d,L,Q,N,z){super(t,new P,N,c,L),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=c,this.coreEnumService=C,this.cdr=d,this.translate=L,this.pageInfo=Q,this.publicHelper=N,this.dialog=z,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new U,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Icon","Id","RecordStatus","TitleML","ShowInMenu","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","ShowInMenuOrder","position"],this.tabledisplayedColumnsMobileSource=["Icon","Id","RecordStatus","TitleML","ShowInMenu","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","ShowInMenuOrder","position"],this.dataModelEnumMenuPlaceTypeResult=new G,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ue=>this.onSubmitOptionsSearch(Ue)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=te.Ascending}ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new P);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new Z;e.propertyName="LinkParentId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=te.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=te.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=te.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(c=>c===t.item.data),e=new Lt;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=Ke.GoUp:e.actionGo=Ke.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:c=>{c.isSuccess?(ki(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(c.errorMessage)},error:c=>{this.cmsToastrService.typeError(c)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new U,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.filteModelContent.sortColumn="ShowInMenuOrder",this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(qe,{height:"90%",panelClass:t,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.onActionButtonEditRow(e.model)})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(pe,{height:"90%",panelClass:i,enterAnimationDuration:$.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:$.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let C=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(C,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(C)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(C,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),C=new Z;C.propertyName="RecordStatus",C.value=Dt.Available,c.filters.push(C),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};a.\u0275fac=function(i){return new(i||a)(M(O),M(Fe),M(j),M(ee),M(F),M(B),M(H),M(Gt),M(q),M(Pe))},a.\u0275cmp=V({type:a,selectors:[["app-core-user-list"]],features:[ne],decls:69,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","ShowInMenu"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","cdkDragData"]],template:function(i,e){if(i&1){let c=w();l(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(d){return f(c),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),h(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),x(1,4),l(2,"app-core-cpmainmenu-tree",5),v("optionChange",function(d){return f(c),h(e.onActionSelectorSelect(d))}),s(),R(),me(3,6),x(4,7),l(5,"div",8)(6,"div",9)(7,"a",10),v("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(8,"mat-slide-toggle",11),A("ngModelChange",function(d){return f(c),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),h(d)}),s(),p(9),S(10,"translate"),s(),l(11,"a",10),v("click",function(){return f(c),h(e.onActionButtonStatist())}),l(12,"mat-slide-toggle",12),v("click",function(){return f(c),h(e.onActionButtonStatist())}),A("ngModelChange",function(d){return f(c),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),h(d)}),s(),p(13),S(14,"translate"),s()(),l(15,"div",13)(16,"a",14),v("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),b(17,"i",15),s(),l(18,"a",14),v("click",function(){return f(c),h(e.onActionButtonReload())}),b(19,"i",16),s()()(),R(),x(20,17),g(21,Nn,7,3,"div",18),R(),x(22,19),g(23,Bn,7,3,"div",18)(24,Wn,7,3,"div",18),R(),x(25,20),l(26,"app-cms-search-list",21),A("optionsChange",function(d){return f(c),T(e.optionsSearch,d)||(e.optionsSearch=d),h(d)}),s(),l(27,"app-cms-statist-list",21),A("optionsChange",function(d){return f(c),T(e.optionsStatist,d)||(e.optionsStatist=d),h(d)}),s(),R(),x(28,22),l(29,"mat-table",23,0),v("matSortChange",function(){f(c);let d=D(30);return h(e.onTableSortData(d))})("cdkDropListDropped",function(d){return f(c),h(e.onTableDropRow(d))}),x(31,24),g(32,Hn,2,1,"mat-header-cell",25)(33,jn,2,3,"mat-cell",26),R(),x(34,27),g(35,qn,2,1,"mat-header-cell",25)(36,Un,2,1,"mat-cell",26),R(),x(37,28),g(38,Qn,2,1,"mat-header-cell",25)(39,Jn,4,4,"mat-cell",26),R(),x(40,29),g(41,Kn,2,1,"mat-header-cell",25)(42,Xn,2,1,"mat-cell",26),R(),x(43,30),g(44,Yn,3,3,"mat-header-cell",25)(45,Zn,2,1,"mat-cell",26),R(),x(46,31),g(47,$n,2,1,"mat-header-cell",25)(48,eo,3,3,"mat-cell",26),R(),x(49,32),g(50,to,2,1,"mat-header-cell",25)(51,io,3,3,"mat-cell",26),R(),x(52,33),g(53,no,2,1,"mat-header-cell",25)(54,oo,3,4,"mat-cell",26),R(),x(55,34),g(56,ro,2,1,"mat-header-cell",25)(57,ao,2,1,"mat-cell",26),R(),x(58,35),g(59,lo,3,3,"mat-header-cell",36)(60,so,6,1,"mat-cell",37),R(),x(61,38),g(62,co,2,0,"mat-header-cell",25)(63,po,3,0,"mat-cell",26),R(),g(64,mo,1,0,"mat-header-row",39)(65,uo,1,7,"mat-row",40),s(),R(),x(66,41),l(67,"mat-paginator",42,1),v("page",function(d){return f(c),h(e.onTablePageingData(d))}),s(),R(),s()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(8),y("ngModel",e.optionsSearch.data.show),r(),_("",I(10,24,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),_("",I(14,26,"ACTION.STATIST")," "),r(8),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),m("dataSource",e.tableSource)("cdkDropListData",e.tableSource),r(35),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ge(28,Fn)))},dependencies:[Ie,W,le,J,ce,Re,X,Y,Wt,Ht,jt,qt,Ut,Qt,Zt,ei,oi,ti,$t,ri,ii,ni,ai,li,wi,bi,vi,Mi,Vi,Li,Pi,Ui,K,Si,gi,Ft],encapsulation:2});let n=a;return n})();var fo=[{path:"",component:qi,children:[{path:"",component:Qi},{path:"edit/:Id",component:pe}]}],zi=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=fe({type:a}),a.\u0275inj=ue({imports:[ze.forChild(fo),ze]});let n=a;return n})();var Zr=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=fe({type:a}),a.\u0275inj=ue({providers:[Vt,F,O,Ve,Ot,Fe],imports:[ft,zi,vt,wt.withConfig({warnOnNgModelWithFormControl:"never"}),Ei,Ai,Gi,Di,xt,Bi,Oi]});let n=a;return n})();export{Zr as CoreCpMainMenu};
