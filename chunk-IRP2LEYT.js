import{a as en,b as Do}from"./chunk-YHX4PISF.js";import{e as To,g as Eo}from"./chunk-UWEEQFGB.js";import{a as bo,b as Co,c as vo,d as yo,e as wo}from"./chunk-JQBWUH5R.js";import{b as Oi,c as Ni,d as Hi,e as Un}from"./chunk-5FWS57HE.js";import{a as wt}from"./chunk-M7RG2YAY.js";import{a as Vt}from"./chunk-CUJQBGMA.js";import{a as Lt}from"./chunk-25PMRGAC.js";import{b as Io}from"./chunk-LT5AIY2O.js";import{a as Ke}from"./chunk-KDU73OUF.js";import{$ as Wi,$b as Qi,$c as yi,Aa as Hn,Bd as Qe,C as ti,Dc as yt,Ed as So,F as xn,G as An,H as Pn,Hb as ni,Ib as oi,Jd as $i,K as he,Ka as jn,Kd as Mo,L as _e,La as Ie,M as Se,Ma as be,Mc as kt,Na as Oe,Nc as gi,O as Rn,Oc as Yi,P as kn,Pc as uo,Ta as J,Tc as Wt,Ua as qn,Uc as qe,Vb as ct,Wa as H,Wb as pt,Xb as je,Yb as ke,Zb as mt,_b as ut,aa as Me,ac as ri,bc as ai,cc as Ki,cd as Ce,da as nt,dc as Ji,ea as Li,ec as io,fa as Wn,fc as ft,gc as gt,ha as Vi,hc as ht,ia as Gi,ic as _t,id as Ue,ja as Fi,jc as St,ka as Bi,kc as Mt,lb as zi,lc as It,ld as fo,m as Zt,mb as eo,mc as bt,nb as O,nc as Ct,o as At,oc as vt,od as go,p as ee,pb as fi,qc as no,rc as oo,rd as Xi,s as X,sa as Pe,sb as dt,sc as ro,t as ce,tb as W,tc as ao,ua as Vn,uc as lo,ud as ze,v as pe,va as Gn,vb as j,vc as so,vd as ho,w as $t,wa as Fn,wc as co,wd as Zi,x as me,xa as Bn,xc as po,y as ue,ya as On,yb as to,yc as mo,yd as _o,z as ei,za as Nn}from"./chunk-LVXK2MLX.js";import{b as B,c as N,q as ye}from"./chunk-3OCNSEA2.js";import{$n as lt,Aa as Et,Ab as Ge,Cd as pi,Db as ie,Dc as tt,Dd as q,Eb as ne,Fb as oe,Fc as it,Hd as U,Ia as Ee,Ib as P,Id as Z,Jd as re,Je as Kn,Kb as d,Ke as Jn,L as qt,La as r,Lb as w,Lc as En,Ma as C,Mb as _,Nb as Xt,Nd as Qn,O as Ut,Qb as D,Qd as K,Rb as x,Sb as A,Uc as Dn,Ud as ji,Vb as ve,Vn as mi,W as zt,Wb as et,X as Qt,Xn as Zn,Yb as S,Yn as ui,Za as Q,Zb as M,Zd as qi,Zn as ii,_b as xt,_e as Yn,_n as at,ab as I,ao as Rt,bb as Dt,bg as Xn,bo as st,cb as c,co as Ui,da as Ri,db as Kt,dq as Y,eb as Ae,fd as ot,g as Bt,gc as F,gd as Ln,hd as Be,ho as vi,io as Ot,ja as L,jo as Re,ka as ki,kd as dn,ko as Ye,lb as a,ld as Ne,lo as Xe,mb as l,mo as Ze,nb as b,nd as cn,no as pn,ob as T,oo as $n,pb as E,qb as De,qd as He,ra as f,rb as y,sa as g,td as rt,u as Ht,ub as v,v as jt,va as Tn,vd as z,wb as u,xb as Jt,xc as xe,xd as zn,yb as Yt,yc as Fe,zb as R,zc as G,zd as Pt}from"./chunk-NH5FUIDQ.js";var xo=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=L({type:s,selectors:[["app-web-designer"]],decls:1,vars:0,template:function(i,e){i&1&&b(0,"router-outlet")},dependencies:[Ln],encapsulation:2});let n=s;return n})();var qo=["vform"];function Uo(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",22),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zo(n,s){n&1&&b(0,"i",29)}function Qo(n,s){n&1&&b(0,"i",30)}function Ko(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Jo(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",24),d(2),l(),a(3,"input",25,2),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,zo,1,0,"i",26)(6,Qo,1,0,"i",27),a(7,"em"),d(8),l(),I(9,Ko,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Yo(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",31),d(2),l(),a(3,"input",32,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),a(5,"em"),d(6),l()()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),r(),D("ngModel",t.dataModel.linkPageId),c("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessAddField)),r(3),_("",o.value.length," / 100")}}function Xo(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Zo(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",33),d(2),l(),a(3,"input",34,4),S(5,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),I(6,Xo,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),r(),R("placeholder",M(5,5,"TITLE.priority")),D("ngModel",t.dataModel.priority),c("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessAddField)),r(3),c("ngIf",o.errors==null?null:o.errors.required)}}function $o(n,s){n&1&&b(0,"i",29)}function er(n,s){n&1&&b(0,"i",30)}function tr(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function ir(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",35),d(2),S(3,"translate"),l(),a(4,"textarea",36,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(6,"                    "),l(),a(7,"em"),d(8),l(),I(9,$o,1,0,"i",26)(10,er,1,0,"i",27)(11,tr,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();r(2),w(M(3,8,"TITLE.General_Description")),r(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),c("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),r(4),_("",o.value.length," / 100"),r(),c("ngIf",!o.value),r(),c("ngIf",o.value),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function nr(n,s){if(n&1){let o=y();a(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),d(2),S(3,"translate"),l(),a(4,"button",39),d(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function or(n,s){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),Ee)}}function rr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),d(2),S(3,"translate"),l(),a(4,"input",42,6),S(6,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),A("openFormChange",function(i){f(o);let e=u();return x(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(M(3,11,"TITLE.Icon_File")),r(2),R("placeholder",M(6,13,"TITLE.Original_File_ID")),D("ngModel",o.dataModel.linkMainImageId),r(3),c("language",o.appLanguage)("isPopup",!0),D("openForm",o.fileManagerOpenForm),c("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ar(n,s){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),Ee)}}function lr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),d(2),l(),a(3,"input",45,7),S(5,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),A("openFormChange",function(i){f(o);let e=u();return x(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),r(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),D("ngModel",o.dataModel.linkMainVideoId),c("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),r(3),c("language",o.appLanguage)("isPopup",!0),D("openForm",o.fileManagerOpenFormVideo),c("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function sr(n,s){if(n&1&&(a(0,"div",37)(1,"button",46),d(2),S(3,"translate"),l(),a(4,"button",47),d(5),S(6,"translate"),l()()),n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var un=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,m,k,V){super(p,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=p,this.cmsToastrService=h,this.router=m,this.cdr=k,this.translate=V,this.requestLinkPageId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.formInfo=new re,this.dataModel=new Ot,this.dataModelResult=new q,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(C(ot),C(W),C(K),C(ii),C(O),C(Be),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,e){if(i&1&&ie(qo,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();a(0,"div",8),b(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(m){f(p);let k=P(11);return g(e.onStepClick(m,k))}),a(12,"mat-step",14),S(13,"translate"),I(14,Uo,1,5,"app-cms-enum-record-status-selector",15)(15,Jo,10,8,"div",16)(16,Yo,7,4,"div",16)(17,Zo,7,7,"div",16)(18,ir,12,10,"div",16)(19,nr,7,7,"div",17),l(),a(20,"mat-step",18),S(21,"translate"),a(22,"p"),d(23),S(24,"translate"),l(),a(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,or,2,3,"img",21),l()(),I(29,rr,8,15,"div",16),a(30,"div",19),I(31,ar,2,3,"img",21),l(),I(32,lr,7,14,"div",16)(33,sr,7,7,"div",17),l()()()()()}i&2&&(r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),r(2),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),r(),c("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow),r(),R("label",M(21,22,"TITLE.ATTACH_FILES")),r(3),w(M(24,24,"TITLE.Photos_And_Application_Files")),r(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),Ee),r(2),c("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),c("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),c("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),r(),c("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,ee,ei,X,ce,he,_e,Se,me,pe,Me,H,ri,ai,Ki,Ji,Ce,j,zi,N,kt],encapsulation:2});let n=s;return n})();var dr=["vform"];function cr(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",22),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pr(n,s){n&1&&b(0,"i",29)}function mr(n,s){n&1&&b(0,"i",30)}function ur(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function fr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",24),d(2),l(),a(3,"input",25,2),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,pr,1,0,"i",26)(6,mr,1,0,"i",27),a(7,"em"),d(8),l(),I(9,ur,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function gr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",31),d(2),l(),a(3,"input",32,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),a(5,"em"),d(6),l()()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),r(),D("ngModel",t.dataModel.linkPageId),c("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessEditField)),r(3),_("",o.value.length," / 100")}}function hr(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function _r(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",33),d(2),l(),a(3,"input",34,4),S(5,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),I(6,hr,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),r(),R("placeholder",M(5,5,"TITLE.priority")),D("ngModel",t.dataModel.priority),c("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessEditField)),r(3),c("ngIf",o.errors==null?null:o.errors.required)}}function Sr(n,s){n&1&&b(0,"i",29)}function Mr(n,s){n&1&&b(0,"i",30)}function Ir(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function br(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",35),d(2),S(3,"translate"),l(),a(4,"textarea",36,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(6,"                        "),l(),a(7,"em"),d(8),l(),I(9,Sr,1,0,"i",26)(10,Mr,1,0,"i",27)(11,Ir,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();r(2),w(M(3,8,"TITLE.General_Description")),r(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),c("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),r(4),_("",o.value.length," / 100"),r(),c("ngIf",!o.value),r(),c("ngIf",o.value),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Cr(n,s){if(n&1){let o=y();a(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),d(2),S(3,"translate"),l(),a(4,"button",39),d(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function vr(n,s){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),Ee)}}function yr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),d(2),l(),a(3,"input",42,6),S(5,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),A("openFormChange",function(i){f(o);let e=u();return x(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.linkMainImageId==null?null:o.fieldsInfo.linkMainImageId.fieldTitle),r(),R("placeholder",M(5,11,"TITLE.Original_File_ID")),D("ngModel",o.dataModel.linkMainImageId),r(3),c("language",o.appLanguage)("isPopup",!0),D("openForm",o.fileManagerOpenForm),c("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function wr(n,s){if(n&1&&(b(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),Ee)}}function Tr(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),d(2),l(),a(3,"input",45,7),S(5,"translate"),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),A("openFormChange",function(i){f(o);let e=u();return x(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),r(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),D("ngModel",o.dataModel.linkMainVideoId),c("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),r(3),c("language",o.appLanguage)("isPopup",!0),D("openForm",o.fileManagerOpenFormVideo),c("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Er(n,s){if(n&1&&(a(0,"div",37)(1,"button",46),d(2),S(3,"translate"),l(),a(4,"button",47),d(5),S(6,"translate"),l()()),n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var Ao=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,m,k,V){super(p,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=p,this.cmsToastrService=h,this.router=m,this.cdr=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.formInfo=new re,this.dataModel=new Ot,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(t){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(Pt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(t).subscribe({next:e=>{this.dataAccessModel=e.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.publicHelper.processService.processStop(i),this.dataModelResult=e,this.formInfo.formSubmitAllow=!0,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage)},error:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(e)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(C(ot),C(W),C(K),C(ii),C(O),C(Be),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,e){if(i&1&&ie(dr,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();a(0,"div",8),b(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(m){f(p);let k=P(11);return g(e.onStepClick(m,k))}),a(12,"mat-step",14),S(13,"translate"),I(14,cr,1,5,"app-cms-enum-record-status-selector",15)(15,fr,10,8,"div",16)(16,gr,7,4,"div",16)(17,_r,7,7,"div",16)(18,br,12,10,"div",16)(19,Cr,7,7,"div",17),l(),a(20,"mat-step",18),S(21,"translate"),a(22,"p"),d(23),S(24,"translate"),l(),a(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,vr,2,3,"img",21),l()(),I(29,yr,7,13,"div",16),a(30,"div",19),I(31,wr,2,3,"img",21),l(),I(32,Tr,7,14,"div",16)(33,Er,7,7,"div",17),l()()()()()}i&2&&(r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),r(2),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),r(),c("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow),r(),R("label",M(21,22,"TITLE.ATTACH_FILES")),r(3),w(M(24,24,"TITLE.Photos_And_Application_Files")),r(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),Ee),r(2),c("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),c("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),c("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),r(),c("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,ee,ei,X,ce,he,_e,Se,me,pe,Me,H,ri,ai,Ki,Ji,Ce,j,zi,N,kt],encapsulation:2});let n=s;return n})();var Ar=()=>[5,10,20,100],Pr=n=>({display:n});function Rr(n,s){if(n&1){let o=y();a(0,"a",41),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),b(1,"i",42),l()}}function kr(n,s){if(n&1){let o=y();a(0,"div",43)(1,"a",44),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),l(),a(4,"p",46),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function Wr(n,s){if(n&1){let o=y();a(0,"div",43)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",46),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function Lr(n,s){if(n&1){let o=y();a(0,"div",43)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),a(4,"p",46),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function Vr(n,s){n&1&&(a(0,"mat-header-cell",51),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function Gr(n,s){if(n&1&&(b(0,"img",53),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkMainImageIdSrc),Ee)}}function Fr(n,s){if(n&1&&(a(0,"mat-cell"),I(1,Gr,2,3,"img",52),l()),n&2){let o=s.$implicit;r(),c("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Br(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Or(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function Nr(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hr(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function jr(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageId==null?null:o.fieldsInfo.linkPageId.fieldTitle," ")}}function qr(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageId," ")}}function Ur(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function zr(n,s){if(n&1&&b(0,"select",57),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,Pr,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Qr(n,s){if(n&1&&(a(0,"mat-cell",55),S(1,"statusCellClass"),b(2,"i",55),S(3,"statusIconClass"),I(4,zr,1,5,"select",56),l()),n&2){let o=s.$implicit,t=u();c("ngClass",M(1,3,o.recordStatus)),r(2),c("ngClass",M(3,5,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Kr(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Jr(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Yr(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Xr(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),l()),n&2){let o=s.$implicit;r(),_(" ",M(2,1,o.createdDate)," ")}}function Zr(n,s){if(n&1&&(a(0,"mat-header-cell",54),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function $r(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),l()),n&2){let o=s.$implicit;r(),_(" ",M(2,1,o.updatedDate)," ")}}function ea(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function ta(n,s){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function ia(n,s){n&1&&b(0,"mat-header-row")}function na(n,s){if(n&1){let o=y();a(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var fn=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te,Tt){super(t,new Ot,Te,h,V),this.contentService=t,this.activatedRoute=i,this.cmsToastrService=e,this.router=p,this.tokenHelper=h,this.cmsConfirmationDialogService=m,this.cdr=k,this.translate=V,this.pageInfo=de,this.publicHelper=Te,this.dialog=Tt,this.requestLinkPageId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=z.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let t=new U;this.requestLinkPageId>0&&(t.propertyName="LinkPageId",t.value=this.requestLinkPageId,this.filteModelContent.filters.push(t)),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){let p=this.translate.instant("MESSAGE.No_row_selected_for_editing");this.cmsToastrService.typeErrorSelected(p);return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(C(ii),C(ot),C(O),C(Be),C(ye),C(Ke),C(F),C(B),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-list"]],features:[Q],decls:63,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,4),d(2," -------------------------------------- "),E(),De(3,5)(4,6),T(5,7),I(6,Rr,2,0,"a",8),a(7,"a",9),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(8,"i",10),l(),a(9,"a",9),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(10,"i",11),l(),E(),T(11,12),a(12,"a",13),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(13,"mat-slide-toggle",14),d(14),S(15,"translate"),l(),a(16,"a",13),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(17,"mat-slide-toggle",14),d(18),S(19,"translate"),l(),E(),T(20,15),I(21,kr,7,3,"div",16),E(),T(22,17),I(23,Wr,7,3,"div",16)(24,Lr,7,3,"div",16),E(),T(25,18),a(26,"app-cms-search-list",19),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(27,"app-cms-statist-list",19),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(28,20),a(29,"mat-table",21,0),v("matSortChange",function(){f(p);let m=P(30);return g(e.onTableSortData(m))}),T(31,22),I(32,Vr,3,3,"mat-header-cell",23)(33,Fr,2,1,"mat-cell",24),E(),T(34,25),I(35,Br,2,1,"mat-header-cell",26)(36,Or,2,1,"mat-cell",24),E(),T(37,27),I(38,Nr,2,1,"mat-header-cell",26)(39,Hr,4,5,"mat-cell",24),E(),T(40,28),I(41,jr,2,1,"mat-header-cell",26)(42,qr,2,1,"mat-cell",24),E(),T(43,29),I(44,Ur,2,1,"mat-header-cell",26)(45,Qr,5,7,"mat-cell",30),E(),T(46,31),I(47,Kr,2,1,"mat-header-cell",26)(48,Jr,2,1,"mat-cell",24),E(),T(49,32),I(50,Yr,2,1,"mat-header-cell",26)(51,Xr,3,3,"mat-cell",24),E(),T(52,33),I(53,Zr,2,1,"mat-header-cell",26)(54,$r,3,3,"mat-cell",24),E(),T(55,34),I(56,ea,3,3,"mat-header-cell",35)(57,ta,6,1,"mat-cell",36),E(),I(58,ia,1,0,"mat-header-row",37)(59,na,1,6,"mat-row",38),l(),E(),T(60,39),a(61,"mat-paginator",40,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),c("ngIf",e.requestLinkPageId>0),r(7),c("checked",e.optionsSearch.data.show),r(),_("",M(15,24,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(19,26,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource),r(29),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(28,Ar)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,it,N,Yi,kt,$i,qe,Wt],encapsulation:2});let n=s;return n})();var oa=["vform"];function ra(n,s){if(n&1){let o=y();a(0,"div",7)(1,"button",12),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",13),d(3),S(4,"translate"),l()()}n&2&&(r(3),_(" ",M(4,1,"ACTION.CANCEL")," "))}var Po=(()=>{let s=class s{constructor(t,i,e,p,h,m,k,V,de){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerLogMemberInfoService=p,this.cdr=h,this.cmsToastrService=m,this.tokenHelper=k,this.publicHelper=V,this.translate=de,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Kn,this.dataModelResult=new q,this.dataModel=new vi,this.formInfo=new re,this.dataModelEnumSendSmsStatusTypeResult=new q,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(ui),C(F),C(O),C(ye),C(W),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(i,e){if(i&1&&ie(oa,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),d(1),l(),a(2,"div",1),b(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),S(5,"translate"),b(6,"app-cms-user-selector",3),S(7,"translate"),b(8,"app-cms-json-list",4),a(9,"app-cms-location-selector",5),S(10,"translate"),v("optionChange",function(h){return e.onActionSelectorLocation(h)}),l()(),a(11,"div",6)(12,"div",7)(13,"small",8),d(14),l(),a(15,"small",9),d(16),l()()(),a(17,"div",10),I(18,ra,5,3,"div",11),l()),i&2&&(r(),_(" ",e.formInfo.formTitle," "),r(2),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",M(5,16,"TITLE.SITE")),r(2),c("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",M(7,18,"TITLE.USER")),r(2),c("dataModel",e.dataModel)("optionMethod",1),r(),c("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(10,20,"TITLE.Region")),r(5),_("",e.formInfo.formAlert," "),r(2),_("",e.formInfo.formError," "),r(2),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,_o,go,So,j,fo,N],encapsulation:2});let n=s;return n})();var aa=()=>[5,10,20,100],la=n=>({display:n});function sa(n,s){if(n&1){let o=y();a(0,"div",46)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonViewRow(i.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",49),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.VIEW")))}function da(n,s){if(n&1){let o=y();a(0,"div",46)(1,"a",50),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",51)(3,"br"),l(),a(4,"p",49),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function ca(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function pa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function ma(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function ua(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function fa(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ga(n,s){if(n&1&&b(0,"select",55),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,la,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function ha(n,s){if(n&1&&(a(0,"mat-cell",53),S(1,"statusCellClass"),b(2,"i",53),S(3,"statusIconClass"),I(4,ga,1,5,"select",54),l()),n&2){let o=s.$implicit,t=u();c("ngClass",M(1,3,o.recordStatus)),r(2),c("ngClass",M(3,5,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function _a(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Sa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmsuserinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkUserId))," ")}}function Ma(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ia(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkMemberId," ")}}function ba(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkLocationIdTitle==null?null:o.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function Ca(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkLocationIdTitle," ")}}function va(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkLocationIdParentTitle==null?null:o.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function ya(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkLocationIdParentTitle," ")}}function wa(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceStatus==null?null:o.fieldsInfo.deviceStatus.fieldTitle," ")}}function Ta(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceStatus," ")}}function Ea(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceId==null?null:o.fieldsInfo.deviceId.fieldTitle," ")}}function Da(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceId," ")}}function xa(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceBrand==null?null:o.fieldsInfo.deviceBrand.fieldTitle," ")}}function Aa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceBrand," ")}}function Pa(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.simCard==null?null:o.fieldsInfo.simCard.fieldTitle," ")}}function Ra(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.simCard," ")}}function ka(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.appBuildVer==null?null:o.fieldsInfo.appBuildVer.fieldTitle," ")}}function Wa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.appBuildVer," ")}}function La(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.appSourceVer==null?null:o.fieldsInfo.appSourceVer.fieldTitle," ")}}function Va(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.appSourceVer," ")}}function Ga(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.scorePercent==null?null:o.fieldsInfo.scorePercent.fieldTitle," ")}}function Fa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.scorePercent," %")}}function Ba(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Oa(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"localeDate"),l()),n&2){let o=s.$implicit;r(),_(" ",M(2,1,o.createdDate)," ")}}function Na(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Ha(n,s){if(n&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function ja(n,s){n&1&&b(0,"mat-header-row")}function qa(n,s){if(n&1){let o=y();a(0,"mat-row",58),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Ro=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te,Tt){super(t,new vi,Te,V,h),this.contentService=t,this.cmsConfirmationDialogService=i,this.activatedRoute=e,this.cdr=p,this.translate=h,this.cmsToastrService=m,this.router=k,this.tokenHelper=V,this.pageInfo=de,this.publicHelper=Te,this.dialog=Tt,this.requestLinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ft=>this.onSubmitOptionsSearch(Ft)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=z.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let t=new U;this.requestLinkMemberId>0&&(t.propertyName="LinkMemberId",t.value=this.requestLinkMemberId,this.filteModelContent.filters.push(t)),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new vi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Po,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{i.set(k,m.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};s.\u0275fac=function(i){return new(i||s)(C(ui),C(Ke),C(ot),C(F),C(B),C(O),C(Be),C(ye),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-list"]],features:[Q],decls:81,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),De(1,4)(2,5)(3,6),T(4,7),a(5,"a",8),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(6,"i",9),l(),a(7,"a",8),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(8,"i",10),l(),E(),T(9,11),a(10,"a",12),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(11,"mat-slide-toggle",13),d(12),S(13,"translate"),l(),a(14,"a",12),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(15,"mat-slide-toggle",13),d(16),S(17,"translate"),l(),E(),De(18,14),T(19,15),I(20,sa,7,3,"div",16)(21,da,7,3,"div",16),E(),T(22,17),a(23,"app-cms-search-list",18),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(24,"app-cms-statist-list",18),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(25,19),a(26,"mat-table",20,0),v("matSortChange",function(){f(p);let m=P(27);return g(e.onTableSortData(m))}),T(28,21),I(29,ca,2,1,"mat-header-cell",22)(30,pa,2,1,"mat-cell",23),E(),T(31,24),I(32,ma,2,1,"mat-header-cell",22)(33,ua,4,5,"mat-cell",23),E(),T(34,25),I(35,fa,2,1,"mat-header-cell",22)(36,ha,5,7,"mat-cell",26),E(),T(37,27),I(38,_a,2,1,"mat-header-cell",22)(39,Sa,4,5,"mat-cell",23),E(),T(40,28),I(41,Ma,2,1,"mat-header-cell",22)(42,Ia,2,1,"mat-cell",23),E(),T(43,29),I(44,ba,2,1,"mat-header-cell",22)(45,Ca,2,1,"mat-cell",23),E(),T(46,30),I(47,va,2,1,"mat-header-cell",22)(48,ya,2,1,"mat-cell",23),E(),T(49,31),I(50,wa,2,1,"mat-header-cell",22)(51,Ta,2,1,"mat-cell",23),E(),T(52,32),I(53,Ea,2,1,"mat-header-cell",22)(54,Da,2,1,"mat-cell",23),E(),T(55,33),I(56,xa,2,1,"mat-header-cell",22)(57,Aa,2,1,"mat-cell",23),E(),T(58,34),I(59,Pa,2,1,"mat-header-cell",22)(60,Ra,2,1,"mat-cell",23),E(),T(61,35),I(62,ka,2,1,"mat-header-cell",22)(63,Wa,2,1,"mat-cell",23),E(),T(64,36),I(65,La,2,1,"mat-header-cell",22)(66,Va,2,1,"mat-cell",23),E(),T(67,37),I(68,Ga,2,1,"mat-header-cell",22)(69,Fa,2,1,"mat-cell",23),E(),T(70,38),I(71,Ba,2,1,"mat-header-cell",22)(72,Oa,3,3,"mat-cell",23),E(),T(73,39),I(74,Na,3,3,"mat-header-cell",40)(75,Ha,6,1,"mat-cell",41),E(),I(76,ja,1,0,"mat-header-row",42)(77,qa,1,6,"mat-row",43),l(),E(),T(78,44),a(79,"mat-paginator",45,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(11),c("checked",e.optionsSearch.data.show),r(),_("",M(13,22,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(17,24,"ACTION.STATIST")," "),r(4),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(),c("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource),r(50),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(26,aa)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,it,N,to,Yi,$i,qe,Wt],encapsulation:2});let n=s;return n})();var Ua=["*"];function za(n,s){if(n&1&&(a(0,"label",8),d(1),l()),n&2){let o=u();Ge("for","app-cms-site-selector-",o.id,""),r(),w(o.optionLabel)}}function Qa(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),n&2){let o=s.$implicit,t=u();c("value",o)("disabled",t.optionDisabled),r(2),w(t.displayOption(o))}}function Ka(n,s){if(n&1){let o=y();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),d(1,"close"),l()}}var on=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=p,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new Re,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Bt(this,null,function*(){let i=new Z;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=He.Contains,e.clauseType=Ne.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=He.Equal,e.clauseType=Ne.Or,i.filters.push(e));let p=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Re){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Re,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(K),C(F),C(W),C(B),C(at))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Ua,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),a(0,"div",1),b(1,"app-progress-spinner",2),I(2,za,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(m){return f(p),g(e.onActionSelect(m.option.value))}),I(6,Qa,3,3,"mat-option",6),S(7,"async"),l(),I(8,Ka,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Ge("id","app-cms-site-selector-",e.id,""),c("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),r(),c("displayWith",e.displayFn),r(2),c("ngForOf",M(7,11,e.filteredOptions)),r(2),c("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,ee,X,ti,ni,Zt,oi,nt,J,H,j,it],encapsulation:2});let n=s;return n})();var Xa=["vform"],Za=()=>["fa"];function $a(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",29),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function el(n,s){n&1&&b(0,"i",35)}function tl(n,s){n&1&&b(0,"i",36)}function il(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function nl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",30),d(2),l(),a(3,"input",31,2),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,el,1,0,"i",32)(6,tl,1,0,"i",33),a(7,"em"),d(8),l(),I(9,il,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function ol(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function rl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",37),d(2),l(),a(3,"input",38,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),I(5,ol,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),D("ngModel",t.dataModel.titleResourceLanguage),c("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),c("ngIf",o.errors==null?null:o.errors.required)}}function al(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",39),d(2),l(),a(3,"input",40,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),a(5,"em"),d(6),l()()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),D("ngModel",t.dataModel.routeAddressLink),c("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),r(3),_("",o.value.length," / 500")}}function ll(n,s){if(n&1){let o=y();a(0,"div",41)(1,"div",42)(2,"h5",43),d(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),b(7,"label",47),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),r(3),D("ngModel",o.dataModel.routeAddressBlankPage)}}function sl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",48),d(2),l(),a(3,"input",49,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),b(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();r(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),c("ngxMatColorPicker",o),D("ngModel",t.dataModel.color),c("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),r(2),c("for",o),r(),c("touchUi",!0)("color","primary")}}function dl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",52),d(2),l(),a(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),r(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),c("iconPicker",o.dataModel.icon)("ipIconPack",ve(7,Za))("ipPosition","top"),D("ngModel",o.dataModel.icon),c("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function cl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",54),d(2),l(),a(3,"input",55,8),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),r(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),D("ngModel",o.dataModel.showInMenuOrder),c("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function pl(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function ml(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",56),d(2),l(),a(3,"textarea",57,9),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"              "),l(),a(6,"em"),d(7),l(),I(8,pl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function ul(n,s){if(n&1){let o=y();a(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),d(2),S(3,"translate"),l(),a(4,"button",60),d(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function fl(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function gl(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function hl(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function _l(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var rn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,m,k,V){super(p,new Re,m,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.requestParentId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResult=new q,this.dataModel=new Re,this.formInfo=new re,this.dataModelEnumMenuPlaceTypeResult=new q,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestParentId=t.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(at),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,e){if(i&1&&ie(Xa,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();a(0,"div",10),b(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",14,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(m){f(p);let k=P(11);return g(e.onStepClick(m,k))}),a(12,"mat-step",16),S(13,"translate"),I(14,$a,1,5,"app-cms-enum-record-status-selector",17),a(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectorSelect(m))}),l(),I(17,nl,10,8,"div",19),a(18,"div",20)(19,"label",21),d(20),S(21,"translate"),l(),a(22,"input",22),A("ngModelChange",function(m){return f(p),x(e.dataModel.titleML,m)||(e.dataModel.titleML=m),g(m)}),l()(),I(23,rl,6,5,"div",19)(24,al,7,5,"div",19)(25,ll,8,2,"div",23)(26,sl,8,10,"div",19)(27,dl,5,8,"div",19)(28,cl,5,4,"div",19)(29,ml,9,5,"div",19)(30,ul,7,7,"div",24),l(),I(31,fl,2,0,"ng-template",25)(32,gl,2,0,"ng-template",26)(33,hl,2,0,"ng-template",27)(34,_l,2,0,"ng-template",28),l()()()()}i&2&&(r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,22,"TITLE.Menu_Profile")),r(2),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),r(2),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(21,26,"TITLE.TitleML"),""),r(2),D("ngModel",e.dataModel.titleML),c("disabled",!0),r(),c("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),c("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),r(),c("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),r(),c("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),r(),c("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),r(),c("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,ee,ei,At,X,ce,he,_e,Se,me,pe,Me,nt,J,H,ri,ai,Qi,Ce,j,Hi,Ni,Oi,en,on,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Sl=["vform"],Ml=()=>["fa"];function Il(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",29),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bl(n,s){n&1&&b(0,"i",35)}function Cl(n,s){n&1&&b(0,"i",36)}function vl(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function yl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",30),d(2),l(),a(3,"input",31,2),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,bl,1,0,"i",32)(6,Cl,1,0,"i",33),a(7,"em"),d(8),l(),I(9,vl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function wl(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Tl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",37),d(2),l(),a(3,"input",38,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),I(5,wl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),D("ngModel",t.dataModel.titleResourceLanguage),c("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),c("ngIf",o.errors==null?null:o.errors.required)}}function El(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",39),d(2),l(),a(3,"input",40,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),a(5,"em"),d(6),l()()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),D("ngModel",t.dataModel.routeAddressLink),c("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),r(3),_("",o.value.length," / 500")}}function Dl(n,s){if(n&1){let o=y();a(0,"div",41)(1,"div",42)(2,"h5",43),d(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),b(7,"label",47),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),r(3),D("ngModel",o.dataModel.routeAddressBlankPage)}}function xl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",48),d(2),l(),a(3,"input",49,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),b(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();r(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),c("ngxMatColorPicker",o),D("ngModel",t.dataModel.color),c("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),r(2),c("for",o),r(),c("touchUi",!0)("color","primary")}}function Al(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",52),d(2),l(),a(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),r(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),c("iconPicker",o.dataModel.icon)("ipIconPack",ve(7,Ml))("ipPosition","top"),D("ngModel",o.dataModel.icon),c("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function Pl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",54),d(2),l(),a(3,"input",55,8),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();r(2),w(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),r(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),D("ngModel",o.dataModel.showInMenuOrder),c("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function Rl(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function kl(n,s){if(n&1){let o=y();a(0,"div",20)(1,"label",56),d(2),l(),a(3,"textarea",57,9),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"              "),l(),a(6,"em"),d(7),l(),I(8,Rl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Wl(n,s){if(n&1){let o=y();a(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),d(2),S(3,"translate"),l(),a(4,"button",60),d(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),c("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function Ll(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Vl(n,s){n&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Gl(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Fl(n,s){n&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var an=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,m,k,V){super(p,new Re,h,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=p,this.publicHelper=h,this.cmsToastrService=m,this.cdr=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new Re,this.formInfo=new re,this.dataModelEnumMenuPlaceTypeResult=new q,this.fileManagerOpenForm=!1,this.dataWebDesignerMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(Pt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataWebDesignerMainMenuModel=t}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(at),C(W),C(O),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,e){if(i&1&&ie(Sl,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();a(0,"div",10),b(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",14,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(m){f(p);let k=P(11);return g(e.onStepClick(m,k))}),a(12,"mat-step",16),S(13,"translate"),I(14,Il,1,5,"app-cms-enum-record-status-selector",17),a(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectorSelect(m))}),l(),I(17,yl,10,8,"div",19),a(18,"div",20)(19,"label",21),d(20),S(21,"translate"),l(),a(22,"input",22),A("ngModelChange",function(m){return f(p),x(e.dataModel.titleML,m)||(e.dataModel.titleML=m),g(m)}),l()(),I(23,Tl,6,5,"div",19)(24,El,7,5,"div",19)(25,Dl,8,2,"div",23)(26,xl,8,10,"div",19)(27,Al,5,8,"div",19)(28,Pl,5,4,"div",19)(29,kl,9,5,"div",19)(30,Wl,7,7,"div",24),l(),I(31,Ll,2,0,"ng-template",25)(32,Vl,2,0,"ng-template",26)(33,Gl,2,0,"ng-template",27)(34,Fl,2,0,"ng-template",28),l()()()()}i&2&&(r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,22,"TITLE.Menu_Profile")),r(2),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),r(2),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(21,26,"TITLE.TitleML"),""),r(2),D("ngModel",e.dataModel.titleML),c("disabled",!0),r(),c("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),c("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),r(),c("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),r(),c("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),r(),c("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),r(),c("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,ee,ei,At,X,ce,he,_e,Se,me,pe,Me,nt,J,H,ri,ai,Qi,Ce,j,Hi,Ni,Oi,en,on,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();function Bl(n,s){if(n&1){let o=y();a(0,"button",12),v("click",function(){f(o);let i=u();return g(i.onActionAdd())}),d(1),S(2,"translate"),l()}n&2&&(r(),w(M(2,1,"ACTION.ADD")))}function Ol(n,s){if(n&1){let o=y();a(0,"button",13),v("click",function(){f(o);let i=u();return g(i.onActionEdit())}),d(1),S(2,"translate"),l()}n&2&&(r(),w(M(2,1,"ACTION.EDIT")))}function Nl(n,s){if(n&1){let o=y();a(0,"button",14),v("click",function(){f(o);let i=u();return g(i.onActionButtonReload())}),a(1,"mat-icon",15),S(2,"translate"),d(3,"refresh"),l()()}n&2&&(r(),R("title",M(2,1,"ACTION.RELOAD")))}function Hl(n,s){if(n&1){let o=y();a(0,"mat-tree-node",16),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),b(1,"button",17)(2,"i",18),d(3),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===o.id),r(2),c("ngClass",o.Icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.title," ")}}function jl(n,s){if(n&1){let o=y();a(0,"mat-nested-tree-node")(1,"li")(2,"div",19),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),a(3,"button",20),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),a(4,"mat-icon",21),d(5),l()(),b(6,"i",18),d(7),l(),a(8,"ul"),De(9,22),l()()()}if(n&2){let o=s.$implicit,t=u();r(2),Ae("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===o.id),r(),Dt("aria-label","Toggle "+o.title),r(2),_(" ",t.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),Kt("color",o.color),c("ngClass",o.Icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.title," "),r(),Ae("category-tree-invisible",!t.treeControl.isExpanded(o))}}var Wo=(()=>{let s=class s{constructor(t,i,e,p,h,m,k,V){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=p,this.cdr=h,this.publicHelper=m,this.tokenHelper=k,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Re,this.dataModelResult=new q,this.filterModel=new Z,this.treeControl=new no(de=>de.children),this.dataSource=new mo,this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(de,Te)=>!!Te.children&&Te.children.length>0,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=z.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:i=>{i.isSuccess&&(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Re,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id);let i=new jn;i.disableClose=!0,i.autoFocus=!0,i.data={parentId:t},this.dialog.open(rn,i).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(an,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};s.\u0275fac=function(i){return new(i||s)(C(O),C(K),C(at),C(Oe),C(F),C(W),C(ye),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),T(1,1),d(2),S(3,"translate"),E(),T(4,2),I(5,Bl,3,3,"button",3)(6,Ol,3,3,"button",4)(7,Nl,4,3,"button",5),E(),T(8,6),b(9,"app-progress-spinner",7),a(10,"mat-tree",8),I(11,Hl,4,8,"mat-tree-node",9)(12,jl,10,10,"mat-nested-tree-node",10),l(),E(),De(13,11),l()),i&2&&(c("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),_(" ",M(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),c("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),c("matTreeNodeDefWhen",e.hasChild))},dependencies:[xe,G,Pe,J,ao,ro,lo,po,co,oo,so,j,yi,N],encapsulation:2});let n=s;return n})();var Ul=()=>["expandedTitle"],zl=()=>[5,10,20,100],Ql=n=>({display:n});function Kl(n,s){if(n&1){let o=y();a(0,"div",41)(1,"a",42),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",43)(3,"br"),l(),a(4,"p",44),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function Jl(n,s){if(n&1){let o=y();a(0,"div",41)(1,"a",45),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",46)(3,"br"),l(),a(4,"p",44),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function Yl(n,s){if(n&1){let o=y();a(0,"div",41)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",44),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function Xl(n,s){if(n&1){let o=y();a(0,"mat-row",49),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Zl(n,s){if(n&1&&(a(0,"mat-header-cell",50),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle," ")}}function $l(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",51),l()),n&2){let o=s.$implicit;r(),Kt("color",o.color),c("ngClass",o.icon)}}function es(n,s){if(n&1&&(a(0,"mat-header-cell",50),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ts(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function is(n,s){if(n&1&&(a(0,"mat-header-cell",50),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ns(n,s){if(n&1&&b(0,"select",54),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,Ql,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function os(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",52),S(2,"statusIconClass"),I(3,ns,1,5,"select",53),l()),n&2){let o=s.$implicit,t=u();r(),c("ngClass",M(2,2,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function rs(n,s){if(n&1&&(a(0,"mat-header-cell",50),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle,"")}}function as(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function ls(n,s){n&1&&(a(0,"mat-header-cell",50),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data"),""))}function ss(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",52),S(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),c("ngClass",M(2,1,o.showInAccessAdminAllowToProfessionalData))}}function ds(n,s){n&1&&(a(0,"mat-header-cell",50),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.Menu_Place_Type")," "))}function cs(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"enums"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.menuPlaceType,t.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function ps(n,s){if(n&1&&(a(0,"mat-header-cell",50),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function ms(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.showInMenuOrder," ")}}function us(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function fs(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function gs(n,s){n&1&&(a(0,"mat-header-cell",50),d(1),S(2,"translate"),l()),n&2&&(r(),_("",M(2,1,"ACTION.ORDERING")," "))}function hs(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",57),d(2,"reorder"),l()())}function _s(n,s){n&1&&b(0,"mat-header-row")}function Ss(n,s){if(n&1){let o=y();a(0,"mat-row",58),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("cdkDragData",o)}}function Ms(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"translate"),b(3,"br"),d(4),S(5,"translate"),b(6,"br"),d(7),S(8,"translate"),l()),n&2){let o=s.$implicit;r(),Xt(" ",M(2,6,"TITLE.Id")," : ",o.id," "),r(3),Xt(" ",M(5,8,"TITLE.title")," : ",o.title," "),r(3),Xt(" ",M(8,10,"TITLE.DisplayInThePriorityMenu")," : ",o.ShowInMenuOrder," ")}}var Vo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te){super(t,new Re,de,p,k),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=p,this.coreEnumService=h,this.cdr=m,this.translate=k,this.pageInfo=V,this.publicHelper=de,this.dialog=Te,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.dataModelEnumMenuPlaceTypeResult=new q,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=z.Ascending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Re);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new U;e.propertyName="LinkParentId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(p=>p===t.item.data),e=new Qn;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=cn.GoUp:e.actionGo=cn.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:p=>{p.isSuccess&&(bo(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:p=>{this.cmsToastrService.typeError(p)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:t,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(an,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(at),C(Ke),C(O),C(ye),C(K),C(F),C(B),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-list"]],features:[Q],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","cdkDragData"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,4),a(2,"app-webdesigner-menu-tree",5),v("optionChange",function(m){return f(p),g(e.onActionSelectorSelect(m))}),l(),E(),De(3,6)(4,7),T(5,8),a(6,"a",9),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(7,"i",10),l(),a(8,"a",9),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(9,"i",11),l(),E(),T(10,12),a(11,"a",13),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),d(13),S(14,"translate"),l(),a(15,"a",13),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),d(17),S(18,"translate"),l(),E(),T(19,15),I(20,Kl,7,3,"div",16),E(),T(21,17),I(22,Jl,7,3,"div",16)(23,Yl,7,3,"div",16),E(),T(24,18),a(25,"app-cms-search-list",19),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(26,"app-cms-statist-list",19),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(27,20),a(28,"mat-table",21,0),v("matSortChange",function(){f(p);let m=P(29);return g(e.onTableSortData(m))})("cdkDropListDropped",function(m){return f(p),g(e.onTableDropRow(m))}),I(30,Xl,1,6,"mat-row",22),T(31,23),I(32,Zl,2,1,"mat-header-cell",24)(33,$l,2,3,"mat-cell",25),E(),T(34,26),I(35,es,2,1,"mat-header-cell",24)(36,ts,2,1,"mat-cell",25),E(),T(37,27),I(38,is,2,1,"mat-header-cell",24)(39,os,4,4,"mat-cell",25),E(),T(40,28),I(41,rs,2,1,"mat-header-cell",24)(42,as,2,1,"mat-cell",25),E(),T(43,29),I(44,ls,3,3,"mat-header-cell",24)(45,ss,3,3,"mat-cell",25),E(),T(46,30),I(47,ds,3,3,"mat-header-cell",24)(48,cs,3,4,"mat-cell",25),E(),T(49,31),I(50,ps,2,1,"mat-header-cell",24)(51,ms,2,1,"mat-cell",25),E(),T(52,32),I(53,us,3,3,"mat-header-cell",33)(54,fs,6,1,"mat-cell",34),E(),T(55,35),I(56,gs,3,3,"mat-header-cell",24)(57,hs,3,0,"mat-cell",25),E(),I(58,_s,1,0,"mat-header-row",36)(59,Ss,1,7,"mat-row",37),T(60,38),I(61,Ms,9,12,"mat-cell",25),E(),l(),E(),T(62,39),a(63,"mat-paginator",40,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),c("checked",e.optionsSearch.data.show),r(),_("",M(14,25,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(18,27,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource)("cdkDropListData",e.tableSource),r(2),c("matRowDefColumns",ve(29,Ul)),r(28),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(4),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,zl)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,yo,vo,Co,Wo,N,uo,qe,fi],encapsulation:2});let n=s;return n})();var bs=["vform"];function Cs(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",22),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vs(n,s){n&1&&b(0,"i",25)}function ys(n,s){n&1&&b(0,"i",26)}function ws(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Ts(n,s){if(n&1){let o=y();a(0,"div",13)(1,"label",23),d(2),l(),a(3,"input",24,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,vs,1,0,"i",16)(6,ys,1,0,"i",17),a(7,"em"),d(8),l(),I(9,ws,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Es(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Ds(n,s){if(n&1){let o=y();a(0,"div",13)(1,"label",27),d(2),l(),a(3,"input",28,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),d(6),l(),I(7,Es,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),D("ngModel",t.dataModel.titleResourceLanguage),c("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function xs(n,s){n&1&&b(0,"i",25)}function As(n,s){n&1&&b(0,"i",26)}function Ps(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Rs(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function ks(n,s){if(n&1){let o=y();a(0,"div",29)(1,"button",30),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",31),d(3),S(4,"translate"),l(),a(5,"button",32),b(6,"i",33),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Sn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,m,k,V){super(p,new Xe,m,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.requestLinkModuleId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new Xe,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkModuleId=+t.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(Rt),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,e){if(i&1&&ie(bs,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:32,vars:27,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",5),b(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,Cs,1,5,"app-cms-enum-record-status-selector",10)(11,Ts,10,8,"div",11)(12,Ds,8,6,"div",11),a(13,"app-cms-module-selector",12),S(14,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectModule(m))}),l(),a(15,"div",13)(16,"label",14),d(17),l(),a(18,"input",15,1),A("ngModelChange",function(m){return f(p),x(e.dataModel.cmsModuleClassName,m)||(e.dataModel.cmsModuleClassName=m),g(m)}),l(),I(20,xs,1,0,"i",16)(21,As,1,0,"i",17),a(22,"em"),d(23),l(),I(24,Ps,5,4,"mat-error",18),l(),a(25,"div",13)(26,"label",19),d(27),l(),a(28,"input",20,2),A("ngModelChange",function(m){return f(p),x(e.dataModel.classActionName,m)||(e.dataModel.classActionName=m),g(m)}),l(),I(30,Rs,5,4,"mat-error",18),l(),I(31,ks,9,7,"div",21),l()()()}if(i&2){let p=P(19),h=P(29);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),c("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(14,25,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessAddField)),r(4),w(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),D("ngModel",e.dataModel.cmsModuleClassName),c("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessAddField)),r(2),c("ngIf",!p.value),r(),c("ngIf",p.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(3),w(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),D("ngModel",e.dataModel.classActionName),c("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessAddField)),r(2),c("ngIf",h.errors==null?null:h.errors.required),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,ee,X,ce,he,_e,Se,me,pe,Me,H,Ce,Xi,j,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Ws=["*"];function Ls(n,s){if(n&1&&(a(0,"label",8),d(1),l()),n&2){let o=u();Ge("for","app-cms-site-selector-",o.id,""),r(),w(o.optionLabel)}}function Vs(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),n&2){let o=s.$implicit,t=u();c("value",o)("disabled",t.optionDisabled),r(2),w(t.displayOption(o))}}function Gs(n,s){if(n&1){let o=y();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),d(1,"close"),l()}}var bi=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=p,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new Ze,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Bt(this,null,function*(){let i=new Z;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=He.Contains,e.clauseType=Ne.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=He.Equal,e.clauseType=Ne.Or,i.filters.push(e));let p=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Ze){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(K),C(F),C(W),C(B),C(st))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Ws,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),a(0,"div",1),b(1,"app-progress-spinner",2),I(2,Ls,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(m){return f(p),g(e.onActionSelect(m.option.value))}),I(6,Vs,3,3,"mat-option",6),S(7,"async"),l(),I(8,Gs,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Ge("id","app-cms-site-selector-",e.id,""),c("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),r(),c("displayWith",e.displayFn),r(2),c("ngForOf",M(7,11,e.filteredOptions)),r(2),c("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,ee,X,ti,ni,Zt,oi,nt,J,H,j,it],encapsulation:2});let n=s;return n})();var Fs=["*"];function Bs(n,s){if(n&1&&(a(0,"label",8),d(1),l()),n&2){let o=u();Ge("for","app-cms-site-selector-",o.id,""),r(),w(o.optionLabel)}}function Os(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),n&2){let o=s.$implicit,t=u();c("value",o)("disabled",t.optionDisabled),r(2),w(t.displayOption(o))}}function Ns(n,s){if(n&1){let o=y();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),d(1,"close"),l()}}var Ci=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=p,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new Ye,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionMasterPage=!1,this.optionLabel="",this.optionPlaceholder="",this.optionChange=new Et,this.masterTemplateId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(t){this.masterTemplateId=t,this.loadOptions()}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Bt(this,null,function*(){let i=new Z;i.rowPerPage=20,i.accessLoad=!0;let e=new U,p=new U;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=He.Contains,e.clauseType=Ne.Or,p.filters.push(e)),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=He.Equal,e.clauseType=Ne.Or,p.filters.push(e)),i.filters.push(p),this.optionMasterPage&&(e=new U,e.propertyName="PageAbilityType",e.value=zn.Master,e.searchType=He.Equal,e.clauseType=Ne.And,i.filters.push(e)),this.masterTemplateId&&this.masterTemplateId.length>0&&(e=new U,e.propertyName="LinkPageTemplateGuId",e.value=this.masterTemplateId,e.searchType=He.Equal,e.clauseType=Ne.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),m.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Ye){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ye,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(K),C(B),C(F),C(W),C(lt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Fs,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),a(0,"div",1),b(1,"app-progress-spinner",2),I(2,Bs,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(m){return f(p),g(e.onActionSelect(m.option.value))}),I(6,Os,3,3,"mat-option",6),S(7,"async"),l(),I(8,Ns,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Ge("id","app-cms-site-selector-",e.id,""),c("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),r(),c("displayWith",e.displayFn),r(2),c("ngForOf",M(7,11,e.filteredOptions)),r(2),c("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,ee,X,ti,ni,Zt,oi,nt,J,H,j,it],encapsulation:2});let n=s;return n})();var Hs=["vform"];function js(n,s){if(n&1){let o=y();a(0,"app-webdesigner-page-selector",17),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();c("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function qs(n,s){if(n&1){let o=y();a(0,"div",12)(1,"button",18),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",19),d(3),S(4,"translate"),l(),a(5,"button",20),b(6,"i",21),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Go=(()=>{let s=class s{constructor(t,i,e,p,h,m,k,V){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new $n,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Automatically_add_all_pages")}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(lt),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(i,e){if(i&1&&ie(Hs,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",5,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),a(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),S(12,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectModule(m))}),l(),I(13,js,2,6,"app-webdesigner-page-selector",8),a(14,"div",9)(15,"mat-slide-toggle",10),A("ngModelChange",function(m){return f(p),x(e.dataModel.pageDependencyIsDefaultPage,m)||(e.dataModel.pageDependencyIsDefaultPage=m),g(m)}),d(16),l()()(),a(17,"div",11)(18,"div",12)(19,"small",13),d(20),l(),a(21,"small",14),d(22),l()()(),a(23,"div",15),I(24,qs,9,7,"div",16),l()()()()}i&2&&(r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),c("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),r(2),c("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(2),D("ngModel",e.dataModel.pageDependencyIsDefaultPage),r(),_(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),r(4),_("",e.formInfo.formAlert," "),r(2),_("",e.formInfo.formError," "),r(2),c("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,X,ce,me,pe,ke,j,bi,Ci,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Us=["vform"];function zs(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qs(n,s){n&1&&b(0,"i",27)}function Ks(n,s){n&1&&b(0,"i",28)}function Js(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Ys(n,s){if(n&1){let o=y();a(0,"div",12)(1,"label",25),d(2),l(),a(3,"input",26,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Qs,1,0,"i",18)(6,Ks,1,0,"i",19),a(7,"em"),d(8),l(),I(9,Js,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Xs(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Zs(n,s){if(n&1){let o=y();a(0,"div",12)(1,"label",29),d(2),l(),a(3,"input",30,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),d(6),l(),I(7,Xs,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),D("ngModel",t.dataModel.titleResourceLanguage),c("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function $s(n,s){n&1&&b(0,"i",27)}function ed(n,s){n&1&&b(0,"i",28)}function td(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function id(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function nd(n,s){if(n&1){let o=y();a(0,"div",31)(1,"button",32),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",33),d(3),S(4,"translate"),l(),a(5,"button",34),b(6,"i",35),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var bn=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,m,k,V){super(p,new Xe,m,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new Xe,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(Pt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(Rt),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,e){if(i&1&&ie(Us,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:37,vars:32,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",5),b(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,zs,1,5,"app-cms-enum-record-status-selector",10)(11,Ys,10,8,"div",11),a(12,"div",12)(13,"label",13),d(14),S(15,"translate"),l(),a(16,"input",14),A("ngModelChange",function(m){return f(p),x(e.dataModel.titleML,m)||(e.dataModel.titleML=m),g(m)}),l()(),I(17,Zs,8,6,"div",11),a(18,"app-cms-module-selector",15),S(19,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectModule(m))}),l(),a(20,"div",12)(21,"label",16),d(22),l(),a(23,"input",17,1),A("ngModelChange",function(m){return f(p),x(e.dataModel.cmsModuleClassName,m)||(e.dataModel.cmsModuleClassName=m),g(m)}),l(),I(25,$s,1,0,"i",18)(26,ed,1,0,"i",19),a(27,"em"),d(28),l(),I(29,td,5,4,"mat-error",20),l(),a(30,"div",12)(31,"label",21),d(32),l(),a(33,"input",22,2),A("ngModelChange",function(m){return f(p),x(e.dataModel.classActionName,m)||(e.dataModel.classActionName=m),g(m)}),l(),I(35,id,5,4,"mat-error",20),l(),I(36,nd,9,7,"div",23),l()()()}if(i&2){let p=P(24),h=P(34);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(15,28,"TITLE.TitleML"),""),r(2),D("ngModel",e.dataModel.titleML),c("disabled",!0),r(),c("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),c("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(19,30,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(4),w(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),D("ngModel",e.dataModel.cmsModuleClassName),c("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessEditField)),r(2),c("ngIf",!p.value),r(),c("ngIf",p.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(3),w(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),D("ngModel",e.dataModel.classActionName),c("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessEditField)),r(2),c("ngIf",h.errors==null?null:h.errors.required),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,ee,X,ce,he,_e,Se,me,pe,Me,H,Ce,Xi,j,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var od=()=>[5,10,20,100],rd=n=>({display:n});function ad(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",45),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function ld(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoDependency())}),a(2,"i",46),d(3,"Dependency"),l(),b(4,"br"),l(),a(5,"p",21),d(6),S(7,"translate"),l()()}n&2&&(r(6),_("",M(7,1,"ACTION.AUTOADD"),"Dependency"))}function sd(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoPage())}),a(2,"i",46),d(3,"Page"),l(),b(4,"br"),l(),a(5,"p",21),d(6),S(7,"translate"),l()()}n&2&&(r(6),_("",M(7,1,"ACTION.AUTOADD"),"Page"))}function dd(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",48),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",49)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function cd(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",50),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",51)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function pd(n,s){n&1&&(a(0,"mat-header-cell",52),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function md(n,s){if(n&1&&(b(0,"img",54),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),Ee)}}function ud(n,s){if(n&1&&(a(0,"mat-cell"),I(1,md,2,3,"img",53),l()),n&2){let o=s.$implicit;r(),c("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function fd(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function gd(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function hd(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function _d(n,s){if(n&1&&b(0,"select",57),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,rd,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Sd(n,s){if(n&1&&(a(0,"mat-cell",55),S(1,"statusCellClass"),b(2,"i",55),S(3,"statusIconClass"),I(4,_d,1,5,"select",56),l()),n&2){let o=s.$implicit,t=u();c("ngClass",M(1,3,o.recordStatus)),r(2),c("ngClass",M(3,5,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Md(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Id(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function bd(n,s){n&1&&(a(0,"mat-header-cell",52),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.TitleML")," "))}function Cd(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.titleML," ")}}function vd(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkModuleId==null?null:o.fieldsInfo.linkModuleId.fieldTitle," ")}}function yd(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function wd(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function Td(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.cmsModuleClassName," ")}}function Ed(n,s){if(n&1&&(a(0,"mat-header-cell",52),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function Dd(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.classActionName," ")}}function xd(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Ad(n,s){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function Pd(n,s){n&1&&b(0,"mat-header-row")}function Rd(n,s){if(n&1){let o=y();a(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te,Tt,Ft,sn){super(t,new Xe,Ft,k,Te),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=p,this.activatedRoute=h,this.router=m,this.tokenHelper=k,this.http=V,this.cdr=de,this.translate=Te,this.pageInfo=Tt,this.publicHelper=Ft,this.dialog=sn,this.requestLinkModuleId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.dataModelCoreModuleResult=new q,this.categoryModelSelected=new Yn,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=z.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getModuleList()}getModuleList(){let t=new Z;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xe);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new U,e=JSON.parse(JSON.stringify(this.filteModelContent));this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,e.filters.push(i)),this.contentService.ServiceGetAllEditor(e).subscribe({next:p=>{p.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)},1e3)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):(z,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),z,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Sn,{height:"90%",panelClass:t,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:t,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new U;this.contentService.ServiceAutoAdd().subscribe({next:e=>{e.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.tokenInfo.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}})}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.currentSiteDomainUrl+"/"+t.cmsModuleClassName+"/"+t.classActionName;window.open(i,"_blank")}onActionSelectorSelect(t){let i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Z,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(Rt),C(O),C(Ke),C(ji),C(ot),C(Be),C(ye),C(Dn),C(F),C(B),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-list"]],features:[Q],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,4),a(2,"app-core-module-tree",5),v("optionChange",function(m){return f(p),g(e.onActionSelectorSelect(m))}),l(),E(),De(3,6)(4,7),T(5,8),a(6,"a",9),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(7,"i",10),l(),a(8,"a",9),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(9,"i",11),l(),E(),T(10,12),a(11,"a",13),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(12,"mat-slide-toggle",14),d(13),S(14,"translate"),l(),a(15,"a",13),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(16,"mat-slide-toggle",14),d(17),S(18,"translate"),l(),E(),T(19,15),I(20,ad,7,3,"div",16)(21,ld,8,3,"div",16)(22,sd,8,3,"div",16),E(),T(23,17),I(24,dd,7,3,"div",16)(25,cd,7,3,"div",16),a(26,"div",18)(27,"a",19),v("click",function(){return f(p),g(e.onActionButtonPageList(e.tableRowSelected))}),b(28,"i",20)(29,"br"),l(),a(30,"p",21),d(31),S(32,"translate"),l()(),a(33,"div",18)(34,"a",19),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),b(35,"i",22)(36,"br"),l(),a(37,"p",21),d(38),S(39,"translate"),l()(),E(),T(40,23),a(41,"app-cms-search-list",24),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(42,"app-cms-statist-list",24),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(43,25),a(44,"mat-table",26,0),v("matSortChange",function(){f(p);let m=P(45);return g(e.onTableSortData(m))}),T(46,27),I(47,pd,3,3,"mat-header-cell",28)(48,ud,2,1,"mat-cell",29),E(),T(49,30),I(50,fd,2,1,"mat-header-cell",28)(51,gd,2,1,"mat-cell",29),E(),T(52,31),I(53,hd,2,1,"mat-header-cell",28)(54,Sd,5,7,"mat-cell",32),E(),T(55,33),I(56,Md,2,1,"mat-header-cell",28)(57,Id,2,1,"mat-cell",29),E(),T(58,34),I(59,bd,3,3,"mat-header-cell",28)(60,Cd,2,1,"mat-cell",29),E(),T(61,35),I(62,vd,2,1,"mat-header-cell",28)(63,yd,3,4,"mat-cell",29),E(),T(64,36),I(65,wd,2,1,"mat-header-cell",28)(66,Td,2,1,"mat-cell",29),E(),T(67,37),I(68,Ed,2,1,"mat-header-cell",28)(69,Dd,2,1,"mat-cell",29),E(),T(70,38),I(71,xd,3,3,"mat-header-cell",39)(72,Ad,6,1,"mat-cell",40),E(),I(73,Pd,1,0,"mat-header-row",41)(74,Rd,1,6,"mat-row",42),l(),E(),T(75,43),a(76,"mat-paginator",44,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",e.requestLinkModuleId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),c("checked",e.optionsSearch.data.show),r(),_("",M(14,27,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(18,29,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(32,31,"ACTION.PAGES")),r(7),w(M(39,33,"ACTION.SHOW_WEB")),r(3),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource),r(29),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(35,od)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,To,N,gi,kt,qe,Wt],encapsulation:2});let n=s;return n})();var kd=["vform"];function Wd(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",21),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ld(n,s){n&1&&b(0,"i",24)}function Vd(n,s){n&1&&b(0,"i",25)}function Gd(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Fd(n,s){if(n&1){let o=y();a(0,"div",12)(1,"label",22),d(2),l(),a(3,"input",23,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Ld,1,0,"i",15)(6,Vd,1,0,"i",16),a(7,"em"),d(8),l(),I(9,Gd,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Bd(n,s){n&1&&b(0,"i",24)}function Od(n,s){n&1&&b(0,"i",25)}function Nd(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Hd(n,s){n&1&&b(0,"i",24)}function jd(n,s){n&1&&b(0,"i",25)}function qd(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Ud(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function zd(n,s){if(n&1){let o=y();a(0,"div",12)(1,"label",26),d(2),l(),a(3,"textarea",27,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"                "),l(),a(6,"em"),d(7),l(),I(8,Ud,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Qd(n,s){if(n&1){let o=y();a(0,"div",28)(1,"button",29),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",30),d(3),S(4,"translate"),l(),a(5,"button",31),b(6,"i",32),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Cn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,m,k,V){super(p,new Ze,m,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new Ze,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(st),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,e){if(i&1&&ie(kd,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:35,vars:26,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",5),b(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,Wd,1,5,"app-cms-enum-record-status-selector",10)(11,Fd,10,8,"div",11),a(12,"div",12)(13,"label",13),d(14),l(),a(15,"input",14,1),S(17,"translate"),A("ngModelChange",function(m){return f(p),x(e.dataModel.folder,m)||(e.dataModel.folder=m),g(m)}),l(),I(18,Bd,1,0,"i",15)(19,Od,1,0,"i",16),a(20,"em"),d(21),l(),I(22,Nd,5,4,"mat-error",17),l(),a(23,"div",12)(24,"label",18),d(25),l(),a(26,"input",19,2),A("ngModelChange",function(m){return f(p),x(e.dataModel.indexFile,m)||(e.dataModel.indexFile=m),g(m)}),l(),I(28,Hd,1,0,"i",15)(29,jd,1,0,"i",16),a(30,"em"),d(31),l(),I(32,qd,5,4,"mat-error",17),l(),I(33,zd,9,5,"div",11)(34,Qd,9,7,"div",20),l()()()}if(i&2){let p=P(16),h=P(27);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),w(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),r(),R("placeholder",M(17,24,"TITLE.branch_path")),D("ngModel",e.dataModel.folder),c("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessAddField)),r(3),c("ngIf",!p.value),r(),c("ngIf",p.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(3),w(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),r(),D("ngModel",e.dataModel.indexFile),c("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessAddField)),r(2),c("ngIf",!h.value),r(),c("ngIf",h.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",h.errors==null?null:h.errors.required),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,ee,X,ce,he,_e,Se,me,pe,Me,H,Ce,j,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Kd=["vform"];function Jd(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",24),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Yd(n,s){n&1&&b(0,"i",27)}function Xd(n,s){n&1&&b(0,"i",28)}function Zd(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function $d(n,s){if(n&1){let o=y();a(0,"div",13)(1,"label",25),d(2),l(),a(3,"input",26,3),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Yd,1,0,"i",16)(6,Xd,1,0,"i",17),a(7,"em"),d(8),l(),I(9,Zd,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function ec(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function tc(n,s){if(n&1){let o=y();a(0,"div",13)(1,"label",29),d(2),l(),a(3,"input",30,4),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),d(6),l(),I(7,ec,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),D("ngModel",t.dataModel.titleResourceLanguage),c("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function ic(n,s){n&1&&b(0,"i",27)}function nc(n,s){n&1&&b(0,"i",28)}function oc(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function rc(n,s){n&1&&b(0,"i",27)}function ac(n,s){n&1&&b(0,"i",28)}function lc(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function sc(n,s){if(n&1){let o=y();a(0,"div",31)(1,"div",32)(2,"h5",33),d(3),l()(),a(4,"div",34)(5,"div",35)(6,"input",36),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.isPublish,i)||(e.dataModel.isPublish=i),g(i)}),l(),b(7,"label",37),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.isPublish==null?null:o.fieldsInfo.isPublish.fieldTitle,""),r(3),D("ngModel",o.dataModel.isPublish)}}function dc(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function cc(n,s){if(n&1){let o=y();a(0,"div",13)(1,"label",38),d(2),l(),a(3,"textarea",39,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"                "),l(),a(6,"em"),d(7),l(),I(8,dc,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function pc(n,s){if(n&1){let o=y();a(0,"div",40)(1,"button",41),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",42),d(3),S(4,"translate"),l(),a(5,"button",43),b(6,"i",44),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var vn=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,m,k,V,de){super(p,new Ze,k,de),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=p,this.webDesignerMainPageTemplateSiteCategoryService=h,this.cmsToastrService=m,this.publicHelper=k,this.cdr=V,this.translate=de,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModel=new Ze,this.formInfo=new re,this.fileManagerOpenForm=!1,this.dataCoreSiteCategoryIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(Pt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)});let i=new Z,e=new U;e.propertyName="LinkPageTemplateId",e.value=this.requestId,i.filters.push(e),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:p=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=p.listItems;let h=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(m=>{h.push(m.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=h,p.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreSiteCategoryModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new pn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(e)},error:p=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(e)},error:p=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(K),C(st),C(Ui),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,e){if(i&1&&ie(Kd,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:41,vars:33,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",10,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,Jd,1,5,"app-cms-enum-record-status-selector",11)(11,$d,10,8,"div",12)(12,tc,8,6,"div",12),a(13,"div",13)(14,"label",14),d(15),l(),a(16,"input",15,1),S(18,"translate"),A("ngModelChange",function(m){return f(p),x(e.dataModel.folder,m)||(e.dataModel.folder=m),g(m)}),l(),I(19,ic,1,0,"i",16)(20,nc,1,0,"i",17),a(21,"em"),d(22),l(),I(23,oc,5,4,"mat-error",18),l(),a(24,"div",13)(25,"label",19),d(26),l(),a(27,"input",20,2),A("ngModelChange",function(m){return f(p),x(e.dataModel.indexFile,m)||(e.dataModel.indexFile=m),g(m)}),l(),I(29,rc,1,0,"i",16)(30,ac,1,0,"i",17),a(31,"em"),d(32),l(),I(33,lc,5,4,"mat-error",18),l(),I(34,sc,8,2,"div",21)(35,cc,9,5,"div",12),d(36),S(37,"translate"),b(38,"br"),a(39,"app-cms-sitecategory-selectionlist",22),v("optionChange",function(m){return f(p),g(e.onActionSelectorUserCategorySelect(m))})("optionSelectAdded",function(m){return f(p),g(e.onActionSelectorUserCategorySelectAdded(m))})("optionSelectRemoved",function(m){return f(p),g(e.onActionSelectorUserCategorySelectRemoved(m))}),l(),I(40,pc,9,7,"div",23),l()()()}if(i&2){let p=P(17),h=P(28);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(3),w(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),r(),R("placeholder",M(18,29,"TITLE.branch_path")),D("ngModel",e.dataModel.folder),c("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessEditField)),r(3),c("ngIf",!p.value),r(),c("ngIf",p.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(3),w(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),r(),D("ngModel",e.dataModel.indexFile),c("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessEditField)),r(2),c("ngIf",!h.value),r(),c("ngIf",h.value),r(2),_("",p.value.length," / 100"),r(),c("ngIf",h.errors==null?null:h.errors.required),r(),c("ngIf",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.accessWatchField),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),_(" ",M(37,31,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),r(3),c("optionSelectForce",e.dataCoreSiteCategoryIds)("optionDisabled",!1),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,ee,At,X,ce,he,_e,Se,me,pe,Me,H,Ce,ho,j,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var mc=()=>[5,10,20,100],uc=n=>({display:n});function fc(n,s){if(n&1){let o=y();a(0,"div",17)(1,"a",41),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",42)(3,"br"),l(),a(4,"p",20),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function gc(n,s){if(n&1){let o=y();a(0,"div",17)(1,"a",43),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",44)(3,"br"),l(),a(4,"p",20),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function hc(n,s){if(n&1){let o=y();a(0,"div",17)(1,"a",45),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",46)(3,"br"),l(),a(4,"p",20),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function _c(n,s){n&1&&(a(0,"mat-header-cell",47),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function Sc(n,s){if(n&1&&(b(0,"img",49),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),Ee)}}function Mc(n,s){if(n&1&&(a(0,"mat-cell"),I(1,Sc,2,3,"img",48),l()),n&2){let o=s.$implicit;r(),c("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function Ic(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function bc(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function Cc(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function vc(n,s){if(n&1&&b(0,"select",52),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,uc,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function yc(n,s){if(n&1&&(a(0,"mat-cell",50),S(1,"statusCellClass"),b(2,"i",50),S(3,"statusIconClass"),I(4,vc,1,5,"select",51),l()),n&2){let o=s.$implicit,t=u();c("ngClass",M(1,3,o.recordStatus)),r(2),c("ngClass",M(3,5,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function wc(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Tc(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Ec(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," ")}}function Dc(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.folder," ")}}function xc(n,s){if(n&1&&(a(0,"mat-header-cell",47),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," ")}}function Ac(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.indexFile," ")}}function Pc(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Rc(n,s){if(n&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function kc(n,s){n&1&&b(0,"mat-header-row")}function Wc(n,s){if(n&1){let o=y();a(0,"mat-row",55),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Oo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te){super(t,new Ze,de,p,k),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.tokenHelper=p,this.router=h,this.cdr=m,this.translate=k,this.pageInfo=V,this.publicHelper=de,this.dialog=Te,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.dataModelCoreModuleResult=new q,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=z.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Cn,{height:"90%",panelClass:t,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(st),C(O),C(Ke),C(ye),C(Be),C(F),C(B),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-list"]],features:[Q],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,4),d(2," -------------------------------------- "),E(),De(3,5)(4,6),T(5,7),a(6,"a",8),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(7,"i",9),l(),a(8,"a",8),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(9,"i",10),l(),E(),T(10,11),a(11,"a",12),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(12,"mat-slide-toggle",13),d(13),S(14,"translate"),l(),a(15,"a",12),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(16,"mat-slide-toggle",13),d(17),S(18,"translate"),l(),E(),T(19,14),I(20,fc,7,3,"div",15),E(),T(21,16),I(22,gc,7,3,"div",15)(23,hc,7,3,"div",15),a(24,"div",17)(25,"a",18),v("click",function(){return f(p),g(e.onActionButtonPageList(e.tableRowSelected))}),b(26,"i",19)(27,"br"),l(),a(28,"p",20),d(29),S(30,"translate"),l()(),E(),T(31,21),a(32,"app-cms-search-list",22),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(33,"app-cms-statist-list",22),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(34,23),a(35,"mat-table",24,0),v("matSortChange",function(){f(p);let m=P(36);return g(e.onTableSortData(m))}),T(37,25),I(38,_c,3,3,"mat-header-cell",26)(39,Mc,2,1,"mat-cell",27),E(),T(40,28),I(41,Ic,2,1,"mat-header-cell",26)(42,bc,2,1,"mat-cell",27),E(),T(43,29),I(44,Cc,2,1,"mat-header-cell",26)(45,yc,5,7,"mat-cell",30),E(),T(46,31),I(47,wc,2,1,"mat-header-cell",26)(48,Tc,2,1,"mat-cell",27),E(),T(49,32),I(50,Ec,2,1,"mat-header-cell",26)(51,Dc,2,1,"mat-cell",27),E(),T(52,33),I(53,xc,2,1,"mat-header-cell",26)(54,Ac,2,1,"mat-cell",27),E(),T(55,34),I(56,Pc,3,3,"mat-header-cell",35)(57,Rc,6,1,"mat-cell",36),E(),I(58,kc,1,0,"mat-header-row",37)(59,Wc,1,6,"mat-row",38),l(),E(),T(60,39),a(61,"mat-paginator",40,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),c("checked",e.optionsSearch.data.show),r(),_("",M(14,24,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(18,26,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(30,28,"ACTION.PAGES")),r(3),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource),r(23),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,mc)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,N,kt,qe,Wt],encapsulation:2});let n=s;return n})();var Lc=["*"];function Vc(n,s){if(n&1&&(a(0,"label",8),d(1),l()),n&2){let o=u();Ge("for","app-cms-site-selector-",o.id,""),r(),w(o.optionLabel)}}function Gc(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),n&2){let o=s.$implicit,t=u();c("value",o)("disabled",t.optionDisabled),r(2),w(t.displayOption(o))}}function Fc(n,s){if(n&1){let o=y();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),d(1,"close"),l()}}var ln=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=p,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new Xe,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return Bt(this,null,function*(){let i=new Z;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=He.Contains,e.clauseType=Ne.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=He.Equal,e.clauseType=Ne.Or,i.filters.push(e));let p=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Xe){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Xe,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(K),C(B),C(F),C(W),C(Rt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Lc,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),a(0,"div",1),b(1,"app-progress-spinner",2),I(2,Vc,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(m){return f(p),g(e.onActionSelect(m.option.value))}),I(6,Gc,3,3,"mat-option",6),S(7,"async"),l(),I(8,Fc,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(),c("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Ge("id","app-cms-site-selector-",e.id,""),c("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),r(),c("displayWith",e.displayFn),r(2),c("ngForOf",M(7,11,e.filteredOptions)),r(2),c("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,ee,X,ti,ni,Zt,oi,nt,J,H,j,it],encapsulation:2});let n=s;return n})();var Hc=["vform"];function jc(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",29),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qc(n,s){n&1&&b(0,"i",35)}function Uc(n,s){n&1&&b(0,"i",36)}function zc(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Qc(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",30),d(2),l(),a(3,"input",31,5),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,qc,1,0,"i",32)(6,Uc,1,0,"i",33),a(7,"em"),d(8),l(),I(9,zc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function Kc(n,s){if(n&1){let o=y();a(0,"app-webdesigner-page-selector",37),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();c("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function Jc(n,s){if(n&1){let o=y();a(0,"div",38)(1,"div",39)(2,"h5",40),d(3),l()(),a(4,"div",41)(5,"div",42)(6,"input",43),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),b(7,"label",44),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),r(3),D("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function Yc(n,s){if(n&1){let o=y();a(0,"app-cms-sitecategory-selector",45),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();c("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Xc(n,s){if(n&1){let o=y();a(0,"mat-chip",46),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),d(1),a(2,"button",47)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;r(),_(" ",o," ")}}function Zc(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function $c(n,s){if(n&1){let o=y();a(0,"div",23)(1,"label",48),d(2),l(),a(3,"textarea",49,6),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"                    "),l(),a(6,"em"),d(7),l(),I(8,Zc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function ep(n,s){if(n&1){let o=y();a(0,"div",50)(1,"button",51),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",52),d(3),S(4,"translate"),l(),a(5,"button",53),b(6,"i",54),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var yn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,m,k,V){super(p,new Ye,m,V),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.publicHelper=m,this.cdr=k,this.translate=V,this.requestLinkPageDependencyGuId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new Ye,this.formInfo=new re,this.dataModelEnumPageAbilityTypeResult=new q,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPageDependencyGuId=t.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(mi),C(lt),C(O),C(W),C(F),C(B))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,e){if(i&1&&ie(Hc,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",7),b(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",11,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,jc,1,5,"app-cms-enum-record-status-selector",12)(11,Qc,10,8,"div",13),a(12,"app-webdesigner-pagedependency-selector",14),S(13,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectDependency(m))}),l(),a(14,"app-webdesigner-pagetemplate-selector",15),S(15,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectTemplate(m))}),l(),I(16,Kc,2,7,"app-webdesigner-page-selector",16)(17,Jc,8,2,"div",17)(18,Yc,2,5,"app-cms-sitecategory-selector",18),a(19,"mat-form-field",19)(20,"mat-label"),d(21),S(22,"translate"),l(),a(23,"mat-chip-grid",20,1),I(25,Xc,5,1,"mat-chip",21),a(26,"input",22,2),S(28,"translate"),v("matChipInputTokenEnd",function(m){return f(p),g(e.addTag(m))}),l()()(),a(29,"div",23)(30,"label",24),d(31),l(),a(32,"input",25,3),A("ngModelChange",function(m){return f(p),x(e.dataModel.specialIdendity,m)||(e.dataModel.specialIdendity=m),g(m)}),l(),a(34,"em"),d(35),l()(),a(36,"div",23)(37,"label",26),d(38),l(),a(39,"input",27,4),A("ngModelChange",function(m){return f(p),x(e.dataModel.specialUrlParameter,m)||(e.dataModel.specialUrlParameter=m),g(m)}),l(),a(41,"em"),d(42),l()(),I(43,$c,9,5,"div",13)(44,ep,9,7,"div",28),l()()()}if(i&2){let p=P(24),h=P(33),m=P(40);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(13,33,"TITLE.Show_place")),r(2),c("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),r(2),c("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(),c("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),r(),c("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),r(3),w(M(22,37,"TITLE.Choose_keywords_relative_to_the_content")),r(4),c("ngForOf",e.keywordDataModel),r(),c("placeholder",M(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(5),w(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),r(),D("ngModel",e.dataModel.specialIdendity),c("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessAddField)),r(3),_("",h.value.length," / 500"),r(3),w(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),r(),D("ngModel",e.dataModel.specialUrlParameter),c("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessAddField)),r(3),_("",m.value.length," / 500"),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,G,ue,ee,At,X,ce,he,_e,Se,me,pe,Gi,Fi,Bi,Vi,Li,Wi,Me,J,H,Ce,Zi,j,bi,ln,Ci,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var tp=["vform"];function ip(n,s){if(n&1){let o=y();a(0,"app-cms-enum-record-status-selector",33),A("modelChange",function(i){f(o);let e=u();return x(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();D("model",o.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function np(n,s){if(n&1&&(a(0,"option",34),d(1),l()),n&2){let o=s.$implicit;c("ngValue",o.value),r(),_(" ",o.description," ")}}function op(n,s){n&1&&(a(0,"mat-error"),d(1," PageAbilityType is "),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2&&(r(3),w(M(4,1,"MESSAGE.required")))}function rp(n,s){n&1&&b(0,"i",39)}function ap(n,s){n&1&&b(0,"i",40)}function lp(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function sp(n,s){if(n&1){let o=y();a(0,"div",14)(1,"label",35),d(2),l(),a(3,"input",36,6),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,rp,1,0,"i",37)(6,ap,1,0,"i",38),a(7,"em"),d(8),l(),I(9,lp,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),D("ngModel",t.dataModel.title),c("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),c("ngIf",!o.value),r(),c("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function dp(n,s){if(n&1){let o=y();a(0,"app-webdesigner-page-selector",41),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();c("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function cp(n,s){if(n&1){let o=y();a(0,"div",42)(1,"div",43)(2,"h5",44),d(3),l()(),a(4,"div",45)(5,"div",46)(6,"input",47),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),b(7,"label",48),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),r(3),D("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function pp(n,s){if(n&1){let o=y();a(0,"app-cms-sitecategory-selector",49),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();c("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function mp(n,s){if(n&1){let o=y();a(0,"mat-chip",50),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),d(1),a(2,"button",51)(3,"mat-icon"),d(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;r(),_(" ",o," ")}}function up(n,s){if(n&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function fp(n,s){if(n&1){let o=y();a(0,"div",14)(1,"label",52),d(2),l(),a(3,"textarea",53,7),A("ngModelChange",function(i){f(o);let e=u();return x(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),d(5,"                "),l(),a(6,"em"),d(7),l(),I(8,up,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),D("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),c("ngIf",o.errors==null?null:o.errors.required)}}function gp(n,s){if(n&1){let o=y();a(0,"div",54)(1,"button",55),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),b(2,"i",56),d(3),S(4,"translate"),l(),a(5,"button",57),b(6,"i",58),d(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var wn=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,m,k,V){super(p,new Ye,V,m),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.translate=m,this.cdr=k,this.publicHelper=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModel=new Ye,this.formInfo=new re,this.dataModelEnumPageAbilityTypeResult=new q,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(Pt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectParent(t){this.dataModel.linkPageParentGuId=t.id}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(C(be),C(Ie),C(mi),C(lt),C(O),C(B),C(F),C(W))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,e){if(i&1&&ie(tp,5),i&2){let p;ne(p=oe())&&(e.formGroup=p.first)}},features:[Q],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();a(0,"div",8),b(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),I(10,ip,1,5,"app-cms-enum-record-status-selector",13),a(11,"div",14)(12,"select",15,1),A("ngModelChange",function(m){return f(p),x(e.dataModel.pageAbilityType,m)||(e.dataModel.pageAbilityType=m),g(m)}),I(14,np,2,2,"option",16),l(),a(15,"em",17),d(16),S(17,"translate"),l(),I(18,op,5,3,"mat-error",18),l(),I(19,sp,10,8,"div",19),a(20,"app-webdesigner-pagedependency-selector",20),S(21,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectDependency(m))}),l(),a(22,"app-webdesigner-pagetemplate-selector",20),S(23,"translate"),v("optionChange",function(m){return f(p),g(e.onActionSelectTemplate(m))}),l(),I(24,dp,2,7,"app-webdesigner-page-selector",21)(25,cp,8,2,"div",22)(26,pp,2,5,"app-cms-sitecategory-selector",23),a(27,"mat-form-field",24)(28,"mat-label"),d(29),S(30,"translate"),l(),a(31,"mat-chip-grid",25,2),I(33,mp,5,1,"mat-chip",26),a(34,"input",27,3),S(36,"translate"),v("matChipInputTokenEnd",function(m){return f(p),g(e.addTag(m))}),l()()(),a(37,"div",14)(38,"label",28),d(39),l(),a(40,"input",29,4),A("ngModelChange",function(m){return f(p),x(e.dataModel.specialIdendity,m)||(e.dataModel.specialIdendity=m),g(m)}),l(),a(42,"em"),d(43),l()(),a(44,"div",14)(45,"label",30),d(46),l(),a(47,"input",31,5),A("ngModelChange",function(m){return f(p),x(e.dataModel.specialUrlParameter,m)||(e.dataModel.specialUrlParameter=m),g(m)}),l(),a(49,"em"),d(50),l()(),I(51,fp,9,5,"div",19)(52,gp,9,7,"div",32),l()()()}if(i&2){let p=P(13),h=P(32),m=P(41),k=P(48);r(),c("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(2),Ge("ngClass","cms-RecordStatusEnum-selector-",e.dataModel.recordStatus,""),D("ngModel",e.dataModel.pageAbilityType),c("disabled",!0),r(2),c("ngForOf",e.dataModelEnumPageAbilityTypeResult.listItems),r(2),_("",M(17,39,"TITLE.Select_the_functionality_of_this_content")," "),r(2),c("ngIf",p.errors==null?null:p.errors.required),r(),c("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),c("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(21,41,"TITLE.Show_place")),r(2),c("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(23,43,"TITLE.Page_template")),r(2),c("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(),c("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),r(),c("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),r(3),w(M(30,45,"TITLE.Choose_keywords_relative_to_the_content")),r(4),c("ngForOf",e.keywordDataModel),r(),c("placeholder",M(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(5),w(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),r(),D("ngModel",e.dataModel.specialIdendity),c("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessEditField)),r(3),_("",m.value.length," / 500"),r(3),w(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),r(),D("ngModel",e.dataModel.specialUrlParameter),c("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessEditField)),r(3),_("",k.value.length," / 500"),r(),c("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),c("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[xe,Fe,G,ue,An,Pn,ee,At,xn,X,ce,he,_e,Se,me,pe,Gi,Fi,Bi,Vi,Li,Wi,Me,J,H,Ce,Zi,j,bi,ln,Ci,N],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var hp=()=>[5,10,20,100],_p=n=>({display:n});function Sp(n,s){if(n&1){let o=y();a(0,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),b(1,"i",48),l()}}function Mp(n,s){if(n&1){let o=y();a(0,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),b(1,"i",48),l()}}function Ip(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",50)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function bp(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",51),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",52)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function Cp(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",53),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",54)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function vp(n,s){if(n&1){let o=y();a(0,"div",18)(1,"a",19),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),b(2,"i",20)(3,"br"),l(),a(4,"p",21),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function yp(n,s){n&1&&(a(0,"mat-header-cell",55),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function wp(n,s){if(n&1&&b(0,"img",57),n&2){let o=u().$implicit;R("src",o.thumbnailImageSrc,Ee)}}function Tp(n,s){if(n&1&&(a(0,"mat-cell"),I(1,wp,1,1,"img",56),l()),n&2){let o=s.$implicit;r(),c("ngIf",(o==null||o.ThumbnailImageSrc==null?null:o.ThumbnailImageSrc.length)>0)}}function Ep(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Dp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function xp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Ap(n,s){if(n&1&&b(0,"select",60),n&2){let o=u().$implicit,t=u();c("contentService",t.contentService)("row",o)("ngStyle",et(3,_p,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Pp(n,s){if(n&1&&(a(0,"mat-cell",58),S(1,"statusCellClass"),b(2,"i",58),S(3,"statusIconClass"),I(4,Ap,1,5,"select",59),l()),n&2){let o=s.$implicit,t=u();c("ngClass",M(1,3,o.recordStatus)),r(2),c("ngClass",M(3,5,o.recordStatus)),r(2),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Rp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function kp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Wp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageParentGuId==null?null:o.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Lp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageParentGuId," ")}}function Vp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageDependencyGuId==null?null:o.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Gp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageDependencyGuId," ")}}function Fp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageTemplateGuId==null?null:o.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Bp(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.linkPageTemplateGuId,t.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Op(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Np(n,s){if(n&1&&(a(0,"mat-cell"),d(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.pageDependencyIsDefaultPageLinkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Hp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function jp(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",58),S(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),c("ngClass",M(2,1,o.pageDependencyIsDefaultPage))}}function qp(n,s){if(n&1&&(a(0,"mat-header-cell",55),d(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function Up(n,s){if(n&1&&(a(0,"mat-cell"),d(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.classActionName," ")}}function zp(n,s){n&1&&(a(0,"mat-header-cell"),d(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Qp(n,s){if(n&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),c("matMenuTriggerFor",o)}}function Kp(n,s){n&1&&b(0,"mat-header-row")}function Jp(n,s){if(n&1){let o=y();a(0,"mat-row",63),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ci=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,m,k,V,de,Te,Tt,Ft,sn){if(super(t,new Ye,Ft,Te,de),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.webDesignerMainPageTemplateService=p,this.coreSiteCategoryService=h,this.activatedRoute=m,this.router=k,this.cdr=V,this.translate=de,this.tokenHelper=Te,this.pageInfo=Tt,this.publicHelper=Ft,this.dialog=sn,this.requestLinkPageParentGuId="",this.requestLinkPageTemplateGuId="",this.requestLinkPageDependencyGuId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Z,this.dataModelWebDesignerMainPageTemplateResult=new q,this.dataModelCoreSiteCategoryResult=new q,this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId"],this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Le=>this.onSubmitOptionsSearch(Le)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=z.Descending,this.requestLinkPageTemplateGuId.length>0){let Le=new U;Le.propertyName="LinkPageTemplateGuId",Le.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageDependencyGuId.length>0){let Le=new U;Le.propertyName="LinkPageDependencyGuId",Le.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Le)}if(this.requestLinkPageParentGuId.length>0){let Le=new U;Le.propertyName="LinkPageParentGuId",Le.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Le)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getModuleList(),this.getSiteCategory()}getModuleList(){let t=new Z;t.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let t=new Z;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Ye);let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=z.Ascending):(z,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=z.Descending),z,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:t,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wn,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(h,m,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:m=>{m.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,0)}),this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(m=>{this.publicHelper.processService.processStart(e,m,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:m=>{m.isSuccess&&(i.set("All",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=rt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:m=>{m.isSuccess&&(i.set("Active",m.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(e)}})}onActionButtonHtmlEditor(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(t.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(t.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};s.\u0275fac=function(i){return new(i||s)(C(lt),C(O),C(Ke),C(st),C(qi),C(ot),C(Be),C(F),C(B),C(ye),C(dt),C(W),C(Oe))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list-grid"]],features:[Q],decls:92,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",3),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,4),d(2," -------------------------------------- "),E(),De(3,5)(4,6),T(5,7),I(6,Sp,2,0,"a",8)(7,Mp,2,0,"a",8),a(8,"a",9),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(9,"i",10),l(),a(10,"a",9),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(11,"i",11),l(),E(),T(12,12),a(13,"a",13),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(14,"mat-slide-toggle",14),d(15),S(16,"translate"),l(),a(17,"a",13),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(18,"mat-slide-toggle",14),d(19),S(20,"translate"),l(),E(),T(21,15),I(22,Ip,7,3,"div",16),E(),T(23,17),I(24,bp,7,3,"div",16)(25,Cp,7,3,"div",16),a(26,"div",18)(27,"a",19),v("click",function(){return f(p),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),b(28,"i",20)(29,"br"),l(),a(30,"p",21),d(31),S(32,"translate"),l()(),a(33,"div",18)(34,"a",19),v("click",function(){return f(p),g(e.onActionButtonHtmlView(e.tableRowSelected))}),b(35,"i",20)(36,"br"),l(),a(37,"p",21),d(38),S(39,"translate"),l()(),I(40,vp,7,3,"div",16),a(41,"div",18)(42,"a",19),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),b(43,"i",22)(44,"br"),l(),a(45,"p",21),d(46),S(47,"translate"),l()(),E(),T(48,23),a(49,"app-cms-search-list",24),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(50,"app-cms-statist-list",24),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(51,25),a(52,"mat-table",26,0),v("matSortChange",function(){f(p);let m=P(53);return g(e.onTableSortData(m))}),T(54,27),I(55,yp,3,3,"mat-header-cell",28)(56,Tp,2,1,"mat-cell",29),E(),T(57,30),I(58,Ep,2,1,"mat-header-cell",28)(59,Dp,2,1,"mat-cell",29),E(),T(60,31),I(61,xp,2,1,"mat-header-cell",28)(62,Pp,5,7,"mat-cell",32),E(),T(63,33),I(64,Rp,2,1,"mat-header-cell",28)(65,kp,2,1,"mat-cell",29),E(),T(66,34),I(67,Wp,2,1,"mat-header-cell",28)(68,Lp,2,1,"mat-cell",29),E(),T(69,35),I(70,Vp,2,1,"mat-header-cell",28)(71,Gp,2,1,"mat-cell",29),E(),T(72,36),I(73,Fp,2,1,"mat-header-cell",28)(74,Bp,3,4,"mat-cell",29),E(),T(75,37),I(76,Op,2,1,"mat-header-cell",28)(77,Np,3,4,"mat-cell",29),E(),T(78,38),I(79,Hp,2,1,"mat-header-cell",28)(80,jp,3,3,"mat-cell",29),E(),T(81,39),I(82,qp,2,1,"mat-header-cell",28)(83,Up,2,1,"mat-cell",29),E(),T(84,40),I(85,zp,3,3,"mat-header-cell",41)(86,Qp,6,1,"mat-cell",42),E(),I(87,Kp,1,0,"mat-header-row",43)(88,Jp,1,6,"mat-row",44),l(),E(),T(89,45),a(90,"mat-paginator",46,1),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),c("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),r(),c("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),r(7),c("checked",e.optionsSearch.data.show),r(),_("",M(16,29,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(20,31,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(32,33,"ACTION.PAGE_DESIGN")),r(7),w(M(39,35,"ACTION.SHOW_PAGE")),r(2),c("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),r(6),w(M(47,37,"ACTION.SHOW_WEB")),r(3),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(2),c("dataSource",e.tableSource),r(35),c("matHeaderRowDef",e.tabledisplayedColumns),r(),c("matRowDefColumns",e.tabledisplayedColumns),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,hp)))},dependencies:[xe,G,tt,Pe,J,H,ct,pt,je,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,ze,Qe,Ue,yt,N,gi,qe,Wt,fi],encapsulation:2});let n=s;return n})();var Yp=()=>[5,10,20,100];function Xp(n,s){if(n&1){let o=y();a(0,"a",30),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),b(1,"i",31),l()}}function Zp(n,s){if(n&1){let o=y();a(0,"a",30),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),b(1,"i",31),l()}}function $p(n,s){if(n&1){let o=y();a(0,"div",16)(1,"a",32),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),b(2,"i",33)(3,"br"),l(),a(4,"p",19),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function em(n,s){if(n&1){let o=y();a(0,"div",16)(1,"a",34),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),b(2,"i",35)(3,"br"),l(),a(4,"p",19),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function tm(n,s){if(n&1){let o=y();a(0,"div",16)(1,"a",36),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),b(2,"i",37)(3,"br"),l(),a(4,"p",19),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function im(n,s){if(n&1){let o=y();a(0,"div",16)(1,"a",17),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),b(2,"i",18)(3,"br"),l(),a(4,"p",19),d(5),S(6,"translate"),l()()}n&2&&(r(5),w(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function nm(n,s){if(n&1){let o=y();a(0,"div",38)(1,"mat-card",39)(2,"mat-card-header")(3,"mat-card-title"),d(4),b(5,"i",40),S(6,"statusIconClass"),l(),a(7,"mat-card-subtitle"),d(8),S(9,"translate"),l()(),b(10,"img",41),a(11,"mat-card-content"),d(12),S(13,"translate"),S(14,"cmstitle"),b(15,"br"),d(16),S(17,"translate"),S(18,"cmstitle"),b(19,"br"),d(20),S(21,"translate"),b(22,"i",40),S(23,"boolclass"),a(24,"p"),d(25),l()(),a(26,"mat-card-actions")(27,"button",42),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),a(28,"mat-icon"),d(29,"more_vert"),l()()()()()}if(n&2){let o=s.$implicit,t=u();r(4),_(" ",o.title," "),r(),c("ngClass",M(6,12,o.recordStatus)),r(3),Xt(" ",M(9,14,"TITLE.Id"),": ",o.id,""),r(2),R("src",o.thumbnailImageSrc,Ee),r(2),Xt(" ",M(13,16,"TITLE.Template")," : ",xt(14,18,o.linkPageTemplateGuId,t.dataModelWebDesignerMainPageTemplateResult.listItems)," "),r(4),Xt(" ",M(17,21,"TITLE.Default_template_classification_system")," : ",xt(18,23,o.pageDependencyIsDefaultPageLinkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," "),r(4),_(" ",M(21,26,"TITLE.System_default")," : "),r(2),c("ngClass",M(23,28,o.pageDependencyIsDefaultPage)),r(3),_(" ",o.description," ")}}var Pi=(()=>{let s=class s extends ci{};s.\u0275fac=(()=>{let t;return function(e){return(t||(t=Tn(s)))(e||s)}})(),s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list"]],features:[Q],decls:60,vars:40,consts:[["paginator",""],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-sm-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"]],template:function(i,e){if(i&1){let p=y();a(0,"app-cms-html-list",1),A("optionActionGuideNoticeDisplayChange",function(m){return f(p),x(e.viewGuideNotice,m)||(e.viewGuideNotice=m),g(m)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),T(1,2),d(2," -------------------------------------- "),E(),De(3,3)(4,4),T(5,5),I(6,Xp,2,0,"a",6)(7,Zp,2,0,"a",6),a(8,"a",7),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(9,"i",8),l(),a(10,"a",7),v("click",function(){return f(p),g(e.onActionButtonReload())}),b(11,"i",9),l(),E(),T(12,10),a(13,"a",11),v("click",function(){return f(p),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),b(14,"mat-slide-toggle",12),d(15),S(16,"translate"),l(),a(17,"a",11),v("click",function(){return f(p),g(e.onActionButtonStatist())}),b(18,"mat-slide-toggle",12),d(19),S(20,"translate"),l(),E(),T(21,13),I(22,$p,7,3,"div",14),E(),T(23,15),I(24,em,7,3,"div",14)(25,tm,7,3,"div",14),a(26,"div",16)(27,"a",17),v("click",function(){return f(p),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),b(28,"i",18)(29,"br"),l(),a(30,"p",19),d(31),S(32,"translate"),l()(),a(33,"div",16)(34,"a",17),v("click",function(){return f(p),g(e.onActionButtonHtmlView(e.tableRowSelected))}),b(35,"i",18)(36,"br"),l(),a(37,"p",19),d(38),S(39,"translate"),l()(),I(40,im,7,3,"div",14),a(41,"div",16)(42,"a",17),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),b(43,"i",20)(44,"br"),l(),a(45,"p",19),d(46),S(47,"translate"),l()(),E(),T(48,21),a(49,"app-cms-search-list",22),A("optionsChange",function(m){return f(p),x(e.optionsSearch,m)||(e.optionsSearch=m),g(m)}),l(),a(50,"app-cms-statist-list",22),A("optionsChange",function(m){return f(p),x(e.optionsStatist,m)||(e.optionsStatist=m),g(m)}),l(),E(),T(51,23),a(52,"div",24)(53,"div",25),b(54,"app-progress-spinner",26),a(55,"div",24),I(56,nm,30,30,"div",27),l()()(),E(),T(57,28),a(58,"mat-paginator",29,0),v("page",function(m){return f(p),g(e.onTablePageingData(m))}),l(),E(),l()}i&2&&(c("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),D("optionActionGuideNoticeDisplay",e.viewGuideNotice),c("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),c("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),r(),c("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),r(7),c("checked",e.optionsSearch.data.show),r(),_("",M(16,29,"ACTION.SEARCH")," "),r(3),c("checked",e.optionsStatist.data.show),r(),_("",M(20,31,"ACTION.STATIST")," "),r(3),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(32,33,"ACTION.PAGE_DESIGN")),r(7),w(M(39,35,"ACTION.SHOW_PAGE")),r(2),c("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),r(6),w(M(47,37,"ACTION.SHOW_WEB")),r(3),D("options",e.optionsSearch),r(),D("options",e.optionsStatist),r(4),c("optionsInfoAreaId",e.constructorInfoAreaId),r(2),c("ngForOf",e.dataModelResult.listItems),r(2),c("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,Yp)))},dependencies:[xe,Fe,G,Pe,Vn,On,Fn,Nn,Hn,Bn,Gn,J,je,ke,ze,Qe,j,Ue,N,gi,qe,fi],encapsulation:2});let n=s;return n})();var om=[{path:"",component:xo,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-QJZ36QSW.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:fn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:Ao,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Vo,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Ro,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:Oo,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Bo,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],Ho=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=ki({type:s}),s.\u0275inj=Ri({imports:[dn.forChild(om),dn]});let n=s;return n})();var Fg=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=ki({type:s}),s.\u0275inj=Ri({providers:[ji,K,Jn,Ke,Xn,qi,Zn,ui,ii,at,lt,Rt,st,Ui,mi],imports:[En,Ho,Rn,kn.withConfig({warnOnNgModelWithFormControl:"never"}),Mo,Io,qn,Wn,io,Un,Do,wo,Eo,eo]});let n=s;return n})();export{Fg as WebDesignerModule};
