"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7354],{9041:(E,u,i)=>{i.d(u,{p:()=>c});var e=i(7788);let c=(()=>{class t{transform(p,r){if(!r||0===r.length)return"";const _=r.find(h=>h.key===p||h.value===p);return _?_.description:""}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275pipe=e.EJ8({name:"enums",type:t,pure:!0})}return t})()},4944:(E,u,i)=>{i.d(u,{H:()=>h});var e=i(7788),c=i(8189),t=i(2882),g=i(5154),p=i(6610),r=i(643);function _(m,f){if(1&m){const a=e.RV6();e.j41(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),e.EFF(4),e.k0s()(),e.nrm(5,"img",4),e.j41(6,"mat-card-content")(7,"p",5),e.EFF(8),e.k0s()(),e.j41(9,"mat-card-actions")(10,"button",6),e.bIt("click",function(){const l=e.eBV(a).$implicit,o=e.XpG();return e.Njj(o.onActionSelectBank(l))}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()}if(2&m){const a=f.$implicit;e.R7$(4),e.JRh(a.title),e.R7$(),e.FS9("src",a.linkModuleFileLogoIdSrc,e.B4B),e.R7$(3),e.SpI(" ",a.title," "),e.R7$(3),e.JRh(e.bMT(12,4,"ACTION.SELECT"))}}let h=(()=>{class m{static#t=this.nextId=0;constructor(a,s,l,o){this.bankPaymentPrivateSiteConfigService=a,this.translate=s,this.cdr=l,this.publicHelper=o,this.id=++m.nextId,this.optionMasterItem=!1,this.errorMessage="",this.optionChange=new e.bkB,this.dataModelSelect=new c.OIe,this.dataModelResult=new c.N$V,this.dataModel=new c.AAV,this.publicHelper.processService.cdr=this.cdr}onActionFileSelected(a){this.dataModel.linkMainImageId=a.id,this.dataModel.linkMainImageIdSrc=a.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){const a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(a,s,this.constructor.name)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:s=>{s.isSuccess?(this.dataModelResult=s,this.dataModelResult.listItems&&0!=this.dataModelResult.listItems.length?this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelectBank(this.dataModelResult.listItems[0]):this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active")):this.errorMessage=s.errorMessage,this.publicHelper.processService.processStop(a)},error:s=>{this.errorMessage=s,this.publicHelper.processService.processStop(a,!1)}})}else{const a=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(a,s,this.constructor.name)}),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:s=>{s.isSuccess?(this.dataModelResult=s,this.dataModelResult.listItems&&0!=this.dataModelResult.listItems.length?this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelectBank(this.dataModelResult.listItems[0]):this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active")):this.errorMessage=s.errorMessage,this.publicHelper.processService.processStop(a)},error:s=>{this.errorMessage=s,this.publicHelper.processService.processStop(a,!1)}})}}onActionSelectBank(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}static#e=this.\u0275fac=function(s){return new(s||m)(e.rXU(c.Q67),e.rXU(t.c$),e.rXU(e.gRc),e.rXU(g.A))};static#s=this.\u0275cmp=e.VBU({type:m,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem"},outputs:{optionChange:"optionChange"},decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(s,l){1&s&&(e.j41(0,"div",0),e.EFF(1),e.DNE(2,_,13,6,"div",1),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",l.errorMessage," "),e.R7$(),e.Y8G("ngForOf",l.dataModelResult.listItems))},dependencies:[p.Sq,r.RN,r.YY,r.m2,r.MM,r.dh,t.D9],encapsulation:2})}return m})()},2646:(E,u,i)=>{i.d(u,{B:()=>l});var e=i(6482),c=i(8189),t=i(7788),g=i(9722),p=i(2882),r=i(5154),_=i(6610),h=i(7912),m=i(2643),f=i(9041);function a(o,M){1&o&&(t.j41(0,"div"),t.nrm(1,"span",13)(2,"br"),t.k0s()),2&o&&(t.R7$(),t.Y8G("inlineSVG","assets/media/svg/icons/General/Shield-check.svg"))}function s(o,M){if(1&o&&(t.j41(0,"div",8)(1,"div",9)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",10),t.EFF(6),t.k0s(),t.nrm(7,"div",11),t.k0s(),t.j41(8,"div",9)(9,"div",10),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",10),t.DNE(13,a,3,1,"div",12),t.EFF(14),t.nI1(15,"enums"),t.k0s(),t.nrm(16,"div",11),t.k0s(),t.j41(17,"div",9)(18,"div",10),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"div",10),t.EFF(22),t.k0s(),t.nrm(23,"div",11),t.k0s(),t.j41(24,"div",9)(25,"div",10),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"div",10),t.EFF(29),t.k0s(),t.nrm(30,"div",11),t.k0s()()),2&o){const n=t.XpG();t.R7$(3),t.JRh(t.bMT(4,11,"TITLE.Transaction_ID")),t.R7$(3),t.JRh(n.dataModelResult.item.id),t.R7$(4),t.Lme("",t.bMT(11,13,"TITLE.Transaction_status"),":",n.requestId,""),t.R7$(3),t.Y8G("ngIf",n.dataModelResult.item.transactionStatus===n.TransactionSuccessful),t.R7$(),t.SpI(" ",t.i5U(15,15,n.dataModelResult.item.transactionStatus,n.dataModelEnumTransactionRecordStatusResult.listItems)," "),t.R7$(5),t.SpI(" ",t.bMT(20,18,"TITLE.Amount")," "),t.R7$(3),t.Lme("",n.dataModelResult.item.amount," ",n.dataModelResult.item.currencyUnit,""),t.R7$(4),t.SpI("",t.bMT(27,20,"TITLE.Message")," "),t.R7$(3),t.JRh(n.dataModelResult.item.lastStatusMessage)}}let l=(()=>{class o{static#t=this.nextId=0;constructor(n,d,v,I,R,S,T,b){this.data=n,this.bankPaymentTransactionService=d,this.dialogRef=v,this.bankPaymentEnumService=I,this.cmsToastrService=R,this.translate=S,this.cdr=T,this.publicHelper=b,this.id=++o.nextId,this.requestId=0,this.dataModelResult=new c.N$V,this.dataModelEnumTransactionRecordStatusResult=new c.N$V,this.TransactionSuccessful=c.Ngb.TransactionSuccessful,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGeOne(),this.getEnumTransactionRecordStatus()}getEnumTransactionRecordStatus(){this.bankPaymentEnumService.ServiceTransactionRecordStatusEnum().subscribe({next:n=>{this.dataModelEnumTransactionRecordStatusResult=n}})}DataGeOne(){const n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(n,d,this.constructor.name)}),this.bankPaymentTransactionService.ServiceGetOneById(this.requestId).subscribe({next:d=>{d.isSuccess?this.dataModelResult=d:this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(n)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!0})}static#e=this.\u0275fac=function(d){return new(d||o)(t.rXU(e.Vh),t.rXU(c.sVk),t.rXU(e.CP),t.rXU(c.nPX),t.rXU(g.k),t.rXU(p.c$),t.rXU(t.gRc),t.rXU(r.A))};static#s=this.\u0275cmp=t.VBU({type:o,selectors:[["app-cms-bankpayment-transaction-info"]],decls:12,vars:9,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","table",4,"ngIf"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"table"],[1,"tr"],[1,"td"],[2,"clear","both"],[4,"ngIf"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"]],template:function(d,v){1&d&&(t.j41(0,"div",0),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",1),t.nrm(4,"app-progress-spinner",2),t.DNE(5,s,31,22,"div",3),t.k0s(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){return v.onFormCancel()}),t.nrm(9,"i",7),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&d&&(t.R7$(),t.Lme(" ",t.bMT(2,5,"TITLE.Transaction_status"),":",v.requestId," "),t.R7$(3),t.Y8G("optionsInfoAreaId",v.constructor.name),t.R7$(),t.Y8G("ngIf",v.dataModelResult.item&&v.dataModelResult.item.id>0),t.R7$(5),t.SpI(" ",t.bMT(11,7,"ACTION.BACK")," "))},dependencies:[_.bT,h._,m.l,p.D9,f.p],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return o})()},1704:(E,u,i)=>{i.d(u,{E:()=>a});var e=i(7788),c=i(6610);const t=[[["","cms-tree-body",""]],[["","cms-tree-header",""]],[["","cms-tree-action",""]],[["","cms-tree-footer",""]]],g=["[cms-tree-body]","[cms-tree-header]","[cms-tree-action]","[cms-tree-footer]"];function p(s,l){1&s&&(e.j41(0,"div",8)(1,"p",9),e.SdG(2,1),e.k0s()())}function r(s,l){1&s&&e.nrm(0,"div",10)}function _(s,l){1&s&&(e.j41(0,"div",11),e.SdG(1,2),e.k0s())}function h(s,l){1&s&&e.nrm(0,"div",12)}function m(s,l){1&s&&e.nrm(0,"div",10)}function f(s,l){1&s&&(e.j41(0,"div",6)(1,"p",13),e.SdG(2,3),e.k0s()())}let a=(()=>{class s{static#t=this.nextId=0;constructor(){this.id=++s.nextId,this.optionHeaderDisplay=!0,this.optionActionMainDisplay=!0,this.optionFooterDisplay=!0}ngOnInit(){}static#e=this.\u0275fac=function(M){return new(M||s)};static#s=this.\u0275cmp=e.VBU({type:s,selectors:[["app-cms-html-tree"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionMainDisplay:"optionActionMainDisplay",optionFooterDisplay:"optionFooterDisplay"},ngContentSelectors:g,decls:10,vars:6,consts:[[1,"card","card-style"],[1,"row","justify-content-center","tree-parent"],["class","font-14 opacity-50",4,"ngIf"],["class","divider mb-1",4,"ngIf"],["class","col-12 pe-0 tree-child-hidden",4,"ngIf"],["class","divider mb-1 tree-child-hidden",4,"ngIf"],[1,"col-12","pe-0"],["class","col-12 pe-0",4,"ngIf"],[1,"font-14","opacity-50"],[1,"text-center","mb-2","mt-2","color-highlight","font-600"],[1,"divider","mb-1"],[1,"col-12","pe-0","tree-child-hidden"],[1,"divider","mb-1","tree-child-hidden"],[1,"text-center"]],template:function(M,n){1&M&&(e.NAR(t),e.j41(0,"div",0)(1,"div",1),e.DNE(2,p,3,0,"div",2)(3,r,1,0,"div",3)(4,_,2,0,"div",4)(5,h,1,0,"div",5),e.j41(6,"div",6),e.SdG(7),e.k0s(),e.DNE(8,m,1,0,"div",3)(9,f,3,0,"div",7),e.k0s()()),2&M&&(e.R7$(2),e.Y8G("ngIf",n.optionHeaderDisplay),e.R7$(),e.Y8G("ngIf",n.optionHeaderDisplay),e.R7$(),e.Y8G("ngIf",n.optionActionMainDisplay),e.R7$(),e.Y8G("ngIf",n.optionActionMainDisplay),e.R7$(3),e.Y8G("ngIf",n.optionFooterDisplay),e.R7$(),e.Y8G("ngIf",n.optionFooterDisplay))},dependencies:[c.bT],encapsulation:2})}return s})()}}]);