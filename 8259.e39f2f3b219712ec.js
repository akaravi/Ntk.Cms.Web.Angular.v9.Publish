"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8259],{8918:(J,R,d)=>{d.d(R,{dj:()=>t});class t{childMethods;parentMethods;data=new S;constructor(){this.data=new S}}class S{show=!1;select;defaultQuery;access}},7147:(J,R,d)=>{d.d(R,{TV:()=>t});class t{childMethods;parentMethods;data=new S;constructor(){this.data=new S}}class S{show=!1}},4252:(J,R,d)=>{d.d(R,{R:()=>te});var t=d(4511),x=d(5237),E=d(9966),S=d(1435),b=d(3336),T=d(2340),I=d(6619),L=d(656),F=d(8918),N=d(7147),C=d(92),M=d(4536),e=d(4537),v=d(2607),w=d(6707),D=d(727),g=d(8692),O=d(8659);function i(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function h(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function f(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function y(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function c(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"option",22),e.NdJ("onSelectionChange",function(){const _=e.CHM(o).$implicit,m=e.oxw(2);return e.KtG(m.onActionFileSelect(_))}),e._uU(1),e.qZA()}if(2&l){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function A(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function u(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"div",5)(1,"label",19),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",20,7),e.NdJ("ngModelChange",function(n){e.CHM(o);const _=e.oxw();return e.KtG(_.dataModel.reportFormatFileId=n)}),e.YNc(6,c,2,2,"option",21),e.qZA(),e.TgZ(7,"em"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,A,5,3,"mat-error",9),e.qZA()}if(2&l){const o=e.MAs(5),s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",s.dataModel.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",s.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(9,7,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==o.errors?null:o.errors.required)}}function Z(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",24),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const p=function(l){return{direction:l}};let U=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;requestId="";requestTitle="";requestService;constructor(o,s,n,_,m){this.cmsToastrService=o,this.data=s,this.dialogRef=n,this.translate=_,this.tokenHelper=m,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.id?this.requestId=s.id:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0});let r=new t.svN;r.value=1,r.key="Excel",r.description="Excel",this.fileTypeListItems.push(r),r=new t.svN,r.value=3,r.key="Json",r.description="Json",this.fileTypeListItems.push(r),r=new t.svN,r.value=4,r.key="Report",r.description="Report",this.fileTypeListItems.push(r),r=new t.svN,r.value=0,r.key="Now",r.description="Now",this.recieveMethodListItems.push(r),r=new t.svN,r.value=1,r.key="Email",r.description="Email",this.recieveMethodListItems.push(r),r=new t.svN,r.value=2,r.key="FileManager",r.description="FileManager",this.recieveMethodListItems.push(r),this.tokenHelper.getCurrentToken().then(q=>{this.tokenInfo=q})}dataModelReportFileResult=new t.y$4;dataModelSubmitResult=new t.vZ4;fileTypeListItems=new Array;recieveMethodListItems=new Array;loading=new L.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}formControl=new C.NI;tokenInfo=new t.OdC;filteredOptions;dataModelFileSelect=new t.wlu;dataModel=new t.w2X;EnumExportFileTypeReport=t.TtJ.Report;EnumExportReceiveMethodNow=t.$XY.Now;formInfo=new t.LEF;ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.dataModel.fileType=this.EnumExportFileTypeReport,this.dataModel.recieveMethod=this.EnumExportReceiveMethodNow}ngOnDestroy(){}DataGetAll(){const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new t.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==t.UO$.Item):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(o){this.dataModelFileSelect=o,this.dataModel.reportFormatFileId=o.id,this.dataModelSubmitResult=new t.vZ4}onFormSubmit(){this.dataModelSubmitResult=new t.vZ4;const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFileGetOne(this.requestId,this.dataModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(v.e),e.Y36(M.WI),e.Y36(M.so),e.Y36(w.sK),e.Y36(D.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-entity"]],inputs:{optionLoading:"optionLoading"},decls:38,vars:25,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.fileType","name","dataModel.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.recieveMethod","name","dataModel.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["class","input-style has-borders input-style-always-active validate-field no-icon mb-4",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],["for","dataModel.reportFormatFileId",1,"color-highlight"],["id","dataModel.reportFormatFileId","name","dataModel.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e._uU(10),e.TgZ(11,"div",5)(12,"select",6,7),e.NdJ("ngModelChange",function(m){return n.dataModel.fileType=m}),e.YNc(14,i,2,2,"option",8),e.qZA(),e.TgZ(15,"em"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,h,5,3,"mat-error",9),e.qZA(),e.TgZ(19,"div",5)(20,"select",10,7),e.NdJ("ngModelChange",function(m){return n.dataModel.recieveMethod=m}),e.YNc(22,f,2,2,"option",8),e.qZA(),e.TgZ(23,"em"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.YNc(26,y,5,3,"mat-error",9),e.qZA(),e.YNc(27,u,11,9,"div",11),e.TgZ(28,"div",12)(29,"button",13),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(30,"i",14),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",15),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(34,"i",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,Z,4,3,"button",17),e.qZA()()()()),2&s){const _=e.MAs(9),m=e.MAs(13);e.xp6(8),e.Q6J("ngStyle",e.VKq(23,p,n.tokenInfo.direction)),e.xp6(2),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngModel",n.dataModel.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(17,15,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("ngModel",n.dataModel.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(25,17,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(1),e.Q6J("ngIf",n.dataModel.fileType===n.EnumExportFileTypeReport),e.xp6(4),e.hij(" ",e.lcZ(32,19,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!_.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(36,21,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[g.sg,g.O5,g.PC,C._Y,C.YN,C.Kr,C.EJ,C.JJ,C.JL,C.On,C.F,O.TO,w.X$],encapsulation:2})}return l})();var H=d(418),P=d(9665);function Q(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function Y(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function G(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function K(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function V(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"option",31),e.NdJ("onSelectionChange",function(){const _=e.CHM(o).$implicit,m=e.oxw();return e.KtG(m.onActionFileSelect(_))}),e._uU(1),e.qZA()}if(2&l){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function B(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function j(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Current Page Number is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function W(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Row Per Page is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function $(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Skip Row Data is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function X(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",33),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const z=function(l){return{direction:l}};let ee=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;filterModel=new t.Hay;requestTitle="";requestService;constructor(o,s,n,_,m){this.cmsToastrService=o,this.data=s,this.dialogRef=n,this.translate=_,this.tokenHelper=m,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.filterModel?this.filterModel=s.filterModel:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0}),this.filterModel.exportFile=new t.w2X;let r=new t.svN;r.value=1,r.key="Excel",r.description="Excel",this.fileTypeListItems.push(r),r=new t.svN,r.value=3,r.key="Json",r.description="Json",this.fileTypeListItems.push(r),r=new t.svN,r.value=4,r.key="Report",r.description="Report",this.fileTypeListItems.push(r),r=new t.svN,r.value=0,r.key="Now",r.description="Now",this.recieveMethodListItems.push(r),r=new t.svN,r.value=1,r.key="Email",r.description="Email",this.recieveMethodListItems.push(r),r=new t.svN,r.value=2,r.key="FileManager",r.description="FileManager",this.recieveMethodListItems.push(r),this.tokenHelper.getCurrentToken().then(q=>{this.tokenInfo=q})}formInfo=new t.LEF;tokenInfo=new t.OdC;dataModelReportFileResult=new t.y$4;dataModelSubmitResult=new t.vZ4;dataModelFileSelect=new t.wlu;EnumExportFileTypeReport=t.TtJ.Report;EnumExportReceiveMethodNow=t.$XY.Now;loading=new L.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.filterModel.exportFile.fileType=this.EnumExportFileTypeReport,this.filterModel.exportFile.recieveMethod=this.EnumExportReceiveMethodNow}DataGetAll(){const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new t.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==t.UO$.List):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(o){this.dataModelFileSelect=o,this.filterModel.exportFile.reportFormatFileId=o.id,this.dataModelSubmitResult=new t.vZ4}fileTypeListItems=new Array;recieveMethodListItems=new Array;onFormSubmit(){this.dataModelSubmitResult=new t.vZ4;const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFile(this.filterModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(v.e),e.Y36(M.WI),e.Y36(M.so),e.Y36(w.sK),e.Y36(D.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-list"]],inputs:{optionLoading:"optionLoading"},decls:71,vars:57,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","filterModel.exportFile.fileType","name","filterModel.exportFile.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","filterModel.exportFile.recieveMethod","name","filterModel.exportFile.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["for","filterModel.exportFile.reportFormatFileId",1,"color-highlight"],["id","filterModel.exportFile.reportFormatFileId","name","filterModel.exportFile.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filterModel.currentPageNumber",1,"color-highlight"],["type","number","name","filterModel.currentPageNumber","id","filterModel.currentPageNumber","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["CurrentPageNumber",""],["for","filterModel.rowPerPage",1,"color-highlight"],["type","number","name","filterModel.rowPerPage","id","filterModel.rowPerPage","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["RowPerPage",""],["for","filterModel.skipRowData",1,"color-highlight"],["matInput","","type","number","name","filterModel.skipRowData","id","filterModel.skipRowData","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["SkipRowData",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"div",5)(11,"select",6,7),e.NdJ("ngModelChange",function(m){return n.filterModel.exportFile.fileType=m}),e.YNc(13,Q,2,2,"option",8),e.qZA(),e.TgZ(14,"em"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Y,5,3,"mat-error",9),e.qZA(),e.TgZ(18,"div",5)(19,"select",10,7),e.NdJ("ngModelChange",function(m){return n.filterModel.exportFile.recieveMethod=m}),e.YNc(21,G,2,2,"option",8),e.qZA(),e.TgZ(22,"em"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,K,5,3,"mat-error",9),e.qZA(),e.TgZ(26,"div",5)(27,"label",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"select",12,7),e.NdJ("ngModelChange",function(m){return n.filterModel.exportFile.reportFormatFileId=m}),e.YNc(32,V,2,2,"option",13),e.qZA(),e.TgZ(33,"em"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.YNc(36,B,5,3,"mat-error",9),e.qZA(),e.TgZ(37,"div",14)(38,"label",15),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"input",16,17),e.NdJ("ngModelChange",function(m){return n.filterModel.currentPageNumber=m}),e.ALo(43,"translate"),e.qZA(),e.YNc(44,j,5,3,"mat-error",9),e.qZA(),e.TgZ(45,"div",14)(46,"label",18),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"input",19,20),e.NdJ("ngModelChange",function(m){return n.filterModel.rowPerPage=m}),e.ALo(51,"translate"),e.qZA(),e.YNc(52,W,5,3,"mat-error",9),e.qZA(),e.TgZ(53,"div",14)(54,"label",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"input",22,23),e.NdJ("ngModelChange",function(m){return n.filterModel.skipRowData=m}),e.ALo(59,"translate"),e.qZA(),e.YNc(60,$,5,3,"mat-error",9),e.qZA(),e.TgZ(61,"div",24)(62,"button",25),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(63,"i",26),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"button",27),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(67,"i",28),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.YNc(70,X,4,3,"button",29),e.qZA()()()()),2&s){const _=e.MAs(9),m=e.MAs(12),r=e.MAs(42),q=e.MAs(50),k=e.MAs(58);e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(55,z,n.tokenInfo.direction)),e.xp6(3),e.Q6J("ngModel",n.filterModel.exportFile.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(16,31,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(24,33,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(3),e.Oqu(e.lcZ(29,35,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",n.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(35,37,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==m.errors?null:m.errors.required),e.xp6(3),e.Oqu(e.lcZ(40,39,"TITLE.from_page")),e.xp6(2),e.s9C("placeholder",e.lcZ(43,41,"TITLE.page_number")),e.Q6J("ngModel",n.filterModel.currentPageNumber),e.xp6(3),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(3),e.Oqu(e.lcZ(48,43,"TITLE.page_number")),e.xp6(2),e.s9C("placeholder",e.lcZ(51,45,"TITLE.number_of_output_file_rows")),e.Q6J("ngModel",n.filterModel.rowPerPage),e.xp6(3),e.Q6J("ngIf",null==q.errors?null:q.errors.required),e.xp6(3),e.Oqu(e.lcZ(56,47,"TITLE.Over_the_number_of_rows")),e.xp6(2),e.s9C("placeholder",e.lcZ(59,49,"TITLE.Number_of_rows_row_rowss")),e.Q6J("ngModel",n.filterModel.skipRowData),e.xp6(3),e.Q6J("ngIf",null==k.errors?null:k.errors.required),e.xp6(4),e.hij(" ",e.lcZ(65,51,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!_.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(69,53,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[g.sg,g.O5,g.PC,C._Y,C.YN,C.Kr,C.Fj,C.wV,C.EJ,C.JJ,C.JL,C.Q7,C.On,C.F,O.TO,P.Nt,w.X$],encapsulation:2})}return l})();class te{baseService;item;publicHelper;tokenHelper;constructor(a,o,s,n){this.baseService=a,this.item=o,this.publicHelper=s,this.tokenHelper=n,s.pageInfo.updateContentService(a)}filteModelContent=new t.Hay;tableSource=new H.by;tokenInfo=new t.OdC;fieldsInfo=new Map;loading=new L.O;optionsSearch=new F.dj;optionsStatist=new N.TV;tableRowSelected;tableRowsSelected=[];dataModelResult=new t.y$4;onActionTableRowSelect(a){this.tableRowSelected=a,this.publicHelper.pageInfo.updateContentInfo(new I.D(a.id,a.title,a.viewContentHidden,"",a.urlViewContent)),a.expanded=!0}onActionTableRowMouseClick(a){this.tableRowSelected.id===a.id?(a.expanded=!1,this.onActionTableRowSelect(this.item),this.publicHelper.pageInfo.updateContentInfo(new I.D("","",!1,"",""))):(this.onActionTableRowSelect(a),a.expanded=!0)}onActionTableRowMouseEnter(a){T.N.cmsViewConfig.tableRowMouseEnter&&(a.expanded=!0)}onActionTableRowMouseLeave(a){T.N.cmsViewConfig.tableRowMouseEnter&&(!this.tableRowSelected||this.tableRowSelected.id!==a.id)&&(a.expanded=!1)}onActionbuttonMemo(){this.publicHelper.dialog.open(E.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService}}).afterClosed().subscribe(s=>{})}onActionbuttonMemoRow(a=this.tableRowSelected){this.publicHelper.dialog.open(E.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionGridExpandRows(a){this.tableSource.data.forEach(o=>{o.expanded=a})}onActionbuttonExport(){this.publicHelper.dialog.open(ee,{height:"50%",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",data:{service:this.baseService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(s=>{})}onActionbuttonPrintRow(a=this.tableRowSelected){a&&a.id&&0!==a.id.length?(this.onActionTableRowSelect(a),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.publicHelper.dialog.open(U,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{}):this.publicHelper.cmsToastrService.typeErrorAccessWatch()):this.publicHelper.cmsToastrService.typeErrorSelectedRow()}onActionbuttonPin(a=this.tableRowSelected){this.publicHelper.dialog.open(S.I,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionbuttonTask(a=this.tableRowSelected){this.publicHelper.dialog.open(b.G,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionbuttonComment(a=this.tableRowSelected){this.publicHelper.dialog.open(x.X,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}DataGetAccess(){const a=this.constructor.name+"main";this.loading.Start(a),this.baseService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access):this.publicHelper.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(a)},error:o=>{this.publicHelper.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(a)}})}}},7980:(J,R,d)=>{d.d(R,{Z:()=>y});var t=d(4537),x=d(656),E=d(727),S=d(8692),b=d(5738),T=d(6707);function I(c,A){if(1&c&&(t.TgZ(0,"div",2),t.Hsn(1,4),t.qZA()),2&c){const u=t.oxw();t.Q6J("ngClass",u.tokenHelper.isMobile?u.viewTree?"menu-active  menu menu-box-right rounded-0":"menu menu-box-right rounded-0":"col-xl-3")}}function L(c,A){1&c&&t.Hsn(0,6,["*ngIf","optionHeaderDisplay"])}function F(c,A){if(1&c&&(t.TgZ(0,"div",27),t.YNc(1,L,1,0,"ng-content",7),t.Hsn(2,5),t.qZA()),2&c){const u=t.oxw();t.xp6(1),t.Q6J("ngIf",u.optionHeaderDisplay)}}function N(c,A){1&c&&t._UZ(0,"hr")}function C(c,A){1&c&&(t.TgZ(0,"div",27)(1,"p",10),t.Hsn(2,7),t.Hsn(3,8),t.qZA()())}function M(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",28)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.actionViewTree())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&c){const u=t.oxw();t.xp6(4),t.Udp("transform",u.viewTree?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(u.optionCategoryTitle)}}function e(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",33)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.actionViewMenuMain())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&c){const u=t.oxw();t.xp6(4),t.Udp("transform",u.viewMenuMain?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(u.optionTitle)}}function v(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",34)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.actionViewMenuItemRow())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&c){const u=t.oxw();t.xp6(4),t.Udp("transform",u.viewMenuItemRow?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(u.optionSelectRowItemTitle)}}function w(c,A){if(1&c&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&c){const u=t.oxw();t.xp6(1),t.Oqu(u.optionTitle)}}function D(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.onActionbuttonMemo())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&c&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}function g(c,A){if(1&c&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&c){const u=t.oxw();t.xp6(1),t.Oqu(u.optionSelectRowItemTitle)}}function O(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.onActionbuttonPrintRow())}),t._UZ(2,"i",36)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&c&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.PRINT")))}function i(c,A){if(1&c){const u=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(u);const p=t.oxw();return t.KtG(p.onActionbuttonMemoRow())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&c&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}const h=[[["","cms-action-area",""]],[["","cms-body",""]],[["","cms-action",""]],[["","cms-action-row",""]],[["","cms-tree",""]],[["","cms-action-header",""]],[["","cms-header",""]],[["","cms-message",""]],[["","cms-footer",""]]],f=["[cms-action-area]","[cms-body]","[cms-action]","[cms-action-row]","[cms-tree]","[cms-action-header]","[cms-header]","[cms-message]","[cms-footer]"];let y=(()=>{class c{tokenHelper;static nextId=0;id=++c.nextId;optionHeaderDisplay=!0;optionActionDisplay=!0;optionFooterDisplay=!0;optionActionRowDisplay=!1;optionTitle="\u0645\u0646\u0648\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a";optionCategoryTitle="\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc";optionSelectRowItemTitle="";optionClassBody="ntk-cms-html-tree-body";optionTreeDisplay=!0;set optionLoading(u){this.loading=u}optionOnActionbuttonMemo=new t.vpe;optionOnActionbuttonExport=new t.vpe;optionOnActionbuttonMemoRow=new t.vpe;optionOnActionbuttonPrintRow=new t.vpe;loading=new x.O;constructor(u){this.tokenHelper=u}ngOnInit(){}viewMenuItemRow=!1;viewMenuMain=!1;viewTree=!1;actionViewTree(u){this.viewTree=1!=u&&(0==u||!this.viewTree),this.viewMenuMain=!1,this.viewMenuItemRow=!1}actionViewMenuItemRow(u){this.viewMenuItemRow=1==u||0!=u&&!this.viewMenuItemRow,this.viewMenuMain=!1,this.viewTree=!1}actionViewMenuMain(u){this.viewMenuMain=1==u||0!=u&&!this.viewMenuMain,this.viewMenuItemRow=!1,this.viewTree=!1}onActionbuttonMemo(){this.optionOnActionbuttonMemo.emit()}onActionbuttonExport(){this.optionOnActionbuttonExport.emit()}onActionbuttonMemoRow(){this.optionOnActionbuttonMemoRow.emit()}onActionbuttonPrintRow(){this.optionOnActionbuttonPrintRow.emit()}static \u0275fac=function(Z){return new(Z||c)(t.Y36(E.v))};static \u0275cmp=t.Xpm({type:c,selectors:[["app-cms-html-list"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionDisplay:"optionActionDisplay",optionFooterDisplay:"optionFooterDisplay",optionActionRowDisplay:"optionActionRowDisplay",optionTitle:"optionTitle",optionCategoryTitle:"optionCategoryTitle",optionSelectRowItemTitle:"optionSelectRowItemTitle",optionClassBody:"optionClassBody",optionTreeDisplay:"optionTreeDisplay",optionLoading:"optionLoading"},outputs:{optionOnActionbuttonMemo:"optionOnActionbuttonMemo",optionOnActionbuttonExport:"optionOnActionbuttonExport",optionOnActionbuttonMemoRow:"optionOnActionbuttonMemoRow",optionOnActionbuttonPrintRow:"optionOnActionbuttonPrintRow"},ngContentSelectors:f,decls:48,vars:20,consts:[[1,"row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"card","card-style"],[1,"content","mb-0"],[1,"row","justify-content-center"],["class","col-12 pe-0",4,"ngIf"],[4,"ngIf"],[1,"col-12","pe-0",3,"ngClass"],["topbody",""],[1,"text-center"],[3,"options"],["class","content","style","position: fixed;top: 100px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 140px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 180px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],[1,"menu","menu-box-modal","rounded-m","shadow-xl",2,"display","block","width","350px","height","320px",3,"ngClass"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"divider","divider-margins"],[1,"row","text-center"],["class","col-4",4,"ngIf"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"col-12","pe-0"],[1,"content",2,"position","fixed","top","100px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"col-12"],[1,"chip","chip-s","bg-gray-light",2,"cursor","pointer",3,"click"],[1,"fa","fa-bars","bg-green-dark","color-white"],[1,"color-black","font-400"],[1,"content",2,"position","fixed","top","140px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"content",2,"position","fixed","top","180px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"fa-regular","fa-file-lines","font-22",2,"color","#ffffff"],[1,"fa-solid","fa-print","font-22",2,"color","#ffffff"]],template:function(Z,p){1&Z&&(t.F$t(h),t.TgZ(0,"div",0),t.YNc(1,I,2,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,F,3,1,"div",6),t.Hsn(7),t.YNc(8,N,1,0,"hr",7),t.TgZ(9,"div",8,9)(11,"p",10),t._UZ(12,"app-progress-spinner",11),t.Hsn(13,1),t.qZA()(),t.YNc(14,C,4,0,"div",6),t.qZA()()()()(),t.YNc(15,M,7,3,"div",12),t.YNc(16,e,7,3,"div",13),t.YNc(17,v,7,3,"div",14),t.TgZ(18,"div",15)(19,"div",16)(20,"p",17),t._uU(21,"\u0645\u0646\u0648"),t.qZA(),t.YNc(22,w,2,1,"h1",7),t.TgZ(23,"a",18),t.NdJ("click",function(){return p.actionViewMenuMain(!1)}),t._UZ(24,"i",19),t.qZA()(),t._UZ(25,"div",20),t.TgZ(26,"div",21),t.Hsn(27,2),t.YNc(28,D,7,3,"div",22),t.TgZ(29,"div",23)(30,"a",24),t.NdJ("click",function(){return p.onActionbuttonExport()}),t._UZ(31,"i",25)(32,"br"),t.qZA(),t.TgZ(33,"p",26),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",15)(37,"div",16)(38,"p",17),t._uU(39,"\u0645\u0646\u0648 \u0631\u062f\u06cc\u0641 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc"),t.qZA(),t.YNc(40,g,2,1,"h1",7),t.TgZ(41,"a",18),t.NdJ("click",function(){return p.actionViewMenuItemRow(!1)}),t._UZ(42,"i",19),t.qZA()(),t._UZ(43,"div",20),t.TgZ(44,"div",21),t.YNc(45,O,7,3,"div",22),t.YNc(46,i,7,3,"div",22),t.Hsn(47,3),t.qZA()()),2&Z&&(t.xp6(1),t.Q6J("ngIf",p.optionTreeDisplay),t.xp6(1),t.Q6J("ngClass",p.optionTreeDisplay&&!p.tokenHelper.isMobile?"col-xl-9":"col-xl-12"),t.xp6(4),t.Q6J("ngIf",p.optionHeaderDisplay),t.xp6(2),t.Q6J("ngIf",p.optionHeaderDisplay||p.optionActionDisplay),t.xp6(1),t.Q6J("ngClass",p.optionClassBody),t.xp6(3),t.Q6J("options",p.loading),t.xp6(2),t.Q6J("ngIf",p.optionFooterDisplay&&!(null!=p.loading&&p.loading.display)),t.xp6(1),t.Q6J("ngIf",p.optionTreeDisplay&&p.tokenHelper.isMobile),t.xp6(1),t.Q6J("ngIf",p.optionActionDisplay),t.xp6(1),t.Q6J("ngIf",p.optionActionRowDisplay),t.xp6(1),t.Q6J("ngClass",p.viewMenuMain?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==p.optionTitle?null:p.optionTitle.length)>0),t.xp6(6),t.Q6J("ngIf",p.optionOnActionbuttonMemo),t.xp6(6),t.Oqu(t.lcZ(35,18,"ACTION.EXPORTFILE")),t.xp6(2),t.Q6J("ngClass",p.viewMenuItemRow?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==p.optionSelectRowItemTitle?null:p.optionSelectRowItemTitle.length)>0),t.xp6(5),t.Q6J("ngIf",p.optionOnActionbuttonPrintRow),t.xp6(1),t.Q6J("ngIf",p.optionOnActionbuttonMemoRow))},dependencies:[S.mk,S.O5,b.O,T.X$],encapsulation:2})}return c})()},3014:(J,R,d)=>{d.d(R,{y:()=>D});var t=d(4537),x=d(4511),E=d(8918),S=d(6707),b=d(2607),T=d(8692),I=d(92),L=d(8077),F=d(4580);function N(g,O){if(1&g){const i=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){t.CHM(i);const f=t.oxw(2);return t.KtG(f.onActionCopied())}),t.ALo(1,"json"),t._UZ(2,"i",8),t.TgZ(3,"span",9),t._uU(4,"Copied!"),t.qZA()()}if(2&g){const i=t.oxw(2);t.Q6J("cdkCopyToClipboard",t.lcZ(1,2,i.filters)),t.xp6(3),t.Q6J("ngClass",i.showLabel?"submited":"")}}function C(g,O){if(1&g){const i=t.EpF();t.TgZ(0,"a",10),t.NdJ("click",function(){t.CHM(i);const f=t.oxw(2);return t.KtG(f.onActionSaveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.SAVE")))}function M(g,O){if(1&g){const i=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(i);const f=t.oxw(2);return t.KtG(f.onActionLoadRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.LOAD")))}function e(g,O){if(1&g){const i=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(i);const f=t.oxw(2);return t.KtG(f.onActionRemoveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&g&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.REMOVE")))}function v(g,O){if(1&g){const i=t.EpF();t.TgZ(0,"div",1)(1,"ngx-ntk-query-builder",2),t.NdJ("ngModelChange",function(f){t.CHM(i);const y=t.oxw();return t.KtG(y.query=f)}),t.qZA(),t.Hsn(2),t.YNc(3,N,5,4,"a",3),t.YNc(4,C,3,3,"a",4),t.YNc(5,M,3,3,"a",5),t.YNc(6,e,3,3,"a",5),t.TgZ(7,"a",6),t.NdJ("click",function(){t.CHM(i);const f=t.oxw();return t.KtG(f.onSubmit())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&g){const i=t.oxw();t.xp6(1),t.Q6J("ngModel",i.query)("fieldMap",i.fieldMap)("language",i.lang),t.xp6(2),t.Q6J("ngIf",i.submited),t.xp6(1),t.Q6J("ngIf",i.allowSaveSearch),t.xp6(1),t.Q6J("ngIf",i.allowLoadSearch),t.xp6(1),t.Q6J("ngIf",i.allowLoadSearch),t.xp6(2),t.Oqu(t.lcZ(9,8,"ACTION.SEARCH"))}}const w=["*"];let D=(()=>{class g{translate;cmsToastrService;static nextId=0;id=++g.nextId;optionsData=new E.dj;optionsChange=new t.vpe;set options(i){i||(i=new E.dj),this.optionsData=i,this.optionsData.childMethods={setAccess:h=>this.setAccess(h)},this.optionsChange.emit(i),this.checkLoadSearch(!1)}get options(){return this.optionsData}allowLoadSearch=!1;allowSaveSearch=!1;submited=!1;showLabel=!1;filters;lang;model;query;fieldMap={};constructor(i,h){this.translate=i,this.cmsToastrService=h,this.lang=this.translate.currentLang}ngOnInit(){this.submited=!1}setAccess(i){this.optionsData.data.access=i,(!this.filters||0===this.filters.length)&&this.setFields(),this.checkLoadSearch(!1),this.checkLoadDefaultQuery()}setFields(){this.optionsData&&this.optionsData.data.access&&this.optionsData.data.access.fieldsInfo&&this.optionsData.data.access.fieldsInfo.forEach(i=>{i.accessSearchField&&("System.Int32"===i.fieldTypeString||"System.Int64"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"integer"}:"System.String"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"string"}:"MongoDB.Bson.ObjectId"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldName,type:"string"}:"System.Boolean"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"select",options:[{name:"\u0628\u0644\u0647",value:!0},{name:"\u062e\u06cc\u0631",value:!1}]}:i.fieldTypeString.indexOf(".RecordStatusEnum")>0?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"select",options:[{name:"Available",value:1},{name:"Disable",value:2},{name:"Deleted",value:3},{name:"Pending",value:4},{name:"DeniedConfirmed",value:5},{name:"Archive",value:6}]}:"System.DateTime"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"date",settings:{}}:"link"===i.fieldTypeString&&(this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"string"}))})}getRules(){this.filters=new Array;let i=x.ppe.And;!this.query||!this.query.condition||("or"===this.query.condition&&(i=x.ppe.Or),this.query.rules.forEach(h=>{const f=h,y=h;if(f&&f.condition&&f.rules&&f.rules.length>0){const c=new x.AO3;c.filters=this.getRulesSetChild(f),c.clauseType=i,this.filters.push(c)}else if(y){const c=this.getRulesChild(y);c.clauseType=i,this.filters.push(c)}}))}getRulesChild(i){const h=this.getSearchType(i.operator),f=new x.AO3;return f.propertyName=i.field,f.value=i.value,f.searchType=h,f}getRulesSetChild(i){const h=new Array;let f=x.ppe.And;return"or"===i.condition&&(f=x.ppe.Or),i.rules.forEach(y=>{const c=y,A=y;if(c&&c.condition&&c.rules&&c.rules.length>0){const u=new x.AO3;u.filters=this.getRulesSetChild(c),u.clauseType=f,h.push(u)}else if(A){const u=this.getRulesChild(A);u.clauseType=f,h.push(u)}}),h}onSubmit(){this.submited=!0,this.allowSaveSearch=!0,this.getRules(),this.optionsData.parentMethods&&this.optionsData.parentMethods.onSubmit(this.filters)}onActionCopied(){this.showLabel=!this.showLabel,setTimeout(()=>{this.showLabel=!1},3e3),this.cmsToastrService.typeSuccessCopedToClipboard()}onActionLoadRules(){this.checkLoadSearch(!0)}onActionRemoveRules(){localStorage.removeItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName),this.allowLoadSearch=!1}onActionSaveRules(){localStorage.setItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName,JSON.stringify(this.query))}onSetRules(){}getSearchType(i){switch(i){case"equal":return 0;case"not_equal":return 1;case"less":return 2;case"greater":return 3;case"between":return 4;case"contains":return 5;case"not_contains":return 6;case"begins_with":return 7;case"ends_with":return 8;case"less_or_equal":return 9;case"greater_or_equal":return 10}return 0}checkLoadSearch(i){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.access){const h=localStorage.getItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName);if(h)try{return i&&(this.query=JSON.parse(h),this.getRules()),this.allowLoadSearch=!0,this.allowSaveSearch=!0,!0}catch{this.allowLoadSearch=!1}}return!1}checkLoadDefaultQuery(){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.defaultQuery){const i=this.optionsData.data.defaultQuery;if(i)try{return this.query=JSON.parse(i),this.getRules(),setTimeout(()=>{this.onSubmit()},1e3),this.optionsData.data.defaultQuery="",!0}catch{}}return!1}static \u0275fac=function(h){return new(h||g)(t.Y36(S.sK),t.Y36(b.e))};static \u0275cmp=t.Xpm({type:g,selectors:[["app-cms-search-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},ngContentSelectors:w,decls:1,vars:1,consts:[["class","alert alert-primary",4,"ngIf"],[1,"alert","alert-primary"],[3,"ngModel","fieldMap","language","ngModelChange"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","float: left;",3,"cdkCopyToClipboard","click",4,"ngIf"],["href","javascript:void(0)","style","float: left;","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"click",4,"ngIf"],["href","javascript:void(0)","style","float: left;","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"cdkCopyToClipboard","click"],[1,"flaticon2-copy"],["id","myPopup",1,"popuptext",3,"ngClass"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"float","left",3,"click"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"click"]],template:function(h,f){1&h&&(t.F$t(),t.YNc(0,v,10,10,"div",0)),2&h&&t.Q6J("ngIf",f.optionsData.data.show)},dependencies:[T.mk,T.O5,I.JJ,I.On,L.YH,F.i3,T.Ts,S.X$],encapsulation:2})}return g})()},626:(J,R,d)=>{d.d(R,{q:()=>C});var t=d(4537),x=d(7147),E=d(8692),S=d(1379),b=d(3331),T=d(814),I=d(6438),L=d(6707);function F(M,e){if(1&M&&(t.TgZ(0,"mat-list-item",4)(1,"mat-icon",5),t._uU(2,"insights"),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA()()),2&M){const v=e.$implicit;t.xp6(4),t.Oqu(v.key),t.xp6(2),t.hij(" ",v.value," ")}}function N(M,e){if(1&M&&(t.TgZ(0,"div",1)(1,"mat-list")(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,F,7,2,"mat-list-item",3),t.ALo(6,"keyvalue"),t._UZ(7,"mat-divider"),t.qZA()()),2&M){const v=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"ACTION.STATIST")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,4,v.modelData))}}let C=(()=>{class M{static nextId=0;id=++M.nextId;constructor(){}optionsData=new x.TV;optionsChange=new t.vpe;set options(v){v||(v=new x.TV),this.optionsData=v,this.optionsData.childMethods={setStatistValue:w=>this.setStatistValue(w)},this.optionsChange.emit(v)}get options(){return this.optionsData}modelData=new Map;ngOnInit(){}setStatistValue(v){this.modelData=v}static \u0275fac=function(w){return new(w||M)};static \u0275cmp=t.Xpm({type:M,selectors:[["app-cms-statist-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},decls:1,vars:1,consts:[["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"],[2,"font-size","30px"],["style","height: auto;",4,"ngFor","ngForOf"],[2,"height","auto"],["mat-list-icon",""],["mat-line",""]],template:function(w,D){1&w&&t.YNc(0,N,8,6,"div",0),2&w&&t.Q6J("ngIf",D.optionsData.data.show)},dependencies:[E.sg,E.O5,S.X2,b.Hw,T.i$,T.Tg,I.d,E.Nd,L.X$],encapsulation:2})}return M})()}}]);