import{a as vt}from"./chunk-3JGX6DNS.js";import{a as It}from"./chunk-PVEUCOX5.js";import{a as yt}from"./chunk-BRMVS3UD.js";import{b as Mt}from"./chunk-DO2N37AD.js";import{a as Se}from"./chunk-NR33HZCH.js";import{$ as pe,$b as Ye,Ab as P,Bd as Ct,Cb as Z,Id as _t,Jc as ut,K as de,L as me,N as Be,O as ke,Oa as ue,Od as St,Pa as fe,Qa as Pe,Sc as G,Wa as Ge,Za as K,Zc as ft,_c as ht,ac as Ze,bc as $e,cc as et,dc as tt,ec as it,jd as _e,lc as nt,mc as ot,nc as rt,o as oe,oc as at,p as re,pa as U,pc as lt,pd as gt,qa as Q,qc as st,rc as ct,s as q,sb as Ce,sc as dt,t as ae,tb as Qe,tc as mt,ub as Ke,uc as pt,v as le,va as Oe,vb as J,x as z,xb as Je,y as se,z as ce,zb as Xe}from"./chunk-SBJL5AHS.js";import{a as Y}from"./chunk-LB2GNHBM.js";import{Bd as X,Db as te,Dc as De,Eb as ie,Fb as ne,Fd as Ne,Ia as F,Ib as V,Ic as Le,Kb as d,Kd as He,La as r,Lb as M,Lc as Ve,Ld as je,Ma as I,Mb as S,Nb as xe,Od as qe,Pd as ze,Qb as b,Qd as he,Rb as w,Sb as E,Vb as Te,Vd as ge,Wb as Re,Xd as O,Yb as C,Za as N,Zb as _,Zd as Ue,ab as y,cb as p,da as $,eb as we,gc as H,hd as Fe,ja as W,ka as ee,kd as Ie,lb as l,mb as a,nb as v,ob as T,pb as R,qb as Ee,ra as f,rb as A,sa as h,tf as k,ub as x,wb as u,xc as Ae,zb as D,zc as j,zd as We}from"./chunk-XKQYEJGP.js";var Nt=["vform"];function Ht(t,c){if(t&1){let n=A();l(0,"app-cms-enum-record-status-selector",31),E("modelChange",function(i){f(n);let e=u();return w(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),a()}if(t&2){let n=u();b("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function jt(t,c){if(t&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2){let n=u();r(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),M(_(4,2,"MESSAGE.required"))}}function qt(t,c){t&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function zt(t,c){if(t&1){let n=A();l(0,"div",32)(1,"div",33)(2,"h5",34),d(3),a()(),l(4,"div",35)(5,"div",36)(6,"input",37),E("ngModelChange",function(i){f(n);let e=u();return w(e.dataModel.isDefault,i)||(e.dataModel.isDefault=i),h(i)}),a(),v(7,"label",38),a()()()}if(t&2){let n=u();r(3),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle,""),r(3),b("ngModel",n.dataModel.isDefault)}}function Ut(t,c){t&1&&(l(0,"mat-error"),d(1," Symbol is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function Qt(t,c){t&1&&(l(0,"mat-error"),d(1," ExchangeBuyRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function Kt(t,c){t&1&&(l(0,"mat-error"),d(1," ExchangeSaleRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function Jt(t,c){if(t&1&&(v(0,"img",39),C(1,"cmsthumbnail")),t&2){let n=u();D("src",_(1,1,n.dataModel.linkMainImageIdSrc),F)}}function Xt(t,c){if(t&1){let n=A();l(0,"div",13)(1,"label",40),x("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),d(2),C(3,"translate"),a(),l(4,"input",41,6),C(6,"translate"),E("ngModelChange",function(i){f(n);let e=u();return w(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),h(i)}),x("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),a(),l(7,"cms-file-manager",42),x("itemSelected",function(i){f(n);let e=u();return h(e.onActionFileSelected(i))}),E("openFormChange",function(i){f(n);let e=u();return w(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),h(i)}),a()()}if(t&2){let n=u();r(2),M(_(3,11,"TITLE.Icon_File")),r(2),D("placeholder",_(6,13,"TITLE.Original_File_ID")),b("ngModel",n.dataModel.linkMainImageId),r(3),p("language",n.appLanguage)("isPopup",!0),b("openForm",n.fileManagerOpenForm),p("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Yt(t,c){if(t&1){let n=A();l(0,"div",43)(1,"button",44),x("click",function(){f(n);let i=u();return h(i.onFormCancel())}),v(2,"i",45),d(3),C(4,"translate"),a(),l(5,"button",46),v(6,"i",47),d(7),C(8,"translate"),a()()}if(t&2){u();let n=V(9);r(3),S(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Lt=(()=>{let c=class c extends yt{constructor(o,i,e,m,g,s,L,B){super(m,new k,s,B),this.data=o,this.dialogRef=i,this.coreEnumService=e,this.coreCurrencyService=m,this.cmsToastrService=g,this.publicHelper=s,this.cdr=L,this.translate=B,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new je,this.dataModel=new k,this.formInfo=new he,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(o=>{this.formInfo.formTitle=o}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let o=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(o,i,this.constructor.name)}),this.coreCurrencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(o)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(o,!1)}})}onActionFileSelected(o){this.dataModel.linkMainImageId=o.id,this.dataModel.linkMainImageIdSrc=o.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};c.\u0275fac=function(i){return new(i||c)(I(fe),I(ue),I(ge),I(O),I(J),I(P),I(H),I(U))},c.\u0275cmp=W({type:c,selectors:[["app-core-currency-add"]],viewQuery:function(i,e){if(i&1&&te(Nt,5),i&2){let m;ie(m=ne())&&(e.formGroup=m.first)}},features:[N],decls:54,vars:38,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=A();l(0,"div",7),v(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),d(4),a(),l(5,"p"),d(6),C(7,"translate"),a(),l(8,"form",11,0),x("ngSubmit",function(){return f(m),h(e.onFormSubmit())}),y(10,Ht,1,5,"app-cms-enum-record-status-selector",12),l(11,"div",13)(12,"label",14),d(13),a(),l(14,"input",15,1),E("ngModelChange",function(s){return f(m),w(e.dataModel.title,s)||(e.dataModel.title=s),h(s)}),a(),l(16,"em"),d(17),a(),y(18,jt,5,4,"mat-error",16),a(),l(19,"div",13)(20,"label",17),d(21),a(),l(22,"input",18,2),E("ngModelChange",function(s){return f(m),w(e.dataModel.title,s)||(e.dataModel.title=s),h(s)}),a(),l(24,"em"),d(25),a(),y(26,qt,5,3,"mat-error",16),a(),y(27,zt,8,2,"div",19),l(28,"div",13)(29,"label",20),d(30),a(),l(31,"input",21,3),E("ngModelChange",function(s){return f(m),w(e.dataModel.symbol,s)||(e.dataModel.symbol=s),h(s)}),a(),l(33,"em"),d(34),a(),y(35,Ut,5,3,"mat-error",16),a(),l(36,"div",13)(37,"label",22),d(38),a(),l(39,"input",23,4),E("ngModelChange",function(s){return f(m),w(e.dataModel.exchangeBuyRatio,s)||(e.dataModel.exchangeBuyRatio=s),h(s)}),a(),y(41,Qt,5,3,"mat-error",16),a(),l(42,"div",13)(43,"label",24),d(44),a(),l(45,"input",25,5),E("ngModelChange",function(s){return f(m),w(e.dataModel.exchangeSaleRatio,s)||(e.dataModel.exchangeSaleRatio=s),h(s)}),a(),y(47,Kt,5,3,"mat-error",16),a(),l(48,"div",26)(49,"a",27),C(50,"cmsthumbnail"),y(51,Jt,2,3,"img",28),a()(),y(52,Xt,8,15,"div",29)(53,Yt,9,7,"div",30),a()()()}if(i&2){let m=V(15),g=V(23),s=V(32),L=V(40),B=V(46);r(),p("optionsInfoAreaId",e.constructor.name),r(3),S(" ",e.formInfo.formTitle," "),r(2),S(" ",_(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),b("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),r(3),S("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),M(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),D("placeholder",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),b("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),S("",g.value.length," / 100"),r(),p("ngIf",g.errors==null?null:g.errors.required),r(),p("ngIf",e.fieldsInfo.isDefault==null?null:e.fieldsInfo.isDefault.accessWatchField),r(3),M(e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),r(),D("placeholder",e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),b("ngModel",e.dataModel.symbol),r(3),S("",s.value.length," / 20"),r(),p("ngIf",s.errors==null?null:s.errors.required),r(3),M(e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),r(),D("placeholder",e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),b("ngModel",e.dataModel.exchangeBuyRatio),r(2),p("ngIf",L.errors==null?null:L.errors.required),r(3),M(e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),r(),D("placeholder",e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),b("ngModel",e.dataModel.exchangeSaleRatio),r(2),p("ngIf",B.errors==null?null:B.errors.required),r(2),D("href",_(50,36,e.dataModel.linkMainImageIdSrc),F),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[j,se,re,ce,oe,q,ae,de,me,z,le,pe,K,_e,Z,Ce,Q,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=c;return t})();var Zt=["vform"];function $t(t,c){if(t&1){let n=A();l(0,"app-cms-enum-record-status-selector",28),E("modelChange",function(i){f(n);let e=u();return w(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),a()}if(t&2){let n=u();b("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ei(t,c){if(t&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2){let n=u();r(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),M(_(4,2,"MESSAGE.required"))}}function ti(t,c){if(t&1){let n=A();l(0,"div",29)(1,"div",30)(2,"h5",31),d(3),a()(),l(4,"div",32)(5,"div",33)(6,"input",34),E("ngModelChange",function(i){f(n);let e=u();return w(e.dataModel.isDefault,i)||(e.dataModel.isDefault=i),h(i)}),a(),v(7,"label",35),a()()()}if(t&2){let n=u();r(3),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle,""),r(3),b("ngModel",n.dataModel.isDefault)}}function ii(t,c){t&1&&(l(0,"mat-error"),d(1," Symbol is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function ni(t,c){t&1&&(l(0,"mat-error"),d(1," ExchangeBuyRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function oi(t,c){t&1&&(l(0,"mat-error"),d(1," ExchangeSaleRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(r(3),M(_(4,1,"MESSAGE.required")))}function ri(t,c){if(t&1&&(v(0,"img",36),C(1,"cmsthumbnail")),t&2){let n=u();D("src",_(1,1,n.dataModel.linkMainImageIdSrc),F)}}function ai(t,c){if(t&1){let n=A();l(0,"div",12)(1,"label",37),x("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),d(2),C(3,"translate"),a(),l(4,"input",38,5),C(6,"translate"),E("ngModelChange",function(i){f(n);let e=u();return w(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),h(i)}),x("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),a(),l(7,"cms-file-manager",39),x("itemSelected",function(i){f(n);let e=u();return h(e.onActionFileSelected(i))}),E("openFormChange",function(i){f(n);let e=u();return w(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),h(i)}),a()()}if(t&2){let n=u();r(2),M(_(3,11,"TITLE.Icon_File")),r(2),D("placeholder",_(6,13,"TITLE.Original_File_ID")),b("ngModel",n.dataModel.linkMainImageId),r(3),p("language",n.appLanguage)("isPopup",!0),b("openForm",n.fileManagerOpenForm),p("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function li(t,c){if(t&1){let n=A();l(0,"div",40)(1,"button",41),x("click",function(){f(n);let i=u();return h(i.onFormCancel())}),v(2,"i",42),d(3),C(4,"translate"),a(),l(5,"button",43),v(6,"i",44),d(7),C(8,"translate"),a()()}if(t&2){u();let n=V(9);r(3),S(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!n.form.valid),r(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Vt=(()=>{let c=class c extends It{constructor(o,i,e,m,g,s,L,B){super(m,new k,s,B),this.data=o,this.dialogRef=i,this.coreEnumService=e,this.coreCurrencyService=m,this.cmsToastrService=g,this.publicHelper=s,this.cdr=L,this.translate=B,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new He,this.dataModel=new k,this.formInfo=new he,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,o&&(this.requestId=+o.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(o=>{this.formInfo.formTitle=o}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let o=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(o,i,this.constructor.name)}),this.coreCurrencyService.setAccessLoad(),this.coreCurrencyService.setAccessDataType(Ne.Editor),this.coreCurrencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(o)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(o,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let o=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(o,i,this.constructor.name)}),this.coreCurrencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(o)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(o,!1)}})}onActionFileSelected(o){this.dataModel.linkMainImageId=o.id,this.dataModel.linkMainImageIdSrc=o.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};c.\u0275fac=function(i){return new(i||c)(I(fe),I(ue),I(ge),I(O),I(J),I(P),I(H),I(U))},c.\u0275cmp=W({type:c,selectors:[["app-core-currency-edit"]],viewQuery:function(i,e){if(i&1&&te(Zt,5),i&2){let m;ie(m=ne())&&(e.formGroup=m.first)}},features:[N],decls:46,vars:32,consts:[["vform","ngForm"],["Title",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=A();l(0,"div",6),v(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),d(4),a(),l(5,"p"),d(6),C(7,"translate"),a(),l(8,"form",10,0),x("ngSubmit",function(){return f(m),h(e.onFormSubmit())}),y(10,$t,1,5,"app-cms-enum-record-status-selector",11),l(11,"div",12)(12,"label",13),d(13),a(),l(14,"input",14,1),E("ngModelChange",function(s){return f(m),w(e.dataModel.title,s)||(e.dataModel.title=s),h(s)}),a(),l(16,"em"),d(17),a(),y(18,ei,5,4,"mat-error",15),a(),y(19,ti,8,2,"div",16),l(20,"div",12)(21,"label",17),d(22),a(),l(23,"input",18,2),E("ngModelChange",function(s){return f(m),w(e.dataModel.symbol,s)||(e.dataModel.symbol=s),h(s)}),a(),l(25,"em"),d(26),a(),y(27,ii,5,3,"mat-error",15),a(),l(28,"div",12)(29,"label",19),d(30),a(),l(31,"input",20,3),E("ngModelChange",function(s){return f(m),w(e.dataModel.exchangeBuyRatio,s)||(e.dataModel.exchangeBuyRatio=s),h(s)}),a(),y(33,ni,5,3,"mat-error",15),a(),l(34,"div",12)(35,"label",21),d(36),a(),l(37,"input",22,4),E("ngModelChange",function(s){return f(m),w(e.dataModel.exchangeSaleRatio,s)||(e.dataModel.exchangeSaleRatio=s),h(s)}),a(),y(39,oi,5,3,"mat-error",15),a(),l(40,"div",23)(41,"a",24),C(42,"cmsthumbnail"),y(43,ri,2,3,"img",25),a()(),y(44,ai,8,15,"div",26)(45,li,9,7,"div",27),a()()()}if(i&2){let m=V(15),g=V(24),s=V(32),L=V(38);r(),p("optionsInfoAreaId",e.constructor.name),r(3),S(" ",e.formInfo.formTitle," "),r(2),S(" ",_(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),M(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),b("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),r(3),S("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.isDefault==null?null:e.fieldsInfo.isDefault.accessWatchField),r(3),M(e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),r(),D("placeholder",e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),b("ngModel",e.dataModel.symbol),r(3),S("",g.value.length," / 20"),r(),p("ngIf",g.errors==null?null:g.errors.required),r(3),M(e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),r(),D("placeholder",e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),b("ngModel",e.dataModel.exchangeBuyRatio),r(2),p("ngIf",s.errors==null?null:s.errors.required),r(3),M(e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),r(),D("placeholder",e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),b("ngModel",e.dataModel.exchangeSaleRatio),r(2),p("ngIf",L.errors==null?null:L.errors.required),r(2),D("href",_(42,30,e.dataModel.linkMainImageIdSrc),F),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[j,se,re,ce,oe,q,ae,de,me,z,le,pe,K,_e,Z,Ce,Q,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=c;return t})();var si=()=>[5,10,20,100],ci=t=>({display:t});function di(t,c){if(t&1){let n=A();l(0,"div",44)(1,"a",45),x("click",function(){f(n);let i=u();return h(i.onActionButtonNewRow())}),v(2,"i",46)(3,"br"),a(),l(4,"p",47),d(5),C(6,"translate"),a()()}t&2&&(r(5),M(_(6,1,"ACTION.ADD")))}function mi(t,c){if(t&1){let n=A();l(0,"div",44)(1,"a",48),x("click",function(){f(n);let i=u();return h(i.onActionButtonEditRow(i.tableRowSelected))}),v(2,"i",49)(3,"br"),a(),l(4,"p",47),d(5),C(6,"translate"),a()()}t&2&&(r(5),M(_(6,1,"ACTION.EDIT")))}function pi(t,c){if(t&1){let n=A();l(0,"div",44)(1,"a",50),x("click",function(){f(n);let i=u();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),v(2,"i",51)(3,"br"),a(),l(4,"p",47),d(5),C(6,"translate"),a()()}t&2&&(r(5),M(_(6,1,"ACTION.DELETE")))}function ui(t,c){if(t&1){let n=A();l(0,"div",44)(1,"a",52),x("click",function(){f(n);let i=u();return h(i.onActionButtonLog(i.tableRowSelected))}),v(2,"i",53)(3,"br"),a(),l(4,"p",47),d(5),C(6,"translate"),a()()}t&2&&(r(5),M(_(6,1,"ACTION.LOG")))}function fi(t,c){t&1&&(l(0,"mat-header-cell",54),d(1),C(2,"translate"),a()),t&2&&(r(),S(" ",_(2,1,"TITLE.PICTURE")," "))}function hi(t,c){if(t&1&&(v(0,"img",56),C(1,"cmsthumbnail")),t&2){let n=u().$implicit;D("src",_(1,1,n.linkMainImageIdSrc),F)}}function gi(t,c){if(t&1&&(l(0,"mat-cell"),y(1,hi,2,3,"img",55),a()),t&2){let n=c.$implicit;r(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function Ci(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function _i(t,c){if(t&1&&(l(0,"mat-cell"),d(1),a()),t&2){let n=c.$implicit;r(),S(" ",n.id," ")}}function Si(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function yi(t,c){if(t&1&&v(0,"select",59),t&2){let n=u().$implicit,o=u();p("contentService",o.contentService)("row",n)("ngStyle",Re(3,ci,n.id===(o.tableRowSelected==null?null:o.tableRowSelected.id)?"":"none"))}}function Ii(t,c){if(t&1&&(l(0,"mat-cell",57),C(1,"statusCellClass"),v(2,"i",57),C(3,"statusIconClass"),y(4,yi,1,5,"select",58),a()),t&2){let n=c.$implicit,o=u();p("ngClass",_(1,3,n.recordStatus)),r(2),p("ngClass",_(3,5,n.recordStatus)),r(2),p("ngIf",o.dataModelResult==null||o.dataModelResult.access==null?null:o.dataModelResult.access.accessEditRow)}}function Mi(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function vi(t,c){if(t&1&&(l(0,"mat-cell"),d(1),a()),t&2){let n=c.$implicit;r(),S(" ",n.title," ")}}function bi(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function wi(t,c){if(t&1&&(l(0,"mat-cell",60),d(1),a()),t&2){let n=c.$implicit;r(),S(" ",n.titleML," ")}}function Ei(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.symbol==null?null:n.fieldsInfo.symbol.fieldTitle," ")}}function xi(t,c){if(t&1&&(l(0,"mat-cell",60),d(1),a()),t&2){let n=c.$implicit;r(),xe(" ",n.symbol," / ",n.masterCurrency," ")}}function Ti(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle," ")}}function Ri(t,c){if(t&1&&(l(0,"mat-cell"),v(1,"i",57),C(2,"boolclass"),a()),t&2){let n=c.$implicit;r(),p("ngClass",_(2,1,n.isDefault))}}function Ai(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.exchangeBuyRatio==null?null:n.fieldsInfo.exchangeBuyRatio.fieldTitle," ")}}function Di(t,c){if(t&1&&(l(0,"mat-cell",60),d(1),C(2,"number"),a()),t&2){let n=c.$implicit;r(),S(" ",_(2,1,n.exchangeBuyRatio)," ")}}function Li(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.exchangeSaleRatio==null?null:n.fieldsInfo.exchangeSaleRatio.fieldTitle," ")}}function Vi(t,c){if(t&1&&(l(0,"mat-cell",60),d(1),C(2,"number"),a()),t&2){let n=c.$implicit;r(),S(" ",_(2,1,n.exchangeSaleRatio)," ")}}function Bi(t,c){if(t&1&&(l(0,"mat-header-cell",54),d(1),a()),t&2){let n=u();r(),S(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function ki(t,c){if(t&1&&(l(0,"mat-cell"),d(1),a()),t&2){let n=c.$implicit,o=u();r(),S(" ",o.publicHelper.LocaleDate(n.updatedDate)," ")}}function Fi(t,c){t&1&&(l(0,"mat-header-cell"),d(1),C(2,"translate"),a()),t&2&&(r(),S(" ",_(2,1,"TITLE.OPTION")," "))}function Oi(t,c){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),d(3,"more_vert"),a()(),v(4,"mat-menu",null,2),a()),t&2){let n=V(5);r(),p("matMenuTriggerFor",n)}}function Pi(t,c){t&1&&v(0,"mat-header-row")}function Gi(t,c){if(t&1){let n=A();l(0,"mat-row",63),x("click",function(){let i=f(n).$implicit,e=u();return h(e.onActionTableRowSelect(i))}),a()}if(t&2){let n=c.$implicit,o=c.dataIndex,i=u();we("ntk-row-odd",o%2)("ntk-row-even",!(o%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bt=(()=>{let c=class c extends vt{constructor(o,i,e,m,g,s,L,B,be,Ft){super(o,new k,be,g,L),this.contentService=o,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.router=m,this.tokenHelper=g,this.cdr=s,this.translate=L,this.pageInfo=B,this.publicHelper=be,this.dialog=Ft,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ze,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ot=>this.onSubmitOptionsSearch(Ot)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(o=>{this.tokenInfo=o,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:o=>{this.tokenInfo=o,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new k);let o=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(o,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(o)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(o,!1)}})}onTableSortData(o){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===o.active?this.tableSource.sort.start==="asc"?(o.start="desc",this.filteModelContent.sortColumn=o.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(o.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):o.start="desc":(this.filteModelContent.sortColumn=o.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=o,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(o){this.filteModelContent.currentPageNumber=o.pageIndex+1,this.filteModelContent.rowPerPage=o.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var o="";this.tokenHelper.isMobile?o="dialog-fullscreen":o="dialog-min",this.dialog.open(Lt,{height:"90%",panelClass:o,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(o=this.tableRowSelected){if(!o||!o.id||o.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(o),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vt,{height:"90%",panelClass:i,enterAnimationDuration:Y.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Y.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonLog(o=this.tableRowSelected){if(!o||!o.id||o.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(o),this.router.navigate(["/corelog/currency/",o.id])}onActionButtonDeleteRow(o=this.tableRowSelected){if(!o||!o.id||o.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(o),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let g=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(g,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(g)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(g,!1)}})}}).catch(()=>{})}onActionButtonUserList(o=this.tableRowSelected){if(!o||!o.id||o.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(o),this.router.navigate(["/core/site/userlist/LinkCurrencyId/",this.tableRowSelected.id])}onActionButtonStatist(o=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=o,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(e,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),g=new qe;g.propertyName="RecordStatus",g.value=We.Available,m.filters.push(g),this.contentService.ServiceGetCount(m).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(e)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(o){this.filteModelContent.filters=o,this.DataGetAll()}};c.\u0275fac=function(i){return new(i||c)(I(O),I(J),I(Se),I(Fe),I(Ke),I(H),I(U),I(Xe),I(P),I(Pe))},c.\u0275cmp=W({type:c,selectors:[["app-core-currency-list"]],features:[N],decls:70,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","Symbol"],["matColumnDef","IsDefault"],["matColumnDef","ExchangeBuyRatio"],["matColumnDef","ExchangeSaleRatio"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"grid-row-ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=A();l(0,"app-cms-html-list",3),E("optionActionGuideNoticeDisplayChange",function(s){return f(m),w(e.viewGuideNotice,s)||(e.viewGuideNotice=s),h(s)}),x("optionOnActionButtonMemoRow",function(){return f(m),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),h(e.onActionButtonPrintRow())}),T(1,4),d(2," -------------------------------------- "),R(),Ee(3,5),T(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),E("ngModelChange",function(s){return f(m),w(e.optionsSearch.data.show,s)||(e.optionsSearch.data.show=s),h(s)}),a(),d(9),C(10,"translate"),a(),l(11,"a",9)(12,"mat-slide-toggle",11),x("click",function(){return f(m),h(e.onActionButtonStatist())}),E("ngModelChange",function(s){return f(m),w(e.optionsStatist.data.show,s)||(e.optionsStatist.data.show=s),h(s)}),a(),d(13),C(14,"translate"),a()(),l(15,"div",12)(16,"a",13),x("click",function(){return f(m),h(e.viewGuideNotice=!e.viewGuideNotice)}),v(17,"i",14),a(),l(18,"a",13),x("click",function(){return f(m),h(e.onActionButtonReload())}),v(19,"i",15),a()()(),R(),T(20,16),y(21,di,7,3,"div",17),R(),T(22,18),y(23,mi,7,3,"div",17)(24,pi,7,3,"div",17)(25,ui,7,3,"div",17),R(),T(26,19),l(27,"app-cms-search-list",20),E("optionsChange",function(s){return f(m),w(e.optionsSearch,s)||(e.optionsSearch=s),h(s)}),a(),l(28,"app-cms-statist-list",20),E("optionsChange",function(s){return f(m),w(e.optionsStatist,s)||(e.optionsStatist=s),h(s)}),a(),R(),T(29,21),l(30,"mat-table",22,0),x("matSortChange",function(){f(m);let s=V(31);return h(e.onTableSortData(s))}),T(32,23),y(33,fi,3,3,"mat-header-cell",24)(34,gi,2,1,"mat-cell",25),R(),T(35,26),y(36,Ci,2,1,"mat-header-cell",24)(37,_i,2,1,"mat-cell",25),R(),T(38,27),y(39,Si,2,1,"mat-header-cell",24)(40,Ii,5,7,"mat-cell",28),R(),T(41,29),y(42,Mi,2,1,"mat-header-cell",24)(43,vi,2,1,"mat-cell",25),R(),T(44,30),y(45,bi,2,1,"mat-header-cell",24)(46,wi,2,1,"mat-cell",31),R(),T(47,32),y(48,Ei,2,1,"mat-header-cell",24)(49,xi,2,2,"mat-cell",31),R(),T(50,33),y(51,Ti,2,1,"mat-header-cell",24)(52,Ri,3,3,"mat-cell",25),R(),T(53,34),y(54,Ai,2,1,"mat-header-cell",24)(55,Di,3,3,"mat-cell",31),R(),T(56,35),y(57,Li,2,1,"mat-header-cell",24)(58,Vi,3,3,"mat-cell",31),R(),T(59,36),y(60,Bi,2,1,"mat-header-cell",24)(61,ki,2,1,"mat-cell",25),R(),T(62,37),y(63,Fi,3,3,"mat-header-cell",38)(64,Oi,6,1,"mat-cell",39),R(),y(65,Pi,1,0,"mat-header-row",40)(66,Gi,1,6,"mat-row",41),a(),R(),T(67,42),l(68,"mat-paginator",43,1),x("page",function(s){return f(m),h(e.onTablePageingData(s))}),a(),R(),a()}i&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),b("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),b("ngModel",e.optionsSearch.data.show),r(),S("",_(10,24,"ACTION.SEARCH")," "),r(3),b("ngModel",e.optionsStatist.data.show),r(),S("",_(14,26,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),b("options",e.optionsSearch),r(),b("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(35),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Te(28,si)))},dependencies:[Ae,j,De,q,z,Oe,Ge,K,Ye,Ze,$e,et,tt,it,nt,rt,ct,at,ot,dt,lt,st,mt,pt,Ct,_t,gt,ut,Le,Q,G,ht,ft,Je],encapsulation:2});let t=c;return t})();var Wi=[{path:"",children:[{path:"",component:Bt}]}],kt=(()=>{let c=class c{};c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=ee({type:c}),c.\u0275inj=$({imports:[Ie.forChild(Wi),Ie]});let t=c;return t})();var zn=(()=>{let c=class c{};c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=ee({type:c}),c.\u0275inj=$({providers:[O,Ue,Se],imports:[Ve,Be,kt,ke.withConfig({warnOnNgModelWithFormControl:"never"}),St,Mt,Qe]});let t=c;return t})();export{zn as CoreCurrencyCmsModule};
