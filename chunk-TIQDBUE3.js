import{a as Te}from"./chunk-DLIFWW7F.js";import{a as ye}from"./chunk-XLKSL7FZ.js";import"./chunk-JMKT5UMB.js";import{b as ki}from"./chunk-BOVRFWM3.js";import{a as fe}from"./chunk-OKR24C6C.js";import{$a as Mi,Bd as Ee,Dc as _e,Ed as gt,Kd as Li,L as Lt,La as Z,M as kt,Ma as $,Na as He,O as hi,Oc as at,P as Si,Ta as Pe,Tc as Me,Uc as Ie,Vb as qe,Wa as oe,Wb as We,Xb as Ke,Yb as dt,Zb as Qe,_a as _i,_b as ze,aa as di,ab as Ii,da as Ci,fc as Je,gc as Xe,hc as Ye,ic as Ze,id as be,jc as $e,kc as et,lc as tt,ld as ve,mb as Ai,mc as it,nb as V,nc as ot,oc as nt,p as pt,qd as Ct,s as ut,sa as Ge,sb as Ce,t as De,tb as B,ud as we,v as Ve,vb as Q,x as ft,y as Be,yb as ht,yd as lt,zb as ge}from"./chunk-JRER7UXH.js";import{b as F,c as j,q as N}from"./chunk-B3UQVKBZ.js";import{Cd as St,Db as J,Dc as xe,Dd as ie,Eb as X,Fb as Y,Fc as ct,Hd as K,Ib as te,Id as je,Ig as Ft,Jd as ee,Je as Ue,Jg as jt,Kb as m,Kg as Ut,La as s,Lb as G,Lc as fi,Lg as qt,Ma as p,Mb as C,Mg as Wt,Ng as Kt,Og as Qt,Pg as zt,Qb as L,Qd as q,Qg as Jt,Rb as k,Sb as x,Ud as bi,Vb as Ae,Wb as Le,Yb as M,Za as z,Zb as I,ab as v,bg as vi,cb as f,cg as wi,cq as W,da as li,eb as Re,fd as Ne,gc as H,gd as gi,gg as Ei,hd as Oe,ja as O,ka as ci,kd as ui,kg as yi,lb as a,lg as xt,mb as l,mg as Dt,nb as g,ng as Vt,ob as w,og as Bt,pb as E,qb as le,qg as Nt,ra as h,rb as y,rg as Ti,sa as S,sg as Ot,td as Fe,tg as Gt,ub as b,ug as Ht,vd as U,vg as Pt,wb as _,xc as ke,zb as ri,zc as P,zd as he,zg as Ri}from"./chunk-XTO7HSAJ.js";var xi=(()=>{let r=class r{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog"]],decls:1,vars:0,template:function(i,t){i&1&&g(0,"router-outlet")},dependencies:[gi],encapsulation:2});let o=r;return o})();var lo=["vform"];function co(o,r){if(o&1){let n=y();a(0,"div",18)(1,"button",19),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",20),m(3),M(4,"translate"),l(),a(5,"button",21),g(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Di=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Ft,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Ft,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(he.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Vt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,t){if(i&1&&J(lo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",8,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),M(11,"translate"),g(12,"app-cms-user-selector",9),M(13,"translate"),g(14,"app-cms-member-selector",9),M(15,"translate"),a(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),a(19,"input",12,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),a(24,"input",14,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),a(29,"input",16,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,co,9,6,"div",17),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,ft,Ve,oe,lt,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var mo=["vform"];function po(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Vi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogFavoriteService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Ft,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Vt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(i,t){if(i&1&&J(mo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,po,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var uo=()=>[5,10,20,100],fo=o=>({display:o});function ho(o,r){if(o&1){let n=y();a(0,"a",43),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",44),l()}}function So(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Co(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",49),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function go(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",51),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function _o(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewContent(i.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.CONTENT")))}function Mo(o,r){if(o&1){let n=y();a(0,"div",45)(1,"a",46),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),a(4,"p",48),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function Io(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function bo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function vo(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function wo(o,r){if(o&1&&g(0,"select",58),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,fo,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Eo(o,r){if(o&1&&(a(0,"mat-cell",56),M(1,"statusCellClass"),g(2,"i",56),M(3,"statusIconClass"),v(4,wo,1,5,"select",57),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function yo(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function To(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Ro(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Ao(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Lo(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function ko(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function xo(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function Do(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Vo(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Bo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function No(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Oo(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function Go(o,r){if(o&1&&(a(0,"mat-header-cell",55),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Ho(o,r){if(o&1&&(a(0,"mat-cell",59),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function Po(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Fo(o,r){if(o&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function jo(o,r){o&1&&g(0,"mat-header-row")}function Uo(o,r){if(o&1){let n=y();a(0,"mat-row",62),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Ft,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ft);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Di,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonViewContent(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i="/"+e.moduleName+"/"+e.moduleEntityName.substring(e.moduleName.length)+"/edit/"+e.moduleEntityId;e.moduleEntityName.indexOf(e.moduleName)>=0?this.router.navigate([i.toLowerCase()]):this.router.navigate([i.toLowerCase()])}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Vt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-favorite-list"]],features:[z],decls:64,vars:23,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"justify-content-start"],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5),w(4,6),a(5,"div",7),g(6,"div",8)(7,"div",9),l(),E(),le(8,6),w(9,10),v(10,ho,2,0,"a",11),a(11,"a",12),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(12,"i",13),l(),a(13,"a",12),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(14,"i",14),l(),E(),le(15,15)(16,16),w(17,17),v(18,So,7,3,"div",18)(19,Co,7,3,"div",18)(20,go,7,3,"div",18)(21,_o,7,3,"div",18)(22,Mo,7,3,"div",18),E(),w(23,19),a(24,"app-cms-search-list",20),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(25,"app-cms-statist-list",20),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(26,21),a(27,"mat-table",22,0),b("matSortChange",function(){h(d);let c=te(28);return S(t.onTableSortData(c))}),w(29,23),v(30,Io,2,1,"mat-header-cell",24)(31,bo,2,1,"mat-cell",25),E(),w(32,26),v(33,vo,2,1,"mat-header-cell",24)(34,Eo,5,7,"mat-cell",27),E(),w(35,28),v(36,yo,2,1,"mat-header-cell",24)(37,To,4,5,"mat-cell",25),E(),w(38,29),v(39,Ro,2,1,"mat-header-cell",24)(40,Ao,4,5,"mat-cell",25),E(),w(41,30),v(42,Lo,2,1,"mat-header-cell",24)(43,ko,2,1,"mat-cell",25),E(),w(44,31),v(45,xo,2,1,"mat-header-cell",24)(46,Do,2,1,"mat-cell",25),E(),w(47,32),v(48,Vo,2,1,"mat-header-cell",24)(49,Bo,2,1,"mat-cell",25),E(),w(50,33),v(51,No,2,1,"mat-header-cell",24)(52,Oo,2,1,"mat-cell",25),E(),w(53,34),v(54,Go,2,1,"mat-header-cell",24)(55,Ho,3,3,"mat-cell",35),E(),w(56,36),v(57,Po,3,3,"mat-header-cell",37)(58,Fo,6,1,"mat-cell",38),E(),v(59,jo,1,0,"mat-header-row",39)(60,Uo,1,6,"mat-row",40),l(),E(),w(61,41),a(62,"mat-paginator",42,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(10),f("ngIf",t.requestLinkSiteId>0),s(8),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(22,uo)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var qo=["vform"];function Wo(o,r){if(o&1){let n=y();a(0,"div",18)(1,"button",19),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",20),m(3),M(4,"translate"),l(),a(5,"button",21),g(6,"i",20),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Ni=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new jt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new jt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(he.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Dt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,t){if(i&1&&J(qo,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",8,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),g(10,"app-cms-site-selector",9),M(11,"translate"),g(12,"app-cms-user-selector",9),M(13,"translate"),g(14,"app-cms-member-selector",9),M(15,"translate"),a(16,"div",10)(17,"label",11),m(18,"ModuleName"),l(),a(19,"input",12,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",10)(22,"label",13),m(23,"ModuleEntityName"),l(),a(24,"input",14,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",10)(27,"label",15),m(28,"ModuleEntityId"),l(),a(29,"input",16,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,Wo,9,6,"div",17),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,ft,Ve,oe,lt,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Ko=["vform"];function Qo(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Oi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogLikeService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new jt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Dt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,t){if(i&1&&J(Ko,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),g(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,Qo,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var zo=()=>[5,10,20,100],Jo=o=>({display:o});function Xo(o,r){if(o&1){let n=y();a(0,"a",42),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",43),l()}}function Yo(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Zo(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",48),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function $o(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",50),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function en(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function tn(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function on(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function nn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function rn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function sn(o,r){if(o&1&&g(0,"select",57),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,Jo,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function an(o,r){if(o&1&&(a(0,"mat-cell",55),M(1,"statusCellClass"),g(2,"i",55),M(3,"statusIconClass"),v(4,sn,1,5,"select",56),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ln(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function cn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function dn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function mn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function pn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function un(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function fn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function hn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Sn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Cn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function gn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function _n(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function Mn(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function In(o,r){if(o&1&&(a(0,"mat-cell",58),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function bn(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function vn(o,r){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function wn(o,r){o&1&&g(0,"mat-header-row")}function En(o,r){if(o&1){let n=y();a(0,"mat-row",61),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Gi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new jt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Oi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ni,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Dt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-like-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Xo,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Yo,7,3,"div",17)(23,Zo,7,3,"div",17)(24,$o,7,3,"div",17)(25,en,7,3,"div",17)(26,tn,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,on,2,1,"mat-header-cell",23)(35,nn,2,1,"mat-cell",24),E(),w(36,25),v(37,rn,2,1,"mat-header-cell",23)(38,an,5,7,"mat-cell",26),E(),w(39,27),v(40,ln,2,1,"mat-header-cell",23)(41,cn,4,5,"mat-cell",24),E(),w(42,28),v(43,dn,2,1,"mat-header-cell",23)(44,mn,4,5,"mat-cell",24),E(),w(45,29),v(46,pn,2,1,"mat-header-cell",23)(47,un,2,1,"mat-cell",24),E(),w(48,30),v(49,fn,2,1,"mat-header-cell",23)(50,hn,2,1,"mat-cell",24),E(),w(51,31),v(52,Sn,2,1,"mat-header-cell",23)(53,Cn,2,1,"mat-cell",24),E(),w(54,32),v(55,gn,2,1,"mat-header-cell",23)(56,_n,2,1,"mat-cell",24),E(),w(57,33),v(58,Mn,2,1,"mat-header-cell",23)(59,In,3,3,"mat-cell",34),E(),w(60,35),v(61,bn,3,3,"mat-header-cell",36)(62,vn,6,1,"mat-cell",37),E(),v(63,wn,1,0,"mat-header-row",38)(64,En,1,6,"mat-row",39),l(),E(),w(65,40),a(66,"mat-paginator",41,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,zo)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var yn=["vform"];function Tn(o,r){if(o&1){let n=y();a(0,"div",27)(1,"button",28),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",29),m(3),M(4,"translate"),l(),a(5,"button",30),g(6,"i",29),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Hi=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new qt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(he.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Bt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,t){if(i&1&&J(yn,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",11,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),g(10,"app-cms-site-selector",12),M(11,"translate"),g(12,"app-cms-user-selector",12),M(13,"translate"),g(14,"app-cms-member-selector",12),M(15,"translate"),a(16,"div",13)(17,"label",14),m(18,"ModuleName"),l(),a(19,"input",15,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",13)(22,"label",16),m(23,"ModuleEntityName"),l(),a(24,"input",17,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",13)(27,"label",18),m(28,"ModuleEntityId"),l(),a(29,"input",19,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),a(31,"div",13)(32,"label",20),m(33,"SubjectBody"),l(),a(34,"input",21,4),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectBody,c)||(t.dataModel.subjectBody=c),S(c)}),l()(),a(36,"div",13)(37,"label",22),m(38,"AdminResultProcess"),l(),a(39,"textarea",23,5),x("ngModelChange",function(c){return h(d),k(t.dataModel.adminResultProcess,c)||(t.dataModel.adminResultProcess=c),S(c)}),m(41,"        "),l()(),a(42,"div",13)(43,"label",24),m(44,"SubjectUrl"),l(),a(45,"textarea",25,6),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectUrl,c)||(t.dataModel.subjectUrl=c),S(c)}),m(47,"        "),l()(),v(48,Tn,9,6,"div",26),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,21,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,23,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,25,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(5),L("ngModel",t.dataModel.subjectBody),s(5),L("ngModel",t.dataModel.adminResultProcess),s(6),L("ngModel",t.dataModel.subjectUrl),s(3),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,Lt,kt,ft,Ve,oe,lt,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Rn=["vform"];function An(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Pi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogReportAbuseService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(he.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Bt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,t){if(i&1&&J(Rn,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,An,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var Ln=()=>[5,10,20,100],kn=o=>({display:o});function xn(o,r){if(o&1){let n=y();a(0,"a",44),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",45),l()}}function Dn(o,r){if(o&1){let n=y();a(0,"div",46)(1,"a",47),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),a(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Vn(o,r){if(o&1){let n=y();a(0,"div",46)(1,"a",50),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),a(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Bn(o,r){if(o&1){let n=y();a(0,"div",46)(1,"a",52),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),a(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Nn(o,r){if(o&1){let n=y();a(0,"div",46)(1,"a",47),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",54)(3,"br"),l(),a(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function On(o,r){if(o&1){let n=y();a(0,"div",46)(1,"a",47),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),g(2,"i",55)(3,"br"),l(),a(4,"p",49),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function Gn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Hn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Pn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Fn(o,r){if(o&1&&g(0,"select",59),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,kn,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function jn(o,r){if(o&1&&(a(0,"mat-cell",57),M(1,"statusCellClass"),g(2,"i",57),M(3,"statusIconClass"),v(4,Fn,1,5,"select",58),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Un(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function qn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Wn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Kn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Qn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function zn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function Jn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function Xn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Yn(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Zn(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function $n(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function er(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function tr(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.subjectBody==null?null:n.fieldsInfo.subjectBody.fieldTitle," ")}}function ir(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.subjectBody," ")}}function or(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.adminResultProcess==null?null:n.fieldsInfo.adminResultProcess.fieldTitle," ")}}function nr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.adminResultProcess," ")}}function rr(o,r){if(o&1&&(a(0,"mat-header-cell",56),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function sr(o,r){if(o&1&&(a(0,"mat-cell",60),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function ar(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function lr(o,r){if(o&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function cr(o,r){o&1&&g(0,"mat-header-row")}function dr(o,r){if(o&1){let n=y();a(0,"mat-row",63),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new qt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Bt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-report-abuse-list"]],features:[z],decls:74,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,xn,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Dn,7,3,"div",17)(23,Vn,7,3,"div",17)(24,Bn,7,3,"div",17)(25,Nn,7,3,"div",17)(26,On,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,Gn,2,1,"mat-header-cell",23)(35,Hn,2,1,"mat-cell",24),E(),w(36,25),v(37,Pn,2,1,"mat-header-cell",23)(38,jn,5,7,"mat-cell",26),E(),w(39,27),v(40,Un,2,1,"mat-header-cell",23)(41,qn,4,5,"mat-cell",24),E(),w(42,28),v(43,Wn,2,1,"mat-header-cell",23)(44,Kn,4,5,"mat-cell",24),E(),w(45,29),v(46,Qn,2,1,"mat-header-cell",23)(47,zn,2,1,"mat-cell",24),E(),w(48,30),v(49,Jn,2,1,"mat-header-cell",23)(50,Xn,2,1,"mat-cell",24),E(),w(51,31),v(52,Yn,2,1,"mat-header-cell",23)(53,Zn,2,1,"mat-cell",24),E(),w(54,32),v(55,$n,2,1,"mat-header-cell",23)(56,er,2,1,"mat-cell",24),E(),w(57,33),v(58,tr,2,1,"mat-header-cell",23)(59,ir,2,1,"mat-cell",24),E(),w(60,34),v(61,or,2,1,"mat-header-cell",23)(62,nr,2,1,"mat-cell",24),E(),w(63,35),v(64,rr,2,1,"mat-header-cell",23)(65,sr,3,3,"mat-cell",36),E(),w(66,37),v(67,ar,3,3,"mat-header-cell",38)(68,lr,6,1,"mat-cell",39),E(),v(69,cr,1,0,"mat-header-row",40)(70,dr,1,6,"mat-row",41),l(),E(),w(71,42),a(72,"mat-paginator",43,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(38),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,Ln)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var mr=["vform"];function pr(o,r){if(o&1){let n=y();a(0,"div",17)(1,"button",18),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",19),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var ji=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Ut,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Ut,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(he.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(xt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,t){if(i&1&&J(mr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){if(i&1){let d=y();a(0,"div",4),g(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),g(10,"app-cms-site-selector",8),M(11,"translate"),g(12,"app-cms-user-selector",8),M(13,"translate"),g(14,"app-cms-member-selector",8),M(15,"translate"),a(16,"div",9)(17,"label",10),m(18,"ModuleName"),l(),a(19,"input",11,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(21,"div",9)(22,"label",12),m(23,"ModuleEntityName"),l(),a(24,"input",13,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(26,"div",9)(27,"label",14),m(28,"ModuleEntityId"),l(),a(29,"input",15,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),v(31,pr,5,3,"div",16),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,18,"TITLE.SITE")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",I(13,20,"TITLE.USER")),s(2),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",I(15,22,"TITLE.Member")),s(5),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,ft,Ve,oe,lt,gt,Ct,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var ur=["vform"];function fr(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Ui=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogScoreService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Ut,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(xt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(i,t){if(i&1&&J(ur,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,fr,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var hr=()=>[5,10,20,100],Sr=o=>({display:o});function Cr(o,r){if(o&1){let n=y();a(0,"a",42),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",43),l()}}function gr(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function _r(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",48),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",49)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Mr(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",50),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",51)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Ir(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",52)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function br(o,r){if(o&1){let n=y();a(0,"div",44)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewMemberRow(i.tableRowSelected))}),g(2,"i",53)(3,"br"),l(),a(4,"p",47),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.MEMBER")))}function vr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function wr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Er(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function yr(o,r){if(o&1&&g(0,"select",57),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,Sr,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Tr(o,r){if(o&1&&(a(0,"mat-cell",55),M(1,"statusCellClass"),g(2,"i",55),M(3,"statusIconClass"),v(4,yr,1,5,"select",56),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Rr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ar(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Lr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function kr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function xr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkMemberId==null?null:n.fieldsInfo.linkMemberId.fieldTitle," ")}}function Dr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.linkMemberId," ")}}function Vr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function Br(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function Nr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Or(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function Gr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Hr(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function Pr(o,r){if(o&1&&(a(0,"mat-header-cell",54),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Fr(o,r){if(o&1&&(a(0,"mat-cell",58),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function jr(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Ur(o,r){if(o&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function qr(o,r){o&1&&g(0,"mat-header-row")}function Wr(o,r){if(o&1){let n=y();a(0,"mat-row",61),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var qi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Ut,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberId>0){let T=new K;T.propertyName="linkMemberId",T.value=this.requestlinkMemberId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ui,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(xt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-score-list"]],features:[z],decls:68,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,Cr,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,gr,7,3,"div",17)(23,_r,7,3,"div",17)(24,Mr,7,3,"div",17)(25,Ir,7,3,"div",17)(26,br,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,vr,2,1,"mat-header-cell",23)(35,wr,2,1,"mat-cell",24),E(),w(36,25),v(37,Er,2,1,"mat-header-cell",23)(38,Tr,5,7,"mat-cell",26),E(),w(39,27),v(40,Rr,2,1,"mat-header-cell",23)(41,Ar,4,5,"mat-cell",24),E(),w(42,28),v(43,Lr,2,1,"mat-header-cell",23)(44,kr,4,5,"mat-cell",24),E(),w(45,29),v(46,xr,2,1,"mat-header-cell",23)(47,Dr,2,1,"mat-cell",24),E(),w(48,30),v(49,Vr,2,1,"mat-header-cell",23)(50,Br,2,1,"mat-cell",24),E(),w(51,31),v(52,Nr,2,1,"mat-header-cell",23)(53,Or,2,1,"mat-cell",24),E(),w(54,32),v(55,Gr,2,1,"mat-header-cell",23)(56,Hr,2,1,"mat-cell",24),E(),w(57,33),v(58,Pr,2,1,"mat-header-cell",23)(59,Fr,3,3,"mat-cell",34),E(),w(60,35),v(61,jr,3,3,"mat-header-cell",36)(62,Ur,6,1,"mat-cell",37),E(),v(63,qr,1,0,"mat-header-row",38)(64,Wr,1,6,"mat-row",39),l(),E(),w(65,40),a(66,"mat-paginator",41,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,26,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,28,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkMemberId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(32),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(30,hr)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var Kr=["vform"];function Qr(o,r){if(o&1){let n=y();a(0,"div",12)(1,"label",25),m(2),l(),a(3,"input",26),x("ngModelChange",function(i){h(n);let t=_();return k(t.dataModel.expireDateTime,i)||(t.dataModel.expireDateTime=i),S(i)}),l(),g(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,6),l()}if(o&2){let n=te(6),e=_();s(2),G(e.fieldsInfo.expireDateTime==null?null:e.fieldsInfo.expireDateTime.fieldTitle),s(),ri("placeholder",e.fieldsInfo.expireDateTime==null?null:e.fieldsInfo.expireDateTime.fieldTitle),ri("disabled",!(e.fieldsInfo.expireDateTime!=null&&e.fieldsInfo.expireDateTime.accessEditField)),f("matDatepicker",n),L("ngModel",e.dataModel.expireDateTime),s(),f("for",n)}}function zr(o,r){if(o&1){let n=y();a(0,"div",29)(1,"button",30),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",31),m(3),M(4,"translate"),l(),a(5,"button",32),g(6,"i",31),m(7),M(8,"translate"),l()()}o&2&&(s(3),C(" ",I(4,2,"ACTION.CANCEL")," "),s(4),C(" ",I(8,4,"ACTION.SAVE")," "))}var Ki=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Wt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Wt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(he.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Nt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,t){if(i&1&&J(Kr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,t){if(i&1){let d=y();a(0,"div",7),g(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",11,0),b("ngSubmit",function(){return h(d),S(t.onFormSubmit())}),a(10,"div",12)(11,"label",13),m(12,"ModuleName"),l(),a(13,"input",14,1),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleName,c)||(t.dataModel.moduleName=c),S(c)}),l()(),a(15,"div",12)(16,"label",15),m(17,"ModuleEntityName"),l(),a(18,"input",16,2),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityName,c)||(t.dataModel.moduleEntityName=c),S(c)}),l()(),a(20,"div",12)(21,"label",17),m(22,"ModuleEntityId"),l(),a(23,"input",18,3),x("ngModelChange",function(c){return h(d),k(t.dataModel.moduleEntityId,c)||(t.dataModel.moduleEntityId=c),S(c)}),l()(),a(25,"div",12)(26,"label",19),m(27,"showKey"),l(),a(28,"textarea",20,4),x("ngModelChange",function(c){return h(d),k(t.dataModel.showKey,c)||(t.dataModel.showKey=c),S(c)}),l()(),a(30,"div",12)(31,"label",21),m(32,"SubjectTitle"),l(),a(33,"textarea",22,5),x("ngModelChange",function(c){return h(d),k(t.dataModel.subjectTitle,c)||(t.dataModel.subjectTitle=c),S(c)}),l()(),v(35,Qr,7,6,"div",23)(36,zr,9,6,"div",24),l()()()}i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),s(7),L("ngModel",t.dataModel.moduleName),s(5),L("ngModel",t.dataModel.moduleEntityName),s(5),L("ngModel",t.dataModel.moduleEntityId),s(5),L("ngModel",t.dataModel.showKey),s(5),L("ngModel",t.dataModel.subjectTitle),s(2),f("ngIf",t.fieldsInfo.expireDateTime==null?null:t.fieldsInfo.expireDateTime.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,Lt,kt,ft,Ve,_i,Mi,Ii,Ci,oe,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Jr=["vform"];function Xr(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogShowKeyService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Wt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Nt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(i,t){if(i&1&&J(Jr,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,Xr,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var Yr=()=>[5,10,20,100],Zr=o=>({display:o});function $r(o,r){if(o&1){let n=y();a(0,"a",41),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",42),l()}}function es(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",44),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function ts(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",47),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function is(o,r){if(o&1){let n=y();a(0,"div",43)(1,"a",49),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",50)(3,"br"),l(),a(4,"p",46),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function os(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ns(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function rs(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function ss(o,r){if(o&1&&g(0,"select",54),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,Zr,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function as(o,r){if(o&1&&(a(0,"mat-cell",52),M(1,"statusCellClass"),g(2,"i",52),M(3,"statusIconClass"),v(4,ss,1,5,"select",53),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ls(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleName==null?null:n.fieldsInfo.moduleName.fieldTitle," ")}}function cs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleName," ")}}function ds(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityName==null?null:n.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ms(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityName," ")}}function ps(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.moduleEntityId==null?null:n.fieldsInfo.moduleEntityId.fieldTitle," ")}}function us(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.moduleEntityId," ")}}function fs(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.showKey==null?null:n.fieldsInfo.showKey.fieldTitle," ")}}function hs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.showKey," ")}}function Ss(o,r){if(o&1&&(a(0,"mat-header-cell",51),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Cs(o,r){if(o&1&&(a(0,"mat-cell",55),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function gs(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function _s(o,r){if(o&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Ms(o,r){if(o&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),g(4,"td"),a(5,"td"),m(6),l()()()()()),o&2){let n=r.$implicit;s(6),C(" ",n.subjectTitle," ")}}function Is(o,r){o&1&&g(0,"mat-header-row")}function bs(o,r){if(o&1){let n=y();a(0,"mat-row",58),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var zi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Wt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Wt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.Filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Nt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodule-data-memo-list"]],features:[z],decls:62,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,$r,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,es,7,3,"div",17)(23,ts,7,3,"div",17)(24,is,7,3,"div",17),E(),w(25,18),a(26,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(27,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(28,20),a(29,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(30);return S(t.onTableSortData(c))}),w(31,22),v(32,os,2,1,"mat-header-cell",23)(33,ns,2,1,"mat-cell",24),E(),w(34,25),v(35,rs,2,1,"mat-header-cell",23)(36,as,5,7,"mat-cell",26),E(),w(37,27),v(38,ls,2,1,"mat-header-cell",23)(39,cs,2,1,"mat-cell",24),E(),w(40,28),v(41,ds,2,1,"mat-header-cell",23)(42,ms,2,1,"mat-cell",24),E(),w(43,29),v(44,ps,2,1,"mat-header-cell",23)(45,us,2,1,"mat-cell",24),E(),w(46,30),v(47,fs,2,1,"mat-header-cell",23)(48,hs,2,1,"mat-cell",24),E(),w(49,31),v(50,Ss,2,1,"mat-header-cell",23)(51,Cs,3,3,"mat-cell",32),E(),w(52,33),v(53,gs,3,3,"mat-header-cell",34)(54,_s,6,1,"mat-cell",35),E(),w(55,36),v(56,Ms,7,1,"mat-cell",24),E(),v(57,Is,1,0,"mat-header-row",37)(58,bs,1,6,"mat-row",38),l(),E(),w(59,39),a(60,"mat-paginator",40,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,24,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,26,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(28),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(28,Yr)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,j,ge,Ie,Me],encapsulation:2});let o=r;return o})();var vs=["vform"];function ws(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",8),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Ji=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Kt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Kt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(he.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ot),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(vs,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),g(10,"app-cms-site-selector",5),M(11,"translate"),v(12,ws,5,3,"div",6),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,9,"TITLE.SITE")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,De,Ve,lt,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Es=["vform"];function ys(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Kt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ot),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(i,t){if(i&1&&J(Es,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,ys,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var Ts=()=>[5,10,20,100],Rs=o=>({display:o});function As(o,r){if(o&1){let n=y();a(0,"a",37),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",38),l()}}function Ls(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",41)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function ks(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",43),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function xs(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Ds(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewSiteRow(i.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.SITE")))}function Vs(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Bs(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function Ns(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Os(o,r){if(o&1&&g(0,"select",51),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,Rs,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Gs(o,r){if(o&1&&(a(0,"mat-cell",49),M(1,"statusCellClass"),g(2,"i",49),M(3,"statusIconClass"),v(4,Os,1,5,"select",50),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Hs(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ps(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Fs(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function js(o,r){if(o&1&&(a(0,"mat-cell",52),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function Us(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function qs(o,r){if(o&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Ws(o,r){o&1&&g(0,"mat-header-row")}function Ks(o,r){if(o&1){let n=y();a(0,"mat-row",55),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Yi=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Kt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Kt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Ot),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit-blocked-list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,As,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,Ls,7,3,"div",17)(23,ks,7,3,"div",17)(24,xs,7,3,"div",17)(25,Ds,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,Vs,2,1,"mat-header-cell",23)(34,Bs,2,1,"mat-cell",24),E(),w(35,25),v(36,Ns,2,1,"mat-header-cell",23)(37,Gs,5,7,"mat-cell",26),E(),w(38,27),v(39,Hs,2,1,"mat-header-cell",23)(40,Ps,4,5,"mat-cell",24),E(),w(41,28),v(42,Fs,2,1,"mat-header-cell",23)(43,js,3,3,"mat-cell",29),E(),w(44,30),v(45,Us,3,3,"mat-header-cell",31)(46,qs,6,1,"mat-cell",32),E(),v(47,Ws,1,0,"mat-header-row",33)(48,Ks,1,6,"mat-row",34),l(),E(),w(49,35),a(50,"mat-paginator",36,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(17),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,Ts)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var Qs=["vform"];function zs(o,r){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let n=_(2);s(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldDescription," is "),s(2),G(I(4,2,"MESSAGE.required"))}}function Js(o,r){if(o&1){let n=y();a(0,"div",9)(1,"label",10),m(2),l(),a(3,"textarea",11,1),x("ngModelChange",function(i){h(n);let t=_();return k(t.dataModel.description,i)||(t.dataModel.description=i),S(i)}),m(5,"                "),l(),a(6,"em"),m(7),l(),v(8,zs,5,4,"mat-error",12),l()}if(o&2){let n=te(4),e=_();s(2),G(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription),s(),ri("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),L("ngModel",e.dataModel.description),f("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),s(4),C("",n.value.length," / 500"),s(),f("ngIf",n.errors==null?null:n.errors.required)}}function Xs(o,r){if(o&1){let n=y();a(0,"div",13)(1,"button",14),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var Zi=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new zt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new zt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(he.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ht),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(Qs,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),g(10,"app-cms-site-selector",6),M(11,"translate"),v(12,Js,9,6,"div",7)(13,Xs,5,3,"div",8),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,10,"TITLE.SITE")),s(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,Lt,kt,ft,Ve,di,oe,lt,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Ys=["vform"];function Zs(o,r){if(o&1){let n=y();a(0,"div",5)(1,"button",10),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",11),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var $i=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new zt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Ht),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(i,t){if(i&1&&J(Ys,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),m(1),l(),a(2,"div",1),g(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),l(),a(5,"div",4)(6,"div",5)(7,"small",6),m(8),l(),a(9,"small",7),m(10),l()()(),a(11,"div",8),v(12,Zs,5,3,"div",9),l()),i&2&&(s(),C(" ",t.formInfo.formTitle," "),s(2),f("optionsInfoAreaId",t.constructorInfoAreaId),s(),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var $s=()=>[5,10,20,100],ea=o=>({display:o});function ta(o,r){if(o&1){let n=y();a(0,"a",37),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",38),l()}}function ia(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",41)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function oa(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",43),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",44)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function na(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",45),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",46)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function ra(o,r){if(o&1){let n=y();a(0,"div",39)(1,"a",40),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewSiteRow(i.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),a(4,"p",42),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.SITE")))}function sa(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function aa(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function la(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function ca(o,r){if(o&1&&g(0,"select",51),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,ea,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function da(o,r){if(o&1&&(a(0,"mat-cell",49),M(1,"statusCellClass"),g(2,"i",49),M(3,"statusIconClass"),v(4,ca,1,5,"select",50),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ma(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function pa(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function ua(o,r){if(o&1&&(a(0,"mat-header-cell",48),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function fa(o,r){if(o&1&&(a(0,"mat-cell",52),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function ha(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Sa(o,r){if(o&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Ca(o,r){o&1&&g(0,"mat-header-row")}function ga(o,r){if(o&1){let n=y();a(0,"mat-row",55),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var eo=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new zt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new zt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open($i,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Zi,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Ht),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-credit--list"]],features:[z],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,ta,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,ia,7,3,"div",17)(23,oa,7,3,"div",17)(24,na,7,3,"div",17)(25,ra,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,sa,2,1,"mat-header-cell",23)(34,aa,2,1,"mat-cell",24),E(),w(35,25),v(36,la,2,1,"mat-header-cell",23)(37,da,5,7,"mat-cell",26),E(),w(38,27),v(39,ma,2,1,"mat-header-cell",23)(40,pa,4,5,"mat-cell",24),E(),w(41,28),v(42,ua,2,1,"mat-header-cell",23)(43,fa,3,3,"mat-cell",29),E(),w(44,30),v(45,ha,3,3,"mat-header-cell",31)(46,Sa,6,1,"mat-cell",32),E(),v(47,Ca,1,0,"mat-header-row",33)(48,ga,1,6,"mat-row",34),l(),E(),w(49,35),a(50,"mat-paginator",36,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(17),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,$s)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var _a=["vform"];function Ma(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",8),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",9),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var to=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Qt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new St,this.dataModel=new Qt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(he.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Gt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,t){if(i&1&&J(_a,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",1),g(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),g(10,"app-cms-site-selector",5),M(11,"translate"),v(12,Ma,5,3,"div",6),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,9,"TITLE.SITE")),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,De,Ve,lt,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Ia=["vform"];function ba(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var io=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditBlockedService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Qt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Gt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(i,t){if(i&1&&J(Ia,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),g(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,ba,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var va=()=>[5,10,20,100],wa=o=>({display:o});function Ea(o,r){if(o&1){let n=y();a(0,"a",38),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",39),l()}}function ya(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",41),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",42)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function Ta(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",44),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function Ra(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",46),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function Aa(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",41),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function La(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ka(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function xa(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Da(o,r){if(o&1&&g(0,"select",52),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,wa,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Va(o,r){if(o&1&&(a(0,"mat-cell",50),M(1,"statusCellClass"),g(2,"i",50),M(3,"statusIconClass"),v(4,Da,1,5,"select",51),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Ba(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Na(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function Oa(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Ga(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function Ha(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Pa(o,r){if(o&1&&(a(0,"mat-cell",53),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function Fa(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function ja(o,r){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Ua(o,r){o&1&&g(0,"mat-header-row")}function qa(o,r){if(o&1){let n=y();a(0,"mat-row",56),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var oo=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Qt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Qt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(io,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(to,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Gt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],features:[z],decls:56,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2,"id "),m(3," -------------------------------------- "),E(),le(4,5)(5,6),w(6,7),v(7,Ea,2,0,"a",8),a(8,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(9,"i",10),l(),a(10,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(11,"i",11),l(),E(),w(12,12),a(13,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(14,"mat-slide-toggle",14),m(15),M(16,"translate"),l(),a(17,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(18,"mat-slide-toggle",14),m(19),M(20,"translate"),l(),E(),le(21,15),w(22,16),v(23,ya,7,3,"div",17)(24,Ta,7,3,"div",17)(25,Ra,7,3,"div",17)(26,Aa,7,3,"div",17),E(),w(27,18),a(28,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(29,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(30,20),a(31,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(32);return S(t.onTableSortData(c))}),w(33,22),v(34,La,2,1,"mat-header-cell",23)(35,ka,2,1,"mat-cell",24),E(),w(36,25),v(37,xa,2,1,"mat-header-cell",23)(38,Va,5,7,"mat-cell",26),E(),w(39,27),v(40,Ba,2,1,"mat-header-cell",23)(41,Na,4,5,"mat-cell",24),E(),w(42,28),v(43,Oa,2,1,"mat-header-cell",23)(44,Ga,4,5,"mat-cell",24),E(),w(45,29),v(46,Ha,2,1,"mat-header-cell",23)(47,Pa,3,3,"mat-cell",30),E(),w(48,31),v(49,Fa,3,3,"mat-header-cell",32)(50,ja,6,1,"mat-cell",33),E(),v(51,Ua,1,0,"mat-header-row",34)(52,qa,1,6,"mat-row",35),l(),E(),w(53,36),a(54,"mat-paginator",37,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(7),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(16,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(20,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(20),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,va)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var Wa=["vform"];function Ka(o,r){if(o&1&&(a(0,"mat-error"),m(1),a(2,"strong"),m(3),M(4,"translate"),l()()),o&2){let n=_(2);s(),C(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldDescription," is "),s(2),G(I(4,2,"MESSAGE.required"))}}function Qa(o,r){if(o&1){let n=y();a(0,"div",9)(1,"label",10),m(2),l(),a(3,"textarea",11,1),x("ngModelChange",function(i){h(n);let t=_();return k(t.dataModel.description,i)||(t.dataModel.description=i),S(i)}),m(5,"                "),l(),a(6,"em"),m(7),l(),v(8,Ka,5,4,"mat-error",12),l()}if(o&2){let n=te(4),e=_();s(2),G(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldDescription),s(),ri("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),L("ngModel",e.dataModel.description),f("disabled",!(e.fieldsInfo.description!=null&&e.fieldsInfo.description.accessEditField)),s(4),C("",n.value.length," / 500"),s(),f("ngIf",n.errors==null?null:n.errors.required)}}function za(o,r){if(o&1){let n=y();a(0,"div",13)(1,"button",14),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",15),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var no=(()=>{let r=class r extends ye{constructor(e,i,t,d,u,c,R,A,D){super(d,new Jt,A,D),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ie,this.dataModel=new Jt,this.formInfo=new ee,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(he.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Pt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,t){if(i&1&&J(Wa,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[z],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",2),g(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"form",null,0),g(10,"app-cms-site-selector",6),M(11,"translate"),v(12,Qa,9,6,"div",7)(13,za,5,3,"div",8),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(4),f("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",I(11,10,"TITLE.SITE")),s(2),f("ngIf",t.fieldsInfo.description==null?null:t.fieldsInfo.description.accessWatchField),s(),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Be,pt,ut,De,Lt,kt,ft,Ve,di,oe,lt,Q,j],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=r;return o})();var Ja=["vform"];function Xa(o,r){if(o&1){let n=y();a(0,"div",7)(1,"button",12),b("click",function(){h(n);let i=_();return S(i.onFormCancel())}),g(2,"i",13),m(3),M(4,"translate"),l()()}o&2&&(s(3),C(" ",I(4,1,"ACTION.CANCEL")," "))}var ro=(()=>{let r=class r{constructor(e,i,t,d,u,c,R,A,D){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreModuleLogSiteUserCreditService=d,this.cmsToastrService=u,this.tokenHelper=c,this.cdr=R,this.publicHelper=A,this.translate=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ue,this.dataModelResult=new ie,this.dataModel=new Jt,this.formInfo=new ee,this.dataModelEnumSendSmsStatusTypeResult=new ie,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=e.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(i){return new(i||r)(p($),p(Z),p(q),p(Pt),p(V),p(N),p(H),p(B),p(F))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(i,t){if(i&1&&J(Ja,5),i&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),g(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),m(4),l(),a(5,"p"),m(6),M(7,"translate"),l(),a(8,"div",4),g(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),m(13),l(),a(14,"small",9),m(15),l()()(),a(16,"div",10),v(17,Xa,5,3,"div",11),l()()()),i&2&&(s(),f("optionsInfoAreaId",t.constructorInfoAreaId),s(3),C(" ",t.formInfo.formTitle," "),s(2),C(" ",I(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),s(3),f("dataModel",t.dataModel)("optionMethod",1),s(4),C("",t.formInfo.formAlert," "),s(2),C("",t.formInfo.formError," "),s(2),f("ngIf",t.formInfo.formSubmitAllow))},dependencies:[P,Q,ve,j],encapsulation:2});let o=r;return o})();var Ya=()=>[5,10,20,100],Za=o=>({display:o});function $a(o,r){if(o&1){let n=y();a(0,"a",38),b("click",function(){h(n);let i=_();return S(i.onActionBackToParent())}),g(1,"i",39),l()}}function el(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",41),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewRow(i.tableRowSelected))}),g(2,"i",42)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.VIEW")))}function tl(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",44),b("click",function(){h(n);let i=_();return S(i.onActionButtonEditRow(i.tableRowSelected))}),g(2,"i",45)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.EDIT")))}function il(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",46),b("click",function(){h(n);let i=_();return S(i.onActionButtonDeleteRow(i.tableRowSelected))}),g(2,"i",47)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.DELETE")))}function ol(o,r){if(o&1){let n=y();a(0,"div",40)(1,"a",41),b("click",function(){h(n);let i=_();return S(i.onActionButtonViewUserRow(i.tableRowSelected))}),g(2,"i",48)(3,"br"),l(),a(4,"p",43),m(5),M(6,"translate"),l()()}o&2&&(s(5),G(I(6,1,"ACTION.USER")))}function nl(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function rl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),l()),o&2){let n=r.$implicit;s(),C(" ",n.id," ")}}function sl(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function al(o,r){if(o&1&&g(0,"select",52),o&2){let n=_().$implicit,e=_();f("contentService",e.contentService)("row",n)("ngStyle",Le(3,Za,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function ll(o,r){if(o&1&&(a(0,"mat-cell",50),M(1,"statusCellClass"),g(2,"i",50),M(3,"statusIconClass"),v(4,al,1,5,"select",51),l()),o&2){let n=r.$implicit,e=_();f("ngClass",I(1,3,n.recordStatus)),s(2),f("ngClass",I(3,5,n.recordStatus)),s(2),f("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function cl(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function dl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmssiteinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkSiteId))," ")}}function ml(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function pl(o,r){if(o&1&&(a(0,"mat-cell"),m(1),M(2,"cmsuserinfo"),M(3,"async"),l()),o&2){let n=r.$implicit;s(),C(" ",I(3,3,I(2,1,n.linkUserId))," ")}}function ul(o,r){if(o&1&&(a(0,"mat-header-cell",49),m(1),l()),o&2){let n=_();s(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function fl(o,r){if(o&1&&(a(0,"mat-cell",53),m(1),M(2,"localeDateTime"),l()),o&2){let n=r.$implicit;s(),C(" ",I(2,1,n.createdDate)," ")}}function hl(o,r){o&1&&(a(0,"mat-header-cell"),m(1),M(2,"translate"),l()),o&2&&(s(),C(" ",I(2,1,"TITLE.OPTION")," "))}function Sl(o,r){if(o&1&&(a(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),l()(),g(4,"mat-menu",null,2),l()),o&2){let n=te(5);s(),f("matMenuTriggerFor",n)}}function Cl(o,r){o&1&&g(0,"mat-header-row")}function gl(o,r){if(o&1){let n=y();a(0,"mat-row",56),b("click",function(){let i=h(n).$implicit,t=_();return S(t.onActionTableRowSelect(i))}),l()}if(o&2){let n=r.$implicit,e=r.dataIndex,i=_();Re("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var so=(()=>{let r=class r extends Te{constructor(e,i,t,d,u,c,R,A,D,rt,ce,st){if(super(i,new Jt,ce,c,A),this.coreEnumService=e,this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=u,this.tokenHelper=c,this.cdr=R,this.translate=A,this.router=D,this.pageInfo=rt,this.publicHelper=ce,this.dialog=st,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new je,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){let T=new K;T.propertyName="LinkCmsSiteId",T.value=this.requestLinkSiteId,this.filteModelContent.filters.push(T)}if(this.requestLinkUserId>0){let T=new K;T.propertyName="LinkUserId",T.value=this.requestLinkUserId,this.filteModelContent.filters.push(T)}if(this.requestlinkMemberUserId>0){let T=new K;T.propertyName="linkMemberUserId",T.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(T)}this.optionsSearch.parentMethods={onSubmit:T=>this.onSubmitOptionsSearch(T)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=U.Descending,this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Jt);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=U.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=U.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(ro,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(no,{height:"90%",panelClass:i,enterAnimationDuration:W.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:W.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{i=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(d=>{if(d){let u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(u,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),u=new K;u.propertyName="RecordStatus",u.value=Fe.Available,d.filters.push(u),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(R=>{i.set(R,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(e=this.tableRowSelected){if(!e||!e.id||e.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(i){return new(i||r)(p(q),p(Pt),p(V),p(fe),p(Ne),p(N),p(H),p(F),p(Oe),p(Ce),p(B),p(He))},r.\u0275cmp=O({type:r,selectors:[["app-coremodulelog-site-user-credit--list"]],features:[z],decls:55,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,t){if(i&1){let d=y();a(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return h(d),k(t.viewGuideNotice,c)||(t.viewGuideNotice=c),S(c)}),b("optionOnActionButtonMemoRow",function(){return h(d),S(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(d),S(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(d),S(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(d),S(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),E(),le(3,5)(4,6),w(5,7),v(6,$a,2,0,"a",8),a(7,"a",9),b("click",function(){return h(d),S(t.viewGuideNotice=!t.viewGuideNotice)}),g(8,"i",10),l(),a(9,"a",9),b("click",function(){return h(d),S(t.onActionButtonReload())}),g(10,"i",11),l(),E(),w(11,12),a(12,"a",13),b("click",function(){return h(d),S(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),g(13,"mat-slide-toggle",14),m(14),M(15,"translate"),l(),a(16,"a",13),b("click",function(){return h(d),S(t.onActionButtonStatist())}),g(17,"mat-slide-toggle",14),m(18),M(19,"translate"),l(),E(),le(20,15),w(21,16),v(22,el,7,3,"div",17)(23,tl,7,3,"div",17)(24,il,7,3,"div",17)(25,ol,7,3,"div",17),E(),w(26,18),a(27,"app-cms-search-list",19),x("optionsChange",function(c){return h(d),k(t.optionsSearch,c)||(t.optionsSearch=c),S(c)}),l(),a(28,"app-cms-statist-list",19),x("optionsChange",function(c){return h(d),k(t.optionsStatist,c)||(t.optionsStatist=c),S(c)}),l(),E(),w(29,20),a(30,"mat-table",21,0),b("matSortChange",function(){h(d);let c=te(31);return S(t.onTableSortData(c))}),w(32,22),v(33,nl,2,1,"mat-header-cell",23)(34,rl,2,1,"mat-cell",24),E(),w(35,25),v(36,sl,2,1,"mat-header-cell",23)(37,ll,5,7,"mat-cell",26),E(),w(38,27),v(39,cl,2,1,"mat-header-cell",23)(40,dl,4,5,"mat-cell",24),E(),w(41,28),v(42,ml,2,1,"mat-header-cell",23)(43,pl,4,5,"mat-cell",24),E(),w(44,29),v(45,ul,2,1,"mat-header-cell",23)(46,fl,3,3,"mat-cell",30),E(),w(47,31),v(48,hl,3,3,"mat-header-cell",32)(49,Sl,6,1,"mat-cell",33),E(),v(50,Cl,1,0,"mat-header-row",34)(51,gl,1,6,"mat-row",35),l(),E(),w(52,36),a(53,"mat-paginator",37,1),b("page",function(c){return h(d),S(t.onTablePageingData(c))}),l(),E(),l()}i&2&&(f("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),L("optionActionGuideNoticeDisplay",t.viewGuideNotice),f("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),s(6),f("ngIf",t.requestLinkSiteId>0),s(7),f("checked",t.optionsSearch.data.show),s(),C("",I(15,25,"ACTION.SEARCH")," "),s(3),f("checked",t.optionsStatist.data.show),s(),C("",I(19,27,"ACTION.STATIST")," "),s(4),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),s(),f("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),s(),f("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),s(2),L("options",t.optionsSearch),s(),L("options",t.optionsStatist),s(2),f("dataSource",t.tableSource),s(20),f("matHeaderRowDef",t.tabledisplayedColumns),s(),f("matRowDefColumns",t.tabledisplayedColumns),s(2),f("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ae(29,Ya)))},dependencies:[ke,P,xe,Ge,Pe,oe,qe,We,Ke,dt,Qe,ze,Je,Ye,tt,Ze,Xe,it,$e,et,ot,nt,we,Ee,be,_e,ct,j,ht,at,ge,Ie,Me],encapsulation:2});let o=r;return o})();var _l=[{path:"",component:xi,children:[{path:"report-abuse",component:Fi,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:zi},{path:"favorite",component:Bi,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:Gi,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:qi,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:eo,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:so,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:Yi,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:oo,data:{title:"ROUTE.COREMODULELOG"}}]}],ao=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ci({type:r}),r.\u0275inj=li({imports:[ui.forChild(_l),ui]});let o=r;return o})();var bp=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ci({type:r}),r.\u0275inj=li({providers:[bi,vi,wi,Ei,yi,Vt,Ti,Dt,Ri,Nt,Bt,xt,Ot,Gt,Ht,Pt,fe],imports:[ao,fi,hi,Si.withConfig({warnOnNgModelWithFormControl:"never"}),Li,ki,Ai]});let o=r;return o})();export{bp as CoreModuleLogModule};
