import{a as $i,b as Eo}from"./chunk-2U4HOJ7F.js";import{e as yo,g as To}from"./chunk-6ONDEX5Y.js";import{a as Io,b as bo,c as Co,d as vo,e as wo}from"./chunk-IXC5GOY5.js";import{b as Oi,c as Ni,d as Hi,e as qn}from"./chunk-WQC7WGBR.js";import{a as yt}from"./chunk-KOY6ZV74.js";import{a as Vt}from"./chunk-A2BU5QUK.js";import{a as Lt}from"./chunk-5J53OWKP.js";import{b as Mo}from"./chunk-CCOEUJCT.js";import{a as Xe}from"./chunk-42BJIYBC.js";import{$ as ki,$b as ri,Aa as Nn,Ad as Ye,C as ti,Cc as wt,Dd as _o,F as Dn,G as xn,Gb as ni,H as An,Hb as oi,Hd as So,K as _e,Ka as Hn,L as Se,La as be,Lc as Wt,M as Me,Ma as Ce,Mc as gi,Na as Ne,Nc as Yi,O as Pn,Oc as mo,P as Rn,Sc as kt,Ta as X,Tc as Qe,Ua as jn,Ub as qe,Vb as Ue,Wa as j,Wb as ze,Xb as ke,Yb as mt,Zb as ut,_b as Qi,_c as yi,aa as Ie,ac as ai,bc as Ki,bd as ve,cc as Ji,da as rt,dc as to,ea as Li,ec as ft,fa as Wn,fc as gt,gc as ht,ha as Vi,hc as _t,hd as Ke,ia as Gi,ic as St,ja as Bi,jc as Mt,ka as Fi,kc as It,kd as uo,lb as zi,lc as bt,m as Zt,mb as $n,mc as Ct,nb as N,nc as vt,nd as fo,o as At,p as te,pb as fi,pc as io,qc as no,qd as Xi,rc as oo,s as O,sa as Re,sb as pt,sc as ro,t as pe,tb as k,tc as ao,td as Je,ua as Ln,uc as lo,ud as go,v as me,va as Vn,vb as q,vc as so,vd as Zi,w as $t,wa as Gn,wc as co,x as Q,xa as Bn,xc as po,xd as ho,y as ue,ya as Fn,yb as eo,z as ei,za as On}from"./chunk-AE7H5LEK.js";import{b as F,c as H,p as ye}from"./chunk-MLLDNPZ7.js";import{$f as Yn,$n as Ui,Aa as Et,Ab as Be,Cd as pi,Db as ne,Dc as nt,Dd as U,Eb as oe,Fb as re,Fc as ot,Fe as Qn,Ge as Kn,Hd as z,Ia as De,Ib as P,Id as $,Jd as ae,Kb as p,L as qt,La as r,Lb as y,Lc as Tn,Ma as b,Mb as _,Nb as Xt,Nd as zn,O as Ut,Qb as T,Qd as Y,Rb as E,Sb as D,Sn as mi,Uc as En,Ud as ji,Un as Xn,Vb as we,Vn as ui,W as zt,Wb as it,Wn as ii,X as Qt,Xn as st,Yb as S,Yn as dt,Za as J,Zb as M,Zd as qi,Ze as Jn,Zn as Rt,_b as xt,_n as ct,ab as I,aq as Z,bb as Dt,cb as m,da as Ri,db as Kt,eb as Pe,eo as wi,fd as at,fo as Ot,g as Ft,gc as B,gd as kn,go as We,hd as Oe,ho as Ze,io as $e,ja as L,jo as et,ka as Wi,kd as sn,ko as cn,lb as a,ld as He,lo as Zn,mb as l,nb as C,nd as dn,ob as x,pb as A,qb as xe,qd as je,ra as f,rb as w,sa as g,td as lt,u as Ht,ub as v,v as jt,va as yn,vd as K,wb as u,xb as Jt,xc as Ae,xd as Un,yb as Yt,yc as Fe,zb as R,zc as G,zd as Pt}from"./chunk-DTYEIAZU.js";var Do=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=L({type:s,selectors:[["app-web-designer"]],decls:1,vars:0,template:function(i,e){i&1&&C(0,"router-outlet")},dependencies:[kn],encapsulation:2});let n=s;return n})();var jo=["vform"];function qo(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Uo(n,s){n&1&&C(0,"i",29)}function zo(n,s){n&1&&C(0,"i",30)}function Qo(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ko(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",24),p(2),l(),a(3,"input",25,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Uo,1,0,"i",26)(6,zo,1,0,"i",27),a(7,"em"),p(8),l(),I(9,Qo,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Jo(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",31),p(2),l(),a(3,"input",32,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),a(5,"em"),p(6),l()()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),r(),T("ngModel",t.dataModel.linkPageId),m("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessAddField)),r(3),_("",o.value.length," / 100")}}function Yo(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Xo(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",33),p(2),l(),a(3,"input",34,4),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),I(6,Yo,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),r(),R("placeholder",M(5,5,"TITLE.priority")),T("ngModel",t.dataModel.priority),m("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessAddField)),r(3),m("ngIf",o.errors==null?null:o.errors.required)}}function Zo(n,s){n&1&&C(0,"i",29)}function $o(n,s){n&1&&C(0,"i",30)}function er(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function tr(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",35),p(2),S(3,"translate"),l(),a(4,"textarea",36,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(6,"                    "),l(),a(7,"em"),p(8),l(),I(9,Zo,1,0,"i",26)(10,$o,1,0,"i",27)(11,er,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();r(2),y(M(3,8,"TITLE.General_Description")),r(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),m("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),r(4),_("",o.value.length," / 100"),r(),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function ir(n,s){if(n&1){let o=w();a(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),p(2),S(3,"translate"),l(),a(4,"button",39),p(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function nr(n,s){if(n&1&&(C(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),De)}}function or(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),p(2),S(3,"translate"),l(),a(4,"input",42,6),S(6,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(M(3,11,"TITLE.Icon_File")),r(2),R("placeholder",M(6,13,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),r(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function rr(n,s){if(n&1&&(C(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),De)}}function ar(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),p(2),l(),a(3,"input",45,7),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),r(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainVideoId),m("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),r(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenFormVideo),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function lr(n,s){if(n&1&&(a(0,"div",37)(1,"button",46),p(2),S(3,"translate"),l(),a(4,"button",47),p(5),S(6,"translate"),l()()),n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BEFOR")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var mn=(()=>{let s=class s extends Lt{constructor(t,i,e,c,h,d,W,V){super(c,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=c,this.cmsToastrService=h,this.router=d,this.cdr=W,this.translate=V,this.requestLinkPageId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.formInfo=new ae,this.dataModel=new Ot,this.dataModelResult=new U,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(b(at),b(k),b(Y),b(ii),b(N),b(Oe),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,e){if(i&1&&ne(jo,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let c=w();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(d){f(c);let W=P(11);return g(e.onStepClick(d,W))}),a(12,"mat-step",14),S(13,"translate"),I(14,qo,1,5,"app-cms-enum-record-status-selector",15)(15,Ko,10,8,"div",16)(16,Jo,7,4,"div",16)(17,Xo,7,7,"div",16)(18,tr,12,10,"div",16)(19,ir,7,7,"div",17),l(),a(20,"mat-step",18),S(21,"translate"),a(22,"p"),p(23),S(24,"translate"),l(),a(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,nr,2,3,"img",21),l()(),I(29,or,8,15,"div",16),a(30,"div",19),I(31,rr,2,3,"img",21),l(),I(32,ar,7,14,"div",16)(33,lr,7,7,"div",17),l()()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),r(),m("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow),r(),R("label",M(21,22,"TITLE.ATTACH_FILES")),r(3),y(M(24,24,"TITLE.Photos_And_Application_Files")),r(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),De),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,O,pe,_e,Se,Me,Q,me,Ie,j,ri,ai,Ki,Ji,ve,q,zi,H,Wt],encapsulation:2});let n=s;return n})();var sr=["vform"];function dr(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function cr(n,s){n&1&&C(0,"i",29)}function pr(n,s){n&1&&C(0,"i",30)}function mr(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ur(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",24),p(2),l(),a(3,"input",25,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,cr,1,0,"i",26)(6,pr,1,0,"i",27),a(7,"em"),p(8),l(),I(9,mr,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function fr(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",31),p(2),l(),a(3,"input",32,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),a(5,"em"),p(6),l()()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),r(),T("ngModel",t.dataModel.linkPageId),m("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessEditField)),r(3),_("",o.value.length," / 100")}}function gr(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function hr(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",33),p(2),l(),a(3,"input",34,4),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),I(6,gr,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),r(),R("placeholder",M(5,5,"TITLE.priority")),T("ngModel",t.dataModel.priority),m("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessEditField)),r(3),m("ngIf",o.errors==null?null:o.errors.required)}}function _r(n,s){n&1&&C(0,"i",29)}function Sr(n,s){n&1&&C(0,"i",30)}function Mr(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ir(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",35),p(2),S(3,"translate"),l(),a(4,"textarea",36,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(6,"                        "),l(),a(7,"em"),p(8),l(),I(9,_r,1,0,"i",26)(10,Sr,1,0,"i",27)(11,Mr,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();r(2),y(M(3,8,"TITLE.General_Description")),r(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),m("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),r(4),_("",o.value.length," / 100"),r(),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function br(n,s){if(n&1){let o=w();a(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),p(2),S(3,"translate"),l(),a(4,"button",39),p(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function Cr(n,s){if(n&1&&(C(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),De)}}function vr(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),p(2),l(),a(3,"input",42,6),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.linkMainImageId==null?null:o.fieldsInfo.linkMainImageId.fieldTitle),r(),R("placeholder",M(5,11,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),r(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function wr(n,s){if(n&1&&(C(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),De)}}function yr(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),p(2),l(),a(3,"input",45,7),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),a(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),r(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainVideoId),m("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),r(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenFormVideo),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Tr(n,s){if(n&1&&(a(0,"div",37)(1,"button",46),p(2),S(3,"translate"),l(),a(4,"button",47),p(5),S(6,"translate"),l()()),n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BEFOR")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var xo=(()=>{let s=class s extends Vt{constructor(t,i,e,c,h,d,W,V){super(c,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=c,this.cmsToastrService=h,this.router=d,this.cdr=W,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.formInfo=new ae,this.dataModel=new Ot,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(t){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(Pt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(t).subscribe({next:e=>{this.dataAccessModel=e.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.publicHelper.processService.processStop(i),this.dataModelResult=e,this.formInfo.formSubmitAllow=!0,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage)},error:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(e)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(b(at),b(k),b(Y),b(ii),b(N),b(Oe),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,e){if(i&1&&ne(sr,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let c=w();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(d){f(c);let W=P(11);return g(e.onStepClick(d,W))}),a(12,"mat-step",14),S(13,"translate"),I(14,dr,1,5,"app-cms-enum-record-status-selector",15)(15,ur,10,8,"div",16)(16,fr,7,4,"div",16)(17,hr,7,7,"div",16)(18,Ir,12,10,"div",16)(19,br,7,7,"div",17),l(),a(20,"mat-step",18),S(21,"translate"),a(22,"p"),p(23),S(24,"translate"),l(),a(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),I(28,Cr,2,3,"img",21),l()(),I(29,vr,7,13,"div",16),a(30,"div",19),I(31,wr,2,3,"img",21),l(),I(32,yr,7,14,"div",16)(33,Tr,7,7,"div",17),l()()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),r(),m("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow),r(),R("label",M(21,22,"TITLE.ATTACH_FILES")),r(3),y(M(24,24,"TITLE.Photos_And_Application_Files")),r(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),De),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,O,pe,_e,Se,Me,Q,me,Ie,j,ri,ai,Ki,Ji,ve,q,zi,H,Wt],encapsulation:2});let n=s;return n})();var Dr=()=>[5,10,20,100],xr=n=>({display:n});function Ar(n,s){if(n&1){let o=w();a(0,"a",43),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),C(1,"i",44),l()}}function Pr(n,s){if(n&1){let o=w();a(0,"div",45)(1,"a",46),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",47)(3,"br"),l(),a(4,"p",48),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Rr(n,s){if(n&1){let o=w();a(0,"div",45)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",50)(3,"br"),l(),a(4,"p",48),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function Wr(n,s){if(n&1){let o=w();a(0,"div",45)(1,"a",51),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",52)(3,"br"),l(),a(4,"p",48),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function kr(n,s){n&1&&(a(0,"mat-header-cell",53),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function Lr(n,s){if(n&1&&(C(0,"img",55),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkMainImageIdSrc),De)}}function Vr(n,s){if(n&1&&(a(0,"mat-cell"),I(1,Lr,2,3,"img",54),l()),n&2){let o=s.$implicit;r(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Gr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Br(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function Fr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Or(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function Nr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageId==null?null:o.fieldsInfo.linkPageId.fieldTitle," ")}}function Hr(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageId," ")}}function jr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function qr(n,s){if(n&1&&C(0,"select",59),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,xr,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ur(n,s){if(n&1&&(a(0,"mat-cell",57),S(1,"statusCellClass"),C(2,"i",57),S(3,"statusIconClass"),I(4,qr,1,5,"select",58),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function zr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Qr(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Kr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Jr(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",t.publicHelper.LocaleDate(o.createdDate)," ")}}function Yr(n,s){if(n&1&&(a(0,"mat-header-cell",56),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Xr(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",t.publicHelper.LocaleDate(o.updatedDate)," ")}}function Zr(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function $r(n,s){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function ea(n,s){n&1&&C(0,"mat-header-row")}function ta(n,s){if(n&1){let o=w();a(0,"mat-row",62),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var un=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee,Tt){super(t,new Ot,Ee,h,V),this.contentService=t,this.activatedRoute=i,this.cmsToastrService=e,this.router=c,this.tokenHelper=h,this.cmsConfirmationDialogService=d,this.cdr=W,this.translate=V,this.pageInfo=ce,this.publicHelper=Ee,this.dialog=Tt,this.requestLinkPageId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Bt=>this.onSubmitOptionsSearch(Bt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let t=new z;this.requestLinkPageId>0&&(t.propertyName="LinkPageId",t.value=this.requestLinkPageId,this.filteModelContent.filters.push(t)),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){let c=this.translate.instant("MESSAGE.No_row_selected_for_editing");this.cmsToastrService.typeErrorSelected(c);return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(b(ii),b(at),b(N),b(Oe),b(ye),b(Xe),b(B),b(F),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-list"]],features:[J],decls:63,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,4),p(2," -------------------------------------- "),A(),xe(3,5)(4,6),x(5,7),I(6,Ar,2,0,"a",8),a(7,"a",9),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(8,"i",10),l(),a(9,"a",9),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(10,"i",11),l(),A(),x(11,12),a(12,"a",13),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(13,"mat-slide-toggle",14),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(14),S(15,"translate"),l(),a(16,"a",15)(17,"mat-slide-toggle",16),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(18),S(19,"translate"),l(),A(),x(20,17),I(21,Pr,7,3,"div",18),A(),x(22,19),I(23,Rr,7,3,"div",18)(24,Wr,7,3,"div",18),A(),x(25,20),a(26,"app-cms-search-list",21),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(27,"app-cms-statist-list",21),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(28,22),a(29,"mat-table",23,0),v("matSortChange",function(){f(c);let d=P(30);return g(e.onTableSortData(d))}),x(31,24),I(32,kr,3,3,"mat-header-cell",25)(33,Vr,2,1,"mat-cell",26),A(),x(34,27),I(35,Gr,2,1,"mat-header-cell",28)(36,Br,2,1,"mat-cell",26),A(),x(37,29),I(38,Fr,2,1,"mat-header-cell",28)(39,Or,4,5,"mat-cell",26),A(),x(40,30),I(41,Nr,2,1,"mat-header-cell",28)(42,Hr,2,1,"mat-cell",26),A(),x(43,31),I(44,jr,2,1,"mat-header-cell",28)(45,Ur,5,7,"mat-cell",32),A(),x(46,33),I(47,zr,2,1,"mat-header-cell",28)(48,Qr,2,1,"mat-cell",26),A(),x(49,34),I(50,Kr,2,1,"mat-header-cell",28)(51,Jr,2,1,"mat-cell",26),A(),x(52,35),I(53,Yr,2,1,"mat-header-cell",28)(54,Xr,2,1,"mat-cell",26),A(),x(55,36),I(56,Zr,3,3,"mat-header-cell",37)(57,$r,6,1,"mat-cell",38),A(),I(58,ea,1,0,"mat-header-row",39)(59,ta,1,6,"mat-row",40),l(),A(),x(60,41),a(61,"mat-paginator",42,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),m("ngIf",e.requestLinkPageId>0),r(7),T("ngModel",e.optionsSearch.data.show),r(),_("",M(15,24,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(19,26,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(29),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(28,Dr)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,ot,H,Yi,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var ia=["vform"];function na(n,s){if(n&1){let o=w();a(0,"div",7)(1,"button",12),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",13),p(3),S(4,"translate"),l()()}n&2&&(r(3),_(" ",M(4,1,"ACTION.CANCEL")," "))}var Ao=(()=>{let s=class s{constructor(t,i,e,c,h,d,W,V,ce){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerLogMemberInfoService=c,this.cdr=h,this.cmsToastrService=d,this.tokenHelper=W,this.publicHelper=V,this.translate=ce,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Qn,this.dataModelResult=new U,this.dataModel=new wi,this.formInfo=new ae,this.dataModelEnumSendSmsStatusTypeResult=new U,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(ui),b(B),b(N),b(ye),b(k),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(i,e){if(i&1&&ne(ia,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(a(0,"div",0),p(1),l(),a(2,"div",1),C(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),S(5,"translate"),C(6,"app-cms-user-selector",3),S(7,"translate"),C(8,"app-cms-json-list",4),a(9,"app-cms-location-selector",5),S(10,"translate"),v("optionChange",function(h){return e.onActionSelectorLocation(h)}),l()(),a(11,"div",6)(12,"div",7)(13,"small",8),p(14),l(),a(15,"small",9),p(16),l()()(),a(17,"div",10),I(18,na,5,3,"div",11),l()),i&2&&(r(),_(" ",e.formInfo.formTitle," "),r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",M(5,16,"TITLE.SITE")),r(2),m("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",M(7,18,"TITLE.USER")),r(2),m("dataModel",e.dataModel)("optionMethod",1),r(),m("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(10,20,"TITLE.Region")),r(5),_("",e.formInfo.formAlert," "),r(2),_("",e.formInfo.formError," "),r(2),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ho,fo,_o,q,uo,H],encapsulation:2});let n=s;return n})();var oa=()=>[5,10,20,100],ra=n=>({display:n});function aa(n,s){if(n&1){let o=w();a(0,"div",48)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonViewRow(i.tableRowSelected))}),C(2,"i",50)(3,"br"),l(),a(4,"p",51),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.VIEW")))}function la(n,s){if(n&1){let o=w();a(0,"div",48)(1,"a",52),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",53)(3,"br"),l(),a(4,"p",51),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function sa(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function da(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function ca(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function pa(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function ma(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ua(n,s){if(n&1&&C(0,"select",57),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,ra,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function fa(n,s){if(n&1&&(a(0,"mat-cell",55),S(1,"statusCellClass"),C(2,"i",55),S(3,"statusIconClass"),I(4,ua,1,5,"select",56),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ga(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function ha(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmsuserinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;r(),_(" ",M(3,3,M(2,1,o.linkUserId))," ")}}function _a(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Sa(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkMemberId," ")}}function Ma(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkLocationIdTitle==null?null:o.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function Ia(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkLocationIdTitle," ")}}function ba(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkLocationIdParentTitle==null?null:o.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function Ca(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkLocationIdParentTitle," ")}}function va(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceStatus==null?null:o.fieldsInfo.deviceStatus.fieldTitle," ")}}function wa(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceStatus," ")}}function ya(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceId==null?null:o.fieldsInfo.deviceId.fieldTitle," ")}}function Ta(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceId," ")}}function Ea(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.deviceBrand==null?null:o.fieldsInfo.deviceBrand.fieldTitle," ")}}function Da(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.deviceBrand," ")}}function xa(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.simCard==null?null:o.fieldsInfo.simCard.fieldTitle," ")}}function Aa(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.simCard," ")}}function Pa(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.appBuildVer==null?null:o.fieldsInfo.appBuildVer.fieldTitle," ")}}function Ra(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.appBuildVer," ")}}function Wa(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.appSourceVer==null?null:o.fieldsInfo.appSourceVer.fieldTitle," ")}}function ka(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.appSourceVer," ")}}function La(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.scorePercent==null?null:o.fieldsInfo.scorePercent.fieldTitle," ")}}function Va(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.scorePercent," %")}}function Ga(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ba(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",t.publicHelper.LocaleDate(o.createdDate)," ")}}function Fa(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Oa(n,s){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function Na(n,s){n&1&&C(0,"mat-header-row")}function Ha(n,s){if(n&1){let o=w();a(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Po=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee,Tt){super(t,new wi,Ee,V,h),this.contentService=t,this.cmsConfirmationDialogService=i,this.activatedRoute=e,this.cdr=c,this.translate=h,this.cmsToastrService=d,this.router=W,this.tokenHelper=V,this.pageInfo=ce,this.publicHelper=Ee,this.dialog=Tt,this.requestLinkMemberId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Bt=>this.onSubmitOptionsSearch(Bt)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let t=new z;this.requestLinkMemberId>0&&(t.propertyName="LinkMemberId",t.value=this.requestLinkMemberId,this.filteModelContent.filters.push(t)),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new wi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(W=>{i.set(W,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(W=>{i.set(W,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};s.\u0275fac=function(i){return new(i||s)(b(ui),b(Xe),b(at),b(B),b(F),b(N),b(Oe),b(ye),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-list"]],features:[J],decls:81,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),xe(1,4)(2,5)(3,6),x(4,7),a(5,"a",8),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(6,"i",9),l(),a(7,"a",8),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(8,"i",10),l(),A(),x(9,11),a(10,"a",12),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(11,"mat-slide-toggle",13),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(12),S(13,"translate"),l(),a(14,"a",14)(15,"mat-slide-toggle",15),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(16),S(17,"translate"),l(),A(),xe(18,16),x(19,17),I(20,aa,7,3,"div",18)(21,la,7,3,"div",18),A(),x(22,19),a(23,"app-cms-search-list",20),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(24,"app-cms-statist-list",20),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(25,21),a(26,"mat-table",22,0),v("matSortChange",function(){f(c);let d=P(27);return g(e.onTableSortData(d))}),x(28,23),I(29,sa,2,1,"mat-header-cell",24)(30,da,2,1,"mat-cell",25),A(),x(31,26),I(32,ca,2,1,"mat-header-cell",24)(33,pa,4,5,"mat-cell",25),A(),x(34,27),I(35,ma,2,1,"mat-header-cell",24)(36,fa,5,7,"mat-cell",28),A(),x(37,29),I(38,ga,2,1,"mat-header-cell",24)(39,ha,4,5,"mat-cell",25),A(),x(40,30),I(41,_a,2,1,"mat-header-cell",24)(42,Sa,2,1,"mat-cell",25),A(),x(43,31),I(44,Ma,2,1,"mat-header-cell",24)(45,Ia,2,1,"mat-cell",25),A(),x(46,32),I(47,ba,2,1,"mat-header-cell",24)(48,Ca,2,1,"mat-cell",25),A(),x(49,33),I(50,va,2,1,"mat-header-cell",24)(51,wa,2,1,"mat-cell",25),A(),x(52,34),I(53,ya,2,1,"mat-header-cell",24)(54,Ta,2,1,"mat-cell",25),A(),x(55,35),I(56,Ea,2,1,"mat-header-cell",24)(57,Da,2,1,"mat-cell",25),A(),x(58,36),I(59,xa,2,1,"mat-header-cell",24)(60,Aa,2,1,"mat-cell",25),A(),x(61,37),I(62,Pa,2,1,"mat-header-cell",24)(63,Ra,2,1,"mat-cell",25),A(),x(64,38),I(65,Wa,2,1,"mat-header-cell",24)(66,ka,2,1,"mat-cell",25),A(),x(67,39),I(68,La,2,1,"mat-header-cell",24)(69,Va,2,1,"mat-cell",25),A(),x(70,40),I(71,Ga,2,1,"mat-header-cell",24)(72,Ba,2,1,"mat-cell",25),A(),x(73,41),I(74,Fa,3,3,"mat-header-cell",42)(75,Oa,6,1,"mat-cell",43),A(),I(76,Na,1,0,"mat-header-row",44)(77,Ha,1,6,"mat-row",45),l(),A(),x(78,46),a(79,"mat-paginator",47,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(11),T("ngModel",e.optionsSearch.data.show),r(),_("",M(13,22,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(17,24,"ACTION.STATIST")," "),r(4),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(50),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(26,oa)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,ot,H,eo,Yi,Qe,kt],encapsulation:2});let n=s;return n})();var ja=["*"];function qa(n,s){if(n&1&&(a(0,"label",8),p(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Ua(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),p(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),r(2),y(t.displayOption(o))}}function za(n,s){if(n&1){let o=w();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),p(1,"close"),l()}}var nn=(()=>{let s=class s{constructor(t,i,e,c,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=c,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new U,this.dataModelSelect=new We,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(c,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),h.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof We){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new We,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(b(Y),b(B),b(k),b(F),b(st))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:ja,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();Jt(),a(0,"div",1),C(1,"app-progress-spinner",2),I(2,qa,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(c),g(e.onActionSelect(d.option.value))}),I(6,Ua,3,3,"mat-option",6),S(7,"async"),l(),I(8,za,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let c=P(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Dt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,rt,X,j,q,ot],encapsulation:2});let n=s;return n})();var Ja=["vform"],Ya=()=>["fa"];function Xa(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Za(n,s){n&1&&C(0,"i",35)}function $a(n,s){n&1&&C(0,"i",36)}function el(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function tl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",30),p(2),l(),a(3,"input",31,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Za,1,0,"i",32)(6,$a,1,0,"i",33),a(7,"em"),p(8),l(),I(9,el,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function il(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function nl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",37),p(2),l(),a(3,"input",38,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),I(5,il,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),m("ngIf",o.errors==null?null:o.errors.required)}}function ol(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",39),p(2),l(),a(3,"input",40,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),a(5,"em"),p(6),l()()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),T("ngModel",t.dataModel.routeAddressLink),m("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),r(3),_("",o.value.length," / 500")}}function rl(n,s){if(n&1){let o=w();a(0,"div",41)(1,"div",42)(2,"h5",43),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),C(7,"label",47),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),r(3),T("ngModel",o.dataModel.routeAddressBlankPage)}}function al(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",48),p(2),l(),a(3,"input",49,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),C(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();r(2),y(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),m("ngxMatColorPicker",o),T("ngModel",t.dataModel.color),m("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),r(2),m("for",o),r(),m("touchUi",!0)("color","primary")}}function ll(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",52),p(2),l(),a(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),r(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),m("iconPicker",o.dataModel.icon)("ipIconPack",we(7,Ya))("ipPosition","top"),T("ngModel",o.dataModel.icon),m("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function sl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",54),p(2),l(),a(3,"input",55,8),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),r(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),T("ngModel",o.dataModel.showInMenuOrder),m("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function dl(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function cl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",56),p(2),l(),a(3,"textarea",57,9),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"              "),l(),a(6,"em"),p(7),l(),I(8,dl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function pl(n,s){if(n&1){let o=w();a(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),p(2),S(3,"translate"),l(),a(4,"button",60),p(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function ml(n,s){n&1&&(a(0,"mat-icon"),p(1,"call_end"),l())}function ul(n,s){n&1&&(a(0,"mat-icon"),p(1,"call_end"),l())}function fl(n,s){n&1&&(a(0,"mat-icon"),p(1,"forum"),l())}function gl(n,s){n&1&&(a(0,"mat-icon"),p(1,"forum"),l())}var on=(()=>{let s=class s extends Lt{constructor(t,i,e,c,h,d,W,V){super(c,new We,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestParentId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResult=new U,this.dataModel=new We,this.formInfo=new ae,this.dataModelEnumMenuPlaceTypeResult=new U,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestParentId=t.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(st),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,e){if(i&1&&ne(Ja,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let c=w();a(0,"div",10),C(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",14,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(d){f(c);let W=P(11);return g(e.onStepClick(d,W))}),a(12,"mat-step",16),S(13,"translate"),I(14,Xa,1,5,"app-cms-enum-record-status-selector",17),a(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectorSelect(d))}),l(),I(17,tl,10,8,"div",19),a(18,"div",20)(19,"label",21),p(20),S(21,"translate"),l(),a(22,"input",22),D("ngModelChange",function(d){return f(c),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),I(23,nl,6,5,"div",19)(24,ol,7,5,"div",19)(25,rl,8,2,"div",23)(26,al,8,10,"div",19)(27,ll,5,8,"div",19)(28,sl,5,4,"div",19)(29,cl,9,5,"div",19)(30,pl,7,7,"div",24),l(),I(31,ml,2,0,"ng-template",25)(32,ul,2,0,"ng-template",26)(33,fl,2,0,"ng-template",27)(34,gl,2,0,"ng-template",28),l()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,22,"TITLE.Menu_Profile")),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),r(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(21,26,"TITLE.TitleML"),""),r(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),m("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),r(),m("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),r(),m("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),r(),m("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),r(),m("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,At,O,pe,_e,Se,Me,Q,me,Ie,rt,X,j,ri,ai,Qi,ve,q,Hi,Ni,Oi,$i,nn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var hl=["vform"],_l=()=>["fa"];function Sl(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ml(n,s){n&1&&C(0,"i",35)}function Il(n,s){n&1&&C(0,"i",36)}function bl(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Cl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",30),p(2),l(),a(3,"input",31,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Ml,1,0,"i",32)(6,Il,1,0,"i",33),a(7,"em"),p(8),l(),I(9,bl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function vl(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function wl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",37),p(2),l(),a(3,"input",38,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),I(5,vl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(2),m("ngIf",o.errors==null?null:o.errors.required)}}function yl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",39),p(2),l(),a(3,"input",40,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),a(5,"em"),p(6),l()()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),T("ngModel",t.dataModel.routeAddressLink),m("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),r(3),_("",o.value.length," / 500")}}function Tl(n,s){if(n&1){let o=w();a(0,"div",41)(1,"div",42)(2,"h5",43),p(3),l()(),a(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),C(7,"label",47),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),r(3),T("ngModel",o.dataModel.routeAddressBlankPage)}}function El(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",48),p(2),l(),a(3,"input",49,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),C(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();r(2),y(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),r(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),m("ngxMatColorPicker",o),T("ngModel",t.dataModel.color),m("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),r(2),m("for",o),r(),m("touchUi",!0)("color","primary")}}function Dl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",52),p(2),l(),a(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),r(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),m("iconPicker",o.dataModel.icon)("ipIconPack",we(7,_l))("ipPosition","top"),T("ngModel",o.dataModel.icon),m("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function xl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",54),p(2),l(),a(3,"input",55,8),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();r(2),y(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),r(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),T("ngModel",o.dataModel.showInMenuOrder),m("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function Al(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Pl(n,s){if(n&1){let o=w();a(0,"div",20)(1,"label",56),p(2),l(),a(3,"textarea",57,9),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"              "),l(),a(6,"em"),p(7),l(),I(8,Al,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Rl(n,s){if(n&1){let o=w();a(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),p(2),S(3,"translate"),l(),a(4,"button",60),p(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);r(2),_(" ",M(3,3,"ACTION.BACK")," "),r(2),m("disabled",!o.form.valid),r(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function Wl(n,s){n&1&&(a(0,"mat-icon"),p(1,"call_end"),l())}function kl(n,s){n&1&&(a(0,"mat-icon"),p(1,"call_end"),l())}function Ll(n,s){n&1&&(a(0,"mat-icon"),p(1,"forum"),l())}function Vl(n,s){n&1&&(a(0,"mat-icon"),p(1,"forum"),l())}var rn=(()=>{let s=class s extends Vt{constructor(t,i,e,c,h,d,W,V){super(c,new We,h,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=c,this.publicHelper=h,this.cmsToastrService=d,this.cdr=W,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new We,this.formInfo=new ae,this.dataModelEnumMenuPlaceTypeResult=new U,this.fileManagerOpenForm=!1,this.dataWebDesignerMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(Pt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataWebDesignerMainMenuModel=t}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(st),b(k),b(N),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,e){if(i&1&&ne(hl,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let c=w();a(0,"div",10),C(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",14,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),a(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(d){f(c);let W=P(11);return g(e.onStepClick(d,W))}),a(12,"mat-step",16),S(13,"translate"),I(14,Sl,1,5,"app-cms-enum-record-status-selector",17),a(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectorSelect(d))}),l(),I(17,Cl,10,8,"div",19),a(18,"div",20)(19,"label",21),p(20),S(21,"translate"),l(),a(22,"input",22),D("ngModelChange",function(d){return f(c),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),I(23,wl,6,5,"div",19)(24,yl,7,5,"div",19)(25,Tl,8,2,"div",23)(26,El,8,10,"div",19)(27,Dl,5,8,"div",19)(28,xl,5,4,"div",19)(29,Pl,9,5,"div",19)(30,Rl,7,7,"div",24),l(),I(31,Wl,2,0,"ng-template",25)(32,kl,2,0,"ng-template",26)(33,Ll,2,0,"ng-template",27)(34,Vl,2,0,"ng-template",28),l()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),R("label",M(13,22,"TITLE.Menu_Profile")),r(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),r(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(21,26,"TITLE.TitleML"),""),r(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),m("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),r(),m("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),r(),m("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),r(),m("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),r(),m("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,At,O,pe,_e,Se,Me,Q,me,Ie,rt,X,j,ri,ai,Qi,ve,q,Hi,Ni,Oi,$i,nn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();function Gl(n,s){if(n&1){let o=w();a(0,"button",12),v("click",function(){f(o);let i=u();return g(i.onActionAdd())}),p(1),S(2,"translate"),l()}n&2&&(r(),y(M(2,1,"ACTION.ADD")))}function Bl(n,s){if(n&1){let o=w();a(0,"button",13),v("click",function(){f(o);let i=u();return g(i.onActionEdit())}),p(1),S(2,"translate"),l()}n&2&&(r(),y(M(2,1,"ACTION.EDIT")))}function Fl(n,s){if(n&1){let o=w();a(0,"button",14),v("click",function(){f(o);let i=u();return g(i.onActionButtonReload())}),a(1,"mat-icon",15),S(2,"translate"),p(3,"refresh"),l()()}n&2&&(r(),R("title",M(2,1,"ACTION.RELOAD")))}function Ol(n,s){if(n&1){let o=w();a(0,"mat-tree-node",16),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),C(1,"button",17)(2,"i",18),p(3),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===o.id),r(2),m("ngClass",o.Icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.title," ")}}function Nl(n,s){if(n&1){let o=w();a(0,"mat-nested-tree-node")(1,"li")(2,"div",19),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),a(3,"button",20),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),a(4,"mat-icon",21),p(5),l()(),C(6,"i",18),p(7),l(),a(8,"ul"),xe(9,22),l()()()}if(n&2){let o=s.$implicit,t=u();r(2),Pe("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===o.id),r(),Dt("aria-label","Toggle "+o.title),r(2),_(" ",t.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),Kt("color",o.color),m("ngClass",o.Icon),r(),_(" \xA0\xA0\xA0\xA0 ",o.title," "),r(),Pe("category-tree-invisible",!t.treeControl.isExpanded(o))}}var Wo=(()=>{let s=class s{constructor(t,i,e,c,h,d,W,V){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=h,this.publicHelper=d,this.tokenHelper=W,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new We,this.dataModelResult=new U,this.filterModel=new $,this.treeControl=new io(ce=>ce.children),this.dataSource=new po,this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(ce,Ee)=>!!Ee.children&&Ee.children.length>0,this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=K.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:i=>{i.isSuccess&&(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new We,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id);let i=new Hn;i.disableClose=!0,i.autoFocus=!0,i.data={parentId:t},this.dialog.open(on,i).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};s.\u0275fac=function(i){return new(i||s)(b(N),b(Y),b(st),b(Ne),b(B),b(k),b(ye),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(a(0,"app-cms-html-tree",0),x(1,1),p(2),S(3,"translate"),A(),x(4,2),I(5,Gl,3,3,"button",3)(6,Bl,3,3,"button",4)(7,Fl,4,3,"button",5),A(),x(8,6),C(9,"app-progress-spinner",7),a(10,"mat-tree",8),I(11,Ol,4,8,"mat-tree-node",9)(12,Nl,10,10,"mat-nested-tree-node",10),l(),A(),xe(13,11),l()),i&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),_(" ",M(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[Ae,G,Re,X,ro,oo,ao,co,so,no,lo,q,yi,H],encapsulation:2});let n=s;return n})();var jl=()=>["expandedTitle"],ql=()=>[5,10,20,100],Ul=n=>({display:n});function zl(n,s){if(n&1){let o=w();a(0,"div",43)(1,"a",44),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",45)(3,"br"),l(),a(4,"p",46),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Ql(n,s){if(n&1){let o=w();a(0,"div",43)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",48)(3,"br"),l(),a(4,"p",46),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function Kl(n,s){if(n&1){let o=w();a(0,"div",43)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",50)(3,"br"),l(),a(4,"p",46),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function Jl(n,s){if(n&1){let o=w();a(0,"mat-row",51),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yl(n,s){if(n&1&&(a(0,"mat-header-cell",52),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle," ")}}function Xl(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",53),l()),n&2){let o=s.$implicit;r(),Kt("color",o.color),m("ngClass",o.icon)}}function Zl(n,s){if(n&1&&(a(0,"mat-header-cell",52),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function $l(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function es(n,s){if(n&1&&(a(0,"mat-header-cell",52),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ts(n,s){if(n&1&&C(0,"select",56),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,Ul,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function is(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",54),S(2,"statusIconClass"),I(3,ts,1,5,"select",55),l()),n&2){let o=s.$implicit,t=u();r(),m("ngClass",M(2,2,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ns(n,s){if(n&1&&(a(0,"mat-header-cell",52),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle,"")}}function os(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function rs(n,s){n&1&&(a(0,"mat-header-cell",52),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data"),""))}function as(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",54),S(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),m("ngClass",M(2,1,o.showInAccessAdminAllowToProfessionalData))}}function ls(n,s){n&1&&(a(0,"mat-header-cell",52),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.Menu_Place_Type")," "))}function ss(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"enums"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.menuPlaceType,t.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function ds(n,s){if(n&1&&(a(0,"mat-header-cell",52),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function cs(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.showInMenuOrder," ")}}function ps(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function ms(n,s){if(n&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function us(n,s){n&1&&(a(0,"mat-header-cell",52),p(1),S(2,"translate"),l()),n&2&&(r(),_("",M(2,1,"ACTION.ORDERING")," "))}function fs(n,s){n&1&&(a(0,"mat-cell")(1,"mat-icon",59),p(2,"reorder"),l()())}function gs(n,s){n&1&&C(0,"mat-header-row")}function hs(n,s){if(n&1){let o=w();a(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",o)}}function _s(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"translate"),C(3,"br"),p(4),S(5,"translate"),C(6,"br"),p(7),S(8,"translate"),l()),n&2){let o=s.$implicit;r(),Xt(" ",M(2,6,"TITLE.Id")," : ",o.id," "),r(3),Xt(" ",M(5,8,"TITLE.title")," : ",o.title," "),r(3),Xt(" ",M(8,10,"TITLE.DisplayInThePriorityMenu")," : ",o.ShowInMenuOrder," ")}}var Lo=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee){super(t,new We,ce,c,W),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=c,this.coreEnumService=h,this.cdr=d,this.translate=W,this.pageInfo=V,this.publicHelper=ce,this.dialog=Ee,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.dataModelEnumMenuPlaceTypeResult=new U,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=K.Ascending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new We);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new z;e.propertyName="LinkParentId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(c=>c===t.item.data),e=new zn;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=dn.GoUp:e.actionGo=dn.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:c=>{c.isSuccess&&(Io(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:c=>{this.cmsToastrService.typeError(c)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new $,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(on,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(b(st),b(Xe),b(N),b(ye),b(Y),b(B),b(F),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-list"]],features:[J],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","cdkDragData"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-webdesigner-menu-tree",5),v("optionChange",function(d){return f(c),g(e.onActionSelectorSelect(d))}),l(),A(),xe(3,6)(4,7),x(5,8),a(6,"a",9),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(7,"i",10),l(),a(8,"a",9),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(9,"i",11),l(),A(),x(10,12),a(11,"a",13),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",14),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(13),S(14,"translate"),l(),a(15,"a",15)(16,"mat-slide-toggle",16),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(17),S(18,"translate"),l(),A(),x(19,17),I(20,zl,7,3,"div",18),A(),x(21,19),I(22,Ql,7,3,"div",18)(23,Kl,7,3,"div",18),A(),x(24,20),a(25,"app-cms-search-list",21),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(26,"app-cms-statist-list",21),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(27,22),a(28,"mat-table",23,0),v("matSortChange",function(){f(c);let d=P(29);return g(e.onTableSortData(d))})("cdkDropListDropped",function(d){return f(c),g(e.onTableDropRow(d))}),I(30,Jl,1,6,"mat-row",24),x(31,25),I(32,Yl,2,1,"mat-header-cell",26)(33,Xl,2,3,"mat-cell",27),A(),x(34,28),I(35,Zl,2,1,"mat-header-cell",26)(36,$l,2,1,"mat-cell",27),A(),x(37,29),I(38,es,2,1,"mat-header-cell",26)(39,is,4,4,"mat-cell",27),A(),x(40,30),I(41,ns,2,1,"mat-header-cell",26)(42,os,2,1,"mat-cell",27),A(),x(43,31),I(44,rs,3,3,"mat-header-cell",26)(45,as,3,3,"mat-cell",27),A(),x(46,32),I(47,ls,3,3,"mat-header-cell",26)(48,ss,3,4,"mat-cell",27),A(),x(49,33),I(50,ds,2,1,"mat-header-cell",26)(51,cs,2,1,"mat-cell",27),A(),x(52,34),I(53,ps,3,3,"mat-header-cell",35)(54,ms,6,1,"mat-cell",36),A(),x(55,37),I(56,us,3,3,"mat-header-cell",26)(57,fs,3,0,"mat-cell",27),A(),I(58,gs,1,0,"mat-header-row",38)(59,hs,1,7,"mat-row",39),x(60,40),I(61,_s,9,12,"mat-cell",27),A(),l(),A(),x(62,41),a(63,"mat-paginator",42,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.menu"),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),T("ngModel",e.optionsSearch.data.show),r(),_("",M(14,25,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(18,27,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource)("cdkDropListData",e.tableSource),r(2),m("matRowDefColumns",we(29,jl)),r(28),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(4),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(30,ql)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,vo,Co,bo,Wo,H,mo,Qe,fi],encapsulation:2});let n=s;return n})();var Ms=["vform"];function Is(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bs(n,s){n&1&&C(0,"i",25)}function Cs(n,s){n&1&&C(0,"i",26)}function vs(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ws(n,s){if(n&1){let o=w();a(0,"div",13)(1,"label",23),p(2),l(),a(3,"input",24,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,bs,1,0,"i",16)(6,Cs,1,0,"i",17),a(7,"em"),p(8),l(),I(9,vs,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function ys(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ts(n,s){if(n&1){let o=w();a(0,"div",13)(1,"label",27),p(2),l(),a(3,"input",28,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),p(6),l(),I(7,ys,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Es(n,s){n&1&&C(0,"i",25)}function Ds(n,s){n&1&&C(0,"i",26)}function xs(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function As(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ps(n,s){if(n&1){let o=w();a(0,"div",29)(1,"button",30),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",31),p(3),S(4,"translate"),l(),a(5,"button",32),C(6,"i",33),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var _n=(()=>{let s=class s extends Lt{constructor(t,i,e,c,h,d,W,V){super(c,new $e,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestLinkModuleId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new $e,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkModuleId=+t.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(Rt),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,e){if(i&1&&ne(Ms,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:32,vars:27,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,Is,1,5,"app-cms-enum-record-status-selector",10)(11,ws,10,8,"div",11)(12,Ts,8,6,"div",11),a(13,"app-cms-module-selector",12),S(14,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectModule(d))}),l(),a(15,"div",13)(16,"label",14),p(17),l(),a(18,"input",15,1),D("ngModelChange",function(d){return f(c),E(e.dataModel.cmsModuleClassName,d)||(e.dataModel.cmsModuleClassName=d),g(d)}),l(),I(20,Es,1,0,"i",16)(21,Ds,1,0,"i",17),a(22,"em"),p(23),l(),I(24,xs,5,4,"mat-error",18),l(),a(25,"div",13)(26,"label",19),p(27),l(),a(28,"input",20,2),D("ngModelChange",function(d){return f(c),E(e.dataModel.classActionName,d)||(e.dataModel.classActionName=d),g(d)}),l(),I(30,As,5,4,"mat-error",18),l(),I(31,Ps,9,7,"div",21),l()()()}if(i&2){let c=P(19),h=P(29);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(14,25,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessAddField)),r(4),y(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.cmsModuleClassName),m("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessAddField)),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),y(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.classActionName),m("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessAddField)),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,_e,Se,Me,Q,me,Ie,j,ve,Xi,q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Rs=["*"];function Ws(n,s){if(n&1&&(a(0,"label",8),p(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function ks(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),p(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),r(2),y(t.displayOption(o))}}function Ls(n,s){if(n&1){let o=w();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),p(1,"close"),l()}}var Ci=(()=>{let s=class s{constructor(t,i,e,c,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=c,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new U,this.dataModelSelect=new et,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let c=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(c,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof et){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new et,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(b(Y),b(B),b(k),b(F),b(ct))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Rs,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();Jt(),a(0,"div",1),C(1,"app-progress-spinner",2),I(2,Ws,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(c),g(e.onActionSelect(d.option.value))}),I(6,ks,3,3,"mat-option",6),S(7,"async"),l(),I(8,Ls,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let c=P(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Dt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,rt,X,j,q,ot],encapsulation:2});let n=s;return n})();var Vs=["*"];function Gs(n,s){if(n&1&&(a(0,"label",8),p(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Bs(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),p(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),r(2),y(t.displayOption(o))}}function Fs(n,s){if(n&1){let o=w();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),p(1,"close"),l()}}var vi=(()=>{let s=class s{constructor(t,i,e,c,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=c,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new U,this.dataModelSelect=new Ze,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionMasterPage=!1,this.optionLabel="",this.optionPlaceholder="",this.optionChange=new Et,this.masterTemplateId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(t){this.masterTemplateId=t,this.loadOptions()}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new z,c=new z;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,c.filters.push(e)),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,c.filters.push(e)),i.filters.push(c),this.optionMasterPage&&(e=new z,e.propertyName="PageAbilityType",e.value=Un.Master,e.searchType=je.Equal,e.clauseType=He.And,i.filters.push(e)),this.masterTemplateId&&this.masterTemplateId.length>0&&(e=new z,e.propertyName="LinkPageTemplateGuId",e.value=this.masterTemplateId,e.searchType=je.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(d=>(this.dataModelResult=d,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),d.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Ze){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(b(Y),b(F),b(B),b(k),b(dt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Vs,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();Jt(),a(0,"div",1),C(1,"app-progress-spinner",2),I(2,Gs,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(c),g(e.onActionSelect(d.option.value))}),I(6,Bs,3,3,"mat-option",6),S(7,"async"),l(),I(8,Fs,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let c=P(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Dt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,rt,X,j,q,ot],encapsulation:2});let n=s;return n})();var Os=["vform"];function Ns(n,s){if(n&1){let o=w();a(0,"app-webdesigner-page-selector",17),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Hs(n,s){if(n&1){let o=w();a(0,"div",12)(1,"button",18),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",19),p(3),S(4,"translate"),l(),a(5,"button",20),C(6,"i",21),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Vo=(()=>{let s=class s{constructor(t,i,e,c,h,d,W,V){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new Zn,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Automatically_add_all_pages")}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(dt),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(i,e){if(i&1&&ne(Os,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",1),C(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",5,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),a(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),S(12,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectModule(d))}),l(),I(13,Ns,2,6,"app-webdesigner-page-selector",8),a(14,"div",9)(15,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(c),E(e.dataModel.pageDependencyIsDefaultPage,d)||(e.dataModel.pageDependencyIsDefaultPage=d),g(d)}),p(16),l()()(),a(17,"div",11)(18,"div",12)(19,"small",13),p(20),l(),a(21,"small",14),p(22),l()()(),a(23,"div",15),I(24,Hs,9,7,"div",16),l()()()()}i&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),r(5),m("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),r(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(2),T("ngModel",e.dataModel.pageDependencyIsDefaultPage),r(),_(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),r(4),_("",e.formInfo.formAlert," "),r(2),_("",e.formInfo.formError," "),r(2),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,O,pe,Q,me,ke,q,Ci,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var js=["vform"];function qs(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",24),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Us(n,s){n&1&&C(0,"i",27)}function zs(n,s){n&1&&C(0,"i",28)}function Qs(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ks(n,s){if(n&1){let o=w();a(0,"div",12)(1,"label",25),p(2),l(),a(3,"input",26,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Us,1,0,"i",18)(6,zs,1,0,"i",19),a(7,"em"),p(8),l(),I(9,Qs,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Js(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ys(n,s){if(n&1){let o=w();a(0,"div",12)(1,"label",29),p(2),l(),a(3,"input",30,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),p(6),l(),I(7,Js,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Xs(n,s){n&1&&C(0,"i",27)}function Zs(n,s){n&1&&C(0,"i",28)}function $s(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ed(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function td(n,s){if(n&1){let o=w();a(0,"div",31)(1,"button",32),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",33),p(3),S(4,"translate"),l(),a(5,"button",34),C(6,"i",35),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var In=(()=>{let s=class s extends Vt{constructor(t,i,e,c,h,d,W,V){super(c,new $e,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new $e,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(Pt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(Rt),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,e){if(i&1&&ne(js,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:37,vars:32,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,qs,1,5,"app-cms-enum-record-status-selector",10)(11,Ks,10,8,"div",11),a(12,"div",12)(13,"label",13),p(14),S(15,"translate"),l(),a(16,"input",14),D("ngModelChange",function(d){return f(c),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),I(17,Ys,8,6,"div",11),a(18,"app-cms-module-selector",15),S(19,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectModule(d))}),l(),a(20,"div",12)(21,"label",16),p(22),l(),a(23,"input",17,1),D("ngModelChange",function(d){return f(c),E(e.dataModel.cmsModuleClassName,d)||(e.dataModel.cmsModuleClassName=d),g(d)}),l(),I(25,Xs,1,0,"i",18)(26,Zs,1,0,"i",19),a(27,"em"),p(28),l(),I(29,$s,5,4,"mat-error",20),l(),a(30,"div",12)(31,"label",21),p(32),l(),a(33,"input",22,2),D("ngModelChange",function(d){return f(c),E(e.dataModel.classActionName,d)||(e.dataModel.classActionName=d),g(d)}),l(),I(35,ed,5,4,"mat-error",20),l(),I(36,td,9,7,"div",23),l()()()}if(i&2){let c=P(24),h=P(34);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),_(" ",M(15,28,"TITLE.TitleML"),""),r(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(19,30,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(4),y(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.cmsModuleClassName),m("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessEditField)),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),y(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),r(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.classActionName),m("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessEditField)),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,_e,Se,Me,Q,me,Ie,j,ve,Xi,q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var id=()=>[5,10,20,100],nd=n=>({display:n});function od(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",48)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function rd(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoDependency())}),a(2,"i",48),p(3,"Dependency"),l(),C(4,"br"),l(),a(5,"p",23),p(6),S(7,"translate"),l()()}n&2&&(r(6),_("",M(7,1,"ACTION.AUTOADD"),"Dependency"))}function ad(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoPage())}),a(2,"i",48),p(3,"Page"),l(),C(4,"br"),l(),a(5,"p",23),p(6),S(7,"translate"),l()()}n&2&&(r(6),_("",M(7,1,"ACTION.AUTOADD"),"Page"))}function ld(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",50),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",51)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function sd(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",52),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",53)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function dd(n,s){n&1&&(a(0,"mat-header-cell",54),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function cd(n,s){if(n&1&&(C(0,"img",56),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),De)}}function pd(n,s){if(n&1&&(a(0,"mat-cell"),I(1,cd,2,3,"img",55),l()),n&2){let o=s.$implicit;r(),m("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function md(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ud(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function fd(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function gd(n,s){if(n&1&&C(0,"select",59),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,nd,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function hd(n,s){if(n&1&&(a(0,"mat-cell",57),S(1,"statusCellClass"),C(2,"i",57),S(3,"statusIconClass"),I(4,gd,1,5,"select",58),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function _d(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Sd(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Md(n,s){n&1&&(a(0,"mat-header-cell",54),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.TitleML")," "))}function Id(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.titleML," ")}}function bd(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkModuleId==null?null:o.fieldsInfo.linkModuleId.fieldTitle," ")}}function Cd(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function vd(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function wd(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.cmsModuleClassName," ")}}function yd(n,s){if(n&1&&(a(0,"mat-header-cell",54),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function Td(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.classActionName," ")}}function Ed(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Dd(n,s){if(n&1&&(a(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function xd(n,s){n&1&&C(0,"mat-header-row")}function Ad(n,s){if(n&1){let o=w();a(0,"mat-row",62),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bo=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee,Tt,Bt,ln){super(t,new $e,Bt,W,Ee),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=c,this.activatedRoute=h,this.router=d,this.tokenHelper=W,this.http=V,this.cdr=ce,this.translate=Ee,this.pageInfo=Tt,this.publicHelper=Bt,this.dialog=ln,this.requestLinkModuleId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelCoreModuleResult=new U,this.categoryModelSelected=new Jn,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=K.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList()}getModuleList(){let t=new $;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $e);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new z,e=JSON.parse(JSON.stringify(this.filteModelContent));this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,e.filters.push(i)),this.contentService.ServiceGetAllEditor(e).subscribe({next:c=>{c.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),this.dataModelResult=c,this.tableSource.data=c.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(c.access)},1e3)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):(K,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),K,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(_n,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=new z;this.contentService.ServiceAutoAdd().subscribe({next:e=>{e.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(In,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.tokenInfo.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.currentSiteDomainUrl+"/"+t.cmsModuleClassName+"/"+t.classActionName;window.open(i,"_blank")}onActionSelectorSelect(t){let i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new $,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(b(Rt),b(N),b(Xe),b(ji),b(at),b(Oe),b(ye),b(En),b(B),b(F),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-list"]],features:[J],decls:78,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-core-module-tree",5),v("optionChange",function(d){return f(c),g(e.onActionSelectorSelect(d))}),l(),A(),xe(3,6)(4,7),x(5,8),a(6,"a",9),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(7,"i",10),l(),a(8,"a",9),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(9,"i",11),l(),A(),x(10,12),a(11,"a",13),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",14),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(13),S(14,"translate"),l(),a(15,"a",15)(16,"mat-slide-toggle",16),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(17),S(18,"translate"),l(),A(),x(19,17),I(20,od,7,3,"div",18)(21,rd,8,3,"div",18)(22,ad,8,3,"div",18),A(),x(23,19),I(24,ld,7,3,"div",18)(25,sd,7,3,"div",18),a(26,"div",20)(27,"a",21),v("click",function(){return f(c),g(e.onActionButtonPageList(e.tableRowSelected))}),C(28,"i",22)(29,"br"),l(),a(30,"p",23),p(31),S(32,"translate"),l()(),a(33,"div",20)(34,"a",21),v("click",function(){return f(c),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),C(35,"i",24)(36,"br"),l(),a(37,"p",23),p(38),S(39,"translate"),l()(),A(),x(40,25),a(41,"app-cms-search-list",26),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(42,"app-cms-statist-list",26),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(43,27),a(44,"mat-table",28,0),v("matSortChange",function(){f(c);let d=P(45);return g(e.onTableSortData(d))}),x(46,29),I(47,dd,3,3,"mat-header-cell",30)(48,pd,2,1,"mat-cell",31),A(),x(49,32),I(50,md,2,1,"mat-header-cell",30)(51,ud,2,1,"mat-cell",31),A(),x(52,33),I(53,fd,2,1,"mat-header-cell",30)(54,hd,5,7,"mat-cell",34),A(),x(55,35),I(56,_d,2,1,"mat-header-cell",30)(57,Sd,2,1,"mat-cell",31),A(),x(58,36),I(59,Md,3,3,"mat-header-cell",30)(60,Id,2,1,"mat-cell",31),A(),x(61,37),I(62,bd,2,1,"mat-header-cell",30)(63,Cd,3,4,"mat-cell",31),A(),x(64,38),I(65,vd,2,1,"mat-header-cell",30)(66,wd,2,1,"mat-cell",31),A(),x(67,39),I(68,yd,2,1,"mat-header-cell",30)(69,Td,2,1,"mat-cell",31),A(),x(70,40),I(71,Ed,3,3,"mat-header-cell",41)(72,Dd,6,1,"mat-cell",42),A(),I(73,xd,1,0,"mat-header-row",43)(74,Ad,1,6,"mat-row",44),l(),A(),x(75,45),a(76,"mat-paginator",46,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",e.requestLinkModuleId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),T("ngModel",e.optionsSearch.data.show),r(),_("",M(14,27,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(18,29,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(32,31,"ACTION.PAGES")),r(7),y(M(39,33,"ACTION.SHOW_WEB")),r(3),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(29),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(35,id)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,yo,H,gi,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var Pd=["vform"];function Rd(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wd(n,s){n&1&&C(0,"i",24)}function kd(n,s){n&1&&C(0,"i",25)}function Ld(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Vd(n,s){if(n&1){let o=w();a(0,"div",12)(1,"label",22),p(2),l(),a(3,"input",23,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Wd,1,0,"i",15)(6,kd,1,0,"i",16),a(7,"em"),p(8),l(),I(9,Ld,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Gd(n,s){n&1&&C(0,"i",24)}function Bd(n,s){n&1&&C(0,"i",25)}function Fd(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Od(n,s){n&1&&C(0,"i",24)}function Nd(n,s){n&1&&C(0,"i",25)}function Hd(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function jd(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function qd(n,s){if(n&1){let o=w();a(0,"div",12)(1,"label",26),p(2),l(),a(3,"textarea",27,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"                "),l(),a(6,"em"),p(7),l(),I(8,jd,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Ud(n,s){if(n&1){let o=w();a(0,"div",28)(1,"button",29),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",30),p(3),S(4,"translate"),l(),a(5,"button",31),C(6,"i",32),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var bn=(()=>{let s=class s extends Lt{constructor(t,i,e,c,h,d,W,V){super(c,new et,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new et,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(ct),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,e){if(i&1&&ne(Pd,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:35,vars:26,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",5),C(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",9,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,Rd,1,5,"app-cms-enum-record-status-selector",10)(11,Vd,10,8,"div",11),a(12,"div",12)(13,"label",13),p(14),l(),a(15,"input",14,1),S(17,"translate"),D("ngModelChange",function(d){return f(c),E(e.dataModel.folder,d)||(e.dataModel.folder=d),g(d)}),l(),I(18,Gd,1,0,"i",15)(19,Bd,1,0,"i",16),a(20,"em"),p(21),l(),I(22,Fd,5,4,"mat-error",17),l(),a(23,"div",12)(24,"label",18),p(25),l(),a(26,"input",19,2),D("ngModelChange",function(d){return f(c),E(e.dataModel.indexFile,d)||(e.dataModel.indexFile=d),g(d)}),l(),I(28,Od,1,0,"i",15)(29,Nd,1,0,"i",16),a(30,"em"),p(31),l(),I(32,Hd,5,4,"mat-error",17),l(),I(33,qd,9,5,"div",11)(34,Ud,9,7,"div",20),l()()()}if(i&2){let c=P(16),h=P(27);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),r(),R("placeholder",M(17,24,"TITLE.branch_path")),T("ngModel",e.dataModel.folder),m("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessAddField)),r(3),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),y(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),r(),T("ngModel",e.dataModel.indexFile),m("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessAddField)),r(2),m("ngIf",!h.value),r(),m("ngIf",h.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",h.errors==null?null:h.errors.required),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,_e,Se,Me,Q,me,Ie,j,ve,q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var zd=["vform"];function Qd(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",24),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kd(n,s){n&1&&C(0,"i",27)}function Jd(n,s){n&1&&C(0,"i",28)}function Yd(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Xd(n,s){if(n&1){let o=w();a(0,"div",13)(1,"label",25),p(2),l(),a(3,"input",26,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Kd,1,0,"i",16)(6,Jd,1,0,"i",17),a(7,"em"),p(8),l(),I(9,Yd,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Zd(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function $d(n,s){if(n&1){let o=w();a(0,"div",13)(1,"label",29),p(2),l(),a(3,"input",30,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),a(5,"em"),p(6),l(),I(7,Zd,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),r(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function ec(n,s){n&1&&C(0,"i",27)}function tc(n,s){n&1&&C(0,"i",28)}function ic(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function nc(n,s){n&1&&C(0,"i",27)}function oc(n,s){n&1&&C(0,"i",28)}function rc(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ac(n,s){if(n&1){let o=w();a(0,"div",31)(1,"div",32)(2,"h5",33),p(3),l()(),a(4,"div",34)(5,"div",35)(6,"input",36),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.isPublish,i)||(e.dataModel.isPublish=i),g(i)}),l(),C(7,"label",37),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.isPublish==null?null:o.fieldsInfo.isPublish.fieldTitle,""),r(3),T("ngModel",o.dataModel.isPublish)}}function lc(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function sc(n,s){if(n&1){let o=w();a(0,"div",13)(1,"label",38),p(2),l(),a(3,"textarea",39,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"                "),l(),a(6,"em"),p(7),l(),I(8,lc,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function dc(n,s){if(n&1){let o=w();a(0,"div",40)(1,"button",41),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",42),p(3),S(4,"translate"),l(),a(5,"button",43),C(6,"i",44),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Cn=(()=>{let s=class s extends Vt{constructor(t,i,e,c,h,d,W,V,ce){super(c,new et,W,ce),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=c,this.webDesignerMainPageTemplateSiteCategoryService=h,this.cmsToastrService=d,this.publicHelper=W,this.cdr=V,this.translate=ce,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModel=new et,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.dataCoreSiteCategoryIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(Pt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new $,e=new z;e.propertyName="LinkPageTemplateId",e.value=this.requestId,i.filters.push(e),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:c=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=c.listItems;let h=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(d=>{h.push(d.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=h,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.formAlert=d}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreSiteCategoryModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new cn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(e)},error:c=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new cn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(e)},error:c=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(Y),b(ct),b(Ui),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,e){if(i&1&&ne(zd,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:41,vars:33,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",6),C(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",10,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,Qd,1,5,"app-cms-enum-record-status-selector",11)(11,Xd,10,8,"div",12)(12,$d,8,6,"div",12),a(13,"div",13)(14,"label",14),p(15),l(),a(16,"input",15,1),S(18,"translate"),D("ngModelChange",function(d){return f(c),E(e.dataModel.folder,d)||(e.dataModel.folder=d),g(d)}),l(),I(19,ec,1,0,"i",16)(20,tc,1,0,"i",17),a(21,"em"),p(22),l(),I(23,ic,5,4,"mat-error",18),l(),a(24,"div",13)(25,"label",19),p(26),l(),a(27,"input",20,2),D("ngModelChange",function(d){return f(c),E(e.dataModel.indexFile,d)||(e.dataModel.indexFile=d),g(d)}),l(),I(29,nc,1,0,"i",16)(30,oc,1,0,"i",17),a(31,"em"),p(32),l(),I(33,rc,5,4,"mat-error",18),l(),I(34,ac,8,2,"div",21)(35,sc,9,5,"div",12),p(36),S(37,"translate"),C(38,"br"),a(39,"app-cms-sitecategory-selectionlist",22),v("optionChange",function(d){return f(c),g(e.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return f(c),g(e.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return f(c),g(e.onActionSelectorUserCategorySelectRemoved(d))}),l(),I(40,dc,9,7,"div",23),l()()()}if(i&2){let c=P(17),h=P(28);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),r(3),y(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),r(),R("placeholder",M(18,29,"TITLE.branch_path")),T("ngModel",e.dataModel.folder),m("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessEditField)),r(3),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(3),y(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),r(),T("ngModel",e.dataModel.indexFile),m("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessEditField)),r(2),m("ngIf",!h.value),r(),m("ngIf",h.value),r(2),_("",c.value.length," / 100"),r(),m("ngIf",h.errors==null?null:h.errors.required),r(),m("ngIf",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),_(" ",M(37,31,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),r(3),m("optionSelectForce",e.dataCoreSiteCategoryIds)("optionDisabled",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,At,O,pe,_e,Se,Me,Q,me,Ie,j,ve,go,q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var cc=()=>[5,10,20,100],pc=n=>({display:n});function mc(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",43),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",44)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function uc(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",45),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",46)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function fc(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",48)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function gc(n,s){n&1&&(a(0,"mat-header-cell",49),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function hc(n,s){if(n&1&&(C(0,"img",51),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),De)}}function _c(n,s){if(n&1&&(a(0,"mat-cell"),I(1,hc,2,3,"img",50),l()),n&2){let o=s.$implicit;r(),m("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function Sc(n,s){if(n&1&&(a(0,"mat-header-cell",49),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Mc(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function Ic(n,s){if(n&1&&(a(0,"mat-header-cell",49),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function bc(n,s){if(n&1&&C(0,"select",54),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,pc,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Cc(n,s){if(n&1&&(a(0,"mat-cell",52),S(1,"statusCellClass"),C(2,"i",52),S(3,"statusIconClass"),I(4,bc,1,5,"select",53),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function vc(n,s){if(n&1&&(a(0,"mat-header-cell",49),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function wc(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function yc(n,s){if(n&1&&(a(0,"mat-header-cell",49),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," ")}}function Tc(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.folder," ")}}function Ec(n,s){if(n&1&&(a(0,"mat-header-cell",49),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," ")}}function Dc(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.indexFile," ")}}function xc(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Ac(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function Pc(n,s){n&1&&C(0,"mat-header-row")}function Rc(n,s){if(n&1){let o=w();a(0,"mat-row",57),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fo=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee){super(t,new et,ce,c,W),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.tokenHelper=c,this.router=h,this.cdr=d,this.translate=W,this.pageInfo=V,this.publicHelper=ce,this.dialog=Ee,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelCoreModuleResult=new U,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new et);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Cn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(b(ct),b(N),b(Xe),b(ye),b(Oe),b(B),b(F),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-list"]],features:[J],decls:63,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,4),p(2," -------------------------------------- "),A(),xe(3,5)(4,6),x(5,7),a(6,"a",8),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(7,"i",9),l(),a(8,"a",8),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(9,"i",10),l(),A(),x(10,11),a(11,"a",12),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(12,"mat-slide-toggle",13),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(13),S(14,"translate"),l(),a(15,"a",14)(16,"mat-slide-toggle",15),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(17),S(18,"translate"),l(),A(),x(19,16),I(20,mc,7,3,"div",17),A(),x(21,18),I(22,uc,7,3,"div",17)(23,fc,7,3,"div",17),a(24,"div",19)(25,"a",20),v("click",function(){return f(c),g(e.onActionButtonPageList(e.tableRowSelected))}),C(26,"i",21)(27,"br"),l(),a(28,"p",22),p(29),S(30,"translate"),l()(),A(),x(31,23),a(32,"app-cms-search-list",24),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(33,"app-cms-statist-list",24),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(34,25),a(35,"mat-table",26,0),v("matSortChange",function(){f(c);let d=P(36);return g(e.onTableSortData(d))}),x(37,27),I(38,gc,3,3,"mat-header-cell",28)(39,_c,2,1,"mat-cell",29),A(),x(40,30),I(41,Sc,2,1,"mat-header-cell",28)(42,Mc,2,1,"mat-cell",29),A(),x(43,31),I(44,Ic,2,1,"mat-header-cell",28)(45,Cc,5,7,"mat-cell",32),A(),x(46,33),I(47,vc,2,1,"mat-header-cell",28)(48,wc,2,1,"mat-cell",29),A(),x(49,34),I(50,yc,2,1,"mat-header-cell",28)(51,Tc,2,1,"mat-cell",29),A(),x(52,35),I(53,Ec,2,1,"mat-header-cell",28)(54,Dc,2,1,"mat-cell",29),A(),x(55,36),I(56,xc,3,3,"mat-header-cell",37)(57,Ac,6,1,"mat-cell",38),A(),I(58,Pc,1,0,"mat-header-row",39)(59,Rc,1,6,"mat-row",40),l(),A(),x(60,41),a(61,"mat-paginator",42,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),T("ngModel",e.optionsSearch.data.show),r(),_("",M(14,24,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(18,26,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(30,28,"ACTION.PAGES")),r(3),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(23),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(30,cc)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,H,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var Wc=["*"];function kc(n,s){if(n&1&&(a(0,"label",8),p(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Lc(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),p(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),r(2),y(t.displayOption(o))}}function Vc(n,s){if(n&1){let o=w();a(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),p(1,"close"),l()}}var an=(()=>{let s=class s{constructor(t,i,e,c,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=c,this.categoryService=h,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new U,this.dataModelSelect=new $e,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let c=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(c,h,this.constructorInfoAreaId)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof $e){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $e,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(b(Y),b(F),b(B),b(k),b(Rt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Wc,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();Jt(),a(0,"div",1),C(1,"app-progress-spinner",2),I(2,kc,2,3,"label",3),C(3,"input",4),a(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(c),g(e.onActionSelect(d.option.value))}),I(6,Lc,3,3,"mat-option",6),S(7,"async"),l(),I(8,Vc,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let c=P(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Dt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,rt,X,j,q,ot],encapsulation:2});let n=s;return n})();var Oc=["vform"];function Nc(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hc(n,s){n&1&&C(0,"i",35)}function jc(n,s){n&1&&C(0,"i",36)}function qc(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Uc(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",30),p(2),l(),a(3,"input",31,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,Hc,1,0,"i",32)(6,jc,1,0,"i",33),a(7,"em"),p(8),l(),I(9,qc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function zc(n,s){if(n&1){let o=w();a(0,"app-webdesigner-page-selector",37),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function Qc(n,s){if(n&1){let o=w();a(0,"div",38)(1,"div",39)(2,"h5",40),p(3),l()(),a(4,"div",41)(5,"div",42)(6,"input",43),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),C(7,"label",44),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),r(3),T("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function Kc(n,s){if(n&1){let o=w();a(0,"app-cms-sitecategory-selector",45),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();m("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Jc(n,s){if(n&1){let o=w();a(0,"mat-chip",46),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),p(1),a(2,"button",47)(3,"mat-icon"),p(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;r(),_(" ",o," ")}}function Yc(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Xc(n,s){if(n&1){let o=w();a(0,"div",23)(1,"label",48),p(2),l(),a(3,"textarea",49,6),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"                    "),l(),a(6,"em"),p(7),l(),I(8,Yc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Zc(n,s){if(n&1){let o=w();a(0,"div",50)(1,"button",51),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",52),p(3),S(4,"translate"),l(),a(5,"button",53),C(6,"i",54),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var vn=(()=>{let s=class s extends Lt{constructor(t,i,e,c,h,d,W,V){super(c,new Ze,d,V),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestLinkPageDependencyGuId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new Ze,this.formInfo=new ae,this.dataModelEnumPageAbilityTypeResult=new U,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPageDependencyGuId=t.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(mi),b(dt),b(N),b(k),b(B),b(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,e){if(i&1&&ne(Oc,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",7),C(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",11,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,Nc,1,5,"app-cms-enum-record-status-selector",12)(11,Uc,10,8,"div",13),a(12,"app-webdesigner-pagedependency-selector",14),S(13,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectDependency(d))}),l(),a(14,"app-webdesigner-pagetemplate-selector",15),S(15,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectTemplate(d))}),l(),I(16,zc,2,7,"app-webdesigner-page-selector",16)(17,Qc,8,2,"div",17)(18,Kc,2,5,"app-cms-sitecategory-selector",18),a(19,"mat-form-field",19)(20,"mat-label"),p(21),S(22,"translate"),l(),a(23,"mat-chip-grid",20,1),I(25,Jc,5,1,"mat-chip",21),a(26,"input",22,2),S(28,"translate"),v("matChipInputTokenEnd",function(d){return f(c),g(e.addTag(d))}),l()()(),a(29,"div",23)(30,"label",24),p(31),l(),a(32,"input",25,3),D("ngModelChange",function(d){return f(c),E(e.dataModel.specialIdendity,d)||(e.dataModel.specialIdendity=d),g(d)}),l(),a(34,"em"),p(35),l()(),a(36,"div",23)(37,"label",26),p(38),l(),a(39,"input",27,4),D("ngModelChange",function(d){return f(c),E(e.dataModel.specialUrlParameter,d)||(e.dataModel.specialUrlParameter=d),g(d)}),l(),a(41,"em"),p(42),l()(),I(43,Xc,9,5,"div",13)(44,Zc,9,7,"div",28),l()()()}if(i&2){let c=P(24),h=P(33),d=P(40);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(13,33,"TITLE.Show_place")),r(2),m("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),r(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(),m("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),r(),m("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),r(3),y(M(22,37,"TITLE.Choose_keywords_relative_to_the_content")),r(4),m("ngForOf",e.keywordDataModel),r(),m("placeholder",M(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(5),y(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),r(),T("ngModel",e.dataModel.specialIdendity),m("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessAddField)),r(3),_("",h.value.length," / 500"),r(3),y(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),r(),T("ngModel",e.dataModel.specialUrlParameter),m("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessAddField)),r(3),_("",d.value.length," / 500"),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,G,ue,te,At,O,pe,_e,Se,Me,Q,me,Gi,Bi,Fi,Vi,Li,ki,Ie,X,j,ve,Zi,q,Ci,an,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var $c=["vform"];function ep(n,s){if(n&1){let o=w();a(0,"app-cms-enum-record-status-selector",33),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tp(n,s){if(n&1&&(a(0,"option",34),p(1),l()),n&2){let o=s.$implicit;m("ngValue",o.value),r(),_(" ",o.description," ")}}function ip(n,s){n&1&&(a(0,"mat-error"),p(1," PageAbilityType is "),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function np(n,s){n&1&&C(0,"i",39)}function op(n,s){n&1&&C(0,"i",40)}function rp(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ap(n,s){if(n&1){let o=w();a(0,"div",14)(1,"label",35),p(2),l(),a(3,"input",36,6),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),I(5,np,1,0,"i",37)(6,op,1,0,"i",38),a(7,"em"),p(8),l(),I(9,rp,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),r(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),_("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function lp(n,s){if(n&1){let o=w();a(0,"app-webdesigner-page-selector",41),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function sp(n,s){if(n&1){let o=w();a(0,"div",42)(1,"div",43)(2,"h5",44),p(3),l()(),a(4,"div",45)(5,"div",46)(6,"input",47),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),C(7,"label",48),l()()()}if(n&2){let o=u();r(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),r(3),T("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function dp(n,s){if(n&1){let o=w();a(0,"app-cms-sitecategory-selector",49),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();m("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function cp(n,s){if(n&1){let o=w();a(0,"mat-chip",50),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),p(1),a(2,"button",51)(3,"mat-icon"),p(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;r(),_(" ",o," ")}}function pp(n,s){if(n&1&&(a(0,"mat-error"),p(1),a(2,"strong"),p(3),S(4,"translate"),l()()),n&2){let o=u(2);r(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function mp(n,s){if(n&1){let o=w();a(0,"div",14)(1,"label",52),p(2),l(),a(3,"textarea",53,7),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),p(5,"                "),l(),a(6,"em"),p(7),l(),I(8,pp,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();r(2),y(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),r(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),r(4),_("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function up(n,s){if(n&1){let o=w();a(0,"div",54)(1,"button",55),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),C(2,"i",56),p(3),S(4,"translate"),l(),a(5,"button",57),C(6,"i",58),p(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);r(3),_(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var wn=(()=>{let s=class s extends Vt{constructor(t,i,e,c,h,d,W,V){super(c,new Ze,V,d),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=c,this.cmsToastrService=h,this.translate=d,this.cdr=W,this.publicHelper=V,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModel=new Ze,this.formInfo=new ae,this.dataModelEnumPageAbilityTypeResult=new U,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(Pt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectParent(t){this.dataModel.linkPageParentGuId=t.id}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(b(Ce),b(be),b(mi),b(dt),b(N),b(F),b(B),b(k))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,e){if(i&1&&ne($c,5),i&2){let c;oe(c=re())&&(e.formGroup=c.first)}},features:[J],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();a(0,"div",8),C(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),p(4),l(),a(5,"p"),p(6),S(7,"translate"),l(),a(8,"form",12,0),v("ngSubmit",function(){return f(c),g(e.onFormSubmit())}),I(10,ep,1,5,"app-cms-enum-record-status-selector",13),a(11,"div",14)(12,"select",15,1),D("ngModelChange",function(d){return f(c),E(e.dataModel.pageAbilityType,d)||(e.dataModel.pageAbilityType=d),g(d)}),I(14,tp,2,2,"option",16),l(),a(15,"em",17),p(16),S(17,"translate"),l(),I(18,ip,5,3,"mat-error",18),l(),I(19,ap,10,8,"div",19),a(20,"app-webdesigner-pagedependency-selector",20),S(21,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectDependency(d))}),l(),a(22,"app-webdesigner-pagetemplate-selector",20),S(23,"translate"),v("optionChange",function(d){return f(c),g(e.onActionSelectTemplate(d))}),l(),I(24,lp,2,7,"app-webdesigner-page-selector",21)(25,sp,8,2,"div",22)(26,dp,2,5,"app-cms-sitecategory-selector",23),a(27,"mat-form-field",24)(28,"mat-label"),p(29),S(30,"translate"),l(),a(31,"mat-chip-grid",25,2),I(33,cp,5,1,"mat-chip",26),a(34,"input",27,3),S(36,"translate"),v("matChipInputTokenEnd",function(d){return f(c),g(e.addTag(d))}),l()()(),a(37,"div",14)(38,"label",28),p(39),l(),a(40,"input",29,4),D("ngModelChange",function(d){return f(c),E(e.dataModel.specialIdendity,d)||(e.dataModel.specialIdendity=d),g(d)}),l(),a(42,"em"),p(43),l()(),a(44,"div",14)(45,"label",30),p(46),l(),a(47,"input",31,5),D("ngModelChange",function(d){return f(c),E(e.dataModel.specialUrlParameter,d)||(e.dataModel.specialUrlParameter=d),g(d)}),l(),a(49,"em"),p(50),l()(),I(51,mp,9,5,"div",19)(52,up,9,7,"div",32),l()()()}if(i&2){let c=P(13),h=P(32),d=P(41),W=P(48);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),_(" ",e.formInfo.formTitle," "),r(2),_(" ",M(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(2),Be("ngClass","cms-RecordStatusEnum-selector-",e.dataModel.recordStatus,""),T("ngModel",e.dataModel.pageAbilityType),m("disabled",!0),r(2),m("ngForOf",e.dataModelEnumPageAbilityTypeResult.listItems),r(2),_("",M(17,39,"TITLE.Select_the_functionality_of_this_content")," "),r(2),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(21,41,"TITLE.Show_place")),r(2),m("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(23,43,"TITLE.Page_template")),r(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),r(),m("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),r(),m("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),r(3),y(M(30,45,"TITLE.Choose_keywords_relative_to_the_content")),r(4),m("ngForOf",e.keywordDataModel),r(),m("placeholder",M(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(5),y(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),r(),T("ngModel",e.dataModel.specialIdendity),m("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessEditField)),r(3),_("",d.value.length," / 500"),r(3),y(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),r(),T("ngModel",e.dataModel.specialUrlParameter),m("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessEditField)),r(3),_("",W.value.length," / 500"),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ae,Fe,G,ue,xn,An,te,At,Dn,O,pe,_e,Se,Me,Q,me,Gi,Bi,Fi,Vi,Li,ki,Ie,X,j,ve,Zi,q,Ci,an,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var fp=()=>[5,10,20,100],gp=n=>({display:n});function hp(n,s){if(n&1){let o=w();a(0,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),C(1,"i",50),l()}}function _p(n,s){if(n&1){let o=w();a(0,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),C(1,"i",50),l()}}function Sp(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",51),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",52)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Mp(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",53),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",54)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function Ip(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",55),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",56)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function bp(n,s){if(n&1){let o=w();a(0,"div",20)(1,"a",21),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),C(2,"i",22)(3,"br"),l(),a(4,"p",23),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function Cp(n,s){n&1&&(a(0,"mat-header-cell",57),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function vp(n,s){if(n&1&&C(0,"img",59),n&2){let o=u().$implicit;R("src",o.thumbnailImageSrc,De)}}function wp(n,s){if(n&1&&(a(0,"mat-cell"),I(1,vp,1,1,"img",58),l()),n&2){let o=s.$implicit;r(),m("ngIf",(o==null||o.ThumbnailImageSrc==null?null:o.ThumbnailImageSrc.length)>0)}}function yp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Tp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.id," ")}}function Ep(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Dp(n,s){if(n&1&&C(0,"select",62),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,gp,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function xp(n,s){if(n&1&&(a(0,"mat-cell",60),S(1,"statusCellClass"),C(2,"i",60),S(3,"statusIconClass"),I(4,Dp,1,5,"select",61),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),r(2),m("ngClass",M(3,5,o.recordStatus)),r(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Ap(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Pp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.title," ")}}function Rp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageParentGuId==null?null:o.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Wp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageParentGuId," ")}}function kp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageDependencyGuId==null?null:o.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Lp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.linkPageDependencyGuId," ")}}function Vp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.linkPageTemplateGuId==null?null:o.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Gp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.linkPageTemplateGuId,t.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Bp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Fp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();r(),_(" ",xt(2,1,o.pageDependencyIsDefaultPageLinkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Op(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function Np(n,s){if(n&1&&(a(0,"mat-cell"),C(1,"i",60),S(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),m("ngClass",M(2,1,o.pageDependencyIsDefaultPage))}}function Hp(n,s){if(n&1&&(a(0,"mat-header-cell",57),p(1),l()),n&2){let o=u();r(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function jp(n,s){if(n&1&&(a(0,"mat-cell"),p(1),l()),n&2){let o=s.$implicit;r(),_(" ",o.classActionName," ")}}function qp(n,s){n&1&&(a(0,"mat-header-cell"),p(1),S(2,"translate"),l()),n&2&&(r(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Up(n,s){if(n&1&&(a(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),p(3,"more_vert"),l()(),C(4,"mat-menu",null,2),l()),n&2){let o=P(5);r(),m("matMenuTriggerFor",o)}}function zp(n,s){n&1&&C(0,"mat-header-row")}function Qp(n,s){if(n&1){let o=w();a(0,"mat-row",65),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Pe("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ci=(()=>{let s=class s extends yt{constructor(t,i,e,c,h,d,W,V,ce,Ee,Tt,Bt,ln){if(super(t,new Ze,Bt,Ee,ce),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.webDesignerMainPageTemplateService=c,this.coreSiteCategoryService=h,this.activatedRoute=d,this.router=W,this.cdr=V,this.translate=ce,this.tokenHelper=Ee,this.pageInfo=Tt,this.publicHelper=Bt,this.dialog=ln,this.requestLinkPageParentGuId="",this.requestLinkPageTemplateGuId="",this.requestLinkPageDependencyGuId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelWebDesignerMainPageTemplateResult=new U,this.dataModelCoreSiteCategoryResult=new U,this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId","Action"],this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=K.Descending,this.requestLinkPageTemplateGuId.length>0){let Ve=new z;Ve.propertyName="LinkPageTemplateGuId",Ve.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageDependencyGuId.length>0){let Ve=new z;Ve.propertyName="LinkPageDependencyGuId",Ve.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageParentGuId.length>0){let Ve=new z;Ve.propertyName="LinkPageParentGuId",Ve.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Ve)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList(),this.getSiteCategory()}getModuleList(){let t=new $;t.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let t=new $;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):(K,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=K.Descending),K,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(wn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new z;h.propertyName="RecordStatus",h.value=lt.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonHtmlEditor(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(t.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(t.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};s.\u0275fac=function(i){return new(i||s)(b(dt),b(N),b(Xe),b(ct),b(qi),b(at),b(Oe),b(B),b(F),b(ye),b(pt),b(k),b(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list-grid"]],features:[J],decls:92,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,4),p(2," -------------------------------------- "),A(),xe(3,5)(4,6),x(5,7),I(6,hp,2,0,"a",8)(7,_p,2,0,"a",8),a(8,"a",9),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(9,"i",10),l(),a(10,"a",9),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(11,"i",11),l(),A(),x(12,12),a(13,"a",13),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(14,"mat-slide-toggle",14),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(15),S(16,"translate"),l(),a(17,"a",15)(18,"mat-slide-toggle",16),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(19),S(20,"translate"),l(),A(),x(21,17),I(22,Sp,7,3,"div",18),A(),x(23,19),I(24,Mp,7,3,"div",18)(25,Ip,7,3,"div",18),a(26,"div",20)(27,"a",21),v("click",function(){return f(c),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),C(28,"i",22)(29,"br"),l(),a(30,"p",23),p(31),S(32,"translate"),l()(),a(33,"div",20)(34,"a",21),v("click",function(){return f(c),g(e.onActionButtonHtmlView(e.tableRowSelected))}),C(35,"i",22)(36,"br"),l(),a(37,"p",23),p(38),S(39,"translate"),l()(),I(40,bp,7,3,"div",18),a(41,"div",20)(42,"a",21),v("click",function(){return f(c),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),C(43,"i",24)(44,"br"),l(),a(45,"p",23),p(46),S(47,"translate"),l()(),A(),x(48,25),a(49,"app-cms-search-list",26),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(50,"app-cms-statist-list",26),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(51,27),a(52,"mat-table",28,0),v("matSortChange",function(){f(c);let d=P(53);return g(e.onTableSortData(d))}),x(54,29),I(55,Cp,3,3,"mat-header-cell",30)(56,wp,2,1,"mat-cell",31),A(),x(57,32),I(58,yp,2,1,"mat-header-cell",30)(59,Tp,2,1,"mat-cell",31),A(),x(60,33),I(61,Ep,2,1,"mat-header-cell",30)(62,xp,5,7,"mat-cell",34),A(),x(63,35),I(64,Ap,2,1,"mat-header-cell",30)(65,Pp,2,1,"mat-cell",31),A(),x(66,36),I(67,Rp,2,1,"mat-header-cell",30)(68,Wp,2,1,"mat-cell",31),A(),x(69,37),I(70,kp,2,1,"mat-header-cell",30)(71,Lp,2,1,"mat-cell",31),A(),x(72,38),I(73,Vp,2,1,"mat-header-cell",30)(74,Gp,3,4,"mat-cell",31),A(),x(75,39),I(76,Bp,2,1,"mat-header-cell",30)(77,Fp,3,4,"mat-cell",31),A(),x(78,40),I(79,Op,2,1,"mat-header-cell",30)(80,Np,3,3,"mat-cell",31),A(),x(81,41),I(82,Hp,2,1,"mat-header-cell",30)(83,jp,2,1,"mat-cell",31),A(),x(84,42),I(85,qp,3,3,"mat-header-cell",43)(86,Up,6,1,"mat-cell",44),A(),I(87,zp,1,0,"mat-header-row",45)(88,Qp,1,6,"mat-row",46),l(),A(),x(89,47),a(90,"mat-paginator",48,1),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),m("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),r(),m("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),r(7),T("ngModel",e.optionsSearch.data.show),r(),_("",M(16,29,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(20,31,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(32,33,"ACTION.PAGE_DESIGN")),r(7),y(M(39,35,"ACTION.SHOW_PAGE")),r(2),m("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),r(6),y(M(47,37,"ACTION.SHOW_WEB")),r(3),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(35),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(39,fp)))},dependencies:[Ae,G,nt,O,Q,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,It,_t,gt,bt,St,Mt,Ct,vt,Je,Ye,Ke,wt,H,gi,Qe,kt,fi],encapsulation:2});let n=s;return n})();var Kp=()=>[5,10,20,100];function Jp(n,s){if(n&1){let o=w();a(0,"a",33),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),C(1,"i",34),l()}}function Yp(n,s){if(n&1){let o=w();a(0,"a",33),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),C(1,"i",34),l()}}function Xp(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",35),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),C(2,"i",36)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Zp(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",37),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),C(2,"i",38)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function $p(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",39),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),C(2,"i",40)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function em(n,s){if(n&1){let o=w();a(0,"div",19)(1,"a",20),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),C(2,"i",21)(3,"br"),l(),a(4,"p",22),p(5),S(6,"translate"),l()()}n&2&&(r(5),y(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function tm(n,s){if(n&1&&(a(0,"div",41)(1,"mat-card",42)(2,"mat-card-header")(3,"mat-card-title"),p(4),C(5,"i",43),S(6,"statusIconClass"),l(),a(7,"mat-card-subtitle"),p(8),S(9,"translate"),l()(),C(10,"img",44),a(11,"mat-card-content"),p(12),S(13,"translate"),S(14,"cmstitle"),C(15,"br"),p(16),S(17,"translate"),S(18,"cmstitle"),C(19,"br"),p(20),S(21,"translate"),C(22,"i",43),S(23,"boolclass"),a(24,"p"),p(25),l()(),a(26,"mat-card-actions")(27,"button",45)(28,"mat-icon"),p(29,"more_vert"),l()(),C(30,"mat-menu",null,1),l()()()),n&2){let o=s.$implicit,t=P(31),i=u();r(4),_(" ",o.title," "),r(),m("ngClass",M(6,13,o.recordStatus)),r(3),Xt(" ",M(9,15,"TITLE.Id"),": ",o.id,""),r(2),R("src",o.thumbnailImageSrc,De),r(2),Xt(" ",M(13,17,"Template title")," : ",xt(14,19,o.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),r(4),Xt(" ",M(17,22,"TITLE.Default_template_classification_system")," : ",xt(18,24,o.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),r(4),_(" ",M(21,27,"TITLE.System_default")," : "),r(2),m("ngClass",M(23,29,o.pageDependencyIsDefaultPage)),r(3),_(" ",o.description," "),r(2),m("matMenuTriggerFor",t)}}var Pi=(()=>{let s=class s extends ci{};s.\u0275fac=(()=>{let t;return function(e){return(t||(t=yn(s)))(e||s)}})(),s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list"]],features:[J],decls:60,vars:40,consts:[["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"]],template:function(i,e){if(i&1){let c=w();a(0,"app-cms-html-list",2),D("optionActionGuideNoticeDisplayChange",function(d){return f(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(c),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),g(e.onActionButtonPrintRow())}),x(1,3),p(2," -------------------------------------- "),A(),xe(3,4)(4,5),x(5,6),I(6,Jp,2,0,"a",7)(7,Yp,2,0,"a",7),a(8,"a",8),v("click",function(){return f(c),g(e.viewGuideNotice=!e.viewGuideNotice)}),C(9,"i",9),l(),a(10,"a",8),v("click",function(){return f(c),g(e.onActionButtonReload())}),C(11,"i",10),l(),A(),x(12,11),a(13,"a",12),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(14,"mat-slide-toggle",13),D("ngModelChange",function(d){return f(c),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),v("click",function(){return f(c),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(),p(15),S(16,"translate"),l(),a(17,"a",14)(18,"mat-slide-toggle",15),v("click",function(){return f(c),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(c),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),p(19),S(20,"translate"),l(),A(),x(21,16),I(22,Xp,7,3,"div",17),A(),x(23,18),I(24,Zp,7,3,"div",17)(25,$p,7,3,"div",17),a(26,"div",19)(27,"a",20),v("click",function(){return f(c),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),C(28,"i",21)(29,"br"),l(),a(30,"p",22),p(31),S(32,"translate"),l()(),a(33,"div",19)(34,"a",20),v("click",function(){return f(c),g(e.onActionButtonHtmlView(e.tableRowSelected))}),C(35,"i",21)(36,"br"),l(),a(37,"p",22),p(38),S(39,"translate"),l()(),I(40,em,7,3,"div",17),a(41,"div",19)(42,"a",20),v("click",function(){return f(c),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),C(43,"i",23)(44,"br"),l(),a(45,"p",22),p(46),S(47,"translate"),l()(),A(),x(48,24),a(49,"app-cms-search-list",25),D("optionsChange",function(d){return f(c),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(50,"app-cms-statist-list",25),D("optionsChange",function(d){return f(c),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(51,26),a(52,"div",27)(53,"div",28),C(54,"app-progress-spinner",29),a(55,"div",27),I(56,tm,32,31,"div",30),l()()(),A(),x(57,31),a(58,"mat-paginator",32,0),v("page",function(d){return f(c),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),m("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),r(),m("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),r(7),T("ngModel",e.optionsSearch.data.show),r(),_("",M(16,29,"ACTION.SEARCH")," "),r(3),T("ngModel",e.optionsStatist.data.show),r(),_(" ",M(20,31,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(32,33,"ACTION.PAGE_DESIGN")),r(7),y(M(39,35,"ACTION.SHOW_PAGE")),r(2),m("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),r(6),y(M(47,37,"ACTION.SHOW_WEB")),r(3),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(4),m("optionsInfoAreaId",e.constructorInfoAreaId),r(2),m("ngForOf",e.dataModelResult.listItems),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",we(39,Kp)))},dependencies:[Ae,Fe,G,O,Q,Re,Ln,Fn,Gn,On,Nn,Bn,Vn,X,qe,Ue,ze,ke,Je,Ye,q,Ke,H,gi,Qe,fi],encapsulation:2});let n=s;return n})();var im=[{path:"",component:Do,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-I36KRWPT.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:xo,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Lo,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Po,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:Fo,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Bo,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],No=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Wi({type:s}),s.\u0275inj=Ri({imports:[sn.forChild(im),sn]});let n=s;return n})();var Vg=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Wi({type:s}),s.\u0275inj=Ri({providers:[ji,Y,Kn,Xe,Yn,qi,Xn,ui,ii,st,dt,Rt,ct,Ui,mi],imports:[Tn,No,Pn,Rn.withConfig({warnOnNgModelWithFormControl:"never"}),So,Mo,jn,Wn,to,qn,Eo,wo,To,$n]});let n=s;return n})();export{Vg as WebDesignerModule};
