"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[3656,663,1732,3547],{2824:(k,b,n)=>{n.r(b),n.d(b,{WebDesignerBuilderModule:()=>M});var o=n(4350),T=n(8692),v=n(92),a=n(8659),u=n(3331),A=n(707),m=n(4721),i=n(4467),h=n(1661),s=n(4511),_=n(6087),C=n(7360),t=n(6114);class r{configRouteTemplateFileImage;configRouteFileStorage;cmsSite;cmsPage;cmsParentPage;cmsPageTemplate;moduleInfoes;templateConfig;bodySetting}var c=n(656),e=n(4537),O=n(727),S=n(6707),E=n(2607),Z=n(4032),D=n(5738);const I=[{path:"",component:(()=>{class g{tokenHelper;cdr;translate;cmsToastrService;publicHelper;webDesignerMainPageService;requestId="";constructor(f,l,d,p,B,R){this.tokenHelper=f,this.cdr=l,this.translate=d,this.cmsToastrService=p,this.publicHelper=B,this.webDesignerMainPageService=R,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}cmsApiStoreSubscribe;tokenInfo=new s.OdC;loading=new c.O;fieldsInfo=new Map;dataModel=new r;dataPageModel=new s.RIQ;dataModelResult=new s.y$4;ngOnInit(){this.tokenHelper.getCurrentToken().then(f=>{this.tokenInfo=f,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(f=>{this.tokenInfo=f,this.DataGetOneContent(),this.tokenHelper.CheckIsAdmin()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){const f=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.loading.Start(f),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(s.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe(l=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataPageModel=l.item,l.isSuccess||this.cmsToastrService.typeErrorMessage(l.errorMessage),this.loading.Stop(f)},l=>{this.cmsToastrService.typeError(l),this.loading.Stop(f)})}onActionAdd(){}static \u0275fac=function(l){return new(l||g)(e.Y36(O.v),e.Y36(e.sBO),e.Y36(S.sK),e.Y36(E.e),e.Y36(Z.i),e.Y36(s.SUF))};static \u0275cmp=e.Xpm({type:g,selectors:[["app-web-designer-builder"]],decls:60,vars:37,consts:[[1,"row"],["Class","col-xl-2"],[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","98%",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"ntk-cms-html-tree-body"],[1,"ntk-cms-html-tree-footer"],["Class","col-xl-10"],[1,"ntk-cms-html-list-header"],[3,"options"],[1,"ntk-cms-html-list-footer"]],template:function(l,d){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",2),e._uU(25),e.ALo(26,"translate"),e._UZ(27,"br"),e.TgZ(28,"button",5),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(29,"lg"),e.qZA(),e.TgZ(30,"button",5),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(31,"md"),e.qZA(),e.TgZ(32,"button",5),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(33,"sm"),e.qZA(),e.TgZ(34,"button",5),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(35,"xs"),e.qZA()(),e.TgZ(36,"div",2),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"br"),e.TgZ(40,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"button",3),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",6),e._uU(47," body "),e.qZA(),e.TgZ(48,"div",7),e._uU(49," tree-footer "),e.qZA()(),e.TgZ(50,"div",8)(51,"div",9)(52,"button",5),e.NdJ("click",function(){return d.onActionAdd()}),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div"),e._UZ(56,"app-progress-spinner",10),e._uU(57," Body "),e.qZA(),e.TgZ(58,"div",11),e._uU(59," footer "),e.qZA()()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,13,"ACTION.SAVE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(8,15,"ACTION.DELETE_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(11,17,"ACTION.LOADING_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(14,19,"ACTION.ASSUMPTION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(17,21,"ACTION.INTERNALIZATION_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(20,23,"ACTION.OUTFLOW_CONTENT")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ACTION.HISTORY_CONTENT")),e.xp6(3),e.hij(" ",e.lcZ(26,27,"TITLE.DISPLAY_SIZE")," "),e.xp6(12),e.hij(" ",e.lcZ(38,29,"TITLE.DISPLAY")," "),e.xp6(4),e.Oqu(e.lcZ(42,31,"TITLE.Preview")),e.xp6(3),e.Oqu(e.lcZ(45,33,"TITLE.Preview_MOTHER")),e.xp6(9),e.Oqu(e.lcZ(54,35,"TITLE.CREATE_ROW")),e.xp6(3),e.Q6J("options",d.loading))},dependencies:[D.O,S.X$]})}return g})(),data:{title:"ROUTE.WEBDESIGNERBUILDER"},children:[]}];let N=(()=>{class g{static \u0275fac=function(l){return new(l||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[t.Bz.forChild(I),t.Bz]})}return g})(),M=(()=>{class g{static \u0275fac=function(l){return new(l||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({providers:[s.EAm,s.FLW,s.Z8z,s.dF2,s.PwI,s.VqD,s.UIH,s.zef,s.KQH,s.SUF,s.eck,s.BeA,s.cW6,s.qgh],imports:[T.ez,N,v.u5,v.UX.withConfig({warnOnNgModelWithFormControl:"never"}),_.m.forRoot(),m.UM,u.Ps,a.lN,A.T5,h.v3,i.FR,o._t,C.CoreModuleModule]})}return g})()},3673:(k,b,n)=>{n.d(b,{G:()=>s});var o=n(8239),T=n(8692),v=n(4511),a=n(4537),u=n(4032),A=n(2607);let s=(()=>{class _{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(t,r,c,e,O,S){this.elRef=t,this.renderer=r,this.publicHelper=c,this.cmsToastrService=e,this.cdr=O,this.document=S}getEnumRecordStatus(){var t=this;return(0,o.Z)(function*(){(yield t.publicHelper.getEnumRecordStatus()).listItems.forEach(c=>{const e=document.createElement("option");e.innerHTML=" "+c.title+' <i Class="'+t.iconStatus(c.value)+'"></i>',e.value=c.value.toString(),t.elRef.nativeElement.add(e)}),t.elRef.nativeElement.options.length>0&&t.row&&t.row.recordStatus&&t.renderer.setProperty(t.elRef.nativeElement,"value",t.row.recordStatus)})()}onChange(){const t=this.elRef.nativeElement,r=t.value;this.addLoader(t),this.contentService.setAccessDataType(v.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,r).subscribe(c=>{c.isSuccess?(this.handleSuccessCase(t),this.cmsToastrService.typeSuccessSetStatus(c.errorMessage),this.row.recordStatus=0|r,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(c.errorMessage),this.handleErrorCase(t))},c=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(c),this.handleErrorCase(t)})}handleSuccessCase(t){this.removeBackground(t),this.addSuccess(t),setTimeout(()=>{this.removeBackground(t)},1e3)}handleErrorCase(t){this.removeBackground(t);const r=this.document.createElement("img");r.style.width="20px",r.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const c=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(c,r),setTimeout(()=>{this.renderer.removeChild(c,r)},1e3)}addLoader(t){this.addBackground(t,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(t){this.addBackground(t,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(t,r,c){t.style.background=`#fff url("${r}") no-repeat right 20px center`,t.style.backgroundSize=`${c}px`}removeBackground(t){t.style.background="none"}iconStatus(t){let r="";switch(t){case 1:default:r="fa fa-check";break;case 2:r="fa fa-eye-slash";break;case 3:r="fa fa-times";break;case 4:r="fa fa-hourglass-half";break;case 5:r="far fa-thumbs-down";break;case 6:r="fa fa-archive"}return r}static \u0275fac=function(r){return new(r||_)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(u.i),a.Y36(A.e),a.Y36(a.sBO),a.Y36(T.K0))};static \u0275dir=a.lG2({type:_,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(r,c){1&r&&a.NdJ("change",function(){return c.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return _})()},6639:(k,b,n)=>{n.d(b,{G:()=>v});var o=n(4537),T=n(5998);let v=(()=>{class a{sanitizer;constructor(A){this.sanitizer=A}transform(A,m=!1){let i="";switch(A){case 1:default:i="fa fa-check";break;case 2:i="fa fa-times";break;case 3:i="fa fa-trash";break;case 4:i="fa fa-hourglass-half";break;case 5:i="far fa-thumbs-down";break;case 6:i="fa fa-archive"}return i}static \u0275fac=function(m){return new(m||a)(o.Y36(T.H7,16))};static \u0275pipe=o.Yjl({name:"statusIconClass",type:a,pure:!0})}return a})()},3914:(k,b,n)=>{n.d(b,{s:()=>a});var o=n(4537),T=n(9154);let v=(()=>{class u{activeModal;static nextId=0;id=++u.nextId;title;message;btnOkText;btnCancelText;constructor(m){this.activeModal=m}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}static \u0275fac=function(i){return new(i||u)(o.Y36(T.Kz))};static \u0275cmp=o.Xpm({type:u,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:12,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button",1,"btn","font-13","font-600","btn-m","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"click"]],template:function(i,h){1&i&&(o.TgZ(0,"div",0)(1,"h4",1),o._uU(2),o.qZA(),o.TgZ(3,"button",2),o.NdJ("click",function(){return h.dismiss()}),o.TgZ(4,"span",3),o._uU(5,"\xd7"),o.qZA()()(),o._UZ(6,"div",4),o.TgZ(7,"div",5)(8,"button",6),o.NdJ("click",function(){return h.decline()}),o._uU(9),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return h.accept()}),o._uU(11),o.qZA()()),2&i&&(o.xp6(2),o.Oqu(h.title),o.xp6(4),o.Q6J("innerHTML",h.message,o.oJD),o.xp6(3),o.Oqu(h.btnCancelText),o.xp6(2),o.Oqu(h.btnOkText))},encapsulation:2})}return u})(),a=(()=>{class u{modalService;constructor(m){this.modalService=m}confirm(m,i,h="OK",s="Cancel",_="sm"){const C=this.modalService.open(v,{size:_});return C.componentInstance.title=m,C.componentInstance.message=i,C.componentInstance.btnOkText=h,C.componentInstance.btnCancelText=s,C.result}static \u0275fac=function(i){return new(i||u)(o.LFG(T.FF))};static \u0275prov=o.Yz7({token:u,factory:u.\u0275fac})}return u})()}}]);