import{a as hi,b as Pt,c as Ci}from"./chunk-5YOVKZNY.js";import{a as wt}from"./chunk-7L4RCVMM.js";import{a as Bt}from"./chunk-SFS5KZI4.js";import{a as Ft}from"./chunk-UPGNW52O.js";import{b as Do}from"./chunk-NNGJSS2W.js";import{a as Ne}from"./chunk-EH4HBT5H.js";import{$b as $t,Aa as ho,Ad as vt,C as no,Ca as Co,Cc as _t,Cd as fi,Dc as di,F as Qe,G as Je,Gb as bo,H as Ye,Hb as vo,Id as Ro,K as Xe,Kb as Zt,L as Ze,La as Ae,Lc as Vt,M as $e,Ma as Re,Mc as Ot,Na as _e,Nc as yo,O as ro,Oc as To,P as ao,Sc as gt,Ta as ce,Tc as It,Ub as ot,Vb as nt,Wa as ie,Wb as rt,Xb as ke,Xc as pi,Yb as at,Zb as lt,_c as Nt,aa as et,ac as ei,bd as Ue,da as lo,ec as st,fc as ct,gc as dt,hc as pt,hd as Mt,ic as mt,jc as ut,kc as ft,lb as Xt,lc as ht,m as oo,mb as Io,mc as Ct,nb as V,nc as St,o as Jt,oc as wo,p as Fe,pb as Lt,pc as ti,qc as ii,qd as mi,rc as oi,s as K,sa as Ee,sb as it,sc as ni,sd as Eo,t as we,tb as O,tc as ri,td as bt,ua as so,uc as ai,v as ye,va as co,vb as Q,vc as li,vd as ui,w as Dt,wa as po,wc as si,x as X,xa as mo,xc as ci,y as Te,ya as uo,yb as Mo,za as fo,zd as Ao}from"./chunk-P2AJMF2M.js";import{b as P,c as W,p as me}from"./chunk-U7NHKYFC.js";import{Aa as Ce,Ab as Ti,Cd as Ut,Db as Me,Dc as Ke,Dd as L,Eb as be,Fb as ve,Fc as Qt,Fe as go,Hd as z,Ia as Ie,Ib as k,Id as F,Jb as to,Jd as De,Kb as m,L as Ji,La as r,Lb as E,Lc as io,Ma as S,Mb as I,Nb as Rt,O as Yi,Qb as A,Qd as q,Rb as R,Sb as D,Ud as Yt,Vb as We,W as Xi,Wb as qe,Wf as xi,X as Zi,Yb as _,Za as Y,Zb as g,Zd as So,_b as Ve,ab as b,aq as G,bb as At,cb as u,da as zt,eb as ae,fd as xt,g as yi,gc as N,hd as Be,ja as B,ka as Kt,kd as Ei,lb as l,ld as Ai,mb as s,mf as pe,nb as v,nf as $,ob as y,of as Di,pb as T,pe as _o,pf as ne,qb as Se,qd as Ri,qe as Gt,ra as f,rb as w,re as de,sa as h,se as xe,td as tt,te as oe,u as Ki,ub as M,v as Qi,vd as Z,wb as C,xb as $i,xc as Oe,yb as eo,yc as se,zb as U,zc as j,zd as kt}from"./chunk-5LTUF3RB.js";function jo(o,d){if(o&1){let n=w();l(0,"button",10),M("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function Wo(o,d){if(o&1){let n=w();l(0,"button",4),M("click",function(){f(n);let i=C();return h(i.onActionBackToParent())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.BACK")))}function qo(o,d){if(o&1&&(l(0,"p"),m(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.approvedExpireDate," ")}}function zo(o,d){if(o&1&&(l(0,"p"),m(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.typeDescription," ")}}function Ko(o,d){if(o&1&&(l(0,"p"),m(1),s()),o&2){let n=C().$implicit;r(),I(" ",n.approvedResult," ")}}function Qo(o,d){if(o&1){let n=w();l(0,"button",4),M("click",function(){f(n);let i=C().$implicit,e=C();return h(e.onActionButtonEditRow(i))}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.SEND_DOCUMENTS")))}function Jo(o,d){if(o&1&&(l(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),v(3,"div",13),l(4,"mat-card-title"),v(5,"i",1),_(6,"boolclass"),m(7),_(8,"translate"),s(),l(9,"mat-card-subtitle"),m(10),s()(),v(11,"img",14),l(12,"mat-card-content"),b(13,qo,2,1,"p",15)(14,zo,2,1,"p",15)(15,Ko,2,1,"p",15),s(),l(16,"mat-card-actions"),b(17,Qo,3,3,"button",6),s()()()),o&2){let n=d.$implicit;r(3),to("background-image: url('",n.typeLinkMainImageIdSrc,"'); background-size: cover;"),r(2),u("ngClass",g(6,12,n.isApproved)),r(2),I(" ",g(8,14,"ACTION.STATUS"),""),r(3),E(n.typeTitle),r(),U("src",n.linkFileContentIdSrc,Ie),U("alt",n.typeTitle),r(2),u("ngIf",n.isApproved&&n.approvedExpireDate),r(),u("ngIf",!n.isApproved),r(),u("ngIf",n.approvedResult&&n.approvedResult.length>0),r(2),u("ngIf",!n.isApproved)}}var ki=(()=>{let d=class d{constructor(t,i,e,c,p,a,x,H,J,ge){this.coreUserClaimContentService=t,this.publicHelper=i,this.cmsToastrService=e,this.coreUserClaimTypeService=c,this.router=p,this.activatedRoute=a,this.tokenHelper=x,this.cdr=H,this.translate=J,this.dialog=ge,this.requestLinkUserId=0,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.dataModelResult=new L,this.optionsSearch=new Eo,this.optionsStatist=new Ao,this.tokenInfo=new go,this.tableRowSelected=new xi,this.tableSource=new wo,this.fieldsInfo=new Map,this.categoryModelSelected=new ne,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.onActionTableRowSelect(new xi);let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let i=new _o;i.userId=this.requestLinkUserId,i.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)},1e3)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRow(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkTypeId||t.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),t.linkContentId&&t.linkContentId>0){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else{var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};d.\u0275fac=function(i){return new(i||d)(S(Gt),S(O),S(V),S(oe),S(Be),S(xt),S(me),S(N),S(P),S(_e))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-checklist"]],decls:13,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],["class","col-4",4,"ngFor","ngForOf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"]],template:function(i,e){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),b(3,jo,3,3,"button",3),l(4,"button",4),M("click",function(){return e.onActionButtonReload()}),l(5,"mat-icon",5),_(6,"translate"),m(7,"refresh"),s()(),b(8,Wo,3,3,"button",6),s(),l(9,"div")(10,"div",7),v(11,"app-progress-spinner",8),b(12,Jo,18,16,"div",9),s()()()()),i&2&&(r(),u("ngClass","col-xl-12"),r(2),u("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkTypeId)>0),r(2),U("title",g(6,6,"ACTION.RELOAD")),r(3),u("ngIf",e.requestLinkUserId>0),r(3),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[Oe,se,j,so,uo,Co,po,fo,ho,mo,co,ce,Q,W,Lt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});let o=d;return o})();var Xo=["vform"];function Zo(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $o(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function en(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function tn(o,d){if(o&1&&(l(0,"option",39),m(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function on(o,d){o&1&&(l(0,"mat-error"),m(1," Kind is "),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function nn(o,d){if(o&1&&(v(0,"img",40),_(1,"cmsthumbnail")),o&2){let n=C();U("src",g(1,1,n.dataModel.linkMainImageIdSrc),Ie)}}function rn(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function an(o,d){if(o&1){let n=w();l(0,"div",41)(1,"button",42),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",43),m(3),_(4,"translate"),s(),l(5,"button",44),v(6,"i",45),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var gi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,p,a,x,H){super(c,new ne,p,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.publicHelper=p,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new ne,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(oe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,e){if(i&1&&Me(Xo,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:65,vars:50,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",6),v(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s(),l(8,"form",10,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),b(10,Zo,1,5,"app-cms-enum-record-status-selector",11),l(11,"div",12)(12,"label",13),m(13),s(),l(14,"input",14,1),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),h(a)}),s(),l(16,"em"),m(17),s(),b(18,$o,5,4,"mat-error",15),s(),l(19,"div",12)(20,"label",16),m(21),s(),l(22,"input",17,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),h(a)}),s(),l(24,"em"),m(25),s(),b(26,en,5,4,"mat-error",15),s(),l(27,"div",18)(28,"select",19,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.kind,a)||(e.dataModel.kind=a),h(a)}),b(30,tn,2,2,"option",20),s(),l(31,"em"),m(32),_(33,"translate"),s(),b(34,on,5,3,"mat-error",15),s(),l(35,"div",21)(36,"div",22)(37,"h5",23),m(38),s()(),l(39,"div",24)(40,"div",25)(41,"input",26),D("ngModelChange",function(a){return f(c),R(e.dataModel.dismissOnEdit,a)||(e.dataModel.dismissOnEdit=a),h(a)}),s(),v(42,"label",27),s()()(),l(43,"div",28)(44,"a",29),_(45,"cmsthumbnail"),b(46,nn,2,3,"img",30),s()(),l(47,"div",31)(48,"div",12)(49,"label",32),M("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),m(50),_(51,"translate"),s(),l(52,"input",33,4),_(54,"translate"),D("ngModelChange",function(a){return f(c),R(e.dataModel.linkMainImageId,a)||(e.dataModel.linkMainImageId=a),h(a)}),M("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),s()(),l(55,"cms-file-manager",34),M("itemSelected",function(a){return f(c),h(e.onActionFileSelected(a))}),D("openFormChange",function(a){return f(c),R(e.fileManagerOpenForm,a)||(e.fileManagerOpenForm=a),h(a)}),s()(),l(56,"div",12)(57,"label",35),m(58),s(),l(59,"textarea",36,5),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),h(a)}),s(),l(61,"em"),m(62),s(),b(63,rn,5,4,"mat-error",15),s(),b(64,an,9,7,"div",37),s()()()}if(i&2){let c=k(15),p=k(23),a=k(29),x=k(60);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),I("",p.value.length," / 100"),r(),u("ngIf",p.errors==null?null:p.errors.required),r(2),A("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(2),E(g(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(4),I(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),A("ngModel",e.dataModel.dismissOnEdit),r(3),U("href",g(45,44,e.dataModel.linkMainImageIdSrc),Ie),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),I("",g(51,46,"TITLE.Sample_File")," "),r(2),U("placeholder",g(54,48,"TITLE.Original_File_ID")),A("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),A("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),I("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Je,Ye,Fe,Jt,Qe,K,we,Xe,Ze,$e,X,ye,et,ie,Ue,Q,Xt,W,Vt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function sn(o,d){if(o&1){let n=w();l(0,"li")(1,"mat-checkbox",1),M("change",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),m(2),s()()}if(o&2){let n=d.$implicit,t=C();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),I(" ",n.titleML," ")}}var Uo=(()=>{let d=class d{constructor(t,i,e,c,p,a){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=p,this.cmsToastrService=a,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Dt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new Ce,this.optionSelectAdded=new Ce,this.optionSelectRemoved=new Ce,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array($)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(q),S(de),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(l(0,"ul"),b(1,sn,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[se,Zt]});let o=d;return o})();var mn=["vform"];function un(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fn(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function hn(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Cn(o,d){if(o&1&&(l(0,"option",39),m(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function Sn(o,d){if(o&1){let n=w();l(0,"div",40)(1,"div",41)(2,"h5",42),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",45),D("ngModelChange",function(i){f(n);let e=C();return R(e.dataModel.dismissOnEdit,i)||(e.dataModel.dismissOnEdit=i),h(i)}),s(),v(7,"label",46),s()()()}if(o&2){let n=C();r(3),I(" ",n.fieldsInfo.dismissOnEdit==null?null:n.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),A("ngModel",n.dataModel.dismissOnEdit)}}function _n(o,d){if(o&1&&(v(0,"img",47),_(1,"cmsthumbnail")),o&2){let n=C();U("src",g(1,1,n.dataModel.linkMainImageIdSrc),Ie)}}function gn(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function In(o,d){if(o&1){let n=w();l(0,"div",48)(1,"button",49),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",50),m(3),_(4,"translate"),s(),l(5,"button",51),v(6,"i",52),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var Ii=(()=>{let d=class d extends Bt{constructor(t,i,e,c,p,a,x,H,J){super(c,new ne,a,J),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.coreUserClaimGroupDetailService=p,this.publicHelper=a,this.cmsToastrService=x,this.cdr=H,this.translate=J,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ut,this.dataModel=new ne,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimGroupIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(kt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let p=[];this.dataCoreUserClaimGroupDetailModels.forEach(a=>{p.push(a.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=p,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.formAlert=a}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(oe),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,e){if(i&1&&Me(mn,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:66,vars:58,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",7),v(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s(),l(8,"form",11,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),l(10,"mat-vertical-stepper",12,1),M("selectionChange",function(a){f(c);let x=k(11);return h(e.onStepClick(a,x))}),l(12,"mat-step",13),_(13,"translate"),b(14,un,1,5,"app-cms-enum-record-status-selector",14),l(15,"div",15)(16,"label",16),m(17),s(),l(18,"input",17,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),h(a)}),s(),l(20,"em"),m(21),s(),b(22,fn,5,4,"mat-error",18),s(),l(23,"div",15)(24,"label",19),m(25),_(26,"translate"),s(),l(27,"input",20),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleML,a)||(e.dataModel.titleML=a),h(a)}),s()(),l(28,"div",15)(29,"label",21),m(30),s(),l(31,"input",22,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),h(a)}),s(),l(33,"em"),m(34),s(),b(35,hn,5,4,"mat-error",18),s(),l(36,"div",23)(37,"select",24,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.kind,a)||(e.dataModel.kind=a),h(a)}),b(39,Cn,2,2,"option",25),s()(),b(40,Sn,8,2,"div",26),l(41,"div",27)(42,"a",28),_(43,"cmsthumbnail"),b(44,_n,2,3,"img",29),s()(),l(45,"div",30)(46,"div",15)(47,"label",31),M("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),m(48),_(49,"translate"),s(),l(50,"input",32,5),_(52,"translate"),D("ngModelChange",function(a){return f(c),R(e.dataModel.linkMainImageId,a)||(e.dataModel.linkMainImageId=a),h(a)}),M("click",function(){return f(c),h(e.fileManagerOpenForm=!0)}),s()(),l(53,"cms-file-manager",33),M("itemSelected",function(a){return f(c),h(e.onActionFileSelected(a))}),D("openFormChange",function(a){return f(c),R(e.fileManagerOpenForm,a)||(e.fileManagerOpenForm=a),h(a)}),s()(),l(54,"div",15)(55,"label",34),m(56),s(),l(57,"textarea",35,6),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),h(a)}),s(),l(59,"em"),m(60),s(),b(61,gn,5,4,"mat-error",18),s()(),l(62,"mat-step",13),_(63,"translate"),l(64,"app-core-userclaimgroup-selectionlist",36),M("optionChange",function(a){return f(c),h(e.onActionSelectorUserCategorySelect(a))})("optionSelectAdded",function(a){return f(c),h(e.onActionSelectorUserCategorySelectAdded(a))})("optionSelectRemoved",function(a){return f(c),h(e.onActionSelectorUserCategorySelectRemoved(a))}),s()()(),b(65,In,9,7,"div",37),s()()()}if(i&2){let c=k(19),p=k(32),a=k(58);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",g(13,46,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),I(" ",g(26,48,"TITLE.TitleML"),""),r(2),A("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),I("",p.value.length," / 100"),r(),u("ngIf",p.errors==null?null:p.errors.required),r(2),A("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(),u("ngIf",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.accessWatchField),r(2),U("href",g(43,50,e.dataModel.linkMainImageIdSrc),Ie),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),I("",g(49,52,"TITLE.Sample_File")," "),r(2),U("placeholder",g(52,54,"TITLE.Original_File_ID")),A("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),A("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),I("",a.value.length," / 500"),r(),u("ngIf",a.errors==null?null:a.errors.required),r(),U("label",g(63,56,"TITLE.Get_Used")),r(2),u("optionSelectForce",e.dataCoreClaimGroupIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Je,Ye,Fe,Jt,Qe,K,we,Xe,Ze,$e,X,ye,et,ie,$t,ei,Ue,Q,di,Xt,Uo,W,Vt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function bn(o,d){if(o&1){let n=w();l(0,"button",12),M("click",function(){f(n);let i=C();return h(i.onActionAdd())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.ADD")))}function vn(o,d){if(o&1){let n=w();l(0,"button",13),M("click",function(){f(n);let i=C();return h(i.onActionEdit())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function wn(o,d){if(o&1){let n=w();l(0,"button",14),M("click",function(){f(n);let i=C();return h(i.onActionButtonReload())}),l(1,"mat-icon",15),_(2,"translate"),m(3,"refresh"),s()()}o&2&&(r(),U("title",g(2,1,"ACTION.RELOAD")))}function yn(o,d){if(o&1){let n=w();l(0,"mat-tree-node",16),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),v(1,"button",17),m(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),I(" ",n.titleML," ")}}function Tn(o,d){if(o&1){let n=w();l(0,"mat-nested-tree-node")(1,"li")(2,"div",18),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),l(3,"button",19),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),l(4,"mat-icon",20),m(5),s()(),m(6),s(),l(7,"ul"),Se(8,21),s()()()}if(o&2){let n=d.$implicit,t=C();r(2),ae("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),At("aria-label","Toggle "+n.titleML),r(2),I(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),I(" ",n.titleML," "),r(),ae("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Lo=(()=>{let d=class d{constructor(t,i,e,c,p,a,x,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=p,this.publicHelper=a,this.tokenHelper=x,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new ne,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ti(J=>null),this.dataSource=new ci,this.optionChange=new Ce,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(J,ge)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new ne,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(q),S(oe),S(_e),S(N),S(O),S(me),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(l(0,"app-cms-html-tree",0),y(1,1),m(2),_(3,"translate"),T(),y(4,2),b(5,bn,3,3,"button",3)(6,vn,3,3,"button",4)(7,wn,4,3,"button",5),T(),y(8,6),v(9,"app-progress-spinner",7),l(10,"mat-tree",8),b(11,yn,3,7,"mat-tree-node",9)(12,Tn,9,7,"mat-nested-tree-node",10),s(),T(),Se(13,11),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",g(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,ce,ni,oi,ri,si,li,ii,ai,Q,Nt,W]});let o=d;return o})();var An=()=>["expandedTitle"],Rn=()=>[5,10,20,100],Dn=o=>({display:o}),xn=o=>({background:o});function kn(o,d){if(o&1){let n=w();l(0,"a",53),M("click",function(){f(n);let i=C();return h(i.onActionBackToParent())}),v(1,"i",54),s()}}function Un(o,d){if(o&1){let n=w();l(0,"div",21)(1,"a",55),M("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),v(2,"i",56)(3,"br"),s(),l(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function Gn(o,d){if(o&1){let n=w();l(0,"div",21)(1,"a",57),M("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function Ln(o,d){if(o&1){let n=w();l(0,"div",21)(1,"a",59),M("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),v(2,"i",60)(3,"br"),s(),l(4,"p",23),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function Vn(o,d){if(o&1){let n=w();l(0,"mat-row",61),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowMouseLeave(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function On(o,d){o&1&&(l(0,"mat-header-cell",62),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.PICTURE")," "))}function Fn(o,d){if(o&1&&v(0,"img",64),o&2){let n=C().$implicit;U("src",n.linkFileContentId,Ie)}}function Bn(o,d){if(o&1&&(l(0,"mat-cell"),b(1,Fn,1,1,"img",63),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkFileContentId==null?null:n.linkFileContentId.length)>0)}}function Nn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Pn(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Hn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function jn(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.title," ")}}function Wn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function qn(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),I(" ",g(3,3,g(2,1,n.linkSiteId))," ")}}function zn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Kn(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmsuserinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),I(" ",g(3,3,g(2,1,n.linkUserId))," ")}}function Qn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Jn(o,d){if(o&1&&v(0,"select",67),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Dn,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Yn(o,d){if(o&1&&(l(0,"mat-cell",65),_(1,"statusCellClass"),v(2,"i",65),_(3,"statusIconClass"),b(4,Jn,1,5,"select",66),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Xn(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Zn(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),E(Ve(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems))}}function $n(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.isApproved==null?null:n.fieldsInfo.isApproved.fieldTitle," ")}}function er(o,d){if(o&1&&(l(0,"mat-cell"),v(1,"i",65),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",g(2,1,n.isApproved))}}function tr(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function ir(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function or(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function nr(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function rr(o,d){if(o&1&&(l(0,"mat-header-cell",62),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.expireDate==null?null:n.fieldsInfo.expireDate.fieldTitle," ")}}function ar(o,d){if(o&1&&(l(0,"mat-cell",68),m(1),s()),o&2){let n=d.$implicit,t=C();u("ngStyle",qe(2,xn,t.publicHelper.RowStyleExpireDate(n.expireDate))),r(),I(" ",t.publicHelper.LocaleDate(n.expireDate)," ")}}function lr(o,d){o&1&&(l(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function sr(o,d){if(o&1&&(l(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function cr(o,d){o&1&&v(0,"mat-header-row")}function dr(o,d){if(o&1){let n=w();l(0,"mat-row",71),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function pr(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"translate"),_(3,"cmsuserinfo"),_(4,"async"),v(5,"br"),m(6),_(7,"translate"),_(8,"cmssiteinfo"),_(9,"async"),v(10,"br"),m(11),_(12,"translate"),v(13,"br"),m(14),_(15,"translate"),v(16,"br"),m(17),_(18,"translate"),s()),o&2){let n=d.$implicit,t=C();r(),Rt(" ",g(2,10,"TITLE.User_Id")," : ",g(4,14,g(3,12,n.linkUserId))," "),r(5),Rt(" ",g(7,16,"TITLE.Site_Id")," : ",g(9,20,g(8,18,n.linkSiteId))," "),r(5),Rt(" ",g(12,22,"TITLE.CreationDate")," : ",t.publicHelper.LocaleDate(n.createdDate)," "),r(3),Rt(" ",g(15,24,"TITLE.DateOfUpdate")," : ",t.publicHelper.LocaleDate(n.updatedDate)," "),r(3),Rt(" ",g(18,26,"TITLE.Expire_Date")," : ",t.publicHelper.LocaleDate(n.expireDate)," ")}}var qt=(()=>{let d=class d extends wt{constructor(t,i,e,c,p,a,x,H,J,ge,He,ze){if(super(t,new Di,He,a,J),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreUserClaimTypeService=c,this.router=p,this.tokenHelper=a,this.activatedRoute=x,this.cdr=H,this.translate=J,this.pageInfo=ge,this.publicHelper=He,this.dialog=ze,this.requestLinkUserClaimTypeId=0,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new ne,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"],this.tabledisplayedColumnsMobileSource=["LinkFileContentId","Id","RecordStatus","LinkUserClaimTypeId","IsApproved"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:re=>this.onSubmitOptionsSearch(re)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Z.Descending,this.requestLinkUserClaimTypeId>0){let re=new z;re.propertyName="LinkUserClaimTypeId",re.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(re)}if(this.requestLinkSiteId>0){let re=new z;re.propertyName="LinkSiteId",re.value=this.requestLinkSiteId,this.filteModelContent.filters.push(re)}if(this.requestLinkUserId>0){let re=new z;re.propertyName="LinkUserId",re.value=this.requestLinkUserId,this.filteModelContent.filters.push(re)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Di);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Pt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(p,a,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new z;p.propertyName="RecordStatus",p.value=tt.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};d.\u0275fac=function(i){return new(i||d)(S(Gt),S(V),S(Ne),S(oe),S(Be),S(me),S(xt),S(N),S(P),S(it),S(O),S(_e))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-list"]],features:[Y],decls:88,vars:37,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),h(a)}),M("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),y(1,4),l(2,"app-core-userclaimtype-tree",5),M("optionChange",function(a){return f(c),h(e.onActionSelectorSelect(a))}),s(),T(),Se(3,6)(4,7),y(5,8),b(6,kn,2,0,"a",9),l(7,"a",10),M("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),v(8,"i",11),s(),l(9,"a",10),M("click",function(){return f(c),h(e.onActionButtonReload())}),v(10,"i",12),s(),T(),y(11,13),l(12,"a",14),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(13,"mat-slide-toggle",15),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),h(a)}),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(),m(14),_(15,"translate"),s(),l(16,"a",16)(17,"mat-slide-toggle",17),M("click",function(){return f(c),h(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),h(a)}),s(),m(18),_(19,"translate"),s(),T(),y(20,18),b(21,Un,7,3,"div",19),T(),y(22,20),b(23,Gn,7,3,"div",19)(24,Ln,7,3,"div",19),l(25,"div",21)(26,"a",22),M("click",function(){return f(c),h(e.onActionButtonModuleList(e.tableRowSelected))}),l(27,"mat-icon"),m(28,"view_module"),s()(),l(29,"p",23),m(30),_(31,"translate"),s()(),l(32,"div",21)(33,"a",22),M("click",function(){return f(c),h(e.onActionButtonSiteList(e.tableRowSelected))}),v(34,"i",24),s(),l(35,"p",23),m(36),_(37,"translate"),s()(),T(),y(38,25),l(39,"app-cms-search-list",26),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),h(a)}),s(),l(40,"app-cms-statist-list",26),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),h(a)}),s(),T(),y(41,27),l(42,"mat-table",28,0),M("matSortChange",function(){f(c);let a=k(43);return h(e.onTableSortData(a))}),b(44,Vn,1,6,"mat-row",29),y(45,30),b(46,On,3,3,"mat-header-cell",31)(47,Bn,2,1,"mat-cell",32),T(),y(48,33),b(49,Nn,2,1,"mat-header-cell",31)(50,Pn,2,1,"mat-cell",32),T(),y(51,34),b(52,Hn,2,1,"mat-header-cell",31)(53,jn,2,1,"mat-cell",32),T(),y(54,35),b(55,Wn,2,1,"mat-header-cell",31)(56,qn,4,5,"mat-cell",32),T(),y(57,36),b(58,zn,2,1,"mat-header-cell",31)(59,Kn,4,5,"mat-cell",32),T(),y(60,37),b(61,Qn,2,1,"mat-header-cell",31)(62,Yn,5,7,"mat-cell",38),T(),y(63,39),b(64,Xn,2,1,"mat-header-cell",31)(65,Zn,3,4,"mat-cell",32),T(),y(66,40),b(67,$n,2,1,"mat-header-cell",31)(68,er,3,3,"mat-cell",32),T(),y(69,41),b(70,tr,2,1,"mat-header-cell",31)(71,ir,2,1,"mat-cell",32),T(),y(72,42),b(73,or,2,1,"mat-header-cell",31)(74,nr,2,1,"mat-cell",32),T(),y(75,43),b(76,rr,2,1,"mat-header-cell",31)(77,ar,2,4,"mat-cell",44),T(),y(78,45),b(79,lr,3,3,"mat-header-cell",46)(80,sr,6,1,"mat-cell",47),T(),b(81,cr,1,0,"mat-header-row",48)(82,dr,1,6,"mat-row",49),y(83,50),b(84,pr,19,28,"mat-cell",32),T(),s(),T(),y(85,51),l(86,"mat-paginator",52,1),M("page",function(a){return f(c),h(e.onTablePageingData(a))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","userclaim.content.list"),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimTypeId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),u("ngIf",e.requestLinkUserClaimTypeId>0),r(7),A("ngModel",e.optionsSearch.data.show),r(),I("",g(15,27,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),I("",g(19,29,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(31,31,"ACTION.MODULES")),r(6),E(g(37,33,"ACTION.SITES")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(2),u("matRowDefColumns",We(35,An)),r(37),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(4),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",We(36,Rn)))},dependencies:[Oe,j,Ke,K,X,Ee,ce,ie,ot,nt,rt,ke,at,lt,st,dt,ft,pt,ct,ht,mt,ut,Ct,St,bt,vt,Mt,_t,Lo,Qt,W,Ot,Mo,yo,It,gt,Lt],encapsulation:2});let o=d;return o})();var mr=["*"];function ur(o,d){if(o&1&&(l(0,"label",8),m(1),s()),o&2){let n=C();Ti("for","app-cms-site-selector-",n.id,""),r(),E(n.optionLabel)}}function fr(o,d){if(o&1&&(l(0,"mat-option",9)(1,"span"),m(2),s()()),o&2){let n=d.$implicit,t=C();u("value",n)("disabled",t.optionDisabled),r(2),E(t.displayOption(n))}}function hr(o,d){if(o&1){let n=w();l(0,"mat-icon",10),M("click",function(){f(n);let i=C();return h(i.onActionSelectClear())}),m(1,"close"),s()}}var Mi=(()=>{let d=class d{constructor(t,i,e,c,p,a){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=c,this.translate=p,this.categoryService=a,this.id=++d.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=new $,this.formControl=new Dt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Ce,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Xi(""),Ji(1500),Yi(),Zi(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return yi(this,null,function*(){let i=new F;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=Ri.Contains,e.clauseType=Ai.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=Ri.Equal,e.clauseType=Ai.Or,i.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(c,p,this.constructorInfoAreaId)}),yield Ki(this.categoryService.ServiceGetAll(i)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),p.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(Qi(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="number"&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof $){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $,this.loadOptions()}};d.nextId=0,d.\u0275fac=function(i){return new(i||d)(S(q),S(V),S(N),S(O),S(P),S(de))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:mr,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=w();$i(),l(0,"div",1),v(1,"app-progress-spinner",2),b(2,ur,2,3,"label",3),v(3,"input",4),l(4,"mat-autocomplete",5,0),M("optionSelected",function(a){return f(c),h(e.onActionSelect(a.option.value))}),b(6,fr,3,3,"mat-option",6),_(7,"async"),s(),b(8,hr,2,0,"mat-icon",7),eo(9),s()}if(i&2){let c=k(5);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),U("placeholder",e.optionPlaceholder),Ti("id","app-cms-site-selector-",e.id,""),u("formControl",e.formControl)("matAutocomplete",c),At("disabled",e.optionDisabled?!0:null),r(),u("displayWith",e.displayFn),r(2),u("ngForOf",g(7,11,e.filteredOptions)),r(2),u("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[se,j,Fe,K,no,bo,oo,vo,lo,ce,ie,Q,Qt],encapsulation:2});let o=d;return o})();var Sr=["vform"];function _r(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",18),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gr(o,d){if(o&1){let n=w();l(0,"mat-slide-toggle",19),D("ngModelChange",function(i){f(n);let e=C();return R(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),h(i)}),m(1),s()}if(o&2){let n=C();A("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function Ir(o,d){if(o&1){let n=w();l(0,"div",13)(1,"button",20),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",21),m(3),_(4,"translate"),s(),l(5,"button",22),v(6,"i",23),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var qi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,p,a,x,H){super(c,new pe,p,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=p,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new pe,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkUserClaimGroupId=+t.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+t.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),"MESSAGE.group_of_information_documents_is_not_clear");return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,e){if(i&1&&Me(Sr,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",1),v(1,"app-progress-spinner",2),l(2,"div",3)(3,"p",4),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s()()(),l(8,"form",5,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,"div",6),l(11,"div",7),b(12,_r,1,5,"app-cms-enum-record-status-selector",8),l(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectClaimGroup(a))}),s(),l(15,"app-core-userclaimtype-selector",9),_(16,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectClaimType(a))}),s(),l(17,"div",10),b(18,gr,2,3,"mat-slide-toggle",11),s()(),l(19,"div",12)(20,"div",13)(21,"small",14),m(22),s(),l(23,"small",15),m(24),s()()(),l(25,"div",16),b(26,Ir,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",g(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",g(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),I("",e.formInfo.formAlert," "),r(2),I("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,K,we,X,ye,ke,Ue,Q,Mi,hi,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var Mr=["vform"];function br(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",18),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vr(o,d){if(o&1){let n=w();l(0,"mat-slide-toggle",19),D("ngModelChange",function(i){f(n);let e=C();return R(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),h(i)}),m(1),s()}if(o&2){let n=C();A("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function wr(o,d){if(o&1){let n=w();l(0,"div",13)(1,"button",20),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",21),m(3),_(4,"translate"),s(),l(5,"button",22),v(6,"i",23),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var zi=(()=>{let d=class d extends Bt{constructor(t,i,e,c,p,a,x,H){super(c,new pe,p,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=p,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.requestModel=new pe,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ut,this.dataModel=new pe,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestModel=t.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestModel.linkUserClaimGroupId,i.filters.push(e),e=new z,e.propertyName="LinkUserClaimTypeId",e.value=this.requestModel.linkUserClaimTypeId,i.filters.push(e),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(kt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),c.isSuccess&&c.listItems.length>0?(this.dataModel=c.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.group_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,e){if(i&1&&Me(Mr,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",1),v(1,"app-progress-spinner",2),l(2,"div",3)(3,"p",4),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s()()(),l(8,"form",5,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,"div",6),l(11,"div",7),b(12,br,1,5,"app-cms-enum-record-status-selector",8),l(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectClaimGroup(a))}),s(),l(15,"app-core-userclaimtype-selector",9),_(16,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectClaimType(a))}),s(),l(17,"div",10),b(18,vr,2,3,"mat-slide-toggle",11),s()(),l(19,"div",12)(20,"div",13)(21,"small",14),m(22),s(),l(23,"small",15),m(24),s()()(),l(25,"div",16),b(26,wr,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",g(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",g(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),I("",e.formInfo.formAlert," "),r(2),I("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,K,we,X,ye,ke,Ue,Q,Mi,hi,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var Rr=["vform"];function Dr(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function kr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Ur(o,d){if(o&1&&(l(0,"option",24),m(1),s()),o&2){let n=d.$implicit;u("value",n.value),r(),E(n.description)}}function Gr(o,d){o&1&&(l(0,"mat-error"),m(1," ActionType is "),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function Lr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Vr(o,d){if(o&1){let n=w();l(0,"div",25)(1,"button",26),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",27),m(3),_(4,"translate"),s(),l(5,"button",28),v(6,"i",29),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var bi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,p,a,x,H){super(c,new $,p,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.publicHelper=p,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new $,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(de),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,e){if(i&1&&Me(Rr,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:55,vars:54,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",5),v(1,"app-progress-spinner",6),l(2,"div",7)(3,"p",8),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s(),l(8,"form",9,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),b(10,Dr,1,5,"app-cms-enum-record-status-selector",10),l(11,"div",11)(12,"label",12),m(13),s(),l(14,"input",13,1),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),h(a)}),s(),l(16,"em"),m(17),s(),b(18,xr,5,4,"mat-error",14),s(),l(19,"div",11)(20,"label",15),m(21),s(),l(22,"input",16,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),h(a)}),s(),l(24,"em"),m(25),s(),b(26,kr,5,4,"mat-error",14),s(),l(27,"div",11)(28,"select",17,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.actionType,a)||(e.dataModel.actionType=a),h(a)}),b(30,Ur,2,2,"option",18),s(),l(31,"em"),m(32),_(33,"translate"),s(),b(34,Gr,5,3,"mat-error",14),s(),v(35,"hr"),l(36,"app-cms-module-selector",19),_(37,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectModuleId(a))}),s(),l(38,"app-cms-sitecategory-selector",19),_(39,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectSiteCategory(a))}),s(),l(40,"app-cms-usergroup-selector",19),_(41,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectUserGroup(a))}),s(),l(42,"app-cms-application-selector",19),_(43,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectApplication(a))}),s(),l(44,"app-cms-application-selector",19),_(45,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectApplicationSource(a))}),s(),l(46,"div",11)(47,"label",20),m(48),s(),l(49,"textarea",21,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),h(a)}),s(),l(51,"em"),m(52),s(),b(53,Lr,5,4,"mat-error",14),s(),b(54,Vr,9,7,"div",22),s()()()}if(i&2){let c=k(15),p=k(23),a=k(29),x=k(50);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),I("",p.value.length," / 100"),r(),u("ngIf",p.errors==null?null:p.errors.required),r(2),A("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(g(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",g(37,44,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",g(39,46,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",g(41,48,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",g(43,50,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",g(45,52,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),I("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Je,Ye,Fe,Qe,K,we,Xe,Ze,$e,X,ye,et,ie,Ue,pi,ui,fi,mi,Q,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function Or(o,d){if(o&1){let n=w();l(0,"li")(1,"mat-checkbox",1),M("change",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),m(2),s()()}if(o&2){let n=d.$implicit,t=C();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),I(" ",n.titleML," ")}}var Fo=(()=>{let d=class d{constructor(t,i,e,c,p,a){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=p,this.cmsToastrService=a,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Dt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new Ce,this.optionSelectAdded=new Ce,this.optionSelectRemoved=new Ce,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(ne)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(q),S(oe),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(l(0,"ul"),b(1,Or,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[se,Zt]});let o=d;return o})();var Br=["vform"];function Nr(o,d){if(o&1){let n=w();l(0,"app-cms-enum-record-status-selector",30),D("modelChange",function(i){f(n);let e=C();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),s()}if(o&2){let n=C();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function Hr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function jr(o,d){if(o&1&&(l(0,"option",31),m(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),I(" ",n.description," ")}}function Wr(o,d){o&1&&(l(0,"mat-error"),m(1," ActionType is "),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2&&(r(3),E(g(4,1,"MESSAGE.required")))}function qr(o,d){if(o&1&&(l(0,"mat-error"),m(1),l(2,"strong"),m(3),_(4,"translate"),s()()),o&2){let n=C();r(),I(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),E(g(4,2,"MESSAGE.required"))}}function zr(o,d){if(o&1){let n=w();l(0,"div",32)(1,"button",33),M("click",function(){f(n);let i=C();return h(i.onFormCancel())}),v(2,"i",34),m(3),_(4,"translate"),s(),l(5,"button",35),v(6,"i",36),m(7),_(8,"translate"),s()()}if(o&2){C();let n=k(9);r(3),I(" ",g(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),I(" ",g(8,5,"ACTION.SAVE")," ")}}var vi=(()=>{let d=class d extends Bt{constructor(t,i,e,c,p,a,x,H,J){super(c,new $,a,J),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.coreUserClaimGroupDetailService=p,this.publicHelper=a,this.cmsToastrService=x,this.cdr=H,this.translate=J,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ut,this.dataModel=new $,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimTypeIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(kt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let p=[];this.dataCoreUserClaimGroupDetailModels.forEach(a=>{p.push(a.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=p,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.formAlert=a}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(de),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,e){if(i&1&&Me(Br,5),i&2){let c;be(c=ve())&&(e.formGroup=c.first)}},features:[Y],decls:67,vars:67,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=w();l(0,"div",6),v(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),s(),l(5,"p"),m(6),_(7,"translate"),s(),l(8,"form",10,0),M("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),l(10,"mat-vertical-stepper",11,1),M("selectionChange",function(a){f(c);let x=k(11);return h(e.onStepClick(a,x))}),l(12,"mat-step",12),_(13,"translate"),b(14,Nr,1,5,"app-cms-enum-record-status-selector",13),l(15,"div",14)(16,"label",15),m(17),s(),l(18,"input",16,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),h(a)}),s(),l(20,"em"),m(21),s(),b(22,Pr,5,4,"mat-error",17),s(),l(23,"div",14)(24,"label",18),m(25),_(26,"translate"),s(),l(27,"input",19),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleML,a)||(e.dataModel.titleML=a),h(a)}),s()(),l(28,"div",14)(29,"label",20),m(30),s(),l(31,"input",21,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),h(a)}),s(),l(33,"em"),m(34),s(),b(35,Hr,5,4,"mat-error",17),s(),l(36,"div",22)(37,"select",23,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.actionType,a)||(e.dataModel.actionType=a),h(a)}),b(39,jr,2,2,"option",24),s(),l(40,"em"),m(41),_(42,"translate"),s(),b(43,Wr,5,3,"mat-error",17),s(),v(44,"hr"),l(45,"app-cms-module-selector",25),_(46,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectModuleId(a))}),s(),l(47,"app-cms-sitecategory-selector",25),_(48,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectSiteCategory(a))}),s(),l(49,"app-cms-usergroup-selector",25),_(50,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectUserGroup(a))}),s(),l(51,"app-cms-application-selector",25),_(52,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectApplication(a))}),s(),l(53,"app-cms-application-selector",25),_(54,"translate"),M("optionChange",function(a){return f(c),h(e.onActionSelectApplicationSource(a))}),s(),l(55,"div",14)(56,"label",26),m(57),s(),l(58,"textarea",27,5),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),h(a)}),s(),l(60,"em"),m(61),s(),b(62,qr,5,4,"mat-error",17),s()(),l(63,"mat-step",12),_(64,"translate"),l(65,"app-core-userclaimtype-selectionlist",28),M("optionChange",function(a){return f(c),h(e.onActionSelectorUserCategorySelect(a))})("optionSelectAdded",function(a){return f(c),h(e.onActionSelectorUserCategorySelectAdded(a))})("optionSelectRemoved",function(a){return f(c),h(e.onActionSelectorUserCategorySelectRemoved(a))}),s()()(),b(66,zr,9,7,"div",29),s()()()}if(i&2){let c=k(19),p=k(32),a=k(38),x=k(59);r(),u("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",g(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",g(13,49,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),E(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),I("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),I(" ",g(26,51,"TITLE.TitleML"),""),r(2),A("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),E(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),I("",p.value.length," / 100"),r(),u("ngIf",p.errors==null?null:p.errors.required),r(2),A("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),E(g(42,53,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",g(46,55,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",g(48,57,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",g(50,59,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",g(52,61,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",g(54,63,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),E(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),I("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),U("label",g(64,65,"TITLE.Required_Documents")),r(2),u("optionSelectForce",e.dataCoreClaimTypeIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Je,Ye,Fe,Qe,K,we,Xe,Ze,$e,X,ye,et,ie,$t,ei,Ue,pi,ui,fi,mi,Q,di,Fo,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function Kr(o,d){if(o&1){let n=w();l(0,"button",12),M("click",function(){f(n);let i=C();return h(i.onActionAdd())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.ADD")))}function Qr(o,d){if(o&1){let n=w();l(0,"button",13),M("click",function(){f(n);let i=C();return h(i.onActionEdit())}),m(1),_(2,"translate"),s()}o&2&&(r(),E(g(2,1,"ACTION.EDIT")))}function Jr(o,d){if(o&1){let n=w();l(0,"button",14),M("click",function(){f(n);let i=C();return h(i.onActionButtonReload())}),l(1,"mat-icon",15),_(2,"translate"),m(3,"refresh"),s()()}o&2&&(r(),U("title",g(2,1,"ACTION.RELOAD")))}function Yr(o,d){if(o&1){let n=w();l(0,"mat-tree-node",16),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),v(1,"button",17),m(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),I(" ",n.titleML," ")}}function Xr(o,d){if(o&1){let n=w();l(0,"mat-nested-tree-node")(1,"li")(2,"div",18),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),l(3,"button",19),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionSelect(i))}),l(4,"mat-icon",20),m(5),s()(),m(6),s(),l(7,"ul"),Se(8,21),s()()()}if(o&2){let n=d.$implicit,t=C();r(2),ae("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),At("aria-label","Toggle "+n.titleML),r(2),I(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),I(" ",n.titleML," "),r(),ae("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Bo=(()=>{let d=class d{constructor(t,i,e,c,p,a,x,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=p,this.publicHelper=a,this.tokenHelper=x,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new $,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ti(J=>null),this.dataSource=new ci,this.optionChange=new Ce,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(J,ge)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new $,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(q),S(de),S(_e),S(N),S(O),S(me),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(l(0,"app-cms-html-tree",0),y(1,1),m(2),_(3,"translate"),T(),y(4,2),b(5,Kr,3,3,"button",3)(6,Qr,3,3,"button",4)(7,Jr,4,3,"button",5),T(),y(8,6),v(9,"app-progress-spinner",7),l(10,"mat-tree",8),b(11,Yr,3,7,"mat-tree-node",9)(12,Xr,9,7,"mat-nested-tree-node",10),s(),T(),Se(13,11),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",g(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("optionsInfoAreaId",e.constructorInfoAreaId),r(),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,ce,ni,oi,ri,si,li,ii,ai,Q,Nt,W]});let o=d;return o})();var $r=()=>[5,10,20,100],ea=o=>({display:o});function ta(o,d){if(o&1){let n=w();l(0,"a",39),M("click",function(){f(n);let i=C();return h(i.onActionBackToParentGroup())}),v(1,"i",40),s()}}function ia(o,d){if(o&1){let n=w();l(0,"a",39),M("click",function(){f(n);let i=C();return h(i.onActionBackToParentType())}),v(1,"i",40),s()}}function oa(o,d){if(o&1){let n=w();l(0,"div",41)(1,"a",42),M("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),v(2,"i",43)(3,"br"),s(),l(4,"p",44),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function na(o,d){if(o&1){let n=w();l(0,"div",41)(1,"a",45),M("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),v(2,"i",46)(3,"br"),s(),l(4,"p",44),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function ra(o,d){if(o&1){let n=w();l(0,"div",41)(1,"a",47),M("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),v(2,"i",48)(3,"br"),s(),l(4,"p",44),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function aa(o,d){if(o&1&&(l(0,"mat-header-cell",49),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function la(o,d){if(o&1&&v(0,"select",52),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,ea,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function sa(o,d){if(o&1&&(l(0,"mat-cell",50),_(1,"statusCellClass"),v(2,"i",50),_(3,"statusIconClass"),b(4,la,1,5,"select",51),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ca(o,d){if(o&1&&(l(0,"mat-header-cell",49),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimGroupId==null?null:n.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function da(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)," ")}}function pa(o,d){if(o&1&&(l(0,"mat-header-cell",49),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function ma(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)," ")}}function ua(o,d){if(o&1&&(l(0,"mat-header-cell",49),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function fa(o,d){if(o&1&&(l(0,"mat-cell"),v(1,"i",50),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",g(2,1,n.isRequired))}}function ha(o,d){o&1&&(l(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function Ca(o,d){if(o&1&&(l(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function Sa(o,d){o&1&&v(0,"mat-header-row")}function _a(o,d){if(o&1){let n=w();l(0,"mat-row",55),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&n.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var wi=(()=>{let d=class d extends wt{constructor(t,i,e,c,p,a,x,H,J,ge,He,ze,re){if(super(t,new pe,ze,H,ge),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.activatedRoute=c,this.coreUserClaimTypeService=p,this.coreUserClaimGroupService=a,this.router=x,this.tokenHelper=H,this.cdr=J,this.translate=ge,this.pageInfo=He,this.publicHelper=ze,this.dialog=re,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new $,this.dataModelCoreUserClaimTypeResult=new L,this.dataModelCoreUserClaimGroupResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.tabledisplayedColumnsMobileSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:je=>this.onSubmitOptionsSearch(je)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Z.Descending,this.requestLinkUserClaimTypeId>0){let je=new z;je.propertyName="LinkUserClaimTypeId",je.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(je)}if(this.requestLinkUserClaimGroupId>0){let je=new z;je.propertyName="LinkUserClaimGroupId",je.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(je)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let t=new F;t.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pe);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimHeaderId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkUserClaimGroupId||t.linkUserClaimGroupId===0||!t.linkUserClaimTypeId||t.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(zi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(p,a,this.constructorInfoAreaId)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new z;p.propertyName="RecordStatus",p.value=tt.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};d.\u0275fac=function(i){return new(i||d)(S(xe),S(V),S(Ne),S(xt),S(oe),S(de),S(Be),S(me),S(N),S(P),S(it),S(O),S(_e))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-list"]],features:[Y],decls:52,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),h(a)}),M("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),y(1,4),l(2,"app-core-userclaimgroup-tree",5),M("optionChange",function(a){return f(c),h(e.onActionSelectorSelect(a))}),s(),T(),Se(3,6)(4,7),y(5,8),b(6,ta,2,0,"a",9)(7,ia,2,0,"a",9),l(8,"a",10),M("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),v(9,"i",11),s(),l(10,"a",10),M("click",function(){return f(c),h(e.onActionButtonReload())}),v(11,"i",12),s(),T(),y(12,13),l(13,"a",14),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(14,"mat-slide-toggle",15),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),h(a)}),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(),m(15),_(16,"translate"),s(),l(17,"a",16)(18,"mat-slide-toggle",17),M("click",function(){return f(c),h(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),h(a)}),s(),m(19),_(20,"translate"),s(),T(),y(21,18),b(22,oa,7,3,"div",19),T(),y(23,20),b(24,na,7,3,"div",19)(25,ra,7,3,"div",19),T(),y(26,21),l(27,"app-cms-search-list",22),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),h(a)}),s(),l(28,"app-cms-statist-list",22),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),h(a)}),s(),T(),y(29,23),l(30,"mat-table",24,0),M("matSortChange",function(){f(c);let a=k(31);return h(e.onTableSortData(a))}),y(32,25),b(33,aa,2,1,"mat-header-cell",26)(34,sa,5,7,"mat-cell",27),T(),y(35,28),b(36,ca,2,1,"mat-header-cell",26)(37,da,3,4,"mat-cell",29),T(),y(38,30),b(39,pa,2,1,"mat-header-cell",26)(40,ma,3,4,"mat-cell",29),T(),y(41,31),b(42,ua,2,1,"mat-header-cell",26)(43,fa,3,3,"mat-cell",29),T(),y(44,32),b(45,ha,3,3,"mat-header-cell",33)(46,Ca,6,1,"mat-cell",34),T(),b(47,Sa,1,0,"mat-header-row",35)(48,_a,1,6,"mat-row",36),s(),T(),y(49,37),l(50,"mat-paginator",38,1),M("page",function(a){return f(c),h(e.onTablePageingData(a))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimGroupId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),u("ngIf",e.requestLinkUserClaimGroupId>0),r(),u("ngIf",e.requestLinkUserClaimTypeId>0),r(7),A("ngModel",e.optionsSearch.data.show),r(),I("",g(16,25,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),I("",g(20,27,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(17),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",We(29,$r)))},dependencies:[Oe,j,Ke,K,X,Ee,ce,ie,ot,nt,rt,ke,at,lt,st,dt,ft,pt,ct,ht,mt,ut,Ct,St,bt,vt,Mt,_t,Bo,W,Ot,It,gt,Lt],encapsulation:2});let o=d;return o})();var ga=()=>[5,10,20,100],Ia=o=>({display:o});function Ma(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",41),M("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),v(2,"i",42)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function ba(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",43),M("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),v(2,"i",44)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function va(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",45),M("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),v(2,"i",46)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function wa(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ya(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Ta(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ea(o,d){if(o&1&&v(0,"select",50),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Ia,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Aa(o,d){if(o&1&&(l(0,"mat-cell",48),_(1,"statusCellClass"),v(2,"i",48),_(3,"statusIconClass"),b(4,Ea,1,5,"select",49),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Ra(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Da(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.titleML," ")}}function xa(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkSiteCategoryId==null?null:n.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function ka(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Ua(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.linkModuleId==null?null:n.fieldsInfo.linkModuleId.fieldTitle," ")}}function Ga(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function La(o,d){o&1&&(l(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function Va(o,d){if(o&1&&(l(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function Oa(o,d){o&1&&v(0,"mat-header-row")}function Fa(o,d){if(o&1){let n=w();l(0,"mat-row",53),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var No=(()=>{let d=class d extends wt{constructor(t,i,e,c,p,a,x,H,J,ge,He,ze){super(t,new $,He,x,J),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=c,this.coreSiteCategoryService=p,this.router=a,this.tokenHelper=x,this.cdr=H,this.translate=J,this.pageInfo=ge,this.publicHelper=He,this.dialog=ze,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreModuleResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:re=>this.onSubmitOptionsSearch(re)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Z.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModule(),this.getSiteCategory()}getModule(){let t=new F;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let t=new F;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(p,a,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new z;p.propertyName="RecordStatus",p.value=tt.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(de),S(V),S(Ne),S(Yt),S(So),S(Be),S(me),S(N),S(P),S(it),S(O),S(_e))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-list"]],features:[Y],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),h(a)}),M("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),y(1,4),m(2," -------------------------------------- "),T(),Se(3,5)(4,6),y(5,7),l(6,"a",8),M("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),v(7,"i",9),s(),l(8,"a",8),M("click",function(){return f(c),h(e.onActionButtonReload())}),v(9,"i",10),s(),T(),y(10,11),l(11,"a",12),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(12,"mat-slide-toggle",13),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),h(a)}),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(),m(13),_(14,"translate"),s(),l(15,"a",14)(16,"mat-slide-toggle",15),M("click",function(){return f(c),h(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),h(a)}),s(),m(17),_(18,"translate"),s(),T(),y(19,16),b(20,Ma,7,3,"div",17),T(),y(21,18),b(22,ba,7,3,"div",17)(23,va,7,3,"div",17),l(24,"div",19)(25,"a",20),M("click",function(){return f(c),h(e.onActionButtonDetailList(e.tableRowSelected))}),l(26,"mat-icon"),m(27,"view_module"),s()(),l(28,"p",21),m(29),_(30,"translate"),s()(),T(),y(31,22),l(32,"app-cms-search-list",23),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),h(a)}),s(),l(33,"app-cms-statist-list",23),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),h(a)}),s(),T(),y(34,24),l(35,"mat-table",25,0),M("matSortChange",function(){f(c);let a=k(36);return h(e.onTableSortData(a))}),y(37,26),b(38,wa,2,1,"mat-header-cell",27)(39,ya,2,1,"mat-cell",28),T(),y(40,29),b(41,Ta,2,1,"mat-header-cell",27)(42,Aa,5,7,"mat-cell",30),T(),y(43,31),b(44,Ra,2,1,"mat-header-cell",27)(45,Da,2,1,"mat-cell",28),T(),y(46,32),b(47,xa,2,1,"mat-header-cell",27)(48,ka,3,4,"mat-cell",28),T(),y(49,33),b(50,Ua,2,1,"mat-header-cell",27)(51,Ga,3,4,"mat-cell",28),T(),y(52,34),b(53,La,3,3,"mat-header-cell",35)(54,Va,6,1,"mat-cell",36),T(),b(55,Oa,1,0,"mat-header-row",37)(56,Fa,1,6,"mat-row",38),s(),T(),y(57,39),l(58,"mat-paginator",40,1),M("page",function(a){return f(c),h(e.onTablePageingData(a))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),A("ngModel",e.optionsSearch.data.show),r(),I("",g(14,24,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),I("",g(18,26,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(30,28,"ACTION.Components")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",We(30,ga)))},dependencies:[Oe,j,Ke,K,X,Ee,ce,ie,ot,nt,rt,ke,at,lt,st,dt,ft,pt,ct,ht,mt,ut,Ct,St,bt,vt,Mt,_t,W,Ot,It,gt],encapsulation:2});let o=d;return o})();var Ba=()=>[5,10,20,100],Na=o=>({display:o});function Pa(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",41),M("click",function(){f(n);let i=C();return h(i.onActionButtonNewRow())}),v(2,"i",42)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.ADD")))}function Ha(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",43),M("click",function(){f(n);let i=C();return h(i.onActionButtonEditRow(i.tableRowSelected))}),v(2,"i",44)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.EDIT")))}function ja(o,d){if(o&1){let n=w();l(0,"div",19)(1,"a",45),M("click",function(){f(n);let i=C();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),v(2,"i",46)(3,"br"),s(),l(4,"p",21),m(5),_(6,"translate"),s()()}o&2&&(r(5),E(g(6,1,"ACTION.DELETE")))}function Wa(o,d){o&1&&(l(0,"mat-header-cell",47),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.PICTURE")," "))}function qa(o,d){if(o&1&&(v(0,"img",49),_(1,"cmsthumbnail")),o&2){let n=C().$implicit;U("src",g(1,1,n.linkMainImageIdSrc),Ie)}}function za(o,d){if(o&1&&(l(0,"mat-cell"),b(1,qa,2,3,"img",48),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function Ka(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Qa(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.id," ")}}function Ja(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ya(o,d){if(o&1&&v(0,"select",52),o&2){let n=C().$implicit,t=C();u("contentService",t.contentService)("row",n)("ngStyle",qe(3,Na,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Xa(o,d){if(o&1&&(l(0,"mat-cell",50),_(1,"statusCellClass"),v(2,"i",50),_(3,"statusIconClass"),b(4,Ya,1,5,"select",51),s()),o&2){let n=d.$implicit,t=C();u("ngClass",g(1,3,n.recordStatus)),r(2),u("ngClass",g(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Za(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function $a(o,d){if(o&1&&(l(0,"mat-cell"),m(1),s()),o&2){let n=d.$implicit;r(),I(" ",n.titleML," ")}}function el(o,d){if(o&1&&(l(0,"mat-header-cell",47),m(1),s()),o&2){let n=C();r(),I(" ",n.fieldsInfo.kind==null?null:n.fieldsInfo.kind.fieldTitle," ")}}function tl(o,d){if(o&1&&(l(0,"mat-cell"),m(1),_(2,"enums"),s()),o&2){let n=d.$implicit,t=C();r(),I(" ",Ve(2,1,n.kind,t.dataModelEnumUserClaimKindsResult.listItems)," ")}}function il(o,d){o&1&&(l(0,"mat-header-cell"),m(1),_(2,"translate"),s()),o&2&&(r(),I(" ",g(2,1,"TITLE.OPTION")," "))}function ol(o,d){if(o&1&&(l(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function nl(o,d){o&1&&v(0,"mat-header-row")}function rl(o,d){if(o&1){let n=w();l(0,"mat-row",55),M("click",function(){let i=f(n).$implicit,e=C();return h(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=C();ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Po=(()=>{let d=class d extends wt{constructor(t,i,e,c,p,a,x,H,J,ge,He){super(t,new ne,ge,a,H),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreEnumService=c,this.router=p,this.tokenHelper=a,this.cdr=x,this.translate=H,this.pageInfo=J,this.publicHelper=ge,this.dialog=He,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreUserGroupResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.dataModelEnumUserClaimKindsResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ze=>this.onSubmitOptionsSearch(ze)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Z.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ne);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Z.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Z.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ii,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let p=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(p,a,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(p)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(p,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),p=new z;p.propertyName="RecordStatus",p.value=tt.Available,c.filters.push(p),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(oe),S(V),S(Ne),S(q),S(Be),S(me),S(N),S(P),S(it),S(O),S(_e))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-list"]],features:[Y],decls:60,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=w();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),h(a)}),M("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),y(1,4),m(2," -------------------------------------- "),T(),Se(3,5)(4,6),y(5,7),l(6,"a",8),M("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),v(7,"i",9),s(),l(8,"a",8),M("click",function(){return f(c),h(e.onActionButtonReload())}),v(9,"i",10),s(),T(),y(10,11),l(11,"a",12),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),l(12,"mat-slide-toggle",13),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),h(a)}),M("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(),m(13),_(14,"translate"),s(),l(15,"a",14)(16,"mat-slide-toggle",15),M("click",function(){return f(c),h(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),h(a)}),s(),m(17),_(18,"translate"),s(),T(),y(19,16),b(20,Pa,7,3,"div",17),T(),y(21,18),b(22,Ha,7,3,"div",17)(23,ja,7,3,"div",17),l(24,"div",19)(25,"a",20),M("click",function(){return f(c),h(e.onActionButtonDetailList(e.tableRowSelected))}),l(26,"mat-icon"),m(27,"view_module"),s()(),l(28,"p",21),m(29),_(30,"translate"),s()(),T(),y(31,22),l(32,"app-cms-search-list",23),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),h(a)}),s(),l(33,"app-cms-statist-list",23),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),h(a)}),s(),T(),y(34,24),l(35,"mat-table",25,0),M("matSortChange",function(){f(c);let a=k(36);return h(e.onTableSortData(a))}),y(37,26),b(38,Wa,3,3,"mat-header-cell",27)(39,za,2,1,"mat-cell",28),T(),y(40,29),b(41,Ka,2,1,"mat-header-cell",27)(42,Qa,2,1,"mat-cell",28),T(),y(43,30),b(44,Ja,2,1,"mat-header-cell",27)(45,Xa,5,7,"mat-cell",31),T(),y(46,32),b(47,Za,2,1,"mat-header-cell",27)(48,$a,2,1,"mat-cell",28),T(),y(49,33),b(50,el,2,1,"mat-header-cell",27)(51,tl,3,4,"mat-cell",28),T(),y(52,34),b(53,il,3,3,"mat-header-cell",35)(54,ol,6,1,"mat-cell",36),T(),b(55,nl,1,0,"mat-header-row",37)(56,rl,1,6,"mat-row",38),s(),T(),y(57,39),l(58,"mat-paginator",40,1),M("page",function(a){return f(c),h(e.onTablePageingData(a))}),s(),T(),s()}i&2&&(u("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),A("ngModel",e.optionsSearch.data.show),r(),I("",g(14,24,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),I("",g(18,26,"ACTION.STATIST")," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),E(g(30,28,"ACTION.USED_ITEMS")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",We(30,Ba)))},dependencies:[Oe,j,Ke,K,X,Ee,ce,ie,ot,nt,rt,ke,at,lt,st,dt,ft,pt,ct,ht,mt,ut,Ct,St,bt,vt,Mt,_t,W,To,Vt,It,gt],encapsulation:2});let o=d;return o})();var al=[{path:"",children:[{path:"group",component:No},{path:"groupdetail",component:wi},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:wi},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:wi},{path:"type",component:Po},{path:"content",component:qt},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:qt},{path:"content/LinkSiteId/:LinkSiteId",component:qt},{path:"content/LinkUserId/:LinkUserId",component:qt},{path:"checklist",component:ki},{path:"checklist/:LinkSiteId/:LinkUserId",component:ki}]}],Ho=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=Kt({type:d}),d.\u0275inj=zt({imports:[Ei.forChild(al),Ei]});let o=d;return o})();var Id=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=Kt({type:d}),d.\u0275inj=zt({providers:[Yt,q,Gt,oe,de,xe,Ne],imports:[io,ro,Ho,ao.withConfig({warnOnNgModelWithFormControl:"never"}),Ro,Do,Io]});let o=d;return o})();export{Id as CoreUserClaimModule};
