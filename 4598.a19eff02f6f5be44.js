"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4598,4121],{3673:(M,C,s)=>{s.d(C,{G:()=>E});var t=s(8239),p=s(8692),i=s(4511),c=s(4537),b=s(4032),_=s(2607);let E=(()=>{class f{elRef;renderer;publicHelper;cmsToastrService;cdr;document;row;contentService;constructor(e,a,d,u,x,n){this.elRef=e,this.renderer=a,this.publicHelper=d,this.cmsToastrService=u,this.cdr=x,this.document=n,this.DataEnumRecordStatus()}DataEnumRecordStatus(){var e=this;return(0,t.Z)(function*(){(yield e.publicHelper.getEnumRecordStatus()).listItems.forEach(d=>{const u=document.createElement("option");u.innerHTML=" "+d.title+' <i Class="'+e.iconStatus(d.value)+'"></i>',u.value=d.value.toString(),e.elRef.nativeElement.add(u)}),e.elRef.nativeElement.options.length>0&&e.row&&e.row.recordStatus&&e.renderer.setProperty(e.elRef.nativeElement,"value",e.row.recordStatus)})()}onChange(){const e=this.elRef.nativeElement,a=e.value;this.addLoader(e),this.contentService.setAccessDataType(i.dR.Editor),this.contentService.ServiceSetStatus(this.row.id,a).subscribe({next:d=>{d.isSuccess?(this.handleSuccessCase(e),this.cmsToastrService.typeSuccessSetStatus(d.errorMessage),this.row.recordStatus=0|a,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(d.errorMessage),this.handleErrorCase(e))},error:d=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(d),this.handleErrorCase(e)}})}handleSuccessCase(e){this.removeBackground(e),this.addSuccess(e),setTimeout(()=>{this.removeBackground(e)},1e3)}handleErrorCase(e){this.removeBackground(e);const a=this.document.createElement("img");a.style.width="20px",a.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const d=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(d,a),setTimeout(()=>{this.renderer.removeChild(d,a)},1e3)}addLoader(e){this.addBackground(e,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(e){this.addBackground(e,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(e,a,d){e.style.background=`#fff url("${a}") no-repeat right 20px center`,e.style.backgroundSize=`${d}px`}removeBackground(e){e.style.background="none"}iconStatus(e){let a="";switch(e){case 1:default:a="fa fa-check";break;case 2:a="fa fa-eye-slash";break;case 3:a="fa fa-times";break;case 4:a="fa fa-hourglass-half";break;case 5:a="far fa-thumbs-down";break;case 6:a="fa fa-archive"}return a}static \u0275fac=function(a){return new(a||f)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(b.i),c.Y36(_.e),c.Y36(c.sBO),c.Y36(p.K0))};static \u0275dir=c.lG2({type:f,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(a,d){1&a&&c.NdJ("change",function(){return d.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return f})()},5897:(M,C,s)=>{s.d(C,{Y:()=>i});var t=s(4537),p=s(5998);let i=(()=>{class c{sanitizer;constructor(_){this.sanitizer=_}transform(_){return"cms-RecordStatusEnum-cell-"+_}static \u0275fac=function(T){return new(T||c)(t.Y36(p.H7,16))};static \u0275pipe=t.Yjl({name:"statusCellClass",type:c,pure:!0})}return c})()},6639:(M,C,s)=>{s.d(C,{G:()=>i});var t=s(4537),p=s(5998);let i=(()=>{class c{sanitizer;constructor(_){this.sanitizer=_}transform(_,T=!1){let g="";switch(_){case 1:default:g="fa fa-check";break;case 2:g="fa fa-times";break;case 3:g="fa fa-trash";break;case 4:g="fa fa-hourglass-half";break;case 5:g="far fa-thumbs-down";break;case 6:g="fa fa-archive"}return g}static \u0275fac=function(T){return new(T||c)(t.Y36(p.H7,16))};static \u0275pipe=t.Yjl({name:"statusIconClass",type:c,pure:!0})}return c})()},3914:(M,C,s)=>{s.d(C,{s:()=>g});var t=s(2340),p=s(4536),i=s(4537);let c=(()=>{class m{dialogRef;data;static nextId=0;id=++m.nextId;constructor(f,v){this.dialogRef=f,this.data=v,v||this.dialogRef.close(!1)}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static \u0275fac=function(v){return new(v||m)(i.Y36(p.so),i.Y36(p.WI))};static \u0275cmp=i.Xpm({type:m,selectors:[["app-confirmation-dialog"]],decls:18,vars:4,consts:[[1,"menu","menu-box-modal","rounded-m","menu-active",2,"display","block","width","350px","height","320px","padding","20px"],[1,"menu-title"],[1,"fa","fa-question-circle","scale-box","float-start","me-3","ms-3","fa-3x","mt-1","color-blue-dark"],[1,"color-highlight"],[1,"font-20"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mt-0"],[1,"pe-3",3,"innerHTML"],[1,"row","mb-0"],[1,"col-6"],[1,"btn","close-menu","btn-full","btn-m","bg-red-dark","font-600","rounded-s",3,"click"],[1,"btn","close-menu","btn-full","btn-m","bg-green-dark","font-600","rounded-s",3,"click"]],template:function(v,e){1&v&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"i",2),i.TgZ(3,"p",3),i._uU(4),i.qZA(),i.TgZ(5,"h1",4),i._uU(6,"\u0645\u0637\u0645\u0626\u0646\u06cc\u062f\u061f"),i.qZA(),i.TgZ(7,"a",5),i.NdJ("click",function(){return e.onDismiss()}),i._UZ(8,"i",6),i.qZA()(),i.TgZ(9,"div",7),i._UZ(10,"p",8),i.TgZ(11,"div",9)(12,"div",10)(13,"a",11),i.NdJ("click",function(){return e.onDismiss()}),i._uU(14),i.qZA()(),i.TgZ(15,"div",10)(16,"a",12),i.NdJ("click",function(){return e.onConfirm()}),i._uU(17),i.qZA()()()()()),2&v&&(i.xp6(4),i.hij(" ",e.data.title,""),i.xp6(6),i.Q6J("innerHTML",e.data.message,i.oJD),i.xp6(4),i.Oqu(e.data.btnCancelText),i.xp6(3),i.Oqu(e.data.btnConfirmText))},encapsulation:2})}return m})();var b=s(727),_=s(6707);class T{title;message;constructor(E,f){this.title=E,this.message=f}btnConfirmText="OK";btnCancelText="Cancel";dialogSize="sm"}let g=(()=>{class m{dialog;tokenHelper;translate;constructor(f,v,e){this.dialog=f,this.tokenHelper=v,this.translate=e}confirm(f,v,e="",a="",d="sm"){const u=new T(f,v);return u.btnConfirmText=e,u.btnCancelText=a,u.dialogSize=d,(!u.btnConfirmText||""==u.btnConfirmText||0==u.btnConfirmText.length)&&this.translate.get("ACTION.CONFIRM").subscribe(l=>{u.btnConfirmText=l}),(!u.btnCancelText||""==u.btnCancelText||0==u.btnCancelText.length)&&this.translate.get("ACTION.CANCEL").subscribe(l=>{u.btnCancelText=l}),this.dialog.open(c,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:t.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:t.N.cmsViewConfig.exitAnimationDuration,data:u}).afterClosed().toPromise().then(l=>Promise.resolve(l))}static \u0275fac=function(v){return new(v||m)(i.LFG(p.uw),i.LFG(b.v),i.LFG(_.sK))};static \u0275prov=i.Yz7({token:m,factory:m.\u0275fac})}return m})()},1060:(M,C,s)=>{s.d(C,{l:()=>b});var t=s(8692),p=s(5732),i=s(9810),c=s(4537);let b=(()=>{class _{static \u0275fac=function(m){return new(m||_)};static \u0275mod=c.oAB({type:_});static \u0275inj=c.cJS({providers:[(0,p.h_)((0,p.MP)())],imports:[t.ez,i.Ch]})}return _})()},9835:(M,C,s)=>{s.d(C,{v:()=>x});var t=s(4537),p=s(8692),i=s(6707);let c=(()=>{class n{transform(o,r){if(!o)return[];let h=Object.keys(o);return h=h.filter(O=>O&&O.length>0&&O.toLowerCase().indexOf("antiinjection")<0),r&&r.size>0&&(h=h.filter(O=>O&&O.length>0&&r.has(O))),h}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=t.Yjl({name:"listkeys",type:n,pure:!0})}return n})();function b(n,l){1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",8),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function _(n,l){if(1&n&&(t.TgZ(0,"div",9)(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t._uU(4),t.qZA(),t._UZ(5,"div",10),t.qZA()),2&n){const o=l.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(o):o),t.xp6(2),t.Oqu(r.dataModel[o])}}function T(n,l){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,b,8,6,"div",4),t.YNc(2,_,6,2,"div",5),t.ALo(3,"listkeys"),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,o.dataModel,o.optionFields))}}function g(n,l){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const o=l.$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(o):o)}}function m(n,l){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,g,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.dataModel[0],o.optionFields))}}function E(n,l){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const o=l.$implicit,r=t.oxw().$implicit;t.xp6(1),t.Oqu(r[o])}}function f(n,l){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,E,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",10),t.qZA()),2&n){const o=l.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o,r.optionFields))}}function v(n,l){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,m,4,4,"div",4),t.YNc(2,f,4,4,"div",5),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.optionViewHead),t.xp6(1),t.Q6J("ngForOf",o.dataModel)}}function e(n,l){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const o=l.$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(o):o)}}function a(n,l){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,e,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&n){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,o.dataModel[0],o.optionFields))}}function d(n,l){if(1&n&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&n){const o=l.$implicit,r=t.oxw(2);t.xp6(1),t.Oqu(r.dataModel[o])}}function u(n,l){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,a,4,4,"div",4),t.TgZ(2,"div",9),t.YNc(3,d,2,1,"div",11),t.ALo(4,"listkeys"),t._UZ(5,"div",10),t.qZA()()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,o.dataModel,o.optionFields))}}let x=(()=>{class n{static nextId=0;id=++n.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=t.Xpm({type:n,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:5,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(r,h){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,T,4,5,"div",2),t.YNc(3,v,3,2,"div",2),t.YNc(4,u,6,5,"div",2),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("ngIf",1===h.optionMethod&&h.dataModel),t.xp6(1),t.Q6J("ngIf",2===h.optionMethod&&h.dataModel),t.xp6(1),t.Q6J("ngIf",3===h.optionMethod&&h.dataModel))},dependencies:[p.sg,p.O5,i.X$,c],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return n})()}}]);