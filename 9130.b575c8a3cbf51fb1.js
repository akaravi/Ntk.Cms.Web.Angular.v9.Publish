"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[9130],{8918:(k,E,p)=>{p.d(E,{dj:()=>t});class t{childMethods;parentMethods;data=new A;constructor(){this.data=new A}}class A{show=!1;select;defaultQuery;access}},7147:(k,E,p)=>{p.d(E,{TV:()=>t});class t{childMethods;parentMethods;data=new A;constructor(){this.data=new A}}class A{show=!1}},4252:(k,E,p)=>{p.d(E,{R:()=>te});var t=p(418),d=p(4511),x=p(5237),A=p(9966),w=p(1435),I=p(3336),f=p(92),R=p(4536),T=p(656),e=p(4537),L=p(2607),O=p(6707),F=p(727),Z=p(8692),N=p(8659);function J(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function M(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function D(l,a){if(1&l&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function i(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function _(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"option",22),e.NdJ("onSelectionChange",function(){const C=e.CHM(o).$implicit,h=e.oxw(2);return e.KtG(h.onActionFileSelect(C))}),e._uU(1),e.qZA()}if(2&l){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function g(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function y(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"div",5)(1,"label",19),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",20,7),e.NdJ("ngModelChange",function(n){e.CHM(o);const C=e.oxw();return e.KtG(C.dataModel.reportFormatFileId=n)}),e.YNc(6,_,2,2,"option",21),e.qZA(),e.TgZ(7,"em"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,g,5,3,"mat-error",9),e.qZA()}if(2&l){const o=e.MAs(5),s=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",s.dataModel.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",s.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(9,7,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==o.errors?null:o.errors.required)}}function u(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",24),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const v=function(l){return{direction:l}};let r=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;requestId="";requestTitle="";requestService;constructor(o,s,n,C,h){this.cmsToastrService=o,this.data=s,this.dialogRef=n,this.translate=C,this.tokenHelper=h,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.id?this.requestId=s.id:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0});let c=new d.svN;c.value=1,c.key="Excel",c.description="Excel",this.fileTypeListItems.push(c),c=new d.svN,c.value=3,c.key="Json",c.description="Json",this.fileTypeListItems.push(c),c=new d.svN,c.value=4,c.key="Report",c.description="Report",this.fileTypeListItems.push(c),c=new d.svN,c.value=0,c.key="Now",c.description="Now",this.recieveMethodListItems.push(c),c=new d.svN,c.value=1,c.key="Email",c.description="Email",this.recieveMethodListItems.push(c),c=new d.svN,c.value=2,c.key="FileManager",c.description="FileManager",this.recieveMethodListItems.push(c),this.tokenHelper.getCurrentToken().then(q=>{this.tokenInfo=q})}dataModelReportFileResult=new d.y$4;dataModelSubmitResult=new d.vZ4;fileTypeListItems=new Array;recieveMethodListItems=new Array;loading=new T.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}formControl=new f.NI;tokenInfo=new d.OdC;filteredOptions;dataModelFileSelect=new d.wlu;dataModel=new d.w2X;EnumExportFileTypeReport=d.TtJ.Report;EnumExportReceiveMethodNow=d.$XY.Now;formInfo=new d.LEF;ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.dataModel.fileType=this.EnumExportFileTypeReport,this.dataModel.recieveMethod=this.EnumExportReceiveMethodNow}ngOnDestroy(){}DataGetAll(){const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new d.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==d.UO$.Item):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(o){this.dataModelFileSelect=o,this.dataModel.reportFormatFileId=o.id,this.dataModelSubmitResult=new d.vZ4}onFormSubmit(){this.dataModelSubmitResult=new d.vZ4;const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFileGetOne(this.requestId,this.dataModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(L.e),e.Y36(R.WI),e.Y36(R.so),e.Y36(O.sK),e.Y36(F.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-entity"]],inputs:{optionLoading:"optionLoading"},decls:38,vars:25,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.fileType","name","dataModel.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.recieveMethod","name","dataModel.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["class","input-style has-borders input-style-always-active validate-field no-icon mb-4",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],["for","dataModel.reportFormatFileId",1,"color-highlight"],["id","dataModel.reportFormatFileId","name","dataModel.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e._uU(10),e.TgZ(11,"div",5)(12,"select",6,7),e.NdJ("ngModelChange",function(h){return n.dataModel.fileType=h}),e.YNc(14,J,2,2,"option",8),e.qZA(),e.TgZ(15,"em"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,M,5,3,"mat-error",9),e.qZA(),e.TgZ(19,"div",5)(20,"select",10,7),e.NdJ("ngModelChange",function(h){return n.dataModel.recieveMethod=h}),e.YNc(22,D,2,2,"option",8),e.qZA(),e.TgZ(23,"em"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.YNc(26,i,5,3,"mat-error",9),e.qZA(),e.YNc(27,y,11,9,"div",11),e.TgZ(28,"div",12)(29,"button",13),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(30,"i",14),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",15),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(34,"i",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,u,4,3,"button",17),e.qZA()()()()),2&s){const C=e.MAs(9),h=e.MAs(13);e.xp6(8),e.Q6J("ngStyle",e.VKq(23,v,n.tokenInfo.direction)),e.xp6(2),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("ngModel",n.dataModel.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(17,15,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(2),e.Q6J("ngModel",n.dataModel.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(25,17,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(1),e.Q6J("ngIf",n.dataModel.fileType===n.EnumExportFileTypeReport),e.xp6(4),e.hij(" ",e.lcZ(32,19,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!C.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(36,21,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[Z.sg,Z.O5,Z.PC,f._Y,f.YN,f.Kr,f.EJ,f.JJ,f.JL,f.On,f.F,N.TO,O.X$],encapsulation:2})}return l})();var b=p(9665);function m(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function U(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Q(l,a){if(1&l&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&l){const o=a.$implicit;e.Q6J("value",o.value),e.xp6(1),e.hij(" ",o.description," ")}}function B(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Y(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"option",31),e.NdJ("onSelectionChange",function(){const C=e.CHM(o).$implicit,h=e.oxw();return e.KtG(h.onActionFileSelect(C))}),e._uU(1),e.qZA()}if(2&l){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.title," ")}}function G(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," RecordStatus is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function K(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Current Page Number is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function V(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Row Per Page is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function j(l,a){1&l&&(e.TgZ(0,"mat-error"),e._uU(1," Skip Row Data is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function $(l,a){if(1&l){const o=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onOpenPage())}),e._UZ(1,"i",33),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TITLE.download_link")," "))}const W=function(l){return{direction:l}};let X=(()=>{class l{cmsToastrService;data;dialogRef;translate;tokenHelper;static nextId=0;id=++l.nextId;filterModel=new d.Hay;requestTitle="";requestService;constructor(o,s,n,C,h){this.cmsToastrService=o,this.data=s,this.dialogRef=n,this.translate=C,this.tokenHelper=h,s?(s.service?this.requestService=s.service:this.dialogRef.close({dialogChangedDate:!0}),s.filterModel?this.filterModel=s.filterModel:this.dialogRef.close({dialogChangedDate:!0}),s.title&&(this.requestTitle=s.title)):this.dialogRef.close({dialogChangedDate:!0}),this.filterModel.exportFile=new d.w2X;let c=new d.svN;c.value=1,c.key="Excel",c.description="Excel",this.fileTypeListItems.push(c),c=new d.svN,c.value=3,c.key="Json",c.description="Json",this.fileTypeListItems.push(c),c=new d.svN,c.value=4,c.key="Report",c.description="Report",this.fileTypeListItems.push(c),c=new d.svN,c.value=0,c.key="Now",c.description="Now",this.recieveMethodListItems.push(c),c=new d.svN,c.value=1,c.key="Email",c.description="Email",this.recieveMethodListItems.push(c),c=new d.svN,c.value=2,c.key="FileManager",c.description="FileManager",this.recieveMethodListItems.push(c),this.tokenHelper.getCurrentToken().then(q=>{this.tokenInfo=q})}formInfo=new d.LEF;tokenInfo=new d.OdC;dataModelReportFileResult=new d.y$4;dataModelSubmitResult=new d.vZ4;dataModelFileSelect=new d.wlu;EnumExportFileTypeReport=d.TtJ.Report;EnumExportReceiveMethodNow=d.$XY.Now;loading=new T.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}ngOnInit(){this.DataGetAll(),this.formInfo.formTitle=this.translate.instant("TITLE.EXPORTFILE")+" : "+this.requestTitle,this.filterModel.exportFile.fileType=this.EnumExportFileTypeReport,this.filterModel.exportFile.recieveMethod=this.EnumExportReceiveMethodNow}DataGetAll(){const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.dataModelSubmitResult=new d.vZ4,this.formInfo.formSubmitAllow=!1,this.requestService.ServiceReportFileGetAll().subscribe({next:s=>{this.dataModelReportFileResult=s,s.isSuccess?this.dataModelReportFileResult.listItems=this.dataModelReportFileResult.listItems.filter(n=>n.reportFileType==d.UO$.List):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onActionFileSelect(o){this.dataModelFileSelect=o,this.filterModel.exportFile.reportFormatFileId=o.id,this.dataModelSubmitResult=new d.vZ4}fileTypeListItems=new Array;recieveMethodListItems=new Array;onFormSubmit(){this.dataModelSubmitResult=new d.vZ4;const o=this.constructor.name+"main";this.loading.Start(o,this.translate.instant("MESSAGE.get_information_list")),this.formInfo.formSubmitAllow=!1,this.requestService.ServiceExportFile(this.filterModel).subscribe({next:s=>{this.dataModelSubmitResult=s,s.isSuccess?this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0},error:s=>{this.cmsToastrService.typeError(s),this.loading.Stop(o),this.formInfo.formSubmitAllow=!0}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onOpenPage(){this.dataModelSubmitResult&&this.dataModelSubmitResult.isSuccess&&this.dataModelSubmitResult.linkFile.length>0&&window.open(this.dataModelSubmitResult.linkFile,"_blank")}static \u0275fac=function(s){return new(s||l)(e.Y36(L.e),e.Y36(R.WI),e.Y36(R.so),e.Y36(O.sK),e.Y36(F.v))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-cms-export-list"]],inputs:{optionLoading:"optionLoading"},decls:71,vars:57,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","filterModel.exportFile.fileType","name","filterModel.exportFile.fileType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["RecordStatus","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","filterModel.exportFile.recieveMethod","name","filterModel.exportFile.recieveMethod",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["for","filterModel.exportFile.reportFormatFileId",1,"color-highlight"],["id","filterModel.exportFile.reportFormatFileId","name","filterModel.exportFile.reportFormatFileId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","filterModel.currentPageNumber",1,"color-highlight"],["type","number","name","filterModel.currentPageNumber","id","filterModel.currentPageNumber","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["CurrentPageNumber",""],["for","filterModel.rowPerPage",1,"color-highlight"],["type","number","name","filterModel.rowPerPage","id","filterModel.rowPerPage","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["RowPerPage",""],["for","filterModel.skipRowData",1,"color-highlight"],["matInput","","type","number","name","filterModel.skipRowData","id","filterModel.skipRowData","required","",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["SkipRowData",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"margin","1px",3,"disabled","click"],[1,"fa-solid","fa-print"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","margin: 1px;",3,"click",4,"ngIf"],[3,"value"],[3,"value","onSelectionChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"margin","1px",3,"click"],[1,"fa-solid","fa-download"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"h4"),e._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(6,"p"),e._uU(7," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"div",5)(11,"select",6,7),e.NdJ("ngModelChange",function(h){return n.filterModel.exportFile.fileType=h}),e.YNc(13,m,2,2,"option",8),e.qZA(),e.TgZ(14,"em"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,U,5,3,"mat-error",9),e.qZA(),e.TgZ(18,"div",5)(19,"select",10,7),e.NdJ("ngModelChange",function(h){return n.filterModel.exportFile.recieveMethod=h}),e.YNc(21,Q,2,2,"option",8),e.qZA(),e.TgZ(22,"em"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,B,5,3,"mat-error",9),e.qZA(),e.TgZ(26,"div",5)(27,"label",11),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"select",12,7),e.NdJ("ngModelChange",function(h){return n.filterModel.exportFile.reportFormatFileId=h}),e.YNc(32,Y,2,2,"option",13),e.qZA(),e.TgZ(33,"em"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.YNc(36,G,5,3,"mat-error",9),e.qZA(),e.TgZ(37,"div",14)(38,"label",15),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"input",16,17),e.NdJ("ngModelChange",function(h){return n.filterModel.currentPageNumber=h}),e.ALo(43,"translate"),e.qZA(),e.YNc(44,K,5,3,"mat-error",9),e.qZA(),e.TgZ(45,"div",14)(46,"label",18),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"input",19,20),e.NdJ("ngModelChange",function(h){return n.filterModel.rowPerPage=h}),e.ALo(51,"translate"),e.qZA(),e.YNc(52,V,5,3,"mat-error",9),e.qZA(),e.TgZ(53,"div",14)(54,"label",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"input",22,23),e.NdJ("ngModelChange",function(h){return n.filterModel.skipRowData=h}),e.ALo(59,"translate"),e.qZA(),e.YNc(60,j,5,3,"mat-error",9),e.qZA(),e.TgZ(61,"div",24)(62,"button",25),e.NdJ("click",function(){return n.onFormCancel()}),e._UZ(63,"i",26),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"button",27),e.NdJ("click",function(){return n.onFormSubmit()}),e._UZ(67,"i",28),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.YNc(70,$,4,3,"button",29),e.qZA()()()()),2&s){const C=e.MAs(9),h=e.MAs(12),c=e.MAs(42),q=e.MAs(50),P=e.MAs(58);e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(55,W,n.tokenInfo.direction)),e.xp6(3),e.Q6J("ngModel",n.filterModel.exportFile.fileType),e.xp6(2),e.Q6J("ngForOf",n.fileTypeListItems),e.xp6(2),e.Oqu(e.lcZ(16,31,"TITLE.Select_the_file_format")),e.xp6(2),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.recieveMethod),e.xp6(2),e.Q6J("ngForOf",n.recieveMethodListItems),e.xp6(2),e.Oqu(e.lcZ(24,33,"TITLE.Select_the_method_of_receiving_the_file")),e.xp6(2),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(3),e.Oqu(e.lcZ(29,35,"TITLE.Report_Format")),e.xp6(2),e.Q6J("ngModel",n.filterModel.exportFile.reportFormatFileId),e.xp6(2),e.Q6J("ngForOf",n.dataModelReportFileResult.listItems),e.xp6(2),e.Oqu(e.lcZ(35,37,"TITLE.Report_Format_Select")),e.xp6(2),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(3),e.Oqu(e.lcZ(40,39,"TITLE.from_page")),e.xp6(2),e.s9C("placeholder",e.lcZ(43,41,"TITLE.page_number")),e.Q6J("ngModel",n.filterModel.currentPageNumber),e.xp6(3),e.Q6J("ngIf",null==c.errors?null:c.errors.required),e.xp6(3),e.Oqu(e.lcZ(48,43,"TITLE.page_number")),e.xp6(2),e.s9C("placeholder",e.lcZ(51,45,"TITLE.number_of_output_file_rows")),e.Q6J("ngModel",n.filterModel.rowPerPage),e.xp6(3),e.Q6J("ngIf",null==q.errors?null:q.errors.required),e.xp6(3),e.Oqu(e.lcZ(56,47,"TITLE.Over_the_number_of_rows")),e.xp6(2),e.s9C("placeholder",e.lcZ(59,49,"TITLE.Number_of_rows_row_rowss")),e.Q6J("ngModel",n.filterModel.skipRowData),e.xp6(3),e.Q6J("ngIf",null==P.errors?null:P.errors.required),e.xp6(4),e.hij(" ",e.lcZ(65,51,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!C.form.valid||!n.formInfo.formSubmitAllow),e.xp6(2),e.hij(" ",e.lcZ(69,53,"ACTION.FILE_CREATION")," "),e.xp6(2),e.Q6J("ngIf",n.dataModelSubmitResult&&n.dataModelSubmitResult.isSuccess&&(null==n.dataModelSubmitResult.linkFile?null:n.dataModelSubmitResult.linkFile.length)>0)}},dependencies:[Z.sg,Z.O5,Z.PC,f._Y,f.YN,f.Kr,f.Fj,f.wV,f.EJ,f.JJ,f.JL,f.Q7,f.On,f.F,N.TO,b.Nt,O.X$],encapsulation:2})}return l})();var S=p(2340),H=p(6619),z=p(8918),ee=p(7147);class te{baseService;item;publicHelper;tokenHelper;constructor(a,o,s,n){this.baseService=a,this.item=o,this.publicHelper=s,this.tokenHelper=n,s.pageInfo.updateContentService(a)}filteModelContent=new d.Hay;tableSource=new t.by;tokenInfo=new d.OdC;fieldsInfo=new Map;loading=new T.O;optionsSearch=new z.dj;optionsStatist=new ee.TV;tableRowSelected;tableRowsSelected=[];dataModelResult=new d.y$4;clickCount=0;tableRowSelectDoubleClick=!1;tableRowSelect3Click=!1;onActionTableRowSelect(a){this.clickCount++,setTimeout(()=>{this.tableRowSelected=a,this.publicHelper.pageInfo.updateContentInfo(new H.D(a.id,a.title,a.viewContentHidden,"",a.urlViewContent)),a.expanded=this.tableRowSelected.id===a.id&&1!=a.expanded,1===this.clickCount?(this.tableRowSelectDoubleClick=!1,this.tableRowSelect3Click=!1):2===this.clickCount?(this.tableRowSelectDoubleClick=!0,this.tableRowSelect3Click=!1):3===this.clickCount&&(this.tableRowSelectDoubleClick=!1,this.tableRowSelect3Click=!0),this.clickCount=0},500)}onActionTableRowMouseClick(a){this.tableRowSelected.id===a.id?(a.expanded=!1,this.onActionTableRowSelect(this.item),this.publicHelper.pageInfo.updateContentInfo(new H.D("","",!1,"",""))):(this.onActionTableRowSelect(a),a.expanded=!0)}onActionTableRowMouseEnter(a){S.N.cmsViewConfig.tableRowMouseEnter&&(a.expanded=!0)}onActionTableRowMouseLeave(a){S.N.cmsViewConfig.tableRowMouseEnter&&(!this.tableRowSelected||this.tableRowSelected.id!==a.id)&&(a.expanded=!1)}onActionButtonMemo(){this.publicHelper.dialog.open(A.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService}}).afterClosed().subscribe(s=>{})}onActionButtonMemoRow(a=this.tableRowSelected){this.publicHelper.dialog.open(A.m,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionGridExpandRows(a){this.tableSource.data.forEach(o=>{o.expanded=a})}onActionButtonExport(){this.publicHelper.dialog.open(X,{height:"50%",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",data:{service:this.baseService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(s=>{})}onActionButtonPrintRow(a=this.tableRowSelected){a&&a.id&&0!==a.id.length?(this.onActionTableRowSelect(a),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.publicHelper.dialog.open(r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{}):this.publicHelper.cmsToastrService.typeErrorAccessWatch()):this.publicHelper.cmsToastrService.typeErrorSelectedRow()}onActionButtonPin(a=this.tableRowSelected){this.publicHelper.dialog.open(w.I,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionButtonTask(a=this.tableRowSelected){this.publicHelper.dialog.open(I.G,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}onActionButtonComment(a=this.tableRowSelected){this.publicHelper.dialog.open(x.X,{height:"70%",panelClass:this.publicHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.N.cmsViewConfig.exitAnimationDuration,data:{service:this.baseService,id:this.tableRowSelected?this.tableRowSelected.id:"",title:this.tableRowSelected?this.tableRowSelected.title:""}}).afterClosed().subscribe(n=>{})}DataGetAccess(){const a=this.constructor.name+"main";this.loading.Start(a),this.baseService.ServiceViewModel().subscribe({next:o=>{o.isSuccess?this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access):this.publicHelper.cmsToastrService.typeErrorGetAccess(o.errorMessage),this.loading.Stop(a)},error:o=>{this.publicHelper.cmsToastrService.typeErrorGetAccess(o),this.loading.Stop(a)}})}}},7980:(k,E,p)=>{p.d(E,{Z:()=>y});var t=p(4537),d=p(656),x=p(727),A=p(8692),w=p(5738),I=p(6707);function f(u,v){if(1&u&&(t.TgZ(0,"div",2),t.Hsn(1,4),t.qZA()),2&u){const r=t.oxw();t.Q6J("ngClass",r.tokenHelper.isMobile?r.viewTree?"menu-active  menu menu-box-right rounded-0":"menu menu-box-right rounded-0":"col-xl-3")}}function R(u,v){1&u&&t.Hsn(0,6,["*ngIf","optionHeaderDisplay"])}function T(u,v){if(1&u&&(t.TgZ(0,"div",27),t.YNc(1,R,1,0,"ng-content",7),t.Hsn(2,5),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.optionHeaderDisplay)}}function e(u,v){1&u&&t._UZ(0,"hr")}function L(u,v){1&u&&(t.TgZ(0,"div",27)(1,"p",10),t.Hsn(2,7),t.Hsn(3,8),t.qZA()())}function O(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",28)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewTree())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewTree?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionCategoryTitle)}}function F(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",33)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewMenuMain())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewMenuMain?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionTitle)}}function Z(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",34)(1,"div",0)(2,"div",29)(3,"a",30),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.actionViewMenuItemRow())}),t._UZ(4,"i",31),t.TgZ(5,"strong",32),t._uU(6),t.qZA()()()()()}if(2&u){const r=t.oxw();t.xp6(4),t.Udp("transform",r.viewMenuItemRow?"rotate(90deg)":"rotate(0deg)"),t.xp6(2),t.Oqu(r.optionSelectRowItemTitle)}}function N(u,v){if(1&u&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Oqu(r.optionTitle)}}function J(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionButtonMemo())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}function M(u,v){if(1&u&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&u){const r=t.oxw();t.xp6(1),t.Oqu(r.optionSelectRowItemTitle)}}function D(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionButtonPrintRow())}),t._UZ(2,"i",36)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.PRINT")))}function i(u,v){if(1&u){const r=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(){t.CHM(r);const m=t.oxw();return t.KtG(m.onActionButtonMemoRow())}),t._UZ(2,"i",35)(3,"br"),t.qZA(),t.TgZ(4,"p",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"ACTION.MEMO")))}const _=[[["","cms-action-area",""]],[["","cms-body",""]],[["","cms-action",""]],[["","cms-action-row",""]],[["","cms-tree",""]],[["","cms-action-header",""]],[["","cms-header",""]],[["","cms-message",""]],[["","cms-footer",""]]],g=["[cms-action-area]","[cms-body]","[cms-action]","[cms-action-row]","[cms-tree]","[cms-action-header]","[cms-header]","[cms-message]","[cms-footer]"];let y=(()=>{class u{tokenHelper;static nextId=0;id=++u.nextId;optionHeaderDisplay=!0;optionActionDisplay=!0;optionFooterDisplay=!0;optionActionRowDisplay=!1;lastSelectId;set optionActionRowId(r){if("number"==typeof r&&r>0)this.optionActionRowDisplay=!0;else{if(!("string"==typeof r&&r.length>0))return this.optionActionRowDisplay=!1,this.viewMenuItemRow=!1,this.viewMenuMain=!1,void(this.lastSelectId=null);this.optionActionRowDisplay=!0}this.lastSelectId!=r&&(this.viewMenuItemRow=!1,this.viewMenuMain=!1),this.lastSelectId=r}set optionActionRowDisplayMenu(r){this.viewMenuItemRow=!(!this.optionActionRowDisplay||!r)}optionTitle="\u0645\u0646\u0648\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a";optionCategoryTitle="\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc";optionSelectRowItemTitle="";optionClassBody="ntk-cms-html-tree-body";optionTreeDisplay=!0;set optionLoading(r){this.loading=r}optionOnActionButtonMemo=new t.vpe;optionOnActionButtonExport=new t.vpe;optionOnActionButtonMemoRow=new t.vpe;optionOnActionButtonPrintRow=new t.vpe;loading=new d.O;constructor(r){this.tokenHelper=r}ngOnInit(){}viewMenuItemRow=!1;viewMenuMain=!1;viewTree=!1;actionViewTree(r){this.viewTree=1!=r&&(0==r||!this.viewTree),this.viewMenuMain=!1,this.viewMenuItemRow=!1}actionViewMenuItemRow(r){this.viewMenuItemRow=1==r||0!=r&&!this.viewMenuItemRow,this.viewMenuMain=!1,this.viewTree=!1}actionViewMenuMain(r){this.viewMenuMain=1==r||0!=r&&!this.viewMenuMain,this.viewMenuItemRow=!1,this.viewTree=!1}onActionButtonMemo(){this.optionOnActionButtonMemo.emit()}onActionButtonExport(){this.optionOnActionButtonExport.emit()}onActionButtonMemoRow(){this.optionOnActionButtonMemoRow.emit()}onActionButtonPrintRow(){this.optionOnActionButtonPrintRow.emit()}static \u0275fac=function(b){return new(b||u)(t.Y36(x.v))};static \u0275cmp=t.Xpm({type:u,selectors:[["app-cms-html-list"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionDisplay:"optionActionDisplay",optionFooterDisplay:"optionFooterDisplay",optionActionRowDisplay:"optionActionRowDisplay",optionActionRowId:"optionActionRowId",optionActionRowDisplayMenu:"optionActionRowDisplayMenu",optionTitle:"optionTitle",optionCategoryTitle:"optionCategoryTitle",optionSelectRowItemTitle:"optionSelectRowItemTitle",optionClassBody:"optionClassBody",optionTreeDisplay:"optionTreeDisplay",optionLoading:"optionLoading"},outputs:{optionOnActionButtonMemo:"optionOnActionButtonMemo",optionOnActionButtonExport:"optionOnActionButtonExport",optionOnActionButtonMemoRow:"optionOnActionButtonMemoRow",optionOnActionButtonPrintRow:"optionOnActionButtonPrintRow"},ngContentSelectors:g,decls:48,vars:20,consts:[[1,"row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"card","card-style"],[1,"content","mb-0"],[1,"row","justify-content-center"],["class","col-12 pe-0",4,"ngIf"],[4,"ngIf"],[1,"col-12","pe-0",3,"ngClass"],["topbody",""],[1,"text-center"],[3,"options"],["class","content","style","position: fixed;top: 100px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 140px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],["class","content","style","position: fixed;top: 180px; left: 1px; z-index: 99; min-width: 30px!important;height:30px;margin:0px;",4,"ngIf"],[1,"menu","menu-box-modal","rounded-m","shadow-xl",2,"display","block","width","350px","height","320px",3,"ngClass"],[1,"menu-title"],[1,"color-highlight"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"divider","divider-margins"],[1,"row","text-center"],["class","col-4",4,"ngIf"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"col-12","pe-0"],[1,"content",2,"position","fixed","top","100px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"col-12"],[1,"chip","chip-s","bg-gray-light",2,"cursor","pointer",3,"click"],[1,"fa","fa-bars","bg-green-dark","color-white"],[1,"color-black","font-400"],[1,"content",2,"position","fixed","top","140px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"content",2,"position","fixed","top","180px","left","1px","z-index","99","min-width","30px!important","height","30px","margin","0px"],[1,"fa-regular","fa-file-lines","font-22",2,"color","#ffffff"],[1,"fa-solid","fa-print","font-22",2,"color","#ffffff"]],template:function(b,m){1&b&&(t.F$t(_),t.TgZ(0,"div",0),t.YNc(1,f,2,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,T,3,1,"div",6),t.Hsn(7),t.YNc(8,e,1,0,"hr",7),t.TgZ(9,"div",8,9)(11,"p",10),t._UZ(12,"app-progress-spinner",11),t.Hsn(13,1),t.qZA()(),t.YNc(14,L,4,0,"div",6),t.qZA()()()()(),t.YNc(15,O,7,3,"div",12),t.YNc(16,F,7,3,"div",13),t.YNc(17,Z,7,3,"div",14),t.TgZ(18,"div",15)(19,"div",16)(20,"p",17),t._uU(21,"\u0645\u0646\u0648"),t.qZA(),t.YNc(22,N,2,1,"h1",7),t.TgZ(23,"a",18),t.NdJ("click",function(){return m.actionViewMenuMain(!1)}),t._UZ(24,"i",19),t.qZA()(),t._UZ(25,"div",20),t.TgZ(26,"div",21),t.Hsn(27,2),t.YNc(28,J,7,3,"div",22),t.TgZ(29,"div",23)(30,"a",24),t.NdJ("click",function(){return m.onActionButtonExport()}),t._UZ(31,"i",25)(32,"br"),t.qZA(),t.TgZ(33,"p",26),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",15)(37,"div",16)(38,"p",17),t._uU(39,"\u0645\u0646\u0648 \u0631\u062f\u06cc\u0641 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc"),t.qZA(),t.YNc(40,M,2,1,"h1",7),t.TgZ(41,"a",18),t.NdJ("click",function(){return m.actionViewMenuItemRow(!1)}),t._UZ(42,"i",19),t.qZA()(),t._UZ(43,"div",20),t.TgZ(44,"div",21),t.YNc(45,D,7,3,"div",22),t.YNc(46,i,7,3,"div",22),t.Hsn(47,3),t.qZA()()),2&b&&(t.xp6(1),t.Q6J("ngIf",m.optionTreeDisplay),t.xp6(1),t.Q6J("ngClass",m.optionTreeDisplay&&!m.tokenHelper.isMobile?"col-xl-9":"col-xl-12"),t.xp6(4),t.Q6J("ngIf",m.optionHeaderDisplay),t.xp6(2),t.Q6J("ngIf",m.optionHeaderDisplay||m.optionActionDisplay),t.xp6(1),t.Q6J("ngClass",m.optionClassBody),t.xp6(3),t.Q6J("options",m.loading),t.xp6(2),t.Q6J("ngIf",m.optionFooterDisplay&&!(null!=m.loading&&m.loading.display)),t.xp6(1),t.Q6J("ngIf",m.optionTreeDisplay&&m.tokenHelper.isMobile),t.xp6(1),t.Q6J("ngIf",m.optionActionDisplay),t.xp6(1),t.Q6J("ngIf",m.optionActionRowDisplay),t.xp6(1),t.Q6J("ngClass",m.viewMenuMain?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==m.optionTitle?null:m.optionTitle.length)>0),t.xp6(6),t.Q6J("ngIf",m.optionOnActionButtonMemo),t.xp6(6),t.Oqu(t.lcZ(35,18,"ACTION.EXPORTFILE")),t.xp6(2),t.Q6J("ngClass",m.viewMenuItemRow?"menu-active":""),t.xp6(4),t.Q6J("ngIf",(null==m.optionSelectRowItemTitle?null:m.optionSelectRowItemTitle.length)>0),t.xp6(5),t.Q6J("ngIf",m.optionOnActionButtonPrintRow),t.xp6(1),t.Q6J("ngIf",m.optionOnActionButtonMemoRow))},dependencies:[A.mk,A.O5,w.O,I.X$],encapsulation:2})}return u})()},178:(k,E,p)=>{p.d(E,{y:()=>J});var t=p(4537),d=p(4511),x=p(8918),A=p(6707),w=p(2607),I=p(8692),f=p(92),R=p(8077),T=p(4580);function e(M,D){if(1&M){const i=t.EpF();t.TgZ(0,"a",9),t.NdJ("click",function(){t.CHM(i);const g=t.oxw(2);return t.KtG(g.onActionCopied())}),t.ALo(1,"json"),t._UZ(2,"i",10),t.TgZ(3,"span",11),t._uU(4,"\u06a9\u067e\u06cc \u062f\u0631 \u062d\u0627\u0641\u0638\u0647"),t.qZA()()}if(2&M){const i=t.oxw(2);t.Q6J("cdkCopyToClipboard",t.lcZ(1,2,i.filters)),t.xp6(3),t.Q6J("ngClass",i.showLabel?"submited":"")}}function L(M,D){if(1&M){const i=t.EpF();t.TgZ(0,"a",12),t.NdJ("click",function(){t.CHM(i);const g=t.oxw(2);return t.KtG(g.onActionSaveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&M&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.SAVE")))}function O(M,D){if(1&M){const i=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(i);const g=t.oxw(2);return t.KtG(g.onActionLoadRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&M&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.LOAD")))}function F(M,D){if(1&M){const i=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){t.CHM(i);const g=t.oxw(2);return t.KtG(g.onActionRemoveRules())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&M&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACTION.REMOVE")))}function Z(M,D){if(1&M){const i=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"ngx-ntk-query-builder",4),t.NdJ("ngModelChange",function(g){t.CHM(i);const y=t.oxw();return t.KtG(y.query=g)}),t.qZA(),t.Hsn(4),t.qZA(),t.YNc(5,e,5,4,"a",5),t.YNc(6,L,3,3,"a",6),t.YNc(7,O,3,3,"a",7),t.YNc(8,F,3,3,"a",7),t.TgZ(9,"a",8),t.NdJ("click",function(){t.CHM(i);const g=t.oxw();return t.KtG(g.onSubmit())}),t._uU(10),t.ALo(11,"translate"),t.qZA()()()}if(2&M){const i=t.oxw();t.xp6(3),t.Q6J("ngModel",i.query)("fieldMap",i.fieldMap)("language",i.lang),t.xp6(2),t.Q6J("ngIf",i.formSubmited),t.xp6(1),t.Q6J("ngIf",i.allowSaveSearch),t.xp6(1),t.Q6J("ngIf",i.allowLoadSearch),t.xp6(1),t.Q6J("ngIf",i.allowLoadSearch),t.xp6(2),t.Oqu(t.lcZ(11,8,"ACTION.SEARCH"))}}const N=["*"];let J=(()=>{class M{translate;cmsToastrService;static nextId=0;id=++M.nextId;optionsData=new x.dj;optionsChange=new t.vpe;set options(i){i||(i=new x.dj),this.optionsData=i,this.optionsData.childMethods={setAccess:_=>this.setAccess(_)},this.optionsChange.emit(i),this.checkLoadSearch(!1)}get options(){return this.optionsData}allowLoadSearch=!1;allowSaveSearch=!1;formSubmited=!1;showLabel=!1;filters;lang;model;query;fieldMap={};constructor(i,_){this.translate=i,this.cmsToastrService=_,this.lang=this.translate.currentLang}ngOnInit(){this.formSubmited=!1}setAccess(i){this.optionsData.data.access=i,(!this.filters||0===this.filters.length)&&this.setFields(),this.checkLoadSearch(!1),this.checkLoadDefaultQuery()}setFields(){this.optionsData&&this.optionsData.data.access&&this.optionsData.data.access.fieldsInfo&&this.optionsData.data.access.fieldsInfo.forEach(i=>{i.accessSearchField&&("System.Int32"===i.fieldTypeString||"System.Int64"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"integer"}:"System.String"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"string"}:"MongoDB.Bson.ObjectId"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldName,type:"string"}:"System.Boolean"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"select",options:[{name:"\u0628\u0644\u0647",value:!0},{name:"\u062e\u06cc\u0631",value:!1}]}:i.fieldTypeString.indexOf(".RecordStatusEnum")>0?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"select",options:[{name:"Available",value:1},{name:"Disable",value:2},{name:"Deleted",value:3},{name:"Pending",value:4},{name:"DeniedConfirmed",value:5},{name:"Archive",value:6}]}:"System.DateTime"===i.fieldTypeString?this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"date",settings:{}}:"link"===i.fieldTypeString&&(this.fieldMap[i.fieldName]={name:i.fieldTitle,type:"string"}))})}getRules(){this.filters=new Array;let i=d.ppe.And;!this.query||!this.query.condition||("or"===this.query.condition&&(i=d.ppe.Or),this.query.rules.forEach(_=>{const g=_,y=_;if(g&&g.condition&&g.rules&&g.rules.length>0){const u=new d.AO3;u.filters=this.getRulesSetChild(g),u.clauseType=i,this.filters.push(u)}else if(y){const u=this.getRulesChild(y);u.clauseType=i,this.filters.push(u)}}))}getRulesChild(i){const _=this.getSearchType(i.operator),g=new d.AO3;return g.propertyName=i.field,g.value=i.value,g.searchType=_,g}getRulesSetChild(i){const _=new Array;let g=d.ppe.And;return"or"===i.condition&&(g=d.ppe.Or),i.rules.forEach(y=>{const u=y,v=y;if(u&&u.condition&&u.rules&&u.rules.length>0){const r=new d.AO3;r.filters=this.getRulesSetChild(u),r.clauseType=g,_.push(r)}else if(v){const r=this.getRulesChild(v);r.clauseType=g,_.push(r)}}),_}onSubmit(){this.formSubmited=!0,this.allowSaveSearch=!0,this.getRules(),this.optionsData.parentMethods&&this.optionsData.parentMethods.onSubmit(this.filters)}onActionCopied(){this.showLabel=!0,setTimeout(()=>{this.showLabel=!1},3e3),this.cmsToastrService.typeSuccessCopedToClipboard()}onActionLoadRules(){this.checkLoadSearch(!0)}onActionRemoveRules(){localStorage.removeItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName),this.allowLoadSearch=!1}onActionSaveRules(){localStorage.setItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName,JSON.stringify(this.query))}onSetRules(){}getSearchType(i){switch(i){case"equal":return 0;case"not_equal":return 1;case"less":return 2;case"greater":return 3;case"between":return 4;case"contains":return 5;case"not_contains":return 6;case"begins_with":return 7;case"ends_with":return 8;case"less_or_equal":return 9;case"greater_or_equal":return 10}return 0}checkLoadSearch(i){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.access){const _=localStorage.getItem(this.optionsData.data.access.moduleName+"_"+this.optionsData.data.access.moduleEntityName);if(_)try{return i&&(this.query=JSON.parse(_),this.getRules()),this.allowLoadSearch=!0,this.allowSaveSearch=!0,!0}catch{this.allowLoadSearch=!1}}return!1}checkLoadDefaultQuery(){if(this.optionsData&&this.optionsData.data&&this.optionsData.data.defaultQuery){const i=this.optionsData.data.defaultQuery;if(i)try{return this.query=JSON.parse(i),this.getRules(),setTimeout(()=>{this.onSubmit()},1e3),this.optionsData.data.defaultQuery="",!0}catch{}}return!1}static \u0275fac=function(_){return new(_||M)(t.Y36(A.sK),t.Y36(w.e))};static \u0275cmp=t.Xpm({type:M,selectors:[["app-cms-search-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},ngContentSelectors:N,decls:1,vars:1,consts:[["class","card card-style",4,"ngIf"],[1,"card","card-style"],[1,"content","mb-0"],[1,"row","mb-0","text-center"],[3,"ngModel","fieldMap","language","ngModelChange"],["class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","float: left;",3,"cdkCopyToClipboard","click",4,"ngIf"],["href","javascript:void(0)","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green","style","float: left;",3,"click",4,"ngIf"],["href","javascript:void(0)","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight","style","float: left;",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"cdkCopyToClipboard","click"],[1,"flaticon2-copy"],["id","myPopup",1,"popuptext",3,"ngClass"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",2,"float","left",3,"click"],["href","javascript:void(0)",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"float","left",3,"click"]],template:function(_,g){1&_&&(t.F$t(),t.YNc(0,Z,12,10,"div",0)),2&_&&t.Q6J("ngIf",g.optionsData.data.show)},dependencies:[I.mk,I.O5,f.JJ,f.On,R.YH,T.i3,I.Ts,A.X$],encapsulation:2})}return M})()},8564:(k,E,p)=>{p.d(E,{q:()=>I});var t=p(4537),d=p(7147),x=p(8692);function A(f,R){if(1&f&&(t.TgZ(0,"div",5)(1,"h1",6),t._uU(2),t.qZA(),t.TgZ(3,"p",7),t._uU(4),t.qZA()()),2&f){const T=R.$implicit;t.xp6(2),t.Oqu(T.value),t.xp6(2),t.Oqu(T.key)}}function w(f,R){if(1&f&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.YNc(3,A,5,2,"div",4),t.ALo(4,"keyvalue"),t.qZA()()()),2&f){const T=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,T.modelData))}}let I=(()=>{class f{static nextId=0;id=++f.nextId;constructor(){}optionsData=new d.TV;optionsChange=new t.vpe;set options(T){T||(T=new d.TV),this.optionsData=T,this.optionsData.childMethods={setStatistValue:e=>this.setStatistValue(e)},this.optionsChange.emit(T)}get options(){return this.optionsData}modelData=new Map;ngOnInit(){}setStatistValue(T){this.modelData=T}static \u0275fac=function(e){return new(e||f)};static \u0275cmp=t.Xpm({type:f,selectors:[["app-cms-statist-list"]],inputs:{options:"options"},outputs:{optionsChange:"optionsChange"},decls:1,vars:1,consts:[["class","card card-style",4,"ngIf"],[1,"card","card-style"],[1,"content","mb-0"],[1,"row","mb-0","text-center"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"mb-0"],[1,"font-10","mb-0","pb-0"]],template:function(e,L){1&e&&t.YNc(0,w,5,3,"div",0),2&e&&t.Q6J("ngIf",L.optionsData.data.show)},dependencies:[x.sg,x.O5,x.Nd],encapsulation:2})}return f})()}}]);