import{a as Ye}from"./chunk-2XMABC4Z.js";import{a as at}from"./chunk-HDO6YL6V.js";import{a as Se}from"./chunk-B6EFFZ6Z.js";import{$a as Ai,Bd as Xe,Dc as ct,Ed as rt,F as si,G as li,H as ci,Kd as Ni,La as Z,Ma as ee,Na as be,O as Vi,Oc as ze,P as Bi,Pc as Je,Rc as ut,Sc as _t,Ta as Ae,Tc as dt,Uc as mt,Vb as xe,Wa as he,Wb as De,Xb as Le,Yb as Ue,Zb as Ve,_a as bi,_b as Be,aa as di,ab as Mi,cd as pt,da as wi,fc as Oe,gc as Pe,hc as Ge,ic as Ne,id as Ke,jc as He,kc as Fe,lc as je,ld as nt,mc as We,nb as j,nc as qe,o as Ii,oc as Qe,p as oi,pb as it,qd as mi,s as ri,sa as we,sb as ke,t as Di,tb as W,ud as $e,v as Li,vb as ie,x as ai,y as Ui,yb as ye,yd as ot,zb as Re}from"./chunk-MLF3JTCR.js";import{b as N,c as H,q as F}from"./chunk-XBXOIA3A.js";import{Cd as vt,Ce as It,Db as $,Dc as lt,Dd as D,De as wt,Eb as X,Ee as bt,Fb as Y,Fc as Te,Ha as St,Hd as q,Ib as z,Id as Ee,Jd as te,Je as tt,Jf as yt,Kb as m,Kf as Rt,La as a,Lb as L,Lc as xi,Le as At,Lf as xt,Ma as g,Mb as u,Me as Mt,Mf as Dt,Nb as ii,Ne as Et,Nf as ht,Oe as kt,Of as Lt,Pf as Ut,Qb as y,Qd as J,Qe as Ct,Qf as Vt,Rb as R,Sb as x,Ud as Pi,Vb as _e,Wb as ue,Yb as S,Za as K,Zb as T,_b as re,ab as I,cb as p,ce as Gi,da as Ti,dq as Q,eb as Ce,fd as ve,gc as P,gd as Oi,hd as Ie,ja as O,ka as vi,kd as Ri,lb as l,mb as s,nb as v,ob as w,pb as b,qb as ne,ra as C,rb as M,sa as _,td as Me,ub as A,vd as B,wb as h,xc as Ze,yc as ni,zc as G,zd as et}from"./chunk-E56NK5WM.js";var fn=["vform"];function un(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hn(e,r){if(e&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Hi=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new Ut,U,V),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenActivationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.translate=V,this.publicHelper=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(et.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(At),g(j),g(F),g(P),g(N),g(W))},r.\u0275cmp=O({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&$(fn,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,un,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),I(13,hn,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ot,pt,rt,ie,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var Sn=["vform"];function Cn(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenActivationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new Ut,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(At),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&$(Sn,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Cn,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var _n=()=>[5,10,20,100],gn=e=>({display:e}),Tn=e=>({background:e});function vn(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function In(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function wn(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function bn(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function An(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Mn(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function En(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function kn(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function yn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Rn(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function xn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Dn(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function Ln(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Un(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,gn,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Vn(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,Un,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Bn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function On(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Pn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Gn(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Nn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Hn(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Fn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function jn(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Wn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function qn(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function Qn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function zn(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function Jn(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Kn(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,Tn,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function $n(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function Xn(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function Yn(e,r){e&1&&v(0,"mat-header-row")}function Zn(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var ji=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new Ut,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Hi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(At),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,vn,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,In,7,3,"div",17)(23,wn,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20),s(),l(27,"p",21),m(28),S(29,"translate"),s()(),l(30,"div",18)(31,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(32,"i",22)(33,"br"),s(),l(34,"p",21),m(35),S(36,"translate"),s()(),I(37,bn,7,3,"div",17),b(),w(38,23),l(39,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(40,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(41,25),l(42,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(43);return _(t.onTableSortData(c))}),w(44,27),I(45,An,2,1,"mat-header-cell",28)(46,Mn,2,1,"mat-cell",29),b(),w(47,30),I(48,En,2,1,"mat-header-cell",28)(49,kn,4,5,"mat-cell",29),b(),w(50,31),I(51,yn,2,1,"mat-header-cell",28)(52,Rn,4,5,"mat-cell",29),b(),w(53,32),I(54,xn,2,1,"mat-header-cell",28)(55,Dn,2,1,"mat-cell",29),b(),w(56,33),I(57,Ln,2,1,"mat-header-cell",28)(58,Vn,5,7,"mat-cell",34),b(),w(59,35),I(60,Bn,2,1,"mat-header-cell",28)(61,On,3,4,"mat-cell",29),b(),w(62,36),I(63,Pn,2,1,"mat-header-cell",28)(64,Gn,3,4,"mat-cell",29),b(),w(65,37),I(66,Nn,2,1,"mat-header-cell",28)(67,Hn,3,3,"mat-cell",29),b(),w(68,38),I(69,Fn,2,1,"mat-header-cell",28)(70,jn,3,3,"mat-cell",29),b(),w(71,39),I(72,Wn,2,1,"mat-header-cell",28)(73,qn,3,3,"mat-cell",29),b(),w(74,40),I(75,Qn,2,1,"mat-header-cell",28)(76,zn,3,3,"mat-cell",41),b(),w(77,42),I(78,Jn,2,1,"mat-header-cell",28)(79,Kn,3,6,"mat-cell",43),b(),w(80,44),I(81,$n,3,3,"mat-header-cell",45)(82,Xn,6,1,"mat-cell",46),b(),I(83,Yn,1,0,"mat-header-row",47)(84,Zn,1,6,"mat-row",48),s(),b(),w(85,49),l(86,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,26,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(5),L(T(29,30,"ACTION.SITE")),a(7),L(T(36,32,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,_n)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var Wi=(()=>{let r=class r{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=O({type:r,selectors:[["app-core-token"]],decls:1,vars:0,template:function(n,t){n&1&&v(0,"router-outlet")},dependencies:[Oi],encapsulation:2});let e=r;return e})();var eo=["vform"];function to(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function io(e,r){if(e&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var qi=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new Dt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenMicroServiceService=d,this.cmsToastrService=f,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.setAccessDataType(et.Editor),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(wt),g(j),g(W),g(P),g(F),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(n,t){if(n&1&&$(eo,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,to,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),I(13,io,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ot,pt,rt,ie,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var no=["vform"];function oo(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenMicroServiceService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new Dt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenMicroServiceService.setAccessLoad(),this.coreLogTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(wt),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(n,t){if(n&1&&$(no,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,oo,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H],encapsulation:2});let e=r;return e})();var ro=()=>[5,10,20,100],ao=e=>({display:e}),so=e=>({background:e});function lo(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function co(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function mo(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function po(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function fo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function uo(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function ho(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function So(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Co(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function _o(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function go(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function To(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function vo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Io(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,ao,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function wo(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,Io,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function bo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ao(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Mo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Eo(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function ko(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function yo(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Ro(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function xo(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Do(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Lo(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function Uo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Vo(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function Bo(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Oo(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,so,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function Po(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function Go(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function No(e,r){e&1&&v(0,"mat-header-row")}function Ho(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var zi=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new Dt,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Dt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(wt),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-microservicelog-list"]],features:[K],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,lo,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),b(),ne(16,15),w(17,16),I(18,co,7,3,"div",17)(19,mo,7,3,"div",17),l(20,"div",18)(21,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(22,"i",20)(23,"br"),s(),l(24,"p",21),m(25),S(26,"translate"),s()(),l(27,"div",18)(28,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(29,"i",22)(30,"br"),s(),l(31,"p",21),m(32),S(33,"translate"),s()(),I(34,po,7,3,"div",17),b(),w(35,23),l(36,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(37,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(38,25),l(39,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(40);return _(t.onTableSortData(c))}),w(41,27),I(42,fo,2,1,"mat-header-cell",28)(43,uo,2,1,"mat-cell",29),b(),w(44,30),I(45,ho,2,1,"mat-header-cell",28)(46,So,4,5,"mat-cell",29),b(),w(47,31),I(48,Co,2,1,"mat-header-cell",28)(49,_o,4,5,"mat-cell",29),b(),w(50,32),I(51,go,2,1,"mat-header-cell",28)(52,To,2,1,"mat-cell",29),b(),w(53,33),I(54,vo,2,1,"mat-header-cell",28)(55,wo,5,7,"mat-cell",34),b(),w(56,35),I(57,bo,2,1,"mat-header-cell",28)(58,Ao,3,4,"mat-cell",29),b(),w(59,36),I(60,Mo,2,1,"mat-header-cell",28)(61,Eo,3,4,"mat-cell",29),b(),w(62,37),I(63,ko,2,1,"mat-header-cell",28)(64,yo,3,3,"mat-cell",29),b(),w(65,38),I(66,Ro,2,1,"mat-header-cell",28)(67,xo,3,3,"mat-cell",29),b(),w(68,39),I(69,Do,2,1,"mat-header-cell",28)(70,Lo,3,3,"mat-cell",29),b(),w(71,40),I(72,Uo,2,1,"mat-header-cell",28)(73,Vo,3,3,"mat-cell",41),b(),w(74,42),I(75,Bo,2,1,"mat-header-cell",28)(76,Oo,3,6,"mat-cell",43),b(),w(77,44),I(78,Po,3,3,"mat-header-cell",45)(79,Go,6,1,"mat-cell",46),b(),I(80,No,1,0,"mat-header-row",47)(81,Ho,1,6,"mat-row",48),s(),b(),w(82,49),l(83,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,24,"ACTION.SEARCH")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(26,26,"ACTION.SITE")),a(7),L(T(33,28,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,ro)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var Fo=["vform"];function jo(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wo(e,r){if(e&1&&(l(0,"div"),v(1,"div",9),S(2,"prettyjson"),s()),e&2){let o=h();a(),p("innerHTML",T(2,1,o.dataModel),St)}}function qo(e,r){if(e&1){let o=M();l(0,"div",10)(1,"button",11),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Ji=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new xt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new vt,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(et.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(kt),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(n,t){if(n&1&&$(Fo,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,jo,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),I(13,Wo,3,3,"div",6)(14,qo,5,3,"div",7),s()()),n&2&&(a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(10,14,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(12,16,"TITLE.USER")),a(2),p("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ot,pt,rt,ie,H,_t],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var Qo=["vform"];function zo(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Ki=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenMicroServiceService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(kt),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(n,t){if(n&1&&$(Qo,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,zo,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var Jo=()=>[5,10,20,100],Ko=e=>({display:e}),$o=e=>({background:e});function Xo(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function Yo(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function Zo(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function er(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function tr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ir(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function nr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function or(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function rr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function ar(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function sr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function lr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function cr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function dr(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,Ko,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function mr(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,dr,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function pr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function fr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ur(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function hr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Sr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Cr(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function _r(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function gr(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Tr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function vr(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function Ir(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function wr(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function br(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Ar(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,$o,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function Mr(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function Er(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function kr(e,r){e&1&&v(0,"mat-header-row")}function yr(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var $i=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new xt,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(kt),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-microservice-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,Xo,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,Yo,7,3,"div",17)(23,Zo,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),I(38,er,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(44);return _(t.onTableSortData(c))}),w(45,27),I(46,tr,2,1,"mat-header-cell",28)(47,ir,2,1,"mat-cell",29),b(),w(48,30),I(49,nr,2,1,"mat-header-cell",28)(50,or,4,5,"mat-cell",29),b(),w(51,31),I(52,rr,2,1,"mat-header-cell",28)(53,ar,4,5,"mat-cell",29),b(),w(54,32),I(55,sr,2,1,"mat-header-cell",28)(56,lr,2,1,"mat-cell",29),b(),w(57,33),I(58,cr,2,1,"mat-header-cell",28)(59,mr,5,7,"mat-cell",34),b(),w(60,35),I(61,pr,2,1,"mat-header-cell",28)(62,fr,3,4,"mat-cell",29),b(),w(63,36),I(64,ur,2,1,"mat-header-cell",28)(65,hr,3,4,"mat-cell",29),b(),w(66,37),I(67,Sr,2,1,"mat-header-cell",28)(68,Cr,3,3,"mat-cell",29),b(),w(69,38),I(70,_r,2,1,"mat-header-cell",28)(71,gr,3,3,"mat-cell",29),b(),w(72,39),I(73,Tr,2,1,"mat-header-cell",28)(74,vr,3,3,"mat-cell",29),b(),w(75,40),I(76,Ir,2,1,"mat-header-cell",28)(77,wr,3,3,"mat-cell",41),b(),w(78,42),I(79,br,2,1,"mat-header-cell",28)(80,Ar,3,6,"mat-cell",43),b(),w(81,44),I(82,Mr,3,3,"mat-header-cell",45)(83,Er,6,1,"mat-cell",46),b(),I(84,kr,1,0,"mat-header-row",47)(85,yr,1,6,"mat-row",48),s(),b(),w(86,49),l(87,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,26,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,30,"ACTION.SITE")),a(7),L(T(37,32,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,Jo)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var Rr=["vform"];function xr(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dr(e,r){if(e&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",10),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new Lt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenConnectionService=d,this.cmsToastrService=f,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.setAccessDataType(et.Editor),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(bt),g(j),g(W),g(P),g(F),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(n,t){if(n&1&&$(Rr,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,xr,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),I(13,Dr,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(12,15,"TITLE.USER")),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ot,pt,rt,ie,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var Lr=["vform"];function Ur(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var Yi=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenConnectionService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new Lt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenConnectionService.setAccessLoad(),this.coreLogTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(bt),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(n,t){if(n&1&&$(Lr,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Ur,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H],encapsulation:2});let e=r;return e})();var Vr=()=>[5,10,20,100],Br=e=>({display:e}),Or=e=>({background:e});function Pr(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function Gr(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function Nr(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function Hr(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function Fr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function jr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function Wr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function qr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Qr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function zr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Jr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Kr(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function $r(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Xr(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,Br,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Yr(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,Xr,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Zr(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ea(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ta(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function ia(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function na(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function oa(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function ra(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function aa(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function sa(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function la(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function ca(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function da(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function ma(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function pa(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,Or,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function fa(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function ua(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function ha(e,r){e&1&&v(0,"mat-header-row")}function Sa(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Zi=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new Lt,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(bt),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notificationlog-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,Pr,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,Gr,7,3,"div",17)(23,Nr,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),I(38,Hr,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(44);return _(t.onTableSortData(c))}),w(45,27),I(46,Fr,2,1,"mat-header-cell",28)(47,jr,2,1,"mat-cell",29),b(),w(48,30),I(49,Wr,2,1,"mat-header-cell",28)(50,qr,4,5,"mat-cell",29),b(),w(51,31),I(52,Qr,2,1,"mat-header-cell",28)(53,zr,4,5,"mat-cell",29),b(),w(54,32),I(55,Jr,2,1,"mat-header-cell",28)(56,Kr,2,1,"mat-cell",29),b(),w(57,33),I(58,$r,2,1,"mat-header-cell",28)(59,Yr,5,7,"mat-cell",34),b(),w(60,35),I(61,Zr,2,1,"mat-header-cell",28)(62,ea,3,4,"mat-cell",29),b(),w(63,36),I(64,ta,2,1,"mat-header-cell",28)(65,ia,3,4,"mat-cell",29),b(),w(66,37),I(67,na,2,1,"mat-header-cell",28)(68,oa,3,3,"mat-cell",29),b(),w(69,38),I(70,ra,2,1,"mat-header-cell",28)(71,aa,3,3,"mat-cell",29),b(),w(72,39),I(73,sa,2,1,"mat-header-cell",28)(74,la,3,3,"mat-cell",29),b(),w(75,40),I(76,ca,2,1,"mat-header-cell",28)(77,da,3,3,"mat-cell",41),b(),w(78,42),I(79,ma,2,1,"mat-header-cell",28)(80,pa,3,6,"mat-cell",43),b(),w(81,44),I(82,fa,3,3,"mat-header-cell",45)(83,ua,6,1,"mat-cell",46),b(),I(84,ha,1,0,"mat-header-row",47)(85,Sa,1,6,"mat-row",48),s(),b(),w(86,49),l(87,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,26,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,30,"ACTION.SITE")),a(7),L(T(37,32,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,Vr)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var Ca=["vform"];function _a(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ga(e,r){if(e&1&&(l(0,"div"),v(1,"div",9),S(2,"prettyjson"),s()),e&2){let o=h();a(),p("innerHTML",T(2,1,o.dataModel),St)}}function Ta(e,r){if(e&1){let o=M();l(0,"div",10)(1,"button",11),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",12),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var ki=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new ht,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenConnectionService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new vt,this.dataModel=new ht,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.setAccessDataType(et.Editor),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Ct),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(n,t){if(n&1&&$(Ca,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),v(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,_a,1,5,"app-cms-enum-record-status-selector",4),v(9,"app-cms-site-selector",5),S(10,"translate"),v(11,"app-cms-user-selector",5),S(12,"translate"),I(13,ga,3,3,"div",6)(14,Ta,5,3,"div",7),s()()),n&2&&(a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(10,14,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(12,16,"TITLE.USER")),a(2),p("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ot,pt,rt,ie,H,_t],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var va=["vform"];function Ia(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var yi=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenConnectionService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new ht,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenConnectionService.setAccessLoad(),this.coreTokenConnectionService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Ct),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notification-view"]],viewQuery:function(n,t){if(n&1&&$(va,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Ia,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var wa=()=>[5,10,20,100],ba=e=>({display:e}),Aa=e=>({background:e});function Ma(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function Ea(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function ka(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function ya(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function Ra(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function xa(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function Da(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function La(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Ua(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Va(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Ba(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Oa(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function Pa(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Ga(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,ba,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Na(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,Ga,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Ha(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Fa(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ja(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Wa(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function qa(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Qa(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function za(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ja(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function Ka(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function $a(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function Xa(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ya(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function Za(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function es(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,Aa,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function ts(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function is(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function ns(e,r){e&1&&v(0,"mat-header-row")}function os(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var en=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new ht,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ht);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(Ct),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notification-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,Ma,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,Ea,7,3,"div",17)(23,ka,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),I(38,ya,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(44);return _(t.onTableSortData(c))}),w(45,27),I(46,Ra,2,1,"mat-header-cell",28)(47,xa,2,1,"mat-cell",29),b(),w(48,30),I(49,Da,2,1,"mat-header-cell",28)(50,La,4,5,"mat-cell",29),b(),w(51,31),I(52,Ua,2,1,"mat-header-cell",28)(53,Va,4,5,"mat-cell",29),b(),w(54,32),I(55,Ba,2,1,"mat-header-cell",28)(56,Oa,2,1,"mat-cell",29),b(),w(57,33),I(58,Pa,2,1,"mat-header-cell",28)(59,Na,5,7,"mat-cell",34),b(),w(60,35),I(61,Ha,2,1,"mat-header-cell",28)(62,Fa,3,4,"mat-cell",29),b(),w(63,36),I(64,ja,2,1,"mat-header-cell",28)(65,Wa,3,4,"mat-cell",29),b(),w(66,37),I(67,qa,2,1,"mat-header-cell",28)(68,Qa,3,3,"mat-cell",29),b(),w(69,38),I(70,za,2,1,"mat-header-cell",28)(71,Ja,3,3,"mat-cell",29),b(),w(72,39),I(73,Ka,2,1,"mat-header-cell",28)(74,$a,3,3,"mat-cell",29),b(),w(75,40),I(76,Xa,2,1,"mat-header-cell",28)(77,Ya,3,3,"mat-cell",41),b(),w(78,42),I(79,Za,2,1,"mat-header-cell",28)(80,es,3,6,"mat-cell",43),b(),w(81,44),I(82,ts,3,3,"mat-header-cell",45)(83,is,6,1,"mat-cell",46),b(),I(84,ns,1,0,"mat-header-row",47)(85,os,1,6,"mat-row",48),s(),b(),w(86,49),l(87,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,26,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,30,"ACTION.SITE")),a(7),L(T(37,32,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,wa)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var as=["vform"];function ss(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",38),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ls(e,r){if(e&1&&(l(0,"option",39),m(1),s()),e&2){let o=r.$implicit;p("value",o.value),a(),u(" ",o.description," ")}}function cs(e,r){e&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),S(4,"translate"),s()()),e&2&&(a(3),L(T(4,1,"MESSAGE.required")))}function ds(e,r){if(e&1&&(l(0,"option",39),m(1),s()),e&2){let o=r.$implicit;p("value",o.value),a(),u(" ",o.description," ")}}function ms(e,r){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),S(4,"translate"),s()()),e&2&&(a(3),L(T(4,1,"MESSAGE.required")))}function ps(e,r){if(e&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",42),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",45),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.userAccessAdminAllowToAllData,n)||(t.dataModel.userAccessAdminAllowToAllData=n),_(n)}),s(),v(7,"label",46),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function fs(e,r){if(e&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",47),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",48),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.userAccessAdminAllowToProfessionalData,n)||(t.dataModel.userAccessAdminAllowToProfessionalData=n),_(n)}),s(),v(7,"label",49),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function us(e,r){if(e&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",50),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",51),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.rememberOnDevice,n)||(t.dataModel.rememberOnDevice=n),_(n)}),s(),v(7,"label",52),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),a(3),y("ngModel",o.dataModel.rememberOnDevice)}}function hs(e,r){if(e&1){let o=M();l(0,"div",23)(1,"label",53),m(2),s(),l(3,"input",54),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.tokenExpireDate,n)||(t.dataModel.tokenExpireDate=n),_(n)}),s(),v(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),s()}if(e&2){let o=z(6),i=h();a(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),a(),p("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),a(),p("for",o)}}function Ss(e,r){if(e&1&&(l(0,"div"),v(1,"div",57),S(2,"prettyjson"),s()),e&2){let o=h();a(),p("innerHTML",T(2,1,o.dataModel),St)}}function Cs(e,r){if(e&1){let o=M();l(0,"div",58)(1,"button",59),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",60),m(3),S(4,"translate"),s(),l(5,"button",61),v(6,"i",62),m(7),S(8,"translate"),s()()}if(e&2){h();let o=z(9);a(3),u(" ",T(4,3,"ACTION.CANCEL")," "),a(2),p("disabled",!o.form.valid),a(2),u(" ",T(8,5,"ACTION.SAVE")," ")}}var rn=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new yt,k,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.publicHelper=k,this.cdr=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new vt,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(et.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSiteSelect(i){i&&i.id>0&&(this.dataModel.linkSiteId=i.id)}onActionUserSelect(i){i&&i.id>0&&(this.dataModel.linkUserId=i.id)}onActionMemberSelect(i){i&&i.id.length>0&&(this.dataModel.linkMemberId=i.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Mt),g(j),g(F),g(W),g(P),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&$(as,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,t){if(n&1){let d=M();l(0,"div",10),v(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),l(8,"form",14,0),A("ngSubmit",function(){return C(d),_(t.onFormSubmit())}),I(10,ss,1,5,"app-cms-enum-record-status-selector",15),l(11,"div",16)(12,"select",17,1),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),_(c)}),I(14,ls,2,2,"option",18),s(),l(15,"em"),m(16),S(17,"translate"),s(),I(18,cs,5,3,"mat-error",19),s(),l(19,"div",16)(20,"select",20,2),x("ngModelChange",function(c){return C(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),I(22,ds,2,2,"option",18),s(),l(23,"em"),m(24),S(25,"translate"),s(),I(26,ms,5,3,"mat-error",19),s(),l(27,"app-cms-site-selector",21),S(28,"translate"),A("optionChange",function(c){return C(d),_(t.onActionSiteSelect(c))}),s(),l(29,"app-cms-user-selector",21),S(30,"translate"),A("optionChange",function(c){return C(d),_(t.onActionUserSelect(c))}),s(),l(31,"app-cms-member-selector",21),S(32,"translate"),A("optionChange",function(c){return C(d),_(t.onActionMemberSelect(c))}),s(),I(33,ps,8,2,"div",22)(34,fs,8,2,"div",22)(35,us,8,2,"div",22),l(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),s(),l(39,"input",25,3),x("ngModelChange",function(c){return C(d),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),_(c)}),s()(),l(41,"div",23)(42,"label",26),m(43,"UserLanguage"),s(),l(44,"input",27,4),x("ngModelChange",function(c){return C(d),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),_(c)}),s()(),l(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),s(),l(49,"input",29,5),x("ngModelChange",function(c){return C(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),l(51,"div",23)(52,"label",30),m(53,"Token"),s(),l(54,"input",31,6),x("ngModelChange",function(c){return C(d),R(t.dataModel.token,c)||(t.dataModel.token=c),_(c)}),s()(),l(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),s(),l(59,"input",33,7),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),l(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),s(),l(64,"input",35,8),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),I(66,hs,7,4,"div",36)(67,Ss,3,3,"div",19)(68,Cs,9,7,"div",37),s()()()}if(n&2){let d=z(13),f=z(21);a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(2),y("ngModel",t.dataModel.linkMemberId),a(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),L(T(17,35,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(2),y("ngModel",t.dataModel.userAccessAreaType),a(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(T(25,37,"TITLE.SELECT_STATUS")),a(2),p("ngIf",f.errors==null?null:f.errors.required),a(),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(28,39,"TITLE.WEBSITE")),a(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(30,41,"TITLE.USER")),a(2),p("optionDisabled",!1)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",T(32,43,"TITLE.Member")),a(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),a(4),y("ngModel",t.dataModel.browserLanguage),a(5),y("ngModel",t.dataModel.userLanguage),a(5),y("ngModel",t.dataModel.deviceClientMAC),a(5),y("ngModel",t.dataModel.token),a(5),y("ngModel",t.dataModel.linkDeviceId),a(5),y("ngModel",t.dataModel.linkApplicationId),a(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),a(),p("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ni,G,Ui,li,ci,oi,Ii,si,ri,Di,ai,Li,bi,Ai,Mi,di,wi,he,ot,pt,rt,mi,ie,H,_t],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var _s=["vform"];function gs(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var an=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Mt),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&$(_s,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,gs,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var Ts=()=>[5,10,20,100],vs=e=>({display:e});function Is(e,r){if(e&1){let o=M();l(0,"a",52),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",53),s()}}function ws(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",54),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",55)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function bs(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",56),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",57)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function As(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",58),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",59)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function Ms(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Es(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function ks(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function ys(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Rs(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function xs(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Ds(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ls(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberId," ")}}function Us(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Vs(e,r){if(e&1&&v(0,"select",63),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,vs,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Bs(e,r){if(e&1&&(l(0,"mat-cell",61),S(1,"statusCellClass"),v(2,"i",61),S(3,"statusIconClass"),I(4,Vs,1,5,"select",62),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Os(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ps(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Gs(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Ns(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Hs(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Fs(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function js(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ws(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function qs(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Qs(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function zs(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Js(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function Ks(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function $s(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.tokenExpireDate)," ")}}function Xs(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function Ys(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function Zs(e,r){e&1&&v(0,"mat-header-row")}function el(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Ci=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new yt,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(an,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(Mt),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,Is,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,ws,7,3,"div",17)(23,bs,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),l(38,"div",18)(39,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),s(),l(42,"p",21),m(43),S(44,"translate"),s()(),l(45,"div",18)(46,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),s(),l(49,"p",21),m(50),S(51,"translate"),s()(),I(52,As,7,3,"div",17),b(),w(53,25),l(54,"app-cms-search-list",26),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(55,"app-cms-statist-list",26),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(56,27),l(57,"mat-table",28,0),A("matSortChange",function(){C(d);let c=z(58);return _(t.onTableSortData(c))}),w(59,29),I(60,Ms,2,1,"mat-header-cell",30)(61,Es,2,1,"mat-cell",31),b(),w(62,32),I(63,ks,2,1,"mat-header-cell",30)(64,ys,4,5,"mat-cell",31),b(),w(65,33),I(66,Rs,2,1,"mat-header-cell",30)(67,xs,4,5,"mat-cell",31),b(),w(68,34),I(69,Ds,2,1,"mat-header-cell",30)(70,Ls,2,1,"mat-cell",31),b(),w(71,35),I(72,Us,2,1,"mat-header-cell",30)(73,Bs,5,7,"mat-cell",36),b(),w(74,37),I(75,Os,2,1,"mat-header-cell",30)(76,Ps,3,4,"mat-cell",31),b(),w(77,38),I(78,Gs,2,1,"mat-header-cell",30)(79,Ns,3,4,"mat-cell",31),b(),w(80,39),I(81,Hs,2,1,"mat-header-cell",30)(82,Fs,3,3,"mat-cell",31),b(),w(83,40),I(84,js,2,1,"mat-header-cell",30)(85,Ws,3,3,"mat-cell",31),b(),w(86,41),I(87,qs,2,1,"mat-header-cell",30)(88,Qs,3,3,"mat-cell",31),b(),w(89,42),I(90,zs,2,1,"mat-header-cell",30)(91,Js,3,3,"mat-cell",43),b(),w(92,44),I(93,Ks,2,1,"mat-header-cell",30)(94,$s,3,3,"mat-cell",43),b(),w(95,45),I(96,Xs,3,3,"mat-header-cell",46)(97,Ys,6,1,"mat-cell",47),b(),I(98,Zs,1,0,"mat-header-row",48)(99,el,1,6,"mat-row",49),s(),b(),w(100,50),l(101,"mat-paginator",51,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,28,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,32,"ACTION.SITE")),a(7),L(T(37,34,"ACTION.USER")),a(7),L(T(44,36,"ACTION.MEMBER")),a(7),L(T(51,38,"ACTION.DEVICE")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(40,Ts)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var tl=["vform"];function il(e,r){if(e&1&&(l(0,"option",27),m(1),s()),e&2){let o=r.$implicit;p("value",o.value),a(),u(" ",o.description," ")}}function nl(e,r){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),S(4,"translate"),s()()),e&2&&(a(3),L(T(4,1,"MESSAGE.required")))}function ol(e,r){if(e&1&&(l(0,"div"),v(1,"div",28),S(2,"prettyjson"),s()),e&2){let o=h();a(),p("innerHTML",T(2,1,o.dataModel),St)}}function rl(e,r){if(e&1){let o=M();l(0,"div",29)(1,"button",30),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",31),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var sn=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new Vt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserBadLoginService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new Vt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(et.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Et),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&$(tl,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let d=M();l(0,"div",6),v(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),l(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),l(11,"input",12,0),x("ngModelChange",function(c){return C(d),R(t.dataModel.usedUsername,c)||(t.dataModel.usedUsername=c),_(c)}),s()(),l(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),l(16,"input",14,1),x("ngModelChange",function(c){return C(d),R(t.dataModel.usedPwd,c)||(t.dataModel.usedPwd=c),_(c)}),s()(),l(18,"div",15)(19,"select",16,2),x("ngModelChange",function(c){return C(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),I(21,il,2,2,"option",17),s(),l(22,"em"),m(23),S(24,"translate"),s(),I(25,nl,5,3,"mat-error",18),s(),v(26,"app-cms-site-selector",19),S(27,"translate"),v(28,"app-cms-user-selector",19),S(29,"translate"),v(30,"app-cms-member-selector",19),S(31,"translate"),l(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),s(),l(35,"input",21,3),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),l(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),s(),l(40,"input",23,4),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),l(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),s(),l(45,"input",25,5),x("ngModelChange",function(c){return C(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),I(47,ol,3,3,"div",18)(48,rl,5,3,"div",26),s()()}if(n&2){let d=z(20);a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),a(5),y("ngModel",t.dataModel.usedUsername),a(5),y("ngModel",t.dataModel.usedPwd),a(3),y("ngModel",t.dataModel.userAccessAreaType),a(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(T(24,25,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(27,27,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(29,29,"TITLE.USER")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",T(31,31,"TITLE.Member")),a(5),y("ngModel",t.dataModel.linkDeviceId),a(5),y("ngModel",t.dataModel.linkApplicationId),a(5),y("ngModel",t.dataModel.deviceClientMAC),a(2),p("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ni,G,li,ci,oi,si,ri,ai,di,he,ot,rt,mi,ie,H,_t],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var al=["vform"];function sl(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var ln=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreTokenUserBadLoginService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new Vt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(Et),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&$(al,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,sl,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var ll=()=>[5,10,20,100];function cl(e,r){if(e&1){let o=M();l(0,"a",46),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",47),s()}}function dl(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",48),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function ml(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",50),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",51)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function pl(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",52),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",53)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function fl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ul(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function hl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Sl(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Cl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function _l(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function gl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Tl(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberId," ")}}function vl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Il(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function wl(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.usedUsername==null?null:o.fieldsInfo.usedUsername.fieldTitle," ")}}function bl(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.usedUsername," ")}}function Al(e,r){if(e&1&&(l(0,"mat-header-cell",54),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ml(e,r){if(e&1&&(l(0,"mat-cell",55),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function El(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function kl(e,r){if(e&1&&(l(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function yl(e,r){e&1&&v(0,"mat-header-row")}function Rl(e,r){if(e&1){let o=M();l(0,"mat-row",58),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var _i=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge,E){if(super(n,new Vt,ge,c,V),this.coreEnumService=i,this.contentService=n,this.cmsToastrService=t,this.cmsConfirmationDialogService=d,this.activatedRoute=f,this.tokenHelper=c,this.cdr=k,this.translate=V,this.router=U,this.pageInfo=ae,this.publicHelper=ge,this.dialog=E,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let ft=new q;ft.propertyName="LinkCmsSiteId",ft.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ft)}if(this.requestLinkUserId>0){let ft=new q;ft.propertyName="LinkUserId",ft.value=this.requestLinkUserId,this.filteModelContent.filters.push(ft)}if(this.requestLinkDeviceId>0){let ft=new q;ft.propertyName="LinkDeviceId",ft.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(ft)}this.optionsSearch.parentMethods={onSubmit:ft=>this.onSubmitOptionsSearch(ft)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Vt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ln,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(sn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(J),g(Et),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,cl,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,dl,7,3,"div",17)(23,ml,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),l(38,"div",18)(39,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewMemberRow(t.tableRowSelected))}),v(40,"i",23)(41,"br"),s(),l(42,"p",21),m(43),S(44,"translate"),s()(),l(45,"div",18)(46,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewDeviceRow(t.tableRowSelected))}),v(47,"i",24)(48,"br"),s(),l(49,"p",21),m(50),S(51,"translate"),s()(),I(52,pl,7,3,"div",17),b(),w(53,25),l(54,"app-cms-search-list",26),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(55,"app-cms-statist-list",26),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(56,27),l(57,"mat-table",28,0),A("matSortChange",function(){C(d);let c=z(58);return _(t.onTableSortData(c))}),w(59,29),I(60,fl,2,1,"mat-header-cell",30)(61,ul,2,1,"mat-cell",31),b(),w(62,32),I(63,hl,2,1,"mat-header-cell",30)(64,Sl,4,5,"mat-cell",31),b(),w(65,33),I(66,Cl,2,1,"mat-header-cell",30)(67,_l,4,5,"mat-cell",31),b(),w(68,34),I(69,gl,2,1,"mat-header-cell",30)(70,Tl,2,1,"mat-cell",31),b(),w(71,35),I(72,vl,2,1,"mat-header-cell",30)(73,Il,3,4,"mat-cell",31),b(),w(74,36),I(75,wl,2,1,"mat-header-cell",30)(76,bl,2,1,"mat-cell",31),b(),w(77,37),I(78,Al,2,1,"mat-header-cell",30)(79,Ml,3,3,"mat-cell",38),b(),w(80,39),I(81,El,3,3,"mat-header-cell",40)(82,kl,6,1,"mat-cell",41),b(),I(83,yl,1,0,"mat-header-row",42)(84,Rl,1,6,"mat-row",43),s(),b(),w(85,44),l(86,"mat-paginator",45,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,28,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,32,"ACTION.SITE")),a(7),L(T(37,34,"ACTION.USER")),a(7),L(T(44,36,"ACTION.MEMBER")),a(7),L(T(51,38,"ACTION.DEVICE")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(26),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(40,ll)))},dependencies:[G,we,Ae,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,Te,H,Je,ye,ze,Re],encapsulation:2});let e=r;return e})();var xl=["vform"];function Dl(e,r){if(e&1){let o=M();l(0,"app-cms-enum-record-status-selector",36),x("modelChange",function(n){C(o);let t=h();return R(t.dataModel.recordStatus,n)||(t.dataModel.recordStatus=n),_(n)}),s()}if(e&2){let o=h();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ll(e,r){if(e&1&&(l(0,"option",37),m(1),s()),e&2){let o=r.$implicit;p("value",o.value),a(),u(" ",o.description," ")}}function Ul(e,r){e&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),S(4,"translate"),s()()),e&2&&(a(3),L(T(4,1,"MESSAGE.required")))}function Vl(e,r){if(e&1&&(l(0,"option",37),m(1),s()),e&2){let o=r.$implicit;p("value",o.value),a(),u(" ",o.description," ")}}function Bl(e,r){e&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),S(4,"translate"),s()()),e&2&&(a(3),L(T(4,1,"MESSAGE.required")))}function Ol(e,r){if(e&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",40),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.userAccessAdminAllowToAllData,n)||(t.dataModel.userAccessAdminAllowToAllData=n),_(n)}),s(),v(7,"label",44),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function Pl(e,r){if(e&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",45),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",46),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.userAccessAdminAllowToProfessionalData,n)||(t.dataModel.userAccessAdminAllowToProfessionalData=n),_(n)}),s(),v(7,"label",47),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function Gl(e,r){if(e&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",48),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",49),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.rememberOnDevice,n)||(t.dataModel.rememberOnDevice=n),_(n)}),s(),v(7,"label",50),s()()()}if(e&2){let o=h();a(3),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),a(3),y("ngModel",o.dataModel.rememberOnDevice)}}function Nl(e,r){if(e&1){let o=M();l(0,"div",21)(1,"label",51),m(2),s(),l(3,"input",52),x("ngModelChange",function(n){C(o);let t=h();return R(t.dataModel.tokenExpireDate,n)||(t.dataModel.tokenExpireDate=n),_(n)}),s(),v(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),s()}if(e&2){let o=z(6),i=h();a(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),a(),p("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),a(),p("for",o)}}function Hl(e,r){if(e&1&&(l(0,"div"),v(1,"div",55),S(2,"prettyjson"),s()),e&2){let o=h();a(),p("innerHTML",T(2,1,o.dataModel),St)}}function Fl(e,r){if(e&1){let o=M();l(0,"div",56)(1,"button",57),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",58),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var cn=(()=>{let r=class r extends at{constructor(i,n,t,d,f,c,k,V,U){super(d,new Rt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new vt,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.setAccessDataType(et.Editor),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(It),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,t){if(n&1&&$(xl,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},features:[K],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){if(n&1){let d=M();l(0,"div",9),v(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),m(4),s(),l(5,"p"),m(6),S(7,"translate"),s(),I(8,Dl,1,5,"app-cms-enum-record-status-selector",13),l(9,"div",14)(10,"select",15,0),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkMemberId,c)||(t.dataModel.linkMemberId=c),_(c)}),I(12,Ll,2,2,"option",16),s(),l(13,"em"),m(14),S(15,"translate"),s(),I(16,Ul,5,3,"mat-error",17),s(),l(17,"div",14)(18,"select",18,1),x("ngModelChange",function(c){return C(d),R(t.dataModel.userAccessAreaType,c)||(t.dataModel.userAccessAreaType=c),_(c)}),I(20,Vl,2,2,"option",16),s(),l(21,"em"),m(22),S(23,"translate"),s(),I(24,Bl,5,3,"mat-error",17),s(),v(25,"app-cms-site-selector",19),S(26,"translate"),v(27,"app-cms-user-selector",19),S(28,"translate"),v(29,"app-cms-member-selector",19),S(30,"translate"),I(31,Ol,8,2,"div",20)(32,Pl,8,2,"div",20)(33,Gl,8,2,"div",20),l(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),s(),l(37,"input",23,2),x("ngModelChange",function(c){return C(d),R(t.dataModel.browserLanguage,c)||(t.dataModel.browserLanguage=c),_(c)}),s()(),l(39,"div",21)(40,"label",24),m(41,"UserLanguage"),s(),l(42,"input",25,3),x("ngModelChange",function(c){return C(d),R(t.dataModel.userLanguage,c)||(t.dataModel.userLanguage=c),_(c)}),s()(),l(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),s(),l(47,"input",27,4),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkDeviceId,c)||(t.dataModel.linkDeviceId=c),_(c)}),s()(),l(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),s(),l(52,"input",29,5),x("ngModelChange",function(c){return C(d),R(t.dataModel.linkApplicationId,c)||(t.dataModel.linkApplicationId=c),_(c)}),s()(),l(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),s(),l(57,"input",31,6),x("ngModelChange",function(c){return C(d),R(t.dataModel.deviceClientMAC,c)||(t.dataModel.deviceClientMAC=c),_(c)}),s()(),l(59,"div",21)(60,"label",32),m(61,"Token"),s(),l(62,"input",33,7),x("ngModelChange",function(c){return C(d),R(t.dataModel.token,c)||(t.dataModel.token=c),_(c)}),s()(),I(64,Nl,7,4,"div",34)(65,Hl,3,3,"div",17)(66,Fl,5,3,"div",35),s()()}if(n&2){let d=z(11),f=z(19);a(),p("optionsInfoAreaId",t.constructorInfoAreaId),a(3),u(" ",t.formInfo.formTitle," "),a(2),u(" ",T(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),a(2),y("ngModel",t.dataModel.linkMemberId),a(2),p("ngForOf",t.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),L(T(15,35,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(2),y("ngModel",t.dataModel.userAccessAreaType),a(2),p("ngForOf",t.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(T(23,37,"TITLE.SELECT_STATUS")),a(2),p("ngIf",f.errors==null?null:f.errors.required),a(),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkSiteId)("optionPlaceholder",T(26,39,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkUserId)("optionPlaceholder",T(28,41,"TITLE.USER")),a(2),p("optionDisabled",!0)("optionSelectForce",t.dataModel.linkMemberId)("optionPlaceholder",T(30,43,"TITLE.Member")),a(2),p("ngIf",t.fieldsInfo.userAccessAdminAllowToAllData==null?null:t.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),p("ngIf",t.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),p("ngIf",t.fieldsInfo.rememberOnDevice==null?null:t.fieldsInfo.rememberOnDevice.accessWatchField),a(4),y("ngModel",t.dataModel.browserLanguage),a(5),y("ngModel",t.dataModel.userLanguage),a(5),y("ngModel",t.dataModel.linkDeviceId),a(5),y("ngModel",t.dataModel.linkApplicationId),a(5),y("ngModel",t.dataModel.deviceClientMAC),a(5),y("ngModel",t.dataModel.token),a(2),p("ngIf",t.fieldsInfo.tokenExpireDate==null?null:t.fieldsInfo.tokenExpireDate.accessWatchField),a(),p("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[ni,G,li,ci,oi,Ii,si,ri,ai,bi,Ai,Mi,di,wi,he,ot,pt,rt,mi,ie,H,_t],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let e=r;return e})();var jl=["vform"];function Wl(e,r){if(e&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){C(o);let n=h();return _(n.onFormCancel())}),v(2,"i",11),m(3),S(4,"translate"),s()()}e&2&&(a(3),u(" ",T(4,1,"ACTION.CANCEL")," "))}var dn=(()=>{let r=class r{constructor(i,n,t,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=t,this.coreLogTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new tt,this.dataModelResult=new D,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreLogTokenUserService.setAccessLoad(),this.coreLogTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(g(ee),g(Z),g(J),g(It),g(j),g(F),g(P),g(W),g(N))},r.\u0275cmp=O({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,t){if(n&1&&$(jl,5),n&2){let d;X(d=Y())&&(t.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,t){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),v(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Wl,5,3,"div",9),s()),n&2&&(a(),u(" ",t.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",t.constructorInfoAreaId),a(),p("dataModel",t.dataModel)("optionMethod",1),a(4),u("",t.formInfo.formAlert," "),a(2),u("",t.formInfo.formError," "),a(2),p("ngIf",t.formInfo.formSubmitAllow))},dependencies:[G,ie,nt,H]});let e=r;return e})();var ql=()=>["expandedTitle"],Ql=()=>[5,10,20,100];function zl(e,r){if(e&1){let o=M();l(0,"a",45),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",46),s()}}function Jl(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",48),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",49)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function Kl(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",52)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function $l(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewSiteRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.SITE")))}function Xl(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewUserRow(n.tableRowSelected))}),v(2,"i",55)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.USER")))}function Yl(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewDeviceRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DEVICE")))}function Zl(e,r){if(e&1){let o=M();l(0,"div",47)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",50),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function ec(e,r){if(e&1){let o=M();l(0,"mat-row",59),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))})("mouseenter",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowMouseEnter(n))})("mouseleave",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowMouseLeave(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function tc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ic(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function nc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," ")}}function oc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.description," ")}}function rc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function ac(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function sc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function lc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function cc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function dc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function mc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function pc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function fc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function uc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function hc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Sc(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Cc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function _c(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function gc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Tc(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",61),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function vc(e,r){if(e&1&&(l(0,"mat-header-cell",60),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ic(e,r){if(e&1&&(l(0,"mat-cell",62),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function wc(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function bc(e,r){if(e&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function Ac(e,r){e&1&&v(0,"mat-header-row")}function Mc(e,r){if(e&1){let o=M();l(0,"mat-row",65),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function Ec(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"translate"),v(3,"br"),m(4),S(5,"translate"),v(6,"br"),m(7),S(8,"translate"),S(9,"cmssiteinfo"),S(10,"async"),v(11,"br"),m(12),S(13,"translate"),S(14,"cmsuserinfo"),S(15,"async"),v(16,"br"),m(17),S(18,"translate"),S(19,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),ii(" ",T(2,10,"TITLE.Id")," : ",o.id," "),a(3),ii(" ",T(5,12,"TITLE.Description")," : ",o.description," "),a(3),ii(" ",T(8,14,"TITLE.Site_Id")," : ",T(10,18,T(9,16,o.linkSiteId))," "),a(5),ii(" ",T(13,20,"TITLE.User_Id")," : ",T(15,24,T(14,22,o.linkUserId))," "),a(5),ii(" ",T(18,26,"TITLE.CreationDate")," : ",T(19,28,o.createdDate)," ")}}var gi=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new Rt,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(dn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(cn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(It),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,zl,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,Jl,7,3,"div",17)(23,Kl,7,3,"div",17)(24,$l,7,3,"div",17)(25,Xl,7,3,"div",17)(26,Yl,7,3,"div",17)(27,Zl,7,3,"div",17),b(),w(28,18),l(29,"app-cms-search-list",19),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(30,"app-cms-statist-list",19),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(31,20),l(32,"mat-table",21,0),A("matSortChange",function(){C(d);let c=z(33);return _(t.onTableSortData(c))}),I(34,ec,1,6,"mat-row",22),w(35,23),I(36,tc,2,1,"mat-header-cell",24)(37,ic,2,1,"mat-cell",25),b(),w(38,26),I(39,nc,2,1,"mat-header-cell",24)(40,oc,2,1,"mat-cell",25),b(),w(41,27),I(42,rc,2,1,"mat-header-cell",24)(43,ac,4,5,"mat-cell",25),b(),w(44,28),I(45,sc,2,1,"mat-header-cell",24)(46,lc,4,5,"mat-cell",25),b(),w(47,29),I(48,cc,2,1,"mat-header-cell",24)(49,dc,2,1,"mat-cell",25),b(),w(50,30),I(51,mc,2,1,"mat-header-cell",24)(52,pc,3,4,"mat-cell",25),b(),w(53,31),I(54,fc,2,1,"mat-header-cell",24)(55,uc,3,4,"mat-cell",25),b(),w(56,32),I(57,hc,2,1,"mat-header-cell",24)(58,Sc,3,3,"mat-cell",25),b(),w(59,33),I(60,Cc,2,1,"mat-header-cell",24)(61,_c,3,3,"mat-cell",25),b(),w(62,34),I(63,gc,2,1,"mat-header-cell",24)(64,Tc,3,3,"mat-cell",25),b(),w(65,35),I(66,vc,2,1,"mat-header-cell",24)(67,Ic,3,3,"mat-cell",36),b(),w(68,37),I(69,wc,3,3,"mat-header-cell",38)(70,bc,6,1,"mat-cell",39),b(),I(71,Ac,1,0,"mat-header-row",40)(72,Mc,1,6,"mat-row",41),w(73,42),I(74,Ec,20,30,"mat-cell",25),b(),s(),b(),w(75,43),l(76,"mat-paginator",44,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,28,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkSiteId)>0),a(),p("ngIf",(t.tableRowSelected==null?null:t.tableRowSelected.linkUserId)>0),a(),p("ngIf",(t.tableRowSelected==null||t.tableRowSelected.deviceClientMAC==null?null:t.tableRowSelected.deviceClientMAC.length)>0),a(),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(2),p("matRowDefColumns",_e(32,ql)),a(37),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(4),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,Ql)))},dependencies:[Ze,G,we,Ae,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,Te,H,Je,ye,ze,Re,it],encapsulation:2});let e=r;return e})();var kc=()=>[5,10,20,100],yc=e=>({display:e}),Rc=e=>({background:e});function xc(e,r){if(e&1){let o=M();l(0,"a",51),A("click",function(){C(o);let n=h();return _(n.onActionBackToParent())}),v(1,"i",52),s()}}function Dc(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){C(o);let n=h();return _(n.onActionButtonEditRow(n.tableRowSelected))}),v(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.EDIT")))}function Lc(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){C(o);let n=h();return _(n.onActionButtonDeleteRow(n.tableRowSelected))}),v(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.DELETE")))}function Uc(e,r){if(e&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){C(o);let n=h();return _(n.onActionButtonViewRow(n.tableRowSelected))}),v(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),S(6,"translate"),s()()}e&2&&(a(5),L(T(6,1,"ACTION.VIEW")))}function Vc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Bc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.id," ")}}function Oc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Pc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmssiteinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkSiteId))," ")}}function Gc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Nc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"cmsuserinfo"),S(3,"async"),s()),e&2){let o=r.$implicit;a(),u(" ",T(3,3,T(2,1,o.linkUserId))," ")}}function Hc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Fc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),s()),e&2){let o=r.$implicit;a(),u(" ",o.linkMemberUserId," ")}}function jc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Wc(e,r){if(e&1&&v(0,"select",62),e&2){let o=h().$implicit,i=h();p("contentService",i.contentService)("row",o)("ngStyle",ue(3,yc,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function qc(e,r){if(e&1&&(l(0,"mat-cell",60),S(1,"statusCellClass"),v(2,"i",60),S(3,"statusIconClass"),I(4,Wc,1,5,"select",61),s()),e&2){let o=r.$implicit,i=h();p("ngClass",T(1,3,o.recordStatus)),a(2),p("ngClass",T(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Qc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function zc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Jc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Kc(e,r){if(e&1&&(l(0,"mat-cell"),m(1),S(2,"enums"),s()),e&2){let o=r.$implicit,i=h();a(),u(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function $c(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Xc(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToAllData))}}function Yc(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Zc(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.userAccessAdminAllowToProfessionalData))}}function ed(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function td(e,r){if(e&1&&(l(0,"mat-cell"),v(1,"i",60),S(2,"boolclass"),s()),e&2){let o=r.$implicit;a(),p("ngClass",T(2,1,o.rememberOnDevice))}}function id(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function nd(e,r){if(e&1&&(l(0,"mat-cell",63),m(1),S(2,"localeDateTime"),s()),e&2){let o=r.$implicit;a(),u(" ",T(2,1,o.createdDate)," ")}}function od(e,r){if(e&1&&(l(0,"mat-header-cell",59),m(1),s()),e&2){let o=h();a(),u(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function rd(e,r){if(e&1&&(l(0,"mat-cell",64),m(1),S(2,"persianDate"),s()),e&2){let o=r.$implicit,i=h();p("ngStyle",ue(4,Rc,i.publicHelper.RowStyleExpireDate(o.expireDate))),a(),u(" ",T(2,2,o.expireDate)," ")}}function ad(e,r){e&1&&(l(0,"mat-header-cell"),m(1),S(2,"translate"),s()),e&2&&(a(),u(" ",T(2,1,"TITLE.OPTION")," "))}function sd(e,r){if(e&1&&(l(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),m(3,"more_vert"),s()(),v(4,"mat-menu",null,2),s()),e&2){let o=z(5);a(),p("matMenuTriggerFor",o)}}function ld(e,r){e&1&&v(0,"mat-header-row")}function cd(e,r){if(e&1){let o=M();l(0,"mat-row",67),A("click",function(){let n=C(o).$implicit,t=h();return _(t.onActionTableRowSelect(n))}),s()}if(e&2){let o=r.$implicit,i=r.dataIndex,n=h();Ce("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var mn=(()=>{let r=class r extends Ye{constructor(i,n,t,d,f,c,k,V,U,ae,ge){if(super(i,new ht,ae,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=t,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=ae,this.dialog=ge,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=B.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.cmsApiStoreSubscribe=this.publicHelper.getProcessOrderOnChange().subscribe({next:i=>{var n=i.find(t=>t.contentAction=="core_token_online_update_list"&&!t.isRun);n&&n?.id?.length>0&&(n.isRun=!0,this.publicHelper.setProcessOrder(n),this.DataGetAll(t=>{n.isComplate=!0,n.isSuccess=t,this.publicHelper.setProcessOrder(n)}))}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(i=()=>{}){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ht);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(d=>{this.publicHelper.processService.processStart(n,d,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllLiveConnection(t).subscribe({next:d=>{d.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(d.access),this.dataModelResult=d,this.tableSource.data=d.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(d.access)},1e3)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(n),i&&i(!0)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(n,!1),i&&i(!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=B.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=B.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(yi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],t=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,t).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Me.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(g(Ct),g(j),g(Se),g(ve),g(F),g(P),g(N),g(Ie),g(ke),g(W),g(be))},r.\u0275cmp=O({type:r,selectors:[["app-coretoken-notification-list-online"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,t){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return C(d),R(t.viewGuideNotice,c)||(t.viewGuideNotice=c),_(c)}),A("optionOnActionButtonMemoRow",function(){return C(d),_(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return C(d),_(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return C(d),_(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return C(d),_(t.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),ne(3,5)(4,6),w(5,7),I(6,xc,2,0,"a",8),l(7,"a",9),A("click",function(){return C(d),_(t.viewGuideNotice=!t.viewGuideNotice)}),v(8,"i",10),s(),l(9,"a",9),A("click",function(){return C(d),_(t.onActionButtonReload())}),v(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return C(d),_(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),v(13,"mat-slide-toggle",14),m(14),S(15,"translate"),s(),l(16,"a",13),A("click",function(){return C(d),_(t.onActionButtonStatist())}),v(17,"mat-slide-toggle",14),m(18),S(19,"translate"),s(),b(),ne(20,15),w(21,16),I(22,Dc,7,3,"div",17)(23,Lc,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewSiteRow(t.tableRowSelected))}),v(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),S(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return C(d),_(t.onActionButtonViewUserRow(t.tableRowSelected))}),v(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),S(37,"translate"),s()(),I(38,Uc,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return C(d),R(t.optionsSearch,c)||(t.optionsSearch=c),_(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return C(d),R(t.optionsStatist,c)||(t.optionsStatist=c),_(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){C(d);let c=z(44);return _(t.onTableSortData(c))}),w(45,27),I(46,Vc,2,1,"mat-header-cell",28)(47,Bc,2,1,"mat-cell",29),b(),w(48,30),I(49,Oc,2,1,"mat-header-cell",28)(50,Pc,4,5,"mat-cell",29),b(),w(51,31),I(52,Gc,2,1,"mat-header-cell",28)(53,Nc,4,5,"mat-cell",29),b(),w(54,32),I(55,Hc,2,1,"mat-header-cell",28)(56,Fc,2,1,"mat-cell",29),b(),w(57,33),I(58,jc,2,1,"mat-header-cell",28)(59,qc,5,7,"mat-cell",34),b(),w(60,35),I(61,Qc,2,1,"mat-header-cell",28)(62,zc,3,4,"mat-cell",29),b(),w(63,36),I(64,Jc,2,1,"mat-header-cell",28)(65,Kc,3,4,"mat-cell",29),b(),w(66,37),I(67,$c,2,1,"mat-header-cell",28)(68,Xc,3,3,"mat-cell",29),b(),w(69,38),I(70,Yc,2,1,"mat-header-cell",28)(71,Zc,3,3,"mat-cell",29),b(),w(72,39),I(73,ed,2,1,"mat-header-cell",28)(74,td,3,3,"mat-cell",29),b(),w(75,40),I(76,id,2,1,"mat-header-cell",28)(77,nd,3,3,"mat-cell",41),b(),w(78,42),I(79,od,2,1,"mat-header-cell",28)(80,rd,3,6,"mat-cell",43),b(),w(81,44),I(82,ad,3,3,"mat-header-cell",45)(83,sd,6,1,"mat-cell",46),b(),I(84,ld,1,0,"mat-header-row",47)(85,cd,1,6,"mat-row",48),s(),b(),w(86,49),l(87,"mat-paginator",50,1),A("page",function(c){return C(d),_(t.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",t.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.id),a(6),p("ngIf",t.requestLinkSiteId>0),a(7),p("checked",t.optionsSearch.data.show),a(),u("",T(15,26,"ACTION.SEARCH")," "),a(3),p("checked",t.optionsStatist.data.show),a(),u("",T(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow),a(),p("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessDeleteRow),a(6),L(T(30,30,"ACTION.SITE")),a(7),L(T(37,32,"ACTION.USER")),a(2),p("ngIf",(t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessWatchRow)&&(t.tableRowSelected==null||t.tableRowSelected.id==null?null:t.tableRowSelected.id.length)>0),a(2),y("options",t.optionsSearch),a(),y("options",t.optionsStatist),a(2),p("dataSource",t.tableSource),a(41),p("matHeaderRowDef",t.tabledisplayedColumns),a(),p("matRowDefColumns",t.tabledisplayedColumns),a(2),p("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,kc)))},dependencies:[Ze,G,lt,we,Ae,he,xe,De,Le,Ue,Ve,Be,Oe,Ge,je,Ne,Pe,We,He,Fe,qe,Qe,$e,Xe,Ke,ct,Te,H,ut,Je,ye,ze,Re,mt,dt,it],encapsulation:2});let e=r;return e})();var dd=[{path:"",component:Wi,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:Ci,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:Ci,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:Ci,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:Ci,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:gi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:_i,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:ji,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:$i,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:zi,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:en,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"online",component:mn,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:Zi,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],pn=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=vi({type:r}),r.\u0275inj=Ti({imports:[Ri.forChild(dd),Ri]});let e=r;return e})();var R0=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=vi({type:r}),r.\u0275inj=Ti({providers:[Pi,J,Mt,It,Et,At,kt,wt,Ct,bt,Gi,Se],imports:[pn,xi,Vi,Bi.withConfig({warnOnNgModelWithFormControl:"never"}),Ni]});let e=r;return e})();export{R0 as CoreTokenModule};
