import{b as un,c as fn,d as gn,e as eo}from"./chunk-5FWS57HE.js";import{a as ki}from"./chunk-CARLNGNE.js";import{a as At}from"./chunk-M7RG2YAY.js";import{a as Xe}from"./chunk-CUJQBGMA.js";import{a as kt}from"./chunk-25PMRGAC.js";import{b as mo}from"./chunk-LT5AIY2O.js";import{a as In}from"./chunk-KDU73OUF.js";import{$a as gi,$b as bi,$c as Li,Bd as yt,C as ui,Dc as Ut,Ea as Zn,Ec as Ti,Ed as Cn,F as Ot,G as Nt,Gb as Mi,H as Ft,Hb as Ci,Ib as Ii,Jd as Tt,K as J,Ka as Wt,Kd as co,L as he,La as ce,Lb as ro,M as _e,Ma as me,Mc as Se,Na as We,O as Kn,Oc as bt,P as Jn,Pc as lo,Ta as Ce,Ua as $n,Uc as vt,Vb as at,Wa as q,Wb as lt,Xb as st,Yb as dt,Zb as ct,_a as fi,_b as mt,aa as Ee,ab as hi,ac as vi,bc as wi,ca as pn,cc as Ei,cd as ke,da as Gt,dc as yi,ec as ao,fa as Xn,fc as pt,gc as ut,hc as ft,ic as gt,id as wt,jc as ht,kc as _t,lb as Je,lc as St,m as mi,mb as oo,mc as Mt,md as so,nb as O,nc as Ct,o as Pt,oc as It,p as z,pb as Sn,qc as Ni,rc as Fi,s as Q,sa as Ge,sb as rt,sc as Gi,t as be,tb as N,tc as Wi,uc as Hi,ud as Et,v as ve,vb as U,vc as qi,w as pi,wc as ji,x as ie,xc as Ui,y as we,yc as zi,z as Ve,zb as Mn}from"./chunk-LVXK2MLX.js";import{b as G,c as H,q as Pe}from"./chunk-3OCNSEA2.js";import{$g as qt,Aa as Ue,Ab as Bt,Cd as Qe,Db as $,Dc as Vt,Dd as j,Eb as ee,Fb as te,Fc as Oe,Hd as le,Ia as K,Ib as R,Id as Te,Jd as ne,Kb as d,Ke as io,L as ri,La as r,Lb as v,Lc as Qn,Ma as b,Mb as C,Nb as Re,O as ai,Ob as Un,Qb as y,Qd as oe,Rb as T,Sb as k,Ud as to,Vb as Be,W as li,Wb as je,X as si,Yb as h,Za as Z,Zb as _,Zg as no,_b as zn,_g as He,ab as I,ah as Kt,bb as et,bh as Jt,cb as p,ch as nt,da as dn,db as mn,dh as Di,dq as re,eb as pe,eh as jt,fd as ze,fh as _i,g as ii,gc as F,gd as Yn,gh as Si,hd as Ne,hh as ot,ih as Bi,ja as P,ka as cn,kd as xn,lb as a,ld as it,mb as l,nb as M,nh as Yt,ob as x,oh as Lt,pb as L,ph as Zt,qb as Le,qd as Ht,qh as Ke,ra as f,rb as E,rh as Vi,sa as g,sh as Rt,td as Ze,th as Pi,u as ni,ub as w,uh as Dt,v as oi,vd as ue,vh as $t,wb as u,wh as Oi,xb as di,xc as tt,xh as hn,yb as ci,yc as Fe,yh as _n,zb as A,zc as W,zd as ye}from"./chunk-NH5FUIDQ.js";var po=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement"]],decls:1,vars:0,template:function(t,e){t&1&&M(0,"router-outlet")},dependencies:[Yn],encapsulation:2});let i=s;return i})();var zo=["*"];function Qo(i,s){if(i&1&&(a(0,"label",8),d(1),l()),i&2){let o=u();Bt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function Ko(i,s){if(i&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),i&2){let o=s.$implicit,n=u();p("value",o)("disabled",n.optionDisabled),r(2),v(n.displayOption(o))}}function Jo(i,s){if(i&1){let o=E();a(0,"mat-icon",10),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),d(1,"close"),l()}}var bn=(()=>{let s=class s{constructor(n,t,e,m,S,c){this.coreEnumService=n,this.cmsToastrService=t,this.translate=e,this.cdr=m,this.publicHelper=S,this.categoryService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new j,this.dataModelSelect=new Lt,this.formControl=new pi,this.optionDisabled=!1,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(li(""),ri(1500),ai(),si(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.id+"":void 0}displayOption(n){return n?n.id+"":void 0}DataGetAll(n){return ii(this,null,function*(){let t=new Te;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=n,e.searchType=Ht.Contains,e.clauseType=it.Or,t.filters.push(e),n&&typeof+n=="number"&&+n>0&&(e=new le,e.propertyName="Id",e.value=n,e.searchType=Ht.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructorInfoAreaId)}),yield ni(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(n){return this.filteredOptions.pipe(oi(t=>(t.find(e=>e.id===n.id)||t.push(n),t)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===n)){let t=this.dataModelResult.listItems.find(e=>e.id===n);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(n).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof n==typeof Lt){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Lt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(b(oe),b(O),b(G),b(F),b(N),b(qt))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-selector"]],inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:zo,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let m=E();di(),a(0,"div",1),M(1,"app-progress-spinner",2),I(2,Qo,2,3,"label",3),M(3,"input",4),a(4,"mat-autocomplete",5,0),w("optionSelected",function(c){return f(m),g(e.onActionSelect(c.option.value))}),I(6,Ko,3,3,"mat-option",6),h(7,"async"),l(),I(8,Jo,2,0,"mat-icon",7),ci(9),l()}if(t&2){let m=R(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Bt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",_(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,W,z,Q,ui,Ci,mi,Ii,Gt,Ce,q,U,Oe],encapsulation:2});let i=s;return i})();var Xo=["vform"];function Yo(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",39),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zo(i,s){if(i&1&&(a(0,"option",40),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function $o(i,s){i&1&&(a(0,"mat-error"),d(1," AccountingType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function er(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function tr(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",41),d(2),l(),a(3,"textarea",42,9),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"           "),l(),a(6,"em"),d(7),l(),I(8,er,5,4,"mat-error",20),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function ir(i,s){i&1&&M(0,"i",43)}function nr(i,s){i&1&&M(0,"i",44)}function or(i,s){i&1&&(a(0,"mat-error"),d(1," Debtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function rr(i,s){i&1&&M(0,"i",43)}function ar(i,s){i&1&&M(0,"i",44)}function lr(i,s){i&1&&(a(0,"mat-error"),d(1," Creditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function sr(i,s){i&1&&(a(0,"mat-error"),d(1," FishNumber is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function dr(i,s){i&1&&(a(0,"mat-error"),d(1," TokenNumber is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function cr(i,s){i&1&&(a(0,"mat-error"),d(1," ReceiptCode is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function mr(i,s){if(i&1){let o=E();a(0,"div",45)(1,"button",46),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",47),d(3),h(4,"translate"),l(),a(5,"button",48),M(6,"i",49),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var fo=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B,V){super(m,new Yt,D,V),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=c,this.publicHelper=D,this.cdr=B,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new j,this.dataModel=new Yt,this.formInfo=new ne,this.dataModelEnumSharingAccountingTypeResult=new j,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess(),this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(n=>{this.dataModelEnumSharingAccountingTypeResult=n})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorAccount(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Account_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementAccountingId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(Kt),b(He),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-add"]],viewQuery:function(t,e){if(t&1&&$(Xo,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:75,vars:56,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",10),M(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",14,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,Yo,1,5,"app-cms-enum-record-status-selector",15),a(11,"app-linkmanagement-accounting-selector",16),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorAccount(c))}),l(),a(13,"div",17)(14,"select",18,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.accountingType,c)||(e.dataModel.accountingType=c),g(c)}),I(16,Zo,2,2,"option",19),l(),a(17,"em"),d(18),h(19,"translate"),l(),I(20,$o,5,3,"mat-error",20),l(),I(21,tr,9,5,"div",21),a(22,"div",17)(23,"label",22),d(24),l(),a(25,"input",23,2),h(27,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.debtor,c)||(e.dataModel.debtor=c),g(c)}),l(),I(28,ir,1,0,"i",24)(29,nr,1,0,"i",25)(30,or,5,3,"mat-error",20),l(),a(31,"div",17)(32,"label",26),d(33),l(),a(34,"input",27,3),h(36,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.creditor,c)||(e.dataModel.creditor=c),g(c)}),l(),I(37,rr,1,0,"i",24)(38,ar,1,0,"i",25)(39,lr,5,3,"mat-error",20),l(),a(40,"div",17)(41,"label",28),d(42),l(),a(43,"input",29,4),k("ngModelChange",function(c){return f(m),T(e.dataModel.linkExternalShopInvoiceSaleDetailId,c)||(e.dataModel.linkExternalShopInvoiceSaleDetailId=c),g(c)}),l()(),a(45,"div",17)(46,"label",30),d(47),l(),a(48,"input",31,5),k("ngModelChange",function(c){return f(m),T(e.dataModel.rowNumber,c)||(e.dataModel.rowNumber=c),g(c)}),l()(),a(50,"div",17)(51,"label",32),d(52),l(),a(53,"input",33,6),k("ngModelChange",function(c){return f(m),T(e.dataModel.fishNumber,c)||(e.dataModel.fishNumber=c),g(c)}),l(),a(55,"em"),d(56),l(),I(57,sr,5,3,"mat-error",20),l(),a(58,"div",17)(59,"label",34),d(60),l(),a(61,"input",35,7),k("ngModelChange",function(c){return f(m),T(e.dataModel.tokenNumber,c)||(e.dataModel.tokenNumber=c),g(c)}),l(),a(63,"em"),d(64),l(),I(65,dr,5,3,"mat-error",20),l(),a(66,"div",17)(67,"label",36),d(68),l(),a(69,"input",37,8),k("ngModelChange",function(c){return f(m),T(e.dataModel.receiptCode,c)||(e.dataModel.receiptCode=c),g(c)}),l(),a(71,"em"),d(72),l(),I(73,cr,5,3,"mat-error",20),l(),I(74,mr,9,7,"div",38),l()()()}if(t&2){let m=R(15),S=R(26),c=R(35),D=R(54),B=R(62),V=R(70);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkManagementAccountingId!=null&&e.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",e.dataModel.linkManagementAccountingId)("optionPlaceholder",_(12,48,"TITLE.Account")),r(3),y("ngModel",e.dataModel.accountingType),r(2),p("ngForOf",e.dataModelEnumSharingAccountingTypeResult.listItems),r(2),v(_(19,50,"TITLE.Select_type_of_content")),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",_(27,52,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",_(36,54,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),y("ngModel",e.dataModel.linkExternalShopInvoiceSaleDetailId),r(4),v(e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),y("ngModel",e.dataModel.rowNumber),r(4),v(e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),y("ngModel",e.dataModel.fishNumber),r(3),C("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),y("ngModel",e.dataModel.tokenNumber),r(3),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),y("ngModel",e.dataModel.receiptCode),r(3),C("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Ot,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,bn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var pr=["vform"];function ur(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function fr(i,s){if(i&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(2,"i",12),d(3),h(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(6,"i",14),d(7),h(8,"translate"),l()()}if(i&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(4,3,"ACTION.DELETE")," "),r(4),C(" ",_(8,5,"ACTION.CANCEL")," ")}}var go=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.linkManagementAccountingDetailService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new j,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.setAccessLoad(),this.linkManagementAccountingDetailService.setAccessDataType(ye.Editor),this.linkManagementAccountingDetailService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementAccountingDetailService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(Kt),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-delete"]],viewQuery:function(t,e){if(t&1&&$(pr,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,ur,6,3,"ng-container",5)(10,fr,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,ie,q,U,H],encapsulation:2});let i=s;return i})();var gr=["vform"];function hr(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",39),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _r(i,s){if(i&1&&(a(0,"option",40),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Sr(i,s){i&1&&(a(0,"mat-error"),d(1," AccountingType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Mr(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Cr(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",41),d(2),l(),a(3,"textarea",42,9),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"         "),l(),a(6,"em"),d(7),l(),I(8,Mr,5,4,"mat-error",20),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Ir(i,s){i&1&&M(0,"i",43)}function br(i,s){i&1&&M(0,"i",44)}function vr(i,s){i&1&&(a(0,"mat-error"),d(1," Debtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function wr(i,s){i&1&&M(0,"i",43)}function Er(i,s){i&1&&M(0,"i",44)}function yr(i,s){i&1&&(a(0,"mat-error"),d(1," Creditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Tr(i,s){i&1&&(a(0,"mat-error"),d(1," FishNumber is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function kr(i,s){i&1&&(a(0,"mat-error"),d(1," TokenNumber is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ar(i,s){i&1&&(a(0,"mat-error"),d(1," ReceiptCode is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function xr(i,s){if(i&1){let o=E();a(0,"div",45)(1,"button",46),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",47),d(3),h(4,"translate"),l(),a(5,"button",48),M(6,"i",49),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var ho=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B,V){super(m,new Yt,D,V),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.linkManagementEnumService=c,this.publicHelper=D,this.cdr=B,this.translate=V,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Yt,this.formInfo=new ne,this.dataModelEnumSharingAccountingTypeResult=new j,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(n=>{this.dataModelEnumSharingAccountingTypeResult=n})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorAccount(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Account_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementAccountingId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(Kt),b(O),b(He),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-edit"]],viewQuery:function(t,e){if(t&1&&$(gr,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:75,vars:56,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",10),M(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",14,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,hr,1,5,"app-cms-enum-record-status-selector",15),a(11,"app-linkmanagement-accounting-selector",16),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorAccount(c))}),l(),a(13,"div",17)(14,"select",18,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.accountingType,c)||(e.dataModel.accountingType=c),g(c)}),I(16,_r,2,2,"option",19),l(),a(17,"em"),d(18),h(19,"translate"),l(),I(20,Sr,5,3,"mat-error",20),l(),I(21,Cr,9,5,"div",21),a(22,"div",17)(23,"label",22),d(24),l(),a(25,"input",23,2),h(27,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.debtor,c)||(e.dataModel.debtor=c),g(c)}),l(),I(28,Ir,1,0,"i",24)(29,br,1,0,"i",25)(30,vr,5,3,"mat-error",20),l(),a(31,"div",17)(32,"label",26),d(33),l(),a(34,"input",27,3),h(36,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.creditor,c)||(e.dataModel.creditor=c),g(c)}),l(),I(37,wr,1,0,"i",24)(38,Er,1,0,"i",25)(39,yr,5,3,"mat-error",20),l(),a(40,"div",17)(41,"label",28),d(42),l(),a(43,"input",29,4),k("ngModelChange",function(c){return f(m),T(e.dataModel.linkExternalShopInvoiceSaleDetailId,c)||(e.dataModel.linkExternalShopInvoiceSaleDetailId=c),g(c)}),l()(),a(45,"div",17)(46,"label",30),d(47),l(),a(48,"input",31,5),k("ngModelChange",function(c){return f(m),T(e.dataModel.rowNumber,c)||(e.dataModel.rowNumber=c),g(c)}),l()(),a(50,"div",17)(51,"label",32),d(52),l(),a(53,"input",33,6),k("ngModelChange",function(c){return f(m),T(e.dataModel.fishNumber,c)||(e.dataModel.fishNumber=c),g(c)}),l(),a(55,"em"),d(56),l(),I(57,Tr,5,3,"mat-error",20),l(),a(58,"div",17)(59,"label",34),d(60),l(),a(61,"input",35,7),k("ngModelChange",function(c){return f(m),T(e.dataModel.tokenNumber,c)||(e.dataModel.tokenNumber=c),g(c)}),l(),a(63,"em"),d(64),l(),I(65,kr,5,3,"mat-error",20),l(),a(66,"div",17)(67,"label",36),d(68),l(),a(69,"input",37,8),k("ngModelChange",function(c){return f(m),T(e.dataModel.receiptCode,c)||(e.dataModel.receiptCode=c),g(c)}),l(),a(71,"em"),d(72),l(),I(73,Ar,5,3,"mat-error",20),l(),I(74,xr,9,7,"div",38),l()()()}if(t&2){let m=R(15),S=R(26),c=R(35),D=R(54),B=R(62),V=R(70);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkManagementAccountingId!=null&&e.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",e.dataModel.linkManagementAccountingId)("optionPlaceholder",_(12,48,"TITLE.Account")),r(3),y("ngModel",e.dataModel.accountingType),r(2),p("ngForOf",e.dataModelEnumSharingAccountingTypeResult.listItems),r(2),v(_(19,50,"TITLE.Select_type_of_content")),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",_(27,52,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",_(36,54,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),y("ngModel",e.dataModel.linkExternalShopInvoiceSaleDetailId),r(4),v(e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),y("ngModel",e.dataModel.rowNumber),r(4),v(e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),y("ngModel",e.dataModel.fishNumber),r(3),C("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),y("ngModel",e.dataModel.tokenNumber),r(3),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),y("ngModel",e.dataModel.receiptCode),r(3),C("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Ot,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,bn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var Lr=()=>["expandedTitle"],Rr=()=>["expandedDetail"],Dr=()=>[5,10,20,100],_o=i=>({display:i});function Br(i,s){if(i&1){let o=E();a(0,"div",41)(1,"a",42),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",43)(3,"br"),l(),a(4,"p",44),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Vr(i,s){if(i&1){let o=E();a(0,"div",41)(1,"a",45),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",46)(3,"br"),l(),a(4,"p",44),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function Pr(i,s){if(i&1){let o=E();a(0,"div",41)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",48)(3,"br"),l(),a(4,"p",44),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Or(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.MENU")," "))}function Nr(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",49),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),M(2,"i",50),l()()}}function Fr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Gr(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function Wr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hr(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function qr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function jr(i,s){if(i&1&&M(0,"select",54),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,_o,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Ur(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",52),h(2,"statusIconClass"),I(3,jr,1,5,"select",53),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function zr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Qr(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function Kr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Jr(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function Xr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle," ")}}function Yr(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.debtor," ")}}function Zr(i,s){if(i&1&&(a(0,"mat-header-cell",51),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle," ")}}function $r(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.creditor," ")}}function ea(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function ta(i,s){if(i&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function ia(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.title," ")}}function na(i,s){if(i&1&&(M(0,"img",61),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function oa(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),l()()),i&2){let o=u().$implicit,n=u();r(3),Re(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function ra(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,na,2,3,"img",57),l(),a(6,"th"),d(7),a(8,"span",58),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),M(9,"i",59),l()()(),I(10,oa,4,2,"tr",60),a(11,"tr"),M(12,"td")(13,"td"),l()()()()}if(i&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),C(" ",o.id," "),r(),p("cdkCopyToClipboard",o.id),r(2),p("ngIf",o.description)}}function aa(i,s){i&1&&M(0,"mat-header-row")}function la(i,s){if(i&1){let o=E();a(0,"mat-row",62),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function sa(i,s){if(i&1){let o=E();a(0,"mat-row",62),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function da(i,s){if(i&1){let o=E();a(0,"mat-row",63),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,_o,o.expanded===!0?"":"none"))}}var Bn=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V,Y){if(super(n,new Yt,V,S,c),this.contentService=n,this.cmsToastrService=t,this.activatedRoute=e,this.router=m,this.tokenHelper=S,this.translate=c,this.cdr=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Y,this.requestLinkManagementAccountingId=0,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementAccountingId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementAccountingId")),this.optionsSearch.parentMethods={onSubmit:X=>this.onSubmitOptionsSearch(X)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkManagementAccountingId>0){let X=new le;X.propertyName="LinkManagementAccountingId",X.value=this.requestLinkManagementAccountingId,this.filteModelContent.filters.push(X)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){let n=new Wt;n.height="90%",n.disableClose=!0,n.autoFocus=!0,n.data={},this.dialog.open(fo,n).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(go,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(b(Kt),b(O),b(ze),b(Ne),b(Pe),b(G),b(F),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-AccountingDetail-list"]],features:[Z],decls:68,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),d(2," ---------------------- "),L(),Le(3,5)(4,6),x(5,7),a(6,"a",8),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),l(),a(8,"a",8),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(9,"i",10),l(),L(),x(10,11),a(11,"a",12),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),a(15,"a",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),L(),x(19,14),I(20,Br,7,3,"div",15),L(),x(21,16),I(22,Vr,7,3,"div",15)(23,Pr,7,3,"div",15),L(),x(24,17),a(25,"app-cms-search-list",18),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(26,"app-cms-statist-list",18),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(27,19),a(28,"mat-table",20,0),w("matSortChange",function(){f(m);let c=R(29);return g(e.onTableSortData(c))}),x(30,21),I(31,Or,3,3,"mat-header-cell",22)(32,Nr,3,0,"mat-cell",23),L(),x(33,24),I(34,Fr,2,1,"mat-header-cell",25)(35,Gr,2,1,"mat-cell",23),L(),x(36,26),I(37,Wr,2,1,"mat-header-cell",25)(38,Hr,4,5,"mat-cell",23),L(),x(39,27),I(40,qr,2,1,"mat-header-cell",25)(41,Ur,4,4,"mat-cell",23),L(),x(42,28),I(43,zr,2,1,"mat-header-cell",25)(44,Qr,3,3,"mat-cell",23),L(),x(45,29),I(46,Kr,2,1,"mat-header-cell",25)(47,Jr,3,3,"mat-cell",23),L(),x(48,30),I(49,Xr,2,1,"mat-header-cell",25)(50,Yr,2,1,"mat-cell",23),L(),x(51,31),I(52,Zr,2,1,"mat-header-cell",25)(53,$r,2,1,"mat-cell",23),L(),x(54,32),I(55,ea,3,3,"mat-header-cell",22)(56,ta,6,1,"mat-cell",33),L(),x(57,34),I(58,ia,2,1,"mat-cell",23),L(),x(59,35),I(60,ra,14,4,"mat-cell",23),L(),I(61,aa,1,0,"mat-header-row",36)(62,la,1,6,"mat-row",37)(63,sa,1,6,"mat-row",37)(64,da,1,9,"mat-row",38),l(),L(),x(65,39),a(66,"mat-paginator",40,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),p("checked",e.optionsSearch.data.show),r(),C("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(33),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(30,Lr)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(31,Rr)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(32,Dr)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Mi,Et,yt,wt,Ut,Oe,H,bt,Se,Tt,vt],encapsulation:2});let i=s;return i})();var ca=["*"];function ma(i,s){if(i&1&&(a(0,"label",8),d(1),l()),i&2){let o=u();Bt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function pa(i,s){if(i&1&&(a(0,"mat-option",9)(1,"span"),d(2),l()()),i&2){let o=s.$implicit,n=u();p("value",o),r(2),v(n.displayOption(o))}}function ua(i,s){if(i&1){let o=E();a(0,"mat-icon",10),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),d(1,"close"),l()}}var Ai=(()=>{let s=class s{constructor(n,t,e,m,S,c){this.coreEnumService=n,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.categoryService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new j,this.dataModelSelect=new Rt,this.formControl=new pi,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(li(""),ri(1500),ai(),si(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.id+"":void 0}displayOption(n){return n?n.id+"":void 0}DataGetAll(n){return ii(this,null,function*(){let t=new Te;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=n,e.searchType=Ht.Contains,e.clauseType=it.Or,t.filters.push(e),n&&typeof+n=="number"&&+n>0&&(e=new le,e.propertyName="Id",e.value=n,e.searchType=Ht.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructorInfoAreaId)}),yield ni(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(n){return this.filteredOptions.pipe(oi(t=>(t.find(e=>e.id===n.id)||t.push(n),t)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===n)){let t=this.dataModelResult.listItems.find(e=>e.id===n);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(n).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof n==typeof Rt){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(b(oe),b(O),b(F),b(N),b(G),b(jt))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:ca,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let m=E();di(),a(0,"div",1),M(1,"app-progress-spinner",2),I(2,ma,2,3,"label",3),M(3,"input",4),a(4,"mat-autocomplete",5,0),w("optionSelected",function(c){return f(m),g(e.onActionSelect(c.option.value))}),I(6,pa,3,2,"mat-option",6),h(7,"async"),l(),I(8,ua,2,0,"mat-icon",7),ci(9),l()}if(t&2){let m=R(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Bt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",_(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,W,z,Q,ui,Ci,mi,Ii,Gt,Ce,q,U,Oe],encapsulation:2});let i=s;return i})();var fa=["vform"];function ga(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",28),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ha(i,s){if(i&1){let o=E();a(0,"div",29)(1,"div",30)(2,"h5",31),d(3),l()(),a(4,"div",32)(5,"div",33)(6,"input",34),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isCertainDocument,t)||(e.dataModel.isCertainDocument=t),g(t)}),l(),M(7,"label",35),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isCertainDocument==null?null:o.fieldsInfo.isCertainDocument.fieldTitle,""),r(3),y("ngModel",o.dataModel.isCertainDocument)}}function _a(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Sa(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",36),d(2),l(),a(3,"textarea",37,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"             "),l(),a(6,"em"),d(7),l(),I(8,_a,5,4,"mat-error",20),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Ma(i,s){i&1&&M(0,"i",38)}function Ca(i,s){i&1&&M(0,"i",39)}function Ia(i,s){i&1&&(a(0,"mat-error"),d(1," Debtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function ba(i,s){i&1&&M(0,"i",38)}function va(i,s){i&1&&M(0,"i",39)}function wa(i,s){i&1&&(a(0,"mat-error"),d(1," Creditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ea(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",40),d(2),l(),a(3,"input",41),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.endDate,t)||(e.dataModel.endDate=t),g(t)}),l(),M(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),l()}if(i&2){let o=R(6),n=u();r(2),v(n.fieldsInfo.endDate==null?null:n.fieldsInfo.endDate.fieldTitle),r(),p("matDatepicker",o),y("ngModel",n.dataModel.endDate),r(),p("for",o)}}function ya(i,s){if(i&1){let o=E();a(0,"div",42)(1,"button",43),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",44),d(3),h(4,"translate"),l(),a(5,"button",45),M(6,"i",46),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var So=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B){super(m,new Lt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new j,this.dataModel=new Lt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorSelectLinkManagementMemberId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementMemberId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(qt),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-add"]],viewQuery:function(t,e){if(t&1&&$(fa,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:42,vars:34,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",10,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,ga,1,5,"app-cms-enum-record-status-selector",11),a(11,"app-linkmanagement-member-selector",12),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(c))}),l(),I(13,ha,8,2,"div",13)(14,Sa,9,5,"div",14),a(15,"div",15)(16,"label",16),d(17),l(),a(18,"input",17,1),h(20,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.debtor,c)||(e.dataModel.debtor=c),g(c)}),l(),I(21,Ma,1,0,"i",18)(22,Ca,1,0,"i",19)(23,Ia,5,3,"mat-error",20),l(),a(24,"div",15)(25,"label",21),d(26),l(),a(27,"input",22,2),h(29,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.creditor,c)||(e.dataModel.creditor=c),g(c)}),l(),I(30,ba,1,0,"i",18)(31,va,1,0,"i",19)(32,wa,5,3,"mat-error",20),l(),a(33,"div",15)(34,"label",23),d(35),l(),a(36,"input",24),k("ngModelChange",function(c){return f(m),T(e.dataModel.beginDate,c)||(e.dataModel.beginDate=c),g(c)}),l(),M(37,"mat-datepicker-toggle",25)(38,"mat-datepicker",26,3),l(),I(40,Ea,7,4,"div",14)(41,ya,9,7,"div",27),l()()()}if(t&2){let m=R(19),S=R(28),c=R(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",_(12,28,"TITLE.User_Account")),r(2),p("ngIf",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",_(20,30,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",_(29,32,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.beginDate==null?null:e.fieldsInfo.beginDate.fieldTitle),r(),p("matDatepicker",c),y("ngModel",e.dataModel.beginDate),r(),p("for",c),r(3),p("ngIf",e.fieldsInfo.endDate==null?null:e.fieldsInfo.endDate.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Ve,Pt,Q,be,J,he,_e,ie,ve,fi,gi,hi,Ee,Gt,q,ke,U,Ai,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var Ta=["vform"];function ka(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function Aa(i,s){if(i&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(2,"i",12),d(3),h(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(6,"i",14),d(7),h(8,"translate"),l()()}if(i&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(4,3,"ACTION.DELETE")," "),r(4),C(" ",_(8,5,"ACTION.CANCEL")," ")}}var Mo=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.linkManagementAccountingService=m,this.cdr=S,this.cmsToastrService=c,this.translate=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new j,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementAccountingService.setAccessLoad(),this.linkManagementAccountingService.setAccessDataType(ye.Editor),this.linkManagementAccountingService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementAccountingService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(qt),b(F),b(O),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-delete"]],viewQuery:function(t,e){if(t&1&&$(Ta,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,ka,6,3,"ng-container",5)(10,Aa,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,ie,q,U,H],encapsulation:2});let i=s;return i})();var xa=["vform"];function La(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",28),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ra(i,s){if(i&1){let o=E();a(0,"div",29)(1,"div",30)(2,"h5",31),d(3),l()(),a(4,"div",32)(5,"div",33)(6,"input",34),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isCertainDocument,t)||(e.dataModel.isCertainDocument=t),g(t)}),l(),M(7,"label",35),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isCertainDocument==null?null:o.fieldsInfo.isCertainDocument.fieldTitle,""),r(3),y("ngModel",o.dataModel.isCertainDocument)}}function Da(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Ba(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",36),d(2),l(),a(3,"textarea",37,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"              "),l(),a(6,"em"),d(7),l(),I(8,Da,5,4,"mat-error",20),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Va(i,s){i&1&&M(0,"i",38)}function Pa(i,s){i&1&&M(0,"i",39)}function Oa(i,s){i&1&&(a(0,"mat-error"),d(1," Debtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Na(i,s){i&1&&M(0,"i",38)}function Fa(i,s){i&1&&M(0,"i",39)}function Ga(i,s){i&1&&(a(0,"mat-error"),d(1," Creditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Wa(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",40),d(2),l(),a(3,"input",41),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.endDate,t)||(e.dataModel.endDate=t),g(t)}),l(),M(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),l()}if(i&2){let o=R(6),n=u();r(2),v(n.fieldsInfo.endDate==null?null:n.fieldsInfo.endDate.fieldTitle),r(),p("matDatepicker",o),y("ngModel",n.dataModel.endDate),r(),p("for",o)}}function Ha(i,s){if(i&1){let o=E();a(0,"div",42)(1,"button",43),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",44),d(3),h(4,"translate"),l(),a(5,"button",45),M(6,"i",46),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Co=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B){super(m,new Lt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Lt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorSelectLinkManagementMemberId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementMemberId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(qt),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-edit"]],viewQuery:function(t,e){if(t&1&&$(xa,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:42,vars:34,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",6),M(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",10,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,La,1,5,"app-cms-enum-record-status-selector",11),a(11,"app-linkmanagement-member-selector",12),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(c))}),l(),I(13,Ra,8,2,"div",13)(14,Ba,9,5,"div",14),a(15,"div",15)(16,"label",16),d(17),l(),a(18,"input",17,1),h(20,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.debtor,c)||(e.dataModel.debtor=c),g(c)}),l(),I(21,Va,1,0,"i",18)(22,Pa,1,0,"i",19)(23,Oa,5,3,"mat-error",20),l(),a(24,"div",15)(25,"label",21),d(26),l(),a(27,"input",22,2),h(29,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.creditor,c)||(e.dataModel.creditor=c),g(c)}),l(),I(30,Na,1,0,"i",18)(31,Fa,1,0,"i",19)(32,Ga,5,3,"mat-error",20),l(),a(33,"div",15)(34,"label",23),d(35),l(),a(36,"input",24),k("ngModelChange",function(c){return f(m),T(e.dataModel.beginDate,c)||(e.dataModel.beginDate=c),g(c)}),l(),M(37,"mat-datepicker-toggle",25)(38,"mat-datepicker",26,3),l(),I(40,Wa,7,4,"div",14)(41,Ha,9,7,"div",27),l()()()}if(t&2){let m=R(19),S=R(28),c=R(39);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",_(12,28,"TITLE.User_Account")),r(2),p("ngIf",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",_(20,30,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",_(29,32,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.beginDate==null?null:e.fieldsInfo.beginDate.fieldTitle),r(),p("matDatepicker",c),y("ngModel",e.dataModel.beginDate),r(),p("for",c),r(3),p("ngIf",e.fieldsInfo.endDate==null?null:e.fieldsInfo.endDate.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Ve,Pt,Q,be,J,he,_e,ie,ve,fi,gi,hi,Ee,Gt,q,ke,U,Ai,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var qa=()=>["expandedTitle"],ja=()=>["expandedDetail"],Ua=()=>[5,10,20,100],Io=i=>({display:i});function za(i,s){if(i&1){let o=E();a(0,"div",17)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",48)(3,"br"),l(),a(4,"p",20),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Qa(i,s){if(i&1){let o=E();a(0,"div",17)(1,"a",8),w("click",function(){f(o);let t=u();return g(t.onActionButtonAccountingDetail())}),M(2,"i",21)(3,"br"),l(),a(4,"p",20),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DETAILS")))}function Ka(i,s){if(i&1){let o=E();a(0,"div",17)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",50)(3,"br"),l(),a(4,"p",20),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function Ja(i,s){if(i&1){let o=E();a(0,"div",17)(1,"a",51),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",52)(3,"br"),l(),a(4,"p",20),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Xa(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.MENU")," "))}function Ya(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",53),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),M(2,"i",54),l()()}}function Za(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function $a(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function el(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function tl(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function il(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function nl(i,s){if(i&1&&M(0,"select",58),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,Io,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function ol(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",56),h(2,"statusIconClass"),I(3,nl,1,5,"select",57),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function rl(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkManagementMemberId==null?null:o.fieldsInfo.linkManagementMemberId.fieldTitle," ")}}function al(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.linkManagementMemberId," ")}}function ll(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function sl(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function dl(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function cl(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function ml(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle," ")}}function pl(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.debtor," ")}}function ul(i,s){if(i&1&&(a(0,"mat-header-cell",55),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle," ")}}function fl(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.creditor," ")}}function gl(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function hl(i,s){if(i&1&&(a(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function _l(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"localeDate"),M(4,"br"),d(5),h(6,"translate"),h(7,"localeDate"),l()),i&2){let o=s.$implicit;r(),Re(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,o.createdDate)," "),r(4),Re(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,o.updatedDate)," ")}}function Sl(i,s){if(i&1&&(M(0,"img",65),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function Ml(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),l()()),i&2){let o=u().$implicit,n=u();r(3),Re(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function Cl(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),h(4,"localeDate"),l()()),i&2){let o=u().$implicit,n=u();r(3),Re(" ",n.fieldsInfo.beginDate==null?null:n.fieldsInfo.beginDate.fieldTitle," : ",_(4,2,o.beginDate)," ")}}function Il(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),h(4,"localeDate"),l()()),i&2){let o=u().$implicit,n=u();r(3),Re(" ",n.fieldsInfo.endDate==null?null:n.fieldsInfo.endDate.fieldTitle," : ",_(4,2,o.endDate)," ")}}function bl(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,Sl,2,3,"img",61),l(),a(6,"th")(7,"span",62),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),M(8,"i",63),l(),d(9),l()(),I(10,Ml,4,2,"tr",64)(11,Cl,5,4,"tr",64)(12,Il,5,4,"tr",64),a(13,"tr"),M(14,"td")(15,"td"),l()()()()}if(i&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",o.id),r(2),C(" ",o.id," "),r(),p("ngIf",o.description),r(),p("ngIf",o.beginDate),r(),p("ngIf",o.endDate)}}function vl(i,s){i&1&&M(0,"mat-header-row")}function wl(i,s){if(i&1){let o=E();a(0,"mat-row",66),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function El(i,s){if(i&1){let o=E();a(0,"mat-row",66),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function yl(i,s){if(i&1){let o=E();a(0,"mat-row",67),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Io,o.expanded===!0?"":"none"))}}var bo=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V){super(n,new Lt,B,m,c),this.contentService=n,this.cmsToastrService=t,this.router=e,this.tokenHelper=m,this.cdr=S,this.translate=c,this.pageInfo=D,this.publicHelper=B,this.dialog=V,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){let n=new Wt;n.height="90%",n.disableClose=!0,n.autoFocus=!0,n.data={},this.dialog.open(So,n).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Mo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}onActionButtonAccountingDetail(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(n),this.router.navigate(["/linkmanagement/accountingdetail/LinkManagementAccountingId",this.tableRowSelected.id])}};s.\u0275fac=function(t){return new(t||s)(b(qt),b(O),b(Ne),b(Pe),b(F),b(G),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-list"]],features:[Z],decls:86,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-chart-simple","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","LinkManagementMemberId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),d(2," ---------------------- "),L(),Le(3,5)(4,6),x(5,7),a(6,"a",8),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),l(),a(8,"a",8),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(9,"i",10),l(),L(),x(10,11),a(11,"a",12),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),a(15,"a",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),L(),x(19,14),I(20,za,7,3,"div",15)(21,Qa,7,3,"div",15),L(),x(22,16),I(23,Ka,7,3,"div",15)(24,Ja,7,3,"div",15),a(25,"div",17)(26,"a",18),w("click",function(){return f(m),g(e.onActionButtonComment(e.tableRowSelected))}),M(27,"i",19)(28,"br"),l(),a(29,"p",20),d(30),h(31,"translate"),l()(),a(32,"div",17)(33,"a",18),w("click",function(){return f(m),g(e.onActionButtonAccountingDetail(e.tableRowSelected))}),M(34,"i",21)(35,"br"),l(),a(36,"p",20),d(37),h(38,"translate"),l()(),L(),x(39,22),a(40,"app-cms-search-list",23),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(41,"app-cms-statist-list",23),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(42,24),a(43,"mat-table",25,0),w("matSortChange",function(){f(m);let c=R(44);return g(e.onTableSortData(c))}),x(45,26),I(46,Xa,3,3,"mat-header-cell",27)(47,Ya,3,0,"mat-cell",28),L(),x(48,29),I(49,Za,2,1,"mat-header-cell",30)(50,$a,2,1,"mat-cell",28),L(),x(51,31),I(52,el,2,1,"mat-header-cell",30)(53,tl,4,5,"mat-cell",28),L(),x(54,32),I(55,il,2,1,"mat-header-cell",30)(56,ol,4,4,"mat-cell",28),L(),x(57,33),I(58,rl,2,1,"mat-header-cell",30)(59,al,2,1,"mat-cell",28),L(),x(60,34),I(61,ll,2,1,"mat-header-cell",30)(62,sl,3,3,"mat-cell",28),L(),x(63,35),I(64,dl,2,1,"mat-header-cell",30)(65,cl,3,3,"mat-cell",28),L(),x(66,36),I(67,ml,2,1,"mat-header-cell",30)(68,pl,2,1,"mat-cell",28),L(),x(69,37),I(70,ul,2,1,"mat-header-cell",30)(71,fl,2,1,"mat-cell",28),L(),x(72,38),I(73,gl,3,3,"mat-header-cell",27)(74,hl,6,1,"mat-cell",39),L(),x(75,40),I(76,_l,8,12,"mat-cell",28),L(),x(77,41),I(78,bl,16,6,"mat-cell",28),L(),I(79,vl,1,0,"mat-header-row",42)(80,wl,1,6,"mat-row",43)(81,El,1,6,"mat-row",43)(82,yl,1,9,"mat-row",44),l(),L(),x(83,45),a(84,"mat-paginator",46,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),p("checked",e.optionsSearch.data.show),r(),C("",_(14,29,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(18,31,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(_(31,33,"ACTION.STATIST")),r(7),v(_(38,35,"ACTION.DETAILS")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(37,qa)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(38,ja)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(39,Ua)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Mi,Et,yt,wt,Ut,Oe,H,bt,Se,Tt,vt],encapsulation:2});let i=s;return i})();var Tl=["vform"];function kl(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",41),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Al(i,s){i&1&&M(0,"i",42)}function xl(i,s){i&1&&M(0,"i",43)}function Ll(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Rl(i,s){if(i&1&&(a(0,"option",44),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Dl(i,s){i&1&&(a(0,"mat-error"),d(1," SettingType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Bl(i,s){if(i&1&&(a(0,"option",44),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Vl(i,s){i&1&&(a(0,"mat-error"),d(1," SharingLinkType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Pl(i,s){i&1&&M(0,"i",42)}function Ol(i,s){i&1&&M(0,"i",43)}function Nl(i,s){i&1&&(a(0,"mat-error"),d(1," ClickPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Fl(i,s){i&1&&M(0,"i",42)}function Gl(i,s){i&1&&M(0,"i",43)}function Wl(i,s){i&1&&(a(0,"mat-error"),d(1," ViewPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Hl(i,s){i&1&&M(0,"i",42)}function ql(i,s){i&1&&M(0,"i",43)}function jl(i,s){i&1&&(a(0,"mat-error"),d(1," Width is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ul(i,s){i&1&&M(0,"i",42)}function zl(i,s){i&1&&M(0,"i",43)}function Ql(i,s){i&1&&(a(0,"mat-error"),d(1," Height is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Kl(i,s){i&1&&(a(0,"mat-error"),d(1," PatternScript is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Jl(i,s){if(i&1&&(M(0,"img",45),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function Xl(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",46),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",47,9),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),r(2),A("placeholder",_(6,13,"TITLE.ID_OF_BANNER_PHOTO_FILE")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Yl(i,s){if(i&1&&(M(0,"img",45),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkBackgroundIdSrc),K)}}function Zl(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",50,10),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkBackgroundId,t)||(e.dataModel.linkBackgroundId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkBackgroundId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.BANNER_BACKGROUND")),r(2),A("placeholder",_(6,13,"TITLE.ID_OF_BANNER_BACKGROUND_FILE")),y("ngModel",o.dataModel.linkBackgroundId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function $l(i,s){if(i&1){let o=E();a(0,"div",51)(1,"button",52),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",53),d(3),h(4,"translate"),l(),a(5,"button",54),M(6,"i",55),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var wn=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B,V){super(m,new Ke,D,V),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=c,this.publicHelper=D,this.cdr=B,this.translate=V,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new j,this.dataModel=new Ke,this.formInfo=new ne,this.dataModelEnumManagementContentSettingTypeResult=new j,this.dataModelEnumSharingPriceTypeResult=new j,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onActionFileSelectedLinkBackgroundId(n){this.dataModel.linkBackgroundId=n.id,this.dataModel.linkBackgroundIdSrc=n.downloadLinksrc}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(n=>{this.dataModelEnumManagementContentSettingTypeResult=n})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(n=>{this.dataModelEnumSharingPriceTypeResult=n})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(nt),b(He),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-add"]],viewQuery:function(t,e){if(t&1&&$(Tl,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:91,vars:70,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",11),M(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",15,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,kl,1,5,"app-cms-enum-record-status-selector",16),a(11,"div",17)(12,"label",18),d(13),l(),a(14,"input",19,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(16,Al,1,0,"i",20)(17,xl,1,0,"i",21),a(18,"em"),d(19),l(),I(20,Ll,5,4,"mat-error",22),l(),a(21,"div",17)(22,"select",23,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.settingType,c)||(e.dataModel.settingType=c),g(c)}),I(24,Rl,2,2,"option",24),l(),a(25,"em"),d(26),h(27,"translate"),l(),I(28,Dl,5,3,"mat-error",22),l(),a(29,"div",17)(30,"select",25,3),k("ngModelChange",function(c){return f(m),T(e.dataModel.sharingLinkType,c)||(e.dataModel.sharingLinkType=c),g(c)}),I(32,Bl,2,2,"option",24),l(),a(33,"em"),d(34),h(35,"translate"),l(),I(36,Vl,5,3,"mat-error",22),l(),a(37,"div",17)(38,"label",26),d(39),l(),a(40,"input",27,4),h(42,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.clickPrice,c)||(e.dataModel.clickPrice=c),g(c)}),l(),I(43,Pl,1,0,"i",20)(44,Ol,1,0,"i",21)(45,Nl,5,3,"mat-error",22),l(),a(46,"div",17)(47,"label",28),d(48),l(),a(49,"input",29,5),h(51,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.viewPrice,c)||(e.dataModel.viewPrice=c),g(c)}),l(),I(52,Fl,1,0,"i",20)(53,Gl,1,0,"i",21)(54,Wl,5,3,"mat-error",22),l(),a(55,"div",17)(56,"label",30),d(57),l(),a(58,"input",31,6),h(60,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.width,c)||(e.dataModel.width=c),g(c)}),l(),I(61,Hl,1,0,"i",20)(62,ql,1,0,"i",21)(63,jl,5,3,"mat-error",22),l(),a(64,"div",17)(65,"label",32),d(66),l(),a(67,"input",33,7),h(69,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.height,c)||(e.dataModel.height=c),g(c)}),l(),I(70,Ul,1,0,"i",20)(71,zl,1,0,"i",21)(72,Ql,5,3,"mat-error",22),l(),a(73,"div",17)(74,"label",34),d(75),l(),a(76,"textarea",35,8),k("ngModelChange",function(c){return f(m),T(e.dataModel.patternScript,c)||(e.dataModel.patternScript=c),g(c)}),d(78,"                "),l(),a(79,"em"),d(80),l(),I(81,Kl,5,3,"mat-error",22),l(),a(82,"div",36)(83,"a",37),h(84,"cmsthumbnail"),I(85,Jl,2,3,"img",38),l()(),I(86,Xl,8,15,"div",39),a(87,"div",36),I(88,Yl,2,3,"img",38),l(),I(89,Zl,8,15,"div",39)(90,$l,9,7,"div",40),l()()()}if(t&2){let m=R(15),S=R(23),c=R(31),D=R(41),B=R(50),V=R(59),Y=R(68),X=R(77);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),y("ngModel",e.dataModel.settingType),r(2),p("ngForOf",e.dataModelEnumManagementContentSettingTypeResult.listItems),r(2),v(_(27,56,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(2),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(_(35,58,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",_(42,60,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",!D.value),r(),p("ngIf",D.value),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",_(51,62,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",!B.value),r(),p("ngIf",B.value),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.width==null?null:e.fieldsInfo.width.fieldTitle),r(),A("placeholder",_(60,64,"TITLE.Width")),y("ngModel",e.dataModel.width),r(3),p("ngIf",!V.value),r(),p("ngIf",V.value),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.height==null?null:e.fieldsInfo.height.fieldTitle),r(),A("placeholder",_(69,66,"TITLE.length")),y("ngModel",e.dataModel.height),r(3),p("ngIf",!Y.value),r(),p("ngIf",Y.value),r(),p("ngIf",Y.errors==null?null:Y.errors.required),r(3),v(e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),r(),A("placeholder",e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),y("ngModel",e.dataModel.patternScript),r(4),C("",X.value.length," / 500"),r(),p("ngIf",X.errors==null?null:X.errors.required),r(2),A("href",_(84,68,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkBackgroundIdSrc==null?null:e.dataModel.linkBackgroundIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Ot,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var es=["*"];function ts(i,s){if(i&1&&(a(0,"label",13),d(1),l()),i&2){let o=u();Bt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function is(i,s){if(i&1&&(M(0,"img",14),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModelSelect==null?null:o.dataModelSelect.linkMainImageIdSrc),K)}}function ns(i,s){if(i&1&&(M(0,"img",14),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function os(i,s){if(i&1&&(a(0,"mat-option",15),I(1,ns,2,3,"img",5),a(2,"span"),d(3),l()()),i&2){let o=s.$implicit,n=u();p("value",o)("disabled",n.optionDisabled),r(),p("ngIf",o.linkMainImageIdSrc),r(2),v(n.displayOption(o))}}function rs(i,s){i&1&&M(0,"i",16)}function as(i,s){i&1&&M(0,"i",17)}function ls(i,s){if(i&1){let o=E();a(0,"i",18),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),l()}}function ss(i,s){i&1&&(a(0,"em"),d(1),h(2,"translate"),l()),i&2&&(r(),C("(",_(2,1,"TITLE.Necessary"),")"))}var Xt=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.coreEnumService=n,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.linkManagementEnumService=c,this.categoryService=D,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new j,this.dataModelSelect=new Ke,this.formControl=new pi,this.dataModelManagementContentSettingTypeEnumResult=new j,this.optionPlaceholder="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr,this.getManagementContentSettingTypeEnum()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:n=>{this.dataModelManagementContentSettingTypeEnumResult=n}})}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(li(""),ri(1500),ai(),si(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let t=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(e=>e.key===n.settingType.toString()||e.value===n.settingType);if(t)return n?n.title+"-"+t.description:void 0}return n?n.title:void 0}displayOption(n){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let t=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(e=>e.key===n.settingType.toString()||e.value===n.settingType);if(t)return n?n.title+"-"+t.description:void 0}return n?n.title:void 0}DataGetAll(n){return ii(this,null,function*(){let t=new Te;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=n,e.searchType=Ht.Contains,e.clauseType=it.Or,t.filters.push(e),n&&typeof+n=="number"&&+n>0&&(e=new le,e.propertyName="Id",e.value=n,e.searchType=Ht.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructorInfoAreaId)}),yield ni(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(n){return this.filteredOptions.pipe(oi(t=>(t.find(e=>e.id===n.id)||t.push(n),t)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===n)){let t=this.dataModelResult.listItems.find(e=>e.id===n);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(n).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof n==typeof Ke){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ke,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(b(oe),b(O),b(F),b(N),b(G),b(He),b(nt))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:es,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,e){if(t&1){let m=E();di(),a(0,"div",1),M(1,"app-progress-spinner",2),I(2,ts,2,3,"label",3),a(3,"span",4),I(4,is,2,3,"img",5),d(5," \xA0"),l(),M(6,"input",6),a(7,"mat-autocomplete",7,0),w("optionSelected",function(c){return f(m),g(e.onActionSelect(c.option.value))}),I(9,os,4,4,"mat-option",8),h(10,"async"),l(),I(11,rs,1,0,"i",9)(12,as,1,0,"i",10)(13,ls,1,0,"i",11)(14,ss,3,3,"em",12),ci(15),l()}if(t&2){let m=R(8);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),Bt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",_(10,16,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id<=0))}},dependencies:[Fe,W,z,Q,J,ui,Ci,mi,Ii,pn,q,U,Oe,H,Se],encapsulation:2});let i=s;return i})();var ds=["vform"];function cs(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.title,t)||(e.dataModelResultCategory.item.title=t),g(t)}),l()(),M(6,"app-linkmanagement-billboard-pattern-selector",10),h(7,"translate"),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultCategory.item.title),r(2),p("optionPlaceholder",_(7,4,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function ms(i,s){if(i&1){let o=E();a(0,"div",11)(1,"button",12),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",13),d(3),h(4,"translate"),l(),a(5,"button",14),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(6,"i",15),d(7),h(8,"translate"),l(),a(9,"button",16),w("click",function(){f(o);let t=u();return g(t.onFormMove())}),M(10,"i",13),d(11),h(12,"translate"),l()()}if(i&2){let o=u();r(3),C(" ",_(4,5,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(8,7,"ACTION.DELETE")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var En=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.categoryService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultCategory=new j,this.dataModelResultCategoryAllData=new j,this.dataModel={},this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultCategory=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let n=new Te;n.rowPerPage=100;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:e=>{this.dataModelResultCategoryAllData=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(t)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormChangeNewCatId(n){if(this.formInfo.formAlert="",this.requestId===0||!n||n.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=n.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(nt),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-delete"]],viewQuery:function(t,e){if(t&1&&$(ds,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","id","dataModelResultCategory.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,cs,8,6,"ng-container",5)(10,ms,13,11,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultCategory==null?null:e.dataModelResultCategory.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,he,_e,ie,q,U,Xt,H],encapsulation:2});let i=s;return i})();var ps=["vform"];function us(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",41),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fs(i,s){i&1&&M(0,"i",42)}function gs(i,s){i&1&&M(0,"i",43)}function hs(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function _s(i,s){if(i&1&&(a(0,"option",44),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Ss(i,s){i&1&&(a(0,"mat-error"),d(1," SettingType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ms(i,s){if(i&1&&(a(0,"option",44),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Cs(i,s){i&1&&(a(0,"mat-error"),d(1," SharingLinkType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Is(i,s){i&1&&M(0,"i",42)}function bs(i,s){i&1&&M(0,"i",43)}function vs(i,s){i&1&&(a(0,"mat-error"),d(1," ClickPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function ws(i,s){i&1&&M(0,"i",42)}function Es(i,s){i&1&&M(0,"i",43)}function ys(i,s){i&1&&(a(0,"mat-error"),d(1," ViewPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ts(i,s){i&1&&M(0,"i",42)}function ks(i,s){i&1&&M(0,"i",43)}function As(i,s){i&1&&(a(0,"mat-error"),d(1," Width is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function xs(i,s){i&1&&M(0,"i",42)}function Ls(i,s){i&1&&M(0,"i",43)}function Rs(i,s){i&1&&(a(0,"mat-error"),d(1," Height is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Ds(i,s){i&1&&(a(0,"mat-error"),d(1," PatternScript is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Bs(i,s){if(i&1&&(M(0,"img",45),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function Vs(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",46),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",47,9),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),r(2),A("placeholder",_(6,13,"TITLE.ID_OF_BANNER_PHOTO_FILE")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ps(i,s){if(i&1&&(M(0,"img",45),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkBackgroundIdSrc),K)}}function Os(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",50,10),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkBackgroundId,t)||(e.dataModel.linkBackgroundId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkBackgroundId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.BANNER_BACKGROUND")),r(2),A("placeholder",_(6,13,"TITLE.ID_OF_BANNER_BACKGROUND_FILE")),y("ngModel",o.dataModel.linkBackgroundId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ns(i,s){if(i&1){let o=E();a(0,"div",51)(1,"button",52),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",53),d(3),h(4,"translate"),l(),a(5,"button",54),M(6,"i",55),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var yn=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B,V){super(m,new Ke,D,V),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=c,this.publicHelper=D,this.cdr=B,this.translate=V,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Ke,this.formInfo=new ne,this.dataModelEnumManagementContentSettingTypeResult=new j,this.dataModelEnumSharingPriceTypeResult=new j,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onActionFileSelectedLinkBackgroundId(n){this.dataModel.linkBackgroundId=n.id,this.dataModel.linkBackgroundIdSrc=n.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(n=>{this.dataModelEnumManagementContentSettingTypeResult=n})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(n=>{this.dataModelEnumSharingPriceTypeResult=n})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(nt),b(He),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-edit"]],viewQuery:function(t,e){if(t&1&&$(ps,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:91,vars:70,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",11),M(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",15,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,us,1,5,"app-cms-enum-record-status-selector",16),a(11,"div",17)(12,"label",18),d(13),l(),a(14,"input",19,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(16,fs,1,0,"i",20)(17,gs,1,0,"i",21),a(18,"em"),d(19),l(),I(20,hs,5,4,"mat-error",22),l(),a(21,"div",17)(22,"select",23,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.settingType,c)||(e.dataModel.settingType=c),g(c)}),I(24,_s,2,2,"option",24),l(),a(25,"em"),d(26),h(27,"translate"),l(),I(28,Ss,5,3,"mat-error",22),l(),a(29,"div",17)(30,"select",25,3),k("ngModelChange",function(c){return f(m),T(e.dataModel.sharingLinkType,c)||(e.dataModel.sharingLinkType=c),g(c)}),I(32,Ms,2,2,"option",24),l(),a(33,"em"),d(34),h(35,"translate"),l(),I(36,Cs,5,3,"mat-error",22),l(),a(37,"div",17)(38,"label",26),d(39),l(),a(40,"input",27,4),h(42,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.clickPrice,c)||(e.dataModel.clickPrice=c),g(c)}),l(),I(43,Is,1,0,"i",20)(44,bs,1,0,"i",21)(45,vs,5,3,"mat-error",22),l(),a(46,"div",17)(47,"label",28),d(48),l(),a(49,"input",29,5),h(51,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.viewPrice,c)||(e.dataModel.viewPrice=c),g(c)}),l(),I(52,ws,1,0,"i",20)(53,Es,1,0,"i",21)(54,ys,5,3,"mat-error",22),l(),a(55,"div",17)(56,"label",30),d(57),l(),a(58,"input",31,6),h(60,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.width,c)||(e.dataModel.width=c),g(c)}),l(),I(61,Ts,1,0,"i",20)(62,ks,1,0,"i",21)(63,As,5,3,"mat-error",22),l(),a(64,"div",17)(65,"label",32),d(66),l(),a(67,"input",33,7),h(69,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.height,c)||(e.dataModel.height=c),g(c)}),l(),I(70,xs,1,0,"i",20)(71,Ls,1,0,"i",21)(72,Rs,5,3,"mat-error",22),l(),a(73,"div",17)(74,"label",34),d(75),l(),a(76,"textarea",35,8),k("ngModelChange",function(c){return f(m),T(e.dataModel.patternScript,c)||(e.dataModel.patternScript=c),g(c)}),d(78,"                 "),l(),a(79,"em"),d(80),l(),I(81,Ds,5,3,"mat-error",22),l(),a(82,"div",36)(83,"a",37),h(84,"cmsthumbnail"),I(85,Bs,2,3,"img",38),l()(),I(86,Vs,8,15,"div",39),a(87,"div",36),I(88,Ps,2,3,"img",38),l(),I(89,Os,8,15,"div",39)(90,Ns,9,7,"div",40),l()()()}if(t&2){let m=R(15),S=R(23),c=R(31),D=R(41),B=R(50),V=R(59),Y=R(68),X=R(77);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),y("ngModel",e.dataModel.settingType),r(2),p("ngForOf",e.dataModelEnumManagementContentSettingTypeResult.listItems),r(2),v(_(27,56,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(2),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(_(35,58,"TITLE.Select_type_of_content")),r(2),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",_(42,60,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",!D.value),r(),p("ngIf",D.value),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",_(51,62,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",!B.value),r(),p("ngIf",B.value),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.width==null?null:e.fieldsInfo.width.fieldTitle),r(),A("placeholder",_(60,64,"TITLE.Width")),y("ngModel",e.dataModel.width),r(3),p("ngIf",!V.value),r(),p("ngIf",V.value),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.height==null?null:e.fieldsInfo.height.fieldTitle),r(),A("placeholder",_(69,66,"TITLE.length")),y("ngModel",e.dataModel.height),r(3),p("ngIf",!Y.value),r(),p("ngIf",Y.value),r(),p("ngIf",Y.errors==null?null:Y.errors.required),r(3),v(e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),r(),A("placeholder",e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),y("ngModel",e.dataModel.patternScript),r(4),C("",X.value.length," / 500"),r(),p("ngIf",X.errors==null?null:X.errors.required),r(2),A("href",_(84,68,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkBackgroundIdSrc==null?null:e.dataModel.linkBackgroundIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Ot,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var Fs=()=>[5,10,20,100];function Gs(i,s){if(i&1){let o=E();a(0,"div",38)(1,"a",39),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",40)(3,"br"),l(),a(4,"p",41),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Ws(i,s){if(i&1){let o=E();a(0,"div",38)(1,"a",42),w("click",function(t){f(o);let e=u();return g(e.onActionButtonRowBillboard(e.tableRowSelected,t))}),M(2,"i",43)(3,"br"),l(),a(4,"p",41),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.BILLBOARD")))}function Hs(i,s){if(i&1){let o=E();a(0,"div",38)(1,"a",42),w("click",function(t){f(o);let e=u();return g(e.onActionButtonRowTarget(e.tableRowSelected,t))}),M(2,"i",44)(3,"br"),l(),a(4,"p",41),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADS")))}function qs(i,s){if(i&1){let o=E();a(0,"div",38)(1,"a",45),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",46)(3,"br"),l(),a(4,"p",41),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function js(i,s){if(i&1){let o=E();a(0,"div",38)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",48)(3,"br"),l(),a(4,"p",41),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Us(i,s){i&1&&(a(0,"mat-header-cell",49),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function zs(i,s){if(i&1&&(M(0,"img",51),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function Qs(i,s){if(i&1&&(a(0,"mat-cell"),I(1,zs,2,3,"img",50),l()),i&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Ks(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Js(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function Xs(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ys(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function Zs(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function $s(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",52),h(2,"statusIconClass"),l()),i&2){let o=s.$implicit;r(),p("ngClass",_(2,1,o.recordStatus))}}function ed(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function td(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.title," ")}}function id(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.settingType==null?null:o.fieldsInfo.settingType.fieldTitle," ")}}function nd(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"enums"),l()),i&2){let o=s.$implicit,n=u();r(),C(" ",zn(2,1,o.settingType,n.dataModelManagementContentSettingTypeEnumResult.listItems)," ")}}function od(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function rd(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function ad(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function ld(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function sd(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function dd(i,s){if(i&1&&(a(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function cd(i,s){i&1&&M(0,"mat-header-row")}function md(i,s){if(i&1){let o=E();a(0,"mat-row",55),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var vo=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V,Y){super(n,new Ke,V,S,c),this.contentService=n,this.cmsToastrService=t,this.linkManagementEnumService=e,this.router=m,this.tokenHelper=S,this.translate=c,this.cdr=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Y,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"],this.dataModelManagementContentSettingTypeEnumResult=new j,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:X=>this.onSubmitOptionsSearch(X)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.getManagementContentSettingTypeEnum()}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:n=>{this.dataModelManagementContentSettingTypeEnumResult=n}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ke);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let n=new Wt;n.disableClose=!0,n.autoFocus=!0,n.height="90%",n.data={},this.dialog.open(wn,n).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(En,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonRowTarget(n=this.tableRowSelected,t){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),t?.ctrlKey){var e="/#/linkmanagement/target/list/LinkBillboardPatternId/"+n.id;window.open(e,"_blank")}else this.router.navigate(["/linkmanagement/target/list/LinkBillboardPatternId/",n.id])}onActionButtonRowBillboard(n=this.tableRowSelected,t){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),t?.ctrlKey){var e="/#/linkmanagement/billboard/list/LinkBillboardPatternId/"+n.id;window.open(e,"_blank")}else this.router.navigate(["/linkmanagement/billboard/list/LinkBillboardPatternId/",n.id])}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(b(nt),b(O),b(He),b(Ne),b(Pe),b(G),b(F),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-list"]],features:[Z],decls:63,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","settingType"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),Le(1,4)(2,5)(3,6),x(4,7),a(5,"a",8),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(6,"i",9),l(),a(7,"a",8),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(8,"i",10),l(),L(),x(9,11),a(10,"a",12),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(11,"mat-slide-toggle",13),d(12),h(13,"translate"),l(),a(14,"a",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(15,"mat-slide-toggle",13),d(16),h(17,"translate"),l(),L(),x(18,14),I(19,Gs,7,3,"div",15),L(),x(20,16),I(21,Ws,7,3,"div",15)(22,Hs,7,3,"div",15)(23,qs,7,3,"div",15)(24,js,7,3,"div",15),L(),x(25,17),a(26,"app-cms-search-list",18),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(27,"app-cms-statist-list",18),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(28,19),a(29,"mat-table",20,0),w("matSortChange",function(){f(m);let c=R(30);return g(e.onTableSortData(c))}),x(31,21),I(32,Us,3,3,"mat-header-cell",22)(33,Qs,2,1,"mat-cell",23),L(),x(34,24),I(35,Ks,2,1,"mat-header-cell",22)(36,Js,2,1,"mat-cell",23),L(),x(37,25),I(38,Xs,2,1,"mat-header-cell",22)(39,Ys,4,5,"mat-cell",23),L(),x(40,26),I(41,Zs,2,1,"mat-header-cell",22)(42,$s,3,3,"mat-cell",23),L(),x(43,27),I(44,ed,2,1,"mat-header-cell",22)(45,td,2,1,"mat-cell",23),L(),x(46,28),I(47,id,2,1,"mat-header-cell",22)(48,nd,3,4,"mat-cell",23),L(),x(49,29),I(50,od,2,1,"mat-header-cell",22)(51,rd,3,3,"mat-cell",23),L(),x(52,30),I(53,ad,2,1,"mat-header-cell",22)(54,ld,3,3,"mat-cell",23),L(),x(55,31),I(56,sd,3,3,"mat-header-cell",32)(57,dd,6,1,"mat-cell",33),L(),I(58,cd,1,0,"mat-header-row",34)(59,md,1,6,"mat-row",35),l(),L(),x(60,36),a(61,"mat-paginator",37,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(11),p("checked",e.optionsSearch.data.show),r(),C("",_(13,25,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(17,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(29),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(29,Fs)))},dependencies:[tt,W,Ge,Ce,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Et,yt,wt,Oe,H,lo,bt,Se,Tt,vt],encapsulation:2});let i=s;return i})();function pd(i,s){if(i&1){let o=E();a(0,"mat-tree-node",9),M(1,"button",10),a(2,"mat-checkbox",11),w("change",function(){let t=f(o).$implicit,e=u();return g(e.checklistSelection.toggle(t))}),d(3),l()()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-tree-odd",n%2)("ntk-tree-even",!(n%2)),r(2),p("checked",t.checklistSelection.isSelected(o)),r(),v(o.title)}}function ud(i,s){if(i&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",12)(3,"button",13)(4,"mat-icon",14),d(5),l()(),a(6,"mat-checkbox",15),w("change",function(){let t=f(o).$implicit,e=u();return g(e.todoItemSelectionToggle(t))}),d(7),l()(),a(8,"ul"),Le(9,16),l()()()}if(i&2){let o=s.$implicit,n=u();r(3),et("aria-label","Toggle "+o.title),r(2),C(" ",n.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),p("checked",n.checklistSelection.isSelected(o))("indeterminate",n.descendantsPartiallySelected(o)),r(),C(" ",o.title,""),r(),pe("category-tree-invisible",!n.treeControl.isExpanded(o))}}var xi=(()=>{let s=class s{constructor(n,t,e,m,S,c,D,B){this.cmsToastrService=n,this.coreEnumService=t,this.categoryService=e,this.cdr=m,this.publicHelper=S,this.tokenHelper=c,this.translate=D,this.dialog=B,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=[],this.dataModelResult=new j,this.filterModel=new Te,this.treeControl=new Ni(V=>V.children),this.dataSource=new zi,this.runComplate=!1,this.optionSelectChecked=new Ue,this.optionSelectDisChecked=new Ue,this.optionModelChange=new Ue,this.checklistSelection=new Zn(!0),this.hasChild=(V,Y)=>!!Y.children&&Y.children.length>0,this.hasNoContent=(V,Y)=>Y.children,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(V=>{if(!this.runComplate)return;let Y=[];this.checklistSelection.selected.forEach(X=>{Y.push(X.id)}),this.optionModelChange.emit(Y),V.added&&V.added.length>0&&V.added.forEach(X=>{this.optionSelectChecked.emit(X.id)}),V.removed&&V.removed.length>0&&V.removed.forEach(X=>{this.optionSelectDisChecked.emit(X.id)})})}set optionModel(n){this.dataModelSelect=n,this.loadCheked()}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(n=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(n=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&n.forEach(t=>{this.dataModelSelect.find(m=>m===t.id)&&this.checklistSelection.select(t),t.children&&t.children.length>0&&this.loadCheked(t.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.cmsToastrService.typeError(t)}})}descendantsAllSelected(n){return this.treeControl.getDescendants(n).every(e=>this.checklistSelection.isSelected(e))}descendantsPartiallySelected(n){return this.treeControl.getDescendants(n).some(m=>this.checklistSelection.isSelected(m))&&!this.descendantsAllSelected(n)}todoItemSelectionToggle(n){this.checklistSelection.toggle(n);let t=this.treeControl.getDescendants(n);this.checklistSelection.isSelected(n)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t)}};s.\u0275fac=function(t){return new(t||s)(b(O),b(oe),b(ot),b(F),b(N),b(Pe),b(G),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},decls:11,vars:10,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"change","checked"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"change","checked","indeterminate"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),d(2),h(3,"translate"),L(),Le(4,2),x(5,3),M(6,"app-progress-spinner",4),a(7,"mat-tree",5),I(8,pd,4,6,"mat-tree-node",6)(9,ud,10,7,"mat-nested-tree-node",7),l(),L(),Le(10,8),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",_(3,8,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(4),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[Ge,ro,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,U,Li,H]});let i=s;return i})();var gd=["vform"];function hd(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",38),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _d(i,s){i&1&&M(0,"i",39)}function Sd(i,s){i&1&&M(0,"i",40)}function Md(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Cd(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",41),d(2),l(),a(3,"input",42,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.bgColor,t)||(e.dataModel.bgColor=t),g(t)}),l(),M(5,"ngx-ntk-mat-color-toggle",25)(6,"ngx-ntk-mat-color-picker",43,5),l()}if(i&2){let o=R(7),n=u();r(2),v(n.fieldsInfo.bgColor==null?null:n.fieldsInfo.bgColor.fieldTitle),r(),mn("background",n.dataModel.bgColor),A("placeholder",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),y("ngModel",n.dataModel.bgColor),p("ngxMatColorPicker",o)("disabled",!(n.fieldsInfo.bgColor!=null&&n.fieldsInfo.bgColor.accessAddField)),r(2),p("for",o),r(),p("touchUi",!0)("color","primary")}}function Id(i,s){if(i&1){let o=E();a(0,"div",44)(1,"button",45),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",46),d(5),h(6,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function bd(i,s){if(i&1&&(a(0,"div",44)(1,"button",47),d(2),h(3,"translate"),l(),a(4,"button",46),d(5),h(6,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function vd(i,s){if(i&1&&(M(0,"img",48),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function wd(i,s){if(i&1){let o=E();a(0,"div",15)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",50,6),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",51),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ed(i,s){if(i&1&&(a(0,"div",44)(1,"button",47),d(2),h(3,"translate"),l(),a(4,"button",52),M(5,"i",53),d(6),h(7,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(7,5,"ACTION.SAVE")," ")}}function yd(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Td(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function kd(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Ad(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Eo=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B,V){super(S,new Zt,m,V),this.activatedRoute=n,this.coreEnumService=t,this.contentCategoryService=e,this.publicHelper=m,this.linkManagementBillboardService=S,this.cmsToastrService=c,this.router=D,this.cdr=B,this.translate=V,this.requestLinkBillboardPatternId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModel=new Zt,this.dataModelResult=new j,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess()}onActionFileSelectedLinkMainImageId(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.dataModel=t.item,this.publicHelper.processService.processStop(n)):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataAddContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.dataModelResult=t,t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=t.item):this.cmsToastrService.typeErrorAdd(t.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:e=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorEdit(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/billboard"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkManagementMemberId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}onActionSelectorSelectLinkBillboardPatternId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}onActionCategorySelectChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModel.id>0){let t=new Vi;t.linkCategoryId=n,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}}onActionCategorySelectDisChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=n,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(n,t){n.previouslySelectedIndex<n.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=n.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};s.\u0275fac=function(t){return new(t||s)(b(ze),b(oe),b(Di),b(N),b(Jt),b(O),b(Ne),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-add"]],viewQuery:function(t,e){if(t&1&&$(gd,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:64,vars:48,consts:[["vform","ngForm"],["stepper",""],["Title",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",7),M(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",11,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",12,1),w("selectionChange",function(c){f(m);let D=R(11);return g(e.onStepClick(c,D))}),a(12,"mat-step",13),h(13,"translate"),I(14,hd,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),d(17),l(),a(18,"input",17,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(20,_d,1,0,"i",18)(21,Sd,1,0,"i",19),a(22,"em"),d(23),l(),I(24,Md,5,4,"mat-error",20),l(),a(25,"app-linkmanagement-member-selector",21),h(26,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(c))}),l(),a(27,"app-linkmanagement-billboard-pattern-selector",21),h(28,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(c))}),l(),I(29,Cd,8,10,"div",22),a(30,"div",15)(31,"label",23),d(32),l(),a(33,"input",24),k("ngModelChange",function(c){return f(m),T(e.dataModel.fromDate,c)||(e.dataModel.fromDate=c),g(c)}),l(),M(34,"mat-datepicker-toggle",25)(35,"mat-datepicker",26,3),l(),I(37,Id,7,7,"div",27),l(),a(38,"mat-step",28),h(39,"translate"),a(40,"app-linkmanagement-category-treeselector",29),k("optionModelChange",function(c){return f(m),T(e.dataContentCategoryModel,c)||(e.dataContentCategoryModel=c),g(c)}),w("optionSelectChecked",function(c){return f(m),g(e.onActionCategorySelectChecked(c))})("optionSelectDisChecked",function(c){return f(m),g(e.onActionCategorySelectDisChecked(c))}),l(),M(41,"br"),I(42,bd,7,7,"div",27),l(),a(43,"mat-step",30),h(44,"translate"),a(45,"p"),d(46),h(47,"translate"),l(),a(48,"div",31)(49,"a",32),h(50,"cmsthumbnail"),I(51,vd,2,3,"img",33),l()(),I(52,wd,8,15,"div",22)(53,Ed,8,7,"div",27),l(),I(54,yd,2,0,"ng-template",34)(55,Td,2,0,"ng-template",35)(56,kd,2,0,"ng-template",36)(57,Ad,2,0,"ng-template",37),l(),M(58,"hr"),d(59," \u06A9\u062F html: "),M(60,"br"),a(61,"div")(62,"pre"),d(63),l()()()()()}if(t&2){let m=R(19),S=R(36);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",_(13,34,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",_(26,36,"TITLE.User_Account")),r(2),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",_(28,38,"TITLE.Billboard_Pattern")),r(2),p("ngIf",e.fieldsInfo.bgColor==null?null:e.fieldsInfo.bgColor.accessWatchField),r(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),y("ngModel",e.dataModel.fromDate),p("matDatepicker",S),r(),p("for",S),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(39,40,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(44,42,"TITLE.ATTACH_FILES")),r(3),v(_(47,44,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",_(50,46,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(10),C("      ",e.dataModel.billboardScript,"")}},dependencies:[W,we,z,Q,be,J,he,_e,ie,ve,fi,gi,hi,Ee,Gt,Ce,q,vi,wi,Ei,yi,bi,ke,U,Ti,gn,fn,un,Je,xi,Xt,Ai,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let i=s;return i})();var xd=["vform"];function Ld(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",44),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rd(i,s){i&1&&M(0,"i",45)}function Dd(i,s){i&1&&M(0,"i",46)}function Bd(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Vd(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",47),d(2),l(),a(3,"input",48,6),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.bgColor,t)||(e.dataModel.bgColor=t),g(t)}),l(),M(5,"ngx-ntk-mat-color-toggle",31)(6,"ngx-ntk-mat-color-picker",49,7),l()}if(i&2){let o=R(7),n=u();r(2),v(n.fieldsInfo.bgColor==null?null:n.fieldsInfo.bgColor.fieldTitle),r(),mn("background",n.dataModel.bgColor),A("placeholder",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle),y("ngModel",n.dataModel.bgColor),p("ngxMatColorPicker",o)("disabled",!(n.fieldsInfo.bgColor!=null&&n.fieldsInfo.bgColor.accessEditField)),r(2),p("for",o),r(),p("touchUi",!0)("color","primary")}}function Pd(i,s){i&1&&M(0,"i",45)}function Od(i,s){i&1&&M(0,"i",46)}function Nd(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentClickCount is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Fd(i,s){i&1&&M(0,"i",45)}function Gd(i,s){i&1&&M(0,"i",46)}function Wd(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentViewCount is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Hd(i,s){if(i&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",52),M(5,"i",53),d(6),h(7,"translate"),l(),a(8,"button",54),d(9),h(10,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,5,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(7,7,"ACTION.SAVE")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(10,9,"ACTION.NEXT")," ")}}function qd(i,s){if(i&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",55),d(5),h(6,"translate"),l(),a(7,"button",52),M(8,"i",53),d(9),h(10,"translate"),l(),a(11,"button",54),d(12),h(13,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,6,"ACTION.BACK")," "),r(3),C(" ",_(6,8,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(10,10,"ACTION.SAVE")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(13,12,"ACTION.NEXT")," ")}}function jd(i,s){if(i&1&&(M(0,"img",56),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function Ud(i,s){if(i&1){let o=E();a(0,"div",17)(1,"label",57),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",58,8),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",59),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zd(i,s){if(i&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",55),d(5),h(6,"translate"),l(),a(7,"button",52),M(8,"i",53),d(9),h(10,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,4,"ACTION.BACK")," "),r(3),C(" ",_(6,6,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(10,8,"ACTION.SAVE")," ")}}function Qd(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Kd(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Jd(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Xd(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var yo=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B){super(m,new Zt,t,B),this.activatedRoute=n,this.publicHelper=t,this.contentCategoryService=e,this.linkManagementBillboardService=m,this.cmsToastrService=S,this.router=c,this.cdr=D,this.translate=B,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.dataModel=new Zt,this.dataModelResult=new Qe,this.dataModelEnumManagementContentSettingTypeResult=new j,this.dataModelEnumSharingPriceTypeResult=new j,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.DataGetOne(),this.DataCategoryGetAll()}onActionFileSelectedLinkMainImageId(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(ye.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit()):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkManagementMemberId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}onActionSelectorSelectLinkBillboardPatternId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}DataCategoryGetAll(){this.formInfo.formSubmitAllow=!1,this.formInfo.formAlert=this.translate.instant("MESSAGE.get_category_information_from_the_server"),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(n,m,this.constructorInfoAreaId)});let t=new Te,e=new le;e.propertyName="LinkManagementBillboardId",e.value=this.requestId,e.clauseType=it.And,t.filters.push(e),this.tagIdsData=[],this.contentCategoryService.ServiceGetAll(t).subscribe({next:m=>{let S=[];m.listItems.forEach(c=>{S.push(c.linkCategoryId)}),this.dataContentCategoryModel=S,this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(n)},error:m=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(m),this.publicHelper.processService.processStop(n)}})}onActionCategorySelectChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=n,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=n,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(n,t){n.previouslySelectedIndex<n.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=n.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};s.\u0275fac=function(t){return new(t||s)(b(ze),b(N),b(Di),b(Jt),b(O),b(Ne),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-edit"]],viewQuery:function(t,e){if(t&1&&$(xd,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:82,vars:64,consts:[["vform","ngForm"],["stepper",""],["Title",""],["CurrentClickCount",""],["CurrentViewCount",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","0","required","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","required","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"]],template:function(t,e){if(t&1){let m=E();a(0,"div",9),M(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",13,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",14,1),w("selectionChange",function(c){f(m);let D=R(11);return g(e.onStepClick(c,D))}),a(12,"mat-step",15),h(13,"translate"),I(14,Ld,1,5,"app-cms-enum-record-status-selector",16),a(15,"div",17)(16,"label",18),d(17),l(),a(18,"input",19,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(20,Rd,1,0,"i",20)(21,Dd,1,0,"i",21),a(22,"em"),d(23),l(),I(24,Bd,5,4,"mat-error",22),l(),a(25,"app-linkmanagement-member-selector",23),h(26,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(c))}),l(),a(27,"app-linkmanagement-billboard-pattern-selector",23),h(28,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(c))}),l(),I(29,Vd,8,10,"div",24),a(30,"div",17)(31,"label",25),d(32),l(),a(33,"input",26,3),h(35,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentClickCount,c)||(e.dataModel.currentClickCount=c),g(c)}),l(),I(36,Pd,1,0,"i",20)(37,Od,1,0,"i",21)(38,Nd,5,3,"mat-error",22),l(),a(39,"div",17)(40,"label",27),d(41),l(),a(42,"input",28,4),h(44,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentViewCount,c)||(e.dataModel.currentViewCount=c),g(c)}),l(),I(45,Fd,1,0,"i",20)(46,Gd,1,0,"i",21)(47,Wd,5,3,"mat-error",22),l(),a(48,"div",17)(49,"label",29),d(50),l(),a(51,"input",30),k("ngModelChange",function(c){return f(m),T(e.dataModel.fromDate,c)||(e.dataModel.fromDate=c),g(c)}),l(),M(52,"mat-datepicker-toggle",31)(53,"mat-datepicker",32,5),l(),I(55,Hd,11,11,"div",33),l(),a(56,"mat-step",34),h(57,"translate"),a(58,"app-linkmanagement-category-treeselector",35),k("optionModelChange",function(c){return f(m),T(e.dataContentCategoryModel,c)||(e.dataContentCategoryModel=c),g(c)}),w("optionSelectChecked",function(c){return f(m),g(e.onActionCategorySelectChecked(c))})("optionSelectDisChecked",function(c){return f(m),g(e.onActionCategorySelectDisChecked(c))}),l(),M(59,"br"),I(60,qd,14,14,"div",33),l(),a(61,"mat-step",36),h(62,"translate"),a(63,"p"),d(64),h(65,"translate"),l(),a(66,"div",37)(67,"a",38),h(68,"cmsthumbnail"),I(69,jd,2,3,"img",39),l()(),I(70,Ud,8,15,"div",24)(71,zd,11,10,"div",33),l(),I(72,Qd,2,0,"ng-template",40)(73,Kd,2,0,"ng-template",41)(74,Jd,2,0,"ng-template",42)(75,Xd,2,0,"ng-template",43),l(),M(76,"hr"),d(77," \u06A9\u062F html: "),M(78,"br"),a(79,"div")(80,"pre"),d(81),l()()()()()}if(t&2){let m=R(19),S=R(34),c=R(43),D=R(54);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",_(13,46,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",_(26,48,"TITLE.User_Account")),r(2),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",_(28,50,"TITLE.Billboard_Pattern")),r(2),p("ngIf",e.fieldsInfo.bgColor==null?null:e.fieldsInfo.bgColor.accessWatchField),r(3),v(e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle),r(),A("placeholder",_(35,52,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.currentClickCount),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle),r(),A("placeholder",_(44,54,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.currentViewCount),r(3),p("ngIf",!c.value),r(),p("ngIf",c.value),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),y("ngModel",e.dataModel.fromDate),p("matDatepicker",D),r(),p("for",D),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(57,56,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(62,58,"TITLE.ATTACH_FILES")),r(3),v(_(65,60,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",_(68,62,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(10),C("      ",e.dataModel.billboardScript,"")}},dependencies:[W,we,z,Ve,Q,be,J,he,_e,ie,ve,fi,gi,hi,Ee,Gt,Ce,q,vi,wi,Ei,yi,bi,ke,U,Ti,gn,fn,un,Je,xi,Xt,Ai,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let i=s;return i})();var Yd=["vform"];function Zd(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.title,t)||(e.dataModelResultContent.item.title=t),g(t)}),l()(),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultContent.item.title)}}function $d(i,s){if(i&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(2,"i",12),d(3),h(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(6,"i",14),d(7),h(8,"translate"),l()()}if(i&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(4,3,"ACTION.DELETE")," "),r(4),C(" ",_(8,5,"ACTION.CANCEL")," ")}}var To=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.linkManagementBillboardService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new j,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(ye.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementBillboardService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(Jt),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-delete"]],viewQuery:function(t,e){if(t&1&&$(Yd,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,Zd,6,3,"ng-container",5)(10,$d,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,ie,q,U,H],encapsulation:2});let i=s;return i})();var ec=["vform"];function tc(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",21),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ic(i,s){i&1&&M(0,"i",22)}function nc(i,s){i&1&&M(0,"i",23)}function oc(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function rc(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function ac(i,s){if(i&1){let o=E();a(0,"div",10)(1,"label",24),d(2),l(),a(3,"textarea",25,2),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"             "),l(),a(6,"em"),d(7),l(),I(8,rc,5,4,"mat-error",15),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function lc(i,s){if(i&1&&(M(0,"img",26),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function sc(i,s){if(i&1){let o=E();a(0,"div",10)(1,"label",27),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",28,3),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",29),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Icon_File")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function dc(i,s){if(i&1){let o=E();a(0,"div",30)(1,"button",31),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",32),d(3),h(4,"translate"),l(),a(5,"button",33),M(6,"i",34),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var ko=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B){super(m,new Dt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.requestParentId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new j,this.dataModel=new Dt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestParentId=+n.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(ot),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-add"]],viewQuery:function(t,e){if(t&1&&$(ec,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:28,vars:20,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,tc,1,5,"app-cms-enum-record-status-selector",9),a(11,"div",10)(12,"label",11),d(13),l(),a(14,"input",12,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(16,ic,1,0,"i",13)(17,nc,1,0,"i",14),a(18,"em"),d(19),l(),I(20,oc,5,4,"mat-error",15),l(),I(21,ac,9,5,"div",16),a(22,"div",17)(23,"a",18),h(24,"cmsthumbnail"),I(25,lc,2,3,"img",19),l()(),I(26,sc,8,15,"div",16)(27,dc,9,7,"div",20),l()()()}if(t&2){let m=R(15);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(2),A("href",_(24,18,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var cc=["*"];function mc(i,s){if(i&1&&(a(0,"label",13),d(1),l()),i&2){let o=u();Bt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function pc(i,s){if(i&1&&(M(0,"img",14),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModelSelect==null?null:o.dataModelSelect.linkMainImageIdSrc),K)}}function uc(i,s){if(i&1&&(M(0,"img",14),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function fc(i,s){if(i&1&&(a(0,"mat-option",15),I(1,uc,2,3,"img",5),a(2,"span"),d(3),l()()),i&2){let o=s.$implicit,n=u();p("value",o)("disabled",n.optionDisabled),r(),p("ngIf",o.linkMainImageIdSrc),r(2),v(n.displayOption(o))}}function gc(i,s){i&1&&M(0,"i",16)}function hc(i,s){i&1&&M(0,"i",17)}function _c(i,s){if(i&1){let o=E();a(0,"i",18),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),l()}}function Sc(i,s){i&1&&(a(0,"em"),d(1),h(2,"translate"),l()),i&2&&(r(),C("(",_(2,1,"TITLE.Necessary"),")"))}var Ao=(()=>{let s=class s{constructor(n,t,e,m,S,c){this.coreEnumService=n,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.categoryService=c,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new j,this.dataModelSelect=new Dt,this.formControl=new pi,this.optionPlaceholder="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(li(""),ri(1500),ai(),si(n=>typeof n=="string"||typeof n=="number"?this.DataGetAll(n||""):[]))}displayFn(n){return n?n.title:void 0}displayOption(n){return n?n.title:void 0}DataGetAll(n){return ii(this,null,function*(){let t=new Te;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=n,e.searchType=Ht.Contains,e.clauseType=it.Or,t.filters.push(e),n&&typeof+n=="number"&&+n>0&&(e=new le,e.propertyName="Id",e.value=n,e.searchType=Ht.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructorInfoAreaId)}),yield ni(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(n){return this.filteredOptions.pipe(oi(t=>(t.find(e=>e.id===n.id)||t.push(n),t)))}onActionSelectForce(n){if(typeof n=="number"&&n>0){if(this.dataModelSelect&&this.dataModelSelect.id===n)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===n)){let t=this.dataModelResult.listItems.find(e=>e.id===n);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(n).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof n==typeof Dt){this.filteredOptions=this.push(n),this.dataModelSelect=n,this.formControl.setValue(n);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Dt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(b(oe),b(O),b(F),b(N),b(G),b(ot))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:cc,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,e){if(t&1){let m=E();di(),a(0,"div",1),M(1,"app-progress-spinner",2),I(2,mc,2,3,"label",3),a(3,"span",4),I(4,pc,2,3,"img",5),d(5," \xA0"),l(),M(6,"input",6),a(7,"mat-autocomplete",7,0),w("optionSelected",function(c){return f(m),g(e.onActionSelect(c.option.value))}),I(9,fc,4,4,"mat-option",8),h(10,"async"),l(),I(11,gc,1,0,"i",9)(12,hc,1,0,"i",10)(13,_c,1,0,"i",11)(14,Sc,3,3,"em",12),ci(15),l()}if(t&2){let m=R(8);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),Bt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",_(10,16,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id<=0))}},dependencies:[Fe,W,z,Q,J,ui,Ci,mi,Ii,pn,q,U,Oe,H,Se],encapsulation:2});let i=s;return i})();var Cc=["vform"];function Ic(i,s){if(i&1){let o=E();x(0),a(1,"div",8)(2,"label",9),d(3),l(),a(4,"input",10,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.title,t)||(e.dataModelResultCategory.item.title=t),g(t)}),l()(),a(6,"div",8)(7,"label",11),d(8),l(),a(9,"textarea",12,1),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.description,t)||(e.dataModelResultCategory.item.description=t),g(t)}),l()(),M(11,"app-linkmanagement-category-selector",13),h(12,"translate"),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultCategory.item.title),r(4),v(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),A("placeholder",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),y("ngModel",o.dataModelResultCategory.item.description),r(2),p("optionPlaceholder",_(12,7,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function bc(i,s){if(i&1){let o=E();a(0,"div",14)(1,"button",15),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",16),d(3),h(4,"translate"),l(),a(5,"button",17),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(6,"i",18),d(7),h(8,"translate"),l(),a(9,"button",19),w("click",function(){f(o);let t=u();return g(t.onFormMove())}),M(10,"i",16),d(11),h(12,"translate"),l()()}if(i&2){let o=u();r(3),C(" ",_(4,5,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(8,7,"ACTION.DELETE")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(12,9,"TITLE.MOVE_DATA")," ")}}var xo=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.categoryService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultCategory=new j,this.dataModelResultCategoryAllData=new j,this.dataModel={},this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultCategory=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let n=new Te;n.rowPerPage=100;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(n).subscribe({next:e=>{this.dataModelResultCategoryAllData=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(t)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormChangeNewCatId(n){if(this.formInfo.formAlert="",this.requestId===0||!n||n.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=n.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(ot),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-delete"]],viewQuery:function(t,e){if(t&1&&$(Cc,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button","c","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(t,e){t&1&&(a(0,"div",2),M(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),I(8,Ic,13,9,"ng-container",6)(9,bc,13,11,"div",7),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngIf",e.dataModelResultCategory==null?null:e.dataModelResultCategory.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,he,_e,ie,q,U,Ao,H]});let i=s;return i})();var vc=["vform"];function wc(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",21),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ec(i,s){i&1&&M(0,"i",22)}function yc(i,s){i&1&&M(0,"i",23)}function Tc(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function kc(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Ac(i,s){if(i&1){let o=E();a(0,"div",10)(1,"label",24),d(2),l(),a(3,"textarea",25,2),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"             "),l(),a(6,"em"),d(7),l(),I(8,kc,5,4,"mat-error",15),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function xc(i,s){if(i&1&&(M(0,"img",26),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function Lc(i,s){if(i&1){let o=E();a(0,"div",10)(1,"label",27),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",28,3),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",29),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Icon_File")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Rc(i,s){if(i&1){let o=E();a(0,"div",30)(1,"button",31),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",32),d(3),h(4,"translate"),l(),a(5,"button",33),M(6,"i",34),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Lo=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B){super(m,new Dt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Dt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(ot),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-edit"]],viewQuery:function(t,e){if(t&1&&$(vc,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:28,vars:20,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,wc,1,5,"app-cms-enum-record-status-selector",9),a(11,"div",10)(12,"label",11),d(13),l(),a(14,"input",12,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(16,Ec,1,0,"i",13)(17,yc,1,0,"i",14),a(18,"em"),d(19),l(),I(20,Tc,5,4,"mat-error",15),l(),I(21,Ac,9,5,"div",16),a(22,"div",17)(23,"a",18),h(24,"cmsthumbnail"),I(25,xc,2,3,"img",19),l()(),I(26,Lc,8,15,"div",16)(27,Rc,9,7,"div",20),l()()()}if(t&2){let m=R(15);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(2),A("href",_(24,18,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();function Dc(i,s){if(i&1){let o=E();a(0,"button",13),w("click",function(){f(o);let t=u();return g(t.onActionAdd())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.ADD")))}function Bc(i,s){if(i&1){let o=E();a(0,"button",14),w("click",function(){f(o);let t=u();return g(t.onActionEdit())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.EDIT")))}function Vc(i,s){if(i&1){let o=E();a(0,"button",15),w("click",function(){f(o);let t=u();return g(t.onActionDelete())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.DELETE")))}function Pc(i,s){if(i&1){let o=E();a(0,"button",16),w("click",function(){f(o);let t=u();return g(t.onActionButtonReload())}),a(1,"mat-icon",17),h(2,"translate"),d(3,"refresh"),l()()}i&2&&(r(),A("title",_(2,1,"ACTION.RELOAD")))}function Oc(i,s){if(i&1){let o=E();a(0,"mat-tree-node",18),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),M(1,"button",19),d(2),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-tree-odd",n%2)("ntk-tree-even",!(n%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),C(" ",o.title," ")}}function Nc(i,s){if(i&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",20),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(3,"button",21),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(4,"mat-icon",22),d(5),l()(),d(6),l(),a(7,"ul"),Le(8,23),l()()()}if(i&2){let o=s.$implicit,n=u();r(2),pe("ntk-tree-selected",n.dataModelSelect.id>0&&n.dataModelSelect.id===o.id),r(),et("aria-label","Toggle "+o.title),r(2),C(" ",n.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),C(" ",o.title," "),r(),pe("category-tree-invisible",!n.treeControl.isExpanded(o))}}var kn=(()=>{let s=class s{constructor(n,t,e,m,S,c,D,B){this.cmsToastrService=n,this.coreEnumService=t,this.categoryService=e,this.dialog=m,this.tokenHelper=S,this.translate=c,this.cdr=D,this.publicHelper=B,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Dt,this.dataModelResult=new j,this.filterModel=new Te,this.treeControl=new Ni(V=>V.children),this.dataSource=new zi,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(V,Y)=>!!Y.children&&Y.children.length>0,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(n=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Dt,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){let n=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id);let t=new Wt;t.disableClose=!0,t.autoFocus=!0,t.data={parentId:n},this.dialog.open(ko,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(xo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}};s.\u0275fac=function(t){return new(t||s)(b(O),b(oe),b(ot),b(We),b(Pe),b(G),b(F),b(N))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),d(2),h(3,"translate"),L(),x(4,2),I(5,Dc,3,3,"button",3)(6,Bc,3,3,"button",4)(7,Vc,3,3,"button",5)(8,Pc,4,3,"button",6),L(),x(9,7),M(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,Oc,3,7,"mat-tree-node",10)(13,Nc,9,7,"mat-nested-tree-node",11),l(),L(),Le(14,12),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",_(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Ge,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,U,Li,H]});let i=s;return i})();function Fc(i,s){if(i&1){let o=E();a(0,"button",13),w("click",function(){f(o);let t=u();return g(t.onActionAdd())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.ADD")))}function Gc(i,s){if(i&1){let o=E();a(0,"button",14),w("click",function(){f(o);let t=u();return g(t.onActionEdit())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.EDIT")))}function Wc(i,s){if(i&1){let o=E();a(0,"button",15),w("click",function(){f(o);let t=u();return g(t.onActionDelete())}),d(1),h(2,"translate"),l()}i&2&&(r(),v(_(2,1,"ACTION.DELETE")))}function Hc(i,s){if(i&1){let o=E();a(0,"button",16),w("click",function(){f(o);let t=u();return g(t.onActionButtonReload())}),a(1,"mat-icon",17),h(2,"translate"),d(3,"refresh"),l()()}i&2&&(r(),A("title",_(2,1,"ACTION.RELOAD")))}function qc(i,s){if(i&1){let o=E();a(0,"mat-tree-node",18),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),M(1,"button",19),d(2),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-tree-odd",n%2)("ntk-tree-even",!(n%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),C(" ",o.title," ")}}function jc(i,s){if(i&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",20),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(3,"button",21),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(4,"mat-icon",22),d(5),l()(),d(6),l(),a(7,"ul"),Le(8,23),l()()()}if(i&2){let o=s.$implicit,n=u();r(2),pe("ntk-tree-selected",n.dataModelSelect.id>0&&n.dataModelSelect.id===o.id),r(),et("aria-label","Toggle "+o.title),r(2),C(" ",n.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),C(" ",o.title," "),r(),pe("category-tree-invisible",!n.treeControl.isExpanded(o))}}var An=(()=>{let s=class s{constructor(n,t,e,m,S,c,D,B){this.cmsToastrService=n,this.coreEnumService=t,this.categoryService=e,this.dialog=m,this.tokenHelper=S,this.translate=c,this.cdr=D,this.publicHelper=B,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Ke,this.dataModelResult=new j,this.filterModel=new Te,this.treeControl=new Ni(V=>null),this.dataSource=new zi,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(V,Y)=>!1,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(n){this.onActionSelectForce(n)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(n=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelect(n){this.dataModelSelect=n,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ke,this.DataGetAll()}onActionSelectForce(n){}onActionAdd(){let n=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id);let t=new Wt;t.height="90%",t.disableClose=!0,t.autoFocus=!0,t.data={parentId:n},this.dialog.open(wn,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let n=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(n=this.dataModelSelect.id),n===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(En,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:n}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}};s.\u0275fac=function(t){return new(t||s)(b(O),b(oe),b(nt),b(We),b(Pe),b(G),b(F),b(N))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),d(2),h(3,"translate"),L(),x(4,2),I(5,Fc,3,3,"button",3)(6,Gc,3,3,"button",4)(7,Wc,3,3,"button",5)(8,Hc,4,3,"button",6),L(),x(9,7),M(10,"app-progress-spinner",8),a(11,"mat-tree",9),I(12,qc,3,7,"mat-tree-node",10)(13,jc,9,7,"mat-nested-tree-node",11),l(),L(),Le(14,12),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",_(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Ge,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,U,Li,H],encapsulation:2});let i=s;return i})();var Uc=()=>[5,10,20,100],zc=i=>({display:i});function Qc(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",42),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",43)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Kc(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",9),w("click",function(){f(o);let t=u();return g(t.onActionButtonLog())}),M(2,"i",44)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.REPORTS")))}function Jc(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",45),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",46)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function Xc(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",48)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Yc(i,s){i&1&&(a(0,"mat-header-cell",49),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function Zc(i,s){if(i&1&&(M(0,"img",51),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function $c(i,s){if(i&1&&(a(0,"mat-cell"),I(1,Zc,2,3,"img",50),l()),i&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function em(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function tm(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function im(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function nm(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function om(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function rm(i,s){if(i&1&&M(0,"select",54),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,zc,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function am(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",52),h(2,"statusIconClass"),I(3,rm,1,5,"select",53),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function lm(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function sm(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.title," ")}}function dm(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function cm(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function mm(i,s){if(i&1&&(a(0,"mat-header-cell",49),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function pm(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function um(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function fm(i,s){if(i&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function gm(i,s){i&1&&M(0,"mat-header-row")}function hm(i,s){if(i&1){let o=E();a(0,"mat-row",57),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Fn=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V,Y){if(super(n,new Zt,V,S,D),this.contentService=n,this.cmsToastrService=t,this.router=e,this.activatedRoute=m,this.tokenHelper=S,this.cdr=c,this.translate=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Y,this.requestLinkBillboardPatternId=0,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new _n,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:X=>this.onSubmitOptionsSearch(X)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkBillboardPatternId>0){let X=new le;X.propertyName="LinkBillboardPatternId",X.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(X)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Zt);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new le;e.propertyName="linkBillboardPatternId",e.value=this.categoryModelSelected.id,t.filters.push(e)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let e=new le;e.propertyName="billboardCategories",e.propertyAnyName="linkCategoryId",e.value=this.categoryPatternModelSelected.id,t.filters.push(e)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(n){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new _n,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryPatternModelSelected=n,this.DataGetAll()}onActionSelectorSelectCategory(n){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new _n,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=n,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/billboard/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(To,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}onActionButtonLog(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementBillboardId",n.id])}};s.\u0275fac=function(t){return new(t||s)(b(Jt),b(O),b(Ne),b(ze),b(Pe),b(F),b(G),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-list"]],features:[Z],decls:68,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectPattern(c))}),l(),a(3,"app-linkmanagement-category-tree",5),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectCategory(c))}),l(),L(),Le(4,6)(5,7),x(6,8),a(7,"a",9),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(8,"i",10),l(),a(9,"a",9),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(10,"i",11),l(),L(),x(11,12),a(12,"a",13),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),d(14),h(15,"translate"),l(),a(16,"a",13),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),d(18),h(19,"translate"),l(),L(),x(20,15),I(21,Qc,7,3,"div",16)(22,Kc,7,3,"div",16),L(),x(23,17),I(24,Jc,7,3,"div",16)(25,Xc,7,3,"div",16),a(26,"div",18)(27,"a",19),w("click",function(){return f(m),g(e.onActionButtonLog(e.tableRowSelected))}),M(28,"i",20)(29,"br"),l(),a(30,"p",21),d(31),h(32,"translate"),l()(),L(),x(33,22),a(34,"app-cms-search-list",23),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(35,"app-cms-statist-list",23),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(36,24),a(37,"mat-table",25,0),w("matSortChange",function(){f(m);let c=R(38);return g(e.onTableSortData(c))}),x(39,26),I(40,Yc,3,3,"mat-header-cell",27)(41,$c,2,1,"mat-cell",28),L(),x(42,29),I(43,em,2,1,"mat-header-cell",27)(44,tm,2,1,"mat-cell",28),L(),x(45,30),I(46,im,2,1,"mat-header-cell",27)(47,nm,4,5,"mat-cell",28),L(),x(48,31),I(49,om,2,1,"mat-header-cell",27)(50,am,4,4,"mat-cell",28),L(),x(51,32),I(52,lm,2,1,"mat-header-cell",27)(53,sm,2,1,"mat-cell",28),L(),x(54,33),I(55,dm,2,1,"mat-header-cell",27)(56,cm,3,3,"mat-cell",28),L(),x(57,34),I(58,mm,2,1,"mat-header-cell",27)(59,pm,3,3,"mat-cell",28),L(),x(60,35),I(61,um,3,3,"mat-header-cell",36)(62,fm,6,1,"mat-cell",37),L(),I(63,gm,1,0,"mat-header-row",38)(64,hm,1,6,"mat-row",39),l(),L(),x(65,40),a(66,"mat-paginator",41,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(13),p("checked",e.optionsSearch.data.show),r(),C("",_(15,25,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(19,27,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(_(32,29,"ACTION.LOG")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(26),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(31,Uc)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Et,yt,wt,Ut,kn,An,Oe,H,bt,Se,Tt,vt],encapsulation:2});let i=s;return i})();var Sm=["vform"];function Mm(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",22),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cm(i,s){if(i&1){let o=E();a(0,"div",23)(1,"div",24)(2,"h5",25),d(3),l()(),a(4,"div",26)(5,"div",27)(6,"input",28),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isInBlackList,t)||(e.dataModel.isInBlackList=t),g(t)}),l(),M(7,"label",29),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle,""),r(3),y("ngModel",o.dataModel.isInBlackList)}}function Im(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function bm(i,s){if(i&1){let o=E();a(0,"div",13)(1,"label",30),d(2),l(),a(3,"textarea",31,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"             "),l(),a(6,"em"),d(7),l(),I(8,Im,5,4,"mat-error",18),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function vm(i,s){i&1&&M(0,"i",32)}function wm(i,s){i&1&&M(0,"i",33)}function Em(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentDebtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function ym(i,s){i&1&&M(0,"i",32)}function Tm(i,s){i&1&&M(0,"i",33)}function km(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentCreditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Am(i,s){if(i&1){let o=E();a(0,"div",34)(1,"button",35),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",36),d(3),h(4,"translate"),l(),a(5,"button",37),M(6,"i",38),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Bo=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B){super(m,new Rt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new j,this.dataModel=new Rt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorCmsUser(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Information_user_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkExternalCmsUserId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(jt),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-add"]],viewQuery:function(t,e){if(t&1&&$(Sm,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:34,vars:30,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,Mm,1,5,"app-cms-enum-record-status-selector",9),a(11,"app-cms-user-selector",10),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorCmsUser(c))}),l(),I(13,Cm,8,2,"div",11)(14,bm,9,5,"div",12),a(15,"div",13)(16,"label",14),d(17),l(),a(18,"input",15,1),h(20,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentDebtor,c)||(e.dataModel.currentDebtor=c),g(c)}),l(),I(21,vm,1,0,"i",16)(22,wm,1,0,"i",17)(23,Em,5,3,"mat-error",18),l(),a(24,"div",13)(25,"label",19),d(26),l(),a(27,"input",20,2),h(29,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentCreditor,c)||(e.dataModel.currentCreditor=c),g(c)}),l(),I(30,ym,1,0,"i",16)(31,Tm,1,0,"i",17)(32,km,5,3,"mat-error",18),l(),I(33,Am,9,7,"div",21),l()()()}if(t&2){let m=R(19),S=R(28);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkExternalCmsUserId!=null&&e.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(12,24,"TITLE.Account")),r(2),p("ngIf",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle),r(),A("placeholder",_(20,26,"TITLE.Current_Credit_Of_Debtor")),y("ngModel",e.dataModel.currentDebtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle),r(),A("placeholder",_(29,28,"TITLE.Current_Credit_Of_Creditor")),y("ngModel",e.dataModel.currentCreditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Ve,Pt,Q,be,J,he,_e,ie,ve,Ee,q,ke,Cn,U,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var xm=["vform"];function Lm(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function Rm(i,s){if(i&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",12),d(3),h(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(6,"i",14),d(7),h(8,"translate"),l()()}if(i&2){let o=u();r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(8,5,"ACTION.DELETE")," ")}}var Vo=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.linkManagementMemberService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new j,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementMemberService.setAccessLoad(),this.linkManagementMemberService.setAccessDataType(ye.Editor),this.linkManagementMemberService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementMemberService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(jt),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-delete"]],viewQuery:function(t,e){if(t&1&&$(xm,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,Lm,6,3,"ng-container",5)(10,Rm,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,ie,q,U,H]});let i=s;return i})();var Dm=["vform"];function Bm(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",22),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vm(i,s){if(i&1){let o=E();a(0,"div",23)(1,"div",24)(2,"h5",25),d(3),l()(),a(4,"div",26)(5,"div",27)(6,"input",28),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isInBlackList,t)||(e.dataModel.isInBlackList=t),g(t)}),l(),M(7,"label",29),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle,""),r(3),y("ngModel",o.dataModel.isInBlackList)}}function Pm(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u(2);r(),C(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function Om(i,s){if(i&1){let o=E();a(0,"div",13)(1,"label",30),d(2),l(),a(3,"textarea",31,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),d(5,"             "),l(),a(6,"em"),d(7),l(),I(8,Pm,5,4,"mat-error",18),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),r(),A("placeholder",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle),y("ngModel",n.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Nm(i,s){i&1&&M(0,"i",32)}function Fm(i,s){i&1&&M(0,"i",33)}function Gm(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentDebtor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Wm(i,s){i&1&&M(0,"i",32)}function Hm(i,s){i&1&&M(0,"i",33)}function qm(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentCreditor is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function jm(i,s){if(i&1){let o=E();a(0,"div",34)(1,"button",35),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",36),d(3),h(4,"translate"),l(),a(5,"button",37),M(6,"i",38),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Po=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B){super(m,new Rt,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Rt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorCmsUser(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Information_user_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkExternalCmsUserId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(jt),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-edit"]],viewQuery:function(t,e){if(t&1&&$(Dm,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:34,vars:30,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),M(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,Bm,1,5,"app-cms-enum-record-status-selector",9),a(11,"app-cms-user-selector",10),h(12,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorCmsUser(c))}),l(),I(13,Vm,8,2,"div",11)(14,Om,9,5,"div",12),a(15,"div",13)(16,"label",14),d(17),l(),a(18,"input",15,1),h(20,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentDebtor,c)||(e.dataModel.currentDebtor=c),g(c)}),l(),I(21,Nm,1,0,"i",16)(22,Fm,1,0,"i",17)(23,Gm,5,3,"mat-error",18),l(),a(24,"div",13)(25,"label",19),d(26),l(),a(27,"input",20,2),h(29,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentCreditor,c)||(e.dataModel.currentCreditor=c),g(c)}),l(),I(30,Wm,1,0,"i",16)(31,Hm,1,0,"i",17)(32,qm,5,3,"mat-error",18),l(),I(33,jm,9,7,"div",21),l()()()}if(t&2){let m=R(19),S=R(28);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkExternalCmsUserId!=null&&e.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkExternalCmsUserId)("optionPlaceholder",_(12,24,"TITLE.Account")),r(2),p("ngIf",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle),r(),A("placeholder",_(20,26,"TITLE.Current_Credit_Of_Debtor")),y("ngModel",e.dataModel.currentDebtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle),r(),A("placeholder",_(29,28,"TITLE.Current_Credit_Of_Creditor")),y("ngModel",e.dataModel.currentCreditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Ve,Pt,Q,be,J,he,_e,ie,ve,Ee,q,ke,Cn,U,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var zm=()=>["expandedTitle"],Qm=()=>["expandedDetail"],Km=()=>[5,10,20,100],Oo=i=>({display:i});function Jm(i,s){if(i&1){let o=E();a(0,"div",42)(1,"a",43),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",44)(3,"br"),l(),a(4,"p",45),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Xm(i,s){if(i&1){let o=E();a(0,"div",42)(1,"a",46),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",47)(3,"br"),l(),a(4,"p",45),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function Ym(i,s){if(i&1){let o=E();a(0,"div",42)(1,"a",48),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),l(),a(4,"p",45),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Zm(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.MENU")," "))}function $m(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",50),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),M(2,"i",51),l()()}}function ep(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function tp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function ip(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function np(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function op(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function rp(i,s){if(i&1&&M(0,"select",55),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,Oo,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function ap(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",53),h(2,"statusIconClass"),I(3,rp,1,5,"select",54),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function lp(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle," ")}}function sp(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",53),h(2,"boolclass"),l()),i&2){let o=s.$implicit;r(),p("ngClass",_(2,1,o.isInBlackList))}}function dp(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function cp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function mp(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function pp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function up(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.currentDebtor==null?null:o.fieldsInfo.currentDebtor.fieldTitle," ")}}function fp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.currentDebtor," ")}}function gp(i,s){if(i&1&&(a(0,"mat-header-cell",52),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.currentCreditor==null?null:o.fieldsInfo.currentCreditor.fieldTitle," ")}}function hp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.currentCreditor," ")}}function _p(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function Sp(i,s){if(i&1&&(a(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function Mp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"localeDate"),M(4,"br"),d(5),h(6,"translate"),h(7,"localeDate"),l()),i&2){let o=s.$implicit;r(),Re(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,o.createdDate)," "),r(4),Re(" ",_(6,8,"TITLE.DateOfUpdate")," : ",_(7,10,o.updatedDate)," ")}}function Cp(i,s){if(i&1&&(M(0,"img",62),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function Ip(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),l()()),i&2){let o=u().$implicit,n=u();r(3),Re(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function bp(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,Cp,2,3,"img",58),l(),a(6,"th")(7,"span",59),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),M(8,"i",60),l(),d(9),l()(),I(10,Ip,4,2,"tr",61),a(11,"tr"),M(12,"td")(13,"td"),l()()()()}if(i&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",o.id),r(2),C(" ",o.id," "),r(),p("ngIf",o.description)}}function vp(i,s){i&1&&M(0,"mat-header-row")}function wp(i,s){if(i&1){let o=E();a(0,"mat-row",63),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Ep(i,s){if(i&1){let o=E();a(0,"mat-row",63),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function yp(i,s){if(i&1){let o=E();a(0,"mat-row",64),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Oo,o.expanded===!0?"":"none"))}}var No=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V){super(n,new Rt,B,m,S),this.contentService=n,this.cmsToastrService=t,this.router=e,this.tokenHelper=m,this.translate=S,this.cdr=c,this.pageInfo=D,this.publicHelper=B,this.dialog=V,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){let n=new Wt;n.disableClose=!0,n.autoFocus=!0,n.data={},this.dialog.open(Bo,n).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Po,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(b(jt),b(O),b(Ne),b(Pe),b(G),b(F),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-list"]],features:[Z],decls:71,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsInBlackList"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","CurrentDebtor"],["matColumnDef","CurrentCreditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),d(2," ---------------------- "),L(),Le(3,5)(4,6),x(5,7),a(6,"a",8),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),l(),a(8,"a",8),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(9,"i",10),l(),L(),x(10,11),a(11,"a",12),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),d(13),h(14,"translate"),l(),a(15,"a",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),d(17),h(18,"translate"),l(),L(),x(19,14),I(20,Jm,7,3,"div",15),L(),x(21,16),I(22,Xm,7,3,"div",15)(23,Ym,7,3,"div",15),L(),x(24,17),a(25,"app-cms-search-list",18),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(26,"app-cms-statist-list",18),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(27,19),a(28,"mat-table",20,0),w("matSortChange",function(){f(m);let c=R(29);return g(e.onTableSortData(c))}),x(30,21),I(31,Zm,3,3,"mat-header-cell",22)(32,$m,3,0,"mat-cell",23),L(),x(33,24),I(34,ep,2,1,"mat-header-cell",25)(35,tp,2,1,"mat-cell",23),L(),x(36,26),I(37,ip,2,1,"mat-header-cell",25)(38,np,4,5,"mat-cell",23),L(),x(39,27),I(40,op,2,1,"mat-header-cell",25)(41,ap,4,4,"mat-cell",23),L(),x(42,28),I(43,lp,2,1,"mat-header-cell",25)(44,sp,3,3,"mat-cell",23),L(),x(45,29),I(46,dp,2,1,"mat-header-cell",25)(47,cp,3,3,"mat-cell",23),L(),x(48,30),I(49,mp,2,1,"mat-header-cell",25)(50,pp,3,3,"mat-cell",23),L(),x(51,31),I(52,up,2,1,"mat-header-cell",25)(53,fp,2,1,"mat-cell",23),L(),x(54,32),I(55,gp,2,1,"mat-header-cell",25)(56,hp,2,1,"mat-cell",23),L(),x(57,33),I(58,_p,3,3,"mat-header-cell",22)(59,Sp,6,1,"mat-cell",34),L(),x(60,35),I(61,Mp,8,12,"mat-cell",23),L(),x(62,36),I(63,bp,14,4,"mat-cell",23),L(),I(64,vp,1,0,"mat-header-row",37)(65,wp,1,6,"mat-row",38)(66,Ep,1,6,"mat-row",38)(67,yp,1,9,"mat-row",39),l(),L(),x(68,40),a(69,"mat-paginator",41,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),p("checked",e.optionsSearch.data.show),r(),C("",_(14,26,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(18,28,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(30,zm)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(31,Qm)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(32,Km)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Mi,Et,yt,wt,Ut,Oe,H,bt,Se,Tt,vt,Sn],encapsulation:2});let i=s;return i})();var Tp=["vform"];function kp(i,s){if(i&1){let o=E();x(0),a(1,"div",7)(2,"label",8),d(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(i&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function Ap(i,s){if(i&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",12),d(3),h(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),M(6,"i",14),d(7),h(8,"translate"),l()()}if(i&2){let o=u();r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),C(" ",_(8,5,"ACTION.DELETE")," ")}}var Fo=(()=>{let s=class s{constructor(n,t,e,m,S,c,D){this.data=n,this.dialogRef=t,this.publicHelper=e,this.linkManagementTargetBillboardLogService=m,this.cdr=S,this.translate=c,this.cmsToastrService=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultContent=new j,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,n&&n.id&&(this.requestId=n.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.setAccessLoad(),this.linkManagementTargetBillboardLogService.setAccessDataType(ye.Editor),this.linkManagementTargetBillboardLogService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetBillboardLogService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(n)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(N),b(Si),b(F),b(G),b(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-delete"]],viewQuery:function(t,e){if(t&1&&$(Tp,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){t&1&&(a(0,"div",1),M(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),d(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),d(6),h(7,"translate"),l(),d(8),I(9,kp,6,3,"ng-container",5)(10,Ap,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(5),C(" ",_(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),C(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,Q,J,ie,q,U,H]});let i=s;return i})();var xp=["vform"];function Lp(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",31),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Rp(i,s){i&1&&(a(0,"mat-error"),d(1," ClickPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Dp(i,s){i&1&&(a(0,"mat-error"),d(1," ViewPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Bp(i,s){i&1&&(a(0,"mat-error"),d(1," DeviceId is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Vp(i,s){i&1&&(a(0,"mat-error"),d(1," IpAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Pp(i,s){i&1&&(a(0,"mat-error"),d(1," BrowserName is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Op(i,s){if(i&1){let o=E();a(0,"div",32)(1,"button",33),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),M(2,"i",34),d(3),h(4,"translate"),l(),a(5,"button",35),M(6,"i",36),d(7),h(8,"translate"),l()()}if(i&2){u();let o=R(9);r(3),C(" ",_(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",_(8,5,"ACTION.SAVE")," ")}}var Go=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B){super(m,new Pi,c,B),this.data=n,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=c,this.cdr=D,this.translate=B,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Pi,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,n&&n.id&&(this.requestId=n.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(ye.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(n)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onActionSelectorLinkManagementBillboardId(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Information_billboard_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementBillboardId=n.id}onActionSelectorLinkManagementTargetId(n){if(!n||!n.id||n.id<=0){let t=this.translate.instant("MESSAGE.Information_target_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementTargetId=n.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(b(me),b(ce),b(oe),b(Si),b(O),b(N),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-edit"]],viewQuery:function(t,e){if(t&1&&$(xp,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:60,vars:40,consts:[["vform","ngForm"],["LinkManagementBillboardId",""],["LinkManagementTargetId",""],["ClickPrice",""],["ViewPrice",""],["DeviceId",""],["IpAddress",""],["BrowserName",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkManagementBillboardId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementBillboardId","id","dataModel.linkManagementBillboardId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkManagementTargetId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementTargetId","id","dataModel.linkManagementTargetId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.deviceId",1,"color-highlight"],["matInput","","type","number","name","dataModel.deviceId","minlength","3","maxlength","100","required","","id","dataModel.deviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.ipAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.ipAddress","minlength","3","maxlength","100","required","","id","dataModel.ipAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.browserName",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserName","minlength","3","maxlength","100","required","","id","dataModel.browserName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",8),M(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",12,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),I(10,Lp,1,5,"app-cms-enum-record-status-selector",13),a(11,"div",14)(12,"label",15),d(13),l(),a(14,"input",16,1),k("ngModelChange",function(c){return f(m),T(e.dataModel.linkManagementBillboardId,c)||(e.dataModel.linkManagementBillboardId=c),g(c)}),l()(),a(16,"div",14)(17,"label",17),d(18),l(),a(19,"input",18,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.linkManagementTargetId,c)||(e.dataModel.linkManagementTargetId=c),g(c)}),l()(),a(21,"div",14)(22,"label",19),d(23),l(),a(24,"input",20,3),h(26,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.clickPrice,c)||(e.dataModel.clickPrice=c),g(c)}),l(),I(27,Rp,5,3,"mat-error",21),l(),a(28,"div",14)(29,"label",22),d(30),l(),a(31,"input",23,4),h(33,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.viewPrice,c)||(e.dataModel.viewPrice=c),g(c)}),l(),I(34,Dp,5,3,"mat-error",21),l(),a(35,"div",14)(36,"label",24),d(37),l(),a(38,"input",25,5),k("ngModelChange",function(c){return f(m),T(e.dataModel.deviceId,c)||(e.dataModel.deviceId=c),g(c)}),l(),a(40,"em"),d(41),l(),I(42,Bp,5,3,"mat-error",21),l(),a(43,"div",14)(44,"label",26),d(45),l(),a(46,"input",27,6),k("ngModelChange",function(c){return f(m),T(e.dataModel.ipAddress,c)||(e.dataModel.ipAddress=c),g(c)}),l(),a(48,"em"),d(49),l(),I(50,Vp,5,3,"mat-error",21),l(),a(51,"div",14)(52,"label",28),d(53),l(),a(54,"input",29,7),k("ngModelChange",function(c){return f(m),T(e.dataModel.browserName,c)||(e.dataModel.browserName=c),g(c)}),l(),a(56,"em"),d(57),l(),I(58,Pp,5,3,"mat-error",21),l(),I(59,Op,9,7,"div",30),l()()()}if(t&2){let m=R(25),S=R(32),c=R(39),D=R(47),B=R(55);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle),y("ngModel",e.dataModel.linkManagementBillboardId),r(4),v(e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle),y("ngModel",e.dataModel.linkManagementTargetId),r(4),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",_(26,36,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",_(33,38,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle),r(),A("placeholder",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle),y("ngModel",e.dataModel.deviceId),r(3),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.ipAddress==null?null:e.fieldsInfo.ipAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.ipAddress==null?null:e.fieldsInfo.ipAddress.fieldTitle),y("ngModel",e.dataModel.ipAddress),r(3),C("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.browserName==null?null:e.fieldsInfo.browserName.fieldTitle),r(),A("placeholder",e.fieldsInfo.browserName==null?null:e.fieldsInfo.browserName.fieldTitle),y("ngModel",e.dataModel.browserName),r(3),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,we,z,Ve,Q,be,J,he,_e,ie,ve,Ee,q,ke,U,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let i=s;return i})();var Fp=()=>["expandedTitle"],Gp=()=>["expandedDetail"],Wp=()=>[5,10,20,100],Wo=i=>({display:i});function Hp(i,s){if(i&1){let o=E();a(0,"a",44),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),M(1,"i",45),l()}}function qp(i,s){if(i&1){let o=E();a(0,"div",46)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",48)(3,"br"),l(),a(4,"p",49),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function jp(i,s){if(i&1){let o=E();a(0,"div",46)(1,"a",50),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",51)(3,"br"),l(),a(4,"p",49),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Up(i,s){if(i&1){let o=E();a(0,"div",46)(1,"a",52),w("click",function(){f(o);let t=u();return g(t.onActionButtonViewRowLinkTargetId(t.tableRowSelected))}),M(2,"i",53)(3,"br"),l(),a(4,"p",49),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.BANNER")))}function zp(i,s){if(i&1){let o=E();a(0,"div",46)(1,"a",52),w("click",function(){f(o);let t=u();return g(t.onActionButtonViewRowLinkbillboardId(t.tableRowSelected))}),M(2,"i",54)(3,"br"),l(),a(4,"p",49),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.BILLBOARD")))}function Qp(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.MENU")," "))}function Kp(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",55),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),M(2,"i",56),l()()}}function Jp(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Xp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function Yp(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Zp(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function $p(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function e0(i,s){if(i&1&&M(0,"select",60),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,Wo,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function t0(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",58),h(2,"statusIconClass"),I(3,e0,1,5,"select",59),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function i0(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.clickPrice==null?null:o.fieldsInfo.clickPrice.fieldTitle," ")}}function n0(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.clickPrice," ")}}function o0(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.viewPrice==null?null:o.fieldsInfo.viewPrice.fieldTitle," ")}}function r0(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.viewPrice," ")}}function a0(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function l0(i,s){if(i&1&&(a(0,"mat-cell",61),d(1),h(2,"localeDateTime"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function s0(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkManagementBillboardId==null?null:o.fieldsInfo.linkManagementBillboardId.fieldTitle," ")}}function d0(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.linkManagementBillboardId," ")}}function c0(i,s){if(i&1&&(a(0,"mat-header-cell",57),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkManagementTargetId==null?null:o.fieldsInfo.linkManagementTargetId.fieldTitle," ")}}function m0(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.linkManagementTargetId," ")}}function p0(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function u0(i,s){if(i&1&&(a(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function f0(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"localeDate"),M(4,"br"),d(5),h(6,"translate"),l()),i&2){let o=s.$implicit;r(),Re(" ",_(2,4,"TITLE.CreationDate")," : ",_(3,6,o.createdDate)," "),r(4),Re(" ",_(6,8,"TITLE.Id")," : ",o.id," ")}}function g0(i,s){if(i&1&&(M(0,"img",65),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function h0(i,s){if(i&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,g0,2,3,"img",64),l(),a(6,"th"),d(7),l()(),a(8,"tr"),M(9,"td"),a(10,"td"),d(11),l()(),a(12,"tr"),M(13,"td"),a(14,"td"),d(15),l()(),a(16,"tr"),M(17,"td"),a(18,"td"),d(19),l()(),a(20,"tr"),M(21,"td")(22,"td"),l()()()()),i&2){let o=s.$implicit,n=u();r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),Re("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," : ",o.id,""),r(4),Re("",n.fieldsInfo.ipAddress==null?null:n.fieldsInfo.ipAddress.fieldTitle," : ",o.ipAddress,""),r(4),Re("",n.fieldsInfo.deviceId==null?null:n.fieldsInfo.deviceId.fieldTitle," : ",o.deviceId,""),r(4),Re("",n.fieldsInfo.browserName==null?null:n.fieldsInfo.browserName.fieldTitle," : ",o.browserName,"")}}function _0(i,s){i&1&&M(0,"mat-header-row")}function S0(i,s){if(i&1){let o=E();a(0,"mat-row",66),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function M0(i,s){if(i&1){let o=E();a(0,"mat-row",66),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function C0(i,s){if(i&1){let o=E();a(0,"mat-row",67),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Wo,o.expanded===!0?"":"none"))}}var sn=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V,Y){if(super(n,new Pi,V,S,D),this.contentService=n,this.cmsToastrService=t,this.activatedRoute=e,this.router=m,this.tokenHelper=S,this.cdr=c,this.translate=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Y,this.requestLinkManagementBillboardId=0,this.requestLinkManagementTargetId=0,this.requestKey="",this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"],this.tabledisplayedColumnsMobileSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementBillboardId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementBillboardId")),this.requestLinkManagementTargetId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementTargetId")),this.activatedRoute.snapshot.paramMap.get("Key")&&(this.requestKey=this.activatedRoute.snapshot.paramMap.get("Key")),this.requestLinkManagementBillboardId>0){let X=new le;X.propertyName="LinkManagementBillboardId",X.value=this.requestLinkManagementBillboardId,this.filteModelContent.filters.push(X)}if(this.requestLinkManagementTargetId>0){let X=new le;X.propertyName="LinkManagementTargetId",X.value=this.requestLinkManagementTargetId,this.filteModelContent.filters.push(X)}this.optionsSearch.parentMethods={onSubmit:X=>this.onSubmitOptionsSearch(X)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pi);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.requestKey&&this.requestKey.length>0?this.contentService.ServiceGetAllByKey(this.requestKey,t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}}):this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Go,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Fo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRowLinkbillboardId(n=this.tableRowSelected,t){if(!n||!n.id||n.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(n),t?.ctrlKey?(this.link="/#/linkmanagement/billboard/edit/"+this.tableRowSelected.linkManagementBillboardId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.linkManagementBillboardId])}onActionButtonViewRowLinkTargetId(n=this.tableRowSelected,t){if(!n||!n.id||n.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(n),t?.ctrlKey?(this.link="/#/linkmanagement/target/edit/"+this.tableRowSelected.linkManagementTargetId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.linkManagementTargetId])}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}onActionBackToParent(){this.requestLinkManagementBillboardId>0&&this.router.navigate(["/linkmanagement/billboard/"]),this.requestLinkManagementTargetId>0&&this.router.navigate(["/linkmanagement/target/"])}};s.\u0275fac=function(t){return new(t||s)(b(Si),b(O),b(ze),b(Ne),b(Pe),b(F),b(G),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-list"]],features:[Z],decls:73,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","ClickPrice"],["matColumnDef","ViewPrice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","LinkManagementBillboardId"],["matColumnDef","LinkManagementTargetId"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-flag","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),d(2," ---------------------- "),L(),Le(3,5)(4,6),x(5,7),a(6,"a",8),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),l(),a(8,"a",8),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(9,"i",10),l(),I(10,Hp,2,0,"a",11),L(),x(11,12),a(12,"a",13),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),d(14),h(15,"translate"),l(),a(16,"a",13),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),d(18),h(19,"translate"),l(),L(),Le(20,15),x(21,16),I(22,qp,7,3,"div",17)(23,jp,7,3,"div",17)(24,Up,7,3,"div",17)(25,zp,7,3,"div",17),L(),x(26,18),a(27,"app-cms-search-list",19),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(28,"app-cms-statist-list",19),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(29,20),a(30,"mat-table",21,0),w("matSortChange",function(){f(m);let c=R(31);return g(e.onTableSortData(c))}),x(32,22),I(33,Qp,3,3,"mat-header-cell",23)(34,Kp,3,0,"mat-cell",24),L(),x(35,25),I(36,Jp,2,1,"mat-header-cell",26)(37,Xp,2,1,"mat-cell",24),L(),x(38,27),I(39,Yp,2,1,"mat-header-cell",26)(40,Zp,4,5,"mat-cell",24),L(),x(41,28),I(42,$p,2,1,"mat-header-cell",26)(43,t0,4,4,"mat-cell",24),L(),x(44,29),I(45,i0,2,1,"mat-header-cell",26)(46,n0,2,1,"mat-cell",24),L(),x(47,30),I(48,o0,2,1,"mat-header-cell",26)(49,r0,2,1,"mat-cell",24),L(),x(50,31),I(51,a0,2,1,"mat-header-cell",26)(52,l0,3,3,"mat-cell",32),L(),x(53,33),I(54,s0,2,1,"mat-header-cell",26)(55,d0,2,1,"mat-cell",24),L(),x(56,34),I(57,c0,2,1,"mat-header-cell",26)(58,m0,2,1,"mat-cell",24),L(),x(59,35),I(60,p0,3,3,"mat-header-cell",23)(61,u0,6,1,"mat-cell",36),L(),x(62,37),I(63,f0,7,10,"mat-cell",24),L(),x(64,38),I(65,h0,23,9,"mat-cell",24),L(),I(66,_0,1,0,"mat-header-row",39)(67,S0,1,6,"mat-row",40)(68,M0,1,6,"mat-row",40)(69,C0,1,9,"mat-row",41),l(),L(),x(70,42),a(71,"mat-paginator",43,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(10),p("ngIf",e.requestLinkManagementBillboardId>0||e.requestLinkManagementTargetId>0),r(3),p("checked",e.optionsSearch.data.show),r(),C("",_(15,28,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(19,30,"ACTION.STATIST")," "),r(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkManagementTargetId)>0),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkManagementBillboardId)>0),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(32,Fp)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(33,Gp)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(34,Wp)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Et,yt,wt,Ut,Oe,H,bt,Se,Tt,Mn,vt],encapsulation:2});let i=s;return i})();var I0=["vform"];function b0(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",48),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function v0(i,s){i&1&&M(0,"i",49)}function w0(i,s){i&1&&M(0,"i",50)}function E0(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function y0(i,s){if(i&1){let o=E();a(0,"app-linkmanagement-billboard-pattern-selector",51),h(1,"translate"),w("optionChange",function(t){f(o);let e=u();return g(e.onActionSelectorSelectLinkBillboardPatternId(t))}),l()}if(i&2){let o=u();p("optionSelectForce",o.dataModel.linkBillboardPatternId)("optionPlaceholder",_(1,2,"TITLE.Billboard_Pattern"))}}function T0(i,s){if(i&1&&(a(0,"option",54),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function k0(i,s){i&1&&(a(0,"mat-error"),d(1," SharingLinkType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function A0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"select",52,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.sharingLinkType,t)||(e.dataModel.sharingLinkType=t),g(t)}),I(3,T0,2,2,"option",53),l(),a(4,"em"),d(5),h(6,"translate"),l(),I(7,k0,5,3,"mat-error",33),l()}if(i&2){let o=R(2),n=u();r(),y("ngModel",n.dataModel.sharingLinkType),r(2),p("ngForOf",n.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(_(6,4,"TITLE.Select_type_of_content")),r(2),p("ngIf",o.errors==null?null:o.errors.required)}}function x0(i,s){if(i&1){let o=E();a(0,"div",55)(1,"div",21)(2,"h5",56),d(3),l()(),a(4,"div",23)(5,"div",24)(6,"input",57),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isPublic,t)||(e.dataModel.isPublic=t),g(t)}),l(),M(7,"label",58),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle,""),r(3),y("ngModel",o.dataModel.isPublic)}}function L0(i,s){i&1&&(a(0,"mat-error"),d(1," ToWebAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function R0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",59),d(2),l(),a(3,"input",60,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.toWebAddress,t)||(e.dataModel.toWebAddress=t),g(t)}),l(),a(5,"em"),d(6),l(),I(7,L0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.toWebAddress==null?null:n.fieldsInfo.toWebAddress.fieldTitle),r(),A("placeholder",n.fieldsInfo.toWebAddress==null?null:n.fieldsInfo.toWebAddress.fieldTitle),y("ngModel",n.dataModel.toWebAddress),r(3),C("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function D0(i,s){i&1&&(a(0,"mat-error"),d(1," WebAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function B0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",61),d(2),l(),a(3,"input",62,5),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.webAddress,t)||(e.dataModel.webAddress=t),g(t)}),l(),a(5,"em"),d(6),l(),I(7,D0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.webAddress==null?null:n.fieldsInfo.webAddress.fieldTitle),r(),A("placeholder",n.fieldsInfo.webAddress==null?null:n.fieldsInfo.webAddress.fieldTitle),y("ngModel",n.dataModel.webAddress),r(3),C("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function V0(i,s){i&1&&(a(0,"mat-error"),d(1," SmallPreview is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function P0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",63),d(2),l(),a(3,"input",64,6),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.smallPreview,t)||(e.dataModel.smallPreview=t),g(t)}),l(),a(5,"em"),d(6),l(),I(7,V0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.smallPreview==null?null:n.fieldsInfo.smallPreview.fieldTitle),r(),A("placeholder",n.fieldsInfo.smallPreview==null?null:n.fieldsInfo.smallPreview.fieldTitle),y("ngModel",n.dataModel.smallPreview),r(3),C("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function O0(i,s){i&1&&(a(0,"mat-error"),d(1," ClickPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function N0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",65),d(2),l(),a(3,"input",66,7),h(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.clickPrice,t)||(e.dataModel.clickPrice=t),g(t)}),l(),I(6,O0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.clickPrice==null?null:n.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",_(5,4,"TITLE.Amount_Per_Click")),y("ngModel",n.dataModel.clickPrice),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function F0(i,s){i&1&&(a(0,"mat-error"),d(1," ViewPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function G0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",67),d(2),l(),a(3,"input",68,8),h(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.viewPrice,t)||(e.dataModel.viewPrice=t),g(t)}),l(),I(6,F0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.viewPrice==null?null:n.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",_(5,4,"TITLE.Amount_Per_Show")),y("ngModel",n.dataModel.viewPrice),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function W0(i,s){i&1&&(a(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function H0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",69),d(2),l(),a(3,"input",70,9),h(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.maxPriceOfSharePerDay,t)||(e.dataModel.maxPriceOfSharePerDay=t),g(t)}),l(),I(6,W0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.maxPriceOfSharePerDay==null?null:n.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),r(),A("placeholder",_(5,4,"TITLE.Number_of_views_so_far")),y("ngModel",n.dataModel.maxPriceOfSharePerDay),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function q0(i,s){i&1&&(a(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function j0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",71),d(2),l(),a(3,"input",72,10),h(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.maxPriceOfShareTotal,t)||(e.dataModel.maxPriceOfShareTotal=t),g(t)}),l(),I(6,q0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.maxPriceOfShareTotal==null?null:n.fieldsInfo.maxPriceOfShareTotal.fieldTitle),r(),A("placeholder",_(5,4,"TITLE.Number_of_click_so_far")),y("ngModel",n.dataModel.maxPriceOfShareTotal),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function U0(i,s){i&1&&(a(0,"mat-error"),d(1," FormulaPercent is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function z0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",73),d(2),l(),a(3,"input",74,11),h(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.formulaPercent,t)||(e.dataModel.formulaPercent=t),g(t)}),l(),I(6,U0,5,3,"mat-error",33),l()}if(i&2){let o=R(4),n=u();r(2),v(n.fieldsInfo.formulaPercent==null?null:n.fieldsInfo.formulaPercent.fieldTitle),r(),A("placeholder",_(5,4,"TITLE.Number_of_views_so_far")),y("ngModel",n.dataModel.formulaPercent),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function Q0(i,s){if(i&1){let o=E();a(0,"div",75)(1,"button",76),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",77),d(5),h(6,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function K0(i,s){if(i&1&&(a(0,"div",75)(1,"button",78),d(2),h(3,"translate"),l(),a(4,"button",77),d(5),h(6,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function J0(i,s){if(i&1&&(M(0,"img",79),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function X0(i,s){if(i&1){let o=E();a(0,"div",28)(1,"label",80),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",81,12),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",82),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Y0(i,s){if(i&1&&(a(0,"div",75)(1,"button",78),d(2),h(3,"translate"),l(),a(4,"button",83),d(5),h(6,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.SAVE")," ")}}function Z0(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function $0(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function eu(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function tu(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Ho=(()=>{let s=class s extends kt{constructor(n,t,e,m,S,c,D,B,V,Y){super(S,new $t,m,Y),this.activatedRoute=n,this.coreEnumService=t,this.linkManagementEnumService=e,this.publicHelper=m,this.linkManagementTargetService=S,this.contentCategoryService=c,this.cmsToastrService=D,this.router=B,this.cdr=V,this.translate=Y,this.requestLinkBillboardPatternId=0,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModel=new $t,this.dataModelResult=new j,this.dataModelEnumManagementContentSettingTypeResult=new j,this.dataModelEnumSharingPriceTypeResult=new j,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.dataProfessional=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(n=>{this.dataModelEnumManagementContentSettingTypeResult=n})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(n=>{this.dataModelEnumSharingPriceTypeResult=n})}onActionFileSelectedLinkMainImageId(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.dataModel=t.item,this.publicHelper.processService.processStop(n)):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.dataModelResult=t,t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=t.item):this.cmsToastrService.typeErrorAdd(t.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.linkManagementTargetService.ServiceGetOneById(this.dataModel.id).subscribe({next:e=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorEdit(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkBillboardPatternId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}onActionCategorySelectChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=n,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=n,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(n,t){n.previouslySelectedIndex<n.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=n.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}};s.\u0275fac=function(t){return new(t||s)(b(ze),b(oe),b(He),b(N),b(_i),b(Bi),b(O),b(Ne),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-add"]],viewQuery:function(t,e){if(t&1&&$(I0,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:68,vars:49,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"d-flex","mb-3",2,"position","inherit"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessionalt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","mb-3"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(t,e){if(t&1){let m=E();a(0,"div",13),M(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",17,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",18,1),w("selectionChange",function(c){f(m);let D=R(11);return g(e.onStepClick(c,D))}),a(12,"mat-step",19),h(13,"translate"),M(14,"br"),a(15,"div",20)(16,"div",21)(17,"h5",22),d(18),h(19,"translate"),l()(),a(20,"div",23)(21,"div",24)(22,"input",25),k("ngModelChange",function(c){return f(m),T(e.dataProfessional,c)||(e.dataProfessional=c),g(c)}),l(),M(23,"label",26),l()()(),M(24,"br"),I(25,b0,1,5,"app-cms-enum-record-status-selector",27),a(26,"div",28)(27,"label",29),d(28),l(),a(29,"input",30,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(31,v0,1,0,"i",31)(32,w0,1,0,"i",32),a(33,"em"),d(34),l(),I(35,E0,5,4,"mat-error",33),l(),I(36,y0,2,4,"app-linkmanagement-billboard-pattern-selector",34)(37,A0,8,6,"div",35)(38,x0,8,2,"div",36)(39,R0,8,5,"div",35)(40,B0,8,5,"div",35)(41,P0,8,5,"div",35)(42,N0,7,6,"div",35)(43,G0,7,6,"div",35)(44,H0,7,6,"div",35)(45,j0,7,6,"div",35)(46,z0,7,6,"div",35)(47,Q0,7,7,"div",37),l(),a(48,"mat-step",38),h(49,"translate"),a(50,"app-linkmanagement-category-treeselector",39),k("optionModelChange",function(c){return f(m),T(e.dataContentCategoryModel,c)||(e.dataContentCategoryModel=c),g(c)}),w("optionSelectChecked",function(c){return f(m),g(e.onActionCategorySelectChecked(c))})("optionSelectDisChecked",function(c){return f(m),g(e.onActionCategorySelectDisChecked(c))}),l(),M(51,"br"),I(52,K0,7,7,"div",37),l(),a(53,"mat-step",40),h(54,"translate"),a(55,"p"),d(56),h(57,"translate"),l(),a(58,"div",41)(59,"a",42),h(60,"cmsthumbnail"),I(61,J0,2,3,"img",43),l()(),I(62,X0,8,15,"div",35)(63,Y0,7,7,"div",37),l(),I(64,Z0,2,0,"ng-template",44)(65,$0,2,0,"ng-template",45)(66,eu,2,0,"ng-template",46)(67,tu,2,0,"ng-template",47),l()()()()}if(t&2){let m=R(30);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",_(13,37,"TITLE.REQUIRED_INFORMATION")),r(6),C(" ",_(19,39,"TITLE.Would_you_like_to_complete_your_information"),""),r(4),y("ngModel",e.dataProfessional),r(3),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.accessWatchField),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(49,41,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(54,43,"TITLE.ATTACH_FILES")),r(3),v(_(57,45,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",_(60,47,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Pt,Ot,Q,be,J,he,_e,ie,ve,Ee,Ce,q,vi,wi,Ei,yi,bi,ke,U,Ti,Je,xi,Xt,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let i=s;return i})();var iu=["vform"];function nu(i,s){if(i&1){let o=E();a(0,"app-cms-enum-record-status-selector",68),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(i&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ou(i,s){i&1&&M(0,"i",69)}function ru(i,s){i&1&&M(0,"i",70)}function au(i,s){if(i&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2){let o=u();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(_(4,2,"MESSAGE.required"))}}function lu(i,s){if(i&1&&(a(0,"option",71),d(1),l()),i&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function su(i,s){i&1&&(a(0,"mat-error"),d(1," SharingLinkType is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function du(i,s){if(i&1){let o=E();a(0,"div",72)(1,"div",73)(2,"h5",74),d(3),l()(),a(4,"div",75)(5,"div",76)(6,"input",77),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isPublic,t)||(e.dataModel.isPublic=t),g(t)}),l(),M(7,"label",78),l()()()}if(i&2){let o=u();r(3),C(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle,""),r(3),y("ngModel",o.dataModel.isPublic)}}function cu(i,s){i&1&&(a(0,"mat-error"),d(1," ToWebAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function mu(i,s){i&1&&(a(0,"mat-error"),d(1," WebAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function pu(i,s){i&1&&(a(0,"mat-error"),d(1," CarryToWebAddress is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function uu(i,s){i&1&&(a(0,"mat-error"),d(1," SmallPreview is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function fu(i,s){i&1&&(a(0,"mat-error"),d(1," ClickPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function gu(i,s){i&1&&(a(0,"mat-error"),d(1," ViewPrice is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function hu(i,s){i&1&&(a(0,"mat-error"),d(1," MaxPriceOfSharePerDay is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function _u(i,s){i&1&&(a(0,"mat-error"),d(1," MaxPriceOfShareTotal is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Su(i,s){i&1&&(a(0,"mat-error"),d(1," FormulaPercent is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Mu(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentClickCount is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Cu(i,s){i&1&&(a(0,"mat-error"),d(1," CurrentViewCount is "),a(2,"strong"),d(3),h(4,"translate"),l()()),i&2&&(r(3),v(_(4,1,"MESSAGE.required")))}function Iu(i,s){if(i&1){let o=E();a(0,"div",79)(1,"button",80),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),d(2),h(3,"translate"),l(),a(4,"button",81),d(5),h(6,"translate"),l()()}if(i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function bu(i,s){if(i&1&&(a(0,"div",79)(1,"button",82),d(2),h(3,"translate"),l(),a(4,"button",81),d(5),h(6,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.NEXT")," ")}}function vu(i,s){if(i&1&&(M(0,"img",83),h(1,"cmsthumbnail")),i&2){let o=u();A("src",_(1,1,o.dataModel.linkMainImageIdSrc),K)}}function wu(i,s){if(i&1){let o=E();a(0,"div",24)(1,"label",84),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),d(2),h(3,"translate"),l(),a(4,"input",85,15),h(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",86),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(i&2){let o=u();r(2),v(_(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",_(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Eu(i,s){if(i&1&&(a(0,"div",79)(1,"button",82),d(2),h(3,"translate"),l(),a(4,"button",87),d(5),h(6,"translate"),l()()),i&2){u();let o=R(9);r(2),C(" ",_(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),C(" ",_(6,5,"ACTION.SAVE")," ")}}function yu(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Tu(i,s){i&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function ku(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function Au(i,s){i&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var qo=(()=>{let s=class s extends Xe{constructor(n,t,e,m,S,c,D,B,V,Y,X){super(S,new $t,e,X),this.activatedRoute=n,this.coreEnumService=t,this.publicHelper=e,this.linkManagementEnumService=m,this.linkManagementTargetService=S,this.contentCategoryService=c,this.cmsToastrService=D,this.tokenHelper=B,this.router=V,this.cdr=Y,this.translate=X,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.dataModel=new $t,this.dataModelResult=new Qe,this.dataModelEnumManagementContentSettingTypeResult=new j,this.dataModelEnumSharingPriceTypeResult=new j,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.tokenHelper.getTokenInfoState().then(n=>{this.DataGetOne()}),this.tokenHelper.getTokenInfoState().then(n=>{this.DataGetOne()}),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(n=>{this.dataModelEnumManagementContentSettingTypeResult=n})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(n=>{this.dataModelEnumSharingPriceTypeResult=n})}onActionFileSelectedLinkMainImageId(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetService.setAccessLoad(),this.linkManagementTargetService.setAccessDataType(ye.Editor),this.linkManagementTargetService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(n,t,this.constructorInfoAreaId)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.publicHelper.processService.processStop(n),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkBillboardPatternId(n){if(!n||n.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=n.id}onActionCategorySelectChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=n,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(n){if(!n||n<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=n,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(n,t){n.previouslySelectedIndex<n.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=n.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}onActionSelectSite(n){if(!n||n.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_site"),this.translate.instant("MESSAGE.Information_site_is_not_clear"));return}this.dataModel.linkSiteId=n.id}};s.\u0275fac=function(t){return new(t||s)(b(ze),b(oe),b(N),b(He),b(_i),b(Bi),b(O),b(Pe),b(Ne),b(F),b(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-edit"]],viewQuery:function(t,e){if(t&1&&$(iu,5),t&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[Z],decls:138,vars:107,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["CarryToWebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["CurrentClickCount",""],["CurrentViewCount",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.carryToWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.carryToWebAddress","minlength","3","maxlength","100","id","dataModel.carryToWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","1","disabled","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","disabled","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(t,e){if(t&1){let m=E();a(0,"div",16),M(1,"app-progress-spinner",17),a(2,"div",18)(3,"p",19),d(4),l(),a(5,"p"),d(6),h(7,"translate"),l(),a(8,"form",20,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",21,1),w("selectionChange",function(c){f(m);let D=R(11);return g(e.onStepClick(c,D))}),a(12,"mat-step",22),h(13,"translate"),I(14,nu,1,5,"app-cms-enum-record-status-selector",23),a(15,"div",24)(16,"label",25),d(17),l(),a(18,"input",26,2),k("ngModelChange",function(c){return f(m),T(e.dataModel.title,c)||(e.dataModel.title=c),g(c)}),l(),I(20,ou,1,0,"i",27)(21,ru,1,0,"i",28),a(22,"em"),d(23),l(),I(24,au,5,4,"mat-error",29),l(),a(25,"app-linkmanagement-billboard-pattern-selector",30),h(26,"translate"),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(c))}),l(),a(27,"div",24)(28,"select",31,3),k("ngModelChange",function(c){return f(m),T(e.dataModel.sharingLinkType,c)||(e.dataModel.sharingLinkType=c),g(c)}),I(30,lu,2,2,"option",32),l(),a(31,"em"),d(32),h(33,"translate"),l(),I(34,su,5,3,"mat-error",29),l(),I(35,du,8,2,"div",33),a(36,"div",24)(37,"label",34),d(38),l(),a(39,"input",35,4),k("ngModelChange",function(c){return f(m),T(e.dataModel.toWebAddress,c)||(e.dataModel.toWebAddress=c),g(c)}),l(),a(41,"em"),d(42),l(),I(43,cu,5,3,"mat-error",29),l(),a(44,"div",24)(45,"label",36),d(46),l(),a(47,"input",37,5),k("ngModelChange",function(c){return f(m),T(e.dataModel.webAddress,c)||(e.dataModel.webAddress=c),g(c)}),l(),a(49,"em"),d(50),l(),I(51,mu,5,3,"mat-error",29),l(),a(52,"div",24)(53,"label",38),d(54),l(),a(55,"input",39,6),k("ngModelChange",function(c){return f(m),T(e.dataModel.carryToWebAddress,c)||(e.dataModel.carryToWebAddress=c),g(c)}),l(),a(57,"em"),d(58),l(),I(59,pu,5,3,"mat-error",29),l(),a(60,"div",24)(61,"label",40),d(62),l(),a(63,"input",41,7),k("ngModelChange",function(c){return f(m),T(e.dataModel.smallPreview,c)||(e.dataModel.smallPreview=c),g(c)}),l(),a(65,"em"),d(66),l(),I(67,uu,5,3,"mat-error",29),l(),a(68,"div",24)(69,"label",42),d(70),l(),a(71,"input",43,8),h(73,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.clickPrice,c)||(e.dataModel.clickPrice=c),g(c)}),l(),I(74,fu,5,3,"mat-error",29),l(),a(75,"div",24)(76,"label",44),d(77),l(),a(78,"input",45,9),h(80,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.viewPrice,c)||(e.dataModel.viewPrice=c),g(c)}),l(),I(81,gu,5,3,"mat-error",29),l(),a(82,"div",24)(83,"label",46),d(84),l(),a(85,"input",47,10),h(87,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.maxPriceOfSharePerDay,c)||(e.dataModel.maxPriceOfSharePerDay=c),g(c)}),l(),I(88,hu,5,3,"mat-error",29),l(),a(89,"div",24)(90,"label",48),d(91),l(),a(92,"input",49,11),h(94,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.maxPriceOfShareTotal,c)||(e.dataModel.maxPriceOfShareTotal=c),g(c)}),l(),I(95,_u,5,3,"mat-error",29),l(),a(96,"div",24)(97,"label",50),d(98),l(),a(99,"input",51,12),h(101,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.formulaPercent,c)||(e.dataModel.formulaPercent=c),g(c)}),l(),I(102,Su,5,3,"mat-error",29),l(),a(103,"div",24)(104,"label",52),d(105),l(),a(106,"input",53,13),h(108,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentClickCount,c)||(e.dataModel.currentClickCount=c),g(c)}),l(),I(109,Mu,5,3,"mat-error",29),l(),a(110,"div",24)(111,"label",54),d(112),l(),a(113,"input",55,14),h(115,"translate"),k("ngModelChange",function(c){return f(m),T(e.dataModel.currentViewCount,c)||(e.dataModel.currentViewCount=c),g(c)}),l(),I(116,Cu,5,3,"mat-error",29),l(),I(117,Iu,7,7,"div",56),l(),a(118,"mat-step",57),h(119,"translate"),a(120,"app-linkmanagement-category-treeselector",58),k("optionModelChange",function(c){return f(m),T(e.dataContentCategoryModel,c)||(e.dataContentCategoryModel=c),g(c)}),w("optionSelectChecked",function(c){return f(m),g(e.onActionCategorySelectChecked(c))})("optionSelectDisChecked",function(c){return f(m),g(e.onActionCategorySelectDisChecked(c))}),l(),M(121,"br"),I(122,bu,7,7,"div",56),l(),a(123,"mat-step",59),h(124,"translate"),a(125,"p"),d(126),h(127,"translate"),l(),a(128,"div",60)(129,"a",61),h(130,"cmsthumbnail"),I(131,vu,2,3,"img",62),l()(),I(132,wu,8,15,"div",63)(133,Eu,7,7,"div",56),l(),I(134,yu,2,0,"ng-template",64)(135,Tu,2,0,"ng-template",65)(136,ku,2,0,"ng-template",66)(137,Au,2,0,"ng-template",67),l()()()()}if(t&2){let m=R(19),S=R(29),c=R(40),D=R(48),B=R(56),V=R(64),Y=R(72),X=R(79),ti=R(86),Wn=R(93),Hn=R(100),qn=R(107),jn=R(114);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",_(7,77,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",_(13,79,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),C("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",_(26,81,"TITLE.Billboard_Pattern")),r(3),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(_(33,83,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.accessWatchField),r(3),v(e.fieldsInfo.toWebAddress==null?null:e.fieldsInfo.toWebAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.toWebAddress==null?null:e.fieldsInfo.toWebAddress.fieldTitle),y("ngModel",e.dataModel.toWebAddress),r(3),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(3),v(e.fieldsInfo.webAddress==null?null:e.fieldsInfo.webAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.webAddress==null?null:e.fieldsInfo.webAddress.fieldTitle),y("ngModel",e.dataModel.webAddress),r(3),C("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.carryToWebAddress==null?null:e.fieldsInfo.carryToWebAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.carryToWebAddress==null?null:e.fieldsInfo.carryToWebAddress.fieldTitle),y("ngModel",e.dataModel.carryToWebAddress),r(3),C("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.smallPreview==null?null:e.fieldsInfo.smallPreview.fieldTitle),r(),A("placeholder",e.fieldsInfo.smallPreview==null?null:e.fieldsInfo.smallPreview.fieldTitle),y("ngModel",e.dataModel.smallPreview),r(3),C("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",_(73,85,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",Y.errors==null?null:Y.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",_(80,87,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",X.errors==null?null:X.errors.required),r(3),v(e.fieldsInfo.maxPriceOfSharePerDay==null?null:e.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),r(),A("placeholder",_(87,89,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.maxPriceOfSharePerDay),r(3),p("ngIf",ti.errors==null?null:ti.errors.required),r(3),v(e.fieldsInfo.maxPriceOfShareTotal==null?null:e.fieldsInfo.maxPriceOfShareTotal.fieldTitle),r(),A("placeholder",_(94,91,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.maxPriceOfShareTotal),r(3),p("ngIf",Wn.errors==null?null:Wn.errors.required),r(3),v(e.fieldsInfo.formulaPercent==null?null:e.fieldsInfo.formulaPercent.fieldTitle),r(),A("placeholder",_(101,93,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.formulaPercent),r(3),p("ngIf",Hn.errors==null?null:Hn.errors.required),r(3),v(e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle),r(),A("placeholder",_(108,95,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.currentClickCount),r(3),p("ngIf",qn.errors==null?null:qn.errors.required),r(3),v(e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle),r(),A("placeholder",_(115,97,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.currentViewCount),r(3),p("ngIf",jn.errors==null?null:jn.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(119,99,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",_(124,101,"TITLE.ATTACH_FILES")),r(3),v(_(127,103,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",_(130,105,e.dataModel.linkMainImageIdSrc),K),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,we,Nt,Ft,z,Ve,Pt,Ot,Q,be,J,he,_e,ie,ve,Ee,Ce,q,vi,wi,Ei,yi,bi,ke,U,Ti,Je,xi,Xt,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let i=s;return i})();var xu=()=>["expandedTitle"],Lu=()=>["expandedDetail"],Ru=()=>[5,10,20,100],jo=i=>({display:i});function Du(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",51),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),M(2,"i",52)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.ADD")))}function Bu(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",9),w("click",function(){f(o);let t=u();return g(t.onActionButtonLog())}),M(2,"i",53)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.REPORTS")))}function Vu(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",54),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",55)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.EDIT")))}function Pu(i,s){if(i&1){let o=E();a(0,"div",18)(1,"a",56),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",57)(3,"br"),l(),a(4,"p",21),d(5),h(6,"translate"),l()()}i&2&&(r(5),v(_(6,1,"ACTION.DELETE")))}function Ou(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.MENU")," "))}function Nu(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",58),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),M(2,"i",59),l()()}}function Fu(i,s){i&1&&(a(0,"mat-header-cell",60),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.PICTURE")," "))}function Gu(i,s){if(i&1&&(M(0,"img",62),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function Wu(i,s){if(i&1&&(a(0,"mat-cell"),I(1,Gu,2,3,"img",61),l()),i&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Hu(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function qu(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.id," ")}}function ju(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Uu(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"cmssiteinfo"),h(3,"async"),l()),i&2){let o=s.$implicit;r(),C(" ",_(3,3,_(2,1,o.linkSiteId))," ")}}function zu(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Qu(i,s){if(i&1&&M(0,"select",65),i&2){let o=u().$implicit,n=u();p("contentService",n.contentService)("row",o)("ngStyle",je(3,jo,o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id)?"":"none"))}}function Ku(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",63),h(2,"statusIconClass"),I(3,Qu,1,5,"select",64),l()),i&2){let o=s.$implicit,n=u();r(),p("ngClass",_(2,2,o.recordStatus)),r(2),p("ngIf",n.dataModelResult==null||n.dataModelResult.access==null?null:n.dataModelResult.access.accessEditRow)}}function Ju(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle," ")}}function Xu(i,s){if(i&1&&(a(0,"mat-cell"),M(1,"i",63),h(2,"boolclass"),l()),i&2){let o=s.$implicit;r(),p("ngClass",_(2,1,o.isPublic))}}function Yu(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.currentViewCount==null?null:o.fieldsInfo.currentViewCount.fieldTitle," ")}}function Zu(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.currentViewCount," ")}}function $u(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.currentClickCount==null?null:o.fieldsInfo.currentClickCount.fieldTitle," ")}}function ef(i,s){if(i&1&&(a(0,"mat-cell"),d(1),l()),i&2){let o=s.$implicit;r(),C(" ",o.currentClickCount," ")}}function tf(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function nf(i,s){if(i&1&&(a(0,"mat-cell",66),d(1),h(2,"localeDateTime"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.createdDate)," ")}}function of(i,s){if(i&1&&(a(0,"mat-header-cell",60),d(1),l()),i&2){let o=u();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function rf(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"localeDate"),l()),i&2){let o=s.$implicit;r(),C(" ",_(2,1,o.updatedDate)," ")}}function af(i,s){i&1&&(a(0,"mat-header-cell"),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.OPTION")," "))}function lf(i,s){if(i&1&&(a(0,"mat-cell",67)(1,"button",68)(2,"mat-icon"),d(3,"more_vert"),l()(),M(4,"mat-menu",null,2),l()),i&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function sf(i,s){i&1&&(a(0,"mat-header-cell",60),d(1),h(2,"translate"),l()),i&2&&(r(),C(" ",_(2,1,"TITLE.LINKTO")," "))}function df(i,s){if(i&1){let o=E();a(0,"mat-cell")(1,"button",69),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionButtonLinkTo(t))}),a(2,"mat-icon",70),d(3,"\u2197"),l()()()}}function cf(i,s){if(i&1&&(a(0,"mat-cell"),d(1),h(2,"translate"),h(3,"localeDateTime"),M(4,"br"),d(5),h(6,"translate"),M(7,"br"),d(8),h(9,"translate"),l()),i&2){let o=s.$implicit;r(),Re(" ",_(2,7,"TITLE.CreationDate")," : ",_(3,9,o.createdDate)," "),r(4),Re(" ",_(6,11,"TITLE.CurrentNumberOfClicks")," : ",o.currentClickCount," "),r(3),Un(" ",_(9,13,"TITLE.CurrentViewCount")," : ",o.CurrentViewCount," ",o.currentViewCount," ")}}function mf(i,s){if(i&1&&(M(0,"img",73),h(1,"cmsthumbnail")),i&2){let o=u().$implicit;A("src",_(1,1,o.linkMainImageIdSrc),K)}}function pf(i,s){if(i&1&&(a(0,"tr"),M(1,"td"),a(2,"td"),d(3),l()()),i&2){let o=u().$implicit,n=u();r(3),Re("",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," : ",o.title,"")}}function uf(i,s){if(i&1){let o=E();a(0,"tr"),M(1,"td"),a(2,"td"),d(3),a(4,"span",74),w("click",function(){f(o);let t=u(2);return g(t.onActionCopied())}),M(5,"i",75),l(),a(6,"a",76),d(7),l()()()}if(i&2){let o=u().$implicit,n=u();r(3),C(" ",n.fieldsInfo.webAddress==null?null:n.fieldsInfo.webAddress.fieldTitle," : "),r(),p("cdkCopyToClipboard",o.toWebAddress),r(2),A("href",o.toWebAddress,K),r(),v(o.toWebAddress)}}function ff(i,s){if(i&1){let o=E();a(0,"tr"),M(1,"td"),a(2,"td"),d(3),h(4,"translate"),a(5,"span",77),w("click",function(){f(o);let t=u(2);return g(t.onActionCopied())}),M(6,"i",75),l(),d(7,"\xA0 "),a(8,"a",78),d(9),l()()()}if(i&2){let o=u().$implicit;r(3),C(" ",_(4,4,"TITLE.Short_link")," : "),r(2),p("cdkCopyToClipboard",o.carryToWebAddress),r(3),A("href",o.carryToWebAddress,K),r(),v(o.carryToWebAddress)}}function gf(i,s){if(i&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),I(5,mf,2,3,"img",71),l(),a(6,"th"),d(7),l()(),I(8,pf,4,2,"tr",72)(9,uf,8,4,"tr",72)(10,ff,10,6,"tr",72),a(11,"tr"),M(12,"td"),a(13,"td"),d(14),l()(),a(15,"tr"),M(16,"td")(17,"td"),l()()()()),i&2){let o=s.$implicit,n=u();r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),Re("",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," : ",o.id,""),r(),p("ngIf",o.title),r(),p("ngIf",o.toWebAddress),r(),p("ngIf",o.carryToWebAddress),r(4),Re("",n.fieldsInfo.currentClickCount==null?null:n.fieldsInfo.currentClickCount.fieldTitle," : ",o.currentClickCount,"")}}function hf(i,s){i&1&&M(0,"mat-header-row")}function _f(i,s){if(i&1){let o=E();a(0,"mat-row",79),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Sf(i,s){if(i&1){let o=E();a(0,"mat-row",79),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Mf(i,s){if(i&1){let o=E();a(0,"mat-row",80),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(i&2){let o=s.$implicit,n=s.dataIndex,t=u();pe("ntk-row-odd",n%2)("ntk-row-even",!(n%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,jo,o.expanded===!0?"":"none"))}}var Gn=(()=>{let s=class s extends At{constructor(n,t,e,m,S,c,D,B,V,Y,X){if(super(n,new $t,Y,c,B),this.contentService=n,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.router=m,this.activatedRoute=S,this.tokenHelper=c,this.cdr=D,this.translate=B,this.pageInfo=V,this.publicHelper=Y,this.dialog=X,this.requestLinkBillboardPatternId=0,this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new hn,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:ti=>this.onSubmitOptionsSearch(ti)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkBillboardPatternId>0){let ti=new le;ti.propertyName="LinkBillboardPatternId",ti.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(ti)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(n=>{this.tokenInfo=n,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:n=>{this.tokenInfo=n,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $t);let n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(n,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new le;e.propertyName="linkBillboardPatternId",e.value=this.categoryModelSelected.id,t.filters.push(e)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let e=new le;e.propertyName="TargetCategories",e.propertyAnyName="linkCategoryId",e.value=this.categoryPatternModelSelected.id,t.filters.push(e)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(n)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?this.tableSource.sort.start==="asc"?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(n){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new hn,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryPatternModelSelected=n,this.DataGetAll()}onActionSelectorSelectCategory(n){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new hn,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=n,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/target/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(n),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{t=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(m=>{if(m){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(S,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{t.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{t.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonLinkTo(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(n.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.tableRowSelected=n;let t=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_news_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.contentService.ServiceGetOneById(n.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(so,{height:"90%",width:"90%",panelClass:m,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}onActionButtonLog(n=this.tableRowSelected){if(!n||!n.id||n.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementTargetId",n.id])}};s.\u0275fac=function(t){return new(t||s)(b(_i),b(O),b(In),b(Ne),b(ze),b(Pe),b(F),b(G),b(rt),b(N),b(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-list"]],features:[Z],decls:93,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsPublic"],["matColumnDef","CurrentViewCount"],["matColumnDef","CurrentClickCount"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["target","_blank",1,"short-link",3,"href"],[1,"navi-icon","cursor",3,"click","cdkCopyToClipboard"],["target","_blank",3,"href"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(c){return f(m),T(e.viewGuideNotice,c)||(e.viewGuideNotice=c),g(c)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectPattern(c))}),l(),a(3,"app-linkmanagement-category-tree",5),w("optionChange",function(c){return f(m),g(e.onActionSelectorSelectCategory(c))}),l(),L(),Le(4,6)(5,7),x(6,8),a(7,"a",9),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),M(8,"i",10),l(),a(9,"a",9),w("click",function(){return f(m),g(e.onActionButtonReload())}),M(10,"i",11),l(),L(),x(11,12),a(12,"a",13),w("click",function(){return f(m),g(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(13,"mat-slide-toggle",14),d(14),h(15,"translate"),l(),a(16,"a",13),w("click",function(){return f(m),g(e.onActionButtonStatist())}),M(17,"mat-slide-toggle",14),d(18),h(19,"translate"),l(),L(),x(20,15),I(21,Du,7,3,"div",16)(22,Bu,7,3,"div",16),L(),x(23,17),I(24,Vu,7,3,"div",16)(25,Pu,7,3,"div",16),a(26,"div",18)(27,"a",19),w("click",function(){return f(m),g(e.onActionButtonLog(e.tableRowSelected))}),M(28,"i",20)(29,"br"),l(),a(30,"p",21),d(31),h(32,"translate"),l()(),a(33,"div",18)(34,"a",9),w("click",function(){return f(m),g(e.onActionButtonLinkTo(e.tableRowSelected))}),M(35,"i",22)(36,"br"),l(),a(37,"p",21),d(38),h(39,"translate"),l()(),L(),x(40,23),a(41,"app-cms-search-list",24),k("optionsChange",function(c){return f(m),T(e.optionsSearch,c)||(e.optionsSearch=c),g(c)}),l(),a(42,"app-cms-statist-list",24),k("optionsChange",function(c){return f(m),T(e.optionsStatist,c)||(e.optionsStatist=c),g(c)}),l(),L(),x(43,25),a(44,"mat-table",26,0),w("matSortChange",function(){f(m);let c=R(45);return g(e.onTableSortData(c))}),x(46,27),I(47,Ou,3,3,"mat-header-cell",28)(48,Nu,3,0,"mat-cell",29),L(),x(49,30),I(50,Fu,3,3,"mat-header-cell",31)(51,Wu,2,1,"mat-cell",29),L(),x(52,32),I(53,Hu,2,1,"mat-header-cell",31)(54,qu,2,1,"mat-cell",29),L(),x(55,33),I(56,ju,2,1,"mat-header-cell",31)(57,Uu,4,5,"mat-cell",29),L(),x(58,34),I(59,zu,2,1,"mat-header-cell",31)(60,Ku,4,4,"mat-cell",29),L(),x(61,35),I(62,Ju,2,1,"mat-header-cell",31)(63,Xu,3,3,"mat-cell",29),L(),x(64,36),I(65,Yu,2,1,"mat-header-cell",31)(66,Zu,2,1,"mat-cell",29),L(),x(67,37),I(68,$u,2,1,"mat-header-cell",31)(69,ef,2,1,"mat-cell",29),L(),x(70,38),I(71,tf,2,1,"mat-header-cell",31)(72,nf,3,3,"mat-cell",39),L(),x(73,40),I(74,of,2,1,"mat-header-cell",31)(75,rf,3,3,"mat-cell",29),L(),x(76,41),I(77,af,3,3,"mat-header-cell",28)(78,lf,6,1,"mat-cell",42),L(),x(79,43),I(80,sf,3,3,"mat-header-cell",31)(81,df,4,0,"mat-cell",29),L(),x(82,44),I(83,cf,10,15,"mat-cell",29),L(),x(84,45),I(85,gf,18,8,"mat-cell",29),L(),I(86,hf,1,0,"mat-header-row",46)(87,_f,1,6,"mat-row",47)(88,Sf,1,6,"mat-row",47)(89,Mf,1,9,"mat-row",48),l(),L(),x(90,49),a(91,"mat-paginator",50,1),w("page",function(c){return f(m),g(e.onTablePageingData(c))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(13),p("checked",e.optionsSearch.data.show),r(),C("",_(15,29,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",_(19,31,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(_(32,33,"ACTION.LOG")),r(7),v(_(39,35,"TITLE.LINKTO")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(42),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(37,xu)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(38,Lu)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(39,Ru)))},dependencies:[tt,W,Vt,Ge,Ce,q,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,ht,_t,Ct,It,Mi,Et,yt,wt,Ut,kn,An,Oe,H,bt,Se,Tt,Mn,vt,Sn],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.short-link[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;direction:ltr}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]});let i=s;return i})();var Cf=[{path:"",component:po,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-N2FIIMRS.js").then(i=>i.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:Gn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:Gn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:Ho,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:Id",component:qo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:Fn,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:Fn,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:Eo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:Id",component:yo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:sn,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:sn,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:sn,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:sn,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:vo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:bo,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:Bn,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:Bn,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:No,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}],Uo=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=cn({type:s}),s.\u0275inj=dn({imports:[xn.forChild(Cf),xn]});let i=s;return i})();var oM=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=cn({type:s}),s.\u0275inj=dn({providers:[to,oe,io,no,In,He,qt,Kt,Jt,nt,Di,jt,_i,Bi,Si,ot],imports:[Qn,Uo,Kn,Jn.withConfig({warnOnNgModelWithFormControl:"never"}),co,mo,$n,Xn,ao,eo,oo]});let i=s;return i})();export{oM as LinkManagementModule};
