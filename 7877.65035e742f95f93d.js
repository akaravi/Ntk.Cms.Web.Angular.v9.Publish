"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[7877],{9654:(E,v,o)=>{o.d(v,{B:()=>e});var n=o(4537);let e=(()=>{class m{transform(g,l){if(!l||0===l.length)return"";const d=l.find(h=>h.key===g||h.value===g);return d?d.description:""}static \u0275fac=function(l){return new(l||m)};static \u0275pipe=n.Yjl({name:"enums",type:m,pure:!0})}return m})()},4351:(E,v,o)=>{o.d(v,{u:()=>f});var n=o(4537),e=o(4511),m=o(656),t=o(6707),g=o(4032),l=o(8692),d=o(1997);function h(p,T){if(1&p){const a=n.EpF();n.TgZ(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title"),n._uU(4),n.qZA()(),n._UZ(5,"img",4),n.TgZ(6,"mat-card-content")(7,"p",5),n._uU(8),n.qZA()(),n.TgZ(9,"mat-card-actions")(10,"button",6),n.NdJ("click",function(){const r=n.CHM(a).$implicit,u=n.oxw();return n.KtG(u.onActionSelectBank(r))}),n._uU(11),n.ALo(12,"translate"),n.qZA()()()()}if(2&p){const a=T.$implicit;n.xp6(4),n.Oqu(a.title),n.xp6(1),n.s9C("src",a.linkModuleFileLogoIdSrc,n.LSH),n.xp6(3),n.hij(" ",a.title," "),n.xp6(3),n.Oqu(n.lcZ(12,4,"ACTION.SELECT"))}}let f=(()=>{class p{bankPaymentPrivateSiteConfigService;translate;cdr;publicHelper;static nextId=0;id=++p.nextId;constructor(a,s,c,r){this.bankPaymentPrivateSiteConfigService=a,this.translate=s,this.cdr=c,this.publicHelper=r,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.loading.message=u})}optionMasterItem=!1;errorMessage="";optionChange=new n.vpe;dataModelSelect=new e.WC3;set optionloading(a){a&&(this.loading=a)}loading=new m.O;dataModelResult=new e.y$4;dataModel=new e.oWQ;onActionFileSelected(a){this.dataModel.linkMainImageId=a.id,this.dataModel.linkMainImageIdSrc=a.downloadLinksrc}ngOnInit(){this.DataGetAll()}DataGetAll(){if(this.optionMasterItem){const a=this.constructor.name+"main";this.publicHelper.processService.processStart(a),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayCoreList().subscribe({next:s=>{s.isSuccess?(this.dataModelResult=s,this.dataModelResult.listItems&&0!=this.dataModelResult.listItems.length?this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelectBank(this.dataModelResult.listItems[0]):this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active")):this.errorMessage=s.errorMessage,this.publicHelper.processService.processStop(a)},error:s=>{this.errorMessage=s,this.publicHelper.processService.processStop(a,!1)}})}else{const a=this.constructor.name+"main";this.publicHelper.processService.processStart(a),this.bankPaymentPrivateSiteConfigService.ServicePaymentGatewayList().subscribe({next:s=>{s.isSuccess?(this.dataModelResult=s,this.dataModelResult.listItems&&0!=this.dataModelResult.listItems.length?this.dataModelResult.listItems&&1==this.dataModelResult.listItems.length&&this.onActionSelectBank(this.dataModelResult.listItems[0]):this.errorMessage=this.translate.instant("MESSAGE.Payment_portal_is_not_active")):this.errorMessage=s.errorMessage,this.publicHelper.processService.processStop(a)},error:s=>{this.errorMessage=s,this.publicHelper.processService.processStop(a,!1)}})}}onActionSelectBank(a){this.dataModelSelect=a,this.optionChange.emit(this.dataModelSelect)}static \u0275fac=function(s){return new(s||p)(n.Y36(e.WyF),n.Y36(t.sK),n.Y36(n.sBO),n.Y36(g.i))};static \u0275cmp=n.Xpm({type:p,selectors:[["app-cms-bankpayment-grid"]],inputs:{optionMasterItem:"optionMasterItem",optionloading:"optionloading"},outputs:{optionChange:"optionChange"},decls:3,vars:2,consts:[[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[2,"max-width","200px"],[1,"rounded","mx-auto","d-block","mat-card-image",2,"width","95%","height","95%",3,"src"],[1,"d-flex","justify-content-center"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(s,c){1&s&&(n.TgZ(0,"div",0),n._uU(1),n.YNc(2,h,13,6,"div",1),n.qZA()),2&s&&(n.xp6(1),n.hij(" ",c.errorMessage," "),n.xp6(1),n.Q6J("ngForOf",c.dataModelResult.listItems))},dependencies:[l.sg,d.a8,d.hq,d.dn,d.dk,d.n5,t.X$],encapsulation:2})}return p})()},7907:(E,v,o)=>{o.d(v,{H:()=>c});var n=o(4536),e=o(4511),m=o(656),t=o(4537),g=o(2607),l=o(6707),d=o(4032),h=o(8692),f=o(5738),p=o(6866),T=o(9654);function a(r,u){1&r&&(t.TgZ(0,"div"),t._UZ(1,"span",13)(2,"br"),t.qZA()),2&r&&(t.xp6(1),t.Q6J("inlineSVG","assets/media/svg/icons/General/Shield-check.svg"))}function s(r,u){if(1&r&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",10),t._uU(6),t.qZA(),t._UZ(7,"div",11),t.qZA(),t.TgZ(8,"div",9)(9,"div",10),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",10),t.YNc(13,a,3,1,"div",12),t._uU(14),t.ALo(15,"enums"),t.qZA(),t._UZ(16,"div",11),t.qZA(),t.TgZ(17,"div",9)(18,"div",10),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",10),t._uU(22),t.qZA(),t._UZ(23,"div",11),t.qZA(),t.TgZ(24,"div",9)(25,"div",10),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",10),t._uU(29),t.qZA(),t._UZ(30,"div",11),t.qZA()()),2&r){const i=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,11,"TITLE.Transaction_ID")),t.xp6(3),t.Oqu(i.dataModelResult.item.id),t.xp6(4),t.AsE("",t.lcZ(11,13,"TITLE.Transaction_status"),":",i.requestId,""),t.xp6(3),t.Q6J("ngIf",i.dataModelResult.item.transactionStatus===i.TransactionSuccessful),t.xp6(1),t.hij(" ",t.xi3(15,15,i.dataModelResult.item.transactionStatus,i.dataModelEnumTransactionRecordStatusResult.listItems)," "),t.xp6(5),t.hij(" ",t.lcZ(20,18,"TITLE.Amount")," "),t.xp6(3),t.AsE("",i.dataModelResult.item.amount," ",i.dataModelResult.item.currencyUnit,""),t.xp6(4),t.hij("",t.lcZ(27,20,"TITLE.Message")," "),t.xp6(3),t.Oqu(i.dataModelResult.item.lastStatusMessage)}}let c=(()=>{class r{data;bankPaymentTransactionService;dialogRef;bankPaymentEnumService;cmsToastrService;translate;cdr;publicHelper;static nextId=0;id=++r.nextId;requestId=0;constructor(i,_,M,I,C,S,A,O){this.data=i,this.bankPaymentTransactionService=_,this.dialogRef=M,this.bankPaymentEnumService=I,this.cmsToastrService=C,this.translate=S,this.cdr=A,this.publicHelper=O,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(P=>{this.loading.message=P}),i&&(this.requestId=+i.id||0)}loading=new m.O;get optionLoading(){return this.loading}set optionLoading(i){this.loading=i}dataModelResult=new e.y$4;dataModelEnumTransactionRecordStatusResult=new e.y$4;ngOnInit(){if(this.requestId<=0)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGeOne(),this.getEnumTransactionRecordStatus()}getEnumTransactionRecordStatus(){this.bankPaymentEnumService.ServiceTransactionRecordStatusEnum().subscribe({next:i=>{this.dataModelEnumTransactionRecordStatusResult=i}})}TransactionSuccessful=e.VnT.TransactionSuccessful;DataGeOne(){const i=this.constructor.name+"main";this.publicHelper.processService.processStart(i),this.bankPaymentTransactionService.ServiceGetOneById(this.requestId).subscribe({next:_=>{_.isSuccess?this.dataModelResult=_:this.cmsToastrService.typeErrorMessage(_.errorMessage),this.publicHelper.processService.processStop(i)},error:_=>{this.cmsToastrService.typeError(_),this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!0})}static \u0275fac=function(_){return new(_||r)(t.Y36(n.WI),t.Y36(e.zRJ),t.Y36(n.so),t.Y36(e.T7Z),t.Y36(g.e),t.Y36(l.sK),t.Y36(t.sBO),t.Y36(d.i))};static \u0275cmp=t.Xpm({type:r,selectors:[["app-cms-bankpayment-transaction-info"]],inputs:{optionLoading:"optionLoading"},decls:12,vars:9,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"optionsInfoAreaId"],["class","table",4,"ngIf"],[1,"ntk-cms-html-card-footer"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],[1,"table"],[1,"tr"],[1,"td"],[2,"clear","both"],[4,"ngIf"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"]],template:function(_,M){1&_&&(t.TgZ(0,"div",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1),t._UZ(4,"app-progress-spinner",2),t.YNc(5,s,31,22,"div",3),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"button",6),t.NdJ("click",function(){return M.onFormCancel()}),t._UZ(9,"i",7),t._uU(10),t.ALo(11,"translate"),t.qZA()()()),2&_&&(t.xp6(1),t.AsE(" ",t.lcZ(2,5,"TITLE.Transaction_status"),":",M.requestId," "),t.xp6(3),t.Q6J("optionsInfoAreaId",M.constructor.name),t.xp6(1),t.Q6J("ngIf",M.dataModelResult.item&&M.dataModelResult.item.id>0),t.xp6(5),t.hij(" ",t.lcZ(11,7,"ACTION.BACK")," "))},dependencies:[h.O5,f.O,p.d,l.X$,T.B],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return r})()},7904:(E,v,o)=>{o.d(v,{L:()=>a});var n=o(656),e=o(4537),m=o(8692);function t(s,c){1&s&&(e.TgZ(0,"div",8)(1,"p",9),e.Hsn(2,1),e.qZA()())}function g(s,c){1&s&&e._UZ(0,"div",10)}function l(s,c){1&s&&(e.TgZ(0,"div",11),e.Hsn(1,2),e.qZA())}function d(s,c){1&s&&e._UZ(0,"div",12)}function h(s,c){1&s&&e._UZ(0,"div",10)}function f(s,c){1&s&&(e.TgZ(0,"div",6)(1,"p",13),e.Hsn(2,3),e.qZA()())}const p=[[["","cms-tree-body",""]],[["","cms-tree-header",""]],[["","cms-tree-action",""]],[["","cms-tree-footer",""]]],T=["[cms-tree-body]","[cms-tree-header]","[cms-tree-action]","[cms-tree-footer]"];let a=(()=>{class s{static nextId=0;id=++s.nextId;optionHeaderDisplay=!0;optionActionMainDisplay=!0;optionFooterDisplay=!0;set optionLoading(r){this.loading=r}loading=new n.O;constructor(){}ngOnInit(){}static \u0275fac=function(u){return new(u||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["app-cms-html-tree"]],inputs:{optionHeaderDisplay:"optionHeaderDisplay",optionActionMainDisplay:"optionActionMainDisplay",optionFooterDisplay:"optionFooterDisplay",optionLoading:"optionLoading"},ngContentSelectors:T,decls:10,vars:6,consts:[[1,"card","card-style"],[1,"row","justify-content-center","tree-parent"],["class","font-14 opacity-50",4,"ngIf"],["class","divider mb-1",4,"ngIf"],["class","col-12 pe-0 tree-child-hidden",4,"ngIf"],["class","divider mb-1 tree-child-hidden",4,"ngIf"],[1,"col-12","pe-0"],["class","col-12 pe-0",4,"ngIf"],[1,"font-14","opacity-50"],[1,"text-center","mb-2","mt-2","color-highlight","font-600"],[1,"divider","mb-1"],[1,"col-12","pe-0","tree-child-hidden"],[1,"divider","mb-1","tree-child-hidden"],[1,"text-center"]],template:function(u,i){1&u&&(e.F$t(p),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,t,3,0,"div",2),e.YNc(3,g,1,0,"div",3),e.YNc(4,l,2,0,"div",4),e.YNc(5,d,1,0,"div",5),e.TgZ(6,"div",6),e.Hsn(7),e.qZA(),e.YNc(8,h,1,0,"div",3),e.YNc(9,f,3,0,"div",7),e.qZA()()),2&u&&(e.xp6(2),e.Q6J("ngIf",i.optionHeaderDisplay),e.xp6(1),e.Q6J("ngIf",i.optionHeaderDisplay),e.xp6(1),e.Q6J("ngIf",i.optionActionMainDisplay),e.xp6(1),e.Q6J("ngIf",i.optionActionMainDisplay),e.xp6(3),e.Q6J("ngIf",i.optionFooterDisplay),e.xp6(1),e.Q6J("ngIf",i.optionFooterDisplay))},dependencies:[m.O5],encapsulation:2})}return s})()}}]);