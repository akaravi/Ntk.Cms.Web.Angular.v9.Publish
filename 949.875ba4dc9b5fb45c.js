"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[949,4891],{9084:(y,v,s)=>{s.d(v,{Y:()=>A});var t=s(7241),e=s(7969),h=s(4537),a=s(4511);let A=(()=>{class f{service;constructor(C){this.service=C}transform(C){return!C||C<=0?new t.y:this.service.ServiceGetOneById(C,1e6).pipe((0,e.U)(d=>{var p="";return d.isSuccess&&(d.item.title&&d.item.title.length>0&&(p=d.item.title),d.item.id&&d.item.id>0&&(p.length>0&&(p+=" | "),p+=d.item.id),d.item.domain&&d.item.domain.length>0&&d.item.subDomain&&d.item.subDomain.length>0?(p.length>0&&(p+=" | "),p=p+d.item.subDomain+"."+d.item.domain):d.item.domain&&d.item.domain.length>0&&(p.length>0&&(p+=" | "),p+=d.item.domain)),0===p.length&&(p=C.toString()),p},d=>C.toString()))}static \u0275fac=function(d){return new(d||f)(h.Y36(a._0e,16))};static \u0275pipe=h.Yjl({name:"cmssiteinfo",type:f,pure:!0})}return f})()},5897:(y,v,s)=>{s.d(v,{Y:()=>h});var t=s(4537),e=s(5998);let h=(()=>{class a{sanitizer;constructor(f){this.sanitizer=f}transform(f){return"cms-RecordStatusEnum-cell-"+f}static \u0275fac=function(E){return new(E||a)(t.Y36(e.H7,16))};static \u0275pipe=t.Yjl({name:"statusCellClass",type:a,pure:!0})}return a})()},9835:(y,v,s)=>{s.d(v,{v:()=>x});var t=s(4537),e=s(8692),h=s(6707);let a=(()=>{class i{transform(n,u){if(!n)return[];let m=Object.keys(n);return m=m.filter(O=>O&&O.length>0&&O.toLowerCase().indexOf("antiinjection")<0),u&&u.size>0&&(m=m.filter(O=>O&&O.length>0&&u.has(O))),m}static \u0275fac=function(u){return new(u||i)};static \u0275pipe=t.Yjl({name:"listkeys",type:i,pure:!0})}return i})();function A(i,_){1&i&&(t.TgZ(0,"div",7)(1,"div",8),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",9),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function f(i,_){if(1&i&&(t.TgZ(0,"div",10)(1,"div",8),t._uU(2),t.qZA(),t.TgZ(3,"div",8),t._uU(4),t.qZA(),t._UZ(5,"div",11),t.qZA()),2&i){const n=_.$implicit,u=t.oxw(2);t.xp6(2),t.Oqu(u.optionFields&&u.optionFields.size>0?u.optionFields.get(n):n),t.xp6(2),t.Oqu(u.dataModel[n])}}function E(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,A,8,6,"div",5),t.YNc(2,f,6,2,"div",6),t.ALo(3,"listkeys"),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,n.dataModel,n.optionFields))}}function C(i,_){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&i){const n=_.$implicit,u=t.oxw(3);t.xp6(1),t.Oqu(u.optionFields&&u.optionFields.size>0?u.optionFields.get(n):n)}}function d(i,_){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,C,2,1,"div",12),t.ALo(2,"listkeys"),t._UZ(3,"div",9),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n.dataModel[0],n.optionFields))}}function p(i,_){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&i){const n=_.$implicit,u=t.oxw().$implicit;t.xp6(1),t.Oqu(u[n])}}function D(i,_){if(1&i&&(t.TgZ(0,"div",10),t.YNc(1,p,2,1,"div",12),t.ALo(2,"listkeys"),t._UZ(3,"div",11),t.qZA()),2&i){const n=_.$implicit,u=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n,u.optionFields))}}function L(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,d,4,4,"div",5),t.YNc(2,D,4,4,"div",6),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(1),t.Q6J("ngForOf",n.dataModel)}}function T(i,_){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&i){const n=_.$implicit,u=t.oxw(3);t.xp6(1),t.Oqu(u.optionFields&&u.optionFields.size>0?u.optionFields.get(n):n)}}function P(i,_){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,T,2,1,"div",12),t.ALo(2,"listkeys"),t._UZ(3,"div",9),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n.dataModel[0],n.optionFields))}}function Z(i,_){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&i){const n=_.$implicit,u=t.oxw(2);t.xp6(1),t.Oqu(u.dataModel[n])}}function S(i,_){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,P,4,4,"div",5),t.TgZ(2,"div",10),t.YNc(3,Z,2,1,"div",12),t.ALo(4,"listkeys"),t._UZ(5,"div",11),t.qZA()()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,n.dataModel,n.optionFields))}}let x=(()=>{class i{static nextId=0;id=++i.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(u){return new(u||i)};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:13,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(u,m){1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),t.qZA(),t.TgZ(4,"h4"),t._uU(5,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),t.qZA(),t.TgZ(6,"h4"),t._uU(7,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),t.qZA(),t.TgZ(8,"p"),t._uU(9," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),t.qZA(),t.YNc(10,E,4,5,"div",3),t.YNc(11,L,3,2,"div",3),t.YNc(12,S,6,5,"div",3),t.qZA()()),2&u&&(t.xp6(10),t.Q6J("ngIf",1===m.optionMethod&&m.dataModel),t.xp6(1),t.Q6J("ngIf",2===m.optionMethod&&m.dataModel),t.xp6(1),t.Q6J("ngIf",3===m.optionMethod&&m.dataModel))},dependencies:[e.sg,e.O5,h.X$,a],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return i})()},1797:(y,v,s)=>{s.d(v,{a:()=>F});var t=s(8239),e=s(4537),h=s(92),a=s(4511),A=s(7445),f=s(1927),E=s(3151),C=s(2147),d=s(1528),p=s(7969),D=s(656),L=s(6707),T=s(8692),P=s(1637),Z=s(1379),S=s(8659),x=s(3331),i=s(9665),_=s(5738);function n(g,I){if(1&g&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&g){const o=e.oxw();e.MGl("for","app-cms-site-selector-",o.id,""),e.xp6(1),e.Oqu(o.optionLabel)}}function u(g,I){if(1&g&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&g){const o=I.$implicit,r=e.oxw();e.Q6J("value",o)("disabled",r.optionDisabled),e.xp6(2),e.Oqu(r.displayOption(o))}}function m(g,I){if(1&g){const o=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(o);const c=e.oxw();return e.KtG(c.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const O=["*"];let F=(()=>{class g{coreEnumService;translate;cdr;categoryService;static nextId=0;id=++g.nextId;constructor(o,r,c,M){this.coreEnumService=o,this.translate=r,this.cdr=c,this.categoryService=M,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new a.y$4;dataModelSelect=new a.tQj;loading=new D.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}formControl=new h.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,f.O)(""),(0,E.b)(1500),(0,C.x)(),(0,d.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.id:void 0}displayOption(o){return o?o.id:void 0}DataGetAll(o){var r=this;return(0,t.Z)(function*(){const c=new a.Hay;if(c.rowPerPage=20,c.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="username",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,c.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,c.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,c.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,c.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.J6G.Equal,l.clauseType=a.ppe.Or,c.filters.push(l))}const M=r.constructor.name+"categoryService.ServiceGetAll";return r.loading.Start(M),yield(0,A.z)(r.categoryService.ServiceGetAll(c)).then(l=>(r.dataModelResult=l,r.loading.Stop(M),l.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,p.U)(r=>(r.find(c=>c.id===o.id)||r.push(o),r)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(r=>r.id===o)){const r=this.dataModelResult.listItems.find(c=>c.id===o);return this.dataModelSelect=r,void this.formControl.setValue(r)}this.categoryService.ServiceGetOneById(o).subscribe(r=>{r.isSuccess&&(this.filteredOptions=this.push(r.item),this.dataModelSelect=r.item,this.formControl.setValue(r.item),this.optionChange.emit(r.item))})}else{if(typeof o==typeof a.tQj)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.tQj,this.loadOptions()}static \u0275fac=function(r){return new(r||g)(e.Y36(a.FLW),e.Y36(L.sK),e.Y36(e.sBO),e.Y36(a.Z_L))};static \u0275cmp=e.Xpm({type:g,selectors:[["app-cms-member-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:O,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"options"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(r,c){if(1&r&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,n,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(l){return c.onActionSelect(l.option.value)}),e.YNc(6,u,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,m,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&r){const M=e.MAs(5);e.xp6(1),e.Q6J("options",c.loading),e.xp6(1),e.Q6J("ngIf",(null==c.optionLabel?null:c.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",c.optionPlaceholder),e.MGl("id","app-cms-site-selector-",c.id,""),e.Q6J("formControl",c.formControl)("matAutocomplete",M),e.uIk("disabled",!!c.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",c.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,c.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==c.dataModelSelect?null:c.dataModelSelect.id)}},dependencies:[T.sg,T.O5,h.Fj,h.JJ,h.oH,P.XC,Z.ey,P.ZL,S.R9,x.Hw,i.Nt,_.O,T.Ov],encapsulation:2})}return g})()}}]);