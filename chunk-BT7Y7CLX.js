import{a as bt}from"./chunk-TFUU2Z7G.js";import{a as Mt}from"./chunk-CQACG5XF.js";import{a as It}from"./chunk-NXDJEY7Z.js";import{b as vt}from"./chunk-QP444FFK.js";import{a as Se}from"./chunk-ML3NIS3M.js";import{Bd as _t,Dc as ut,Jd as St,Kd as yt,L as de,La as ue,M as me,Ma as fe,Mc as G,Na as Pe,O as Be,P as ke,Ta as Ge,Tc as ft,Uc as ht,Vb as Ye,Wa as U,Wb as Ze,Xb as $e,Yb as et,Zb as tt,_b as it,aa as pe,cd as _e,fc as nt,gc as ot,hc as rt,ic as at,id as gt,jc as lt,kc as st,lb as Ce,lc as ct,mb as Qe,mc as dt,nb as Q,nc as mt,o as ie,oc as pt,p as ne,pb as Je,s as oe,sa as Oe,sb as Xe,t as re,tb as P,ud as Ct,v as ae,vb as X,x as le,y as se,z as ce}from"./chunk-D3PPNHCP.js";import{b as q,c as z,q as Ke}from"./chunk-WZHZ4IQF.js";import{Cd as He,Db as $,Dc as De,Dd as je,Eb as ee,Fb as te,Hd as qe,Ia as F,Ib as V,Ic as Le,Id as ze,Jd as he,Kb as d,La as o,Lb as v,Lc as Ve,Ma as I,Mb as S,Nb as xe,Qb as w,Qd as ge,Rb as E,Sb as x,Sd as O,Ud as Ue,Vb as Te,Wb as Re,Yb as C,Za as W,Zb as _,ab as y,cb as p,cq as J,da as Y,eb as we,gc as H,hd as Fe,ja as N,ka as Z,kd as Ie,lb as l,mb as a,nb as M,ob as T,pb as R,qb as Ee,ra as f,rb as A,rf as k,sa as h,td as Ne,ub as b,vd as K,wb as u,xc as Ae,zb as D,zc as j,zd as We}from"./chunk-B4IEXLZS.js";var Ht=["vform"];function jt(t,s){if(t&1){let n=A();l(0,"app-cms-enum-record-status-selector",31),x("modelChange",function(i){f(n);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),a()}if(t&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qt(t,s){if(t&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2){let n=u();o(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function zt(t,s){t&1&&(l(0,"mat-error"),d(1," TitleResourceLanguage is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Ut(t,s){if(t&1){let n=A();l(0,"div",32)(1,"div",33)(2,"h5",34),d(3),a()(),l(4,"div",35)(5,"div",36)(6,"input",37),x("ngModelChange",function(i){f(n);let e=u();return E(e.dataModel.isDefault,i)||(e.dataModel.isDefault=i),h(i)}),a(),M(7,"label",38),a()()()}if(t&2){let n=u();o(3),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle,""),o(3),w("ngModel",n.dataModel.isDefault)}}function Qt(t,s){t&1&&(l(0,"mat-error"),d(1," Symbol is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Kt(t,s){t&1&&(l(0,"mat-error"),d(1," ExchangeBuyRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Jt(t,s){t&1&&(l(0,"mat-error"),d(1," ExchangeSaleRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function Xt(t,s){if(t&1&&(M(0,"img",39),C(1,"cmsthumbnail")),t&2){let n=u();D("src",_(1,1,n.dataModel.linkMainImageIdSrc),F)}}function Yt(t,s){if(t&1){let n=A();l(0,"div",13)(1,"label",40),b("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),d(2),C(3,"translate"),a(),l(4,"input",41,6),C(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),h(i)}),b("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),a(),l(7,"cms-file-manager",42),b("itemSelected",function(i){f(n);let e=u();return h(e.onActionFileSelected(i))}),x("openFormChange",function(i){f(n);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),h(i)}),a()()}if(t&2){let n=u();o(2),v(_(3,11,"TITLE.Icon_File")),o(2),D("placeholder",_(6,13,"TITLE.Original_File_ID")),w("ngModel",n.dataModel.linkMainImageId),o(3),p("language",n.appLanguage)("isPopup",!0),w("openForm",n.fileManagerOpenForm),p("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Zt(t,s){if(t&1){let n=A();l(0,"div",43)(1,"button",44),b("click",function(){f(n);let i=u();return h(i.onFormCancel())}),M(2,"i",45),d(3),C(4,"translate"),a(),l(5,"button",46),M(6,"i",47),d(7),C(8,"translate"),a()()}if(t&2){u();let n=V(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!n.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Lt=(()=>{let s=class s extends It{constructor(r,i,e,m,g,c,L,B){super(m,new k,c,B),this.data=r,this.dialogRef=i,this.coreEnumService=e,this.coreCurrencyService=m,this.cmsToastrService=g,this.publicHelper=c,this.cdr=L,this.translate=B,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new je,this.dataModel=new k,this.formInfo=new he,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(r=>{this.formInfo.formTitle=r}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(r,i,this.constructorInfoAreaId)}),this.coreCurrencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(r)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(r,!1)}})}onActionFileSelected(r){this.dataModel.linkMainImageId=r.id,this.dataModel.linkMainImageIdSrc=r.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(I(fe),I(ue),I(ge),I(O),I(Q),I(P),I(H),I(q))},s.\u0275cmp=N({type:s,selectors:[["app-core-currency-add"]],viewQuery:function(i,e){if(i&1&&$(Ht,5),i&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[W],decls:54,vars:38,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=A();l(0,"div",7),M(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),d(4),a(),l(5,"p"),d(6),C(7,"translate"),a(),l(8,"form",11,0),b("ngSubmit",function(){return f(m),h(e.onFormSubmit())}),y(10,jt,1,5,"app-cms-enum-record-status-selector",12),l(11,"div",13)(12,"label",14),d(13),a(),l(14,"input",15,1),x("ngModelChange",function(c){return f(m),E(e.dataModel.title,c)||(e.dataModel.title=c),h(c)}),a(),l(16,"em"),d(17),a(),y(18,qt,5,4,"mat-error",16),a(),l(19,"div",13)(20,"label",17),d(21),a(),l(22,"input",18,2),x("ngModelChange",function(c){return f(m),E(e.dataModel.title,c)||(e.dataModel.title=c),h(c)}),a(),l(24,"em"),d(25),a(),y(26,zt,5,3,"mat-error",16),a(),y(27,Ut,8,2,"div",19),l(28,"div",13)(29,"label",20),d(30),a(),l(31,"input",21,3),x("ngModelChange",function(c){return f(m),E(e.dataModel.symbol,c)||(e.dataModel.symbol=c),h(c)}),a(),l(33,"em"),d(34),a(),y(35,Qt,5,3,"mat-error",16),a(),l(36,"div",13)(37,"label",22),d(38),a(),l(39,"input",23,4),x("ngModelChange",function(c){return f(m),E(e.dataModel.exchangeBuyRatio,c)||(e.dataModel.exchangeBuyRatio=c),h(c)}),a(),y(41,Kt,5,3,"mat-error",16),a(),l(42,"div",13)(43,"label",24),d(44),a(),l(45,"input",25,5),x("ngModelChange",function(c){return f(m),E(e.dataModel.exchangeSaleRatio,c)||(e.dataModel.exchangeSaleRatio=c),h(c)}),a(),y(47,Jt,5,3,"mat-error",16),a(),l(48,"div",26)(49,"a",27),C(50,"cmsthumbnail"),y(51,Xt,2,3,"img",28),a()(),y(52,Yt,8,15,"div",29)(53,Zt,9,7,"div",30),a()()()}if(i&2){let m=V(15),g=V(23),c=V(32),L=V(40),B=V(46);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),S(" ",e.formInfo.formTitle," "),o(2),S(" ",_(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),o(3),S("",m.value.length," / 100"),o(),p("ngIf",m.errors==null?null:m.errors.required),o(3),v(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),o(),D("placeholder",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),o(3),S("",g.value.length," / 100"),o(),p("ngIf",g.errors==null?null:g.errors.required),o(),p("ngIf",e.fieldsInfo.isDefault==null?null:e.fieldsInfo.isDefault.accessWatchField),o(3),v(e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),o(),D("placeholder",e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),w("ngModel",e.dataModel.symbol),o(3),S("",c.value.length," / 20"),o(),p("ngIf",c.errors==null?null:c.errors.required),o(3),v(e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),o(),D("placeholder",e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),w("ngModel",e.dataModel.exchangeBuyRatio),o(2),p("ngIf",L.errors==null?null:L.errors.required),o(3),v(e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),o(),D("placeholder",e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),w("ngModel",e.dataModel.exchangeSaleRatio),o(2),p("ngIf",B.errors==null?null:B.errors.required),o(2),D("href",_(50,36,e.dataModel.linkMainImageIdSrc),F),o(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),o(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),o(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[j,se,ne,ce,ie,oe,re,de,me,le,ae,pe,U,_e,X,Ce,z,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=s;return t})();var $t=["vform"];function ei(t,s){if(t&1){let n=A();l(0,"app-cms-enum-record-status-selector",28),x("modelChange",function(i){f(n);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),h(i)}),a()}if(t&2){let n=u();w("model",n.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ti(t,s){if(t&1&&(l(0,"mat-error"),d(1),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2){let n=u();o(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),o(2),v(_(4,2,"MESSAGE.required"))}}function ii(t,s){if(t&1){let n=A();l(0,"div",29)(1,"div",30)(2,"h5",31),d(3),a()(),l(4,"div",32)(5,"div",33)(6,"input",34),x("ngModelChange",function(i){f(n);let e=u();return E(e.dataModel.isDefault,i)||(e.dataModel.isDefault=i),h(i)}),a(),M(7,"label",35),a()()()}if(t&2){let n=u();o(3),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle,""),o(3),w("ngModel",n.dataModel.isDefault)}}function ni(t,s){t&1&&(l(0,"mat-error"),d(1," Symbol is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function oi(t,s){t&1&&(l(0,"mat-error"),d(1," ExchangeBuyRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ri(t,s){t&1&&(l(0,"mat-error"),d(1," ExchangeSaleRatio is "),l(2,"strong"),d(3),C(4,"translate"),a()()),t&2&&(o(3),v(_(4,1,"MESSAGE.required")))}function ai(t,s){if(t&1&&(M(0,"img",36),C(1,"cmsthumbnail")),t&2){let n=u();D("src",_(1,1,n.dataModel.linkMainImageIdSrc),F)}}function li(t,s){if(t&1){let n=A();l(0,"div",12)(1,"label",37),b("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),d(2),C(3,"translate"),a(),l(4,"input",38,5),C(6,"translate"),x("ngModelChange",function(i){f(n);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),h(i)}),b("click",function(){f(n);let i=u();return h(i.fileManagerOpenForm=!0)}),a(),l(7,"cms-file-manager",39),b("itemSelected",function(i){f(n);let e=u();return h(e.onActionFileSelected(i))}),x("openFormChange",function(i){f(n);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),h(i)}),a()()}if(t&2){let n=u();o(2),v(_(3,11,"TITLE.Icon_File")),o(2),D("placeholder",_(6,13,"TITLE.Original_File_ID")),w("ngModel",n.dataModel.linkMainImageId),o(3),p("language",n.appLanguage)("isPopup",!0),w("openForm",n.fileManagerOpenForm),p("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function si(t,s){if(t&1){let n=A();l(0,"div",40)(1,"button",41),b("click",function(){f(n);let i=u();return h(i.onFormCancel())}),M(2,"i",42),d(3),C(4,"translate"),a(),l(5,"button",43),M(6,"i",44),d(7),C(8,"translate"),a()()}if(t&2){u();let n=V(9);o(3),S(" ",_(4,3,"ACTION.CANCEL")," "),o(2),p("disabled",!n.form.valid),o(2),S(" ",_(8,5,"ACTION.SAVE")," ")}}var Vt=(()=>{let s=class s extends Mt{constructor(r,i,e,m,g,c,L,B){super(m,new k,c,B),this.data=r,this.dialogRef=i,this.coreEnumService=e,this.coreCurrencyService=m,this.cmsToastrService=g,this.publicHelper=c,this.cdr=L,this.translate=B,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new He,this.dataModel=new k,this.formInfo=new he,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,r&&(this.requestId=+r.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(r=>{this.formInfo.formTitle=r}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(r,i,this.constructorInfoAreaId)}),this.coreCurrencyService.setAccessLoad(),this.coreCurrencyService.setAccessDataType(We.Editor),this.coreCurrencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(r)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(r,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let r=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(r,i,this.constructorInfoAreaId)}),this.coreCurrencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(r)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(r,!1)}})}onActionFileSelected(r){this.dataModel.linkMainImageId=r.id,this.dataModel.linkMainImageIdSrc=r.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(I(fe),I(ue),I(ge),I(O),I(Q),I(P),I(H),I(q))},s.\u0275cmp=N({type:s,selectors:[["app-core-currency-edit"]],viewQuery:function(i,e){if(i&1&&$($t,5),i&2){let m;ee(m=te())&&(e.formGroup=m.first)}},features:[W],decls:46,vars:32,consts:[["vform","ngForm"],["Title",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let m=A();l(0,"div",6),M(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),d(4),a(),l(5,"p"),d(6),C(7,"translate"),a(),l(8,"form",10,0),b("ngSubmit",function(){return f(m),h(e.onFormSubmit())}),y(10,ei,1,5,"app-cms-enum-record-status-selector",11),l(11,"div",12)(12,"label",13),d(13),a(),l(14,"input",14,1),x("ngModelChange",function(c){return f(m),E(e.dataModel.title,c)||(e.dataModel.title=c),h(c)}),a(),l(16,"em"),d(17),a(),y(18,ti,5,4,"mat-error",15),a(),y(19,ii,8,2,"div",16),l(20,"div",12)(21,"label",17),d(22),a(),l(23,"input",18,2),x("ngModelChange",function(c){return f(m),E(e.dataModel.symbol,c)||(e.dataModel.symbol=c),h(c)}),a(),l(25,"em"),d(26),a(),y(27,ni,5,3,"mat-error",15),a(),l(28,"div",12)(29,"label",19),d(30),a(),l(31,"input",20,3),x("ngModelChange",function(c){return f(m),E(e.dataModel.exchangeBuyRatio,c)||(e.dataModel.exchangeBuyRatio=c),h(c)}),a(),y(33,oi,5,3,"mat-error",15),a(),l(34,"div",12)(35,"label",21),d(36),a(),l(37,"input",22,4),x("ngModelChange",function(c){return f(m),E(e.dataModel.exchangeSaleRatio,c)||(e.dataModel.exchangeSaleRatio=c),h(c)}),a(),y(39,ri,5,3,"mat-error",15),a(),l(40,"div",23)(41,"a",24),C(42,"cmsthumbnail"),y(43,ai,2,3,"img",25),a()(),y(44,li,8,15,"div",26)(45,si,9,7,"div",27),a()()()}if(i&2){let m=V(15),g=V(24),c=V(32),L=V(38);o(),p("optionsInfoAreaId",e.constructorInfoAreaId),o(3),S(" ",e.formInfo.formTitle," "),o(2),S(" ",_(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),o(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),o(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),o(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),p("disabled",!(e.fieldsInfo.title!=null&&e.fieldsInfo.title.accessAddField)),o(3),S("",m.value.length," / 100"),o(),p("ngIf",m.errors==null?null:m.errors.required),o(),p("ngIf",e.fieldsInfo.isDefault==null?null:e.fieldsInfo.isDefault.accessWatchField),o(3),v(e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),o(),D("placeholder",e.fieldsInfo.symbol==null?null:e.fieldsInfo.symbol.fieldTitle),w("ngModel",e.dataModel.symbol),o(3),S("",g.value.length," / 20"),o(),p("ngIf",g.errors==null?null:g.errors.required),o(3),v(e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),o(),D("placeholder",e.fieldsInfo.exchangeBuyRatio==null?null:e.fieldsInfo.exchangeBuyRatio.fieldTitle),w("ngModel",e.dataModel.exchangeBuyRatio),o(2),p("ngIf",c.errors==null?null:c.errors.required),o(3),v(e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),o(),D("placeholder",e.fieldsInfo.exchangeSaleRatio==null?null:e.fieldsInfo.exchangeSaleRatio.fieldTitle),w("ngModel",e.dataModel.exchangeSaleRatio),o(2),p("ngIf",L.errors==null?null:L.errors.required),o(2),D("href",_(42,30,e.dataModel.linkMainImageIdSrc),F),o(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),o(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),o(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[j,se,ne,ce,ie,oe,re,de,me,le,ae,pe,U,_e,X,Ce,z,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=s;return t})();var ci=()=>[5,10,20,100],di=t=>({display:t});function mi(t,s){if(t&1){let n=A();l(0,"div",42)(1,"a",43),b("click",function(){f(n);let i=u();return h(i.onActionButtonNewRow())}),M(2,"i",44)(3,"br"),a(),l(4,"p",45),d(5),C(6,"translate"),a()()}t&2&&(o(5),v(_(6,1,"ACTION.ADD")))}function pi(t,s){if(t&1){let n=A();l(0,"div",42)(1,"a",46),b("click",function(){f(n);let i=u();return h(i.onActionButtonEditRow(i.tableRowSelected))}),M(2,"i",47)(3,"br"),a(),l(4,"p",45),d(5),C(6,"translate"),a()()}t&2&&(o(5),v(_(6,1,"ACTION.EDIT")))}function ui(t,s){if(t&1){let n=A();l(0,"div",42)(1,"a",48),b("click",function(){f(n);let i=u();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),M(2,"i",49)(3,"br"),a(),l(4,"p",45),d(5),C(6,"translate"),a()()}t&2&&(o(5),v(_(6,1,"ACTION.DELETE")))}function fi(t,s){if(t&1){let n=A();l(0,"div",42)(1,"a",50),b("click",function(){f(n);let i=u();return h(i.onActionButtonLog(i.tableRowSelected))}),M(2,"i",51)(3,"br"),a(),l(4,"p",45),d(5),C(6,"translate"),a()()}t&2&&(o(5),v(_(6,1,"ACTION.LOG")))}function hi(t,s){t&1&&(l(0,"mat-header-cell",52),d(1),C(2,"translate"),a()),t&2&&(o(),S(" ",_(2,1,"TITLE.PICTURE")," "))}function gi(t,s){if(t&1&&(M(0,"img",54),C(1,"cmsthumbnail")),t&2){let n=u().$implicit;D("src",_(1,1,n.linkMainImageIdSrc),F)}}function Ci(t,s){if(t&1&&(l(0,"mat-cell"),y(1,gi,2,3,"img",53),a()),t&2){let n=s.$implicit;o(),p("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function _i(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Si(t,s){if(t&1&&(l(0,"mat-cell"),d(1),a()),t&2){let n=s.$implicit;o(),S(" ",n.id," ")}}function yi(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ii(t,s){if(t&1&&M(0,"select",57),t&2){let n=u().$implicit,r=u();p("contentService",r.contentService)("row",n)("ngStyle",Re(3,di,n.id===(r.tableRowSelected==null?null:r.tableRowSelected.id)?"":"none"))}}function Mi(t,s){if(t&1&&(l(0,"mat-cell",55),C(1,"statusCellClass"),M(2,"i",55),C(3,"statusIconClass"),y(4,Ii,1,5,"select",56),a()),t&2){let n=s.$implicit,r=u();p("ngClass",_(1,3,n.recordStatus)),o(2),p("ngClass",_(3,5,n.recordStatus)),o(2),p("ngIf",r.dataModelResult==null||r.dataModelResult.access==null?null:r.dataModelResult.access.accessEditRow)}}function vi(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function bi(t,s){if(t&1&&(l(0,"mat-cell"),d(1),a()),t&2){let n=s.$implicit;o(),S(" ",n.title," ")}}function wi(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Ei(t,s){if(t&1&&(l(0,"mat-cell",58),d(1),a()),t&2){let n=s.$implicit;o(),S(" ",n.titleML," ")}}function xi(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.symbol==null?null:n.fieldsInfo.symbol.fieldTitle," ")}}function Ti(t,s){if(t&1&&(l(0,"mat-cell",58),d(1),a()),t&2){let n=s.$implicit;o(),xe(" ",n.symbol," / ",n.masterCurrency," ")}}function Ri(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.isDefault==null?null:n.fieldsInfo.isDefault.fieldTitle," ")}}function Ai(t,s){if(t&1&&(l(0,"mat-cell"),M(1,"i",55),C(2,"boolclass"),a()),t&2){let n=s.$implicit;o(),p("ngClass",_(2,1,n.isDefault))}}function Di(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.exchangeBuyRatio==null?null:n.fieldsInfo.exchangeBuyRatio.fieldTitle," ")}}function Li(t,s){if(t&1&&(l(0,"mat-cell",58),d(1),C(2,"number"),a()),t&2){let n=s.$implicit;o(),S(" ",_(2,1,n.exchangeBuyRatio)," ")}}function Vi(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.exchangeSaleRatio==null?null:n.fieldsInfo.exchangeSaleRatio.fieldTitle," ")}}function Bi(t,s){if(t&1&&(l(0,"mat-cell",58),d(1),C(2,"number"),a()),t&2){let n=s.$implicit;o(),S(" ",_(2,1,n.exchangeSaleRatio)," ")}}function ki(t,s){if(t&1&&(l(0,"mat-header-cell",52),d(1),a()),t&2){let n=u();o(),S(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function Fi(t,s){if(t&1&&(l(0,"mat-cell"),d(1),C(2,"localeDate"),a()),t&2){let n=s.$implicit;o(),S(" ",_(2,1,n.updatedDate)," ")}}function Oi(t,s){t&1&&(l(0,"mat-header-cell"),d(1),C(2,"translate"),a()),t&2&&(o(),S(" ",_(2,1,"TITLE.OPTION")," "))}function Pi(t,s){if(t&1&&(l(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),d(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),t&2){let n=V(5);o(),p("matMenuTriggerFor",n)}}function Gi(t,s){t&1&&M(0,"mat-header-row")}function Ni(t,s){if(t&1){let n=A();l(0,"mat-row",61),b("click",function(){let i=f(n).$implicit,e=u();return h(e.onActionTableRowSelect(i))}),a()}if(t&2){let n=s.$implicit,r=s.dataIndex,i=u();we("ntk-row-odd",r%2)("ntk-row-even",!(r%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bt=(()=>{let s=class s extends bt{constructor(r,i,e,m,g,c,L,B,be,Ft){super(r,new k,be,g,L),this.contentService=r,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.router=m,this.tokenHelper=g,this.cdr=c,this.translate=L,this.pageInfo=B,this.publicHelper=be,this.dialog=Ft,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ze,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Ot=>this.onSubmitOptionsSearch(Ot)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=K.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(r=>{this.tokenInfo=r,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:r=>{this.tokenInfo=r,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new k);let r=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(r,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(r)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(r,!1)}})}onTableSortData(r){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===r.active?this.tableSource.sort.start==="asc"?(r.start="desc",this.filteModelContent.sortColumn=r.active,this.filteModelContent.sortType=K.Descending):this.tableSource.sort.start==="desc"?(r.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=K.Ascending):r.start="desc":(this.filteModelContent.sortColumn=r.active,this.filteModelContent.sortType=K.Descending),this.tableSource.sort=r,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(r){this.filteModelContent.currentPageNumber=r.pageIndex+1,this.filteModelContent.rowPerPage=r.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var r="";this.tokenHelper.isMobile?r="dialog-fullscreen":r="dialog-min",this.dialog.open(Lt,{height:"90%",panelClass:r,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(r=this.tableRowSelected){if(!r||!r.id||r.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(r),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Vt,{height:"90%",panelClass:i,enterAnimationDuration:J.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:J.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonLog(r=this.tableRowSelected){if(!r||!r.id||r.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(r),this.router.navigate(["/corelog/currency/",r.id])}onActionButtonDeleteRow(r=this.tableRowSelected){if(!r||!r.id||r.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(r),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{i=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(m=>{if(m){let g=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(g,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(g)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(g,!1)}})}}).catch(()=>{})}onActionButtonUserList(r=this.tableRowSelected){if(!r||!r.id||r.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(r),this.router.navigate(["/core/site/userlist/LinkCurrencyId/",this.tableRowSelected.id])}onActionButtonStatist(r=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=r,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{i.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{i.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),g=new qe;g.propertyName="RecordStatus",g.value=Ne.Available,m.filters.push(g),this.contentService.ServiceGetCount(m).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(L=>{i.set(L,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(r){this.filteModelContent.filters=r,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(I(O),I(Q),I(Se),I(Fe),I(Ke),I(H),I(q),I(Xe),I(P),I(Pe))},s.\u0275cmp=N({type:s,selectors:[["app-core-currency-list"]],features:[W],decls:69,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","Symbol"],["matColumnDef","IsDefault"],["matColumnDef","ExchangeBuyRatio"],["matColumnDef","ExchangeSaleRatio"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"grid-row-ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let m=A();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return f(m),E(e.viewGuideNotice,c)||(e.viewGuideNotice=c),h(c)}),b("optionOnActionButtonMemoRow",function(){return f(m),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),h(e.onActionButtonPrintRow())}),T(1,4),d(2," -------------------------------------- "),R(),Ee(3,5)(4,6),T(5,7),l(6,"a",8),b("click",function(){return f(m),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),a(),l(8,"a",8),b("click",function(){return f(m),h(e.onActionButtonReload())}),M(9,"i",10),a(),R(),T(10,11),l(11,"a",12),b("click",function(){return f(m),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),d(13),C(14,"translate"),a(),l(15,"a",12),b("click",function(){return f(m),h(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),d(17),C(18,"translate"),a(),R(),T(19,14),y(20,mi,7,3,"div",15),R(),T(21,16),y(22,pi,7,3,"div",15)(23,ui,7,3,"div",15)(24,fi,7,3,"div",15),R(),T(25,17),l(26,"app-cms-search-list",18),x("optionsChange",function(c){return f(m),E(e.optionsSearch,c)||(e.optionsSearch=c),h(c)}),a(),l(27,"app-cms-statist-list",18),x("optionsChange",function(c){return f(m),E(e.optionsStatist,c)||(e.optionsStatist=c),h(c)}),a(),R(),T(28,19),l(29,"mat-table",20,0),b("matSortChange",function(){f(m);let c=V(30);return h(e.onTableSortData(c))}),T(31,21),y(32,hi,3,3,"mat-header-cell",22)(33,Ci,2,1,"mat-cell",23),R(),T(34,24),y(35,_i,2,1,"mat-header-cell",22)(36,Si,2,1,"mat-cell",23),R(),T(37,25),y(38,yi,2,1,"mat-header-cell",22)(39,Mi,5,7,"mat-cell",26),R(),T(40,27),y(41,vi,2,1,"mat-header-cell",22)(42,bi,2,1,"mat-cell",23),R(),T(43,28),y(44,wi,2,1,"mat-header-cell",22)(45,Ei,2,1,"mat-cell",29),R(),T(46,30),y(47,xi,2,1,"mat-header-cell",22)(48,Ti,2,2,"mat-cell",29),R(),T(49,31),y(50,Ri,2,1,"mat-header-cell",22)(51,Ai,3,3,"mat-cell",23),R(),T(52,32),y(53,Di,2,1,"mat-header-cell",22)(54,Li,3,3,"mat-cell",29),R(),T(55,33),y(56,Vi,2,1,"mat-header-cell",22)(57,Bi,3,3,"mat-cell",29),R(),T(58,34),y(59,ki,2,1,"mat-header-cell",22)(60,Fi,3,3,"mat-cell",23),R(),T(61,35),y(62,Oi,3,3,"mat-header-cell",36)(63,Pi,6,1,"mat-cell",37),R(),y(64,Gi,1,0,"mat-header-row",38)(65,Ni,1,6,"mat-row",39),a(),R(),T(66,40),l(67,"mat-paginator",41,1),b("page",function(c){return f(m),h(e.onTablePageingData(c))}),a(),R(),a()}i&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),o(12),p("checked",e.optionsSearch.data.show),o(),S("",_(14,24,"ACTION.SEARCH")," "),o(3),p("checked",e.optionsStatist.data.show),o(),S("",_(18,26,"ACTION.STATIST")," "),o(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),o(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),o(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),o(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),o(2),w("options",e.optionsSearch),o(),w("options",e.optionsStatist),o(2),p("dataSource",e.tableSource),o(35),p("matHeaderRowDef",e.tabledisplayedColumns),o(),p("matRowDefColumns",e.tabledisplayedColumns),o(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Te(28,ci)))},dependencies:[Ae,j,De,Oe,Ge,U,Ye,Ze,$e,et,tt,it,nt,rt,ct,at,ot,dt,lt,st,mt,pt,Ct,_t,gt,ut,Le,z,G,St,ht,ft,Je],encapsulation:2});let t=s;return t})();var Wi=[{path:"",children:[{path:"",component:Bt}]}],kt=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Z({type:s}),s.\u0275inj=Y({imports:[Ie.forChild(Wi),Ie]});let t=s;return t})();var Qn=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Z({type:s}),s.\u0275inj=Y({providers:[O,Ue,Se],imports:[Ve,Be,kt,ke.withConfig({warnOnNgModelWithFormControl:"never"}),yt,vt,Qe]});let t=s;return t})();export{Qn as CoreCurrencyCmsModule};
