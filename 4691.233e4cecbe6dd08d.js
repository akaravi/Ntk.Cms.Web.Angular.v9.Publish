"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4691],{4691:(Be,I,a)=>{a.r(I),a.d(I,{CoreSiteCategoryCmsModule:()=>He});var f=a(8692),m=a(92),d=a(4511),G=a(4592),b=a(6114),O=a(4252),_=a(2340),S=a(4536),J=a(1730),e=a(4537),A=a(2607),M=a(4032),g=a(6707),w=a(8659),y=a(9665),Z=a(2260),R=a(7529),T=a(4721);const U=["vform"];function q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",20),e.NdJ("modelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function F(n,c){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function H(n,c){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Description is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function B(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",24),e._UZ(6,"i",25),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let k=(()=>{class n extends J.c{data;dialogRef;coreEnumService;coreSiteCategoryService;cmsToastrService;publicHelper;cdr;translate;constructor(t,i,o,s,r,l,p,C){super(s,new d.MCb,l),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreSiteCategoryService=s,this.cmsToastrService=r,this.publicHelper=l,this.cdr=p,this.translate=C,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.loading.message=h}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModelResult=new d.y$4;dataModel=new d.MCb;formInfo=new d.LEF;fileManagerOpenForm=!1;ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreSiteCategoryService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(d.FLW),e.Y36(d.PwI),e.Y36(A.e),e.Y36(M.i),e.Y36(e.sBO),e.Y36(g.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-sitecategory-add"]],viewQuery:function(i,o){if(1&i&&e.Gf(U,5),2&i){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},features:[e.qOj],decls:39,vars:26,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Title",""],[4,"ngIf"],["for","dataModel.domains",1,"color-highlight"],["matInput","","name","dataModel.domains","type","text","placeholder","domain.com","rows","10","id","dataModel.domains",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["Domains",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],["...","","id","main","name","dataModel.ruleHtmlBody",3,"placeholder","config","ngModel","ngModelChange"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.YNc(10,q,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(11,"div",7)(12,"label",8),e._uU(13),e.qZA(),e.TgZ(14,"input",9,10),e.NdJ("ngModelChange",function(r){return o.dataModel.title=r}),e.qZA(),e.TgZ(16,"em"),e._uU(17),e.qZA(),e.YNc(18,F,5,4,"mat-error",11),e.qZA(),e.TgZ(19,"div",7)(20,"label",12),e._uU(21,"Domains"),e.qZA(),e.TgZ(22,"textarea",13,14),e.NdJ("ngModelChange",function(r){return o.dataModel.domains=r}),e._uU(24,"                "),e.qZA()(),e.TgZ(25,"div",7)(26,"label",15),e._uU(27),e.qZA(),e.TgZ(28,"textarea",16,17),e.NdJ("ngModelChange",function(r){return o.dataModel.description=r}),e._uU(30,"                "),e.qZA(),e.TgZ(31,"em"),e._uU(32),e.qZA(),e.YNc(33,H,5,3,"mat-error",11),e.qZA(),e._uU(34),e.ALo(35,"translate"),e.TgZ(36,"angular-editor",18),e.NdJ("ngModelChange",function(r){return o.dataModel.ruleHtmlBody=r}),e.ALo(37,"translate"),e.qZA(),e.YNc(38,B,9,7,"div",19),e.qZA()()()),2&i){const s=e.MAs(15),r=e.MAs(29);e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(3),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(4),e.Q6J("ngModel",o.dataModel.domains),e.xp6(5),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",r.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.hij(" ",e.lcZ(35,22,"TITLE.Rules")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(37,24,"TITLE.Enter_the_text_of_the_rules"))("config",o.publicHelper.editorConfig)("ngModel",o.dataModel.ruleHtmlBody),e.xp6(2),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[f.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,w.TO,y.Nt,Z.t,R.I,T.s6,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var Y=a(140),Q=a(656),j=a(1561),x=a(1418);function P(n,c){if(1&n&&(e._UZ(0,"img",3),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function K(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"mat-checkbox",1),e.NdJ("change",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionSelect(s))}),e.YNc(2,P,2,3,"img",2),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit,i=e.oxw();e.xp6(1),e.Q6J("checked",i.fieldsStatus.get(t.id))("disabled",i.optionDisabled),e.xp6(1),e.Q6J("ngIf",t.linkMainImageIdSrc),e.xp6(1),e.hij(" ",t.title," ")}}let $=(()=>{class n{coreEnumService;categoryService;cdr;publicHelper;translate;cmsToastrService;constructor(t,i,o,s,r,l){this.coreEnumService=t,this.categoryService=i,this.cdr=o,this.publicHelper=s,this.translate=r,this.cmsToastrService=l,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.loading.message=p})}dataModelResult=new d.y$4;dataModelSelect=[];dataIdsSelect=[];loading=new Q.O;formControl=new m.NI;fieldsStatus=new Map;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionChange=new e.vpe;optionSelectAdded=new e.vpe;optionSelectRemoved=new e.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){const t=new d.Hay;t.rowPerPage=50,t.accessLoad=!0;const i=this.constructor.name+"main";this.publicHelper.processService.processStart(i),this.categoryService.ServiceGetAll(t).subscribe({next:o=>{o.isSuccess?(this.dataModelResult=o,this.dataModelResult.listItems.forEach(s=>this.fieldsStatus.set(s.id,!1)),this.dataIdsSelect.forEach(s=>this.fieldsStatus.set(s,!0)),this.dataModelResult.listItems.forEach(s=>{this.fieldsStatus.get(s.id)&&this.dataModelSelect.push(s)})):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(i)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(d.six)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}static \u0275fac=function(i){return new(i||n)(e.Y36(d.FLW),e.Y36(d.EAm),e.Y36(e.sBO),e.Y36(M.i),e.Y36(g.sK),e.Y36(A.e))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-module-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"]],template:function(i,o){1&i&&(e.TgZ(0,"ul"),e.YNc(1,K,4,4,"li",0),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.dataModelResult.listItems))},dependencies:[f.sg,f.O5,j.oG,x.v],encapsulation:2})}return n})();const z=["vform"];function W(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",21),e.NdJ("modelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.dataModel.recordStatus=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function V(n,c){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function X(n,c){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Description is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function ee(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormCancel())}),e._UZ(2,"i",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",25),e._UZ(6,"i",26),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let te=(()=>{class n extends Y.b{data;dialogRef;coreEnumService;coreSiteCategoryService;coreSiteCategoryCmsModuleService;cmsToastrService;publicHelper;cdr;translate;requestId=0;constructor(t,i,o,s,r,l,p,C,h){super(s,new d.MCb,p),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreSiteCategoryService=s,this.coreSiteCategoryCmsModuleService=r,this.cmsToastrService=l,this.publicHelper=p,this.cdr=C,this.translate=h,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(v=>{this.loading.message=v}),t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModelResult=new d.ODe;dataModel=new d.MCb;formInfo=new d.LEF;fileManagerOpenForm=!1;dataCoreCpMainMenuModel;dataCoreCpMainMenuIds=[];dataCoreSiteCategoryCmsModuleModel;ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.DataGetAllSiteCategoryCmsModule()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t),this.coreSiteCategoryService.setAccessLoad(),this.coreSiteCategoryService.setAccessDataType(d.dR.Editor),this.coreSiteCategoryService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllSiteCategoryCmsModule(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError="";const t=this.constructor.name+"main";this.publicHelper.processService.processStart(t);const i=new d.Hay,o=new d.AO3;o.propertyName="LinkCmsSiteCategoryId",o.value=this.requestId,i.filters.push(o),this.coreSiteCategoryCmsModuleService.ServiceGetAll(i).subscribe({next:s=>{this.dataCoreSiteCategoryCmsModuleModel=s.listItems;const r=[];this.dataCoreSiteCategoryCmsModuleModel.forEach(l=>{r.push(l.linkCmsModuleId)}),this.dataCoreCpMainMenuIds=r,s.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(l=>{this.formInfo.formAlert=l}),this.formInfo.formError=s.errorMessage,this.cmsToastrService.typeErrorMessage(s.errorMessage)),this.publicHelper.processService.processStop(t)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i)}),this.coreSiteCategoryService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataCoreCpMainMenuModel=t}onActionSelectorUserCategorySelectAdded(t){const i=new d.h1N;i.linkCmsModuleId=t.id,i.linkCmsSiteCategoryId=this.dataModel.id,this.coreSiteCategoryCmsModuleService.ServiceAdd(i).subscribe({next:o=>{o.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onActionSelectorUserCategorySelectRemoved(t){const i=new d.h1N;i.linkCmsModuleId=t.id,i.linkCmsSiteCategoryId=this.dataModel.id,this.coreSiteCategoryCmsModuleService.ServiceDeleteEntity(i).subscribe({next:o=>{o.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(s=>{this.formInfo.formAlert=s}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(s=>{this.formInfo.formAlert=s}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage))},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||n)(e.Y36(S.WI),e.Y36(S.so),e.Y36(d.FLW),e.Y36(d.PwI),e.Y36(d.LCu),e.Y36(A.e),e.Y36(M.i),e.Y36(e.sBO),e.Y36(g.sK))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-sitecategory-edit"]],viewQuery:function(i,o){if(1&i&&e.Gf(z,5),2&i){let s;e.iGM(s=e.CRH())&&(o.formGroup=s.first)}},features:[e.qOj],decls:42,vars:31,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Title",""],[4,"ngIf"],["for","dataModel.domains",1,"color-highlight"],["matInput","","name","dataModel.domains","type","text","placeholder","domain.com","rows","10","id","dataModel.domains",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["Domains",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],["id","main","name","dataModel.ruleHtmlBody",3,"placeholder","config","ngModel","ngModelChange"],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i&&(e._UZ(0,"cms-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return o.onFormSubmit()}),e.YNc(10,W,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(11,"div",7)(12,"label",8),e._uU(13),e.qZA(),e.TgZ(14,"input",9,10),e.NdJ("ngModelChange",function(r){return o.dataModel.title=r}),e.qZA(),e.TgZ(16,"em"),e._uU(17),e.qZA(),e.YNc(18,V,5,4,"mat-error",11),e.qZA(),e.TgZ(19,"div",7)(20,"label",12),e._uU(21,"Domains"),e.qZA(),e.TgZ(22,"textarea",13,14),e.NdJ("ngModelChange",function(r){return o.dataModel.domains=r}),e._uU(24,"                "),e.qZA()(),e.TgZ(25,"div",7)(26,"label",15),e._uU(27),e.qZA(),e.TgZ(28,"textarea",16,17),e.NdJ("ngModelChange",function(r){return o.dataModel.description=r}),e._uU(30,"                "),e.qZA(),e.TgZ(31,"em"),e._uU(32),e.qZA(),e.YNc(33,X,5,3,"mat-error",11),e.qZA(),e._uU(34),e.ALo(35,"translate"),e.TgZ(36,"angular-editor",18),e.NdJ("ngModelChange",function(r){return o.dataModel.ruleHtmlBody=r}),e.ALo(37,"translate"),e.qZA(),e._uU(38),e.ALo(39,"translate"),e.TgZ(40,"app-core-module-selectionlist",19),e.NdJ("optionChange",function(r){return o.onActionSelectorUserCategorySelect(r)})("optionSelectAdded",function(r){return o.onActionSelectorUserCategorySelectAdded(r)})("optionSelectRemoved",function(r){return o.onActionSelectorUserCategorySelectRemoved(r)}),e.qZA(),e.YNc(41,ee,9,7,"div",20),e.qZA()()()),2&i){const s=e.MAs(15),r=e.MAs(29);e.Q6J("options",o.loading),e.xp6(4),e.hij(" ",o.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.xp6(3),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title),e.xp6(3),e.hij("",s.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==s.errors?null:s.errors.required),e.xp6(4),e.Q6J("ngModel",o.dataModel.domains),e.xp6(5),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",r.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.hij(" ",e.lcZ(35,25,"TITLE.Rules")," : "),e.xp6(2),e.Q6J("placeholder",e.lcZ(37,27,"TITLE.Enter_the_text_of_the_rules"))("config",o.publicHelper.editorConfig)("ngModel",o.dataModel.ruleHtmlBody),e.xp6(2),e.hij(" ",e.lcZ(39,29,"TITLE.Available_models")," "),e.xp6(2),e.Q6J("optionSelectForce",o.dataCoreCpMainMenuIds)("optionDisabled",!1),e.xp6(1),e.Q6J("ngIf",o.formInfo.formSubmitAllow&&!(null!=o.loading&&o.loading.display))}},dependencies:[f.O5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,w.TO,y.Nt,Z.t,R.I,T.s6,$,g.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var N=a(3914),oe=a(727),ie=a(6845),ne=a(9638),se=a(3331),D=a(3319),re=a(3538),le=a(4639),L=a(6558),u=a(418),ae=a(1850),ce=a(8564),de=a(7980),me=a(3673),pe=a(6639),ue=a(5897);function fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonNewRow())}),e._UZ(2,"i",43)(3,"br"),e.qZA(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function ge(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonEditRow(o.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function he(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onActionButtonDeleteRow(o.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Se(n,c){1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function Ce(n,c){if(1&n&&(e._UZ(0,"img",50),e.ALo(1,"cmsthumbnail")),2&n){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.mainImageSrc),e.LSH)}}function _e(n,c){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Ce,2,3,"img",49),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.mainImageSrc?null:t.mainImageSrc.length)>0)}}function Ae(n,c){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Me(n,c){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function be(n,c){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkCreatedBySiteId?null:t.fieldsInfo.linkCreatedBySiteId.fieldTitle," ")}}function ye(n,c){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",t.linkCreatedBySiteId," ")}}function Te(n,c){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const ve=function(n){return{display:n}};function Ee(n,c){if(1&n&&e._UZ(0,"select",53),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,ve,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ie(n,c){if(1&n&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Ee,1,5,"select",52),e.qZA()),2&n){const t=c.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function we(n,c){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Ze(n,c){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Re(n,c){if(1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.domains?null:t.fieldsInfo.domains.fieldTitle," ")}}function xe(n,c){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",t.domains," ")}}function Ne(n,c){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function De(n,c){if(1&n&&(e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,56),e.qZA()),2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Le(n,c){1&n&&e._UZ(0,"mat-header-row")}const Ge=function(n){return{background:n}};function Oe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(s))}),e.qZA()}if(2&n){const t=c.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ge,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"#d3d3da":""))}}const Je=function(){return[5,10,20,100]},Ue=[{path:"",children:[{path:"",component:(()=>{class n extends O.R{contentService;cmsToastrService;cmsConfirmationDialogService;router;tokenHelper;cdr;translate;pageInfo;publicHelper;dialog;constructor(t,i,o,s,r,l,p,C,h,v){super(t,new d.MCb,h,r),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.router=s,this.tokenHelper=r,this.cdr=l,this.translate=p,this.pageInfo=C,this.publicHelper=h,this.dialog=v,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(E=>{this.loading.message=E}),this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=d.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["MainImageSrc","Id","RecordStatus","Title","Domains"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.MCb);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(k,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(o=>{o&&o.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(te,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:_.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:_.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(s=>{s&&s.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(s=>{i=s["MESSAGE.Please_Confirm"],o=s["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(s=>{if(s){const r=this.constructor.name+"main";this.publicHelper.processService.processStart(r),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(r,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(s=>{this.cmsToastrService.typeErrorSelected(s)})}onActionButtonGoToSiteCategoryList(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])):this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(o,l)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(p=>{i.set(p,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1)}});const s=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,s.filters.push(r),this.contentService.ServiceGetCount(s).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(p=>{i.set(p,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(o)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),this.router.navigate(["/core/sitecategorymodule/LinkCmsSiteCategoryId",this.tableRowSelected.id])):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)})}onActionButtonSiteList(t=this.tableRowSelected){t&&t.id&&0!==t.id?(this.onActionTableRowSelect(t),this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}static \u0275fac=function(i){return new(i||n)(e.Y36(d.PwI),e.Y36(A.e),e.Y36(N.s),e.Y36(b.F0),e.Y36(oe.v),e.Y36(e.sBO),e.Y36(g.sK),e.Y36(ie.Z),e.Y36(M.i),e.Y36(S.uw))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-core-sitecategory-list"]],features:[e.qOj],decls:71,vars:33,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","MainImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","linkCreatedBySiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Domains"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,o){if(1&i){const s=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(l){return o.viewGuideNotice=l})("optionOnActionButtonMemoRow",function(){return o.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return o.onActionButtonMemo()})("optionOnActionButtonExport",function(){return o.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return o.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(l){return o.optionsSearch.data.show=l}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return o.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9)(16,"a",10),e.NdJ("click",function(){return o.viewGuideNotice=!o.viewGuideNotice}),e._UZ(17,"i",11),e.qZA(),e.TgZ(18,"a",10),e.NdJ("click",function(){return o.onActionButtonReload()}),e._UZ(19,"i",12),e.qZA()()(),e.BQk(),e.ynx(20,13),e.YNc(21,fe,7,3,"div",14),e.BQk(),e.ynx(22,15),e.YNc(23,ge,7,3,"div",14),e.YNc(24,he,7,3,"div",14),e.TgZ(25,"div",16)(26,"a",17),e.NdJ("click",function(){return o.onActionButtonModuleList(o.tableRowSelected)}),e.TgZ(27,"mat-icon"),e._uU(28,"view_module"),e.qZA()(),e.TgZ(29,"p",18),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",16)(33,"a",17),e.NdJ("click",function(){return o.onActionButtonSiteList(o.tableRowSelected)}),e._UZ(34,"i",19)(35,"br"),e.qZA(),e.TgZ(36,"p",18),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.BQk(),e.ynx(39,20),e.TgZ(40,"app-cms-search-list",21),e.NdJ("optionsChange",function(l){return o.optionsSearch=l}),e.qZA(),e.TgZ(41,"app-cms-statist-list",21),e.NdJ("optionsChange",function(l){return o.optionsStatist=l}),e.qZA(),e.BQk(),e.ynx(42,22),e.TgZ(43,"mat-table",23,24),e.NdJ("matSortChange",function(){e.CHM(s);const l=e.MAs(44);return e.KtG(o.onTableSortData(l))}),e.ynx(45,25),e.YNc(46,Se,3,3,"mat-header-cell",26),e.YNc(47,_e,2,1,"mat-cell",27),e.BQk(),e.ynx(48,28),e.YNc(49,Ae,2,1,"mat-header-cell",26),e.YNc(50,Me,2,1,"mat-cell",27),e.BQk(),e.ynx(51,29),e.YNc(52,be,2,1,"mat-header-cell",26),e.YNc(53,ye,2,1,"mat-cell",27),e.BQk(),e.ynx(54,30),e.YNc(55,Te,2,1,"mat-header-cell",26),e.YNc(56,Ie,5,7,"mat-cell",31),e.BQk(),e.ynx(57,32),e.YNc(58,we,2,1,"mat-header-cell",26),e.YNc(59,Ze,2,1,"mat-cell",27),e.BQk(),e.ynx(60,33),e.YNc(61,Re,2,1,"mat-header-cell",26),e.YNc(62,xe,2,1,"mat-cell",27),e.BQk(),e.ynx(63,34),e.YNc(64,Ne,3,3,"mat-header-cell",35),e.YNc(65,De,6,1,"mat-cell",36),e.BQk(),e.YNc(66,Le,1,0,"mat-header-row",37),e.YNc(67,Oe,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(68,39),e.TgZ(69,"mat-paginator",40,41),e.NdJ("page",function(l){return o.onTablePageingData(l)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",o.viewGuideNotice)("optionLoading",o.loading)("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(null==o.tableRowSelected||null==o.tableRowSelected.title?null:o.tableRowSelected.title.length)>0?null==o.tableRowSelected?null:o.tableRowSelected.title:null==o.tableRowSelected?null:o.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",o.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(8),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(31,28,"ACTION.MODULES")),e.xp6(7),e.Oqu(e.lcZ(38,30,"ACTION.SITES")),e.xp6(3),e.Q6J("options",o.optionsSearch),e.xp6(1),e.Q6J("options",o.optionsStatist),e.xp6(2),e.Q6J("dataSource",o.tableSource),e.xp6(23),e.Q6J("matHeaderRowDef",o.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.tabledisplayedColumns),e.xp6(2),e.Q6J("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(32,Je)))},dependencies:[f.mk,f.O5,f.PC,m.JJ,m.On,ne.RK,se.Hw,y.Nt,D.VK,D.p6,re.NW,le.Rr,L.YE,L.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,ae.y,ce.q,de.Z,me.G,g.X$,x.v,pe.G,ue.Y],encapsulation:2})}return n})()}]}];let qe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[b.Bz.forChild(Ue),b.Bz]})}return n})();var Fe=a(7360);let He=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({providers:[d.PwI,d.LCu,d.EAm,d.LCu,N.s],imports:[f.ez,m.u5,qe,m.UX.withConfig({warnOnNgModelWithFormControl:"never"}),G.m,T.UM,Fe.CoreModuleModule]})}return n})()}}]);