import{a as gi}from"./chunk-HLQCEBGK.js";import{a as _i}from"./chunk-IBOT6LBP.js";import{a as fi}from"./chunk-AKDBZJDP.js";import{a as ui}from"./chunk-LLOHHDRZ.js";import{a as Ue,b as hi}from"./chunk-NGXXT7HZ.js";import{a as qe}from"./chunk-Y54LXC6Q.js";import{Ad as mi,C as It,Cc as ri,Gb as Dt,Gd as je,Hb as kt,Kb as Vt,L as ke,La as Fe,Lc as K,M as Ve,Ma as Be,Na as $,O as vt,P as bt,Sc as li,Ta as ee,Tc as ai,Ub as Ot,Vb as Lt,Wa as te,Wb as Ft,Xb as Bt,Yb as Pt,Zb as Nt,_c as si,aa as Oe,bd as We,da as wt,ec as Gt,fc as Ht,gc as Wt,hc as jt,hd as di,ic as Ut,jc as qt,kc as zt,lb as He,lc as Qt,ld as ci,m as Ct,mb as Tt,mc as Kt,nb as N,nc as Jt,o as xe,p as ue,pc as Yt,qc as Xt,rc as Zt,s as Z,sa as Le,sb as Rt,sc as $t,t as Ae,tb as G,tc as ei,td as pi,uc as ti,v as Te,vb as z,vc as ii,w as Re,wc as ni,x as fe,xc as oi,y as De,z as Mt}from"./chunk-ZPD4U3WN.js";import{b as P,c as U,p as ne}from"./chunk-YOXFNNTC.js";import{Aa as X,Ab as Je,Cd as xt,Db as ve,Dc as gt,Dd as q,Eb as be,Fb as we,Fc as St,Hd as ge,Ia as H,Ib as W,Id as ie,Jd as Ne,Kb as d,L as dt,La as r,Lb as y,Lc as Ee,Ma as _,Mb as g,Nd as At,O as ct,Qb as A,Qd as Q,Rb as T,Sb as R,Ud as V,Vb as ht,W as pt,Wb as Ye,X as mt,Yb as S,Yd as Ge,Za as pe,Zb as C,Ze as k,ab as v,aq as j,bb as Ie,cb as m,da as de,eb as me,g as lt,gc as F,hd as yt,ja as L,ka as ce,kd as Xe,lb as s,ld as Ze,mb as a,nb as M,nd as $e,ob as E,pb as x,qb as he,qd as et,ra as f,rb as w,sa as h,td as Pe,u as at,ub as b,v as st,vd as _e,wb as p,xb as ut,xc as _t,yb as ft,yc as ye,zb as D,zc as B,zd as Et}from"./chunk-7YXYFGM2.js";var Ei=["vform"];function xi(n,l){if(n&1){let o=w();s(0,"app-cms-enum-record-status-selector",21),R("modelChange",function(t){f(o);let e=p();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),h(t)}),a()}if(n&2){let o=p();A("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ai(n,l){if(n&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let o=p();r(),g(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(C(4,2,"MESSAGE.required"))}}function Ti(n,l){if(n&1){let o=w();s(0,"div",22)(1,"div",23)(2,"h5",24),d(3),a()(),s(4,"div",25)(5,"div",26)(6,"input",27),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.needSiteCreditAccount,t)||(e.dataModel.needSiteCreditAccount=t),h(t)}),a(),M(7,"label",28),a()()()}if(n&2){let o=p();r(3),g(" ",o.fieldsInfo.needSiteCreditAccount==null?null:o.fieldsInfo.needSiteCreditAccount.fieldTitle,""),r(3),A("ngModel",o.dataModel.needSiteCreditAccount)}}function Ri(n,l){if(n&1){let o=w();s(0,"div",22)(1,"div",23)(2,"h5",29),d(3),a()(),s(4,"div",25)(5,"div",26)(6,"input",30),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.needSiteUserCreditAccount,t)||(e.dataModel.needSiteUserCreditAccount=t),h(t)}),a(),M(7,"label",31),a()()()}if(n&2){let o=p();r(3),g(" ",o.fieldsInfo.needSiteUserCreditAccount==null?null:o.fieldsInfo.needSiteUserCreditAccount.fieldTitle,""),r(3),A("ngModel",o.dataModel.needSiteUserCreditAccount)}}function Di(n,l){if(n&1&&(M(0,"img",32),S(1,"cmsthumbnail")),n&2){let o=p();D("src",C(1,1,o.dataModel.linkMainImageIdSrc),H)}}function ki(n,l){if(n&1){let o=w();s(0,"div",10)(1,"label",33),b("click",function(){f(o);let t=p();return h(t.fileManagerOpenForm=!0)}),d(2),S(3,"translate"),a(),s(4,"input",34,2),S(6,"translate"),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),h(t)}),b("click",function(){f(o);let t=p();return h(t.fileManagerOpenForm=!0)}),a(),s(7,"cms-file-manager",35),b("itemSelected",function(t){f(o);let e=p();return h(e.onActionFileSelected(t))}),R("openFormChange",function(t){f(o);let e=p();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),h(t)}),a()()}if(n&2){let o=p();r(2),y(C(3,11,"TITLE.Sample_File")),r(2),D("placeholder",C(6,13,"TITLE.Original_File_ID")),A("ngModel",o.dataModel.linkMainImageId),r(3),m("language",o.appLanguage)("isPopup",!0),A("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Vi(n,l){n&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(r(3),y(C(4,1,"MESSAGE.required")))}function Oi(n,l){if(n&1){let o=w();s(0,"div",10)(1,"label",36),d(2),a(),s(3,"textarea",37,3),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.description,t)||(e.dataModel.description=t),h(t)}),d(5,"                "),a(),s(6,"em"),d(7),a(),v(8,Vi,5,3,"mat-error",13),a()}if(n&2){let o=W(4),i=p();r(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),D("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),A("ngModel",i.dataModel.description),r(4),g("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Li(n,l){if(n&1){let o=w();s(0,"div",38)(1,"button",39),b("click",function(){f(o);let t=p();return h(t.onFormCancel())}),M(2,"i",40),d(3),S(4,"translate"),a(),s(5,"button",41),M(6,"i",42),d(7),S(8,"translate"),a()()}if(n&2){p();let o=W(9);r(3),g(" ",C(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var Qe=(()=>{let l=class l extends ui{constructor(i,t,e,c,I,u,O,Y){super(c,new k,u,Y),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.coreModuleService=c,this.cmsToastrService=I,this.publicHelper=u,this.cdr=O,this.translate=Y,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new k,this.formInfo=new Ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}};l.\u0275fac=function(t){return new(t||l)(_(Be),_(Fe),_(Q),_(V),_(N),_(G),_(F),_(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-add"]],viewQuery:function(t,e){if(t&1&&ve(Ei,5),t&2){let c;be(c=we())&&(e.formGroup=c.first)}},features:[pe],decls:32,vars:28,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["id","main","name","dataModel.ruleHtmlBody",3,"ngModelChange","placeholder","config","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.needSiteCreditAccount",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.needSiteCreditAccount","name","dataModel.needSiteCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteCreditAccount",1,"custom-control-label"],["data-trigger-switch","dataModel.needSiteUserCreditAccount",1,"font-600","font-14"],["type","checkbox","id","dataModel.needSiteUserCreditAccount","name","dataModel.needSiteUserCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteUserCreditAccount",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=w();s(0,"div",4),M(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),S(7,"translate"),a(),s(8,"form",8,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,xi,1,5,"app-cms-enum-record-status-selector",9),s(11,"div",10)(12,"label",11),d(13),a(),s(14,"input",12,1),R("ngModelChange",function(u){return f(c),T(e.dataModel.title,u)||(e.dataModel.title=u),h(u)}),a(),s(16,"em"),d(17),a(),v(18,Ai,5,4,"mat-error",13),a(),v(19,Ti,8,2,"div",14)(20,Ri,8,2,"div",14),s(21,"div",15)(22,"a",16),S(23,"cmsthumbnail"),v(24,Di,2,3,"img",17),a()(),v(25,ki,8,15,"div",18)(26,Oi,9,5,"div",18),d(27),S(28,"translate"),s(29,"angular-editor",19),S(30,"translate"),R("ngModelChange",function(u){return f(c),T(e.dataModel.ruleHtmlBody,u)||(e.dataModel.ruleHtmlBody=u),h(u)}),a(),v(31,Li,9,7,"div",20),a()()()}if(t&2){let c=W(15);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",C(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.fieldsInfo.needSiteCreditAccount==null?null:e.fieldsInfo.needSiteCreditAccount.accessWatchField),r(),m("ngIf",e.fieldsInfo.needSiteUserCreditAccount==null?null:e.fieldsInfo.needSiteUserCreditAccount.accessWatchField),r(2),D("href",C(23,22,e.dataModel.linkMainImageIdSrc),H),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkImageId==null?null:e.fieldsInfo.linkImageId.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),g(" ",C(28,24,"TITLE.rules")," "),r(2),m("placeholder",C(30,26,"TITLE.Enter_the_text_of_the_rules"))("config",e.publicHelper.editorConfig),A("ngModel",e.dataModel.ruleHtmlBody),r(2),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[B,De,ue,xe,Z,Ae,ke,Ve,fe,Te,Oe,te,We,z,Ue,He,U,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Fi=["vform"];function Bi(n,l){if(n&1){let o=w();s(0,"app-cms-enum-record-status-selector",22),R("modelChange",function(t){f(o);let e=p();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),h(t)}),a()}if(n&2){let o=p();A("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Pi(n,l){if(n&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),S(4,"translate"),a()()),n&2){let o=p();r(),g(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(C(4,2,"MESSAGE.required"))}}function Ni(n,l){if(n&1){let o=w();s(0,"div",23)(1,"div",24)(2,"h5",25),d(3),a()(),s(4,"div",26)(5,"div",27)(6,"input",28),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.needSiteCreditAccount,t)||(e.dataModel.needSiteCreditAccount=t),h(t)}),a(),M(7,"label",29),a()()()}if(n&2){let o=p();r(3),g(" ",o.fieldsInfo.needSiteCreditAccount==null?null:o.fieldsInfo.needSiteCreditAccount.fieldTitle,""),r(3),A("ngModel",o.dataModel.needSiteCreditAccount)}}function Gi(n,l){if(n&1){let o=w();s(0,"div",23)(1,"div",24)(2,"h5",30),d(3),a()(),s(4,"div",26)(5,"div",27)(6,"input",31),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.needSiteUserCreditAccount,t)||(e.dataModel.needSiteUserCreditAccount=t),h(t)}),a(),M(7,"label",32),a()()()}if(n&2){let o=p();r(3),g(" ",o.fieldsInfo.needSiteUserCreditAccount==null?null:o.fieldsInfo.needSiteUserCreditAccount.fieldTitle,""),r(3),A("ngModel",o.dataModel.needSiteUserCreditAccount)}}function Hi(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",33),d(2),a(),s(3,"input",34,2),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.showInOrder,t)||(e.dataModel.showInOrder=t),h(t)}),a()()}if(n&2){let o=p();r(2),y(o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle),r(),D("placeholder",o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle),A("ngModel",o.dataModel.showInOrder),m("disabled",!(o.fieldsInfo.showInOrder!=null&&o.fieldsInfo.showInOrder.accessEditField))}}function Wi(n,l){if(n&1&&(M(0,"img",35),S(1,"cmsthumbnail")),n&2){let o=p();D("src",C(1,1,o.dataModel.linkMainImageIdSrc),H)}}function ji(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",36),b("click",function(){f(o);let t=p();return h(t.fileManagerOpenForm=!0)}),d(2),S(3,"translate"),a(),s(4,"input",37,3),S(6,"translate"),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),h(t)}),b("click",function(){f(o);let t=p();return h(t.fileManagerOpenForm=!0)}),a(),s(7,"cms-file-manager",38),b("itemSelected",function(t){f(o);let e=p();return h(e.onActionFileSelected(t))}),R("openFormChange",function(t){f(o);let e=p();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),h(t)}),a()()}if(n&2){let o=p();r(2),y(C(3,11,"TITLE.Sample_File")),r(2),D("placeholder",C(6,13,"TITLE.Original_File_ID")),A("ngModel",o.dataModel.linkMainImageId),r(3),m("language",o.appLanguage)("isPopup",!0),A("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ui(n,l){n&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),S(4,"translate"),a()()),n&2&&(r(3),y(C(4,1,"MESSAGE.required")))}function qi(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",39),d(2),a(),s(3,"textarea",40,4),R("ngModelChange",function(t){f(o);let e=p();return T(e.dataModel.description,t)||(e.dataModel.description=t),h(t)}),d(5,"                "),a(),s(6,"em"),d(7),a(),v(8,Ui,5,3,"mat-error",14),a()}if(n&2){let o=W(4),i=p();r(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),D("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),A("ngModel",i.dataModel.description),r(4),g("",o.value.length," / 500"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function zi(n,l){if(n&1){let o=w();s(0,"div",41)(1,"button",42),b("click",function(){f(o);let t=p();return h(t.onFormCancel())}),M(2,"i",43),d(3),S(4,"translate"),a(),s(5,"button",44),M(6,"i",45),d(7),S(8,"translate"),a()()}if(n&2){p();let o=W(9);r(3),g(" ",C(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),g(" ",C(8,5,"ACTION.SAVE")," ")}}var Ke=(()=>{let l=class l extends fi{constructor(i,t,e,c,I,u,O,Y){super(c,new k,u,Y),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.coreModuleService=c,this.cmsToastrService=I,this.publicHelper=u,this.cdr=O,this.translate=Y,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new xt,this.dataModel=new k,this.formInfo=new Ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.setAccessLoad(),this.coreModuleService.setAccessDataType(Et.Editor),this.coreModuleService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataModel=t.item,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}};l.\u0275fac=function(t){return new(t||l)(_(Be),_(Fe),_(Q),_(V),_(N),_(G),_(F),_(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-edit"]],viewQuery:function(t,e){if(t&1&&ve(Fi,5),t&2){let c;be(c=we())&&(e.formGroup=c.first)}},features:[pe],decls:33,vars:29,consts:[["vform","ngForm"],["Title",""],["ShowInOrder",""],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["id","main","name","dataModel.ruleHtmlBody",3,"ngModelChange","placeholder","config","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.needSiteCreditAccount",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.needSiteCreditAccount","name","dataModel.needSiteCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteCreditAccount",1,"custom-control-label"],["data-trigger-switch","dataModel.needSiteUserCreditAccount",1,"font-600","font-14"],["type","checkbox","id","dataModel.needSiteUserCreditAccount","name","dataModel.needSiteUserCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteUserCreditAccount",1,"custom-control-label"],["for","dataModel.showInOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInOrder","id","dataModel.showInOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=w();s(0,"div",5),M(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),d(4),a(),s(5,"p"),d(6),S(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return f(c),h(e.onFormSubmit())}),v(10,Bi,1,5,"app-cms-enum-record-status-selector",10),s(11,"div",11)(12,"label",12),d(13),a(),s(14,"input",13,1),R("ngModelChange",function(u){return f(c),T(e.dataModel.title,u)||(e.dataModel.title=u),h(u)}),a(),s(16,"em"),d(17),a(),v(18,Pi,5,4,"mat-error",14),a(),v(19,Ni,8,2,"div",15)(20,Gi,8,2,"div",15)(21,Hi,5,4,"div",16),s(22,"div",17)(23,"a",18),S(24,"cmsthumbnail"),v(25,Wi,2,3,"img",19),a()(),v(26,ji,8,15,"div",16)(27,qi,9,5,"div",16),d(28),S(29,"translate"),s(30,"angular-editor",20),S(31,"translate"),R("ngModelChange",function(u){return f(c),T(e.dataModel.ruleHtmlBody,u)||(e.dataModel.ruleHtmlBody=u),h(u)}),a(),v(32,zi,9,7,"div",21),a()()()}if(t&2){let c=W(15);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",C(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),D("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.fieldsInfo.needSiteCreditAccount==null?null:e.fieldsInfo.needSiteCreditAccount.accessWatchField),r(),m("ngIf",e.fieldsInfo.needSiteUserCreditAccount==null?null:e.fieldsInfo.needSiteUserCreditAccount.accessWatchField),r(),m("ngIf",e.fieldsInfo.showInOrder==null?null:e.fieldsInfo.showInOrder.accessWatchField),r(2),D("href",C(24,23,e.dataModel.linkMainImageIdSrc),H),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),m("ngIf",e.fieldsInfo.linkImageId==null?null:e.fieldsInfo.linkImageId.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),g(" ",C(29,25,"TITLE.rules")," "),r(2),m("placeholder",C(31,27,"TITLE.Enter_the_text_of_the_rules"))("config",e.publicHelper.editorConfig),A("ngModel",e.dataModel.ruleHtmlBody),r(2),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[B,De,ue,Mt,xe,Z,Ae,ke,Ve,fe,Te,Oe,te,We,z,Ue,He,U,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Ki=()=>[5,10,20,100],Ji=n=>({display:n}),Yi=n=>({background:n});function Xi(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",46),b("click",function(){f(o);let t=p();return h(t.onActionButtonNewRow())}),M(2,"i",47)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.ADD")))}function Zi(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",49),b("click",function(){f(o);let t=p();return h(t.onActionButtonNewRowAuto())}),M(2,"i",47)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),g("",C(6,1,"ACTION.AUTOADD")," Dependency"))}function $i(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",50),b("click",function(){f(o);let t=p();return h(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",51)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.EDIT")))}function en(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",52),b("click",function(){f(o);let t=p();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",53)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.DELETE")))}function tn(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",54),b("click",function(){f(o);let t=p();return h(t.onActionButtonConfigMainAdminRow(t.tableRowSelected))}),M(2,"i",55)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.ADMINISTRATIVE_SETTINGS")))}function nn(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",54),b("click",function(){f(o);let t=p();return h(t.onActionButtonSiteList(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.LIST_SITES")))}function on(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",54),b("click",function(){f(o);let t=p();return h(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),M(2,"i",57)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.CATEGORY_LIST_SITES")))}function rn(n,l){if(n&1){let o=w();s(0,"div",45)(1,"a",54),b("click",function(){f(o);let t=p();return h(t.onActionButtonModuleEntityList(t.tableRowSelected))}),M(2,"i",56)(3,"br"),a(),s(4,"p",48),d(5),S(6,"translate"),a()()}n&2&&(r(5),y(C(6,1,"ACTION.Module_Entity_List")))}function ln(n,l){n&1&&(s(0,"mat-header-cell",58),d(1),S(2,"translate"),a()),n&2&&(r(),g(" ",C(2,1,"TITLE.PICTURE")," "))}function an(n,l){if(n&1&&(M(0,"img",60),S(1,"cmsthumbnail")),n&2){let o=p().$implicit;D("src",C(1,1,o.linkMainImageIdSrc),H)}}function sn(n,l){if(n&1&&(s(0,"mat-cell"),v(1,an,2,3,"img",59),a()),n&2){let o=l.$implicit;r(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function dn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function cn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),g(" ",o.id," ")}}function pn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.linkCreatedBySiteId==null?null:o.fieldsInfo.linkCreatedBySiteId.fieldTitle," ")}}function mn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),g(" ",o.linkCreatedBySiteId," ")}}function un(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function fn(n,l){if(n&1&&M(0,"select",63),n&2){let o=p().$implicit,i=p();m("contentService",i.contentService)("row",o)("ngStyle",Ye(3,Ji,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function hn(n,l){if(n&1&&(s(0,"mat-cell",61),S(1,"statusCellClass"),M(2,"i",61),S(3,"statusIconClass"),v(4,fn,1,5,"select",62),a()),n&2){let o=l.$implicit,i=p();m("ngClass",C(1,3,o.recordStatus)),r(2),m("ngClass",C(3,5,o.recordStatus)),r(2),m("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function _n(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function gn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),g(" ",o.title," ")}}function Sn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.className==null?null:o.fieldsInfo.className.fieldTitle," ")}}function Cn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),g(" ",o.className," ")}}function Mn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle," ")}}function In(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),g(" ",o.showInOrder," ")}}function vn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function bn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit,i=p();r(),g(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function wn(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function yn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit,i=p();r(),g(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function En(n,l){if(n&1&&(s(0,"mat-header-cell",58),d(1),a()),n&2){let o=p();r(),g(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function xn(n,l){if(n&1&&(s(0,"mat-cell",64),d(1),a()),n&2){let o=l.$implicit,i=p();m("ngStyle",Ye(2,Yi,i.publicHelper.RowStyleExpireDate(o.expireDate))),r(),g(" ",i.publicHelper.LocaleDate(o.expireDate)," ")}}function An(n,l){n&1&&(s(0,"mat-header-cell"),d(1),S(2,"translate"),a()),n&2&&(r(),g(" ",C(2,1,"TITLE.OPTION")," "))}function Tn(n,l){if(n&1&&(s(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),d(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let o=W(5);r(),m("matMenuTriggerFor",o)}}function Rn(n,l){n&1&&(s(0,"mat-header-cell",58),d(1),S(2,"translate"),a()),n&2&&(r(),g("",C(2,1,"ACTION.ORDERING")," "))}function Dn(n,l){n&1&&(s(0,"mat-cell")(1,"mat-icon",67),d(2,"reorder"),a()())}function kn(n,l){n&1&&M(0,"mat-header-row")}function Vn(n,l){if(n&1){let o=w();s(0,"mat-row",68),b("click",function(){let t=f(o).$implicit,e=p();return h(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=p();me("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ci=(()=>{let l=class l extends _i{constructor(i,t,e,c,I,u,O,Y,Me,rt){super(i,new k,Me,c,O),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.tokenHelper=c,this.router=I,this.cdr=u,this.translate=O,this.pageInfo=Y,this.publicHelper=Me,this.dialog=rt,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new ie,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","ClassName","ShowInOrder","CreatedDate","UpdatedDate","ExpireDate","position"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","ClassName","ShowInOrder","CreatedDate","UpdatedDate","ExpireDate","position"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:vi=>this.onSubmitOptionsSearch(vi)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=_e.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new k);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=_e.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=_e.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=_e.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qe,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAuto(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ke,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let I=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(I,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(I)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(I,!1)}})}}).catch(()=>{})}onActionButtonGoToModuleList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{t.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{t.set(u,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(e,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(O=>{t.set(O,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),I=new ge;I.propertyName="RecordStatus",I.value=Pe.Available,c.filters.push(I),this.contentService.ServiceGetCount(c).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{t.set(O,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(e)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(e,!1)}})}onTableDropRow(i){let t=this.tableSource.data.findIndex(c=>c===i.item.data),e=new At;e.id=this.tableSource.data[t].id,e.centerId=this.tableSource.data[i.currentIndex].id,t>i.currentIndex?e.actionGo=$e.GoUp:e.actionGo=$e.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:c=>{c.isSuccess?(gi(this.tableSource.data,t,i.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(c.errorMessage)},error:c=>{this.cmsToastrService.typeError(c)}})}onActionButtonConfigMainAdminRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate([i.className+"/config/mainadmin/"])}onActionButtonSiteList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/site/modulelist/LinkModuleId/",i.id])}onActionButtonSiteCategoryList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",i.id])}onActionButtonModuleEntityList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/module-entity/LinkModuleId/",i.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(_(V),_(N),_(qe),_(ne),_(yt),_(F),_(P),_(Rt),_(G),_($))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-list"]],features:[pe],decls:76,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"ngModelChange","click","ngModel"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"click","ngModelChange","ngModel"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","linkCreatedBySiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","ClassName"],["matColumnDef","ShowInOrder"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-gear","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(t,e){if(t&1){let c=w();s(0,"app-cms-html-list",3),R("optionActionGuideNoticeDisplayChange",function(u){return f(c),T(e.viewGuideNotice,u)||(e.viewGuideNotice=u),h(u)}),b("optionOnActionButtonMemoRow",function(){return f(c),h(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),h(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),h(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),h(e.onActionButtonPrintRow())}),E(1,4),d(2," -------------------------------------- "),x(),he(3,5)(4,6),E(5,7),s(6,"a",8),b("click",function(){return f(c),h(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),a(),s(8,"a",8),b("click",function(){return f(c),h(e.onActionButtonReload())}),M(9,"i",10),a(),x(),E(10,11),s(11,"a",12),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),s(12,"mat-slide-toggle",13),R("ngModelChange",function(u){return f(c),T(e.optionsSearch.data.show,u)||(e.optionsSearch.data.show=u),h(u)}),b("click",function(){return f(c),h(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),a(),d(13),S(14,"translate"),a(),s(15,"a",14)(16,"mat-slide-toggle",15),b("click",function(){return f(c),h(e.onActionButtonStatist())}),R("ngModelChange",function(u){return f(c),T(e.optionsStatist.data.show,u)||(e.optionsStatist.data.show=u),h(u)}),a(),d(17),S(18,"translate"),a(),x(),E(19,16),v(20,Xi,7,3,"div",17)(21,Zi,7,3,"div",17),x(),E(22,18),v(23,$i,7,3,"div",17)(24,en,7,3,"div",17)(25,tn,7,3,"div",17)(26,nn,7,3,"div",17)(27,on,7,3,"div",17)(28,rn,7,3,"div",17),x(),E(29,19),s(30,"app-cms-search-list",20),R("optionsChange",function(u){return f(c),T(e.optionsSearch,u)||(e.optionsSearch=u),h(u)}),a(),s(31,"app-cms-statist-list",20),R("optionsChange",function(u){return f(c),T(e.optionsStatist,u)||(e.optionsStatist=u),h(u)}),a(),x(),E(32,21),s(33,"mat-table",22,0),b("matSortChange",function(){f(c);let u=W(34);return h(e.onTableSortData(u))}),E(35,23),v(36,ln,3,3,"mat-header-cell",24)(37,sn,2,1,"mat-cell",25),x(),E(38,26),v(39,dn,2,1,"mat-header-cell",24)(40,cn,2,1,"mat-cell",25),x(),E(41,27),v(42,pn,2,1,"mat-header-cell",24)(43,mn,2,1,"mat-cell",25),x(),E(44,28),v(45,un,2,1,"mat-header-cell",24)(46,hn,5,7,"mat-cell",29),x(),E(47,30),v(48,_n,2,1,"mat-header-cell",24)(49,gn,2,1,"mat-cell",25),x(),E(50,31),v(51,Sn,2,1,"mat-header-cell",24)(52,Cn,2,1,"mat-cell",25),x(),E(53,32),v(54,Mn,2,1,"mat-header-cell",24)(55,In,2,1,"mat-cell",25),x(),E(56,33),v(57,vn,2,1,"mat-header-cell",24)(58,bn,2,1,"mat-cell",25),x(),E(59,34),v(60,wn,2,1,"mat-header-cell",24)(61,yn,2,1,"mat-cell",25),x(),E(62,35),v(63,En,2,1,"mat-header-cell",24)(64,xn,2,4,"mat-cell",36),x(),E(65,37),v(66,An,3,3,"mat-header-cell",38)(67,Tn,6,1,"mat-cell",39),x(),E(68,40),v(69,Rn,3,3,"mat-header-cell",24)(70,Dn,3,0,"mat-cell",25),x(),v(71,kn,1,0,"mat-header-row",41)(72,Vn,1,6,"mat-row",42),a(),x(),E(73,43),s(74,"mat-paginator",44,1),b("page",function(u){return f(c),h(e.onTablePageingData(u))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),A("ngModel",e.optionsSearch.data.show),r(),g("",C(14,28,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),g("",C(18,30,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),m("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),m("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),m("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),m("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(2),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(38),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ht(32,Ki)))},dependencies:[_t,B,gt,Z,fe,Le,ee,te,Ot,Lt,Ft,Bt,Pt,Nt,Gt,Wt,zt,jt,Ht,Qt,Ut,qt,Kt,Jt,pi,mi,di,ri,U,K,ai,li],encapsulation:2});let n=l;return n})();var On=[{path:"",children:[{path:"",component:Ci}]}],Mi=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=ce({type:l}),l.\u0275inj=de({imports:[Xe.forChild(On),Xe]});let n=l;return n})();var Ln=["*"];function Fn(n,l){if(n&1&&(s(0,"label",8),d(1),a()),n&2){let o=p();Je("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Bn(n,l){if(n&1&&(s(0,"mat-option",9)(1,"span"),d(2),a()()),n&2){let o=l.$implicit,i=p();m("value",o)("disabled",i.optionDisabled),r(2),y(i.displayOption(o))}}function Pn(n,l){if(n&1){let o=w();s(0,"mat-icon",10),b("click",function(){f(o);let t=p();return h(t.onActionSelectClear())}),d(1,"close"),a()}}var Wo=(()=>{let l=class l{constructor(i,t,e,c,I,u){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=c,this.translate=I,this.categoryService=u,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new k,this.formControl=new Re,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new X,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(pt(""),dt(1500),ct(),mt(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return lt(this,null,function*(){let t=new ie;t.rowPerPage=20,t.accessLoad=!0;let e=new ge;e.propertyName="Title",e.value=i,e.searchType=et.Contains,e.clauseType=Ze.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new ge,e.propertyName="Id",e.value=i,e.searchType=et.Equal,e.clauseType=Ze.Or,t.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(I=>{this.publicHelper.processService.processStart(c,I,this.constructorInfoAreaId)}),yield at(this.categoryService.ServiceGetAll(t)).then(I=>(this.dataModelResult=I,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),I.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}onActionEmpty(){this.formControl.setValue(0),this.dataModelSelect=new k,this.optionChange.emit(this.dataModelSelect)}push(i){return this.filteredOptions.pipe(st(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof k){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new k,this.loadOptions()}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(_(Q),_(N),_(F),_(G),_(P),_(V))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Ln,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let c=w();ut(),s(0,"div",1),M(1,"app-progress-spinner",2),v(2,Fn,2,3,"label",3),M(3,"input",4),s(4,"mat-autocomplete",5,0),b("optionSelected",function(u){return f(c),h(e.onActionSelect(u.option.value))}),v(6,Bn,3,3,"mat-option",6),S(7,"async"),a(),v(8,Pn,2,0,"mat-icon",7),ft(9),a()}if(t&2){let c=W(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),D("placeholder",e.optionPlaceholder),Je("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),Ie("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",C(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[ye,B,ue,Z,It,Dt,Ct,kt,wt,ee,te,z,St],encapsulation:2});let n=l;return n})();function Nn(n,l){if(n&1){let o=w();s(0,"button",13),b("click",function(){f(o);let t=p();return h(t.onActionAdd())}),d(1),S(2,"translate"),a()}n&2&&(r(),y(C(2,1,"ACTION.ADD")))}function Gn(n,l){if(n&1){let o=w();s(0,"button",14),b("click",function(){f(o);let t=p();return h(t.onActionEdit())}),d(1),S(2,"translate"),a()}n&2&&(r(),y(C(2,1,"ACTION.EDIT")))}function Hn(n,l){if(n&1){let o=w();s(0,"button",15),b("click",function(){f(o);let t=p();return h(t.onActionDelete())}),d(1),S(2,"translate"),a()}n&2&&(r(),y(C(2,1,"ACTION.DELETE")))}function Wn(n,l){if(n&1){let o=w();s(0,"button",16),b("click",function(){f(o);let t=p();return h(t.onActionButtonReload())}),s(1,"mat-icon",17),S(2,"translate"),d(3,"refresh"),a()()}n&2&&(r(),D("title",C(2,1,"ACTION.RELOAD")))}function jn(n,l){if(n&1&&(M(0,"img",21),S(1,"cmsthumbnail")),n&2){let o=p().$implicit;D("src",C(1,1,o.linkMainImageIdSrc),H)}}function Un(n,l){if(n&1){let o=w();s(0,"mat-tree-node",18),b("click",function(){let t=f(o).$implicit,e=p();return h(e.onActionSelect(t))}),M(1,"button",19),v(2,jn,2,3,"img",20),d(3),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=p();me("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),m("ngIf",o.linkMainImageIdSrc),r(),g(" ",o.title," ")}}function qn(n,l){if(n&1&&(M(0,"img",21),S(1,"cmsthumbnail")),n&2){let o=p().$implicit;D("src",C(1,1,o.linkMainImageIdSrc),H)}}function zn(n,l){if(n&1){let o=w();s(0,"mat-nested-tree-node")(1,"li")(2,"div",22),b("click",function(){let t=f(o).$implicit,e=p();return h(e.onActionSelect(t))}),s(3,"button",23),b("click",function(){let t=f(o).$implicit,e=p();return h(e.onActionSelect(t))}),s(4,"mat-icon",24),d(5),a()(),v(6,qn,2,3,"img",20),d(7),a(),s(8,"ul"),he(9,25),a()()()}if(n&2){let o=l.$implicit,i=p();r(2),me("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===o.id),r(),Ie("aria-label","Toggle "+o.title),r(2),g(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),m("ngIf",o.linkMainImageIdSrc),r(),g(" ",o.title," "),r(),me("category-tree-invisible",!i.treeControl.isExpanded(o))}}var nr=(()=>{let l=class l{constructor(i,t,e,c,I,u,O,Y){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=c,this.cdr=I,this.publicHelper=u,this.tokenHelper=O,this.translate=Y,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new k,this.dataModelResult=new q,this.filterModel=new ie,this.treeControl=new Yt(Me=>null),this.dataSource=new oi,this.optionChange=new X,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Me,rt)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new k,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qe,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ke,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}}};l.\u0275fac=function(t){return new(t||l)(_(N),_(Q),_(V),_($),_(F),_(G),_(ne),_(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(s(0,"app-cms-html-tree",0),E(1,1),d(2),S(3,"translate"),x(),E(4,2),v(5,Nn,3,3,"button",3)(6,Gn,3,3,"button",4)(7,Hn,3,3,"button",5)(8,Wn,4,3,"button",6),x(),E(9,7),M(10,"app-progress-spinner",8),s(11,"mat-tree",9),v(12,Un,4,8,"mat-tree-node",10)(13,zn,10,8,"mat-nested-tree-node",11),a(),x(),he(14,12),a()),t&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",C(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[B,Le,ee,$t,Zt,ei,ni,ii,Xt,ti,z,si,U,K],encapsulation:2});let n=l;return n})();function Qn(n,l){n&1&&M(0,"div",5)}var lr=(()=>{let l=class l{constructor(i,t,e,c,I,u,O){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=I,this.translate=u,this.tokenHelper=O,this.constructorInfoAreaId=this.constructor.name,this.optionId=0,this.dataModelResult=new q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};l.\u0275fac=function(t){return new(t||l)(_(V),_(G),_(F),_(N),_($),_(P),_(ne))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-header"]],inputs:{optionId:"optionId"},decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td"],[1,"td","align",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","align"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(t,e){t&1&&(s(0,"div",0),M(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4),M(5,"div",5),s(6,"div",6)(7,"h5")(8,"b"),d(9),S(10,"translate"),a()()(),v(11,Qn,1,0,"div",7),a(),s(12,"div",4)(13,"div",5)(14,"b"),d(15),a(),d(16,": "),a(),s(17,"div",8),d(18),a(),M(19,"div",5)(20,"div",9),a(),s(21,"div",4)(22,"div",5)(23,"b"),d(24),a(),d(25," : "),a(),s(26,"div",8),d(27),a(),M(28,"div",10)(29,"div",9),a()()()(),M(30,"div",11)),t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(8),y(C(10,7,"TITLE.Selected_Module")),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),g("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[B,z,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.align[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();function Kn(n,l){n&1&&M(0,"div",5)}function Jn(n,l){if(n&1){let o=w();s(0,"button",14),b("click",function(){f(o);let t=p();return h(t.onActionButtonLinkTo())}),s(1,"mat-icon"),d(2,"\u2197 "),a()()}}var pr=(()=>{let l=class l{constructor(i,t,e,c,I,u,O){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=I,this.translate=u,this.tokenHelper=O,this.constructorInfoAreaId=this.constructor.name,this.optionId=0,this.dataModelResult=new q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonLinkTo(i=this.dataModelResult.item){if(!i||!i.id||i.id>0){this.cmsToastrService.typeErrorSelectedRow();return}if(i.recordStatus!=Pe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ci,{height:"90%",width:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{title:i.title,urlViewContentQRCodeBase64:"",urlViewContent:i.currentSiteDomainUrl}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}};l.\u0275fac=function(t){return new(t||l)(_(Ge),_(G),_(F),_(N),_($),_(P),_(ne))},l.\u0275cmp=L({type:l,selectors:[["app-core-site-header"]],inputs:{optionId:"optionId"},decls:33,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td"],[1,"td","align",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","align"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(t,e){t&1&&(s(0,"div",0),M(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4),M(5,"div",5),s(6,"div",6)(7,"h5")(8,"b"),d(9),S(10,"translate"),a()()(),v(11,Kn,1,0,"div",7),a(),s(12,"div",4)(13,"div",5)(14,"b"),d(15),a(),d(16,": "),a(),s(17,"div",8),d(18),a(),M(19,"div",5)(20,"div",9),a(),s(21,"div",4)(22,"div",5)(23,"b"),d(24),a(),d(25," : "),a(),s(26,"div",8),d(27),a(),s(28,"div",10)(29,"abbr",11),v(30,Jn,3,0,"button",12),a()(),M(31,"div",9),a()()()(),M(32,"div",13)),t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(8),y(C(10,8,"TITLE.Selected_Site")),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),g("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id))},dependencies:[B,ee,z,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.align[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();var Ii=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=ce({type:l}),l.\u0275inj=de({providers:[Ge,V],imports:[Ee,je]});let n=l;return n})();function Yn(n,l){if(n&1&&(M(0,"img",3),S(1,"cmsthumbnail")),n&2){let o=p().$implicit;D("src",C(1,1,o.linkMainImageIdSrc),H)}}function Xn(n,l){if(n&1){let o=w();s(0,"li")(1,"mat-checkbox",1),b("change",function(){let t=f(o).$implicit,e=p();return h(e.onActionSelect(t))}),v(2,Yn,2,3,"img",2),d(3),a()()}if(n&2){let o=l.$implicit,i=p();r(),m("checked",i.fieldsStatus.get(o.id))("disabled",i.optionDisabled),r(),m("ngIf",o.linkMainImageIdSrc),r(),g(" ",o.title," ")}}var Ar=(()=>{let l=class l{constructor(i,t,e,c,I,u){this.coreEnumService=i,this.categoryService=t,this.cdr=e,this.publicHelper=c,this.translate=I,this.cmsToastrService=u,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Re,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new X,this.optionSelectAdded=new X,this.optionSelectRemoved=new X,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll()}DataGetAll(){let i=new ie;i.rowPerPage=50,i.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(i){this.fieldsStatus.get(i.id)?(this.fieldsStatus.set(i.id,!1),this.optionSelectRemoved.emit(i),this.dataModelSelect.splice(this.dataModelSelect.indexOf(i),1)):(this.fieldsStatus.set(i.id,!0),this.optionSelectAdded.emit(i),this.dataModelSelect.push(i)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(i){typeof i==typeof Array(Number)?i.forEach(t=>{this.dataIdsSelect.push(t)}):typeof i==typeof Array(k)&&i.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(_(Q),_(V),_(F),_(G),_(P),_(N))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"]],template:function(t,e){t&1&&(s(0,"ul"),v(1,Xn,4,4,"li",0),a()),t&2&&(r(),m("ngForOf",e.dataModelResult.listItems))},dependencies:[ye,B,Vt,K],encapsulation:2});let n=l;return n})();var $r=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=ce({type:l}),l.\u0275inj=de({providers:[V,qe],imports:[Ee,vt,Mi,bt.withConfig({warnOnNgModelWithFormControl:"never"}),je,hi,Ii,Tt]});let n=l;return n})();export{lr as a,pr as b,Ii as c,Wo as d,nr as e,Ar as f,$r as g};
