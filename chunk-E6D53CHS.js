import{a as Hi}from"./chunk-VHU5AOOE.js";import{a as ji}from"./chunk-TFUU2Z7G.js";import{a as Wi}from"./chunk-CQACG5XF.js";import{a as Gi}from"./chunk-NXDJEY7Z.js";import{b as qi}from"./chunk-QP444FFK.js";import{a as Ze}from"./chunk-ML3NIS3M.js";import{$a as Dt,$b as ii,Bd as Ni,C as yt,Cc as Ei,Dc as yi,Ec as Ti,Ed as Bi,Gb as Qt,Gd as Ye,Hb as Kt,Ib as Jt,Jd as Fi,K as je,Kd as Oi,L as he,La as Ie,M as Ce,Ma as ve,Mc as ye,Na as we,O as Tt,Oc as Ai,P as At,Rc as ki,Ta as xe,Tc as Ri,Uc as Ui,Vb as Xt,Wa as K,Wb as Yt,Xb as Zt,Yb as $t,Zb as ei,_a as Vt,_b as ti,aa as ge,ab as Lt,ac as ni,bc as oi,ca as kt,cc as ri,cd as Xe,da as Rt,dc as ai,fc as li,gc as si,hc as di,ic as ci,id as Vi,jc as mi,kc as pi,lb as qt,lc as fi,ld as Di,m as bt,mb as jt,mc as ui,nb as q,nc as _i,o as Mt,oc as hi,p as oe,qc as Ci,rc as gi,s as re,sa as Qe,sb as zt,sc as Si,t as pe,tb as W,tc as Ii,uc as vi,ud as Li,v as fe,vb as j,vc as wi,w as Et,wc as xi,x as ue,xc as bi,y as _e,yc as Mi,yd as Pi}from"./chunk-D3PPNHCP.js";import{b as B,c as F,q as X}from"./chunk-WZHZ4IQF.js";import{Aa as Be,Ab as it,Cd as Bt,Db as ee,Dc as wt,Dd as z,Eb as te,Fb as ie,Fc as qe,Hd as J,He as Wt,Ia as Y,Ib as y,Id as Ee,Jd as ae,Je as Ke,Kb as d,Ke as Je,L as _t,La as r,Lb as v,Lc as xt,Ma as I,Mb as C,Nb as ne,O as ht,Ob as nt,Qb as T,Qd as O,Rb as A,Sb as k,Sf as Ht,Ud as Ft,Vb as Ge,W as Ct,Wb as ot,X as gt,Yb as f,Za as me,Zb as u,Zf as at,ab as w,ae as Ot,bb as Fe,be as L,cb as c,ce as G,cq as le,da as Pe,db as St,de as Gt,eb as $,fd as Se,g as pt,gc as P,gd as Ut,hd as ze,ja as D,ka as Ne,kd as rt,lb as a,ld as be,mb as l,nb as S,ob as R,pb as U,qb as Oe,qd as Me,ra as _,rb as x,sa as h,td as Pt,u as ft,ub as M,v as ut,vd as Ue,wb as m,xb as It,xc as We,yb as vt,yc as He,zb as E,zc as N,zd as Nt}from"./chunk-B4IEXLZS.js";var zi=(()=>{let s=class s{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=D({type:s,selectors:[["app-core-user"]],decls:1,vars:0,template:function(i,t){i&1&&S(0,"router-outlet")},dependencies:[Ut],encapsulation:2});let o=s;return o})();var nn=["vform"];function on(o,s){o&1&&(a(0,"mat-error"),d(1," OldPassword is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function rn(o,s){if(o&1){let n=x();a(0,"div",10)(1,"label",18),d(2),f(3,"translate"),l(),a(4,"input",19,3),f(6,"translate"),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.oldPassword,i)||(t.dataModel.oldPassword=i),h(i)}),l(),a(7,"em"),d(8),l(),w(9,on,5,3,"mat-error",13),l()}if(o&2){let n=y(5),e=m();r(2),v(u(3,5,"TITLE.Old_password")),r(2),E("placeholder",u(6,7,"TITLE.Old_password")),T("ngModel",e.dataModel.oldPassword),r(4),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function an(o,s){o&1&&(a(0,"mat-error"),d(1," New Password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function ln(o,s){o&1&&(a(0,"mat-error"),d(1," Repeat New Password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function sn(o,s){if(o&1){let n=x();a(0,"div",20)(1,"button",21),M("click",function(){_(n);let i=m();return h(i.onFormCancel())}),S(2,"i",22),d(3),f(4,"translate"),l(),a(5,"button",23),S(6,"i",24),d(7),f(8,"translate"),l()()}if(o&2){m();let n=y(9);r(3),C(" ",u(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!n.form.valid),r(2),C(" ",u(8,5,"ACTION.SAVE")," ")}}var tt=(()=>{let s=class s{constructor(e,i,t,p,b,g,V,H,Q){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreAuthService=p,this.cmsToastrService=b,this.translate=g,this.tokenHelper=V,this.cdr=H,this.publicHelper=Q,this.requestLinkUserId=0,this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ke,this.passwordIsValid=!1,this.dataModelResult=new z,this.dataModel=new Ht,this.formInfo=new ae,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.dataCoreUserIds=[],this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserId=+e.linkUserId||0),this.NewPasswordRepeat=""}ngOnInit(){this.formInfo.formTitle="\u062A\u063A\u06CC\u06CC\u0631 \u06A9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631  ",this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.requestLinkUserId>0&&(this.dataModel.linkUserId=this.requestLinkUserId),this.coreAuthService.ServiceChangePassword(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}passwordValid(e){this.passwordIsValid=e}onFormSubmit(){if(this.formGroup.valid){if(this.tokenInfo.userAccessAdminAllowToProfessionalData)(!this.dataModel.oldPassword||this.dataModel.oldPassword.length===0)&&(this.dataModel.oldPassword="000");else if(!this.dataModel.oldPassword||this.dataModel.oldPassword.length===0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Enter_the_previous_password"));return}if(!this.dataModel.newPassword||this.dataModel.newPassword.length===0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Enter_the_new_password"));return}if(this.dataModel.newPassword!==this.NewPasswordRepeat){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.The_new_password_is_equivalent_to_a_duplicate"));return}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}};s.\u0275fac=function(i){return new(i||s)(I(ve),I(Ie),I(O),I(Je),I(q),I(B),I(X),I(P),I(W))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-changepassword"]],viewQuery:function(i,t){if(i&1&&ee(nn,5),i&2){let p;te(p=ie())&&(t.formGroup=p.first)}},decls:33,vars:26,consts:[["vform","ngForm"],["NewPassword",""],["NewPasswordRepeat2",""],["OldPassword",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.newPassword",1,"color-highlight"],["matInput","","name","dataModel.newPassword","type","password","minlength","3","maxlength","100","id","dataModel.newPassword","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[3,"passwordStrength","passwordToCheck"],["for","NewPasswordRepeat",1,"color-highlight"],["matInput","","name","NewPasswordRepeat","type","password","minlength","3","maxlength","100","id","NewPasswordRepeat","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["for","dataModel.oldPassword",1,"color-highlight"],["matInput","","name","dataModel.oldPassword","type","password","minlength","3","maxlength","100","id","dataModel.oldPassword","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let p=x();a(0,"div",4),S(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"form",8,0),M("ngSubmit",function(){return _(p),h(t.onFormSubmit())}),w(10,rn,10,9,"div",9),a(11,"div",10)(12,"label",11),d(13),f(14,"translate"),l(),a(15,"input",12,1),f(17,"translate"),k("ngModelChange",function(g){return _(p),A(t.dataModel.newPassword,g)||(t.dataModel.newPassword=g),h(g)}),l(),a(18,"em"),d(19),l(),w(20,an,5,3,"mat-error",13),l(),a(21,"app-password-strength",14),M("passwordStrength",function(g){return _(p),h(t.passwordValid(g))}),l(),a(22,"div",10)(23,"label",15),d(24),f(25,"translate"),l(),a(26,"input",16,2),f(28,"translate"),k("ngModelChange",function(g){return _(p),A(t.NewPasswordRepeat,g)||(t.NewPasswordRepeat=g),h(g)}),l(),a(29,"em"),d(30),l(),w(31,ln,5,3,"mat-error",13),l(),w(32,sn,9,7,"div",17),l()()()}if(i&2){let p=y(16),b=y(27);r(),c("optionsInfoAreaId",t.constructorInfoAreaId),r(3),C(" ",t.formInfo.formTitle," "),r(2),C(" ",u(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",!t.tokenInfo.userAccessAdminAllowToProfessionalData),r(3),v(u(14,18,"TITLE.New_password")),r(2),E("placeholder",u(17,20,"TITLE.New_password")),T("ngModel",t.dataModel.newPassword),r(4),C("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(),c("passwordToCheck",t.dataModel.newPassword),r(3),v(u(25,22,"TITLE.Repeat_new_password")),r(2),E("placeholder",u(28,24,"TITLE.Repeat_new_password")),T("ngModel",t.NewPasswordRepeat),r(4),C("",b.value.length," / 100"),r(),c("ngIf",b.errors==null?null:b.errors.required),r(),c("ngIf",t.formInfo.formSubmitAllow)}},dependencies:[N,_e,oe,re,pe,je,he,Ce,ue,fe,ge,K,j,Ye,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var cn=["vform"];function mn(o,s){if(o&1){let n=x();a(0,"app-cms-enum-record-status-selector",37),k("modelChange",function(i){_(n);let t=m();return A(t.dataModel.recordStatus,i)||(t.dataModel.recordStatus=i),h(i)}),l()}if(o&2){let n=m();T("model",n.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function fn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",39),d(2),l(),a(3,"input",40,2),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.username,i)||(t.dataModel.username=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,pn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),r(),E("placeholder",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),T("ngModel",e.dataModel.username),c("disabled",!(e.fieldsInfo.username!=null&&e.fieldsInfo.username.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function un(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function _n(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",42),d(2),l(),a(3,"input",43,3),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.email,i)||(t.dataModel.email=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,un,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),r(),E("placeholder",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),T("ngModel",e.dataModel.email),c("disabled",!(e.fieldsInfo.email!=null&&e.fieldsInfo.email.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function hn(o,s){if(o&1){let n=x();a(0,"div",44)(1,"div",45)(2,"h5",46),d(3),l()(),a(4,"div",47)(5,"div",48)(6,"input",49),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.emailConfirmed,i)||(t.dataModel.emailConfirmed=i),h(i)}),l(),S(7,"label",50),l()()()}if(o&2){let n=m();r(3),C(" ",n.fieldsInfo.emailConfirmed==null?null:n.fieldsInfo.emailConfirmed.fieldTitle,""),r(3),T("ngModel",n.dataModel.emailConfirmed)}}function Cn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function gn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",51),d(2),l(),a(3,"input",52,4),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.mobile,i)||(t.dataModel.mobile=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Cn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),r(),E("placeholder",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),T("ngModel",e.dataModel.mobile),c("disabled",!(e.fieldsInfo.mobile!=null&&e.fieldsInfo.mobile.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Sn(o,s){if(o&1){let n=x();a(0,"div",44)(1,"div",45)(2,"h5",53),d(3),l()(),a(4,"div",47)(5,"div",48)(6,"input",54),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.mobileConfirmed,i)||(t.dataModel.mobileConfirmed=i),h(i)}),l(),S(7,"label",55),l()()()}if(o&2){let n=m();r(3),C(" ",n.fieldsInfo.mobileConfirmed==null?null:n.fieldsInfo.mobileConfirmed.fieldTitle,""),r(3),T("ngModel",n.dataModel.mobileConfirmed)}}function In(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",56),d(2),l(),a(3,"input",57),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.expireDate,i)||(t.dataModel.expireDate=i),h(i)}),l(),S(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,5),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle),r(),E("placeholder",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle),c("matDatepicker",n),T("ngModel",e.dataModel.expireDate),c("disabled",!(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessEditField)),r(),c("for",n)}}function vn(o,s){if(o&1){let n=x();a(0,"button",64),M("click",function(){_(n);let i=m(2);return h(i.onActionButtonChangePassword())}),d(1),f(2,"translate"),l()}o&2&&(r(),C(" ",u(2,1,"AUTH.FORGOT.PASSWORD")," "))}function wn(o,s){if(o&1){let n=x();a(0,"div",60)(1,"button",61),M("click",function(){_(n);let i=m();return h(i.onActionBackToParent())}),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l(),w(7,vn,3,3,"button",63),l()}if(o&2){let n=m(),e=y(12);r(2),C(" ",u(3,4,"ACTION.BACK")," "),r(2),c("disabled",!e.form.valid),r(),C(" ",u(6,6,"ACTION.NEXT")," "),r(2),c("ngIf",n.tokenInfo.userId===n.dataModel.id||n.dataAccessModel.accessEditRow)}}function xn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function bn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",65),d(2),l(),a(3,"input",66,6),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.name,i)||(t.dataModel.name=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,xn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),r(),E("placeholder",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),T("ngModel",e.dataModel.name),c("disabled",!(e.fieldsInfo.name!=null&&e.fieldsInfo.name.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Mn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function En(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",67),d(2),l(),a(3,"input",68,7),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.lastName,i)||(t.dataModel.lastName=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Mn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),r(),E("placeholder",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle),T("ngModel",e.dataModel.lastName),c("disabled",!(e.fieldsInfo.lastName!=null&&e.fieldsInfo.lastName.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function yn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",69),d(2),l(),a(3,"input",70),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.birthDay,i)||(t.dataModel.birthDay=i),h(i)}),l(),S(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,8),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.birthDay==null?null:e.fieldsInfo.birthDay.fieldTitle),r(),E("placeholder",e.fieldsInfo.birthDay==null?null:e.fieldsInfo.birthDay.fieldTitle),c("matDatepicker",n),T("ngModel",e.dataModel.birthDay),c("disabled",!(e.fieldsInfo.birthDay!=null&&e.fieldsInfo.birthDay.accessEditField)),r(),c("for",n)}}function Tn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function An(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",71),d(2),l(),a(3,"input",72,9),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.companyName,i)||(t.dataModel.companyName=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Tn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),r(),E("placeholder",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),T("ngModel",e.dataModel.companyName),c("disabled",!(e.fieldsInfo.companyName!=null&&e.fieldsInfo.companyName.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function kn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.tell==null?null:n.fieldsInfo.tell.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Rn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",73),d(2),l(),a(3,"input",74,10),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.tell,i)||(t.dataModel.tell=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,kn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),r(),E("placeholder",e.fieldsInfo.tell==null?null:e.fieldsInfo.tell.fieldTitle),T("ngModel",e.dataModel.tell),c("disabled",!(e.fieldsInfo.tell!=null&&e.fieldsInfo.tell.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Un(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.postalCode==null?null:n.fieldsInfo.postalCode.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Vn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",75),d(2),l(),a(3,"input",76,11),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.postalCode,i)||(t.dataModel.postalCode=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Un,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.postalCode==null?null:e.fieldsInfo.postalCode.fieldTitle),r(),E("placeholder",e.fieldsInfo.postalCode==null?null:e.fieldsInfo.postalCode.fieldTitle),T("ngModel",e.dataModel.postalCode),c("disabled",!(e.fieldsInfo.postalCode!=null&&e.fieldsInfo.postalCode.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Dn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",77),d(2),l(),a(3,"textarea",78,12),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.address,i)||(t.dataModel.address=i),h(i)}),d(5,"            "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),E("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),T("ngModel",e.dataModel.address),c("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),r(4),C("",n.value.length," / 1000")}}function Ln(o,s){if(o&1&&(a(0,"div",60)(1,"button",79),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l()()),o&2){m();let n=y(12);r(2),C(" ",u(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(6,5,"ACTION.NEXT")," ")}}function Pn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",80),d(2),l(),a(3,"input",81),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.expireLockAccount,i)||(t.dataModel.expireLockAccount=i),h(i)}),l(),S(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,13),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.expireLockAccount==null?null:e.fieldsInfo.expireLockAccount.fieldTitle),r(),c("matDatepicker",n),T("ngModel",e.dataModel.expireLockAccount),r(),c("for",n)}}function Nn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",82),d(2),l(),a(3,"textarea",83,14),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.firewallAllowIP,i)||(t.dataModel.firewallAllowIP=i),h(i)}),d(5,"            "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),r(),E("placeholder",e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),T("ngModel",e.dataModel.firewallAllowIP),c("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),r(4),C("",n.value.length," / 1000")}}function Bn(o,s){if(o&1&&(a(0,"div",60)(1,"button",79),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l()()),o&2){m();let n=y(12);r(2),C(" ",u(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(6,5,"ACTION.NEXT")," ")}}function Fn(o,s){if(o&1&&(S(0,"img",84),f(1,"cmsthumbnail")),o&2){let n=m();E("src",u(1,1,n.dataModel.linkMainImageIdSrc),Y)}}function On(o,s){if(o&1){let n=x();a(0,"div",38)(1,"input",85,15),f(3,"translate"),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.linkMainImageId,i)||(t.dataModel.linkMainImageId=i),h(i)}),M("click",function(){_(n);let i=m();return h(i.fileManagerOpenForm=!0)}),l(),a(4,"cms-file-manager",86),M("itemSelected",function(i){_(n);let t=m();return h(t.onActionFileSelected(i))}),k("openFormChange",function(i){_(n);let t=m();return A(t.fileManagerOpenForm,i)||(t.fileManagerOpenForm=i),h(i)}),l()()}if(o&2){let n=m();r(),E("placeholder",u(3,10,"TITLE.Icon_File_ID")),T("ngModel",n.dataModel.linkMainImageId),r(3),c("language",n.appLanguage)("selectFileType",n.selectFileTypeMainImage)("isPopup",!0),T("openForm",n.fileManagerOpenForm),c("openDirectUploadView",!0)("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1)}}function Gn(o,s){if(o&1){let n=x();a(0,"div",60)(1,"button",61),M("click",function(){_(n);let i=m();return h(i.onActionBackToParent())}),d(2),f(3,"translate"),l(),a(4,"button",79),d(5),f(6,"translate"),l(),a(7,"button",87),d(8),f(9,"translate"),l()()}if(o&2){m();let n=y(12);r(2),C(" ",u(3,4,"ACTION.BACK")," "),r(3),C(" ",u(6,6,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(9,8,"ACTION.SAVE")," ")}}function Wn(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Hn(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function qn(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function jn(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Ji=(()=>{let s=class s extends Wi{constructor(e,i,t,p,b,g,V,H,Q,se){super(t,new L,b,se),this.activatedRoute=e,this.coreEnumService=i,this.coreUserService=t,this.cmsToastrService=p,this.publicHelper=b,this.tokenHelper=g,this.router=V,this.cdr=H,this.dialog=Q,this.translate=se,this.constructorInfoAreaId=this.constructor.name,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Bt,this.dataModel=new L,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getTokenInfoState().then(de=>{this.tokenInfo=de}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(de=>{this.tokenInfo=de,this.DataGetOneContent()})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId===0&&(this.requestId=this.tokenInfo.userId),this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent()}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserService.setAccessLoad(),this.coreUserService.setAccessDataType(Nt.Editor),this.coreUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.username,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dataModel.id===this.tokenInfo.userId&&this.tokenHelper.getTokenInfoState()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/core/user/"])}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorLinkResellerSiteIdSelect(e){this.dataModel.linkResellerSiteId=null,!(!e||e.id<=0)&&(this.dataModel.linkResellerSiteId=e.id)}onActionSelectorLinkResellerUserIdSelect(e){this.dataModel.linkResellerUserId=null,!(!e||e.id<=0)&&(this.dataModel.linkResellerUserId=e.id)}onActionButtonChangePassword(){if(this.tokenInfo.userId!=this.dataModel.id&&(this.dataAccessModel==null||!this.dataAccessModel.accessEditRow)){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(tt,{data:{linkUserId:this.dataModel.id}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate})}};s.\u0275fac=function(i){return new(i||s)(I(Se),I(O),I(G),I(q),I(W),I(X),I(ze),I(P),I(we),I(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-edit"]],viewQuery:function(i,t){if(i&1&&ee(cn,5),i&2){let p;te(p=ie())&&(t.formGroup=p.first)}},features:[me],decls:65,vars:64,consts:[["vform","ngForm"],["stepper",""],["Username",""],["Email",""],["Mobile",""],["ExpireDate",""],["Name",""],["LastName",""],["BirthDay",""],["CompanyName",""],["Tell",""],["PostalCode",""],["Address",""],["ExpireLockAccount",""],["FirewallAllowIP",""],["LinkMainImageId",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.emailConfirmed",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.emailConfirmed","name","dataModel.emailConfirmed",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.emailConfirmed",1,"custom-control-label"],["for","dataModel.mobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobile","minlength","3","maxlength","100","id","dataModel.mobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["data-trigger-switch","dataModel.mobileConfirmed",1,"font-600","font-14"],["type","checkbox","id","dataModel.mobileConfirmed","name","dataModel.mobileConfirmed",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.mobileConfirmed",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","minlength","3","maxlength","100","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled","placeholder"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.name",1,"color-highlight"],["matInput","","type","text","name","dataModel.name","minlength","3","maxlength","100","id","dataModel.name",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.lastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.lastName","minlength","3","maxlength","100","id","dataModel.lastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.birthDay",1,"color-highlight"],["matInput","","type","text","name","dataModel.birthDay","id","dataModel.birthDay",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled","placeholder"],["for","dataModel.companyName",1,"color-highlight"],["matInput","","type","text","name","dataModel.companyName","minlength","3","maxlength","100","id","dataModel.companyName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.tell",1,"color-highlight"],["matInput","","type","text","name","dataModel.tell","minlength","3","maxlength","100","id","dataModel.tell",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.postalCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.postalCode","minlength","3","maxlength","100","id","dataModel.postalCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["for","dataModel.expireLockAccount",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireLockAccount","id","dataModel.expireLockAccount",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["for","dataModel.firewallAllowIP",1,"color-highlight"],["matInput","","name","dataModel.firewallAllowIP","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.firewallAllowIP",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,t){if(i&1){let p=x();a(0,"div",16),S(1,"app-progress-spinner",17),a(2,"div",18)(3,"p",19),d(4),l(),a(5,"p"),d(6),f(7,"translate"),S(8,"br"),d(9),f(10,"translate"),l(),a(11,"form",20,0),M("ngSubmit",function(){return _(p),h(t.onFormSubmit())}),a(13,"mat-vertical-stepper",21,1),M("selectionChange",function(g){_(p);let V=y(14);return h(t.onStepClick(g,V))}),a(15,"mat-step",22),f(16,"translate"),w(17,mn,1,5,"app-cms-enum-record-status-selector",23)(18,fn,8,6,"div",24)(19,_n,8,6,"div",24)(20,hn,8,2,"div",25)(21,gn,8,6,"div",24)(22,Sn,8,2,"div",25)(23,In,7,6,"div",24)(24,wn,8,8,"div",26),l(),a(25,"mat-step",27),f(26,"translate"),a(27,"p"),d(28),f(29,"translate"),l(),w(30,bn,8,6,"div",24)(31,En,8,6,"div",24)(32,yn,7,6,"div",24)(33,An,8,6,"div",24)(34,Rn,8,6,"div",24)(35,Vn,8,6,"div",24)(36,Dn,8,5,"div",24)(37,Ln,7,7,"div",26),l(),a(38,"mat-step",27),f(39,"translate"),a(40,"p"),d(41),f(42,"translate"),l(),a(43,"app-cms-user-selector",28),f(44,"translate"),M("optionChange",function(g){return _(p),h(t.onActionSelectorLinkResellerUserIdSelect(g))}),l(),a(45,"app-cms-site-selector",28),f(46,"translate"),M("optionChange",function(g){return _(p),h(t.onActionSelectorLinkResellerSiteIdSelect(g))}),l(),w(47,Pn,7,4,"div",24)(48,Nn,8,5,"div",24)(49,Bn,7,7,"div",26),l(),a(50,"mat-step",29),f(51,"translate"),a(52,"p"),d(53),f(54,"translate"),l(),a(55,"div",30)(56,"a",31),f(57,"cmsthumbnail"),w(58,Fn,2,3,"img",32),l()(),w(59,On,5,12,"div",24)(60,Gn,10,10,"div",26),l(),w(61,Wn,2,0,"ng-template",33)(62,Hn,2,0,"ng-template",34)(63,qn,2,0,"ng-template",35)(64,jn,2,0,"ng-template",36),l()()()()}i&2&&(r(),c("optionsInfoAreaId",t.constructorInfoAreaId),r(3),C(" ",t.formInfo.formTitle," "),r(2),C(" ",u(7,40,"TITLE.In_this_section_you_can_edit_the_user_profile")," "),r(3),C(" ",u(10,42,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),E("label",u(16,44,"TITLE.REQUIRED_INFORMATION")),r(2),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",t.fieldsInfo.username==null?null:t.fieldsInfo.username.accessWatchField),r(),c("ngIf",t.fieldsInfo.email==null?null:t.fieldsInfo.email.accessWatchField),r(),c("ngIf",t.fieldsInfo.emailConfirmed==null?null:t.fieldsInfo.emailConfirmed.accessWatchField),r(),c("ngIf",t.fieldsInfo.mobile==null?null:t.fieldsInfo.mobile.accessWatchField),r(),c("ngIf",t.fieldsInfo.mobileConfirmed==null?null:t.fieldsInfo.mobileConfirmed.accessWatchField),r(),c("ngIf",t.fieldsInfo.expireDate==null?null:t.fieldsInfo.expireDate.accessWatchField),r(),c("ngIf",t.formInfo.formSubmitAllow),r(),E("label",u(26,46,"TITLE.personal_information")),r(3),v(u(29,48,"TITLE.Enter_the_account_owner_information")),r(2),c("ngIf",t.fieldsInfo.name==null?null:t.fieldsInfo.name.accessWatchField),r(),c("ngIf",t.fieldsInfo.lastName==null?null:t.fieldsInfo.lastName.accessWatchField),r(),c("ngIf",t.fieldsInfo.birthDay==null?null:t.fieldsInfo.birthDay.accessWatchField),r(),c("ngIf",t.fieldsInfo.companyName==null?null:t.fieldsInfo.companyName.accessWatchField),r(),c("ngIf",t.fieldsInfo.tell==null?null:t.fieldsInfo.tell.accessWatchField),r(),c("ngIf",t.fieldsInfo.postalCode==null?null:t.fieldsInfo.postalCode.accessWatchField),r(),c("ngIf",t.fieldsInfo.address==null?null:t.fieldsInfo.address.accessWatchField),r(),c("ngIf",t.formInfo.formSubmitAllow),r(),E("label",u(39,50,"TITLE.Security_settings")),r(3),v(u(42,52,"TITLE.Necessary_settings_for_the_security_of_this_user_account")),r(2),c("optionDisabled",!(t.fieldsInfo.linkResellerUserId!=null&&t.fieldsInfo.linkResellerUserId.accessEditField))("optionSelectForce",t.dataModel.linkResellerUserId)("optionPlaceholder",u(44,54,"TITLE.Representative_User")),r(2),c("optionDisabled",!(t.fieldsInfo.linkResellerSiteId!=null&&t.fieldsInfo.linkResellerSiteId.accessEditField))("optionSelectForce",t.dataModel.linkResellerSiteId)("optionPlaceholder",u(46,56,"TITLE.Representative_Site")),r(2),c("ngIf",t.fieldsInfo.expireLockAccount==null?null:t.fieldsInfo.expireLockAccount.accessWatchField),r(),c("ngIf",t.fieldsInfo.firewallAllowIP==null?null:t.fieldsInfo.firewallAllowIP.accessWatchField),r(),c("ngIf",t.formInfo.formSubmitAllow),r(),E("label",u(51,58,"TITLE.ATTACH_FILES")),r(3),v(u(54,60,"TITLE.Files_related_to_this_user_account")),r(3),E("href",u(57,62,t.dataModel.linkMainImageIdSrc),Y),r(2),c("ngIf",(t.dataModel==null||t.dataModel.linkMainImageIdSrc==null?null:t.dataModel.linkMainImageIdSrc.length)>0),r(),c("ngIf",t.fieldsInfo.linkMainImageId==null?null:t.fieldsInfo.linkMainImageId.accessWatchField),r(),c("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,_e,oe,Mt,re,pe,he,Ce,ue,fe,Vt,Dt,Lt,ge,Rt,xe,K,ni,oi,ri,ai,ii,Pi,Xe,Bi,j,Ti,qt,F,ye]});let o=s;return o})();var zn=["vform"];function Qn(o,s){if(o&1){let n=x();a(0,"app-cms-enum-record-status-selector",14),k("modelChange",function(i){_(n);let t=m();return A(t.dataModel.recordStatus,i)||(t.dataModel.recordStatus=i),h(i)}),l()}if(o&2){let n=m();T("model",n.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kn(o,s){o&1&&(a(0,"mat-error"),d(1," Username is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function Jn(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",16),d(2),l(),a(3,"input",17,1),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.username,i)||(t.dataModel.username=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Kn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),r(),E("placeholder",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),T("ngModel",e.dataModel.username),c("disabled",!(e.fieldsInfo.username!=null&&e.fieldsInfo.username.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Xn(o,s){o&1&&(a(0,"mat-error"),d(1," Email is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function Yn(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",19),d(2),l(),a(3,"input",20,2),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.email,i)||(t.dataModel.email=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Xn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),r(),E("placeholder",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),T("ngModel",e.dataModel.email),c("disabled",!(e.fieldsInfo.email!=null&&e.fieldsInfo.email.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Zn(o,s){o&1&&(a(0,"mat-error"),d(1," Mobile is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function $n(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",21),d(2),l(),a(3,"input",22,3),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.mobile,i)||(t.dataModel.mobile=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,Zn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),r(),T("ngModel",e.dataModel.mobile),c("disabled",!(e.fieldsInfo.mobile!=null&&e.fieldsInfo.mobile.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function eo(o,s){o&1&&(a(0,"mat-error"),d(1," password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function to(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",23),d(2),l(),a(3,"input",24,4),k("ngModelChange",function(i){_(n);let t=m();return A(t.dataModel.pwd,i)||(t.dataModel.pwd=i),h(i)}),l(),a(5,"em"),d(6),l(),w(7,eo,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.pwd==null?null:e.fieldsInfo.pwd.fieldTitle),r(),E("placeholder",e.fieldsInfo.pwd==null?null:e.fieldsInfo.pwd.fieldTitle),T("ngModel",e.dataModel.pwd),c("disabled",!(e.fieldsInfo.pwd!=null&&e.fieldsInfo.pwd.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function io(o,s){if(o&1){let n=x();a(0,"div",25)(1,"button",26),M("click",function(){_(n);let i=m();return h(i.onFormCancel())}),S(2,"i",27),d(3),f(4,"translate"),l(),a(5,"button",28),S(6,"i",29),d(7),f(8,"translate"),l()()}if(o&2){m();let n=y(9);r(3),C(" ",u(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!n.form.valid),r(2),C(" ",u(8,5,"ACTION.SAVE")," ")}}var Xi=(()=>{let s=class s extends Gi{constructor(e,i,t,p,b,g,V,H){super(p,new L,g,H),this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreUserService=p,this.cmsToastrService=b,this.publicHelper=g,this.cdr=V,this.translate=H,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new z,this.dataModel=new L,this.fieldsInfo=new Map,this.passwordIsValid=!1,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}passwordValid(e){this.passwordIsValid=e}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,i){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=e.previouslySelectedIndex},10)))}};s.\u0275fac=function(i){return new(i||s)(I(ve),I(Ie),I(O),I(G),I(q),I(W),I(P),I(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-add"]],viewQuery:function(i,t){if(i&1&&ee(zn,5),i&2){let p;te(p=ie())&&(t.formGroup=p.first)}},features:[me],decls:17,vars:12,consts:[["vform","ngForm"],["Username",""],["Email",""],["Mobile",""],["Pwd",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"passwordStrength","passwordToCheck"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.mobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobile","placeholder","00989120000000","minlength","9","maxlength","20","id","dataModel.mobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.pwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.pwd","minlength","3","maxlength","50","id","dataModel.pwd",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(i&1){let p=x();a(0,"div",5),S(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"form",9,0),M("ngSubmit",function(){return _(p),h(t.onFormSubmit())}),w(10,Qn,1,5,"app-cms-enum-record-status-selector",10)(11,Jn,8,6,"div",11)(12,Yn,8,6,"div",11)(13,$n,8,5,"div",11)(14,to,8,6,"div",11),a(15,"app-password-strength",12),M("passwordStrength",function(g){return _(p),h(t.passwordValid(g))}),l(),w(16,io,9,7,"div",13),l()()()}i&2&&(r(),c("optionsInfoAreaId",t.constructorInfoAreaId),r(3),C(" ",t.formInfo.formTitle," "),r(2),C(" ",u(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",t.fieldsInfo.recordStatus==null?null:t.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",t.fieldsInfo.username==null?null:t.fieldsInfo.username.accessWatchField),r(),c("ngIf",t.fieldsInfo.email==null?null:t.fieldsInfo.email.accessWatchField),r(),c("ngIf",t.fieldsInfo.mobile==null?null:t.fieldsInfo.mobile.accessWatchField),r(),c("ngIf",t.fieldsInfo.pwd==null?null:t.fieldsInfo.pwd.accessWatchField),r(),c("passwordToCheck",t.dataModel.pwd),r(),c("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,_e,oe,re,pe,he,Ce,ue,fe,ge,K,Xe,j,Ye,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var no=["vform"];function oo(o,s){if(o&1){let n=x();a(0,"div",7)(1,"button",12),M("click",function(){_(n);let i=m();return h(i.onFormCancel())}),S(2,"i",13),d(3),f(4,"translate"),l()()}o&2&&(r(3),C(" ",u(4,1,"ACTION.CANCEL")," "))}var Yi=(()=>{let s=class s{constructor(e,i,t,p,b,g,V,H,Q){this.data=e,this.dialogRef=i,this.coreEnumService=t,this.coreUserService=p,this.cmsToastrService=b,this.publicHelper=g,this.cdr=V,this.tokenHelper=H,this.translate=Q,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new Ke,this.dataModelResult=new z,this.dataModel=new L,this.formInfo=new ae,this.dataModelEnumSendSmsStatusTypeResult=new z,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.coreUserService.setAccessLoad(),this.coreUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(I(ve),I(Ie),I(O),I(G),I(q),I(W),I(P),I(X),I(B))},s.\u0275cmp=D({type:s,selectors:[["app-application-memberinfo-view"]],viewQuery:function(i,t){if(i&1&&ee(no,5),i&2){let p;te(p=ie())&&(t.formGroup=p.first)}},decls:18,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body","ntk-allow-text-selection"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,t){i&1&&(a(0,"div",0),S(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"div",4),S(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),d(13),l(),a(14,"small",9),d(15),l()()(),a(16,"div",10),w(17,oo,5,3,"div",11),l()()()),i&2&&(r(),c("optionsInfoAreaId",t.constructorInfoAreaId),r(3),C(" ",t.formInfo.formTitle," "),r(2),C(" ",u(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),r(3),c("dataModel",t.dataModel)("optionMethod",1),r(4),C("",t.formInfo.formAlert," "),r(2),C("",t.formInfo.formError," "),r(2),c("ngIf",t.formInfo.formSubmitAllow))},dependencies:[N,j,Di,F]});let o=s;return o})();var ao=()=>["expandedTitle"],lo=()=>["expandedDetail"],so=()=>[5,10,20,100],Zi=o=>({display:o});function co(o,s){if(o&1){let n=x();a(0,"a",55),M("click",function(){_(n);let i=m();return h(i.onActionBackToParentSiteList())}),S(1,"i",56),l()}}function mo(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",57),M("click",function(){_(n);let i=m();return h(i.onActionButtonNewRow())}),S(2,"i",58)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.ADD")))}function po(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",59),M("click",function(i){_(n);let t=m();return h(t.onActionButtonEditRow(t.tableRowSelected,i))}),S(2,"i",60)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.EDIT")))}function fo(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",12),M("click",function(){_(n);let i=m();return h(i.onActionButtonChangePassword(i.tableRowSelected))}),S(2,"i",61)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.CHANGE_PASSWORD")))}function uo(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",62),M("click",function(){_(n);let i=m();return h(i.onActionButtonDeleteRow(i.tableRowSelected))}),S(2,"i",63)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.DELETE")))}function _o(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",12),M("click",function(){_(n);let i=m();return h(i.onActionButtonLoginToRow(i.tableRowSelected))}),S(2,"i",64)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.LOGIN_TO_THIS_USER")))}function ho(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",12),M("click",function(){_(n);let i=m();return h(i.onActionButtonUserSupportList(i.tableRowSelected))}),S(2,"i",65)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.ACEESS")))}function Co(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",12),M("click",function(i){_(n);let t=m();return h(t.onActionButtonResller(t.tableRowSelected,i))}),S(2,"i",66)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.MARKETING_SUBCATEGORY")))}function go(o,s){if(o&1){let n=x();a(0,"div",21)(1,"a",12),M("click",function(){_(n);let i=m();return h(i.onActionButtonEmailConfirm())}),S(2,"i",67)(3,"br"),l(),a(4,"p",23),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.CONFIRMEMAIL")))}function So(o,s){o&1&&(a(0,"mat-header-cell"),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.MENU")," "))}function Io(o,s){if(o&1){let n=x();a(0,"mat-cell")(1,"button",68),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowSelectActionMenu(i))}),S(2,"i",69),l()()}}function vo(o,s){o&1&&(a(0,"mat-header-cell",70),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.PICTURE")," "))}function wo(o,s){if(o&1&&(S(0,"img",72),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Y)}}function xo(o,s){if(o&1&&(a(0,"mat-cell"),w(1,wo,2,3,"img",71),l()),o&2){let n=s.$implicit;r(),c("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function bo(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Mo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function Eo(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function yo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),f(2,"cmssiteinfo"),f(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",u(3,3,u(2,1,n.linkSiteId))," ")}}function To(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ao(o,s){if(o&1&&S(0,"select",75),o&2){let n=m().$implicit,e=m();c("contentService",e.contentService)("row",n)("ngStyle",ot(3,Zi,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function ko(o,s){if(o&1&&(a(0,"mat-cell",73),f(1,"statusCellClass"),S(2,"i",73),f(3,"statusIconClass"),w(4,Ao,1,5,"select",74),l()),o&2){let n=s.$implicit,e=m();c("ngClass",u(1,3,n.recordStatus)),r(2),c("ngClass",u(3,5,n.recordStatus)),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function Ro(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," ")}}function Uo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.name," ")}}function Vo(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," ")}}function Do(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.lastName," ")}}function Lo(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," ")}}function Po(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.companyName," ")}}function No(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," ")}}function Bo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.email," ")}}function Fo(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," ")}}function Oo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.mobile," ")}}function Go(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Wo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),f(2,"localeDate"),l()),o&2){let n=s.$implicit;r(),C(" ",u(2,1,n.createdDate)," ")}}function Ho(o,s){if(o&1&&(a(0,"mat-header-cell",70),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function qo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),f(2,"localeDate"),l()),o&2){let n=s.$implicit;r(),C(" ",u(2,1,n.updatedDate)," ")}}function jo(o,s){o&1&&(a(0,"mat-header-cell"),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.OPTION")," "))}function zo(o,s){if(o&1&&(a(0,"mat-cell",76)(1,"button",77)(2,"mat-icon"),d(3,"more_vert"),l()(),S(4,"mat-menu",null,2),l()),o&2){let n=y(5);r(),c("matMenuTriggerFor",n)}}function Qo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),f(2,"translate"),f(3,"localeDate"),l()),o&2){let n=s.$implicit;r(),ne(" ",u(2,2,"TITLE.CreationDate")," : ",u(3,4,n.createdDate)," ")}}function Ko(o,s){if(o&1&&(S(0,"img",81),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Y)}}function Jo(o,s){if(o&1){let n=x();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),w(5,Ko,2,3,"img",78),l(),a(6,"th")(7,"span",79),M("click",function(){_(n);let i=m();return h(i.onActionCopied())}),S(8,"i",80),l(),d(9),l()(),a(10,"tr"),S(11,"td"),a(12,"td"),d(13),l()(),a(14,"tr"),S(15,"td"),a(16,"td"),d(17),l()(),a(18,"tr"),S(19,"td"),a(20,"td"),d(21),l()(),a(22,"tr"),S(23,"td"),a(24,"td"),d(25),l()(),a(26,"tr"),S(27,"td"),a(28,"td"),d(29),l()(),a(30,"tr"),S(31,"td"),a(32,"td"),d(33),l()(),a(34,"tr"),S(35,"td")(36,"td"),l()()()()}if(o&2){let n=s.$implicit,e=m();r(5),c("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),c("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),ne("",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," : ",n.username," "),r(4),ne("",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," : ",n.name," "),r(4),ne("",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," : ",n.lastName," "),r(4),ne("",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," : ",n.mobile," "),r(4),ne("",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," : ",n.email," "),r(4),ne("",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," : ",n.companyName," ")}}function Xo(o,s){o&1&&S(0,"mat-header-row")}function Yo(o,s){if(o&1){let n=x();a(0,"mat-row",82),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowSelect(i))})("mouseenter",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,i=m();$("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Zo(o,s){if(o&1){let n=x();a(0,"mat-row",82),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowSelect(i))})("mouseenter",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,i=m();$("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function $o(o,s){if(o&1){let n=x();a(0,"mat-row",83),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowSelect(i))})("mouseenter",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=_(n).$implicit,t=m();return h(t.onActionTableRowMouseLeave(i))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,i=m();$("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),c("ngStyle",ot(7,Zi,n.expanded===!0?"":"none"))}}var ct=(()=>{let s=class s extends ji{constructor(e,i,t,p,b,g,V,H,Q,se,de,en){if(super(e,new L,de,V,Q),this.coreUserService=e,this.contentService=i,this.router=t,this.cmsToastrService=p,this.activatedRoute=b,this.coreAuthService=g,this.tokenHelper=V,this.cdr=H,this.translate=Q,this.pageInfo=se,this.publicHelper=de,this.dialog=en,this.requestLinkSiteId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Name","LastName","CompanyName","email","mobile","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Name","LastName","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.optionsSearch.parentMethods={onSubmit:ce=>this.onSubmitOptionsSearch(ce)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Ue.Descending,this.requestLinkSiteId>0){let ce=new J;ce.propertyAnyName="LinkSiteId",ce.propertyName="SiteUsers",ce.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ce)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(e=>{this.tokenInfo=e,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:e=>{this.tokenInfo=e,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new L);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.coreUserService.ServiceGetAllEditor(i).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)},1e3)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ue.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ue.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ue.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Yi,{height:"90%",panelClass:i,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}i?.ctrlKey?(this.link="/#/core/user/edit/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/user/edit/",this.tableRowSelected.id])}onActionButtonChangePassword(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tokenInfo.userId!=e.id&&(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow)){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(tt,{data:{linkUserId:this.tableRowSelected.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonEmailConfirm(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Hi,{height:"70%",panelClass:e,enterAnimationDuration:le.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:le.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],t=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.name+"-"+this.tableRowSelected.lastName+" ) "}),this.contentService.confirm(i,t).then(p=>{if(p){let b=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(g=>{this.publicHelper.processService.processStart(b,g,this.constructorInfoAreaId)}),this.coreUserService.ServiceDelete(this.tableRowSelected.id).subscribe({next:g=>{g.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(b)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(b,!1)}})}}).catch(()=>{})}onActionButtonLoginToRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e);let i;i=new Wt,i.userId=this.tableRowSelected.id,this.coreAuthService.ServiceRenewToken(i).subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessSelected(),this.router.navigate(["/"])):this.cmsToastrService.typeErrorSelected()},error:t=>{this.cmsToastrService.typeError(t)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(g=>{i.set(g,0)}),this.translate.get("MESSAGE.All").subscribe(g=>{i.set(g,0)});let t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(g=>{this.publicHelper.processService.processStart(t,g,this.constructorInfoAreaId)}),this.coreUserService.ServiceGetCount(this.filteModelContent).subscribe({next:g=>{g.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{i.set(V,g.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.publicHelper.processService.processStop(t)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(t,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),b=new J;b.propertyName="RecordStatus",b.value=Pt.Available,p.filters.push(b),this.coreUserService.ServiceGetCount(p).subscribe({next:g=>{g.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{i.set(V,g.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.publicHelper.processService.processStop(t)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionButtonSiteList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/core/site/list/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/site/list/LinkUserId/",this.tableRowSelected.id])}onActionButtonSiteByGroupList(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/core/site/userlist/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/site/userlist/LinkUserId/",this.tableRowSelected.id])}onActionButtonResller(e=this.tableRowSelected,i){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(e),i?.ctrlKey?(this.link="/#/core/user/reseller-chart/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/user/reseller-chart/LinkUserId/",this.tableRowSelected.id])}onActionBackToParentSiteList(){this.router.navigate(["/core/site/"])}onActionButtonUserSupportList(e){this.router.navigate(["/core/user-support-access/list/LinkSiteId/",0,"LinkUserId",e.id])}};s.\u0275fac=function(i){return new(i||s)(I(G),I(Ze),I(ze),I(q),I(Se),I(Je),I(X),I(P),I(B),I(zt),I(W),I(we))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-list"]],features:[me],decls:111,vars:47,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-circle-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-users","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-lock","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-right-to-bracket","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-envelope-circle-check","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(i,t){if(i&1){let p=x();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(g){return _(p),A(t.viewGuideNotice,g)||(t.viewGuideNotice=g),h(g)}),M("optionOnActionButtonMemoRow",function(){return _(p),h(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(p),h(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(p),h(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(p),h(t.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),U(),Oe(3,5)(4,6),R(5,7),w(6,co,2,0,"a",8),a(7,"a",9),M("click",function(){return _(p),h(t.viewGuideNotice=!t.viewGuideNotice)}),S(8,"i",10),l(),a(9,"a",9),M("click",function(){return _(p),h(t.onActionButtonReload())}),S(10,"i",11),l(),a(11,"a",12),M("click",function(){return _(p),h(t.onActionGridExpandRows(!0))}),S(12,"i",13),l(),a(13,"a",12),M("click",function(){return _(p),h(t.onActionGridExpandRows(!1))}),S(14,"i",14),l(),U(),R(15,15),a(16,"a",16),M("click",function(){return _(p),h(t.optionsSearch.data.show=!t.optionsSearch.data.show)}),S(17,"mat-slide-toggle",17),d(18),f(19,"translate"),l(),a(20,"a",16),M("click",function(){return _(p),h(t.onActionButtonStatist())}),S(21,"mat-slide-toggle",17),d(22),f(23,"translate"),l(),U(),R(24,18),w(25,mo,7,3,"div",19),U(),R(26,20),a(27,"div",21)(28,"a",12),M("click",function(){return _(p),h(t.onActionButtonViewRow(t.tableRowSelected))}),S(29,"i",22)(30,"br"),l(),a(31,"p",23),d(32),f(33,"translate"),l()(),w(34,po,7,3,"div",19)(35,fo,7,3,"div",19)(36,uo,7,3,"div",19)(37,_o,7,3,"div",19)(38,ho,7,3,"div",19),a(39,"div",21)(40,"a",12),M("click",function(g){return _(p),h(t.onActionButtonSiteList(t.tableRowSelected,g))}),S(41,"i",24)(42,"br"),l(),a(43,"p",23),d(44),f(45,"translate"),l()(),a(46,"div",21)(47,"a",12),M("click",function(g){return _(p),h(t.onActionButtonSiteByGroupList(t.tableRowSelected,g))}),S(48,"i",25)(49,"br"),l(),a(50,"p",23),d(51),f(52,"translate"),l()(),w(53,Co,7,3,"div",19)(54,go,7,3,"div",19),U(),R(55,26),a(56,"app-cms-search-list",27),k("optionsChange",function(g){return _(p),A(t.optionsSearch,g)||(t.optionsSearch=g),h(g)}),l(),a(57,"app-cms-statist-list",27),k("optionsChange",function(g){return _(p),A(t.optionsStatist,g)||(t.optionsStatist=g),h(g)}),l(),U(),R(58,28),a(59,"mat-table",29,0),M("matSortChange",function(){_(p);let g=y(60);return h(t.onTableSortData(g))}),R(61,30),w(62,So,3,3,"mat-header-cell",31)(63,Io,3,0,"mat-cell",32),U(),R(64,33),w(65,vo,3,3,"mat-header-cell",34)(66,xo,2,1,"mat-cell",32),U(),R(67,35),w(68,bo,2,1,"mat-header-cell",34)(69,Mo,2,1,"mat-cell",32),U(),R(70,36),w(71,Eo,2,1,"mat-header-cell",34)(72,yo,4,5,"mat-cell",32),U(),R(73,37),w(74,To,2,1,"mat-header-cell",34)(75,ko,5,7,"mat-cell",38),U(),R(76,39),w(77,Ro,2,1,"mat-header-cell",34)(78,Uo,2,1,"mat-cell",32),U(),R(79,40),w(80,Vo,2,1,"mat-header-cell",34)(81,Do,2,1,"mat-cell",32),U(),R(82,41),w(83,Lo,2,1,"mat-header-cell",34)(84,Po,2,1,"mat-cell",32),U(),R(85,42),w(86,No,2,1,"mat-header-cell",34)(87,Bo,2,1,"mat-cell",32),U(),R(88,43),w(89,Fo,2,1,"mat-header-cell",34)(90,Oo,2,1,"mat-cell",32),U(),R(91,44),w(92,Go,2,1,"mat-header-cell",34)(93,Wo,3,3,"mat-cell",32),U(),R(94,45),w(95,Ho,2,1,"mat-header-cell",34)(96,qo,3,3,"mat-cell",32),U(),R(97,46),w(98,jo,3,3,"mat-header-cell",31)(99,zo,6,1,"mat-cell",47),U(),R(100,48),w(101,Qo,4,6,"mat-cell",32),U(),R(102,49),w(103,Jo,37,15,"mat-cell",32),U(),w(104,Xo,1,0,"mat-header-row",50)(105,Yo,1,6,"mat-row",51)(106,Zo,1,6,"mat-row",51)(107,$o,1,9,"mat-row",52),l(),U(),R(108,53),a(109,"mat-paginator",54,1),M("page",function(g){return _(p),h(t.onTablePageingData(g))}),l(),U(),l()}i&2&&(c("optionsListInfoAreaId",t.constructorInfoAreaId)("optionGuideNoticeKey","core.user.list"),T("optionActionGuideNoticeDisplay",t.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",t.tableRowSelected==null?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",t.tableRowSelected==null?null:t.tableRowSelected.username),r(6),c("ngIf",t.requestLinkSiteId>0),r(11),c("checked",t.optionsSearch.data.show),r(),C("",u(19,34,"ACTION.SEARCH")," "),r(3),c("checked",t.optionsStatist.data.show),r(),C("",u(23,36,"ACTION.STATIST")," "),r(3),c("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessAddRow),r(7),v(u(33,38,"ACTION.VIEW")),r(2),c("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData||(t.tableRowSelected==null?null:t.tableRowSelected.id)===t.tokenInfo.userId),r(),c("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData||(t.tableRowSelected==null?null:t.tableRowSelected.id)===t.tokenInfo.userId),r(),c("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),r(),c("ngIf",t.tokenInfo.userAccessAdminAllowToProfessionalData),r(),c("ngIf",t.tokenHelper.isAdminSite),r(6),v(u(45,40,"ACTION.MEMBER_SITES")),r(7),v(u(52,42,"ACTION.ACCESS_MEMBER_SITES")),r(2),c("ngIf",t.tokenInfo.userAccessAdminAllowToAllData||t.tokenInfo.siteId===(t.tableRowSelected==null?null:t.tableRowSelected.id)),r(),c("ngIf",t==null?null:t.dataModelResult.emailConfirmed),r(2),T("options",t.optionsSearch),r(),T("options",t.optionsStatist),r(2),c("dataSource",t.tableSource),r(45),c("matHeaderRowDef",t.tabledisplayedColumns),r(),c("matRowDefColumns",Ge(44,ao)),r(),c("matRowDefColumns",t.tabledisplayedColumns),r(),c("matRowDefColumns",Ge(45,lo)),r(2),c("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",Ge(46,so)))},dependencies:[We,N,wt,Qe,xe,K,Xt,Yt,Zt,$t,ei,ti,li,di,fi,ci,si,ui,mi,pi,_i,hi,Qt,Li,Ni,Vi,yi,qe,F,Ai,ye,Fi,Ui,Ri],encapsulation:2});let o=s;return o})();function er(o,s){if(o&1){let n=x();a(0,"mat-tree-node",12),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionSelect(i))}),S(1,"button",13)(2,"i",14),d(3),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,i=m();$("ntk-tree-odd",e%2)("ntk-tree-even",!(e%2))("ntk-tree-selected",i.dataModelSelect.linkUserId>0&&i.dataModelSelect.linkUserId===n.linkUserId),r(2),c("ngClass",n.icon),r(),nt(" \xA0\xA0\xA0\xA0 ",n.linkUserId," / ",n.user.name," ",n.user.lastName," ")}}function tr(o,s){if(o&1){let n=x();a(0,"mat-nested-tree-node")(1,"li")(2,"div",15),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionSelect(i))}),a(3,"button",16),M("click",function(){let i=_(n).$implicit,t=m();return h(t.onActionSelect(i))}),a(4,"mat-icon",17),d(5),l()(),S(6,"i",14),d(7),l(),a(8,"ul"),Oe(9,18),l()()()}if(o&2){let n=s.$implicit,e=m();r(2),$("ntk-tree-selected",e.dataModelSelect.linkUserId>0&&e.dataModelSelect.linkUserId===n.linkUserId),r(),Fe("aria-label","Toggle "),r(2),C(" ",e.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),St("color",n.color),c("ngClass",n.icon),r(),nt(" \xA0\xA0\xA0\xA0 ",n.linkUserId," / ",n.user.name," ",n.user.lastName," "),r(),$("category-tree-invisible",!e.treeControl.isExpanded(n))}}function ir(o,s){if(o&1&&(a(0,"div",24)(1,"div",21),d(2),l(),a(3,"div",21),d(4),l(),a(5,"div",21),d(6),l(),a(7,"div",21),d(8),l(),a(9,"div",21),d(10),f(11,"persianDate"),l(),S(12,"div",25),l()),o&2){let n=s.$implicit;r(2),v(n.site==null?null:n.site.id),r(2),v(n.site==null?null:n.site.title),r(2),v(n.site==null?null:n.site.domain),r(2),v(n.site==null?null:n.site.subDomain),r(2),v(u(11,5,n.site==null?null:n.site.createdDate))}}function nr(o,s){if(o&1&&(a(0,"div",19)(1,"div",20)(2,"div",21),d(3),f(4,"translate"),l(),a(5,"div",21),d(6),f(7,"translate"),l(),a(8,"div",21),d(9),f(10,"translate"),l(),a(11,"div",21),d(12),f(13,"translate"),l(),a(14,"div",21),d(15),f(16,"translate"),l(),S(17,"div",22),l(),w(18,ir,13,7,"div",23),l()),o&2){let n=m();r(3),v(u(4,6,"TITLE.Site_ID")),r(3),v(u(7,8,"TITLE.title")),r(3),v(u(10,10,"TITLE.Domain")),r(3),v(u(13,12,"TITLE.Subdomains")),r(3),v(u(16,14,"TITLE.production_date")),r(3),c("ngForOf",n.dataModelSelect.siteChilds)}}var mt=(()=>{let s=class s{constructor(e,i,t,p,b,g,V,H,Q){this.cmsToastrService=e,this.coreEnumService=i,this.categoryService=t,this.dialog=p,this.activatedRoute=b,this.cdr=g,this.publicHelper=V,this.tokenHelper=H,this.translate=Q,this.requestLinkUserId=0,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new at,this.dataModelResult=new z,this.filterModel=new Ee,this.treeControl=new Ci(se=>se.userChilds),this.dataSource=new Mi,this.optionChange=new Be,this.optionReload=()=>this.onActionButtonReload(),this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId"))}hasChild(e,i){return!!(i&&i.userChilds&&i.userChilds.length>0)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(e=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructorInfoAreaId)}),this.categoryService.ServiceGetRessellerChart(this.requestLinkUserId).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=[this.dataModelResult.item]):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(e){this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.dataModelSelect?this.onActionSelect(this.dataModelSelect):this.onActionSelect(null),this.dataModelSelect=new at,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(I(q),I(O),I(G),I(we),I(Se),I(P),I(W),I(X),I(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-reseller-chart"]],inputs:{optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:16,vars:8,consts:[[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],[1,"row","loader-container"],[3,"optionsInfoAreaId"],[1,"col-lg-6","col-sm-12"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","table",4,"ngIf"],[1,"ntk-cms-html-tree-footer"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""],[1,"table"],[1,"th"],[1,"td"],[1,"clear"],["class","tr",4,"ngFor","ngForOf"],[1,"tr"],[2,"clear","both"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"button",1),M("click",function(){return t.onActionButtonReload()}),a(2,"mat-icon",2),f(3,"translate"),d(4,"refresh"),l()()(),a(5,"div",3),S(6,"app-progress-spinner",4),a(7,"div",5)(8,"div",6)(9,"mat-tree",7),w(10,er,4,10,"mat-tree-node",8)(11,tr,10,12,"mat-nested-tree-node",9),l()()(),a(12,"div",5)(13,"div",6),w(14,nr,19,16,"div",10),l()()(),S(15,"div",11)),i&2&&(r(2),E("title",u(3,6,"ACTION.RELOAD")),r(4),c("optionsInfoAreaId",t.constructorInfoAreaId),r(3),c("dataSource",t.dataSource)("treeControl",t.treeControl),r(2),c("matTreeNodeDefWhen",t.hasChild),r(3),c("ngIf",(t.dataModelSelect==null||t.dataModelSelect.siteChilds==null?null:t.dataModelSelect.siteChilds.length)>0))},dependencies:[We,He,N,Qe,xe,Ii,Si,vi,bi,xi,gi,wi,j,F,ki],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var or=[{path:"",component:zi,children:[{path:"",component:ct},{path:"siteuser/:LinkSiteId",component:ct},{path:"edit/:Id",component:Ji},{path:"reseller-chart",component:mt},{path:"reseller-chart/LinkUserId/:LinkUserId",component:mt}]}],$i=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Ne({type:s}),s.\u0275inj=Pe({imports:[rt.forChild(or),rt]});let o=s;return o})();var rr=["*"];function ar(o,s){if(o&1&&(a(0,"label",13),d(1),l()),o&2){let n=m();it("for","app-cms-site-selector-",n.id,""),r(),v(n.optionLabel)}}function lr(o,s){if(o&1&&(S(0,"img",14),f(1,"cmsthumbnail")),o&2){let n=m();E("src",u(1,1,n.dataModelSelect==null?null:n.dataModelSelect.linkMainImageIdSrc),Y)}}function sr(o,s){if(o&1&&(S(0,"img",14),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Y)}}function dr(o,s){if(o&1&&(a(0,"mat-option",15),w(1,sr,2,3,"img",5),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,e=m();c("value",n)("disabled",e.optionDisabled),r(),c("ngIf",n.linkMainImageIdSrc),r(2),v(e.displayOption(n))}}function cr(o,s){o&1&&S(0,"i",16)}function mr(o,s){o&1&&S(0,"i",17)}function pr(o,s){if(o&1){let n=x();a(0,"i",18),M("click",function(){_(n);let i=m();return h(i.onActionSelectClear())}),l()}}function fr(o,s){o&1&&(a(0,"em"),d(1),f(2,"translate"),l()),o&2&&(r(),C("(",u(2,1,"TITLE.Necessary"),")"))}var Ua=(()=>{let s=class s{constructor(e,i,t,p,b){this.coreEnumService=e,this.cdr=i,this.publicHelper=t,this.translate=p,this.categoryService=b,this.id=++s.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new z,this.dataModelSelect=new L,this.formControl=new Et,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Be,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(e){this.onActionSelectForce(e)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ct(""),_t(1500),ht(),gt(e=>typeof e=="string"||typeof e=="number"?this.DataGetAll(e||""):[]))}displayFn(e){return e?e.username+" # "+e.name+" # "+e.lastName:void 0}displayOption(e){return e?e.username+" # "+e.name+" # "+e.lastName:void 0}DataGetAll(e){return pt(this,null,function*(){let i=new Ee;if(i.rowPerPage=20,i.accessLoad=!0,e&&e.length>0){let p=new J;p=new J,p.propertyName="username",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,i.filters.push(p),p=new J,p.propertyName="name",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,i.filters.push(p),p=new J,p.propertyName="email",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,i.filters.push(p),p=new J,p.propertyName="lastname",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,i.filters.push(p),e&&typeof+e=="number"&&+e>0&&(p=new J,p.propertyName="Id",p.value=e,p.searchType=Me.Equal,p.clauseType=be.Or,i.filters.push(p))}let t=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructorInfoAreaId)}),yield ft(this.categoryService.ServiceGetAll(i)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(t),p.listItems))})}onActionSelect(e){this.optionDisabled||(this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(e){return this.filteredOptions.pipe(ut(i=>(i.find(t=>t.id===e.id)||i.push(e),i)))}onActionSelectForce(e){if(typeof e=="number"&&e>0){if(this.dataModelSelect&&this.dataModelSelect.id===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===e)){let i=this.dataModelResult.listItems.find(t=>t.id===e);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(e).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof e==typeof L){this.filteredOptions=this.push(e),this.dataModelSelect=e,this.formControl.setValue(e);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new L,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(I(O),I(P),I(W),I(B),I(G))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-selector"]],inputs:{optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:rr,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(i,t){if(i&1){let p=x();It(),a(0,"div",1),S(1,"app-progress-spinner",2),w(2,ar,2,3,"label",3),a(3,"span",4),w(4,lr,2,3,"img",5),d(5," \xA0"),l(),S(6,"input",6),a(7,"mat-autocomplete",7,0),M("optionSelected",function(g){return _(p),h(t.onActionSelect(g.option.value))}),w(9,dr,4,4,"mat-option",8),f(10,"async"),l(),w(11,cr,1,0,"i",9)(12,mr,1,0,"i",10)(13,pr,1,0,"i",11)(14,fr,3,3,"em",12),vt(15),l()}if(i&2){let p=y(8);r(),c("optionsInfoAreaId",t.constructorInfoAreaId),r(),c("ngIf",(t.optionLabel==null?null:t.optionLabel.length)>0),r(2),c("ngIf",t.dataModelSelect&&(t.dataModelSelect==null?null:t.dataModelSelect.linkMainImageIdSrc)),r(2),E("placeholder",t.optionPlaceholder),it("id","app-cms-site-selector-",t.id,""),c("formControl",t.formControl)("matAutocomplete",p)("required",t.optionRequired),Fe("disabled",t.optionDisabled?!0:null),r(),c("displayWith",t.displayFn),r(2),c("ngForOf",u(10,16,t.filteredOptions)),r(2),c("ngIf",!t.formControl.valid),r(),c("ngIf",t.optionRequired&&t.formControl.valid),r(),c("ngIf",(t.dataModelSelect==null?null:t.dataModelSelect.id)>0),r(),c("ngIf",t.optionRequired&&(!t.dataModelSelect||!t.dataModelSelect.id||t.dataModelSelect.id<=0))}},dependencies:[He,N,oe,re,je,yt,Kt,bt,Jt,kt,K,j,qe,F,ye],encapsulation:2});let o=s;return o})();var cl=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Ne({type:s}),s.\u0275inj=Pe({providers:[Ft,O,G,Gt,Ot,Ze],imports:[xt,$i,Tt,At.withConfig({warnOnNgModelWithFormControl:"never"}),Oi,qi,Ei,jt]});let o=s;return o})();export{tt as a,Ua as b,cl as c};
