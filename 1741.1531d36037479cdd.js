"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[1741],{3597:(Me,B,u)=>{u.d(B,{s:()=>S});var p=u(5211),s=u(4537),L=u(8849),x=u(4511),R=u(656),d=u(2340),Y=u(6632),e=u(3912),C=u(2607),_=u(4536),T=u(4032),A=u(727),w=u(6707),P=u(8692),q=u(9638),O=u(3331),X=u(7904),b=u(1418);function N(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"button",12),s.NdJ("click",function(){s.CHM(f);const D=s.oxw();return s.KtG(D.onActionAdd())}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&g&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"ACTION.ADD")))}function v(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(){s.CHM(f);const D=s.oxw();return s.KtG(D.onActionEdit())}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&g&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"ACTION.EDIT")))}function E(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(f);const D=s.oxw();return s.KtG(D.onActionDelete())}),s._uU(1),s.ALo(2,"translate"),s.qZA()}2&g&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"ACTION.DELETE")))}function F(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){s.CHM(f);const D=s.oxw();return s.KtG(D.onActionButtonReload())}),s.TgZ(1,"mat-icon",16),s.ALo(2,"translate"),s._uU(3,"refresh"),s.qZA()()}2&g&&(s.xp6(1),s.s9C("title",s.lcZ(2,1,"ACTION.RELOAD")))}function V(g,Z){if(1&g&&(s._UZ(0,"img",20),s.ALo(1,"cmsthumbnail")),2&g){const f=s.oxw().$implicit;s.s9C("src",s.lcZ(1,1,f.linkMainImageIdSrc),s.LSH)}}const be=function(g){return{background:g}};function Ce(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"mat-tree-node",17),s.NdJ("click",function(){const j=s.CHM(f).$implicit,ee=s.oxw();return s.KtG(ee.onActionSelect(j))}),s._UZ(1,"button",18),s.YNc(2,V,2,3,"img",19),s._uU(3),s.qZA()}if(2&g){const f=Z.$implicit,m=s.oxw();s.Q6J("ngStyle",s.VKq(3,be,m.dataModelSelect.id>0&&m.dataModelSelect.id===f.id?"#d3d3da":"")),s.xp6(2),s.Q6J("ngIf",f.linkMainImageIdSrc),s.xp6(1),s.hij(" ",f.title," ")}}function U(g,Z){if(1&g&&(s._UZ(0,"img",20),s.ALo(1,"cmsthumbnail")),2&g){const f=s.oxw().$implicit;s.s9C("src",s.lcZ(1,1,f.linkMainImageIdSrc),s.LSH)}}function se(g,Z){if(1&g){const f=s.EpF();s.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",21),s.NdJ("click",function(){const j=s.CHM(f).$implicit,ee=s.oxw();return s.KtG(ee.onActionSelect(j))}),s.TgZ(3,"button",22),s.NdJ("click",function(){const j=s.CHM(f).$implicit,ee=s.oxw();return s.KtG(ee.onActionSelect(j))}),s.TgZ(4,"mat-icon",23),s._uU(5),s.qZA()(),s.YNc(6,U,2,3,"img",19),s._uU(7),s.qZA(),s.TgZ(8,"ul"),s.GkF(9,24),s.qZA()()()}if(2&g){const f=Z.$implicit,m=s.oxw();s.xp6(2),s.Q6J("ngStyle",s.VKq(7,be,m.dataModelSelect.id>0&&m.dataModelSelect.id===f.id?"#d3d3da":"")),s.xp6(1),s.uIk("aria-label","Toggle "+f.title),s.xp6(2),s.hij(" ",m.treeControl.isExpanded(f)?"expand_more":"chevron_right"," "),s.xp6(1),s.Q6J("ngIf",f.linkMainImageIdSrc),s.xp6(1),s.hij(" ",f.title," "),s.xp6(1),s.ekj("category-tree-invisible",!m.treeControl.isExpanded(f))}}let S=(()=>{class g{cmsToastrService;coreEnumService;categoryService;dialog;cdr;publicHelper;tokenHelper;translate;constructor(f,m,D,j,ee,Oe,Ge,ye){this.cmsToastrService=f,this.coreEnumService=m,this.categoryService=D,this.dialog=j,this.cdr=ee,this.publicHelper=Oe,this.tokenHelper=Ge,this.translate=ye,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(re=>{this.loading.message=re})}set optionSelectForce(f){this.onActionSelectForce(f)}dataModelSelect=new x.six;dataModelResult=new x.y$4;filterModel=new x.Hay;loading=new R.O;get optionLoading(){return this.loading}set optionLoading(f){this.loading=f}treeControl=new p.VY(f=>null);dataSource=new L.WX;optionChange=new s.vpe;cmsApiStoreSubscribe;optionReload=()=>this.onActionButtonReload();hasChild=(f,m)=>!1;ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(f=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(f,m,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:m=>{m.isSuccess?(this.dataModelResult=m,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(m.errorMessage),this.publicHelper.processService.processStop(f)},error:m=>{this.cmsToastrService.typeError(m),this.publicHelper.processService.processStop(f,!1)}})}onActionSelect(f){this.dataModelSelect=f,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new x.six,this.DataGetAll()}onActionSelectForce(f){}onActionAdd(){this.dialog.open(Y.n,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:d.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:d.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(D=>{D&&D.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let f=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(f=this.dataModelSelect.id),0!==f?this.dialog.open(e.a,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:d.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:d.N.cmsViewConfig.exitAnimationDuration,data:{id:f}}).afterClosed().subscribe(j=>{j&&j.dialogChangedDate&&this.DataGetAll()}):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(j=>{this.cmsToastrService.typeErrorSelected(j)})}onActionDelete(){let f=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(f=this.dataModelSelect.id),0!==f||this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)})}static \u0275fac=function(m){return new(m||g)(s.Y36(C.e),s.Y36(x.FLW),s.Y36(x.EAm),s.Y36(_.uw),s.Y36(s.sBO),s.Y36(T.i),s.Y36(A.v),s.Y36(w.sK))};static \u0275cmp=s.Xpm({type:g,selectors:[["app-core-module-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:14,consts:[[3,"optionLoading","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mat-tree-node",3,"ngStyle","click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(m,D){1&m&&(s.TgZ(0,"app-cms-html-tree",0),s.ynx(1,1),s._uU(2),s.ALo(3,"translate"),s.BQk(),s.ynx(4,2),s.YNc(5,N,3,3,"button",3),s.YNc(6,v,3,3,"button",4),s.YNc(7,E,3,3,"button",5),s.YNc(8,F,4,3,"button",6),s.BQk(),s.ynx(9,7),s.TgZ(10,"mat-tree",8),s.YNc(11,Ce,4,5,"mat-tree-node",9),s.YNc(12,se,10,9,"mat-nested-tree-node",10),s.qZA(),s.BQk(),s.GkF(13,11),s.qZA()),2&m&&(s.Q6J("optionLoading",D.loading)("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),s.xp6(2),s.hij(" ",s.lcZ(3,12,"TABLE."+(null==D.dataModelResult||null==D.dataModelResult.access?null:D.dataModelResult.access.moduleEntityName))," "),s.xp6(3),s.Q6J("ngIf",null==D.dataModelResult||null==D.dataModelResult.access?null:D.dataModelResult.access.accessAddRow),s.xp6(1),s.Q6J("ngIf",(null==D.dataModelResult||null==D.dataModelResult.access?null:D.dataModelResult.access.accessEditRow)&&(null==D.dataModelSelect?null:D.dataModelSelect.id)>0),s.xp6(1),s.Q6J("ngIf",(null==D.dataModelResult||null==D.dataModelResult.access?null:D.dataModelResult.access.accessDeleteRow)&&(null==D.dataModelSelect?null:D.dataModelSelect.id)>0),s.xp6(1),s.Q6J("ngIf",null==D.dataModelResult||null==D.dataModelResult.access?null:D.dataModelResult.access.accessWatchRow),s.xp6(2),s.Q6J("dataSource",D.dataSource)("treeControl",D.treeControl),s.xp6(2),s.Q6J("matTreeNodeDefWhen",D.hasChild))},dependencies:[P.O5,P.PC,q.RK,O.Hw,L.GZ,L.fQ,L.ah,L.eu,L.gi,L.uo,L.Ar,X.L,w.X$,b.v],encapsulation:2})}return g})()},1741:(Me,B,u)=>{u.r(B),u.d(B,{WebDesignerModule:()=>Tr});var p=u(8692),s=u(92),L=u(4721),x=u(4592),R=u(7275),d=u(4511),Y=u(1730),e=u(4537),C=u(4032),_=u(2607),T=u(6707),A=u(8659),w=u(9665),P=u(707),q=u(2260),O=u(5738),X=u(4295),b=u(1418);const N=["vform"];function v(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",16),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function E(i,a){1&i&&e._UZ(0,"i",24)}function F(i,a){1&i&&e._UZ(0,"i",25)}function V(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",18),e._uU(2),e.qZA(),e.TgZ(3,"input",19,20),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,E,1,0,"i",21),e.YNc(6,F,1,0,"i",22),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,V,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessAddField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ce(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",26),e._uU(2),e.qZA(),e.TgZ(3,"input",27,28),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkPageId=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA()()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.linkPageId?null:o.fieldsInfo.linkPageId.fieldTitle),e.xp6(1),e.Q6J("ngModel",o.dataModel.linkPageId)("disabled",!(null!=o.fieldsInfo.linkPageId&&o.fieldsInfo.linkPageId.accessAddField)),e.xp6(3),e.hij("",t.value.length," / 100")}}function U(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.priority?null:t.fieldsInfo.priority.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function se(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",29),e._uU(2),e.qZA(),e.TgZ(3,"input",30,31),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.priority=n)}),e.ALo(5,"translate"),e.qZA(),e.YNc(6,U,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.priority?null:o.fieldsInfo.priority.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(5,5,"TITLE.priority")),e.Q6J("ngModel",o.dataModel.priority)("disabled",!(null!=o.fieldsInfo.priority&&o.fieldsInfo.priority.accessAddField)),e.xp6(3),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function S(i,a){1&i&&e._UZ(0,"i",24)}function g(i,a){1&i&&e._UZ(0,"i",25)}function Z(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function f(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"textarea",33,34),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(6,"                    "),e.qZA(),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,S,1,0,"i",21),e.YNc(10,g,1,0,"i",22),e.YNc(11,Z,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(5),o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,8,"TITLE.General_Description")),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description)("disabled",!(null!=o.fieldsInfo.description&&o.fieldsInfo.description.accessAddField)),e.xp6(4),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function m(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",37),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BACK")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.NEXT")," ")}}function D(i,a){if(1&i&&(e._UZ(0,"img",38),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function j(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenForm=!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",40,41),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkMainImageId=n)})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenForm=!0)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"cms-file-manager",42),e.NdJ("itemSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionFileSelectedLinkMainImageId(n))})("openFormChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.fileManagerOpenForm=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,11,"TITLE.Icon_File")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,13,"TITLE.Original_File_ID")),e.Q6J("ngModel",t.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",t.appLanguage)("isPopup",!0)("openForm",t.fileManagerOpenForm)("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ee(i,a){if(1&i&&(e._UZ(0,"img",38),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainVideoIdSrc),e.LSH)}}function Oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenFormVideo=!0)}),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkMainVideoId=n)})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenFormVideo=!0)}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"cms-file-manager",42),e.NdJ("itemSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionFileSelectedLinkMainVideoId(n))})("openFormChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.fileManagerOpenFormVideo=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.linkMainVideoId?null:t.fieldsInfo.linkMainVideoId.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(5,12,"TITLE.Original_File_ID")),e.Q6J("ngModel",t.dataModel.linkMainVideoId)("disabled",!(null!=t.fieldsInfo.linkMainVideoId&&t.fieldsInfo.linkMainVideoId.accessAddField)),e.xp6(3),e.Q6J("language",t.appLanguage)("isPopup",!0)("openForm",t.fileManagerOpenFormVideo)("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Ge(i,a){if(1&i&&(e.TgZ(0,"div",35)(1,"button",46),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BEFOR")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.SAVE")," ")}}let ye=(()=>{class i extends Y.c{activatedRoute;publicHelper;coreEnumService;webDesignerMainIntroService;cmsToastrService;router;cdr;translate;requestLinkPageId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.oTn,o,I),this.activatedRoute=t,this.publicHelper=o,this.coreEnumService=n,this.webDesignerMainIntroService=l,this.cmsToastrService=r,this.router=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;formInfo=new d.LEF;dataAccessModel;dataModel=new d.oTn;dataModelResult=new d.y$4;selectFileTypeMainImage=["jpg","jpeg","png"];selectFileTypeMainVideo=["mp4"];fileManagerOpenForm=!1;fileManagerOpenFormVideo=!1;appLanguage="fa";fileManagerTree;ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){this.formGroup.valid?this.DataAddContent():this.cmsToastrService.typeErrorFormInvalid()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!o.isSuccess,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(o)}})}onStepClick(t,o){}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}static \u0275fac=function(o){return new(o||i)(e.Y36(R.gz),e.Y36(C.i),e.Y36(d.FLW),e.Y36(d.zef),e.Y36(_.e),e.Y36(R.F0),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(o,n){if(1&o&&e.Gf(N,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:34,vars:28,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["LinkPageId",""],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Priority",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],[3,"language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange","click"],["LinkMainVideoId",""],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"mat-horizontal-stepper",6,7),e.NdJ("selectionChange",function(c){e.CHM(l);const M=e.MAs(11);return e.KtG(n.onStepClick(c,M))}),e.TgZ(12,"mat-step",8),e.ALo(13,"translate"),e.YNc(14,v,1,5,"app-cms-enum-record-status-selector",9),e.YNc(15,be,10,8,"div",10),e.YNc(16,Ce,7,4,"div",10),e.YNc(17,se,7,7,"div",10),e.YNc(18,f,12,10,"div",10),e.YNc(19,m,7,7,"div",11),e.qZA(),e.TgZ(20,"mat-step",12),e.ALo(21,"translate"),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",13)(26,"a",14),e.ALo(27,"cmsthumbnail"),e.YNc(28,D,2,3,"img",15),e.qZA()(),e.YNc(29,j,8,15,"div",10),e.TgZ(30,"div",13),e.YNc(31,ee,2,3,"img",15),e.qZA(),e.YNc(32,Oe,7,14,"div",10),e.YNc(33,Ge,7,7,"div",11),e.qZA()()()()()}2&o&&(e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(6),e.s9C("label",e.lcZ(13,20,"TITLE.REQUIRED_INFORMATION")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkPageId?null:n.fieldsInfo.linkPageId.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.priority?null:n.fieldsInfo.priority.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)),e.xp6(1),e.s9C("label",e.lcZ(21,22,"TITLE.ATTACH_FILES")),e.xp6(3),e.Oqu(e.lcZ(24,24,"TITLE.Photos_And_Application_Files")),e.xp6(3),e.s9C("href",e.lcZ(27,26,n.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==n.dataModel||null==n.dataModel.linkMainImageIdSrc?null:n.dataModel.linkMainImageIdSrc.length)>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkMainImageId?null:n.fieldsInfo.linkMainImageId.accessWatchField),e.xp6(2),e.Q6J("ngIf",(null==n.dataModel||null==n.dataModel.linkMainVideoIdSrc?null:n.dataModel.linkMainVideoIdSrc.length)>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkMainVideoId?null:n.fieldsInfo.linkMainVideoId.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,P.C0,P.Vq,P.Ic,P.fd,q.t,O.O,X.HG,T.X$,b.v],encapsulation:2})}return i})();var re=u(140);const tt=["vform"];function nt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",16),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ot(i,a){1&i&&e._UZ(0,"i",24)}function it(i,a){1&i&&e._UZ(0,"i",25)}function lt(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function at(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",18),e._uU(2),e.qZA(),e.TgZ(3,"input",19,20),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,ot,1,0,"i",21),e.YNc(6,it,1,0,"i",22),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,lt,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function st(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",26),e._uU(2),e.qZA(),e.TgZ(3,"input",27,28),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkPageId=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA()()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.linkPageId?null:o.fieldsInfo.linkPageId.fieldTitle),e.xp6(1),e.Q6J("ngModel",o.dataModel.linkPageId)("disabled",!(null!=o.fieldsInfo.linkPageId&&o.fieldsInfo.linkPageId.accessEditField)),e.xp6(3),e.hij("",t.value.length," / 100")}}function rt(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.priority?null:t.fieldsInfo.priority.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ct(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",29),e._uU(2),e.qZA(),e.TgZ(3,"input",30,31),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.priority=n)}),e.ALo(5,"translate"),e.qZA(),e.YNc(6,rt,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.priority?null:o.fieldsInfo.priority.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(5,5,"TITLE.priority")),e.Q6J("ngModel",o.dataModel.priority)("disabled",!(null!=o.fieldsInfo.priority&&o.fieldsInfo.priority.accessEditField)),e.xp6(3),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function dt(i,a){1&i&&e._UZ(0,"i",24)}function pt(i,a){1&i&&e._UZ(0,"i",25)}function ut(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function gt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"textarea",33,34),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(6,"                        "),e.qZA(),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,dt,1,0,"i",21),e.YNc(10,pt,1,0,"i",22),e.YNc(11,ut,5,4,"mat-error",23),e.qZA()}if(2&i){const t=e.MAs(5),o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,8,"TITLE.General_Description")),e.xp6(2),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description)("disabled",!(null!=o.fieldsInfo.description&&o.fieldsInfo.description.accessEditField)),e.xp6(4),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function mt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",37),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BACK")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.NEXT")," ")}}function ft(i,a){if(1&i&&(e._UZ(0,"img",38),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainImageIdSrc),e.LSH)}}function _t(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenForm=!0)}),e._uU(2),e.qZA(),e.TgZ(3,"input",40,41),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkMainImageId=n)})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenForm=!0)}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"cms-file-manager",42),e.NdJ("itemSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionFileSelectedLinkMainImageId(n))})("openFormChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.fileManagerOpenForm=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.linkMainImageId?null:t.fieldsInfo.linkMainImageId.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(5,11,"TITLE.Original_File_ID")),e.Q6J("ngModel",t.dataModel.linkMainImageId),e.xp6(3),e.Q6J("language",t.appLanguage)("isPopup",!0)("openForm",t.fileManagerOpenForm)("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ht(i,a){if(1&i&&(e._UZ(0,"img",38),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw();e.s9C("src",e.lcZ(1,1,t.dataModel.linkMainVideoIdSrc),e.LSH)}}function Mt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"label",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenFormVideo=!0)}),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.linkMainVideoId=n)})("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.fileManagerOpenFormVideo=!0)}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"cms-file-manager",42),e.NdJ("itemSelected",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionFileSelectedLinkMainVideoId(n))})("openFormChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.fileManagerOpenFormVideo=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.linkMainVideoId?null:t.fieldsInfo.linkMainVideoId.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(5,12,"TITLE.Original_File_ID")),e.Q6J("ngModel",t.dataModel.linkMainVideoId)("disabled",!(null!=t.fieldsInfo.linkMainVideoId&&t.fieldsInfo.linkMainVideoId.accessAddField)),e.xp6(3),e.Q6J("language",t.appLanguage)("isPopup",!0)("openForm",t.fileManagerOpenFormVideo)("tree",t.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",t.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function bt(i,a){if(1&i&&(e.TgZ(0,"div",35)(1,"button",46),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BEFOR")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.SAVE")," ")}}let St=(()=>{class i extends re.b{activatedRoute;publicHelper;coreEnumService;webDesignerMainIntroService;cmsToastrService;router;cdr;translate;requestId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.oTn,o,I),this.activatedRoute=t,this.publicHelper=o,this.coreEnumService=n,this.webDesignerMainIntroService=l,this.cmsToastrService=r,this.router=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}formGroup;formInfo=new d.LEF;dataAccessModel;dataModel=new d.oTn;selectFileTypeMainImage=["jpg","jpeg","png"];selectFileTypeMainVideo=["mp4"];fileManagerOpenForm=!1;fileManagerOpenFormVideo=!1;appLanguage="fa";fileManagerTree;ngOnInit(){0!==this.requestId.length?this.DataGetOne(this.requestId):this.cmsToastrService.typeErrorAddRowParentIsNull()}onFormSubmit(){this.formGroup.valid?this.DataEditContent():this.cmsToastrService.typeErrorFormInvalid()}DataGetOne(t){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";const o=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(o,n,this.constructor.name)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(d.dR.Editor),this.webDesignerMainIntroService.ServiceGetOneById(t).subscribe({next:n=>{this.dataAccessModel=n.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.publicHelper.processService.processStop(o),this.dataModelResult=n,this.formInfo.formSubmitAllow=!0,n.isSuccess?this.dataModel=n.item:this.cmsToastrService.typeErrorGetOne(n.errorMessage)},error:n=>{this.publicHelper.processService.processStop(o),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(n)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!o.isSuccess,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(o)}})}onStepClick(t,o){}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}static \u0275fac=function(o){return new(o||i)(e.Y36(R.gz),e.Y36(C.i),e.Y36(d.FLW),e.Y36(d.zef),e.Y36(_.e),e.Y36(R.F0),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(tt,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:34,vars:28,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["LinkPageId",""],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Priority",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange","click"],["LinkMainImageId",""],[3,"language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView","itemSelected","openFormChange"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange","click"],["LinkMainVideoId",""],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"mat-horizontal-stepper",6,7),e.NdJ("selectionChange",function(c){e.CHM(l);const M=e.MAs(11);return e.KtG(n.onStepClick(c,M))}),e.TgZ(12,"mat-step",8),e.ALo(13,"translate"),e.YNc(14,nt,1,5,"app-cms-enum-record-status-selector",9),e.YNc(15,at,10,8,"div",10),e.YNc(16,st,7,4,"div",10),e.YNc(17,ct,7,7,"div",10),e.YNc(18,gt,12,10,"div",10),e.YNc(19,mt,7,7,"div",11),e.qZA(),e.TgZ(20,"mat-step",12),e.ALo(21,"translate"),e.TgZ(22,"p"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",13)(26,"a",14),e.ALo(27,"cmsthumbnail"),e.YNc(28,ft,2,3,"img",15),e.qZA()(),e.YNc(29,_t,7,13,"div",10),e.TgZ(30,"div",13),e.YNc(31,ht,2,3,"img",15),e.qZA(),e.YNc(32,Mt,7,14,"div",10),e.YNc(33,bt,7,7,"div",11),e.qZA()()()()()}2&o&&(e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(6),e.s9C("label",e.lcZ(13,20,"TITLE.REQUIRED_INFORMATION")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkPageId?null:n.fieldsInfo.linkPageId.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.priority?null:n.fieldsInfo.priority.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)),e.xp6(1),e.s9C("label",e.lcZ(21,22,"TITLE.ATTACH_FILES")),e.xp6(3),e.Oqu(e.lcZ(24,24,"TITLE.Photos_And_Application_Files")),e.xp6(3),e.s9C("href",e.lcZ(27,26,n.dataModel.linkMainImageIdSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",(null==n.dataModel||null==n.dataModel.linkMainImageIdSrc?null:n.dataModel.linkMainImageIdSrc.length)>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkMainImageId?null:n.fieldsInfo.linkMainImageId.accessWatchField),e.xp6(2),e.Q6J("ngIf",(null==n.dataModel||null==n.dataModel.linkMainVideoIdSrc?null:n.dataModel.linkMainVideoIdSrc.length)>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.linkMainVideoId?null:n.fieldsInfo.linkMainVideoId.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,P.C0,P.Vq,P.Ic,P.fd,q.t,O.O,X.HG,T.X$,b.v],encapsulation:2})}return i})();var Se=u(4252),te=u(727),ce=u(3914),Te=u(6845),k=u(4536),ne=u(9638),Q=u(3331),K=u(3319),de=u(3538),oe=u(4639),z=u(6558),h=u(418),pe=u(1850),ue=u(8564),ge=u(7980),Ae=u(3673),Ye=u(9084),me=u(6639),Ie=u(5897);function Tt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",43),e.qZA()}}function At(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",46)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function Ct(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",49)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function It(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",47),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function vt(i,a){1&i&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function Dt(i,a){if(1&i&&(e._UZ(0,"img",54),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkMainImageIdSrc),e.LSH)}}function yt(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,Dt,2,3,"img",53),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkMainImageIdSrc?null:t.linkMainImageIdSrc.length)>0)}}function Zt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function wt(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function xt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Et(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Lt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkPageId?null:t.fieldsInfo.linkPageId.fieldTitle," ")}}function Rt(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkPageId," ")}}function Pt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const kt=function(i){return{display:i}};function Nt(i,a){if(1&i&&e._UZ(0,"select",58),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,kt,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function Ot(i,a){if(1&i&&(e.TgZ(0,"mat-cell",56),e.ALo(1,"statusCellClass"),e._UZ(2,"i",56),e.ALo(3,"statusIconClass"),e.YNc(4,Nt,1,5,"select",57),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function Gt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function qt(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Wt(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Jt(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function Ft(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.updatedDate?null:t.fieldsInfo.updatedDate.fieldTitle," ")}}function Ut(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.updatedDate)," ")}}function Qt(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Yt(i,a){if(1&i&&(e.TgZ(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,61),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Ht(i,a){1&i&&e._UZ(0,"mat-header-row")}const Bt=function(i){return{background:i}};function jt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",62),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Bt,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const Kt=function(){return[5,10,20,100]};let He=(()=>{class i extends Se.R{contentService;activatedRoute;cmsToastrService;router;tokenHelper;cmsConfirmationDialogService;cdr;translate;pageInfo;publicHelper;dialog;requestLinkPageId=0;constructor(t,o,n,l,r,c,M,I,y,W,H){super(t,new d.oTn,W,r,I),this.contentService=t,this.activatedRoute=o,this.cmsToastrService=n,this.router=l,this.tokenHelper=r,this.cmsConfirmationDialogService=c,this.cdr=M,this.translate=I,this.pageInfo=y,this.publicHelper=W,this.dialog=H,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe($=>{this.loading.message=$}),this.optionsSearch.parentMethods={onSubmit:$=>this.onSubmitOptionsSearch($)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=d.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Title","LinkPageId","CreatedDate","UpdatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));const t=new d.AO3;this.requestLinkPageId>0&&(t.propertyName="LinkPageId",t.value=this.requestLinkPageId,this.filteModelContent.filters.push(t)),this.tokenHelper.getCurrentToken().then(o=>{this.tokenInfo=o,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:o=>{this.tokenInfo=o,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),0===this.requestLinkPageId&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.oTn);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),n.isSuccess&&(this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.router.navigate(this.requestLinkPageId>0?["/webdesigner/intro/add/",this.requestLinkPageId]:["/webdesigner/intro/add/"]):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id]):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else{const l=this.translate.instant("MESSAGE.No_row_selected_for_editing");this.cmsToastrService.typeErrorSelected(l)}}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(o.set("All",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess&&(o.set("Active",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(o){return new(o||i)(e.Y36(d.zef),e.Y36(R.gz),e.Y36(_.e),e.Y36(R.F0),e.Y36(te.v),e.Y36(ce.s),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-intro-list"]],features:[e.qOj],decls:64,vars:28,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Tt,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(18,"i",12),e.qZA(),e.TgZ(19,"a",11),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(20,"i",13),e.qZA()()(),e.BQk(),e.ynx(21,14),e.YNc(22,At,7,3,"div",15),e.BQk(),e.ynx(23,16),e.YNc(24,Ct,7,3,"div",15),e.YNc(25,It,7,3,"div",15),e.BQk(),e.ynx(26,17),e.TgZ(27,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(28,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(29,19),e.TgZ(30,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(31);return e.KtG(n.onTableSortData(c))}),e.ynx(32,22),e.YNc(33,vt,3,3,"mat-header-cell",23),e.YNc(34,yt,2,1,"mat-cell",24),e.BQk(),e.ynx(35,25),e.YNc(36,Zt,2,1,"mat-header-cell",26),e.YNc(37,wt,2,1,"mat-cell",24),e.BQk(),e.ynx(38,27),e.YNc(39,xt,2,1,"mat-header-cell",26),e.YNc(40,Et,4,5,"mat-cell",24),e.BQk(),e.ynx(41,28),e.YNc(42,Lt,2,1,"mat-header-cell",26),e.YNc(43,Rt,2,1,"mat-cell",24),e.BQk(),e.ynx(44,29),e.YNc(45,Pt,2,1,"mat-header-cell",26),e.YNc(46,Ot,5,7,"mat-cell",30),e.BQk(),e.ynx(47,31),e.YNc(48,Gt,2,1,"mat-header-cell",26),e.YNc(49,qt,2,1,"mat-cell",24),e.BQk(),e.ynx(50,32),e.YNc(51,Wt,2,1,"mat-header-cell",26),e.YNc(52,Jt,2,1,"mat-cell",24),e.BQk(),e.ynx(53,33),e.YNc(54,Ft,2,1,"mat-header-cell",26),e.YNc(55,Ut,2,1,"mat-cell",24),e.BQk(),e.ynx(56,34),e.YNc(57,Qt,3,3,"mat-header-cell",35),e.YNc(58,Yt,6,1,"mat-cell",36),e.BQk(),e.YNc(59,Ht,1,0,"mat-header-row",37),e.YNc(60,jt,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(61,39),e.TgZ(62,"mat-paginator",40,41),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,23,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,25,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkPageId>0),e.xp6(6),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(29),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(27,Kt)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,p.Ov,T.X$,Ye.Y,b.v,me.G,Ie.Y],encapsulation:2})}return i})();var G=u(2340),fe=u(656),Vt=u(6599),$t=u(6609),zt=u(3181),Xt=u(9835);const en=["vform"];function tn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",13),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let nn=(()=>{class i{data;dialogRef;coreEnumService;webDesignerLogMemberInfoService;cdr;cmsToastrService;tokenHelper;publicHelper;translate;requestId="";constructor(t,o,n,l,r,c,M,I,y){this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerLogMemberInfoService=l,this.cdr=r,this.cmsToastrService=c,this.tokenHelper=M,this.publicHelper=I,this.translate=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(W=>{this.loading.message=W}),t&&(this.requestId=t.id+"")}tokenInfo=new d.OdC;loading=new fe.O;dataModelResult=new d.y$4;dataModel=new d.gXC;formGroup;formInfo=new d.LEF;dataModelEnumSendSmsStatusTypeResult=new d.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0)return this.translate.get("MESSAGE.Information_area_deleted").subscribe(o=>{this.cmsToastrService.typeWarningSelected(o)}),void(this.dataModel.linkLocationId=null);this.dataModel.linkLocationId=t.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.UIH),e.Y36(e.sBO),e.Y36(_.e),e.Y36(te.v),e.Y36(C.i),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(o,n){if(1&o&&e.Gf(en,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:19,vars:25,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[3,"dataModel","optionMethod"],[3,"optionLoading","optionDisabled","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2),e.TgZ(4,"app-cms-site-selector",3),e.NdJ("optionLoadingChange",function(r){return n.loading=r}),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"app-cms-user-selector",3),e.NdJ("optionLoadingChange",function(r){return n.loading=r}),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"app-cms-json-list",4),e.TgZ(9,"app-cms-location-selector",5),e.NdJ("optionChange",function(r){return n.onActionSelectorLocation(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",6)(12,"div",7)(13,"small",8),e._uU(14),e.qZA(),e.TgZ(15,"small",9),e._uU(16),e.qZA()()(),e.TgZ(17,"div",10),e.YNc(18,tn,5,3,"div",11),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",e.lcZ(5,19,"TITLE.SITE")),e.xp6(2),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",e.lcZ(7,21,"TITLE.USER")),e.xp6(2),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(1),e.Q6J("optionLoading",n.loading)("optionDisabled",!(null!=n.fieldsInfo.linkLocationId&&n.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",n.dataModel.linkLocationId)("optionPlaceholder",e.lcZ(10,23,"TITLE.Region")),e.xp6(5),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,Vt.P,$t.D,zt.g,O.O,Xt.v,T.X$],encapsulation:2})}return i})();var on=u(3817);function ln(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonViewRow(n.tableRowSelected))}),e._UZ(2,"i",49)(3,"br"),e.qZA(),e.TgZ(4,"p",50),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.VIEW")))}function an(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",52)(3,"br"),e.qZA(),e.TgZ(4,"p",50),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function sn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function rn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function cn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function dn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function pn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const un=function(i){return{display:i}};function gn(i,a){if(1&i&&e._UZ(0,"select",56),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,un,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function mn(i,a){if(1&i&&(e.TgZ(0,"mat-cell",54),e.ALo(1,"statusCellClass"),e._UZ(2,"i",54),e.ALo(3,"statusIconClass"),e.YNc(4,gn,1,5,"select",55),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function fn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function _n(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function hn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Mn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function bn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkLocationIdTitle?null:t.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function Sn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkLocationIdTitle," ")}}function Tn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkLocationIdParentTitle?null:t.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function An(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkLocationIdParentTitle," ")}}function Cn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.deviceStatus?null:t.fieldsInfo.deviceStatus.fieldTitle," ")}}function In(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.deviceStatus," ")}}function vn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.deviceId?null:t.fieldsInfo.deviceId.fieldTitle," ")}}function Dn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.deviceId," ")}}function yn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.deviceBrand?null:t.fieldsInfo.deviceBrand.fieldTitle," ")}}function Zn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.deviceBrand," ")}}function wn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.simCard?null:t.fieldsInfo.simCard.fieldTitle," ")}}function xn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.simCard," ")}}function En(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.appBuildVer?null:t.fieldsInfo.appBuildVer.fieldTitle," ")}}function Ln(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.appBuildVer," ")}}function Rn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.appSourceVer?null:t.fieldsInfo.appSourceVer.fieldTitle," ")}}function Pn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.appSourceVer," ")}}function kn(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.scorePercent?null:t.fieldsInfo.scorePercent.fieldTitle," ")}}function Nn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.scorePercent," %")}}function On(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Gn(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.publicHelper.LocaleDate(t.createdDate)," ")}}function qn(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Wn(i,a){if(1&i&&(e.TgZ(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,59),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Jn(i,a){1&i&&e._UZ(0,"mat-header-row")}const Fn=function(i){return{background:i}};function Un(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",60),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Fn,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const Qn=function(){return[5,10,20,100]};let Yn=(()=>{class i extends Se.R{contentService;cmsConfirmationDialogService;activatedRoute;cdr;translate;cmsToastrService;router;tokenHelper;pageInfo;publicHelper;dialog;requestLinkMemberId=0;constructor(t,o,n,l,r,c,M,I,y,W,H){super(t,new d.gXC,W,I,r),this.contentService=t,this.cmsConfirmationDialogService=o,this.activatedRoute=n,this.cdr=l,this.translate=r,this.cmsToastrService=c,this.router=M,this.tokenHelper=I,this.pageInfo=y,this.publicHelper=W,this.dialog=H,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe($=>{this.loading.message=$}),this.optionsSearch.parentMethods={onSubmit:$=>this.onSubmitOptionsSearch($)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));const t=new d.AO3;this.requestLinkMemberId>0&&(t.propertyName="LinkMemberId",t.value=this.requestLinkMemberId,this.filteModelContent.filters.push(t)),this.tokenHelper.getCurrentToken().then(o=>{this.tokenInfo=o,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:o=>{this.tokenInfo=o,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.gXC);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),n.isSuccess?(this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(nn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow||this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(M=>{o.set(M,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n,!1)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(M=>{o.set(M,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(o)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}static \u0275fac=function(o){return new(o||i)(e.Y36(d.UIH),e.Y36(ce.s),e.Y36(R.gz),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(_.e),e.Y36(R.F0),e.Y36(te.v),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-logmemberinfo-list"]],features:[e.qOj],decls:82,vars:26,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.GkF(1,1)(2,2),e.ynx(3,3),e.TgZ(4,"div",4)(5,"div",5)(6,"a",6)(7,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"a",6)(11,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"a",10),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(16,"i",11),e.qZA(),e.TgZ(17,"a",10),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.GkF(19,13),e.ynx(20,14),e.YNc(21,ln,7,3,"div",15),e.YNc(22,an,7,3,"div",15),e.BQk(),e.ynx(23,16),e.TgZ(24,"app-cms-search-list",17),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(25,"app-cms-statist-list",17),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(26,18),e.TgZ(27,"mat-table",19,20),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(28);return e.KtG(n.onTableSortData(c))}),e.ynx(29,21),e.YNc(30,sn,2,1,"mat-header-cell",22),e.YNc(31,rn,2,1,"mat-cell",23),e.BQk(),e.ynx(32,24),e.YNc(33,cn,2,1,"mat-header-cell",22),e.YNc(34,dn,4,5,"mat-cell",23),e.BQk(),e.ynx(35,25),e.YNc(36,pn,2,1,"mat-header-cell",22),e.YNc(37,mn,5,7,"mat-cell",26),e.BQk(),e.ynx(38,27),e.YNc(39,fn,2,1,"mat-header-cell",22),e.YNc(40,_n,4,5,"mat-cell",23),e.BQk(),e.ynx(41,28),e.YNc(42,hn,2,1,"mat-header-cell",22),e.YNc(43,Mn,2,1,"mat-cell",23),e.BQk(),e.ynx(44,29),e.YNc(45,bn,2,1,"mat-header-cell",22),e.YNc(46,Sn,2,1,"mat-cell",23),e.BQk(),e.ynx(47,30),e.YNc(48,Tn,2,1,"mat-header-cell",22),e.YNc(49,An,2,1,"mat-cell",23),e.BQk(),e.ynx(50,31),e.YNc(51,Cn,2,1,"mat-header-cell",22),e.YNc(52,In,2,1,"mat-cell",23),e.BQk(),e.ynx(53,32),e.YNc(54,vn,2,1,"mat-header-cell",22),e.YNc(55,Dn,2,1,"mat-cell",23),e.BQk(),e.ynx(56,33),e.YNc(57,yn,2,1,"mat-header-cell",22),e.YNc(58,Zn,2,1,"mat-cell",23),e.BQk(),e.ynx(59,34),e.YNc(60,wn,2,1,"mat-header-cell",22),e.YNc(61,xn,2,1,"mat-cell",23),e.BQk(),e.ynx(62,35),e.YNc(63,En,2,1,"mat-header-cell",22),e.YNc(64,Ln,2,1,"mat-cell",23),e.BQk(),e.ynx(65,36),e.YNc(66,Rn,2,1,"mat-header-cell",22),e.YNc(67,Pn,2,1,"mat-cell",23),e.BQk(),e.ynx(68,37),e.YNc(69,kn,2,1,"mat-header-cell",22),e.YNc(70,Nn,2,1,"mat-cell",23),e.BQk(),e.ynx(71,38),e.YNc(72,On,2,1,"mat-header-cell",22),e.YNc(73,Gn,2,1,"mat-cell",23),e.BQk(),e.ynx(74,39),e.YNc(75,qn,3,3,"mat-header-cell",40),e.YNc(76,Wn,6,1,"mat-cell",41),e.BQk(),e.YNc(77,Jn,1,0,"mat-header-row",42),e.YNc(78,Un,1,3,"mat-row",43),e.qZA(),e.BQk(),e.ynx(79,44),e.TgZ(80,"mat-paginator",45,46),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(7),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(9,21,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(13,23,"ACTION.STATIST")," "),e.xp6(9),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessWatchRow),e.xp6(1),e.Q6J("ngIf",(null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow)&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(50),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(25,Qn)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,p.Ov,T.X$,on.J,Ye.Y,me.G,Ie.Y],encapsulation:2})}return i})();var ve=u(4350),_e=u(1661),qe=u(4467),Ze=u(8239),we=u(7445),xe=u(1927),Ee=u(3151),Le=u(2147),Re=u(1528),Pe=u(7969),ie=u(1637),ke=u(1379);function Hn(i,a){if(1&i&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.MGl("for","app-cms-site-selector-",t.id,""),e.xp6(1),e.Oqu(t.optionLabel)}}function Bn(i,a){if(1&i&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function jn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const Kn=["*"];let Be=(()=>{class i{coreEnumService;cdr;publicHelper;translate;categoryService;static nextId=0;id=++i.nextId;constructor(t,o,n,l,r){this.coreEnumService=t,this.cdr=o,this.publicHelper=n,this.translate=l,this.categoryService=r,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.loading.message=c})}dataModelResult=new d.y$4;dataModelSelect=new d.i$u;formControl=new s.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(t){this.onActionSelectForce(t)}loading=new fe.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,xe.O)(""),(0,Ee.b)(1500),(0,Le.x)(),(0,Re.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,Ze.Z)(function*(){const n=new d.Hay;n.rowPerPage=20,n.accessLoad=!0;let l=new d.AO3;l.propertyName="Title",l.value=t,l.searchType=d.J6G.Contains,l.clauseType=d.ppe.Or,n.filters.push(l),t&&"number"==typeof+t&&+t>0&&(l=new d.AO3,l.propertyName="Id",l.value=t,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.Or,n.filters.push(l));const r=o.constructor.name+"main";return o.translate.get("MESSAGE.Receiving_information").subscribe(c=>{o.publicHelper.processService.processStart(r,c,o.constructor.name)}),yield(0,we.z)(o.categoryService.ServiceGetAll(n)).then(c=>(o.dataModelResult=c,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect?.id?.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.publicHelper.processService.processStop(r),c.listItems))})()}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe((0,Pe.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("string"==typeof t&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))}})}else{if(typeof t==typeof d.i$u)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new d.i$u,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.FLW),e.Y36(e.sBO),e.Y36(C.i),e.Y36(T.sK),e.Y36(d.KQH))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:Kn,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,Hn,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(r){return n.onActionSelect(r.option.value)}),e.YNc(6,Bn,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,jn,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&o){const l=e.MAs(5);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(1),e.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.MGl("id","app-cms-site-selector-",n.id,""),e.Q6J("formControl",n.formControl)("matAutocomplete",l),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[p.sg,p.O5,s.Fj,s.JJ,s.oH,ie.XC,ke.ey,ie.ZL,A.R9,Q.Hw,w.Nt,O.O,p.Ov],encapsulation:2})}return i})();const Vn=["vform"];function $n(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",21),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zn(i,a){1&i&&e._UZ(0,"i",28)}function Xn(i,a){1&i&&e._UZ(0,"i",29)}function eo(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function to(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",22),e._uU(2),e.qZA(),e.TgZ(3,"input",23,24),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,zn,1,0,"i",25),e.YNc(6,Xn,1,0,"i",26),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,eo,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function no(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function oo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",30),e._uU(2),e.qZA(),e.TgZ(3,"input",31,32),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.titleResourceLanguage=n)}),e.qZA(),e.YNc(5,no,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function io(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",33),e._uU(2),e.qZA(),e.TgZ(3,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.routeAddressLink=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA()()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.Q6J("ngModel",o.dataModel.routeAddressLink)("disabled",!(null!=o.fieldsInfo.routeAddressLink&&o.fieldsInfo.routeAddressLink.accessEditField)),e.xp6(3),e.hij("",t.value.length," / 500")}}function lo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"h5",38),e._uU(3),e.qZA()(),e.TgZ(4,"div",39)(5,"div",40)(6,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.routeAddressBlankPage=n)}),e.qZA(),e._UZ(7,"label",42),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.routeAddressBlankPage?null:t.fieldsInfo.routeAddressBlankPage.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.routeAddressBlankPage)}}function ao(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",43),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.color=n)}),e.qZA(),e._UZ(5,"ngx-ntk-mat-color-toggle",46)(6,"ngx-ntk-mat-color-picker",47,48),e.qZA()}if(2&i){const t=e.MAs(7),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.xp6(1),e.Udp("background",o.dataModel.color),e.s9C("placeholder",null==o.fieldsInfo.color?null:o.fieldsInfo.color.fieldTitle),e.Q6J("ngxMatColorPicker",t)("ngModel",o.dataModel.color)("disabled",!(null!=o.fieldsInfo.color&&o.fieldsInfo.color.accessAddField)),e.xp6(2),e.Q6J("for",t),e.xp6(1),e.Q6J("touchUi",!0)("color","primary")}}const so=function(){return["fa"]};function ro(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",49),e._uU(2),e.qZA(),e.TgZ(3,"input",50,51),e.NdJ("iconPickerSelect",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onIconPickerSelect(n))})("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.icon=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.xp6(1),e.s9C("placeholder",null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.Q6J("iconPicker",t.dataModel.icon)("ipIconPack",e.DdM(7,so))("ipPosition","top")("ngModel",t.dataModel.icon)("disabled",!(null!=t.fieldsInfo.icon&&t.fieldsInfo.icon.accessEditField))}}function co(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",52),e._uU(2),e.qZA(),e.TgZ(3,"input",53,54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.showInMenuOrder=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.xp6(1),e.s9C("placeholder",null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.Q6J("ngModel",t.dataModel.showInMenuOrder)("disabled",!(null!=t.fieldsInfo.showInMenuOrder&&t.fieldsInfo.showInMenuOrder.accessEditField))}}function po(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function uo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",55),e._uU(2),e.qZA(),e.TgZ(3,"textarea",56,57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"              "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,po,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function go(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",60),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BACK")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.SAVE")," ")}}function mo(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"call_end"),e.qZA())}function fo(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"call_end"),e.qZA())}function _o(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"forum"),e.qZA())}function ho(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"forum"),e.qZA())}let je=(()=>{class i extends Y.c{data;dialogRef;coreEnumService;webDesignerMainMenuService;cmsToastrService;publicHelper;cdr;translate;requestParentId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.i$u,c,I),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainMenuService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),t&&(this.requestParentId=t.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}formGroup;fieldsInfo=new Map;dataModelResult=new d.y$4;dataModel=new d.i$u;formInfo=new d.LEF;dataModelEnumMenuPlaceTypeResult=new d.y$4;fileManagerOpenForm=!1;ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,o){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{o.selectedIndex=t.previouslySelectedIndex},10)))}onIconPickerSelect(t){this.dataModel.icon=t}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.KQH),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(o,n){if(1&o&&e.Gf(Vn,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:35,vars:29,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModel","placeholder","disabled","ngModelChange"],["RouteAddressLink",""],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngxMatColorPicker","ngModel","placeholder","disabled","ngModelChange"],["color",""],["matSuffix","",3,"for"],[3,"touchUi","color"],["colorPicker",""],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled","iconPickerSelect","ngModelChange"],["icon",""],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["ShowInMenuOrder",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"mat-horizontal-stepper",6,7),e.NdJ("selectionChange",function(c){e.CHM(l);const M=e.MAs(11);return e.KtG(n.onStepClick(c,M))}),e.TgZ(12,"mat-step",8),e.ALo(13,"translate"),e.YNc(14,$n,1,5,"app-cms-enum-record-status-selector",9),e.TgZ(15,"app-webdesigner-menu-selector",10),e.NdJ("optionChange",function(c){return n.onActionSelectorSelect(c)})("optionLoadingChange",function(c){return n.loading=c}),e.ALo(16,"translate"),e.qZA(),e.YNc(17,to,10,8,"div",11),e.TgZ(18,"div",12)(19,"label",13),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",14),e.NdJ("ngModelChange",function(c){return n.dataModel.titleML=c}),e.qZA()(),e.YNc(23,oo,6,5,"div",11),e.YNc(24,io,7,5,"div",11),e.YNc(25,lo,8,2,"div",15),e.YNc(26,ao,8,10,"div",11),e.YNc(27,ro,5,8,"div",11),e.YNc(28,co,5,4,"div",11),e.YNc(29,uo,9,5,"div",11),e.YNc(30,go,7,7,"div",16),e.qZA(),e.YNc(31,mo,2,0,"ng-template",17),e.YNc(32,fo,2,0,"ng-template",18),e.YNc(33,_o,2,0,"ng-template",19),e.YNc(34,ho,2,0,"ng-template",20),e.qZA()()()()}2&o&&(e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(6),e.s9C("label",e.lcZ(13,23,"TITLE.Menu_Profile")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkParentId)("optionPlaceholder",e.lcZ(16,25,"TITLE.Parent_Menu")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(3),e.hij(" ",e.lcZ(21,27,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",n.dataModel.titleML)("disabled",!0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.routeAddressLink?null:n.fieldsInfo.routeAddressLink.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.routeAddressBlankPage?null:n.fieldsInfo.routeAddressBlankPage.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.color?null:n.fieldsInfo.color.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.icon?null:n.fieldsInfo.icon.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.showInMenuOrder?null:n.fieldsInfo.showInMenuOrder.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.Wl,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,A.R9,Q.Hw,w.Nt,P.C0,P.Vq,P.z9,q.t,O.O,_e.p2,_e._f,_e._C,qe.hu,Be,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const Mo=["vform"];function bo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",21),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function So(i,a){1&i&&e._UZ(0,"i",28)}function To(i,a){1&i&&e._UZ(0,"i",29)}function Ao(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Co(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",22),e._uU(2),e.qZA(),e.TgZ(3,"input",23,24),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,So,1,0,"i",25),e.YNc(6,To,1,0,"i",26),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,Ao,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Io(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function vo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",30),e._uU(2),e.qZA(),e.TgZ(3,"input",31,32),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.titleResourceLanguage=n)}),e.qZA(),e.YNc(5,Io,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Do(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",33),e._uU(2),e.qZA(),e.TgZ(3,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.routeAddressLink=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA()()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.Q6J("ngModel",o.dataModel.routeAddressLink)("disabled",!(null!=o.fieldsInfo.routeAddressLink&&o.fieldsInfo.routeAddressLink.accessEditField)),e.xp6(3),e.hij("",t.value.length," / 500")}}function yo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"h5",38),e._uU(3),e.qZA()(),e.TgZ(4,"div",39)(5,"div",40)(6,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.routeAddressBlankPage=n)}),e.qZA(),e._UZ(7,"label",42),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.routeAddressBlankPage?null:t.fieldsInfo.routeAddressBlankPage.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.routeAddressBlankPage)}}function Zo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",43),e._uU(2),e.qZA(),e.TgZ(3,"input",44,45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.color=n)}),e.qZA(),e._UZ(5,"ngx-ntk-mat-color-toggle",46)(6,"ngx-ntk-mat-color-picker",47,48),e.qZA()}if(2&i){const t=e.MAs(7),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.routeAddressLink?null:o.fieldsInfo.routeAddressLink.fieldTitle),e.xp6(1),e.Udp("background",o.dataModel.color),e.s9C("placeholder",null==o.fieldsInfo.color?null:o.fieldsInfo.color.fieldTitle),e.Q6J("ngxMatColorPicker",t)("ngModel",o.dataModel.color)("disabled",!(null!=o.fieldsInfo.color&&o.fieldsInfo.color.accessAddField)),e.xp6(2),e.Q6J("for",t),e.xp6(1),e.Q6J("touchUi",!0)("color","primary")}}const wo=function(){return["fa"]};function xo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",49),e._uU(2),e.qZA(),e.TgZ(3,"input",50,51),e.NdJ("iconPickerSelect",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onIconPickerSelect(n))})("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.icon=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.xp6(1),e.s9C("placeholder",null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle),e.Q6J("iconPicker",t.dataModel.icon)("ipIconPack",e.DdM(7,wo))("ipPosition","top")("ngModel",t.dataModel.icon)("disabled",!(null!=t.fieldsInfo.icon&&t.fieldsInfo.icon.accessEditField))}}function Eo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",52),e._uU(2),e.qZA(),e.TgZ(3,"input",53,54),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.showInMenuOrder=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.xp6(1),e.s9C("placeholder",null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle),e.Q6J("ngModel",t.dataModel.showInMenuOrder)("disabled",!(null!=t.fieldsInfo.showInMenuOrder&&t.fieldsInfo.showInMenuOrder.accessEditField))}}function Lo(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ro(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",55),e._uU(2),e.qZA(),e.TgZ(3,"textarea",56,57),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"              "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,Lo,5,4,"mat-error",27),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Po(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",60),e._uU(5),e.ALo(6,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(2),e.hij(" ",e.lcZ(3,3,"ACTION.BACK")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.hij(" ",e.lcZ(6,5,"ACTION.SAVE")," ")}}function ko(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"call_end"),e.qZA())}function No(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"call_end"),e.qZA())}function Oo(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"forum"),e.qZA())}function Go(i,a){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"forum"),e.qZA())}let Ke=(()=>{class i extends re.b{data;dialogRef;coreEnumService;webDesignerMainMenuService;publicHelper;cmsToastrService;cdr;translate;requestId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.i$u,r,I),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainMenuService=l,this.publicHelper=r,this.cmsToastrService=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),t&&(this.requestId=t.id+"")}formGroup;appLanguage="fa";dataModelResult=new d.ODe;dataModel=new d.i$u;formInfo=new d.LEF;dataModelEnumMenuPlaceTypeResult=new d.y$4;dataAccessModel;fileManagerOpenForm=!1;dataWebDesignerMainMenuModel;dataWebDesignerMainMenuIds=[];ngOnInit(){if(!(this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(d.dR.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.dataAccessModel=o.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,o){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{o.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataWebDesignerMainMenuModel=t}onIconPickerSelect(t){this.dataModel.icon=t}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.KQH),e.Y36(C.i),e.Y36(_.e),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(Mo,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:35,vars:29,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"selectionChange"],["stepper",""],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModel","placeholder","disabled","ngModelChange"],["RouteAddressLink",""],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngxMatColorPicker","ngModel","placeholder","disabled","ngModelChange"],["color",""],["matSuffix","",3,"for"],[3,"touchUi","color"],["colorPicker",""],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled","iconPickerSelect","ngModelChange"],["icon",""],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["ShowInMenuOrder",""],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"mat-horizontal-stepper",6,7),e.NdJ("selectionChange",function(c){e.CHM(l);const M=e.MAs(11);return e.KtG(n.onStepClick(c,M))}),e.TgZ(12,"mat-step",8),e.ALo(13,"translate"),e.YNc(14,bo,1,5,"app-cms-enum-record-status-selector",9),e.TgZ(15,"app-webdesigner-menu-selector",10),e.NdJ("optionChange",function(c){return n.onActionSelectorSelect(c)})("optionLoadingChange",function(c){return n.loading=c}),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Co,10,8,"div",11),e.TgZ(18,"div",12)(19,"label",13),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",14),e.NdJ("ngModelChange",function(c){return n.dataModel.titleML=c}),e.qZA()(),e.YNc(23,vo,6,5,"div",11),e.YNc(24,Do,7,5,"div",11),e.YNc(25,yo,8,2,"div",15),e.YNc(26,Zo,8,10,"div",11),e.YNc(27,xo,5,8,"div",11),e.YNc(28,Eo,5,4,"div",11),e.YNc(29,Ro,9,5,"div",11),e.YNc(30,Po,7,7,"div",16),e.qZA(),e.YNc(31,ko,2,0,"ng-template",17),e.YNc(32,No,2,0,"ng-template",18),e.YNc(33,Oo,2,0,"ng-template",19),e.YNc(34,Go,2,0,"ng-template",20),e.qZA()()()()}2&o&&(e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(6),e.s9C("label",e.lcZ(13,23,"TITLE.Menu_Profile")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkParentId)("optionPlaceholder",e.lcZ(16,25,"TITLE.Parent_Menu")),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(3),e.hij(" ",e.lcZ(21,27,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",n.dataModel.titleML)("disabled",!0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.routeAddressLink?null:n.fieldsInfo.routeAddressLink.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.routeAddressBlankPage?null:n.fieldsInfo.routeAddressBlankPage.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.color?null:n.fieldsInfo.color.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.icon?null:n.fieldsInfo.icon.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.showInMenuOrder?null:n.fieldsInfo.showInMenuOrder.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.Wl,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,A.R9,Q.Hw,w.Nt,P.C0,P.Vq,P.z9,q.t,O.O,_e.p2,_e._f,_e._C,qe.hu,Be,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var qo=u(5211),le=u(8849),Wo=u(7904);function Jo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionAdd())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.ADD")))}function Fo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionEdit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ACTION.EDIT")))}function Uo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonReload())}),e.TgZ(1,"mat-icon",14),e.ALo(2,"translate"),e._uU(3,"refresh"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("title",e.lcZ(2,1,"ACTION.RELOAD")))}const Ve=function(i){return{background:i}};function Qo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tree-node",15),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionSelect(l))}),e._UZ(1,"button",16)(2,"i",17),e._uU(3),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(3,Ve,(null==o.dataModelSelect||null==o.dataModelSelect.id?null:o.dataModelSelect.id.length)>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(2),e.Q6J("ngClass",t.Icon),e.xp6(1),e.hij(" \xa0\xa0\xa0\xa0 ",t.title," ")}}function Yo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-nested-tree-node")(1,"li")(2,"div",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionSelect(l))}),e.TgZ(3,"button",19),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionSelect(l))}),e.TgZ(4,"mat-icon",20),e._uU(5),e.qZA()(),e._UZ(6,"i",17),e._uU(7),e.qZA(),e.TgZ(8,"ul"),e.GkF(9,21),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(9,Ve,(null==o.dataModelSelect||null==o.dataModelSelect.id?null:o.dataModelSelect.id.length)>0&&o.dataModelSelect.id===t.id?"#d3d3da":"")),e.xp6(1),e.uIk("aria-label","Toggle "+t.title),e.xp6(2),e.hij(" ",o.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.Udp("color",t.color),e.Q6J("ngClass",t.Icon),e.xp6(1),e.hij(" \xa0\xa0\xa0\xa0 ",t.title," "),e.xp6(1),e.ekj("category-tree-invisible",!o.treeControl.isExpanded(t))}}let Ho=(()=>{class i{cmsToastrService;coreEnumService;categoryService;dialog;cdr;publicHelper;tokenHelper;translate;constructor(t,o,n,l,r,c,M,I){this.cmsToastrService=t,this.coreEnumService=o,this.categoryService=n,this.dialog=l,this.cdr=r,this.publicHelper=c,this.tokenHelper=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=d.oYR.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}dataModelSelect=new d.i$u;dataModelResult=new d.y$4;filterModel=new d.Hay;loading=new fe.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}treeControl=new qo.VY(t=>t.children);dataSource=new le.WX;optionChange=new e.vpe;cmsApiStoreSubscribe;optionReload=()=>this.onActionButtonReload();hasChild=(t,o)=>!!o.children&&o.children.length>0;ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:o=>{o.isSuccess&&(this.dataModelResult=o,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new d.i$u,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id);const o=new k.vA;o.disableClose=!0,o.autoFocus=!0,o.data={parentId:t},this.dialog.open(je,o).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),0!==t.length?this.dialog.open(Ke,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)})}onActionDelete(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),0!==t.length||this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}static \u0275fac=function(o){return new(o||i)(e.Y36(_.e),e.Y36(d.FLW),e.Y36(d.KQH),e.Y36(k.uw),e.Y36(e.sBO),e.Y36(C.i),e.Y36(te.v),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:13,consts:[[3,"optionLoading","optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngStyle","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"ngStyle","click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"ngStyle","click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(o,n){1&o&&(e.TgZ(0,"app-cms-html-tree",0),e.ynx(1,1),e._uU(2),e.ALo(3,"translate"),e.BQk(),e.ynx(4,2),e.YNc(5,Jo,3,3,"button",3),e.YNc(6,Fo,3,3,"button",4),e.YNc(7,Uo,4,3,"button",5),e.BQk(),e.ynx(8,6),e.TgZ(9,"mat-tree",7),e.YNc(10,Qo,4,5,"mat-tree-node",8),e.YNc(11,Yo,10,11,"mat-nested-tree-node",9),e.qZA(),e.BQk(),e.GkF(12,10),e.qZA()),2&o&&(e.Q6J("optionLoading",n.loading)("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),e.xp6(2),e.hij(" ",e.lcZ(3,11,"TABLE."+(null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.moduleEntityName))," "),e.xp6(3),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",(null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow)&&(null==n.dataModelSelect||null==n.dataModelSelect.id?null:n.dataModelSelect.id.length)>0),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessWatchRow),e.xp6(2),e.Q6J("dataSource",n.dataSource)("treeControl",n.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",n.hasChild))},dependencies:[p.mk,p.O5,p.PC,ne.RK,Q.Hw,le.GZ,le.fQ,le.ah,le.eu,le.gi,le.uo,le.Ar,Wo.L,T.X$],encapsulation:2})}return i})();var Bo=u(9654),We=u(1101);function jo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",42)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function Ko(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Vo(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",43),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function $o(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.icon?null:t.fieldsInfo.icon.fieldTitle," ")}}function zo(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",49),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Udp("color",t.color),e.Q6J("ngClass",t.icon)}}function Xo(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ei(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ti(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const ni=function(i){return{display:i}};function oi(i,a){if(1&i&&e._UZ(0,"select",52),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,ni,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function ii(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",50),e.ALo(2,"statusIconClass"),e.YNc(3,oi,1,5,"select",51),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.lcZ(2,2,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function li(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle,"")}}function ai(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function si(i,a){1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data"),""))}function ri(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",50),e.ALo(2,"boolclass"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.showInAccessAdminAllowToProfessionalData))}}function ci(i,a){1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.Menu_Place_Type")," "))}function di(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.menuPlaceType,o.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function pi(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.showInMenuOrder?null:t.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function ui(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.showInMenuOrder," ")}}function gi(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function mi(i,a){if(1&i&&(e.TgZ(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,55),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function fi(i,a){1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"ACTION.ORDERING")," "))}function _i(i,a){1&i&&(e.TgZ(0,"mat-cell")(1,"mat-icon",56),e._uU(2,"reorder"),e.qZA()())}function hi(i,a){1&i&&e._UZ(0,"mat-header-row")}const Mi=function(i){return{background:i}};function bi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(2,Mi,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))("cdkDragData",t)}}const Si=function(){return[5,10,20,100]};let Ti=(()=>{class i extends Se.R{contentService;cmsConfirmationDialogService;cmsToastrService;tokenHelper;coreEnumService;cdr;translate;pageInfo;publicHelper;dialog;constructor(t,o,n,l,r,c,M,I,y,W){super(t,new d.i$u,y,l,M),this.contentService=t,this.cmsConfirmationDialogService=o,this.cmsToastrService=n,this.tokenHelper=l,this.coreEnumService=r,this.cdr=c,this.translate=M,this.pageInfo=I,this.publicHelper=y,this.dialog=W,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(H=>{this.loading.message=H}),this.optionsSearch.parentMethods={onSubmit:H=>this.onSubmitOptionsSearch(H)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=d.oYR.Ascending}comment;author;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Icon","Id","RecordStatus","Title","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","ShowInMenuOrder","position"];dataModelEnumMenuPlaceTypeResult=new d.y$4;expandedElement;cmsApiStoreSubscribe;categoryModelSelected;ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.i$u);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){const n=new d.AO3;n.propertyName="LinkParentId",n.value=this.categoryModelSelected.id,o.filters.push(n)}this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){const o=this.tableSource.data.findIndex(l=>l===t.item.data),n=new d.Y4d;n.id=this.tableSource.data[o].id,n.centerId=this.tableSource.data[t.currentIndex].id,n.actionGo=o>t.currentIndex?d.HAW.GoUp:d.HAW.GoDown,this.contentService.ServiceEditStep(n).subscribe({next:l=>{l.isSuccess&&((0,ve.bA)(this.tableSource.data,o,t.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:l=>{this.cmsToastrService.typeError(l)}})}onActionSelectorSelect(t){var o=this.filteModelContent.sortColumn,n=this.filteModelContent.sortType;this.filteModelContent=new d.Hay,this.filteModelContent.sortColumn=o,this.filteModelContent.sortType=n,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(je,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ke,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(null!=t&&t.id&&0!==t.id.length)if(this.tableRowSelected=t,null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.cmsToastrService.typeErrorDeleteRowIsNull()}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(o.set("All",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n,!1)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess&&(o.set("Active",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.KQH),e.Y36(ce.s),e.Y36(_.e),e.Y36(te.v),e.Y36(d.FLW),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-menu-list"]],features:[e.qOj],decls:63,vars:28,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","","cdkDropList","",3,"dataSource","cdkDropListData","matSortChange","cdkDropListDropped"],["tableSort","matSort"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ngStyle","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"ngStyle","cdkDragData","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e.TgZ(2,"app-webdesigner-menu-tree",2),e.NdJ("optionChange",function(c){return n.onActionSelectorSelect(c)}),e.qZA(),e.BQk(),e.GkF(3,3),e.ynx(4,4),e.TgZ(5,"div",5)(6,"div",6)(7,"a",7)(8,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",7)(12,"mat-slide-toggle",9),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",10)(16,"a",11),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(17,"i",12),e.qZA(),e.TgZ(18,"a",11),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(19,"i",13),e.qZA()()(),e.BQk(),e.ynx(20,14),e.YNc(21,jo,7,3,"div",15),e.BQk(),e.ynx(22,16),e.YNc(23,Ko,7,3,"div",15),e.YNc(24,Vo,7,3,"div",15),e.BQk(),e.ynx(25,17),e.TgZ(26,"app-cms-search-list",18),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(27,"app-cms-statist-list",18),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(28,19),e.TgZ(29,"mat-table",20,21),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(30);return e.KtG(n.onTableSortData(c))})("cdkDropListDropped",function(c){return n.onTableDropRow(c)}),e.ynx(31,22),e.YNc(32,$o,2,1,"mat-header-cell",23),e.YNc(33,zo,2,3,"mat-cell",24),e.BQk(),e.ynx(34,25),e.YNc(35,Xo,2,1,"mat-header-cell",23),e.YNc(36,ei,2,1,"mat-cell",24),e.BQk(),e.ynx(37,26),e.YNc(38,ti,2,1,"mat-header-cell",23),e.YNc(39,ii,4,4,"mat-cell",24),e.BQk(),e.ynx(40,27),e.YNc(41,li,2,1,"mat-header-cell",23),e.YNc(42,ai,2,1,"mat-cell",24),e.BQk(),e.ynx(43,28),e.YNc(44,si,3,3,"mat-header-cell",23),e.YNc(45,ri,3,3,"mat-cell",24),e.BQk(),e.ynx(46,29),e.YNc(47,ci,3,3,"mat-header-cell",23),e.YNc(48,di,3,4,"mat-cell",24),e.BQk(),e.ynx(49,30),e.YNc(50,pi,2,1,"mat-header-cell",23),e.YNc(51,ui,2,1,"mat-cell",24),e.BQk(),e.ynx(52,31),e.YNc(53,gi,3,3,"mat-header-cell",32),e.YNc(54,mi,6,1,"mat-cell",33),e.BQk(),e.ynx(55,34),e.YNc(56,fi,3,3,"mat-header-cell",23),e.YNc(57,_i,3,0,"mat-cell",24),e.BQk(),e.YNc(58,hi,1,0,"mat-header-row",35),e.YNc(59,bi,1,4,"mat-row",36),e.qZA(),e.BQk(),e.ynx(60,37),e.TgZ(61,"mat-paginator",38,39),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","configuresite.webdesigner.menu")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!0)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,23,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,25,"ACTION.STATIST")," "),e.xp6(8),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource)("cdkDropListData",n.tableSource),e.xp6(29),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(27,Si)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,ve.Wj,ve.Zt,ve.Bh,Ho,T.X$,Bo.B,me.G,We.r],encapsulation:2})}return i})();var $e=u(1126);const Ai=["vform"];function Ci(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",20),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ii(i,a){1&i&&e._UZ(0,"i",24)}function vi(i,a){1&i&&e._UZ(0,"i",25)}function Di(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"label",21),e._uU(2),e.qZA(),e.TgZ(3,"input",22,23),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,Ii,1,0,"i",13),e.YNc(6,vi,1,0,"i",14),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,Di,5,4,"mat-error",15),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessAddField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Zi(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function wi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"label",26),e._uU(2),e.qZA(),e.TgZ(3,"input",27,28),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.titleResourceLanguage=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA(),e.YNc(7,Zi,5,4,"mat-error",15),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessAddField)),e.xp6(3),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function xi(i,a){1&i&&e._UZ(0,"i",24)}function Ei(i,a){1&i&&e._UZ(0,"i",25)}function Li(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.cmsModuleClassName?null:t.fieldsInfo.cmsModuleClassName.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ri(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.classActionName?null:t.fieldsInfo.classActionName.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Pi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",32),e._UZ(6,"i",33),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ki=(()=>{class i extends Y.c{data;dialogRef;coreEnumService;webDesignerMainPageDependencyService;cmsToastrService;publicHelper;cdr;translate;requestLinkModuleId=0;constructor(t,o,n,l,r,c,M,I){super(l,new d.QpZ,c,I),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainPageDependencyService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkModuleId=+t.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModelResult=new d.y$4;dataModel=new d.QpZ;formInfo=new d.LEF;fileManagerOpenForm=!1;ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear")):this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.eck),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ai,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:32,vars:28,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["CmsModuleClassName",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["ClassActionName",""],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,Ci,1,5,"app-cms-enum-record-status-selector",6),e.YNc(11,yi,10,8,"div",7),e.YNc(12,wi,8,6,"div",7),e.TgZ(13,"app-cms-module-selector",8),e.NdJ("optionChange",function(r){return n.onActionSelectModule(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9)(16,"label",10),e._uU(17),e.qZA(),e.TgZ(18,"input",11,12),e.NdJ("ngModelChange",function(r){return n.dataModel.cmsModuleClassName=r}),e.qZA(),e.YNc(20,xi,1,0,"i",13),e.YNc(21,Ei,1,0,"i",14),e.TgZ(22,"em"),e._uU(23),e.qZA(),e.YNc(24,Li,5,4,"mat-error",15),e.qZA(),e.TgZ(25,"div",9)(26,"label",16),e._uU(27),e.qZA(),e.TgZ(28,"input",17,18),e.NdJ("ngModelChange",function(r){return n.dataModel.classActionName=r}),e.qZA(),e.YNc(30,Ri,5,4,"mat-error",15),e.qZA(),e.YNc(31,Pi,9,7,"div",19),e.qZA()()()),2&o){const l=e.MAs(19),r=e.MAs(29);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.accessWatchField),e.xp6(1),e.Q6J("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkModuleId)("optionPlaceholder",e.lcZ(14,26,"TITLE.MODULE"))("optionDisabled",!(null!=n.fieldsInfo.linkModuleId&&n.fieldsInfo.linkModuleId.accessAddField)),e.xp6(4),e.Oqu(null==n.fieldsInfo.cmsModuleClassName?null:n.fieldsInfo.cmsModuleClassName.fieldTitle),e.xp6(1),e.s9C("placeholder",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",n.dataModel.cmsModuleClassName)("disabled",!(null!=n.fieldsInfo.cmsModuleClassName&&n.fieldsInfo.cmsModuleClassName.accessAddField)),e.xp6(2),e.Q6J("ngIf",!l.value),e.xp6(1),e.Q6J("ngIf",l.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==n.fieldsInfo.classActionName?null:n.fieldsInfo.classActionName.fieldTitle),e.xp6(1),e.s9C("placeholder",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",n.dataModel.classActionName)("disabled",!(null!=n.fieldsInfo.classActionName&&n.fieldsInfo.classActionName.accessAddField)),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,q.t,$e.g,O.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();function Ni(i,a){if(1&i&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.MGl("for","app-cms-site-selector-",t.id,""),e.xp6(1),e.Oqu(t.optionLabel)}}function Oi(i,a){if(1&i&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function Gi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const qi=["*"];let Je=(()=>{class i{coreEnumService;cdr;publicHelper;translate;categoryService;static nextId=0;id=++i.nextId;constructor(t,o,n,l,r){this.coreEnumService=t,this.cdr=o,this.publicHelper=n,this.translate=l,this.categoryService=r,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.loading.message=c})}dataModelResult=new d.y$4;dataModelSelect=new d.Q39;formControl=new s.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(t){this.onActionSelectForce(t)}loading=new fe.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,xe.O)(""),(0,Ee.b)(1500),(0,Le.x)(),(0,Re.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,Ze.Z)(function*(){const n=new d.Hay;n.rowPerPage=20,n.accessLoad=!0;let l=new d.AO3;l.propertyName="Title",l.value=t,l.searchType=d.J6G.Contains,l.clauseType=d.ppe.Or,n.filters.push(l),t&&"number"==typeof+t&&+t>0&&(l=new d.AO3,l.propertyName="Id",l.value=t,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.Or,n.filters.push(l));const r=o.constructor.name+"categoryService.ServiceGetAll";return o.translate.get("MESSAGE.Receiving_information").subscribe(c=>{o.publicHelper.processService.processStart(r,c,o.constructor.name)}),yield(0,we.z)(o.categoryService.ServiceGetAll(n)).then(c=>(o.dataModelResult=c,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.publicHelper.processService.processStop(r),c.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Pe.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("string"==typeof t&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))}})}else{if(typeof t==typeof d.Q39)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new d.Q39,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.FLW),e.Y36(e.sBO),e.Y36(C.i),e.Y36(T.sK),e.Y36(d.BeA))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:qi,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,Ni,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(r){return n.onActionSelect(r.option.value)}),e.YNc(6,Oi,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,Gi,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&o){const l=e.MAs(5);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(1),e.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.MGl("id","app-cms-site-selector-",n.id,""),e.Q6J("formControl",n.formControl)("matAutocomplete",l),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[p.sg,p.O5,s.Fj,s.JJ,s.oH,ie.XC,ke.ey,ie.ZL,A.R9,Q.Hw,w.Nt,O.O,p.Ov],encapsulation:2})}return i})();function Wi(i,a){if(1&i&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.MGl("for","app-cms-site-selector-",t.id,""),e.xp6(1),e.Oqu(t.optionLabel)}}function Ji(i,a){if(1&i&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function Fi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const Ui=["*"];let Fe=(()=>{class i{coreEnumService;translate;cdr;publicHelper;categoryService;static nextId=0;id=++i.nextId;constructor(t,o,n,l,r){this.coreEnumService=t,this.translate=o,this.cdr=n,this.publicHelper=l,this.categoryService=r,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.loading.message=c})}set optionMasterTemplateId(t){this.masterTemplateId=t,this.loadOptions()}set optionSelectForce(t){this.onActionSelectForce(t)}dataModelResult=new d.y$4;dataModelSelect=new d.RIQ;formControl=new s.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionMasterPage=!1;optionLabel="";optionPlaceholder="";optionChange=new e.vpe;masterTemplateId="";optionReload=()=>this.onActionButtonReload();loading=new fe.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,xe.O)(""),(0,Ee.b)(1500),(0,Le.x)(),(0,Re.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){var o=this;return(0,Ze.Z)(function*(){const n=new d.Hay;n.rowPerPage=20,n.accessLoad=!0;let l=new d.AO3;const r=new d.AO3;t&&t.length>0&&(l.propertyName="Title",l.value=t,l.searchType=d.J6G.Contains,l.clauseType=d.ppe.Or,r.filters.push(l)),t&&"number"==typeof+t&&+t>0&&(l=new d.AO3,l.propertyName="Id",l.value=t,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.Or,r.filters.push(l)),n.filters.push(r),o.optionMasterPage&&(l=new d.AO3,l.propertyName="PageAbilityType",l.value=d.brq.Master,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.And,n.filters.push(l)),o.masterTemplateId&&o.masterTemplateId.length>0&&(l=new d.AO3,l.propertyName="LinkPageTemplateGuId",l.value=o.masterTemplateId,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.And,n.filters.push(l));const c=o.constructor.name+"main";return o.translate.get("MESSAGE.Receiving_information").subscribe(M=>{o.publicHelper.processService.processStart(c,M,o.constructor.name)}),yield(0,we.z)(o.categoryService.ServiceGetAll(n)).then(M=>(o.dataModelResult=M,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.publicHelper.processService.processStop(c),M.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Pe.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("string"==typeof t&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))}})}else{if(typeof t==typeof d.RIQ)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new d.RIQ,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.FLW),e.Y36(T.sK),e.Y36(e.sBO),e.Y36(C.i),e.Y36(d.SUF))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:Ui,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,Wi,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(r){return n.onActionSelect(r.option.value)}),e.YNc(6,Ji,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,Fi,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&o){const l=e.MAs(5);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(1),e.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.MGl("id","app-cms-site-selector-",n.id,""),e.Q6J("formControl",n.formControl)("matAutocomplete",l),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[p.sg,p.O5,s.Fj,s.JJ,s.oH,ie.XC,ke.ey,ie.ZL,A.R9,Q.Hw,w.Nt,O.O,p.Ov],encapsulation:2})}return i})();const Qi=["vform"];function Yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-webdesigner-page-selector",17),e.NdJ("optionChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionSelectParent(n))})("optionLoadingChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loading=n)}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("optionLoading",t.loading)("optionMasterPage",!0)("optionMasterTemplateId",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(1,5,"TITLE.parent_page"))("optionDisabled",!1)}}function Hi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",19),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",20),e._UZ(6,"i",21),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Bi=(()=>{class i{data;dialogRef;coreEnumService;webDesignerMainPageService;cmsToastrService;publicHelper;cdr;translate;constructor(t,o,n,l,r,c,M,I){this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainPageService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";loading=new fe.O;dataModelResult=new d.ODe;dataModel=new d.lr4;formInfo=new d.LEF;fileManagerOpenForm=!1;ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Automatically_add_all_pages")}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){!t||t.id.length<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear")):this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0)return void this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.SUF),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(o,n){if(1&o&&e.Gf(Qi,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:25,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[1,"ntk-cms-html-card-body"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],[3,"optionLoading","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModel","ngModelChange"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionLoading","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.TgZ(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),e.NdJ("optionChange",function(r){return n.onActionSelectModule(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Yi,2,7,"app-webdesigner-page-selector",8),e.TgZ(14,"div",9)(15,"mat-slide-toggle",10),e.NdJ("ngModelChange",function(r){return n.dataModel.pageDependencyIsDefaultPage=r}),e._uU(16),e.qZA()()(),e.TgZ(17,"div",11)(18,"div",12)(19,"small",13),e._uU(20),e.qZA(),e.TgZ(21,"small",14),e._uU(22),e.qZA()()(),e.TgZ(23,"div",15),e.YNc(24,Hi,9,7,"div",16),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(5),e.Q6J("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(12,15,"TITLE.Select_the_template"))("optionDisabled",!1),e.xp6(2),e.Q6J("ngIf",n.dataModel.linkPageTemplateGuId&&n.dataModel.linkPageTemplateGuId.length>0),e.xp6(2),e.Q6J("ngModel",n.dataModel.pageDependencyIsDefaultPage),e.xp6(1),e.hij(" ",null==n.fieldsInfo.pageDependencyIsDefaultPage?null:n.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,s._Y,s.JJ,s.JL,s.On,s.F,oe.Rr,O.O,Je,Fe,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const ji=["vform"];function Ki(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",22),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Vi(i,a){1&i&&e._UZ(0,"i",26)}function $i(i,a){1&i&&e._UZ(0,"i",27)}function zi(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Xi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",23),e._uU(2),e.qZA(),e.TgZ(3,"input",24,25),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,Vi,1,0,"i",15),e.YNc(6,$i,1,0,"i",16),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,zi,5,4,"mat-error",17),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function el(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function tl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",28),e._uU(2),e.qZA(),e.TgZ(3,"input",29,30),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.titleResourceLanguage=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA(),e.YNc(7,el,5,4,"mat-error",17),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(3),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function nl(i,a){1&i&&e._UZ(0,"i",26)}function ol(i,a){1&i&&e._UZ(0,"i",27)}function il(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.cmsModuleClassName?null:t.fieldsInfo.cmsModuleClassName.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ll(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.classActionName?null:t.fieldsInfo.classActionName.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function al(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",33),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",34),e._UZ(6,"i",35),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let sl=(()=>{class i extends re.b{data;dialogRef;coreEnumService;webDesignerMainPageDependencyService;cmsToastrService;publicHelper;cdr;translate;requestId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.QpZ,c,I),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainPageDependencyService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModelResult=new d.ODe;dataModel=new d.QpZ;formInfo=new d.LEF;fileManagerOpenForm=!1;ngOnInit(){if(!(this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(d.dR.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){!t||t.id<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear")):this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.eck),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(ji,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:37,vars:33,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["CmsModuleClassName",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["ClassActionName",""],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,Ki,1,5,"app-cms-enum-record-status-selector",6),e.YNc(11,Xi,10,8,"div",7),e.TgZ(12,"div",8)(13,"label",9),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",10),e.NdJ("ngModelChange",function(r){return n.dataModel.titleML=r}),e.qZA()(),e.YNc(17,tl,8,6,"div",7),e.TgZ(18,"app-cms-module-selector",11),e.NdJ("optionChange",function(r){return n.onActionSelectModule(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",8)(21,"label",12),e._uU(22),e.qZA(),e.TgZ(23,"input",13,14),e.NdJ("ngModelChange",function(r){return n.dataModel.cmsModuleClassName=r}),e.qZA(),e.YNc(25,nl,1,0,"i",15),e.YNc(26,ol,1,0,"i",16),e.TgZ(27,"em"),e._uU(28),e.qZA(),e.YNc(29,il,5,4,"mat-error",17),e.qZA(),e.TgZ(30,"div",8)(31,"label",18),e._uU(32),e.qZA(),e.TgZ(33,"input",19,20),e.NdJ("ngModelChange",function(r){return n.dataModel.classActionName=r}),e.qZA(),e.YNc(35,ll,5,4,"mat-error",17),e.qZA(),e.YNc(36,al,9,7,"div",21),e.qZA()()()),2&o){const l=e.MAs(24),r=e.MAs(34);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(3),e.hij(" ",e.lcZ(15,29,"TITLE.TitleML"),""),e.xp6(2),e.Q6J("ngModel",n.dataModel.titleML)("disabled",!0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.accessWatchField),e.xp6(1),e.Q6J("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkModuleId)("optionPlaceholder",e.lcZ(19,31,"TITLE.MODULE"))("optionDisabled",!(null!=n.fieldsInfo.linkModuleId&&n.fieldsInfo.linkModuleId.accessEditField)),e.xp6(4),e.Oqu(null==n.fieldsInfo.cmsModuleClassName?null:n.fieldsInfo.cmsModuleClassName.fieldTitle),e.xp6(1),e.s9C("placeholder",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",n.dataModel.cmsModuleClassName)("disabled",!(null!=n.fieldsInfo.cmsModuleClassName&&n.fieldsInfo.cmsModuleClassName.accessEditField)),e.xp6(2),e.Q6J("ngIf",!l.value),e.xp6(1),e.Q6J("ngIf",l.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==n.fieldsInfo.classActionName?null:n.fieldsInfo.classActionName.fieldTitle),e.xp6(1),e.s9C("placeholder",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",n.dataModel.classActionName)("disabled",!(null!=n.fieldsInfo.classActionName&&n.fieldsInfo.classActionName.accessEditField)),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,q.t,$e.g,O.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var rl=u(5732),cl=u(3597),Ue=u(6939);function dl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function pl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRowAutoDependency())}),e.TgZ(2,"i",47),e._uU(3,"Dependency"),e.qZA(),e._UZ(4,"br"),e.qZA(),e.TgZ(5,"p",20),e._uU(6),e.ALo(7,"translate"),e.qZA()()}2&i&&(e.xp6(6),e.hij("",e.lcZ(7,1,"ACTION.AUTOADD"),"Dependency"))}function ul(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRowAutoPage())}),e.TgZ(2,"i",47),e._uU(3,"Page"),e.qZA(),e._UZ(4,"br"),e.qZA(),e.TgZ(5,"p",20),e._uU(6),e.ALo(7,"translate"),e.qZA()()}2&i&&(e.xp6(6),e.hij("",e.lcZ(7,1,"ACTION.AUTOADD"),"Page"))}function gl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",50)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function ml(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",52)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function fl(i,a){1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function _l(i,a){if(1&i&&(e._UZ(0,"img",55),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkModuleFileLogoIdSrc),e.LSH)}}function hl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,_l,2,3,"img",54),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkModuleFileLogoIdSrc?null:t.linkModuleFileLogoIdSrc.length)>0)}}function Ml(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function bl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Sl(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Tl=function(i){return{display:i}};function Al(i,a){if(1&i&&e._UZ(0,"select",58),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,Tl,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function Cl(i,a){if(1&i&&(e.TgZ(0,"mat-cell",56),e.ALo(1,"statusCellClass"),e._UZ(2,"i",56),e.ALo(3,"statusIconClass"),e.YNc(4,Al,1,5,"select",57),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function Il(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function vl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Dl(i,a){1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.TitleML")," "))}function yl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.titleML," ")}}function Zl(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkModuleId?null:t.fieldsInfo.linkModuleId.fieldTitle," ")}}function wl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkModuleId,o.dataModelCoreModuleResult.listItems)," ")}}function xl(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.cmsModuleClassName?null:t.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function El(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.cmsModuleClassName," ")}}function Ll(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.classActionName?null:t.fieldsInfo.classActionName.fieldTitle," ")}}function Rl(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.classActionName," ")}}function Pl(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function kl(i,a){if(1&i&&(e.TgZ(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,61),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Nl(i,a){1&i&&e._UZ(0,"mat-header-row")}const Ol=function(i){return{background:i}};function Gl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",62),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ol,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const ql=function(){return[5,10,20,100]};let Wl=(()=>{class i extends Se.R{contentService;cmsToastrService;cmsConfirmationDialogService;coreModuleService;activatedRoute;router;tokenHelper;http;cdr;translate;pageInfo;publicHelper;dialog;requestLinkModuleId=0;constructor(t,o,n,l,r,c,M,I,y,W,H,$,Qe){super(t,new d.QpZ,$,M,W),this.contentService=t,this.cmsToastrService=o,this.cmsConfirmationDialogService=n,this.coreModuleService=l,this.activatedRoute=r,this.router=c,this.tokenHelper=M,this.http=I,this.cdr=y,this.translate=W,this.pageInfo=H,this.publicHelper=$,this.dialog=Qe,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(J=>{this.loading.message=J}),this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:J=>this.onSubmitOptionsSearch(J)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=d.oYR.Ascending}SortTypeEnum;comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;dataModelCoreModuleResult=new d.y$4;categoryModelSelected=new d.six;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","RecordStatus","Title","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"];tabledisplayedColumnsMobileSource=["Title"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList()}getModuleList(){const t=new d.Hay;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:o=>{this.dataModelCoreModuleResult=o}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.QpZ);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(l=>{this.publicHelper.processService.processStart(t,l)}),this.filteModelContent.accessLoad=!0;const o=new d.AO3,n=JSON.parse(JSON.stringify(this.filteModelContent));this.categoryModelSelected&&this.categoryModelSelected.id>0&&(o.propertyName="LinkModuleId",o.value=this.categoryModelSelected.id,n.filters.push(o)),this.contentService.ServiceGetAllEditor(n).subscribe({next:l=>{l.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(l.access),this.dataModelResult=l,this.tableSource.data=l.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(l.access)),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ki,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonNewRowAutoPage(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(Bi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonNewRowAutoDependency(){if(null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessAddRow)return void this.cmsToastrService.typeErrorAccessAdd();const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.filteModelContent.accessLoad=!0,new d.AO3,this.contentService.ServiceAutoAdd().subscribe({next:n=>{n.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t)}})}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(sl,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)})}onActionButtonPageList(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.router.navigate(this.tokenInfo.userAccessAdminAllowToAllData?["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]:["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])):this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(o.set("All",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess&&(o.set("Active",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}})}onActionButtonSiteRouteView(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?window.open(this.tokenInfo.currentSiteDomainUrl+"/"+t.cmsModuleClassName+"/"+t.classActionName,"_blank"):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(n=>{this.cmsToastrService.typeErrorSelected(n)})}onActionSelectorSelect(t){const o=this.filteModelContent.sortColumn,n=this.filteModelContent.sortType;this.filteModelContent=new d.Hay,this.filteModelContent.sortColumn=o,this.filteModelContent.sortType=n,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.eck),e.Y36(_.e),e.Y36(ce.s),e.Y36(d.EAm),e.Y36(R.gz),e.Y36(R.F0),e.Y36(te.v),e.Y36(rl.eN),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagedependency-list"]],features:[e.qOj],decls:79,vars:35,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e.TgZ(2,"app-core-module-tree",2),e.NdJ("optionChange",function(c){return n.onActionSelectorSelect(c)}),e.qZA(),e.BQk(),e.GkF(3,3),e.ynx(4,4),e.TgZ(5,"div",5)(6,"div",6)(7,"a",7)(8,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",7)(12,"mat-slide-toggle",9),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",10)(16,"a",11),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(17,"i",12),e.qZA(),e.TgZ(18,"a",11),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(19,"i",13),e.qZA()()(),e.BQk(),e.ynx(20,14),e.YNc(21,dl,7,3,"div",15),e.YNc(22,pl,8,3,"div",15),e.YNc(23,ul,8,3,"div",15),e.BQk(),e.ynx(24,16),e.YNc(25,gl,7,3,"div",15),e.YNc(26,ml,7,3,"div",15),e.TgZ(27,"div",17)(28,"a",18),e.NdJ("click",function(){return n.onActionButtonPageList(n.tableRowSelected)}),e._UZ(29,"i",19)(30,"br"),e.qZA(),e.TgZ(31,"p",20),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"a",18),e.NdJ("click",function(){return n.onActionButtonSiteRouteView(n.tableRowSelected)}),e._UZ(36,"i",21)(37,"br"),e.qZA(),e.TgZ(38,"p",20),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.BQk(),e.ynx(41,22),e.TgZ(42,"app-cms-search-list",23),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(43,"app-cms-statist-list",23),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(44,24),e.TgZ(45,"mat-table",25,26),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(46);return e.KtG(n.onTableSortData(c))}),e.ynx(47,27),e.YNc(48,fl,3,3,"mat-header-cell",28),e.YNc(49,hl,2,1,"mat-cell",29),e.BQk(),e.ynx(50,30),e.YNc(51,Ml,2,1,"mat-header-cell",28),e.YNc(52,bl,2,1,"mat-cell",29),e.BQk(),e.ynx(53,31),e.YNc(54,Sl,2,1,"mat-header-cell",28),e.YNc(55,Cl,5,7,"mat-cell",32),e.BQk(),e.ynx(56,33),e.YNc(57,Il,2,1,"mat-header-cell",28),e.YNc(58,vl,2,1,"mat-cell",29),e.BQk(),e.ynx(59,34),e.YNc(60,Dl,3,3,"mat-header-cell",28),e.YNc(61,yl,2,1,"mat-cell",29),e.BQk(),e.ynx(62,35),e.YNc(63,Zl,2,1,"mat-header-cell",28),e.YNc(64,wl,3,4,"mat-cell",29),e.BQk(),e.ynx(65,36),e.YNc(66,xl,2,1,"mat-header-cell",28),e.YNc(67,El,2,1,"mat-cell",29),e.BQk(),e.ynx(68,37),e.YNc(69,Ll,2,1,"mat-header-cell",28),e.YNc(70,Rl,2,1,"mat-cell",29),e.BQk(),e.ynx(71,38),e.YNc(72,Pl,3,3,"mat-header-cell",39),e.YNc(73,kl,6,1,"mat-cell",40),e.BQk(),e.YNc(74,Nl,1,0,"mat-header-row",41),e.YNc(75,Gl,1,3,"mat-row",42),e.qZA(),e.BQk(),e.ynx(76,43),e.TgZ(77,"mat-paginator",44,45),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","configuresite.webdesigner.pagedependency")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",0===n.requestLinkModuleId)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,26,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,28,"ACTION.STATIST")," "),e.xp6(8),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(33,30,"ACTION.PAGES")),e.xp6(7),e.Oqu(e.lcZ(40,32,"ACTION.SHOW_WEB")),e.xp6(3),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(29),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,ql)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,cl.s,T.X$,Ue.V,b.v,me.G,Ie.Y],encapsulation:2})}return i})();const Jl=["vform"];function Fl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",19),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ul(i,a){1&i&&e._UZ(0,"i",23)}function Ql(i,a){1&i&&e._UZ(0,"i",24)}function Yl(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Hl(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",20),e._uU(2),e.qZA(),e.TgZ(3,"input",21,22),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,Ul,1,0,"i",12),e.YNc(6,Ql,1,0,"i",13),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,Yl,5,4,"mat-error",14),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessAddField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Bl(i,a){1&i&&e._UZ(0,"i",23)}function jl(i,a){1&i&&e._UZ(0,"i",24)}function Kl(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.folder?null:t.fieldsInfo.folder.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Vl(i,a){1&i&&e._UZ(0,"i",23)}function $l(i,a){1&i&&e._UZ(0,"i",24)}function zl(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.indexFile?null:t.fieldsInfo.indexFile.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Xl(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ea(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",25),e._uU(2),e.qZA(),e.TgZ(3,"textarea",26,27),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"                "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,Xl,5,4,"mat-error",14),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ta(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",31),e._UZ(6,"i",32),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let na=(()=>{class i extends Y.c{data;dialogRef;coreEnumService;webDesignerMainPageTemplateService;cmsToastrService;publicHelper;cdr;translate;constructor(t,o,n,l,r,c,M,I){super(l,new d.Q39,c,I),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainPageTemplateService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModelResult=new d.y$4;dataModel=new d.Q39;formInfo=new d.LEF;fileManagerOpenForm=!1;ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.BeA),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(o,n){if(1&o&&e.Gf(Jl,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:35,vars:26,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Folder",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["IndexFile",""],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,Fl,1,5,"app-cms-enum-record-status-selector",6),e.YNc(11,Hl,10,8,"div",7),e.TgZ(12,"div",8)(13,"label",9),e._uU(14),e.qZA(),e.TgZ(15,"input",10,11),e.NdJ("ngModelChange",function(r){return n.dataModel.folder=r}),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Bl,1,0,"i",12),e.YNc(19,jl,1,0,"i",13),e.TgZ(20,"em"),e._uU(21),e.qZA(),e.YNc(22,Kl,5,4,"mat-error",14),e.qZA(),e.TgZ(23,"div",8)(24,"label",15),e._uU(25),e.qZA(),e.TgZ(26,"input",16,17),e.NdJ("ngModelChange",function(r){return n.dataModel.indexFile=r}),e.qZA(),e.YNc(28,Vl,1,0,"i",12),e.YNc(29,$l,1,0,"i",13),e.TgZ(30,"em"),e._uU(31),e.qZA(),e.YNc(32,zl,5,4,"mat-error",14),e.qZA(),e.YNc(33,ea,9,5,"div",7),e.YNc(34,ta,9,7,"div",18),e.qZA()()()),2&o){const l=e.MAs(16),r=e.MAs(27);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(3),e.Oqu(null==n.fieldsInfo.folder?null:n.fieldsInfo.folder.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(17,24,"TITLE.branch_path")),e.Q6J("ngModel",n.dataModel.folder)("disabled",!(null!=n.fieldsInfo.folder&&n.fieldsInfo.folder.accessAddField)),e.xp6(3),e.Q6J("ngIf",!l.value),e.xp6(1),e.Q6J("ngIf",l.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==n.fieldsInfo.indexFile?null:n.fieldsInfo.indexFile.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.indexFile)("disabled",!(null!=n.fieldsInfo.indexFile&&n.fieldsInfo.indexFile.accessAddField)),e.xp6(2),e.Q6J("ngIf",!r.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,q.t,O.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();var oa=u(4370);const ia=["vform"];function la(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",21),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function aa(i,a){1&i&&e._UZ(0,"i",25)}function sa(i,a){1&i&&e._UZ(0,"i",26)}function ra(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function ca(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",22),e._uU(2),e.qZA(),e.TgZ(3,"input",23,24),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,aa,1,0,"i",12),e.YNc(6,sa,1,0,"i",13),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,ra,5,4,"mat-error",14),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function da(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function pa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",27),e._uU(2),e.qZA(),e.TgZ(3,"input",28,29),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.titleResourceLanguage=n)}),e.qZA(),e.TgZ(5,"em"),e._uU(6),e.qZA(),e.YNc(7,da,5,4,"mat-error",14),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.titleResourceLanguage?null:o.fieldsInfo.titleResourceLanguage.fieldTitle),e.Q6J("ngModel",o.dataModel.titleResourceLanguage)("disabled",!(null!=o.fieldsInfo.titleResourceLanguage&&o.fieldsInfo.titleResourceLanguage.accessEditField)),e.xp6(3),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ua(i,a){1&i&&e._UZ(0,"i",25)}function ga(i,a){1&i&&e._UZ(0,"i",26)}function ma(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.folder?null:t.fieldsInfo.folder.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function fa(i,a){1&i&&e._UZ(0,"i",25)}function _a(i,a){1&i&&e._UZ(0,"i",26)}function ha(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.indexFile?null:t.fieldsInfo.indexFile.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Ma(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"h5",32),e._uU(3),e.qZA()(),e.TgZ(4,"div",33)(5,"div",34)(6,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.isPublish=n)}),e.qZA(),e._UZ(7,"label",36),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.isPublish?null:t.fieldsInfo.isPublish.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.isPublish)}}function ba(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function Sa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",37),e._uU(2),e.qZA(),e.TgZ(3,"textarea",38,39),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"                "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,ba,5,4,"mat-error",14),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ta(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e._UZ(6,"i",44),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Aa=(()=>{class i extends re.b{data;dialogRef;coreEnumService;webDesignerMainPageTemplateService;webDesignerMainPageTemplateSiteCategoryService;cmsToastrService;publicHelper;cdr;translate;requestId="";constructor(t,o,n,l,r,c,M,I,y){super(l,new d.Q39,M,y),this.data=t,this.dialogRef=o,this.coreEnumService=n,this.webDesignerMainPageTemplateService=l,this.webDesignerMainPageTemplateSiteCategoryService=r,this.cmsToastrService=c,this.publicHelper=M,this.cdr=I,this.translate=y,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(W=>{this.loading.message=W}),t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;selectFileTypeMainImage=["jpg","jpeg","png"];fileManagerTree;appLanguage="fa";dataModel=new d.Q39;formInfo=new d.LEF;fileManagerOpenForm=!1;dataCoreSiteCategoryModel;dataCoreSiteCategoryIds=[];dataWebDesignerMainPageTemplateSiteCategoryModel;ngOnInit(){if(!(this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(d.dR.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(l=>{this.formInfo.formAlert=l}),this.formInfo.formError="";const t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(t,l,this.constructor.name)});const o=new d.Hay,n=new d.AO3;n.propertyName="LinkPageTemplateId",n.value=this.requestId,o.filters.push(n),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(o).subscribe({next:l=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=l.listItems;const r=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(c=>{r.push(c.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=r,l.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreSiteCategoryModel=t}onActionSelectorUserCategorySelectAdded(t){const o=new d.ZE$;o.linkSiteCagegoryId=t.id,o.linkPageTemplateId=this.dataModel.id;const n=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(n,l,this.constructor.name)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(o).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(r=>{this.formInfo.formAlert=r}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.formAlert=r}),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(n)},error:l=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(n)}})}onActionSelectorUserCategorySelectRemoved(t){const o=new d.ZE$;o.linkSiteCagegoryId=t.id,o.linkPageTemplateId=this.dataModel.id;const n=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(n,l,this.constructor.name)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(o).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(r=>{this.formInfo.formAlert=r}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(r=>{this.formInfo.formAlert=r}),this.formInfo.formError=l.errorMessage,this.cmsToastrService.typeErrorMessage(l.errorMessage)),this.publicHelper.processService.processStop(n)},error:l=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(n)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.FLW),e.Y36(d.BeA),e.Y36(d.cW6),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(ia,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:41,vars:33,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Folder",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["IndexFile",""],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionDisabled","optionChange","optionSelectAdded","optionSelectRemoved"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["TitleResourceLanguage",""],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,la,1,5,"app-cms-enum-record-status-selector",6),e.YNc(11,ca,10,8,"div",7),e.YNc(12,pa,8,6,"div",7),e.TgZ(13,"div",8)(14,"label",9),e._uU(15),e.qZA(),e.TgZ(16,"input",10,11),e.NdJ("ngModelChange",function(r){return n.dataModel.folder=r}),e.ALo(18,"translate"),e.qZA(),e.YNc(19,ua,1,0,"i",12),e.YNc(20,ga,1,0,"i",13),e.TgZ(21,"em"),e._uU(22),e.qZA(),e.YNc(23,ma,5,4,"mat-error",14),e.qZA(),e.TgZ(24,"div",8)(25,"label",15),e._uU(26),e.qZA(),e.TgZ(27,"input",16,17),e.NdJ("ngModelChange",function(r){return n.dataModel.indexFile=r}),e.qZA(),e.YNc(29,fa,1,0,"i",12),e.YNc(30,_a,1,0,"i",13),e.TgZ(31,"em"),e._uU(32),e.qZA(),e.YNc(33,ha,5,4,"mat-error",14),e.qZA(),e.YNc(34,Ma,8,2,"div",18),e.YNc(35,Sa,9,5,"div",7),e._uU(36),e.ALo(37,"translate"),e._UZ(38,"br"),e.TgZ(39,"app-cms-sitecategory-selectionlist",19),e.NdJ("optionChange",function(r){return n.onActionSelectorUserCategorySelect(r)})("optionSelectAdded",function(r){return n.onActionSelectorUserCategorySelectAdded(r)})("optionSelectRemoved",function(r){return n.onActionSelectorUserCategorySelectRemoved(r)}),e.qZA(),e.YNc(40,Ta,9,7,"div",20),e.qZA()()()),2&o){const l=e.MAs(17),r=e.MAs(28);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.titleResourceLanguage?null:n.fieldsInfo.titleResourceLanguage.accessWatchField),e.xp6(3),e.Oqu(null==n.fieldsInfo.folder?null:n.fieldsInfo.folder.fieldTitle),e.xp6(1),e.s9C("placeholder",e.lcZ(18,29,"TITLE.branch_path")),e.Q6J("ngModel",n.dataModel.folder)("disabled",!(null!=n.fieldsInfo.folder&&n.fieldsInfo.folder.accessEditField)),e.xp6(3),e.Q6J("ngIf",!l.value),e.xp6(1),e.Q6J("ngIf",l.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(3),e.Oqu(null==n.fieldsInfo.indexFile?null:n.fieldsInfo.indexFile.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.indexFile)("disabled",!(null!=n.fieldsInfo.indexFile&&n.fieldsInfo.indexFile.accessEditField)),e.xp6(2),e.Q6J("ngIf",!r.value),e.xp6(1),e.Q6J("ngIf",r.value),e.xp6(2),e.hij("",l.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.isPublish?null:n.fieldsInfo.isPublish.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.hij(" ",e.lcZ(37,31,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),e.xp6(3),e.Q6J("optionSelectForce",n.dataCoreSiteCategoryIds)("optionDisabled",!1),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.O5,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,A.TO,w.Nt,q.t,oa.a,O.O,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();function Ca(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",43)(3,"br"),e.qZA(),e.TgZ(4,"p",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function Ia(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",45)(3,"br"),e.qZA(),e.TgZ(4,"p",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function va(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",47)(3,"br"),e.qZA(),e.TgZ(4,"p",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Da(i,a){1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function ya(i,a){if(1&i&&(e._UZ(0,"img",50),e.ALo(1,"cmsthumbnail")),2&i){const t=e.oxw().$implicit;e.s9C("src",e.lcZ(1,1,t.linkModuleFileLogoIdSrc),e.LSH)}}function Za(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,ya,2,3,"img",49),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.linkModuleFileLogoIdSrc?null:t.linkModuleFileLogoIdSrc.length)>0)}}function wa(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function xa(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ea(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const La=function(i){return{display:i}};function Ra(i,a){if(1&i&&e._UZ(0,"select",53),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,La,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function Pa(i,a){if(1&i&&(e.TgZ(0,"mat-cell",51),e.ALo(1,"statusCellClass"),e._UZ(2,"i",51),e.ALo(3,"statusIconClass"),e.YNc(4,Ra,1,5,"select",52),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function ka(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Na(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Oa(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.folder?null:t.fieldsInfo.folder.fieldTitle," ")}}function Ga(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.folder," ")}}function qa(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.indexFile?null:t.fieldsInfo.indexFile.fieldTitle," ")}}function Wa(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.indexFile," ")}}function Ja(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Fa(i,a){if(1&i&&(e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,56),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Ua(i,a){1&i&&e._UZ(0,"mat-header-row")}const Qa=function(i){return{background:i}};function Ya(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,Qa,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const Ha=function(){return[5,10,20,100]};let Ba=(()=>{class i extends Se.R{contentService;cmsToastrService;cmsConfirmationDialogService;tokenHelper;router;cdr;translate;pageInfo;publicHelper;dialog;constructor(t,o,n,l,r,c,M,I,y,W){super(t,new d.Q39,y,l,M),this.contentService=t,this.cmsToastrService=o,this.cmsConfirmationDialogService=n,this.tokenHelper=l,this.router=r,this.cdr=c,this.translate=M,this.pageInfo=I,this.publicHelper=y,this.dialog=W,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(H=>{this.loading.message=H}),this.optionsSearch.parentMethods={onSubmit:H=>this.onSubmitOptionsSearch(H)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=d.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;dataModelCoreModuleResult=new d.y$4;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","RecordStatus","Title","Folder","IndexFile"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new d.Q39);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(n=>{this.publicHelper.processService.processStart(t,n)}),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(na,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Aa,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(o.set("All",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess&&(o.set("Active",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}})}onActionButtonPageList(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id]):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.BeA),e.Y36(_.e),e.Y36(ce.s),e.Y36(te.v),e.Y36(R.F0),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagetemplate-list"]],features:[e.qOj],decls:64,vars:30,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9)(16,"a",10),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(17,"i",11),e.qZA(),e.TgZ(18,"a",10),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(19,"i",12),e.qZA()()(),e.BQk(),e.ynx(20,13),e.YNc(21,Ca,7,3,"div",14),e.BQk(),e.ynx(22,15),e.YNc(23,Ia,7,3,"div",14),e.YNc(24,va,7,3,"div",14),e.TgZ(25,"div",16)(26,"a",17),e.NdJ("click",function(){return n.onActionButtonPageList(n.tableRowSelected)}),e._UZ(27,"i",18)(28,"br"),e.qZA(),e.TgZ(29,"p",19),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.BQk(),e.ynx(32,20),e.TgZ(33,"app-cms-search-list",21),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(34,"app-cms-statist-list",21),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(35,22),e.TgZ(36,"mat-table",23,24),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(37);return e.KtG(n.onTableSortData(c))}),e.ynx(38,25),e.YNc(39,Da,3,3,"mat-header-cell",26),e.YNc(40,Za,2,1,"mat-cell",27),e.BQk(),e.ynx(41,28),e.YNc(42,wa,2,1,"mat-header-cell",26),e.YNc(43,xa,2,1,"mat-cell",27),e.BQk(),e.ynx(44,29),e.YNc(45,Ea,2,1,"mat-header-cell",26),e.YNc(46,Pa,5,7,"mat-cell",30),e.BQk(),e.ynx(47,31),e.YNc(48,ka,2,1,"mat-header-cell",26),e.YNc(49,Na,2,1,"mat-cell",27),e.BQk(),e.ynx(50,32),e.YNc(51,Oa,2,1,"mat-header-cell",26),e.YNc(52,Ga,2,1,"mat-cell",27),e.BQk(),e.ynx(53,33),e.YNc(54,qa,2,1,"mat-header-cell",26),e.YNc(55,Wa,2,1,"mat-cell",27),e.BQk(),e.ynx(56,34),e.YNc(57,Ja,3,3,"mat-header-cell",35),e.YNc(58,Fa,6,1,"mat-cell",36),e.BQk(),e.YNc(59,Ua,1,0,"mat-header-row",37),e.YNc(60,Ya,1,3,"mat-row",38),e.qZA(),e.BQk(),e.ynx(61,39),e.TgZ(62,"mat-paginator",40,41),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,23,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,25,"ACTION.STATIST")," "),e.xp6(8),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(31,27,"ACTION.PAGES")),e.xp6(3),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(23),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(29,Ha)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,T.X$,b.v,me.G,Ie.Y],encapsulation:2})}return i})();var ze=u(5436),ae=u(7084),Xe=u(5631);function ja(i,a){if(1&i&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.MGl("for","app-cms-site-selector-",t.id,""),e.xp6(1),e.Oqu(t.optionLabel)}}function Ka(i,a){if(1&i&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("value",t)("disabled",o.optionDisabled),e.xp6(2),e.Oqu(o.displayOption(t))}}function Va(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const $a=["*"];let et=(()=>{class i{coreEnumService;translate;cdr;publicHelper;categoryService;static nextId=0;id=++i.nextId;constructor(t,o,n,l,r){this.coreEnumService=t,this.translate=o,this.cdr=n,this.publicHelper=l,this.categoryService=r,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.loading.message=c})}dataModelResult=new d.y$4;dataModelSelect=new d.QpZ;formControl=new s.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(t){this.onActionSelectForce(t)}loading=new fe.O;get optionLoading(){return this.loading}set optionLoading(t){this.loading=t}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,xe.O)(""),(0,Ee.b)(1500),(0,Le.x)(),(0,Re.w)(t=>"string"==typeof t||"number"==typeof t?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){var o=this;return(0,Ze.Z)(function*(){const n=new d.Hay;n.rowPerPage=20,n.accessLoad=!0;let l=new d.AO3;l.propertyName="Title",l.value=t,l.searchType=d.J6G.Contains,l.clauseType=d.ppe.Or,n.filters.push(l),t&&"number"==typeof+t&&+t>0&&(l=new d.AO3,l.propertyName="Id",l.value=t,l.searchType=d.J6G.Equal,l.clauseType=d.ppe.Or,n.filters.push(l));const r=o.constructor.name+"categoryService.ServiceGetAll";return o.translate.get("MESSAGE.Receiving_information").subscribe(c=>{o.publicHelper.processService.processStart(r,c,o.constructor.name)}),yield(0,we.z)(o.categoryService.ServiceGetAll(n)).then(c=>(o.dataModelResult=c,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.publicHelper.processService.processStop(r),c.listItems))})()}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe((0,Pe.U)(o=>(o.find(n=>n.id===t.id)||o.push(t),o)))}onActionSelectForce(t){if("string"==typeof t&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===t)){const o=this.dataModelResult.listItems.find(n=>n.id===t);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(t).subscribe({next:o=>{o.isSuccess&&(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item))}})}else{if(typeof t==typeof d.QpZ)return this.filteredOptions=this.push(t),this.dataModelSelect=t,void this.formControl.setValue(t);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new d.QpZ,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(e.Y36(d.FLW),e.Y36(T.sK),e.Y36(e.sBO),e.Y36(C.i),e.Y36(d.eck))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:$a,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,ja,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(r){return n.onActionSelect(r.option.value)}),e.YNc(6,Ka,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,Va,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&o){const l=e.MAs(5);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(1),e.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",n.optionPlaceholder),e.MGl("id","app-cms-site-selector-",n.id,""),e.Q6J("formControl",n.formControl)("matAutocomplete",l),e.uIk("disabled",!!n.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",n.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,n.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[p.sg,p.O5,s.Fj,s.JJ,s.oH,ie.XC,ke.ey,ie.ZL,A.R9,Q.Hw,w.Nt,O.O,p.Ov],encapsulation:2})}return i})();const za=["vform"];function Xa(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",27),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function es(i,a){1&i&&e._UZ(0,"i",34)}function ts(i,a){1&i&&e._UZ(0,"i",35)}function ns(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function os(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",28),e._uU(2),e.qZA(),e.TgZ(3,"input",29,30),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,es,1,0,"i",31),e.YNc(6,ts,1,0,"i",32),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,ns,5,4,"mat-error",33),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessAddField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function is(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-webdesigner-page-selector",36),e.NdJ("optionChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionSelectParent(n))})("optionLoadingChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loading=n)}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("optionLoading",t.loading)("optionDisabled",!(null!=t.fieldsInfo.linkPageParentGuId&&t.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",t.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(1,6,"TITLE.parent_page"))}}function ls(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"h5",39),e._uU(3),e.qZA()(),e.TgZ(4,"div",40)(5,"div",41)(6,"input",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.pageDependencyIsDefaultPage=n)}),e.qZA(),e._UZ(7,"label",43),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.pageDependencyIsDefaultPage?null:t.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.pageDependencyIsDefaultPage)}}function as(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-sitecategory-selector",44),e.NdJ("optionChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionSelectCategory(n))})("optionLoadingChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loading=n)}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("optionLoading",t.loading)("optionSelectForce",t.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",e.lcZ(1,4,"TITLE.Website_Type"))("optionDisabled",!(null!=t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId&&t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function ss(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",45),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeTag(l))}),e._uU(1),e.TgZ(2,"button",46)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t," ")}}function rs(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function cs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",47),e._uU(2),e.qZA(),e.TgZ(3,"textarea",48,49),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"                    "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,rs,5,4,"mat-error",33),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function ds(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",50)(1,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",52),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",53),e._UZ(6,"i",54),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ps=(()=>{class i extends Y.c{data;dialogRef;webDesignerEnumService;webDesignerMainPageService;cmsToastrService;publicHelper;cdr;translate;requestLinkPageDependencyGuId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.RIQ,c,I),this.data=t,this.dialogRef=o,this.webDesignerEnumService=n,this.webDesignerMainPageService=l,this.cmsToastrService=r,this.publicHelper=c,this.cdr=M,this.translate=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),t&&(this.requestLinkPageDependencyGuId=t.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}formGroup;fieldsInfo=new Map;selectFileTypeMainImage=["jpg","jpeg","png"];keywordDataModel=[];fileManagerTree;appLanguage="fa";dataModelResult=new d.y$4;dataModel=new d.RIQ;formInfo=new d.LEF;dataModelEnumPageAbilityTypeResult=new d.y$4;fileManagerOpenForm=!1;ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelectDependency(t){!t||t.id?.length<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear")):this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){!t||t.id?.length<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear")):this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){const t=[];this.keywordDataModel.forEach(o=>{t.push(o.display?o.display:o)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){const o=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(o)}else this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addOnBlurTag=!0;separatorKeysCodes=[ze.K5];addTag(t){const o=(t.value||"").trim();o&&this.keywordDataModel.push(o),t.chipInput.clear()}removeTag(t){const o=this.keywordDataModel.indexOf(t);o>=0&&this.keywordDataModel.splice(o,1)}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.qgh),e.Y36(d.SUF),e.Y36(_.e),e.Y36(C.i),e.Y36(e.sBO),e.Y36(T.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-page-add"]],viewQuery:function(o,n){if(1&o&&e.Gf(za,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:45,vars:43,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionLoading","optionDisabled","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],[3,"optionLoading","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem","optionChange","optionLoadingChange"],[3,"optionLoading","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange","optionLoadingChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["tagInput",""],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["SpecialIdendity",""],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["SpecialUrlParameter",""],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionLoading","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange","optionLoadingChange"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,Xa,1,5,"app-cms-enum-record-status-selector",6),e.YNc(11,os,10,8,"div",7),e.TgZ(12,"app-webdesigner-pagedependency-selector",8),e.NdJ("optionChange",function(r){return n.onActionSelectDependency(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"app-webdesigner-pagetemplate-selector",9),e.NdJ("optionChange",function(r){return n.onActionSelectTemplate(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(15,"translate"),e.qZA(),e.YNc(16,is,2,8,"app-webdesigner-page-selector",10),e.YNc(17,ls,8,2,"div",11),e.YNc(18,as,2,6,"app-cms-sitecategory-selector",12),e.TgZ(19,"mat-form-field",13)(20,"mat-label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"mat-chip-grid",14,15),e.YNc(25,ss,5,1,"mat-chip",16),e.TgZ(26,"input",17,18),e.NdJ("matChipInputTokenEnd",function(r){return n.addTag(r)}),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"div",19)(30,"label",20),e._uU(31),e.qZA(),e.TgZ(32,"input",21,22),e.NdJ("ngModelChange",function(r){return n.dataModel.specialIdendity=r}),e.qZA(),e.TgZ(34,"em"),e._uU(35),e.qZA()(),e.TgZ(36,"div",19)(37,"label",23),e._uU(38),e.qZA(),e.TgZ(39,"input",24,25),e.NdJ("ngModelChange",function(r){return n.dataModel.specialUrlParameter=r}),e.qZA(),e.TgZ(41,"em"),e._uU(42),e.qZA()(),e.YNc(43,cs,9,5,"div",7),e.YNc(44,ds,9,7,"div",26),e.qZA()()()),2&o){const l=e.MAs(24),r=e.MAs(33),c=e.MAs(40);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("optionLoading",n.loading)("optionDisabled",!(null!=n.fieldsInfo.linkPageDependencyGuId&&n.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",n.dataModel.linkPageDependencyGuId)("optionPlaceholder",e.lcZ(13,35,"TITLE.Show_place")),e.xp6(2),e.Q6J("optionLoading",n.loading)("optionDisabled",!(null!=n.fieldsInfo.linkPageTemplateGuId&&n.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",n.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(15,37,"TITLE.Page_template"))("optionSelectFirstItem",!0),e.xp6(2),e.Q6J("ngIf",n.dataModel.linkPageTemplateGuId&&n.dataModel.linkPageTemplateGuId.length>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.pageDependencyIsDefaultPage?null:n.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.dataModel.pageDependencyIsDefaultPage&&(null==n.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId?null:n.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),e.xp6(3),e.Oqu(e.lcZ(22,39,"TITLE.Choose_keywords_relative_to_the_content")),e.xp6(4),e.Q6J("ngForOf",n.keywordDataModel),e.xp6(1),e.Q6J("placeholder",e.lcZ(28,41,"TITLE.key_word"))("matChipInputAddOnBlur",n.addOnBlurTag)("matChipInputFor",l)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),e.xp6(5),e.Oqu(null==n.fieldsInfo.specialIdendity?null:n.fieldsInfo.specialIdendity.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.specialIdendity)("disabled",!(null!=n.fieldsInfo.specialIdendity&&n.fieldsInfo.specialIdendity.accessAddField)),e.xp6(3),e.hij("",r.value.length," / 500"),e.xp6(3),e.Oqu(null==n.fieldsInfo.specialUrlParameter?null:n.fieldsInfo.specialUrlParameter.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.specialUrlParameter)("disabled",!(null!=n.fieldsInfo.specialUrlParameter&&n.fieldsInfo.specialUrlParameter.accessAddField)),e.xp6(3),e.hij("",c.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,ae.HS,ae.RA,ae.oH,ae.qH,A.KE,A.hX,A.TO,Q.Hw,w.Nt,q.t,Xe.z,O.O,Je,et,Fe,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();const us=["vform"];function gs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",31),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ms(i,a){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function fs(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," PageAbilityType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function _s(i,a){1&i&&e._UZ(0,"i",38)}function hs(i,a){1&i&&e._UZ(0,"i",39)}function Ms(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function bs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"label",33),e._uU(2),e.qZA(),e.TgZ(3,"input",34,35),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.title=n)}),e.qZA(),e.YNc(5,_s,1,0,"i",36),e.YNc(6,hs,1,0,"i",37),e.TgZ(7,"em"),e._uU(8),e.qZA(),e.YNc(9,Ms,5,4,"mat-error",12),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.title?null:o.fieldsInfo.title.fieldTitle),e.Q6J("ngModel",o.dataModel.title)("disabled",!(null!=o.fieldsInfo.title&&o.fieldsInfo.title.accessEditField)),e.xp6(2),e.Q6J("ngIf",!t.value),e.xp6(1),e.Q6J("ngIf",t.value),e.xp6(2),e.hij("",t.value.length," / 100"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ss(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-webdesigner-page-selector",40),e.NdJ("optionChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionSelectParent(n))})("optionLoadingChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loading=n)}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("optionDisabled",!(null!=t.fieldsInfo.linkPageParentGuId&&t.fieldsInfo.linkPageParentGuId.accessEditField))("optionLoading",t.loading)("optionSelectForce",t.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",t.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(1,6,"TITLE.parent_page"))}}function Ts(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"h5",43),e._uU(3),e.qZA()(),e.TgZ(4,"div",44)(5,"div",45)(6,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.pageDependencyIsDefaultPage=n)}),e.qZA(),e._UZ(7,"label",47),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.pageDependencyIsDefaultPage?null:t.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.pageDependencyIsDefaultPage)}}function As(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-cms-sitecategory-selector",48),e.NdJ("optionChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onActionSelectCategory(n))})("optionLoadingChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.loading=n)}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("optionLoading",t.loading)("optionSelectForce",t.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",e.lcZ(1,4,"TITLE.Website_Type"))("optionDisabled",!(null!=t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId&&t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function Cs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",49),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeTag(l))}),e._uU(1),e.TgZ(2,"button",50)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Is(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," is "),e.xp6(2),e.Oqu(e.lcZ(4,2,"MESSAGE.required"))}}function vs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"label",51),e._uU(2),e.qZA(),e.TgZ(3,"textarea",52,53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.description=n)}),e._uU(5,"                "),e.qZA(),e.TgZ(6,"em"),e._uU(7),e.qZA(),e.YNc(8,Is,5,4,"mat-error",12),e.qZA()}if(2&i){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Oqu(null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.xp6(1),e.s9C("placeholder",null==o.fieldsInfo.description?null:o.fieldsInfo.description.fieldTitle),e.Q6J("ngModel",o.dataModel.description),e.xp6(4),e.hij("",t.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Ds(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",57),e._UZ(6,"i",58),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){e.oxw();const t=e.MAs(9);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let ys=(()=>{class i extends re.b{data;dialogRef;webDesignerEnumService;webDesignerMainPageService;cmsToastrService;translate;cdr;publicHelper;requestId="";constructor(t,o,n,l,r,c,M,I){super(l,new d.RIQ,I,c),this.data=t,this.dialogRef=o,this.webDesignerEnumService=n,this.webDesignerMainPageService=l,this.cmsToastrService=r,this.translate=c,this.cdr=M,this.publicHelper=I,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(y=>{this.loading.message=y}),t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}formGroup;selectFileTypeMainImage=["jpg","jpeg","png"];keywordDataModel=[];fileManagerTree;appLanguage="fa";dataModel=new d.RIQ;formInfo=new d.LEF;dataModelEnumPageAbilityTypeResult=new d.y$4;fileManagerOpenForm=!1;ngOnInit(){if(!(this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(d.dR.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:o=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModel=o.item,o.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+o.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(o=>{this.publicHelper.processService.processStart(t,o)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=o,o.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(n=>{this.formInfo.formAlert=n}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.publicHelper.processService.processStop(t)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t)}})}onActionSelectParent(t){this.dataModel.linkPageParentGuId=t.id}onActionSelectDependency(t){!t||t.id?.length<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear")):this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){!t||t.id?.length<=0?this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear")):this.dataModel.linkPageTemplateGuId=t.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){const t=[];this.keywordDataModel.forEach(o=>{t.push(o.display?o.display:o)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){const o=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(o)}else this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addOnBlurTag=!0;separatorKeysCodes=[ze.K5];addTag(t){const o=(t.value||"").trim();o&&this.keywordDataModel.push(o),t.chipInput.clear()}removeTag(t){const o=this.keywordDataModel.indexOf(t);o>=0&&this.keywordDataModel.splice(o,1)}static \u0275fac=function(o){return new(o||i)(e.Y36(k.WI),e.Y36(k.so),e.Y36(d.qgh),e.Y36(d.SUF),e.Y36(_.e),e.Y36(T.sK),e.Y36(e.sBO),e.Y36(C.i))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(us,5),2&o){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},features:[e.qOj],decls:53,vars:50,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModel","disabled","ngClass","ngModelChange"],["PageAbilityType","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],[3,"optionDisabled","optionLoading","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange","optionLoadingChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["tagInput",""],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["SpecialIdendity",""],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModel","disabled","ngModelChange"],["SpecialUrlParameter",""],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModel","placeholder","disabled","ngModelChange"],["Title",""],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionDisabled","optionLoading","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange","optionLoadingChange"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionDisabled","optionChange","optionLoadingChange"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModel","placeholder","ngModelChange"],["Description",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.TgZ(2,"div",2)(3,"p",3),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e.YNc(10,gs,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(11,"div",7)(12,"select",8,9),e.NdJ("ngModelChange",function(r){return n.dataModel.pageAbilityType=r}),e.YNc(14,ms,2,2,"option",10),e.qZA(),e.TgZ(15,"em",11),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,fs,5,3,"mat-error",12),e.qZA(),e.YNc(19,bs,10,8,"div",13),e.TgZ(20,"app-webdesigner-pagedependency-selector",14),e.NdJ("optionChange",function(r){return n.onActionSelectDependency(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"app-webdesigner-pagetemplate-selector",14),e.NdJ("optionChange",function(r){return n.onActionSelectTemplate(r)})("optionLoadingChange",function(r){return n.loading=r}),e.ALo(23,"translate"),e.qZA(),e.YNc(24,Ss,2,8,"app-webdesigner-page-selector",15),e.YNc(25,Ts,8,2,"div",16),e.YNc(26,As,2,6,"app-cms-sitecategory-selector",17),e.TgZ(27,"mat-form-field",18)(28,"mat-label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-chip-grid",19,20),e.YNc(33,Cs,5,1,"mat-chip",21),e.TgZ(34,"input",22,23),e.NdJ("matChipInputTokenEnd",function(r){return n.addTag(r)}),e.ALo(36,"translate"),e.qZA()()(),e.TgZ(37,"div",7)(38,"label",24),e._uU(39),e.qZA(),e.TgZ(40,"input",25,26),e.NdJ("ngModelChange",function(r){return n.dataModel.specialIdendity=r}),e.qZA(),e.TgZ(42,"em"),e._uU(43),e.qZA()(),e.TgZ(44,"div",7)(45,"label",27),e._uU(46),e.qZA(),e.TgZ(47,"input",28,29),e.NdJ("ngModelChange",function(r){return n.dataModel.specialUrlParameter=r}),e.qZA(),e.TgZ(49,"em"),e._uU(50),e.qZA()(),e.YNc(51,vs,9,5,"div",13),e.YNc(52,Ds,9,7,"div",30),e.qZA()()()),2&o){const l=e.MAs(13),r=e.MAs(32),c=e.MAs(41),M=e.MAs(48);e.xp6(1),e.Q6J("optionsInfoAreaId",n.constructor.name),e.xp6(3),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.hij(" ",e.lcZ(7,38,"TITLE.Be_Careful_When_Entering_Information")," "),e.xp6(4),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(2),e.MGl("ngClass","cms-RecordStatusEnum-selector-",n.dataModel.recordStatus,""),e.Q6J("ngModel",n.dataModel.pageAbilityType)("disabled",!0),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumPageAbilityTypeResult.listItems),e.xp6(2),e.hij("",e.lcZ(17,40,"TITLE.Select_the_functionality_of_this_content")," "),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.title?null:n.fieldsInfo.title.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!(null!=n.fieldsInfo.linkPageDependencyGuId&&n.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkPageDependencyGuId)("optionPlaceholder",e.lcZ(21,42,"TITLE.Show_place")),e.xp6(2),e.Q6J("optionDisabled",!(null!=n.fieldsInfo.linkPageTemplateGuId&&n.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkPageTemplateGuId)("optionPlaceholder",e.lcZ(23,44,"TITLE.Page_template")),e.xp6(2),e.Q6J("ngIf",n.dataModel.linkPageTemplateGuId&&n.dataModel.linkPageTemplateGuId.length>0),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.pageDependencyIsDefaultPage?null:n.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.dataModel.pageDependencyIsDefaultPage&&(null==n.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId?null:n.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),e.xp6(3),e.Oqu(e.lcZ(30,46,"TITLE.Choose_keywords_relative_to_the_content")),e.xp6(4),e.Q6J("ngForOf",n.keywordDataModel),e.xp6(1),e.Q6J("placeholder",e.lcZ(36,48,"TITLE.key_word"))("matChipInputAddOnBlur",n.addOnBlurTag)("matChipInputFor",r)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes),e.xp6(5),e.Oqu(null==n.fieldsInfo.specialIdendity?null:n.fieldsInfo.specialIdendity.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.specialIdendity)("disabled",!(null!=n.fieldsInfo.specialIdendity&&n.fieldsInfo.specialIdendity.accessEditField)),e.xp6(3),e.hij("",c.value.length," / 500"),e.xp6(3),e.Oqu(null==n.fieldsInfo.specialUrlParameter?null:n.fieldsInfo.specialUrlParameter.fieldTitle),e.xp6(1),e.Q6J("ngModel",n.dataModel.specialUrlParameter)("disabled",!(null!=n.fieldsInfo.specialUrlParameter&&n.fieldsInfo.specialUrlParameter.accessEditField)),e.xp6(3),e.hij("",M.value.length," / 500"),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.description?null:n.fieldsInfo.description.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.mk,p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F,ae.HS,ae.RA,ae.oH,ae.qH,A.KE,A.hX,A.TO,Q.Hw,w.Nt,q.t,Xe.z,O.O,Je,et,Fe,T.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return i})();function Zs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentTemplate())}),e._UZ(1,"i",49),e.qZA()}}function ws(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentDependency())}),e._UZ(1,"i",49),e.qZA()}}function xs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",51)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function Es(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",53)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Ls(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",55)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Rs(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonHtmlViewWithOutParent(n.tableRowSelected))}),e._UZ(2,"i",19)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function Ps(i,a){1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.PICTURE")," "))}function ks(i,a){if(1&i&&e._UZ(0,"img",58),2&i){const t=e.oxw().$implicit;e.s9C("src",t.thumbnailImageSrc,e.LSH)}}function Ns(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e.YNc(1,ks,1,1,"img",57),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.ThumbnailImageSrc?null:t.ThumbnailImageSrc.length)>0)}}function Os(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Gs(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function qs(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Ws=function(i){return{display:i}};function Js(i,a){if(1&i&&e._UZ(0,"select",61),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("contentService",o.contentService)("row",t)("ngStyle",e.VKq(3,Ws,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"":"none"))}}function Fs(i,a){if(1&i&&(e.TgZ(0,"mat-cell",59),e.ALo(1,"statusCellClass"),e._UZ(2,"i",59),e.ALo(3,"statusIconClass"),e.YNc(4,Js,1,5,"select",60),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow)}}function Us(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle," ")}}function Qs(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Ys(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkPageParentGuId?null:t.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Hs(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkPageParentGuId," ")}}function Bs(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkPageDependencyGuId?null:t.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function js(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.linkPageDependencyGuId," ")}}function Ks(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkPageTemplateGuId?null:t.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Vs(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.linkPageTemplateGuId,o.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function $s(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId?null:t.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function zs(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"cmstitle"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.pageDependencyIsDefaultPageLinkSiteCategoryId,o.dataModelCoreSiteCategoryResult.listItems)," ")}}function Xs(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.pageDependencyIsDefaultPage?null:t.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function er(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",59),e.ALo(2,"boolclass"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.pageDependencyIsDefaultPage))}}function tr(i,a){if(1&i&&(e.TgZ(0,"mat-header-cell",56),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.classActionName?null:t.fieldsInfo.classActionName.fieldTitle," ")}}function nr(i,a){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.classActionName," ")}}function or(i,a){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function ir(i,a){if(1&i&&(e.TgZ(0,"mat-cell",62)(1,"button",63)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,64),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function lr(i,a){1&i&&e._UZ(0,"mat-header-row")}const ar=function(i){return{background:i}};function sr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",65),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onActionTableRowSelect(l))}),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("ngStyle",e.VKq(1,ar,t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id)?"#d3d3da":""))}}const rr=function(){return[5,10,20,100]};let De=(()=>{class i extends Se.R{contentService;cmsToastrService;cmsConfirmationDialogService;webDesignerMainPageTemplateService;coreSiteCategoryService;activatedRoute;router;cdr;translate;tokenHelper;pageInfo;publicHelper;dialog;requestLinkPageParentGuId="";requestLinkPageTemplateGuId="";requestLinkPageDependencyGuId="";constructor(t,o,n,l,r,c,M,I,y,W,H,$,Qe){if(super(t,new d.RIQ,$,W,y),this.contentService=t,this.cmsToastrService=o,this.cmsConfirmationDialogService=n,this.webDesignerMainPageTemplateService=l,this.coreSiteCategoryService=r,this.activatedRoute=c,this.router=M,this.cdr=I,this.translate=y,this.tokenHelper=W,this.pageInfo=H,this.publicHelper=$,this.dialog=Qe,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(J=>{this.loading.message=J}),this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:J=>this.onSubmitOptionsSearch(J)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=d.oYR.Descending,this.requestLinkPageTemplateGuId.length>0){const J=new d.AO3;J.propertyName="LinkPageTemplateGuId",J.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(J)}if(this.requestLinkPageDependencyGuId.length>0){const J=new d.AO3;J.propertyName="LinkPageDependencyGuId",J.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(J)}if(this.requestLinkPageParentGuId.length>0){const J=new d.AO3;J.propertyName="LinkPageParentGuId",J.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(J)}}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new d.Hay;dataModelWebDesignerMainPageTemplateResult=new d.y$4;dataModelCoreSiteCategoryResult=new d.y$4;tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId","Action"];expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList(),this.getSiteCategory()}getModuleList(){const t=new d.Hay;t.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(t).subscribe({next:o=>{this.dataModelWebDesignerMainPageTemplateResult=o}})}getSiteCategory(){const t=new d.Hay;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:o=>{this.dataModelCoreSiteCategoryResult=o}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new d.RIQ);const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(t,n,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const o=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(o).subscribe({next:n=>{n.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)),this.publicHelper.processService.processStop(t)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=d.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=d.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(ps,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(n=>{n&&n.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ys,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:G.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var o="",n="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(l=>{o=l["MESSAGE.Please_Confirm"],n=l["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(o,n).then(l=>{if(l){const r=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(r,c,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(r)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(r)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(l=>{this.cmsToastrService.typeErrorSelected(l)})}onActionButtonGoToSiteCategoryList(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])):this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const o=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{o.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{o.set(c,0)});const n=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(n,c)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess&&(o.set("All",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}});const l=JSON.parse(JSON.stringify(this.filteModelContent)),r=new d.AO3;r.propertyName="RecordStatus",r.value=d.Anr.Available,l.filters.push(r),this.contentService.ServiceGetCount(l).subscribe({next:c=>{c.isSuccess&&(o.set("Active",c.totalRowCount),this.optionsStatist.childMethods.setStatistValue(o)),this.publicHelper.processService.processStop(n)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(n)}})}onActionButtonHtmlEditor(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?window.open(t.htmlBuilderUrl,"_blank"):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonHtmlView(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank"):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonSiteRouteView(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.contentService.ServiceWebRoute(t.id).subscribe({next:o=>{o.isSuccess?window.open(o.item,"_blank"):this.cmsToastrService.typeError(o.errorMessage)},error:o=>{this.cmsToastrService.typeError(o)}}):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonHtmlViewWithOutParent(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank"):this.cmsToastrService.typeErrorSelected()):this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}static \u0275fac=function(o){return new(o||i)(e.Y36(d.SUF),e.Y36(_.e),e.Y36(ce.s),e.Y36(d.BeA),e.Y36(d.PwI),e.Y36(R.gz),e.Y36(R.F0),e.Y36(e.sBO),e.Y36(T.sK),e.Y36(te.v),e.Y36(Te.Z),e.Y36(C.i),e.Y36(k.uw))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-page-list-grid"]],features:[e.qOj],decls:93,vars:39,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(o,n){if(1&o){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(c){return n.viewGuideNotice=c})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Zs,2,0,"a",10),e.YNc(17,ws,2,0,"a",10),e.TgZ(18,"a",11),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(19,"i",12),e.qZA(),e.TgZ(20,"a",11),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(21,"i",13),e.qZA()()(),e.BQk(),e.ynx(22,14),e.YNc(23,xs,7,3,"div",15),e.BQk(),e.ynx(24,16),e.YNc(25,Es,7,3,"div",15),e.YNc(26,Ls,7,3,"div",15),e.TgZ(27,"div",17)(28,"a",18),e.NdJ("click",function(){return n.onActionButtonHtmlEditor(n.tableRowSelected)}),e._UZ(29,"i",19)(30,"br"),e.qZA(),e.TgZ(31,"p",20),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"a",18),e.NdJ("click",function(){return n.onActionButtonHtmlView(n.tableRowSelected)}),e._UZ(36,"i",19)(37,"br"),e.qZA(),e.TgZ(38,"p",20),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.YNc(41,Rs,7,3,"div",15),e.TgZ(42,"div",17)(43,"a",18),e.NdJ("click",function(){return n.onActionButtonSiteRouteView(n.tableRowSelected)}),e._UZ(44,"i",21)(45,"br"),e.qZA(),e.TgZ(46,"p",20),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.BQk(),e.ynx(49,22),e.TgZ(50,"app-cms-search-list",23),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(51,"app-cms-statist-list",23),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(52,24),e.TgZ(53,"mat-table",25,26),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(54);return e.KtG(n.onTableSortData(c))}),e.ynx(55,27),e.YNc(56,Ps,3,3,"mat-header-cell",28),e.YNc(57,Ns,2,1,"mat-cell",29),e.BQk(),e.ynx(58,30),e.YNc(59,Os,2,1,"mat-header-cell",28),e.YNc(60,Gs,2,1,"mat-cell",29),e.BQk(),e.ynx(61,31),e.YNc(62,qs,2,1,"mat-header-cell",28),e.YNc(63,Fs,5,7,"mat-cell",32),e.BQk(),e.ynx(64,33),e.YNc(65,Us,2,1,"mat-header-cell",28),e.YNc(66,Qs,2,1,"mat-cell",29),e.BQk(),e.ynx(67,34),e.YNc(68,Ys,2,1,"mat-header-cell",28),e.YNc(69,Hs,2,1,"mat-cell",29),e.BQk(),e.ynx(70,35),e.YNc(71,Bs,2,1,"mat-header-cell",28),e.YNc(72,js,2,1,"mat-cell",29),e.BQk(),e.ynx(73,36),e.YNc(74,Ks,2,1,"mat-header-cell",28),e.YNc(75,Vs,3,4,"mat-cell",29),e.BQk(),e.ynx(76,37),e.YNc(77,$s,2,1,"mat-header-cell",28),e.YNc(78,zs,3,4,"mat-cell",29),e.BQk(),e.ynx(79,38),e.YNc(80,Xs,2,1,"mat-header-cell",28),e.YNc(81,er,3,3,"mat-cell",29),e.BQk(),e.ynx(82,39),e.YNc(83,tr,2,1,"mat-header-cell",28),e.YNc(84,nr,2,1,"mat-cell",29),e.BQk(),e.ynx(85,40),e.YNc(86,or,3,3,"mat-header-cell",41),e.YNc(87,ir,6,1,"mat-cell",42),e.BQk(),e.YNc(88,lr,1,0,"mat-header-row",43),e.YNc(89,sr,1,3,"mat-row",44),e.qZA(),e.BQk(),e.ynx(90,45),e.TgZ(91,"mat-paginator",46,47),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&o&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,28,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,30,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",(null==n.requestLinkPageTemplateGuId?null:n.requestLinkPageTemplateGuId.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.requestLinkPageDependencyGuId?null:n.requestLinkPageDependencyGuId.length)>0),e.xp6(6),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(33,32,"ACTION.PAGE_DESIGN")),e.xp6(7),e.Oqu(e.lcZ(40,34,"ACTION.SHOW_PAGE")),e.xp6(2),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.linkPageParentGuId?null:n.tableRowSelected.linkPageParentGuId.length)>0),e.xp6(6),e.Oqu(e.lcZ(48,36,"ACTION.SHOW_WEB")),e.xp6(3),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(35),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(38,rr)))},dependencies:[p.mk,p.O5,p.PC,s.JJ,s.On,ne.RK,Q.Hw,w.Nt,K.VK,K.p6,de.NW,oe.Rr,z.YE,z.nU,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,pe.y,ue.q,ge.Z,Ae.G,T.X$,Ue.V,me.G,Ie.Y,We.r],encapsulation:2})}return i})();var he=u(1997),cr=u(7529);function dr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentTemplate())}),e._UZ(1,"i",33),e.qZA()}}function pr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParentDependency())}),e._UZ(1,"i",33),e.qZA()}}function ur(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",34),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonNewRow())}),e._UZ(2,"i",35)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.ADD")))}function gr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonEditRow(n.tableRowSelected))}),e._UZ(2,"i",37)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function mr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonDeleteRow(n.tableRowSelected))}),e._UZ(2,"i",39)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function fr(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonHtmlViewWithOutParent(n.tableRowSelected))}),e._UZ(2,"i",19)(3,"br"),e.qZA(),e.TgZ(4,"p",20),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function _r(i,a){if(1&i&&(e.TgZ(0,"div",40)(1,"mat-card",41)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e._UZ(5,"i",42),e.ALo(6,"statusIconClass"),e.qZA(),e.TgZ(7,"mat-card-subtitle"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e._UZ(10,"img",43),e.TgZ(11,"mat-card-content"),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"cmstitle"),e._UZ(15,"br"),e._uU(16),e.ALo(17,"translate"),e.ALo(18,"cmstitle"),e._UZ(19,"br"),e._uU(20),e.ALo(21,"translate"),e._UZ(22,"i",42),e.ALo(23,"boolclass"),e.TgZ(24,"p"),e._uU(25),e.qZA()(),e.TgZ(26,"mat-card-actions")(27,"button",44)(28,"mat-icon"),e._uU(29,"more_vert"),e.qZA()(),e._UZ(30,"mat-menu",null,45),e.qZA()()()),2&i){const t=a.$implicit,o=e.MAs(31),n=e.oxw();e.xp6(4),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngClass",e.lcZ(6,13,t.recordStatus)),e.xp6(3),e.AsE(" ",e.lcZ(9,15,"TITLE.Id"),": ",t.id,""),e.xp6(2),e.s9C("src",t.thumbnailImageSrc,e.LSH),e.xp6(2),e.AsE(" ",e.lcZ(13,17,"Template title")," : ",e.xi3(14,19,t.linkPageTemplateGuId,n.dataModelWebDesignerMainPageTemplateResult.listItems)," "),e.xp6(4),e.AsE(" ",e.lcZ(17,22,"TITLE.Default_template_classification_system")," : ",e.xi3(18,24,t.pageDependencyIsDefaultPageLinkSiteCategoryId,n.dataModelCoreSiteCategoryResult.listItems)," "),e.xp6(4),e.hij(" ",e.lcZ(21,27,"TITLE.System_default")," : "),e.xp6(2),e.Q6J("ngClass",e.lcZ(23,29,t.pageDependencyIsDefaultPage)),e.xp6(3),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("matMenuTriggerFor",o)}}const hr=function(){return[5,10,20,100]};let Ne=(()=>{class i extends De{static \u0275fac=function(){let t;return function(n){return(t||(t=e.n5z(i)))(n||i)}}();static \u0275cmp=e.Xpm({type:i,selectors:[["app-webdesigner-page-list"]],features:[e.qOj],decls:61,vars:39,consts:[[3,"optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle","optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"options"],["class","col-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"]],template:function(o,n){1&o&&(e.TgZ(0,"app-cms-html-list",0),e.NdJ("optionActionGuideNoticeDisplayChange",function(r){return n.viewGuideNotice=r})("optionOnActionButtonMemoRow",function(){return n.onActionButtonMemoRow()})("optionOnActionButtonMemo",function(){return n.onActionButtonMemo()})("optionOnActionButtonExport",function(){return n.onActionButtonExport()})("optionOnActionButtonPrintRow",function(){return n.onActionButtonPrintRow()}),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(r){return n.optionsSearch.data.show=r}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionButtonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,dr,2,0,"a",10),e.YNc(17,pr,2,0,"a",10),e.TgZ(18,"a",11),e.NdJ("click",function(){return n.viewGuideNotice=!n.viewGuideNotice}),e._UZ(19,"i",12),e.qZA(),e.TgZ(20,"a",11),e.NdJ("click",function(){return n.onActionButtonReload()}),e._UZ(21,"i",13),e.qZA()()(),e.BQk(),e.ynx(22,14),e.YNc(23,ur,7,3,"div",15),e.BQk(),e.ynx(24,16),e.YNc(25,gr,7,3,"div",15),e.YNc(26,mr,7,3,"div",15),e.TgZ(27,"div",17)(28,"a",18),e.NdJ("click",function(){return n.onActionButtonHtmlEditor(n.tableRowSelected)}),e._UZ(29,"i",19)(30,"br"),e.qZA(),e.TgZ(31,"p",20),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"a",18),e.NdJ("click",function(){return n.onActionButtonHtmlView(n.tableRowSelected)}),e._UZ(36,"i",19)(37,"br"),e.qZA(),e.TgZ(38,"p",20),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.YNc(41,fr,7,3,"div",15),e.TgZ(42,"div",17)(43,"a",18),e.NdJ("click",function(){return n.onActionButtonSiteRouteView(n.tableRowSelected)}),e._UZ(44,"i",21)(45,"br"),e.qZA(),e.TgZ(46,"p",20),e._uU(47),e.ALo(48,"translate"),e.qZA()(),e.BQk(),e.ynx(49,22),e.TgZ(50,"app-cms-search-list",23),e.NdJ("optionsChange",function(r){return n.optionsSearch=r}),e.qZA(),e.TgZ(51,"app-cms-statist-list",23),e.NdJ("optionsChange",function(r){return n.optionsStatist=r}),e.qZA(),e.BQk(),e.ynx(52,24),e.TgZ(53,"div",25)(54,"div",26),e._UZ(55,"cms-progress-spinner",27),e.TgZ(56,"div",25),e.YNc(57,_r,32,31,"div",28),e.qZA()()(),e.BQk(),e.ynx(58,29),e.TgZ(59,"mat-paginator",30,31),e.NdJ("page",function(r){return n.onTablePageingData(r)}),e.qZA(),e.BQk(),e.qZA()),2&o&&(e.Q6J("optionGuideNoticeKey","")("optionActionGuideNoticeDisplay",n.viewGuideNotice)("optionLoading",n.loading)("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",null==n.tableRowSelected?null:n.tableRowSelected.id)("optionActionRowDisplayMenu",n.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.title),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,28,"ACTION.SEARCH")," "),e.xp6(4),e.hij(" ",e.lcZ(14,30,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",(null==n.requestLinkPageTemplateGuId?null:n.requestLinkPageTemplateGuId.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.requestLinkPageDependencyGuId?null:n.requestLinkPageDependencyGuId.length)>0),e.xp6(6),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessAddRow),e.xp6(2),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",null==n.dataModelResult||null==n.dataModelResult.access?null:n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(33,32,"ACTION.PAGE_DESIGN")),e.xp6(7),e.Oqu(e.lcZ(40,34,"ACTION.SHOW_PAGE")),e.xp6(2),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.linkPageParentGuId?null:n.tableRowSelected.linkPageParentGuId.length)>0),e.xp6(6),e.Oqu(e.lcZ(48,36,"ACTION.SHOW_WEB")),e.xp6(3),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(4),e.Q6J("options",n.loading),e.xp6(2),e.Q6J("ngForOf",n.dataModelResult.listItems),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(38,hr)))},dependencies:[p.mk,p.sg,p.O5,s.JJ,s.On,ne.RK,he.a8,he.hq,he.dn,he.dk,he.G2,he.$j,he.n5,Q.Hw,K.VK,K.p6,de.NW,oe.Rr,pe.y,ue.q,cr.I,ge.Z,T.X$,Ue.V,me.G,We.r],encapsulation:2})}return i})();const Mr=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["app-web-designer"]],decls:1,vars:0,template:function(o,n){1&o&&e._UZ(0,"router-outlet")},dependencies:[R.lC],encapsulation:2})}return i})(),data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>Promise.all([u.e(8592),u.e(14)]).then(u.bind(u,14)).then(i=>i.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:He,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:He,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:ye,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:ye,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:St,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Ti,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Yn,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:Ba,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Wl,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Ne,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Ne,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Ne,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Ne,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:De,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:De,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:De,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:De,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}];let br=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[R.Bz.forChild(Mr),R.Bz]})}return i})();var Sr=u(7360);let Tr=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({providers:[d.EAm,d.FLW,d.Z8z,ce.s,d.dF2,d.PwI,d.VqD,d.UIH,d.zef,d.KQH,d.SUF,d.eck,d.BeA,d.cW6,d.qgh],imports:[p.ez,br,s.u5,s.UX.withConfig({warnOnNgModelWithFormControl:"never"}),x.m,L.UM,Q.Ps,A.lN,P.T5,_e.v3,qe.FR,ve._t,Sr.CoreModuleModule,X.wK]})}return i})()},9084:(Me,B,u)=>{u.d(B,{Y:()=>R});var p=u(7241),s=u(7969),L=u(4537),x=u(4511);let R=(()=>{class d{service;constructor(e){this.service=e}transform(e){return!e||e<=0?new p.y:this.service.ServiceGetOneById(e,1e6).pipe((0,s.U)(C=>{var _="";return C.isSuccess&&(C.item.title&&C.item.title.length>0&&(_=C.item.title),C.item.id&&C.item.id>0&&(_.length>0&&(_+=" | "),_+=C.item.id),C.item.domain&&C.item.domain.length>0&&C.item.subDomain&&C.item.subDomain.length>0?(_.length>0&&(_+=" | "),_=_+C.item.subDomain+"."+C.item.domain):C.item.domain&&C.item.domain.length>0&&(_.length>0&&(_+=" | "),_+=C.item.domain)),0===_.length&&(_=e.toString()),_},C=>e.toString()))}static \u0275fac=function(C){return new(C||d)(L.Y36(x._0e,16))};static \u0275pipe=L.Yjl({name:"cmssiteinfo",type:d,pure:!0})}return d})()},9654:(Me,B,u)=>{u.d(B,{B:()=>s});var p=u(4537);let s=(()=>{class L{transform(R,d){if(!d||0===d.length)return"";const Y=d.find(e=>e.key===R||e.value===R);return Y?Y.description:""}static \u0275fac=function(d){return new(d||L)};static \u0275pipe=p.Yjl({name:"enums",type:L,pure:!0})}return L})()},9835:(Me,B,u)=>{u.d(B,{v:()=>X});var p=u(4537),s=u(8692),L=u(6707);let x=(()=>{class b{transform(v,E){if(!v)return[];let F=Object.keys(v);return F=F.filter(V=>V&&V.length>0&&V.toLowerCase().indexOf("antiinjection")<0),E&&E.size>0&&(F=F.filter(V=>V&&V.length>0&&E.has(V))),F}static \u0275fac=function(E){return new(E||b)};static \u0275pipe=p.Yjl({name:"listkeys",type:b,pure:!0})}return b})();function R(b,N){1&b&&(p.TgZ(0,"div",6)(1,"div",7),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"div",7),p._uU(5),p.ALo(6,"translate"),p.qZA(),p._UZ(7,"div",8),p.qZA()),2&b&&(p.xp6(2),p.Oqu(p.lcZ(3,2,"TITLE.parameter")),p.xp6(3),p.Oqu(p.lcZ(6,4,"TITLE.Values")))}function d(b,N){if(1&b&&(p.TgZ(0,"div",9)(1,"div",7),p._uU(2),p.qZA(),p.TgZ(3,"div",7),p._uU(4),p.qZA(),p._UZ(5,"div",10),p.qZA()),2&b){const v=N.$implicit,E=p.oxw(2);p.xp6(2),p.Oqu(E.optionFields&&E.optionFields.size>0?E.optionFields.get(v):v),p.xp6(2),p.Oqu(E.dataModel[v])}}function Y(b,N){if(1&b&&(p.TgZ(0,"div",3),p.YNc(1,R,8,6,"div",4),p.YNc(2,d,6,2,"div",5),p.ALo(3,"listkeys"),p.qZA()),2&b){const v=p.oxw();p.xp6(1),p.Q6J("ngIf",v.optionViewHead),p.xp6(1),p.Q6J("ngForOf",p.xi3(3,2,v.dataModel,v.optionFields))}}function e(b,N){if(1&b&&(p.TgZ(0,"div",7),p._uU(1),p.qZA()),2&b){const v=N.$implicit,E=p.oxw(3);p.xp6(1),p.Oqu(E.optionFields&&E.optionFields.size>0?E.optionFields.get(v):v)}}function C(b,N){if(1&b&&(p.TgZ(0,"div",6),p.YNc(1,e,2,1,"div",11),p.ALo(2,"listkeys"),p._UZ(3,"div",8),p.qZA()),2&b){const v=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",p.xi3(2,1,v.dataModel[0],v.optionFields))}}function _(b,N){if(1&b&&(p.TgZ(0,"div",7),p._uU(1),p.qZA()),2&b){const v=N.$implicit,E=p.oxw().$implicit;p.xp6(1),p.Oqu(E[v])}}function T(b,N){if(1&b&&(p.TgZ(0,"div",9),p.YNc(1,_,2,1,"div",11),p.ALo(2,"listkeys"),p._UZ(3,"div",10),p.qZA()),2&b){const v=N.$implicit,E=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",p.xi3(2,1,v,E.optionFields))}}function A(b,N){if(1&b&&(p.TgZ(0,"div",3),p.YNc(1,C,4,4,"div",4),p.YNc(2,T,4,4,"div",5),p.qZA()),2&b){const v=p.oxw();p.xp6(1),p.Q6J("ngIf",v.optionViewHead),p.xp6(1),p.Q6J("ngForOf",v.dataModel)}}function w(b,N){if(1&b&&(p.TgZ(0,"div",7),p._uU(1),p.qZA()),2&b){const v=N.$implicit,E=p.oxw(3);p.xp6(1),p.Oqu(E.optionFields&&E.optionFields.size>0?E.optionFields.get(v):v)}}function P(b,N){if(1&b&&(p.TgZ(0,"div",6),p.YNc(1,w,2,1,"div",11),p.ALo(2,"listkeys"),p._UZ(3,"div",8),p.qZA()),2&b){const v=p.oxw(2);p.xp6(1),p.Q6J("ngForOf",p.xi3(2,1,v.dataModel[0],v.optionFields))}}function q(b,N){if(1&b&&(p.TgZ(0,"div",7),p._uU(1),p.qZA()),2&b){const v=N.$implicit,E=p.oxw(2);p.xp6(1),p.Oqu(E.dataModel[v])}}function O(b,N){if(1&b&&(p.TgZ(0,"div",3),p.YNc(1,P,4,4,"div",4),p.TgZ(2,"div",9),p.YNc(3,q,2,1,"div",11),p.ALo(4,"listkeys"),p._UZ(5,"div",10),p.qZA()()),2&b){const v=p.oxw();p.xp6(1),p.Q6J("ngIf",v.optionViewHead),p.xp6(2),p.Q6J("ngForOf",p.xi3(4,2,v.dataModel,v.optionFields))}}let X=(()=>{class b{static nextId=0;id=++b.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(E){return new(E||b)};static \u0275cmp=p.Xpm({type:b,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:5,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(E,F){1&E&&(p.TgZ(0,"div",0)(1,"div",1),p.YNc(2,Y,4,5,"div",2),p.YNc(3,A,3,2,"div",2),p.YNc(4,O,6,5,"div",2),p.qZA()()),2&E&&(p.xp6(2),p.Q6J("ngIf",1===F.optionMethod&&F.dataModel),p.xp6(1),p.Q6J("ngIf",2===F.optionMethod&&F.dataModel),p.xp6(1),p.Q6J("ngIf",3===F.optionMethod&&F.dataModel))},dependencies:[s.sg,s.O5,L.X$,x],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return b})()},7529:(Me,B,u)=>{u.d(B,{I:()=>C});var p=u(4537),s=u(8832),L=u(8692),x=u(8697);const R=["progressSpinnerRef"];function d(_,T){if(1&_&&(p.TgZ(0,"ul",5)(1,"li")(2,"span",6),p._UZ(3,"i",7),p.qZA(),p._uU(4),p.qZA()()),2&_){const A=T.$implicit;p.xp6(3),p.Q6J("ngClass",A.value.inRun?"fas fa-spinner fa-pulse":"fas fa-check-square"),p.xp6(1),p.hij("",A.value.title," ")}}function Y(_,T){if(1&_&&(p._UZ(0,"mat-progress-spinner",3)(1,"br"),p.TgZ(2,"div"),p._uU(3),p._UZ(4,"br"),p.YNc(5,d,5,2,"ul",4),p.ALo(6,"keyvalue"),p.qZA()),2&_){const A=p.oxw();p.Q6J("color",A.optionsData.color)("diameter",A.optionsData.diameter)("mode",A.optionsData.mode)("strokeWidth",A.optionsData.strokeWidth)("value",A.optionsData.value),p.xp6(3),p.hij("",A.optionsData.message," "),p.xp6(2),p.Q6J("ngForOf",p.lcZ(6,7,A.optionsData.processInfoAll))}}function e(_,T){if(1&_&&(p.TgZ(0,"div",8),p._UZ(1,"mat-progress-spinner",3)(2,"br"),p.TgZ(3,"div"),p._uU(4),p.qZA()()),2&_){const A=p.oxw();p.xp6(1),p.Q6J("color",A.optionsData.color)("diameter",A.optionsData.diameter)("mode",A.optionsData.mode)("strokeWidth",A.optionsData.strokeWidth)("value",A.optionsData.value),p.xp6(3),p.Oqu(A.optionsData.message)}}let C=(()=>{class _{vcRef;overlayService;static nextId=0;id=++_.nextId;set options(A){this.optionsData=A}get options(){return this.optionsData}optionsData;progressSpinnerRef;progressSpinnerOverlayConfig;overlayRef;constructor(A,w){this.vcRef=A,this.overlayService=w}ngOnInit(){!this.optionsData||!this.optionsData.Globally||(this.progressSpinnerOverlayConfig={hasBackdrop:this.optionsData.backdropEnabled},this.optionsData.positionGloballyCenter&&(this.progressSpinnerOverlayConfig.positionStrategy=this.overlayService.positionGloballyCenter()),this.overlayRef=this.overlayService.createOverlay(this.progressSpinnerOverlayConfig))}ngDoCheck(){!this.optionsData||!this.optionsData.Globally||(this.optionsData.display&&!this.overlayRef.hasAttached()?(this.overlayService.attachTemplatePortal(this.overlayRef,this.progressSpinnerRef,this.vcRef),this.optionsData&&this.optionsData.cdr&&this.optionsData.cdr.detectChanges()):!this.optionsData.display&&this.overlayRef.hasAttached()&&this.overlayRef.detach())}static \u0275fac=function(w){return new(w||_)(p.Y36(p.s_b),p.Y36(s.F))};static \u0275cmp=p.Xpm({type:_,selectors:[["cms-progress-spinner"]],viewQuery:function(w,P){if(1&w&&p.Gf(R,7),2&w){let q;p.iGM(q=p.CRH())&&(P.progressSpinnerRef=q.first)}},inputs:{options:"options"},decls:3,vars:1,consts:[["class","message"],["progressSpinnerRef",""],["class","message",4,"ngIf"],[3,"color","diameter","mode","strokeWidth","value"],["class","fa-ul",4,"ngFor","ngForOf"],[1,"fa-ul"],[1,"fa-li"],[3,"ngClass"],[1,"message"]],template:function(w,P){1&w&&(p.YNc(0,Y,7,9,"ng-template",0,1,p.W1O),p.YNc(2,e,5,6,"div",2)),2&w&&(p.xp6(2),p.Q6J("ngIf",!P.optionsData.Globally&&P.optionsData.display))},dependencies:[L.mk,L.sg,L.O5,x.Ou,L.Nd],styles:[".message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:49%;left:44%}"]})}return _})()},5631:(Me,B,u)=>{u.d(B,{z:()=>Ce});var p=u(8239),s=u(4537),L=u(92),x=u(4511),R=u(7445),d=u(1927),Y=u(3151),e=u(2147),C=u(1528),_=u(7969),T=u(656),A=u(4032),w=u(6707),P=u(8692),q=u(1637),O=u(1379),X=u(8659),b=u(3331),N=u(9665),v=u(5738);function E(U,se){if(1&U&&(s.TgZ(0,"label",8),s._uU(1),s.qZA()),2&U){const S=s.oxw();s.MGl("for","app-cms-site-selector-",S.id,""),s.xp6(1),s.Oqu(S.optionLabel)}}function F(U,se){if(1&U&&(s.TgZ(0,"mat-option",9)(1,"span"),s._uU(2),s.qZA()()),2&U){const S=se.$implicit,g=s.oxw();s.Q6J("value",S)("disabled",g.optionDisabled),s.xp6(2),s.Oqu(g.displayOption(S))}}function V(U,se){if(1&U){const S=s.EpF();s.TgZ(0,"mat-icon",10),s.NdJ("click",function(){s.CHM(S);const Z=s.oxw();return s.KtG(Z.onActionSelectClear())}),s._uU(1,"close"),s.qZA()}}const be=["*"];let Ce=(()=>{class U{coreEnumService;cdr;publicHelper;translate;categoryService;static nextId=0;id=++U.nextId;constructor(S,g,Z,f,m){this.coreEnumService=S,this.cdr=g,this.publicHelper=Z,this.translate=f,this.categoryService=m,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(D=>{this.loading.message=D})}dataModelResult=new x.y$4;dataModelSelect=new x.MCb;loading=new T.O;get optionLoading(){return this.loading}set optionLoading(S){this.loading=S}formControl=new L.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new s.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(S){this.onActionSelectForce(S)}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,d.O)(""),(0,Y.b)(1500),(0,e.x)(),(0,C.w)(S=>this.DataGetAll("string"==typeof S||"number"==typeof S?S:"")))}displayFn(S){return S?S.title:void 0}displayOption(S){return S?S.title:void 0}DataGetAll(S){var g=this;return(0,p.Z)(function*(){const Z=new x.Hay;if(Z.rowPerPage=20,Z.accessLoad=!0,S&&S.length>0){let m=new x.AO3;m=new x.AO3,m.propertyName="SubDomain",m.value=S,m.searchType=x.J6G.Contains,m.clauseType=x.ppe.Or,Z.filters.push(m),m=new x.AO3,m.propertyName="Domain",m.value=S,m.searchType=x.J6G.Contains,m.clauseType=x.ppe.Or,Z.filters.push(m),m=new x.AO3,m.propertyName="Title",m.value=S,m.searchType=x.J6G.Contains,m.clauseType=x.ppe.Or,Z.filters.push(m),S&&"number"==typeof+S&&+S>0&&(m=new x.AO3,m.propertyName="Id",m.value=S,m.searchType=x.J6G.Equal,m.clauseType=x.ppe.Or,Z.filters.push(m))}const f=g.constructor.name+"main";return g.translate.get("MESSAGE.Receiving_information").subscribe(m=>{g.publicHelper.processService.processStart(f,m,g.constructor.name)}),yield(0,R.z)(g.categoryService.ServiceGetAll(Z)).then(m=>(g.dataModelResult=m,g.optionSelectFirstItem&&(!g.dataModelSelect||!g.dataModelSelect.id||g.dataModelSelect.id<=0)&&g.dataModelResult.listItems.length>0&&(g.optionSelectFirstItem=!1,setTimeout(()=>{g.formControl.setValue(g.dataModelResult.listItems[0])},1e3),g.onActionSelect(g.dataModelResult.listItems[0])),g.publicHelper.processService.processStop(f),m.listItems))})()}onActionSelect(S){this.optionDisabled||(this.dataModelSelect=S,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(S){return this.filteredOptions.pipe((0,_.U)(g=>(g.find(Z=>Z.id===S.id)||g.push(S),g)))}onActionSelectForce(S){if("number"==typeof S&&S>0){if(this.dataModelSelect&&this.dataModelSelect.id===S)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(g=>g.id===S)){const g=this.dataModelResult.listItems.find(Z=>Z.id===S);return this.dataModelSelect=g,void this.formControl.setValue(g)}this.categoryService.ServiceGetOneById(S).subscribe({next:g=>{g.isSuccess&&(this.filteredOptions=this.push(g.item),this.dataModelSelect=g.item,this.formControl.setValue(g.item),this.optionChange.emit(g.item))}})}else{if(typeof S==typeof x.MCb)return this.filteredOptions=this.push(S),this.dataModelSelect=S,void this.formControl.setValue(S);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new x.MCb,this.loadOptions()}static \u0275fac=function(g){return new(g||U)(s.Y36(x.FLW),s.Y36(s.sBO),s.Y36(A.i),s.Y36(w.sK),s.Y36(x.PwI))};static \u0275cmp=s.Xpm({type:U,selectors:[["app-cms-sitecategory-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:be,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(g,Z){if(1&g&&(s.F$t(),s.TgZ(0,"div",0),s._UZ(1,"app-progress-spinner",1),s.YNc(2,E,2,2,"label",2),s._UZ(3,"input",3),s.TgZ(4,"mat-autocomplete",4,5),s.NdJ("optionSelected",function(m){return Z.onActionSelect(m.option.value)}),s.YNc(6,F,3,3,"mat-option",6),s.ALo(7,"async"),s.qZA(),s.YNc(8,V,2,0,"mat-icon",7),s.Hsn(9),s.qZA()),2&g){const f=s.MAs(5);s.xp6(1),s.Q6J("optionsInfoAreaId",Z.constructor.name),s.xp6(1),s.Q6J("ngIf",(null==Z.optionLabel?null:Z.optionLabel.length)>0),s.xp6(1),s.s9C("placeholder",Z.optionPlaceholder),s.MGl("id","app-cms-site-selector-",Z.id,""),s.Q6J("formControl",Z.formControl)("matAutocomplete",f),s.uIk("disabled",!!Z.optionDisabled||null),s.xp6(1),s.Q6J("displayWith",Z.displayFn),s.xp6(2),s.Q6J("ngForOf",s.lcZ(7,10,Z.filteredOptions)),s.xp6(2),s.Q6J("ngIf",null==Z.dataModelSelect?null:Z.dataModelSelect.id)}},dependencies:[P.sg,P.O5,L.Fj,L.JJ,L.oH,q.XC,O.ey,q.ZL,X.R9,b.Hw,N.Nt,v.O,P.Ov],encapsulation:2})}return U})()}}]);