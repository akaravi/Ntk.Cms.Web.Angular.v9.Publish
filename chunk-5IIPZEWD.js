import{b as pn,c as un,d as fn,e as Zn}from"./chunk-MOCB3DMG.js";import{a as ki}from"./chunk-CARLNGNE.js";import{a as kt}from"./chunk-NPPX2JZQ.js";import{a as Xe}from"./chunk-F5EN44AO.js";import{a as Tt}from"./chunk-BRMVS3UD.js";import{b as so}from"./chunk-FZRIMTB7.js";import{a as Mn}from"./chunk-UO2EWDRH.js";import{$ as ye,$b as at,Ab as N,Ac as Hi,B as pi,Bc as qi,Bd as Et,Cb as Q,Cc as ji,Dc as Ui,E as Pt,Ec as zi,F as Ot,G as Nt,Ha as Xn,Id as yt,J as X,Jc as jt,K as _e,Kc as yi,L as he,Ld as Sn,Mb as Si,N as zn,Na as Gt,Nb as Mi,O as Qn,Oa as ce,Ob as Ci,Od as lo,Pa as me,Qa as We,Rb as no,Sc as Se,Uc as It,Vc as ro,Wa as Ce,Xa as Yn,Za as j,_c as vt,ac as lt,ad as Ti,ba as mn,bb as ui,bc as st,ca as Ft,cb as fi,cc as dt,db as gi,dc as ct,ea as Kn,ec as mt,fc as bi,gc as Ii,gd as Li,hc as vi,ic as wi,jc as Ei,jd as Ae,kc as oo,lc as pt,m as ci,mc as ut,nc as ft,o as Vt,oc as gt,p as K,pa as G,pc as _t,pd as wt,qa as H,qc as ht,rc as St,s as q,sb as Je,sc as Mt,t as ve,tb as io,tc as Ct,td as ao,ub as Pe,uc as bt,v as we,va as Ge,vb as O,w as mi,wc as Ni,x as z,xb as hn,xc as Fi,y as Ee,yc as Gi,z as Ve,zb as rt,zc as Wi}from"./chunk-JW2D2QPI.js";import{a as re}from"./chunk-APBBKJ6G.js";import{$g as He,Aa as Ue,Ab as Dt,Bd as ue,Db as ee,Dc as Bt,Eb as te,Fb as ie,Fc as Oe,Fd as Te,Ia as J,Ib as R,Je as eo,Kb as c,Kd as Qe,L as oi,La as r,Lb as v,Lc as Un,Ld as U,Ma as I,Mb as M,Nb as De,O as ri,Ob as qn,Od as le,Pd as ke,Qb as y,Qd as ne,Rb as T,Sb as k,Vb as Be,Vd as oe,W as ai,Wb as je,X as li,Yb as _,Za as $,Zb as h,Zd as $n,_b as jn,_g as to,ab as C,ah as Ht,bb as et,bh as Qt,cb as p,ch as Kt,da as sn,db as cn,dh as nt,eb as pe,eh as Di,fd as ze,fh as qt,g as ti,gc as F,gd as Jn,gh as _i,hd as Ne,hh as hi,ih as ot,ja as P,jh as Bi,ka as dn,kd as kn,lb as a,mb as l,nb as b,ob as x,oh as Xt,pb as L,ph as xt,qb as Re,qh as Yt,ra as f,rb as E,rd as it,rh as Ke,sa as g,sh as Vi,th as Lt,u as ii,ub as w,uh as Pi,v as ni,vh as Rt,wb as u,wd as Wt,wh as Zt,xb as si,xc as tt,xh as Oi,yb as di,yc as Fe,yh as gn,zb as A,zc as W,zd as Ze,zh as _n}from"./chunk-XKQYEJGP.js";var co=(()=>{let s=class s{constructor(){}ngOnInit(){}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement"]],decls:1,vars:0,template:function(t,e){t&1&&b(0,"router-outlet")},dependencies:[Jn],encapsulation:2});let n=s;return n})();var jo=["*"];function Uo(n,s){if(n&1&&(a(0,"label",8),c(1),l()),n&2){let o=u();Dt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function zo(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,i=u();p("value",o)("disabled",i.optionDisabled),r(2),v(i.displayOption(o))}}function Qo(n,s){if(n&1){let o=E();a(0,"mat-icon",10),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),c(1,"close"),l()}}var Cn=(()=>{let s=class s{constructor(i,t,e,m,S,d){this.coreEnumService=i,this.cmsToastrService=t,this.translate=e,this.cdr=m,this.publicHelper=S,this.categoryService=d,this.id=++s.nextId,this.dataModelResult=new U,this.dataModelSelect=new xt,this.formControl=new mi,this.optionDisabled=!1,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ai(""),oi(1500),ri(),li(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.id+"":void 0}displayOption(i){return i?i.id+"":void 0}DataGetAll(i){return ti(this,null,function*(){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=i,e.searchType=Wt.Contains,e.clauseType=it.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new le,e.propertyName="Id",e.value=i,e.searchType=Wt.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructor.name)}),yield ii(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ni(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof xt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new xt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(I(oe),I(O),I(G),I(F),I(N),I(Ht))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-selector"]],inputs:{optionDisabled:"optionDisabled",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:jo,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let m=E();si(),a(0,"div",1),b(1,"app-progress-spinner",2),C(2,Uo,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),w("optionSelected",function(d){return f(m),g(e.onActionSelect(d.option.value))}),C(6,zo,3,3,"mat-option",6),_(7,"async"),l(),C(8,Qo,2,0,"mat-icon",7),di(9),l()}if(t&2){let m=R(5);r(),p("optionsInfoAreaId",e.constructor.name),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Dt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",h(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,W,K,q,pi,Mi,ci,Ci,Ft,Ce,j,Q,Oe],encapsulation:2});let n=s;return n})();var Ko=["vform"];function Jo(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",39),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xo(n,s){if(n&1&&(a(0,"option",40),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Yo(n,s){n&1&&(a(0,"mat-error"),c(1," AccountingType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Zo(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function $o(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",41),c(2),l(),a(3,"textarea",42,9),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"           "),l(),a(6,"em"),c(7),l(),C(8,Zo,5,4,"mat-error",20),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function er(n,s){n&1&&b(0,"i",43)}function tr(n,s){n&1&&b(0,"i",44)}function ir(n,s){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function nr(n,s){n&1&&b(0,"i",43)}function or(n,s){n&1&&b(0,"i",44)}function rr(n,s){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function ar(n,s){n&1&&(a(0,"mat-error"),c(1," FishNumber is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function lr(n,s){n&1&&(a(0,"mat-error"),c(1," TokenNumber is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function sr(n,s){n&1&&(a(0,"mat-error"),c(1," ReceiptCode is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function dr(n,s){if(n&1){let o=E();a(0,"div",45)(1,"button",46),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",47),c(3),_(4,"translate"),l(),a(5,"button",48),b(6,"i",49),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var po=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B,V){super(m,new Xt,D,V),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=d,this.publicHelper=D,this.cdr=B,this.translate=V,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new Xt,this.formInfo=new ne,this.dataModelEnumSharingAccountingTypeResult=new U,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess(),this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(i=>{this.dataModelEnumSharingAccountingTypeResult=i})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccount(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Account_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementAccountingId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(Qt),I(He),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-add"]],viewQuery:function(t,e){if(t&1&&ee(Ko,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:75,vars:56,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",10),b(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",14,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,Jo,1,5,"app-cms-enum-record-status-selector",15),a(11,"app-linkmanagement-accounting-selector",16),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorAccount(d))}),l(),a(13,"div",17)(14,"select",18,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.accountingType,d)||(e.dataModel.accountingType=d),g(d)}),C(16,Xo,2,2,"option",19),l(),a(17,"em"),c(18),_(19,"translate"),l(),C(20,Yo,5,3,"mat-error",20),l(),C(21,$o,9,5,"div",21),a(22,"div",17)(23,"label",22),c(24),l(),a(25,"input",23,2),_(27,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.debtor,d)||(e.dataModel.debtor=d),g(d)}),l(),C(28,er,1,0,"i",24)(29,tr,1,0,"i",25)(30,ir,5,3,"mat-error",20),l(),a(31,"div",17)(32,"label",26),c(33),l(),a(34,"input",27,3),_(36,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.creditor,d)||(e.dataModel.creditor=d),g(d)}),l(),C(37,nr,1,0,"i",24)(38,or,1,0,"i",25)(39,rr,5,3,"mat-error",20),l(),a(40,"div",17)(41,"label",28),c(42),l(),a(43,"input",29,4),k("ngModelChange",function(d){return f(m),T(e.dataModel.linkExternalShopInvoiceSaleDetailId,d)||(e.dataModel.linkExternalShopInvoiceSaleDetailId=d),g(d)}),l()(),a(45,"div",17)(46,"label",30),c(47),l(),a(48,"input",31,5),k("ngModelChange",function(d){return f(m),T(e.dataModel.rowNumber,d)||(e.dataModel.rowNumber=d),g(d)}),l()(),a(50,"div",17)(51,"label",32),c(52),l(),a(53,"input",33,6),k("ngModelChange",function(d){return f(m),T(e.dataModel.fishNumber,d)||(e.dataModel.fishNumber=d),g(d)}),l(),a(55,"em"),c(56),l(),C(57,ar,5,3,"mat-error",20),l(),a(58,"div",17)(59,"label",34),c(60),l(),a(61,"input",35,7),k("ngModelChange",function(d){return f(m),T(e.dataModel.tokenNumber,d)||(e.dataModel.tokenNumber=d),g(d)}),l(),a(63,"em"),c(64),l(),C(65,lr,5,3,"mat-error",20),l(),a(66,"div",17)(67,"label",36),c(68),l(),a(69,"input",37,8),k("ngModelChange",function(d){return f(m),T(e.dataModel.receiptCode,d)||(e.dataModel.receiptCode=d),g(d)}),l(),a(71,"em"),c(72),l(),C(73,sr,5,3,"mat-error",20),l(),C(74,dr,9,7,"div",38),l()()()}if(t&2){let m=R(15),S=R(26),d=R(35),D=R(54),B=R(62),V=R(70);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkManagementAccountingId!=null&&e.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",e.dataModel.linkManagementAccountingId)("optionPlaceholder",h(12,48,"TITLE.Account")),r(3),y("ngModel",e.dataModel.accountingType),r(2),p("ngForOf",e.dataModelEnumSharingAccountingTypeResult.listItems),r(2),v(h(19,50,"TITLE.Select_type_of_content")),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",h(27,52,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",h(36,54,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!d.value),r(),p("ngIf",d.value),r(),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),y("ngModel",e.dataModel.linkExternalShopInvoiceSaleDetailId),r(4),v(e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),y("ngModel",e.dataModel.rowNumber),r(4),v(e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),y("ngModel",e.dataModel.fishNumber),r(3),M("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),y("ngModel",e.dataModel.tokenNumber),r(3),M("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),y("ngModel",e.dataModel.receiptCode),r(3),M("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Pt,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Cn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var cr=["vform"];function mr(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function pr(n,s){if(n&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(2,"i",12),c(3),_(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(6,"i",14),c(7),_(8,"translate"),l()()}if(n&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(4,3,"ACTION.DELETE")," "),r(4),M(" ",h(8,5,"ACTION.CANCEL")," ")}}var uo=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.linkManagementAccountingDetailService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultContent=new U,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementAccountingDetailService.setAccessLoad(),this.linkManagementAccountingDetailService.setAccessDataType(Te.Editor),this.linkManagementAccountingDetailService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementAccountingDetailService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(Qt),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-delete"]],viewQuery:function(t,e){if(t&1&&ee(cr,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,mr,6,3,"ng-container",5)(10,pr,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,z,j,Q,H],encapsulation:2});let n=s;return n})();var ur=["vform"];function fr(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",39),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gr(n,s){if(n&1&&(a(0,"option",40),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function _r(n,s){n&1&&(a(0,"mat-error"),c(1," AccountingType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function hr(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Sr(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",41),c(2),l(),a(3,"textarea",42,9),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"         "),l(),a(6,"em"),c(7),l(),C(8,hr,5,4,"mat-error",20),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Mr(n,s){n&1&&b(0,"i",43)}function Cr(n,s){n&1&&b(0,"i",44)}function br(n,s){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ir(n,s){n&1&&b(0,"i",43)}function vr(n,s){n&1&&b(0,"i",44)}function wr(n,s){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Er(n,s){n&1&&(a(0,"mat-error"),c(1," FishNumber is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function yr(n,s){n&1&&(a(0,"mat-error"),c(1," TokenNumber is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Tr(n,s){n&1&&(a(0,"mat-error"),c(1," ReceiptCode is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function kr(n,s){if(n&1){let o=E();a(0,"div",45)(1,"button",46),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",47),c(3),_(4,"translate"),l(),a(5,"button",48),b(6,"i",49),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var fo=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B,V){super(m,new Xt,D,V),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.linkManagementEnumService=d,this.publicHelper=D,this.cdr=B,this.translate=V,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Xt,this.formInfo=new ne,this.dataModelEnumSharingAccountingTypeResult=new U,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingAccountingType()}getEnumSharingAccountingType(){this.linkManagementEnumService.ServiceSharingAccountingTypeEnum().subscribe(i=>{this.dataModelEnumSharingAccountingTypeResult=i})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorAccount(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Account_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementAccountingId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(Qt),I(O),I(He),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-detail-edit"]],viewQuery:function(t,e){if(t&1&&ee(ur,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:75,vars:56,consts:[["vform","ngForm"],["AccountingType","ngModel"],["Debtor",""],["Creditor",""],["LinkExternalShopInvoiceSaleDetailId",""],["RowNumber",""],["FishNumber",""],["TokenNumber",""],["ReceiptCode",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accountingType","name","dataModel.accountingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkExternalShopInvoiceSaleDetailId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkExternalShopInvoiceSaleDetailId","id","dataModel.linkExternalShopInvoiceSaleDetailId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.rowNumber",1,"color-highlight"],["matInput","","type","number","name","dataModel.rowNumber","id","dataModel.rowNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fishNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fishNumber","minlength","3","maxlength","100","required","","id","dataModel.fishNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.tokenNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenNumber","minlength","3","maxlength","100","required","","id","dataModel.tokenNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.receiptCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.receiptCode","minlength","3","maxlength","100","required","","id","dataModel.receiptCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",10),b(1,"app-progress-spinner",11),a(2,"div",12)(3,"p",13),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",14,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,fr,1,5,"app-cms-enum-record-status-selector",15),a(11,"app-linkmanagement-accounting-selector",16),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorAccount(d))}),l(),a(13,"div",17)(14,"select",18,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.accountingType,d)||(e.dataModel.accountingType=d),g(d)}),C(16,gr,2,2,"option",19),l(),a(17,"em"),c(18),_(19,"translate"),l(),C(20,_r,5,3,"mat-error",20),l(),C(21,Sr,9,5,"div",21),a(22,"div",17)(23,"label",22),c(24),l(),a(25,"input",23,2),_(27,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.debtor,d)||(e.dataModel.debtor=d),g(d)}),l(),C(28,Mr,1,0,"i",24)(29,Cr,1,0,"i",25)(30,br,5,3,"mat-error",20),l(),a(31,"div",17)(32,"label",26),c(33),l(),a(34,"input",27,3),_(36,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.creditor,d)||(e.dataModel.creditor=d),g(d)}),l(),C(37,Ir,1,0,"i",24)(38,vr,1,0,"i",25)(39,wr,5,3,"mat-error",20),l(),a(40,"div",17)(41,"label",28),c(42),l(),a(43,"input",29,4),k("ngModelChange",function(d){return f(m),T(e.dataModel.linkExternalShopInvoiceSaleDetailId,d)||(e.dataModel.linkExternalShopInvoiceSaleDetailId=d),g(d)}),l()(),a(45,"div",17)(46,"label",30),c(47),l(),a(48,"input",31,5),k("ngModelChange",function(d){return f(m),T(e.dataModel.rowNumber,d)||(e.dataModel.rowNumber=d),g(d)}),l()(),a(50,"div",17)(51,"label",32),c(52),l(),a(53,"input",33,6),k("ngModelChange",function(d){return f(m),T(e.dataModel.fishNumber,d)||(e.dataModel.fishNumber=d),g(d)}),l(),a(55,"em"),c(56),l(),C(57,Er,5,3,"mat-error",20),l(),a(58,"div",17)(59,"label",34),c(60),l(),a(61,"input",35,7),k("ngModelChange",function(d){return f(m),T(e.dataModel.tokenNumber,d)||(e.dataModel.tokenNumber=d),g(d)}),l(),a(63,"em"),c(64),l(),C(65,yr,5,3,"mat-error",20),l(),a(66,"div",17)(67,"label",36),c(68),l(),a(69,"input",37,8),k("ngModelChange",function(d){return f(m),T(e.dataModel.receiptCode,d)||(e.dataModel.receiptCode=d),g(d)}),l(),a(71,"em"),c(72),l(),C(73,Tr,5,3,"mat-error",20),l(),C(74,kr,9,7,"div",38),l()()()}if(t&2){let m=R(15),S=R(26),d=R(35),D=R(54),B=R(62),V=R(70);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,46,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkManagementAccountingId!=null&&e.fieldsInfo.linkManagementAccountingId.accessAddField))("optionSelectForce",e.dataModel.linkManagementAccountingId)("optionPlaceholder",h(12,48,"TITLE.Account")),r(3),y("ngModel",e.dataModel.accountingType),r(2),p("ngForOf",e.dataModelEnumSharingAccountingTypeResult.listItems),r(2),v(h(19,50,"TITLE.Select_type_of_content")),r(2),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",h(27,52,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",h(36,54,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!d.value),r(),p("ngIf",d.value),r(),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkExternalShopInvoiceSaleDetailId==null?null:e.fieldsInfo.linkExternalShopInvoiceSaleDetailId.fieldTitle),y("ngModel",e.dataModel.linkExternalShopInvoiceSaleDetailId),r(4),v(e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.rowNumber==null?null:e.fieldsInfo.rowNumber.fieldTitle),y("ngModel",e.dataModel.rowNumber),r(4),v(e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.fishNumber==null?null:e.fieldsInfo.fishNumber.fieldTitle),y("ngModel",e.dataModel.fishNumber),r(3),M("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),r(),A("placeholder",e.fieldsInfo.tokenNumber==null?null:e.fieldsInfo.tokenNumber.fieldTitle),y("ngModel",e.dataModel.tokenNumber),r(3),M("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),r(),A("placeholder",e.fieldsInfo.receiptCode==null?null:e.fieldsInfo.receiptCode.fieldTitle),y("ngModel",e.dataModel.receiptCode),r(3),M("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Pt,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Cn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Ar=()=>["expandedTitle"],xr=()=>["expandedDetail"],Lr=()=>[5,10,20,100],go=n=>({display:n});function Rr(n,s){if(n&1){let o=E();a(0,"div",43)(1,"a",44),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),l(),a(4,"p",46),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function Dr(n,s){if(n&1){let o=E();a(0,"div",43)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",46),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Br(n,s){if(n&1){let o=E();a(0,"div",43)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),a(4,"p",46),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Vr(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.MENU")," "))}function Pr(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",51),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),b(2,"i",52),l()()}}function Or(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Nr(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function Fr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Gr(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function Wr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Hr(n,s){if(n&1&&b(0,"select",56),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,go,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function qr(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",54),_(2,"statusIconClass"),C(3,Hr,1,5,"select",55),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function jr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ur(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function zr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Qr(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function Kr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle," ")}}function Jr(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.debtor," ")}}function Xr(n,s){if(n&1&&(a(0,"mat-header-cell",53),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle," ")}}function Yr(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.creditor," ")}}function Zr(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function $r(n,s){if(n&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function ea(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.title," ")}}function ta(n,s){if(n&1&&(b(0,"img",63),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function ia(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function na(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,ta,2,3,"img",59),l(),a(6,"th"),c(7),a(8,"span",60),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),b(9,"i",61),l()()(),C(10,ia,4,2,"tr",62),a(11,"tr"),b(12,"td")(13,"td"),l()()()()}if(n&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),M(" ",o.id," "),r(),p("cdkCopyToClipboard",o.id),r(2),p("ngIf",o.description)}}function oa(n,s){n&1&&b(0,"mat-header-row")}function ra(n,s){if(n&1){let o=E();a(0,"mat-row",64),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function aa(n,s){if(n&1){let o=E();a(0,"mat-row",64),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function la(n,s){if(n&1){let o=E();a(0,"mat-row",65),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,go,o.expanded===!0?"":"none"))}}var Rn=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V,Z){if(super(i,new Xt,V,S,d),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.router=m,this.tokenHelper=S,this.translate=d,this.cdr=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Z,this.requestLinkManagementAccountingId=0,this.filteModelContent=new ke,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CreatedDate","UpdatedDate","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementAccountingId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementAccountingId")),this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkManagementAccountingId>0){let Y=new le;Y.propertyName="LinkManagementAccountingId",Y.value=this.requestLinkManagementAccountingId,this.filteModelContent.filters.push(Y)}}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){let i=new Gt;i.height="90%",i.disableClose=!0,i.autoFocus=!0,i.data={},this.dialog.open(po,i).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(uo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(I(Qt),I(O),I(ze),I(Ne),I(Pe),I(G),I(F),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-AccountingDetail-list"]],features:[$],decls:69,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),c(2," ---------------------- "),L(),Re(3,5),x(4,6),a(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),_(10,"translate"),l(),a(11,"a",9)(12,"mat-slide-toggle",11),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),_(14,"translate"),l()(),a(15,"div",12)(16,"a",13),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(17,"i",14),l(),a(18,"a",13),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(19,"i",15),l()()(),L(),x(20,16),C(21,Rr,7,3,"div",17),L(),x(22,18),C(23,Dr,7,3,"div",17)(24,Br,7,3,"div",17),L(),x(25,19),a(26,"app-cms-search-list",20),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(27,"app-cms-statist-list",20),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(28,21),a(29,"mat-table",22,0),w("matSortChange",function(){f(m);let d=R(30);return g(e.onTableSortData(d))}),x(31,23),C(32,Vr,3,3,"mat-header-cell",24)(33,Pr,3,0,"mat-cell",25),L(),x(34,26),C(35,Or,2,1,"mat-header-cell",27)(36,Nr,2,1,"mat-cell",25),L(),x(37,28),C(38,Fr,2,1,"mat-header-cell",27)(39,Gr,4,5,"mat-cell",25),L(),x(40,29),C(41,Wr,2,1,"mat-header-cell",27)(42,qr,4,4,"mat-cell",25),L(),x(43,30),C(44,jr,2,1,"mat-header-cell",27)(45,Ur,2,1,"mat-cell",25),L(),x(46,31),C(47,zr,2,1,"mat-header-cell",27)(48,Qr,2,1,"mat-cell",25),L(),x(49,32),C(50,Kr,2,1,"mat-header-cell",27)(51,Jr,2,1,"mat-cell",25),L(),x(52,33),C(53,Xr,2,1,"mat-header-cell",27)(54,Yr,2,1,"mat-cell",25),L(),x(55,34),C(56,Zr,3,3,"mat-header-cell",24)(57,$r,6,1,"mat-cell",35),L(),x(58,36),C(59,ea,2,1,"mat-cell",25),L(),x(60,37),C(61,na,14,4,"mat-cell",25),L(),C(62,oa,1,0,"mat-header-row",38)(63,ra,1,6,"mat-row",39)(64,aa,1,6,"mat-row",39)(65,la,1,9,"mat-row",40),l(),L(),x(66,41),a(67,"mat-paginator",42,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),y("ngModel",e.optionsSearch.data.show),r(),M("",h(10,26,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M(" ",h(14,28,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(33),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(30,Ar)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(31,xr)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(32,Lr)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Si,Et,yt,wt,jt,Oe,H,It,Se,vt],encapsulation:2});let n=s;return n})();var sa=["*"];function da(n,s){if(n&1&&(a(0,"label",8),c(1),l()),n&2){let o=u();Dt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function ca(n,s){if(n&1&&(a(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,i=u();p("value",o),r(2),v(i.displayOption(o))}}function ma(n,s){if(n&1){let o=E();a(0,"mat-icon",10),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),c(1,"close"),l()}}var Ai=(()=>{let s=class s{constructor(i,t,e,m,S,d){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.categoryService=d,this.id=++s.nextId,this.dataModelResult=new U,this.dataModelSelect=new Lt,this.formControl=new mi,this.optionPlaceholder="",this.optionLabel="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ai(""),oi(1500),ri(),li(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.id+"":void 0}displayOption(i){return i?i.id+"":void 0}DataGetAll(i){return ti(this,null,function*(){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=i,e.searchType=Wt.Contains,e.clauseType=it.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new le,e.propertyName="Id",e.value=i,e.searchType=Wt.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructor.name)}),yield ii(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ni(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Lt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Lt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(I(oe),I(O),I(F),I(N),I(G),I(qt))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:sa,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let m=E();si(),a(0,"div",1),b(1,"app-progress-spinner",2),C(2,da,2,3,"label",3),b(3,"input",4),a(4,"mat-autocomplete",5,0),w("optionSelected",function(d){return f(m),g(e.onActionSelect(d.option.value))}),C(6,ca,3,2,"mat-option",6),_(7,"async"),l(),C(8,ma,2,0,"mat-icon",7),di(9),l()}if(t&2){let m=R(5);r(),p("optionsInfoAreaId",e.constructor.name),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Dt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",h(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,W,K,q,pi,Mi,ci,Ci,Ft,Ce,j,Q,Oe],encapsulation:2});let n=s;return n})();var pa=["vform"];function ua(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",28),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fa(n,s){if(n&1){let o=E();a(0,"div",29)(1,"div",30)(2,"h5",31),c(3),l()(),a(4,"div",32)(5,"div",33)(6,"input",34),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isCertainDocument,t)||(e.dataModel.isCertainDocument=t),g(t)}),l(),b(7,"label",35),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isCertainDocument==null?null:o.fieldsInfo.isCertainDocument.fieldTitle,""),r(3),y("ngModel",o.dataModel.isCertainDocument)}}function ga(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function _a(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",36),c(2),l(),a(3,"textarea",37,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"             "),l(),a(6,"em"),c(7),l(),C(8,ga,5,4,"mat-error",20),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function ha(n,s){n&1&&b(0,"i",38)}function Sa(n,s){n&1&&b(0,"i",39)}function Ma(n,s){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ca(n,s){n&1&&b(0,"i",38)}function ba(n,s){n&1&&b(0,"i",39)}function Ia(n,s){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function va(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",40),c(2),l(),a(3,"input",41),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.endDate,t)||(e.dataModel.endDate=t),g(t)}),l(),b(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),l()}if(n&2){let o=R(6),i=u();r(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),r(),p("matDatepicker",o),y("ngModel",i.dataModel.endDate),r(),p("for",o)}}function wa(n,s){if(n&1){let o=E();a(0,"div",42)(1,"button",43),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",44),c(3),_(4,"translate"),l(),a(5,"button",45),b(6,"i",46),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var _o=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B){super(m,new xt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new xt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorSelectLinkManagementMemberId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementMemberId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(Ht),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-add"]],viewQuery:function(t,e){if(t&1&&ee(pa,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:42,vars:34,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",10,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,ua,1,5,"app-cms-enum-record-status-selector",11),a(11,"app-linkmanagement-member-selector",12),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(d))}),l(),C(13,fa,8,2,"div",13)(14,_a,9,5,"div",14),a(15,"div",15)(16,"label",16),c(17),l(),a(18,"input",17,1),_(20,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.debtor,d)||(e.dataModel.debtor=d),g(d)}),l(),C(21,ha,1,0,"i",18)(22,Sa,1,0,"i",19)(23,Ma,5,3,"mat-error",20),l(),a(24,"div",15)(25,"label",21),c(26),l(),a(27,"input",22,2),_(29,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.creditor,d)||(e.dataModel.creditor=d),g(d)}),l(),C(30,Ca,1,0,"i",18)(31,ba,1,0,"i",19)(32,Ia,5,3,"mat-error",20),l(),a(33,"div",15)(34,"label",23),c(35),l(),a(36,"input",24),k("ngModelChange",function(d){return f(m),T(e.dataModel.beginDate,d)||(e.dataModel.beginDate=d),g(d)}),l(),b(37,"mat-datepicker-toggle",25)(38,"mat-datepicker",26,3),l(),C(40,va,7,4,"div",14)(41,wa,9,7,"div",27),l()()()}if(t&2){let m=R(19),S=R(28),d=R(39);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",h(12,28,"TITLE.User_Account")),r(2),p("ngIf",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",h(20,30,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",h(29,32,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.beginDate==null?null:e.fieldsInfo.beginDate.fieldTitle),r(),p("matDatepicker",d),y("ngModel",e.dataModel.beginDate),r(),p("for",d),r(3),p("ngIf",e.fieldsInfo.endDate==null?null:e.fieldsInfo.endDate.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,Ve,Vt,q,ve,X,_e,he,z,we,ui,fi,gi,ye,Ft,j,Ae,Q,Ai,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Ea=["vform"];function ya(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function Ta(n,s){if(n&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(2,"i",12),c(3),_(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(6,"i",14),c(7),_(8,"translate"),l()()}if(n&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(4,3,"ACTION.DELETE")," "),r(4),M(" ",h(8,5,"ACTION.CANCEL")," ")}}var ho=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.linkManagementAccountingService=m,this.cdr=S,this.cmsToastrService=d,this.translate=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultContent=new U,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementAccountingService.setAccessLoad(),this.linkManagementAccountingService.setAccessDataType(Te.Editor),this.linkManagementAccountingService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementAccountingService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(Ht),I(F),I(O),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-delete"]],viewQuery:function(t,e){if(t&1&&ee(Ea,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,ya,6,3,"ng-container",5)(10,Ta,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,z,j,Q,H],encapsulation:2});let n=s;return n})();var ka=["vform"];function Aa(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",28),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xa(n,s){if(n&1){let o=E();a(0,"div",29)(1,"div",30)(2,"h5",31),c(3),l()(),a(4,"div",32)(5,"div",33)(6,"input",34),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isCertainDocument,t)||(e.dataModel.isCertainDocument=t),g(t)}),l(),b(7,"label",35),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isCertainDocument==null?null:o.fieldsInfo.isCertainDocument.fieldTitle,""),r(3),y("ngModel",o.dataModel.isCertainDocument)}}function La(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Ra(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",36),c(2),l(),a(3,"textarea",37,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"              "),l(),a(6,"em"),c(7),l(),C(8,La,5,4,"mat-error",20),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Da(n,s){n&1&&b(0,"i",38)}function Ba(n,s){n&1&&b(0,"i",39)}function Va(n,s){n&1&&(a(0,"mat-error"),c(1," Debtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Pa(n,s){n&1&&b(0,"i",38)}function Oa(n,s){n&1&&b(0,"i",39)}function Na(n,s){n&1&&(a(0,"mat-error"),c(1," Creditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Fa(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",40),c(2),l(),a(3,"input",41),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.endDate,t)||(e.dataModel.endDate=t),g(t)}),l(),b(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",26,5),l()}if(n&2){let o=R(6),i=u();r(2),v(i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle),r(),p("matDatepicker",o),y("ngModel",i.dataModel.endDate),r(),p("for",o)}}function Ga(n,s){if(n&1){let o=E();a(0,"div",42)(1,"button",43),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",44),c(3),_(4,"translate"),l(),a(5,"button",45),b(6,"i",46),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var So=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B){super(m,new xt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new xt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorSelectLinkManagementMemberId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementMemberId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(Ht),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-edit"]],viewQuery:function(t,e){if(t&1&&ee(ka,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:42,vars:34,consts:[["vform","ngForm"],["Debtor",""],["Creditor",""],["BeginDate",""],["Description",""],["EndDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","minlength","0","required","","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","minlength","0","required","","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.beginDate",1,"color-highlight"],["matInput","","name","dataModel.beginDate","id","dataModel.beginDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isCertainDocument",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isCertainDocument","name","dataModel.isCertainDocument",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isCertainDocument",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.endDate",1,"color-highlight"],["matInput","","name","dataModel.endDate","id","dataModel.endDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",6),b(1,"app-progress-spinner",7),a(2,"div",8)(3,"p",9),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",10,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,Aa,1,5,"app-cms-enum-record-status-selector",11),a(11,"app-linkmanagement-member-selector",12),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(d))}),l(),C(13,xa,8,2,"div",13)(14,Ra,9,5,"div",14),a(15,"div",15)(16,"label",16),c(17),l(),a(18,"input",17,1),_(20,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.debtor,d)||(e.dataModel.debtor=d),g(d)}),l(),C(21,Da,1,0,"i",18)(22,Ba,1,0,"i",19)(23,Va,5,3,"mat-error",20),l(),a(24,"div",15)(25,"label",21),c(26),l(),a(27,"input",22,2),_(29,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.creditor,d)||(e.dataModel.creditor=d),g(d)}),l(),C(30,Pa,1,0,"i",18)(31,Oa,1,0,"i",19)(32,Na,5,3,"mat-error",20),l(),a(33,"div",15)(34,"label",23),c(35),l(),a(36,"input",24),k("ngModelChange",function(d){return f(m),T(e.dataModel.beginDate,d)||(e.dataModel.beginDate=d),g(d)}),l(),b(37,"mat-datepicker-toggle",25)(38,"mat-datepicker",26,3),l(),C(40,Fa,7,4,"div",14)(41,Ga,9,7,"div",27),l()()()}if(t&2){let m=R(19),S=R(28),d=R(39);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",h(12,28,"TITLE.User_Account")),r(2),p("ngIf",e.fieldsInfo.isCertainDocument==null?null:e.fieldsInfo.isCertainDocument.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.fieldTitle),r(),A("placeholder",h(20,30,"TITLE.Debtor_Credit")),y("ngModel",e.dataModel.debtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.fieldTitle),r(),A("placeholder",h(29,32,"TITLE.Creditor_Credit")),y("ngModel",e.dataModel.creditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.beginDate==null?null:e.fieldsInfo.beginDate.fieldTitle),r(),p("matDatepicker",d),y("ngModel",e.dataModel.beginDate),r(),p("for",d),r(3),p("ngIf",e.fieldsInfo.endDate==null?null:e.fieldsInfo.endDate.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,Ve,Vt,q,ve,X,_e,he,z,we,ui,fi,gi,ye,Ft,j,Ae,Q,Ai,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Wa=()=>["expandedTitle"],Ha=()=>["expandedDetail"],qa=()=>[5,10,20,100],Mo=n=>({display:n});function ja(n,s){if(n&1){let o=E();a(0,"div",19)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",50)(3,"br"),l(),a(4,"p",22),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function Ua(n,s){if(n&1){let o=E();a(0,"div",19)(1,"a",13),w("click",function(){f(o);let t=u();return g(t.onActionButtonAccountingDetail())}),b(2,"i",23)(3,"br"),l(),a(4,"p",22),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DETAILS")))}function za(n,s){if(n&1){let o=E();a(0,"div",19)(1,"a",51),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",52)(3,"br"),l(),a(4,"p",22),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Qa(n,s){if(n&1){let o=E();a(0,"div",19)(1,"a",53),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",54)(3,"br"),l(),a(4,"p",22),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Ka(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.MENU")," "))}function Ja(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",55),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),b(2,"i",56),l()()}}function Xa(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ya(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function Za(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function $a(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function el(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function tl(n,s){if(n&1&&b(0,"select",60),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,Mo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function il(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",58),_(2,"statusIconClass"),C(3,tl,1,5,"select",59),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function nl(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkManagementMemberId==null?null:o.fieldsInfo.linkManagementMemberId.fieldTitle," ")}}function ol(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.linkManagementMemberId," ")}}function rl(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function al(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function ll(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function sl(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function dl(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle," ")}}function cl(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.debtor," ")}}function ml(n,s){if(n&1&&(a(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle," ")}}function pl(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.creditor," ")}}function ul(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function fl(n,s){if(n&1&&(a(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function gl(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),b(3,"br"),c(4),_(5,"translate"),l()),n&2){let o=s.$implicit,i=u();r(),De(" ",h(2,4,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDate(o.createdDate)," "),r(3),De(" ",h(5,6,"TITLE.DateOfUpdate")," : ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function _l(n,s){if(n&1&&(b(0,"img",67),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function hl(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function Sl(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De(" ",i.fieldsInfo.beginDate==null?null:i.fieldsInfo.beginDate.fieldTitle," : ",i.publicHelper.LocaleDate(o.beginDate)," ")}}function Ml(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De(" ",i.fieldsInfo.endDate==null?null:i.fieldsInfo.endDate.fieldTitle," : ",i.publicHelper.LocaleDate(o.endDate)," ")}}function Cl(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,_l,2,3,"img",63),l(),a(6,"th")(7,"span",64),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),b(8,"i",65),l(),c(9),l()(),C(10,hl,4,2,"tr",66)(11,Sl,4,2,"tr",66)(12,Ml,4,2,"tr",66),a(13,"tr"),b(14,"td")(15,"td"),l()()()()}if(n&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",o.id),r(2),M(" ",o.id," "),r(),p("ngIf",o.description),r(),p("ngIf",o.beginDate),r(),p("ngIf",o.endDate)}}function bl(n,s){n&1&&b(0,"mat-header-row")}function Il(n,s){if(n&1){let o=E();a(0,"mat-row",68),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function vl(n,s){if(n&1){let o=E();a(0,"mat-row",68),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function wl(n,s){if(n&1){let o=E();a(0,"mat-row",69),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Mo,o.expanded===!0?"":"none"))}}var Co=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V){super(i,new xt,B,m,d),this.contentService=i,this.cmsToastrService=t,this.router=e,this.tokenHelper=m,this.cdr=S,this.translate=d,this.pageInfo=D,this.publicHelper=B,this.dialog=V,this.filteModelContent=new ke,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkManagementMemberId","Debtor","Creditor","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){let i=new Gt;i.height="90%",i.disableClose=!0,i.autoFocus=!0,i.data={},this.dialog.open(_o,i).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(So,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionButtonAccountingDetail(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["/linkmanagement/accountingdetail/LinkManagementAccountingId",this.tableRowSelected.id])}};s.\u0275fac=function(t){return new(t||s)(I(Ht),I(O),I(Ne),I(Pe),I(F),I(G),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-accounting-list"]],features:[$],decls:87,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-chart-simple","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-memo-circle-info","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","LinkManagementMemberId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Debtor"],["matColumnDef","Creditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),c(2," ---------------------- "),L(),Re(3,5),x(4,6),a(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),_(10,"translate"),l(),a(11,"a",9)(12,"mat-slide-toggle",11),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),_(14,"translate"),l()(),a(15,"div",12)(16,"a",13),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(17,"i",14),l(),a(18,"a",13),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(19,"i",15),l()()(),L(),x(20,16),C(21,ja,7,3,"div",17)(22,Ua,7,3,"div",17),L(),x(23,18),C(24,za,7,3,"div",17)(25,Qa,7,3,"div",17),a(26,"div",19)(27,"a",20),w("click",function(){return f(m),g(e.onActionButtonComment(e.tableRowSelected))}),b(28,"i",21)(29,"br"),l(),a(30,"p",22),c(31),_(32,"translate"),l()(),a(33,"div",19)(34,"a",20),w("click",function(){return f(m),g(e.onActionButtonAccountingDetail(e.tableRowSelected))}),b(35,"i",23)(36,"br"),l(),a(37,"p",22),c(38),_(39,"translate"),l()(),L(),x(40,24),a(41,"app-cms-search-list",25),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(42,"app-cms-statist-list",25),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(43,26),a(44,"mat-table",27,0),w("matSortChange",function(){f(m);let d=R(45);return g(e.onTableSortData(d))}),x(46,28),C(47,Ka,3,3,"mat-header-cell",29)(48,Ja,3,0,"mat-cell",30),L(),x(49,31),C(50,Xa,2,1,"mat-header-cell",32)(51,Ya,2,1,"mat-cell",30),L(),x(52,33),C(53,Za,2,1,"mat-header-cell",32)(54,$a,4,5,"mat-cell",30),L(),x(55,34),C(56,el,2,1,"mat-header-cell",32)(57,il,4,4,"mat-cell",30),L(),x(58,35),C(59,nl,2,1,"mat-header-cell",32)(60,ol,2,1,"mat-cell",30),L(),x(61,36),C(62,rl,2,1,"mat-header-cell",32)(63,al,2,1,"mat-cell",30),L(),x(64,37),C(65,ll,2,1,"mat-header-cell",32)(66,sl,2,1,"mat-cell",30),L(),x(67,38),C(68,dl,2,1,"mat-header-cell",32)(69,cl,2,1,"mat-cell",30),L(),x(70,39),C(71,ml,2,1,"mat-header-cell",32)(72,pl,2,1,"mat-cell",30),L(),x(73,40),C(74,ul,3,3,"mat-header-cell",29)(75,fl,6,1,"mat-cell",41),L(),x(76,42),C(77,gl,6,8,"mat-cell",30),L(),x(78,43),C(79,Cl,16,6,"mat-cell",30),L(),C(80,bl,1,0,"mat-header-row",44)(81,Il,1,6,"mat-row",45)(82,vl,1,6,"mat-row",45)(83,wl,1,9,"mat-row",46),l(),L(),x(84,47),a(85,"mat-paginator",48,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),y("ngModel",e.optionsSearch.data.show),r(),M("",h(10,29,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M(" ",h(14,31,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(h(32,33,"ACTION.STATIST")),r(7),v(h(39,35,"ACTION.DETAILS")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(37,Wa)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(38,Ha)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(39,qa)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Si,Et,yt,wt,jt,Oe,H,It,Se,vt],encapsulation:2});let n=s;return n})();var El=["vform"];function yl(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",41),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tl(n,s){n&1&&b(0,"i",42)}function kl(n,s){n&1&&b(0,"i",43)}function Al(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function xl(n,s){if(n&1&&(a(0,"option",44),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Ll(n,s){n&1&&(a(0,"mat-error"),c(1," SettingType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Rl(n,s){if(n&1&&(a(0,"option",44),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Dl(n,s){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Bl(n,s){n&1&&b(0,"i",42)}function Vl(n,s){n&1&&b(0,"i",43)}function Pl(n,s){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ol(n,s){n&1&&b(0,"i",42)}function Nl(n,s){n&1&&b(0,"i",43)}function Fl(n,s){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Gl(n,s){n&1&&b(0,"i",42)}function Wl(n,s){n&1&&b(0,"i",43)}function Hl(n,s){n&1&&(a(0,"mat-error"),c(1," Width is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function ql(n,s){n&1&&b(0,"i",42)}function jl(n,s){n&1&&b(0,"i",43)}function Ul(n,s){n&1&&(a(0,"mat-error"),c(1," Height is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function zl(n,s){n&1&&(a(0,"mat-error"),c(1," PatternScript is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ql(n,s){if(n&1&&(b(0,"img",45),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function Kl(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",46),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",47,9),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),r(2),A("placeholder",h(6,13,"TITLE.ID_OF_BANNER_PHOTO_FILE")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Jl(n,s){if(n&1&&(b(0,"img",45),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkBackgroundIdSrc),J)}}function Xl(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",50,10),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkBackgroundId,t)||(e.dataModel.linkBackgroundId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkBackgroundId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.BANNER_BACKGROUND")),r(2),A("placeholder",h(6,13,"TITLE.ID_OF_BANNER_BACKGROUND_FILE")),y("ngModel",o.dataModel.linkBackgroundId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Yl(n,s){if(n&1){let o=E();a(0,"div",51)(1,"button",52),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",53),c(3),_(4,"translate"),l(),a(5,"button",54),b(6,"i",55),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var In=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B,V){super(m,new Ke,D,V),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=d,this.publicHelper=D,this.cdr=B,this.translate=V,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new Ke,this.formInfo=new ne,this.dataModelEnumManagementContentSettingTypeResult=new U,this.dataModelEnumSharingPriceTypeResult=new U,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onActionFileSelectedLinkBackgroundId(i){this.dataModel.linkBackgroundId=i.id,this.dataModel.linkBackgroundIdSrc=i.downloadLinksrc}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(i=>{this.dataModelEnumManagementContentSettingTypeResult=i})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(i=>{this.dataModelEnumSharingPriceTypeResult=i})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(nt),I(He),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-add"]],viewQuery:function(t,e){if(t&1&&ee(El,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:91,vars:70,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",11),b(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",15,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,yl,1,5,"app-cms-enum-record-status-selector",16),a(11,"div",17)(12,"label",18),c(13),l(),a(14,"input",19,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(16,Tl,1,0,"i",20)(17,kl,1,0,"i",21),a(18,"em"),c(19),l(),C(20,Al,5,4,"mat-error",22),l(),a(21,"div",17)(22,"select",23,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.settingType,d)||(e.dataModel.settingType=d),g(d)}),C(24,xl,2,2,"option",24),l(),a(25,"em"),c(26),_(27,"translate"),l(),C(28,Ll,5,3,"mat-error",22),l(),a(29,"div",17)(30,"select",25,3),k("ngModelChange",function(d){return f(m),T(e.dataModel.sharingLinkType,d)||(e.dataModel.sharingLinkType=d),g(d)}),C(32,Rl,2,2,"option",24),l(),a(33,"em"),c(34),_(35,"translate"),l(),C(36,Dl,5,3,"mat-error",22),l(),a(37,"div",17)(38,"label",26),c(39),l(),a(40,"input",27,4),_(42,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.clickPrice,d)||(e.dataModel.clickPrice=d),g(d)}),l(),C(43,Bl,1,0,"i",20)(44,Vl,1,0,"i",21)(45,Pl,5,3,"mat-error",22),l(),a(46,"div",17)(47,"label",28),c(48),l(),a(49,"input",29,5),_(51,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.viewPrice,d)||(e.dataModel.viewPrice=d),g(d)}),l(),C(52,Ol,1,0,"i",20)(53,Nl,1,0,"i",21)(54,Fl,5,3,"mat-error",22),l(),a(55,"div",17)(56,"label",30),c(57),l(),a(58,"input",31,6),_(60,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.width,d)||(e.dataModel.width=d),g(d)}),l(),C(61,Gl,1,0,"i",20)(62,Wl,1,0,"i",21)(63,Hl,5,3,"mat-error",22),l(),a(64,"div",17)(65,"label",32),c(66),l(),a(67,"input",33,7),_(69,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.height,d)||(e.dataModel.height=d),g(d)}),l(),C(70,ql,1,0,"i",20)(71,jl,1,0,"i",21)(72,Ul,5,3,"mat-error",22),l(),a(73,"div",17)(74,"label",34),c(75),l(),a(76,"textarea",35,8),k("ngModelChange",function(d){return f(m),T(e.dataModel.patternScript,d)||(e.dataModel.patternScript=d),g(d)}),c(78,"                "),l(),a(79,"em"),c(80),l(),C(81,zl,5,3,"mat-error",22),l(),a(82,"div",36)(83,"a",37),_(84,"cmsthumbnail"),C(85,Ql,2,3,"img",38),l()(),C(86,Kl,8,15,"div",39),a(87,"div",36),C(88,Jl,2,3,"img",38),l(),C(89,Xl,8,15,"div",39)(90,Yl,9,7,"div",40),l()()()}if(t&2){let m=R(15),S=R(23),d=R(31),D=R(41),B=R(50),V=R(59),Z=R(68),Y=R(77);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),y("ngModel",e.dataModel.settingType),r(2),p("ngForOf",e.dataModelEnumManagementContentSettingTypeResult.listItems),r(2),v(h(27,56,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(2),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(h(35,58,"TITLE.Select_type_of_content")),r(2),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",h(42,60,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",!D.value),r(),p("ngIf",D.value),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",h(51,62,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",!B.value),r(),p("ngIf",B.value),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.width==null?null:e.fieldsInfo.width.fieldTitle),r(),A("placeholder",h(60,64,"TITLE.Width")),y("ngModel",e.dataModel.width),r(3),p("ngIf",!V.value),r(),p("ngIf",V.value),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.height==null?null:e.fieldsInfo.height.fieldTitle),r(),A("placeholder",h(69,66,"TITLE.length")),y("ngModel",e.dataModel.height),r(3),p("ngIf",!Z.value),r(),p("ngIf",Z.value),r(),p("ngIf",Z.errors==null?null:Z.errors.required),r(3),v(e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),r(),A("placeholder",e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),y("ngModel",e.dataModel.patternScript),r(4),M("",Y.value.length," / 500"),r(),p("ngIf",Y.errors==null?null:Y.errors.required),r(2),A("href",h(84,68,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkBackgroundIdSrc==null?null:e.dataModel.linkBackgroundIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Pt,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Zl=["*"];function $l(n,s){if(n&1&&(a(0,"label",13),c(1),l()),n&2){let o=u();Dt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function es(n,s){if(n&1&&(b(0,"img",14),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModelSelect==null?null:o.dataModelSelect.linkMainImageIdSrc),J)}}function ts(n,s){if(n&1&&(b(0,"img",14),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function is(n,s){if(n&1&&(a(0,"mat-option",15),C(1,ts,2,3,"img",5),a(2,"span"),c(3),l()()),n&2){let o=s.$implicit,i=u();p("value",o)("disabled",i.optionDisabled),r(),p("ngIf",o.linkMainImageIdSrc),r(2),v(i.displayOption(o))}}function ns(n,s){n&1&&b(0,"i",16)}function os(n,s){n&1&&b(0,"i",17)}function rs(n,s){if(n&1){let o=E();a(0,"i",18),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),l()}}function as(n,s){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(r(),M("(",h(2,1,"TITLE.Necessary"),")"))}var Jt=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.linkManagementEnumService=d,this.categoryService=D,this.id=++s.nextId,this.dataModelResult=new U,this.dataModelSelect=new Ke,this.formControl=new mi,this.dataModelManagementContentSettingTypeEnumResult=new U,this.optionPlaceholder="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr,this.getManagementContentSettingTypeEnum()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:i=>{this.dataModelManagementContentSettingTypeEnumResult=i}})}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ai(""),oi(1500),ri(),li(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let t=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(e=>e.key===i.settingType.toString()||e.value===i.settingType);if(t)return i?i.title+"-"+t.description:void 0}return i?i.title:void 0}displayOption(i){if(this.dataModelManagementContentSettingTypeEnumResult?.listItems&&this.dataModelManagementContentSettingTypeEnumResult.listItems.length>0){let t=this.dataModelManagementContentSettingTypeEnumResult.listItems.find(e=>e.key===i.settingType.toString()||e.value===i.settingType);if(t)return i?i.title+"-"+t.description:void 0}return i?i.title:void 0}DataGetAll(i){return ti(this,null,function*(){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=i,e.searchType=Wt.Contains,e.clauseType=it.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new le,e.propertyName="Id",e.value=i,e.searchType=Wt.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructor.name)}),yield ii(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ni(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Ke){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ke,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(I(oe),I(O),I(F),I(N),I(G),I(He),I(nt))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Zl,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,e){if(t&1){let m=E();si(),a(0,"div",1),b(1,"app-progress-spinner",2),C(2,$l,2,3,"label",3),a(3,"span",4),C(4,es,2,3,"img",5),c(5," \xA0"),l(),b(6,"input",6),a(7,"mat-autocomplete",7,0),w("optionSelected",function(d){return f(m),g(e.onActionSelect(d.option.value))}),C(9,is,4,4,"mat-option",8),_(10,"async"),l(),C(11,ns,1,0,"i",9)(12,os,1,0,"i",10)(13,rs,1,0,"i",11)(14,as,3,3,"em",12),di(15),l()}if(t&2){let m=R(8);r(),p("optionsInfoAreaId",e.constructor.name),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),Dt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",h(10,16,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id<=0))}},dependencies:[Fe,W,K,q,X,pi,Mi,ci,Ci,mn,j,Q,Oe,H,Se],encapsulation:2});let n=s;return n})();var ls=["vform"];function ss(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.title,t)||(e.dataModelResultCategory.item.title=t),g(t)}),l()(),b(6,"app-linkmanagement-billboard-pattern-selector",10),_(7,"translate"),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultCategory.item.title),r(2),p("optionPlaceholder",h(7,4,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function ds(n,s){if(n&1){let o=E();a(0,"div",11)(1,"button",12),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",13),c(3),_(4,"translate"),l(),a(5,"button",14),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(6,"i",15),c(7),_(8,"translate"),l(),a(9,"button",16),w("click",function(){f(o);let t=u();return g(t.onFormMove())}),b(10,"i",13),c(11),_(12,"translate"),l()()}if(n&2){let o=u();r(3),M(" ",h(4,5,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(8,7,"ACTION.DELETE")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(12,9,"TITLE.MOVE_DATA")," ")}}var vn=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.categoryService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultCategory=new U,this.dataModelResultCategoryAllData=new U,this.dataModel={},this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultCategory=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let i=new ke;i.rowPerPage=100;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.categoryService.ServiceGetAll(i).subscribe({next:e=>{this.dataModelResultCategoryAllData=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(t)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormChangeNewCatId(i){if(this.formInfo.formAlert="",this.requestId===0||!i||i.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=i.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(nt),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-delete"]],viewQuery:function(t,e){if(t&1&&ee(ls,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Title",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","id","dataModelResultCategory.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,ss,8,6,"ng-container",5)(10,ds,13,11,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultCategory==null?null:e.dataModelResultCategory.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,_e,he,z,j,Q,Jt,H],encapsulation:2});let n=s;return n})();var cs=["vform"];function ms(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",41),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ps(n,s){n&1&&b(0,"i",42)}function us(n,s){n&1&&b(0,"i",43)}function fs(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function gs(n,s){if(n&1&&(a(0,"option",44),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function _s(n,s){n&1&&(a(0,"mat-error"),c(1," SettingType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function hs(n,s){if(n&1&&(a(0,"option",44),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function Ss(n,s){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ms(n,s){n&1&&b(0,"i",42)}function Cs(n,s){n&1&&b(0,"i",43)}function bs(n,s){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Is(n,s){n&1&&b(0,"i",42)}function vs(n,s){n&1&&b(0,"i",43)}function ws(n,s){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Es(n,s){n&1&&b(0,"i",42)}function ys(n,s){n&1&&b(0,"i",43)}function Ts(n,s){n&1&&(a(0,"mat-error"),c(1," Width is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function ks(n,s){n&1&&b(0,"i",42)}function As(n,s){n&1&&b(0,"i",43)}function xs(n,s){n&1&&(a(0,"mat-error"),c(1," Height is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Ls(n,s){n&1&&(a(0,"mat-error"),c(1," PatternScript is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Rs(n,s){if(n&1&&(b(0,"img",45),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function Ds(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",46),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",47,9),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.EXAMPLE_OF_BANNER_PHOTO")),r(2),A("placeholder",h(6,13,"TITLE.ID_OF_BANNER_PHOTO_FILE")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Bs(n,s){if(n&1&&(b(0,"img",45),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkBackgroundIdSrc),J)}}function Vs(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",50,10),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkBackgroundId,t)||(e.dataModel.linkBackgroundId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",48),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkBackgroundId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.BANNER_BACKGROUND")),r(2),A("placeholder",h(6,13,"TITLE.ID_OF_BANNER_BACKGROUND_FILE")),y("ngModel",o.dataModel.linkBackgroundId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Ps(n,s){if(n&1){let o=E();a(0,"div",51)(1,"button",52),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",53),c(3),_(4,"translate"),l(),a(5,"button",54),b(6,"i",55),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var wn=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B,V){super(m,new Ke,D,V),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.linkManagementEnumService=S,this.cmsToastrService=d,this.publicHelper=D,this.cdr=B,this.translate=V,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Ke,this.formInfo=new ne,this.dataModelEnumManagementContentSettingTypeResult=new U,this.dataModelEnumSharingPriceTypeResult=new U,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onActionFileSelectedLinkBackgroundId(i){this.dataModel.linkBackgroundId=i.id,this.dataModel.linkBackgroundIdSrc=i.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(i=>{this.dataModelEnumManagementContentSettingTypeResult=i})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(i=>{this.dataModelEnumSharingPriceTypeResult=i})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(nt),I(He),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-edit"]],viewQuery:function(t,e){if(t&1&&ee(cs,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:91,vars:70,consts:[["vform","ngForm"],["Title",""],["SettingType","ngModel"],["SharingLinkType","ngModel"],["ClickPrice",""],["ViewPrice",""],["Width",""],["Height",""],["PatternScript",""],["LinkMainImageId",""],["LinkBackgroundId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["id","dataModel.settingType","name","dataModel.settingType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","required","","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","required","","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.width",1,"color-highlight"],["matInput","","type","number","name","dataModel.width","minlength","0","required","","id","dataModel.width",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.height",1,"color-highlight"],["matInput","","type","number","name","dataModel.height","minlength","0","required","","id","dataModel.height",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.patternScript",1,"color-highlight"],["matInput","","name","dataModel.patternScript","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.patternScript",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkBackgroundId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkBackgroundId","autocomplete","off","id","dataModel.linkBackgroundId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",11),b(1,"app-progress-spinner",12),a(2,"div",13)(3,"p",14),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",15,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,ms,1,5,"app-cms-enum-record-status-selector",16),a(11,"div",17)(12,"label",18),c(13),l(),a(14,"input",19,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(16,ps,1,0,"i",20)(17,us,1,0,"i",21),a(18,"em"),c(19),l(),C(20,fs,5,4,"mat-error",22),l(),a(21,"div",17)(22,"select",23,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.settingType,d)||(e.dataModel.settingType=d),g(d)}),C(24,gs,2,2,"option",24),l(),a(25,"em"),c(26),_(27,"translate"),l(),C(28,_s,5,3,"mat-error",22),l(),a(29,"div",17)(30,"select",25,3),k("ngModelChange",function(d){return f(m),T(e.dataModel.sharingLinkType,d)||(e.dataModel.sharingLinkType=d),g(d)}),C(32,hs,2,2,"option",24),l(),a(33,"em"),c(34),_(35,"translate"),l(),C(36,Ss,5,3,"mat-error",22),l(),a(37,"div",17)(38,"label",26),c(39),l(),a(40,"input",27,4),_(42,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.clickPrice,d)||(e.dataModel.clickPrice=d),g(d)}),l(),C(43,Ms,1,0,"i",20)(44,Cs,1,0,"i",21)(45,bs,5,3,"mat-error",22),l(),a(46,"div",17)(47,"label",28),c(48),l(),a(49,"input",29,5),_(51,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.viewPrice,d)||(e.dataModel.viewPrice=d),g(d)}),l(),C(52,Is,1,0,"i",20)(53,vs,1,0,"i",21)(54,ws,5,3,"mat-error",22),l(),a(55,"div",17)(56,"label",30),c(57),l(),a(58,"input",31,6),_(60,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.width,d)||(e.dataModel.width=d),g(d)}),l(),C(61,Es,1,0,"i",20)(62,ys,1,0,"i",21)(63,Ts,5,3,"mat-error",22),l(),a(64,"div",17)(65,"label",32),c(66),l(),a(67,"input",33,7),_(69,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.height,d)||(e.dataModel.height=d),g(d)}),l(),C(70,ks,1,0,"i",20)(71,As,1,0,"i",21)(72,xs,5,3,"mat-error",22),l(),a(73,"div",17)(74,"label",34),c(75),l(),a(76,"textarea",35,8),k("ngModelChange",function(d){return f(m),T(e.dataModel.patternScript,d)||(e.dataModel.patternScript=d),g(d)}),c(78,"                 "),l(),a(79,"em"),c(80),l(),C(81,Ls,5,3,"mat-error",22),l(),a(82,"div",36)(83,"a",37),_(84,"cmsthumbnail"),C(85,Rs,2,3,"img",38),l()(),C(86,Ds,8,15,"div",39),a(87,"div",36),C(88,Bs,2,3,"img",38),l(),C(89,Vs,8,15,"div",39)(90,Ps,9,7,"div",40),l()()()}if(t&2){let m=R(15),S=R(23),d=R(31),D=R(41),B=R(50),V=R(59),Z=R(68),Y=R(77);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,54,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(2),y("ngModel",e.dataModel.settingType),r(2),p("ngForOf",e.dataModelEnumManagementContentSettingTypeResult.listItems),r(2),v(h(27,56,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(2),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(h(35,58,"TITLE.Select_type_of_content")),r(2),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",h(42,60,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",!D.value),r(),p("ngIf",D.value),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",h(51,62,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",!B.value),r(),p("ngIf",B.value),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.width==null?null:e.fieldsInfo.width.fieldTitle),r(),A("placeholder",h(60,64,"TITLE.Width")),y("ngModel",e.dataModel.width),r(3),p("ngIf",!V.value),r(),p("ngIf",V.value),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.height==null?null:e.fieldsInfo.height.fieldTitle),r(),A("placeholder",h(69,66,"TITLE.length")),y("ngModel",e.dataModel.height),r(3),p("ngIf",!Z.value),r(),p("ngIf",Z.value),r(),p("ngIf",Z.errors==null?null:Z.errors.required),r(3),v(e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),r(),A("placeholder",e.fieldsInfo.patternScript==null?null:e.fieldsInfo.patternScript.fieldTitle),y("ngModel",e.dataModel.patternScript),r(4),M("",Y.value.length," / 500"),r(),p("ngIf",Y.errors==null?null:Y.errors.required),r(2),A("href",h(84,68,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkBackgroundIdSrc==null?null:e.dataModel.linkBackgroundIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Pt,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Os=()=>[5,10,20,100];function Ns(n,s){if(n&1){let o=E();a(0,"div",40)(1,"a",41),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",42)(3,"br"),l(),a(4,"p",43),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function Fs(n,s){if(n&1){let o=E();a(0,"div",40)(1,"a",44),w("click",function(t){f(o);let e=u();return g(e.onActionButtonRowBillboard(e.tableRowSelected,t))}),b(2,"i",45)(3,"br"),l(),a(4,"p",43),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.BILLBOARD")))}function Gs(n,s){if(n&1){let o=E();a(0,"div",40)(1,"a",44),w("click",function(t){f(o);let e=u();return g(e.onActionButtonRowTarget(e.tableRowSelected,t))}),b(2,"i",46)(3,"br"),l(),a(4,"p",43),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADS")))}function Ws(n,s){if(n&1){let o=E();a(0,"div",40)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",43),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Hs(n,s){if(n&1){let o=E();a(0,"div",40)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),a(4,"p",43),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function qs(n,s){n&1&&(a(0,"mat-header-cell",51),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function js(n,s){if(n&1&&(b(0,"img",53),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function Us(n,s){if(n&1&&(a(0,"mat-cell"),C(1,js,2,3,"img",52),l()),n&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function zs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Qs(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function Ks(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Js(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function Xs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Ys(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",54),_(2,"statusIconClass"),l()),n&2){let o=s.$implicit;r(),p("ngClass",h(2,1,o.recordStatus))}}function Zs(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function $s(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.title," ")}}function ed(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.settingType==null?null:o.fieldsInfo.settingType.fieldTitle," ")}}function td(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"enums"),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",jn(2,1,o.settingType,i.dataModelManagementContentSettingTypeEnumResult.listItems)," ")}}function id(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function nd(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function od(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function rd(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function ad(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function ld(n,s){if(n&1&&(a(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function sd(n,s){n&1&&b(0,"mat-header-row")}function dd(n,s){if(n&1){let o=E();a(0,"mat-row",57),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var bo=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V,Z){super(i,new Ke,V,S,d),this.contentService=i,this.cmsToastrService=t,this.linkManagementEnumService=e,this.router=m,this.tokenHelper=S,this.translate=d,this.cdr=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Z,this.filteModelContent=new ke,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","settingType","CreatedDate","UpdatedDate"],this.dataModelManagementContentSettingTypeEnumResult=new U,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.getManagementContentSettingTypeEnum()}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getManagementContentSettingTypeEnum(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe({next:i=>{this.dataModelManagementContentSettingTypeEnumResult=i}})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ke);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=new Gt;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={},this.dialog.open(In,i).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(wn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonRowTarget(i=this.tableRowSelected,t){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),t?.ctrlKey){var e="/#/linkmanagement/target/list/LinkBillboardPatternId/"+i.id;window.open(e,"_blank")}else this.router.navigate(["/linkmanagement/target/list/LinkBillboardPatternId/",i.id])}onActionButtonRowBillboard(i=this.tableRowSelected,t){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),t?.ctrlKey){var e="/#/linkmanagement/billboard/list/LinkBillboardPatternId/"+i.id;window.open(e,"_blank")}else this.router.navigate(["/linkmanagement/billboard/list/LinkBillboardPatternId/",i.id])}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(I(nt),I(O),I(He),I(Ne),I(Pe),I(G),I(F),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-list"]],features:[$],decls:64,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","settingType"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-bullseye-pointer","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),Re(1,4)(2,5),x(3,6),a(4,"div",7)(5,"div",8)(6,"a",9)(7,"mat-slide-toggle",10),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(8),_(9,"translate"),l(),a(10,"a",9)(11,"mat-slide-toggle",11),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(12),_(13,"translate"),l()(),a(14,"div",12)(15,"a",13),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(16,"i",14),l(),a(17,"a",13),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(18,"i",15),l()()(),L(),x(19,16),C(20,Ns,7,3,"div",17),L(),x(21,18),C(22,Fs,7,3,"div",17)(23,Gs,7,3,"div",17)(24,Ws,7,3,"div",17)(25,Hs,7,3,"div",17),L(),x(26,19),a(27,"app-cms-search-list",20),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(28,"app-cms-statist-list",20),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(29,21),a(30,"mat-table",22,0),w("matSortChange",function(){f(m);let d=R(31);return g(e.onTableSortData(d))}),x(32,23),C(33,qs,3,3,"mat-header-cell",24)(34,Us,2,1,"mat-cell",25),L(),x(35,26),C(36,zs,2,1,"mat-header-cell",24)(37,Qs,2,1,"mat-cell",25),L(),x(38,27),C(39,Ks,2,1,"mat-header-cell",24)(40,Js,4,5,"mat-cell",25),L(),x(41,28),C(42,Xs,2,1,"mat-header-cell",24)(43,Ys,3,3,"mat-cell",25),L(),x(44,29),C(45,Zs,2,1,"mat-header-cell",24)(46,$s,2,1,"mat-cell",25),L(),x(47,30),C(48,ed,2,1,"mat-header-cell",24)(49,td,3,4,"mat-cell",25),L(),x(50,31),C(51,id,2,1,"mat-header-cell",24)(52,nd,2,1,"mat-cell",25),L(),x(53,32),C(54,od,2,1,"mat-header-cell",24)(55,rd,2,1,"mat-cell",25),L(),x(56,33),C(57,ad,3,3,"mat-header-cell",34)(58,ld,6,1,"mat-cell",35),L(),C(59,sd,1,0,"mat-header-row",36)(60,dd,1,6,"mat-row",37),l(),L(),x(61,38),a(62,"mat-paginator",39,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(7),y("ngModel",e.optionsSearch.data.show),r(),M("",h(9,25,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M("",h(13,27,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(29),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(29,Os)))},dependencies:[tt,W,q,z,Ge,Ce,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Et,yt,wt,Oe,H,ro,It,Se,vt],encapsulation:2});let n=s;return n})();function cd(n,s){if(n&1){let o=E();a(0,"mat-tree-node",8),b(1,"button",9),a(2,"mat-checkbox",10),w("change",function(){let t=f(o).$implicit,e=u();return g(e.checklistSelection.toggle(t))}),c(3),l()()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2)),r(2),p("checked",t.checklistSelection.isSelected(o)),r(),v(o.title)}}function md(n,s){if(n&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",11)(3,"button",12)(4,"mat-icon",13),c(5),l()(),a(6,"mat-checkbox",14),w("change",function(){let t=f(o).$implicit,e=u();return g(e.todoItemSelectionToggle(t))}),c(7),l()(),a(8,"ul"),Re(9,15),l()()()}if(n&2){let o=s.$implicit,i=u();r(3),et("aria-label","Toggle "+o.title),r(2),M(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),p("checked",i.checklistSelection.isSelected(o))("indeterminate",i.descendantsPartiallySelected(o)),r(),M(" ",o.title,""),r(),pe("category-tree-invisible",!i.treeControl.isExpanded(o))}}var xi=(()=>{let s=class s{constructor(i,t,e,m,S,d,D,B){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.cdr=m,this.publicHelper=S,this.tokenHelper=d,this.translate=D,this.dialog=B,this.dataModelSelect=[],this.dataModelResult=new U,this.filterModel=new ke,this.treeControl=new Ni(V=>V.children),this.dataSource=new zi,this.runComplate=!1,this.optionSelectChecked=new Ue,this.optionSelectDisChecked=new Ue,this.optionModelChange=new Ue,this.checklistSelection=new Xn(!0),this.hasChild=(V,Z)=>!!Z.children&&Z.children.length>0,this.hasNoContent=(V,Z)=>Z.children,this.publicHelper.processService.cdr=this.cdr,this.checklistSelection.changed.subscribe(V=>{if(!this.runComplate)return;let Z=[];this.checklistSelection.selected.forEach(Y=>{Z.push(Y.id)}),this.optionModelChange.emit(Z),V.added&&V.added.length>0&&V.added.forEach(Y=>{this.optionSelectChecked.emit(Y.id)}),V.removed&&V.removed.length>0&&V.removed.forEach(Y=>{this.optionSelectDisChecked.emit(Y.id)})})}set optionModel(i){this.dataModelSelect=i,this.loadCheked()}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}loadCheked(i=this.treeControl.dataNodes){this.runComplate=!1,this.treeControl.dataNodes&&this.dataModelSelect&&this.dataModelSelect.length>0&&i.forEach(t=>{this.dataModelSelect.find(m=>m===t.id)&&this.checklistSelection.select(t),t.children&&t.children.length>0&&this.loadCheked(t.children)}),this.runComplate=!0}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems,this.treeControl.dataNodes=this.dataModelResult.listItems,this.loadCheked()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.cmsToastrService.typeError(t)}})}descendantsAllSelected(i){return this.treeControl.getDescendants(i).every(e=>this.checklistSelection.isSelected(e))}descendantsPartiallySelected(i){return this.treeControl.getDescendants(i).some(m=>this.checklistSelection.isSelected(m))&&!this.descendantsAllSelected(i)}todoItemSelectionToggle(i){this.checklistSelection.toggle(i);let t=this.treeControl.getDescendants(i);this.checklistSelection.isSelected(i)?this.checklistSelection.select(...t):this.checklistSelection.deselect(...t)}};s.\u0275fac=function(t){return new(t||s)(I(O),I(oe),I(ot),I(F),I(N),I(Pe),I(G),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-treeselector"]],inputs:{optionModel:"optionModel"},outputs:{optionSelectChecked:"optionSelectChecked",optionSelectDisChecked:"optionSelectDisChecked",optionModelChange:"optionModelChange"},decls:10,vars:9,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["matTreeNodePadding",""],["type","button","mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"change","checked"],[1,"mat-tree-node"],["type","button","mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[3,"change","checked","indeterminate"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),c(2),_(3,"translate"),L(),Re(4,2),x(5,3),a(6,"mat-tree",4),C(7,cd,4,6,"mat-tree-node",5)(8,md,10,7,"mat-nested-tree-node",6),l(),L(),Re(9,7),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),M(" ",h(3,7,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(4),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[Ge,no,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,Li,H]});let n=s;return n})();var ud=["vform"];function fd(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",38),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function gd(n,s){n&1&&b(0,"i",39)}function _d(n,s){n&1&&b(0,"i",40)}function hd(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Sd(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",41),c(2),l(),a(3,"input",42,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.bgColor,t)||(e.dataModel.bgColor=t),g(t)}),l(),b(5,"ngx-ntk-mat-color-toggle",25)(6,"ngx-ntk-mat-color-picker",43,5),l()}if(n&2){let o=R(7),i=u();r(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),r(),cn("background",i.dataModel.bgColor),A("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),y("ngModel",i.dataModel.bgColor),p("ngxMatColorPicker",o)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessAddField)),r(2),p("for",o),r(),p("touchUi",!0)("color","primary")}}function Md(n,s){if(n&1){let o=E();a(0,"div",44)(1,"button",45),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",46),c(5),_(6,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function Cd(n,s){if(n&1&&(a(0,"div",44)(1,"button",47),c(2),_(3,"translate"),l(),a(4,"button",46),c(5),_(6,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function bd(n,s){if(n&1&&(b(0,"img",48),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function Id(n,s){if(n&1){let o=E();a(0,"div",15)(1,"label",49),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",50,6),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",51),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function vd(n,s){if(n&1&&(a(0,"div",44)(1,"button",47),c(2),_(3,"translate"),l(),a(4,"button",52),b(5,"i",53),c(6),_(7,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(7,5,"ACTION.SAVE")," ")}}function wd(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function Ed(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function yd(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}function Td(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}var vo=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B,V){super(S,new Yt,m,V),this.activatedRoute=i,this.coreEnumService=t,this.contentCategoryService=e,this.publicHelper=m,this.linkManagementBillboardService=S,this.cmsToastrService=d,this.router=D,this.cdr=B,this.translate=V,this.requestLinkBillboardPatternId=0,this.fieldsInfo=new Map,this.dataModel=new Yt,this.dataModelResult=new U,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.loadingOption=new Ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.loadingOption.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess()}onActionFileSelectedLinkMainImageId(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.dataModel=t.item,this.publicHelper.processService.processStop(i)):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataAddContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.dataModelResult=t,t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=t.item):this.cmsToastrService.typeErrorAdd(t.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.linkManagementBillboardService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorEdit(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/billboard"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkManagementMemberId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}onActionSelectorSelectLinkBillboardPatternId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}onActionCategorySelectChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.dataModel.id>0){let t=new Vi;t.linkCategoryId=i,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}}onActionCategorySelectDisChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=i,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(i,t){i.previouslySelectedIndex<i.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=i.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};s.\u0275fac=function(t){return new(t||s)(I(ze),I(oe),I(Di),I(N),I(Kt),I(O),I(Ne),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-add"]],viewQuery:function(t,e){if(t&1&&ee(ud,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:64,vars:48,consts:[["vform","ngForm"],["stepper",""],["Title",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",7),b(1,"app-progress-spinner",8),a(2,"div",9)(3,"p",10),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",11,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",12,1),w("selectionChange",function(d){f(m);let D=R(11);return g(e.onStepClick(d,D))}),a(12,"mat-step",13),_(13,"translate"),C(14,fd,1,5,"app-cms-enum-record-status-selector",14),a(15,"div",15)(16,"label",16),c(17),l(),a(18,"input",17,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(20,gd,1,0,"i",18)(21,_d,1,0,"i",19),a(22,"em"),c(23),l(),C(24,hd,5,4,"mat-error",20),l(),a(25,"app-linkmanagement-member-selector",21),_(26,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(d))}),l(),a(27,"app-linkmanagement-billboard-pattern-selector",21),_(28,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(d))}),l(),C(29,Sd,8,10,"div",22),a(30,"div",15)(31,"label",23),c(32),l(),a(33,"input",24),k("ngModelChange",function(d){return f(m),T(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),g(d)}),l(),b(34,"mat-datepicker-toggle",25)(35,"mat-datepicker",26,3),l(),C(37,Md,7,7,"div",27),l(),a(38,"mat-step",28),_(39,"translate"),a(40,"app-linkmanagement-category-treeselector",29),k("optionModelChange",function(d){return f(m),T(e.dataContentCategoryModel,d)||(e.dataContentCategoryModel=d),g(d)}),w("optionSelectChecked",function(d){return f(m),g(e.onActionCategorySelectChecked(d))})("optionSelectDisChecked",function(d){return f(m),g(e.onActionCategorySelectDisChecked(d))}),l(),b(41,"br"),C(42,Cd,7,7,"div",27),l(),a(43,"mat-step",30),_(44,"translate"),a(45,"p"),c(46),_(47,"translate"),l(),a(48,"div",31)(49,"a",32),_(50,"cmsthumbnail"),C(51,bd,2,3,"img",33),l()(),C(52,Id,8,15,"div",22)(53,vd,8,7,"div",27),l(),C(54,wd,2,0,"ng-template",34)(55,Ed,2,0,"ng-template",35)(56,yd,2,0,"ng-template",36)(57,Td,2,0,"ng-template",37),l(),b(58,"hr"),c(59," \u06A9\u062F html: "),b(60,"br"),a(61,"div")(62,"pre"),c(63),l()()()()()}if(t&2){let m=R(19),S=R(36);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,32,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",h(13,34,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",h(26,36,"TITLE.User_Account")),r(2),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",h(28,38,"TITLE.Billboard_Pattern")),r(2),p("ngIf",e.fieldsInfo.bgColor==null?null:e.fieldsInfo.bgColor.accessWatchField),r(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),y("ngModel",e.dataModel.fromDate),p("matDatepicker",S),r(),p("for",S),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(39,40,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(44,42,"TITLE.ATTACH_FILES")),r(3),v(h(47,44,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",h(50,46,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(10),M("      ",e.dataModel.billboardScript,"")}},dependencies:[W,Ee,K,q,ve,X,_e,he,z,we,ui,fi,gi,ye,Ft,Ce,j,Ii,vi,wi,Ei,bi,Ae,Q,yi,fn,un,pn,Je,xi,Jt,Ai,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let n=s;return n})();var kd=["vform"];function Ad(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",44),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xd(n,s){n&1&&b(0,"i",45)}function Ld(n,s){n&1&&b(0,"i",46)}function Rd(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Dd(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",47),c(2),l(),a(3,"input",48,6),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.bgColor,t)||(e.dataModel.bgColor=t),g(t)}),l(),b(5,"ngx-ntk-mat-color-toggle",31)(6,"ngx-ntk-mat-color-picker",49,7),l()}if(n&2){let o=R(7),i=u();r(2),v(i.fieldsInfo.bgColor==null?null:i.fieldsInfo.bgColor.fieldTitle),r(),cn("background",i.dataModel.bgColor),A("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),y("ngModel",i.dataModel.bgColor),p("ngxMatColorPicker",o)("disabled",!(i.fieldsInfo.bgColor!=null&&i.fieldsInfo.bgColor.accessEditField)),r(2),p("for",o),r(),p("touchUi",!0)("color","primary")}}function Bd(n,s){n&1&&b(0,"i",45)}function Vd(n,s){n&1&&b(0,"i",46)}function Pd(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentClickCount is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Od(n,s){n&1&&b(0,"i",45)}function Nd(n,s){n&1&&b(0,"i",46)}function Fd(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentViewCount is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Gd(n,s){if(n&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",52),b(5,"i",53),c(6),_(7,"translate"),l(),a(8,"button",54),c(9),_(10,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,5,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(7,7,"ACTION.SAVE")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(10,9,"ACTION.NEXT")," ")}}function Wd(n,s){if(n&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",55),c(5),_(6,"translate"),l(),a(7,"button",52),b(8,"i",53),c(9),_(10,"translate"),l(),a(11,"button",54),c(12),_(13,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,6,"ACTION.BACK")," "),r(3),M(" ",h(6,8,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(10,10,"ACTION.SAVE")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(13,12,"ACTION.NEXT")," ")}}function Hd(n,s){if(n&1&&(b(0,"img",56),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function qd(n,s){if(n&1){let o=E();a(0,"div",17)(1,"label",57),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",58,8),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",59),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function jd(n,s){if(n&1){let o=E();a(0,"div",50)(1,"button",51),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",55),c(5),_(6,"translate"),l(),a(7,"button",52),b(8,"i",53),c(9),_(10,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,4,"ACTION.BACK")," "),r(3),M(" ",h(6,6,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(10,8,"ACTION.SAVE")," ")}}function Ud(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function zd(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function Qd(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}function Kd(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}var wo=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B){super(m,new Yt,t,B),this.activatedRoute=i,this.publicHelper=t,this.contentCategoryService=e,this.linkManagementBillboardService=m,this.cmsToastrService=S,this.router=d,this.cdr=D,this.translate=B,this.requestId=0,this.dataModel=new Yt,this.dataModelResult=new Qe,this.dataModelEnumManagementContentSettingTypeResult=new U,this.dataModelEnumSharingPriceTypeResult=new U,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.loadingOption=new Ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.loadingOption.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.DataGetOne(),this.DataCategoryGetAll()}onActionFileSelectedLinkMainImageId(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(Te.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.dataModel.bgColor=this.dataModel.bgColor?.toString(),this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit()):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkManagementMemberId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Type_of_User_account_is_not_known");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}onActionSelectorSelectLinkBillboardPatternId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}DataCategoryGetAll(){this.formInfo.formSubmitAllow=!1,this.formInfo.formAlert=this.translate.instant("MESSAGE.get_category_information_from_the_server"),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(i,m,this.constructor.name)});let t=new ke,e=new le;e.propertyName="LinkManagementBillboardId",e.value=this.requestId,e.clauseType=it.And,t.filters.push(e),this.tagIdsData=[],this.contentCategoryService.ServiceGetAll(t).subscribe({next:m=>{let S=[];m.listItems.forEach(d=>{S.push(d.linkCategoryId)}),this.dataContentCategoryModel=S,this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(i)},error:m=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetAll(m),this.publicHelper.processService.processStop(i)}})}onActionCategorySelectChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=i,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Vi;t.linkCategoryId=i,t.linkManagementBillboardId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(i,t){i.previouslySelectedIndex<i.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=i.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/billboard/"])}};s.\u0275fac=function(t){return new(t||s)(I(ze),I(N),I(Di),I(Kt),I(O),I(Ne),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-edit"]],viewQuery:function(t,e){if(t&1&&ee(kd,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:82,vars:64,consts:[["vform","ngForm"],["stepper",""],["Title",""],["CurrentClickCount",""],["CurrentViewCount",""],["FromDate",""],["bgColor",""],["bgColorPicker",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","0","required","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","required","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.bgColor",1,"color-highlight"],["matInput","","type","text","name","dataModel.bgColor","minlength","3","maxlength","100","required","","id","dataModel.bgColor",1,"form-control","validate-name",3,"ngModelChange","ngModel","ngxMatColorPicker","placeholder","disabled"],[3,"touchUi","color"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"]],template:function(t,e){if(t&1){let m=E();a(0,"div",9),b(1,"app-progress-spinner",10),a(2,"div",11)(3,"p",12),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",13,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",14,1),w("selectionChange",function(d){f(m);let D=R(11);return g(e.onStepClick(d,D))}),a(12,"mat-step",15),_(13,"translate"),C(14,Ad,1,5,"app-cms-enum-record-status-selector",16),a(15,"div",17)(16,"label",18),c(17),l(),a(18,"input",19,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(20,xd,1,0,"i",20)(21,Ld,1,0,"i",21),a(22,"em"),c(23),l(),C(24,Rd,5,4,"mat-error",22),l(),a(25,"app-linkmanagement-member-selector",23),_(26,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkManagementMemberId(d))}),l(),a(27,"app-linkmanagement-billboard-pattern-selector",23),_(28,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(d))}),l(),C(29,Dd,8,10,"div",24),a(30,"div",17)(31,"label",25),c(32),l(),a(33,"input",26,3),_(35,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentClickCount,d)||(e.dataModel.currentClickCount=d),g(d)}),l(),C(36,Bd,1,0,"i",20)(37,Vd,1,0,"i",21)(38,Pd,5,3,"mat-error",22),l(),a(39,"div",17)(40,"label",27),c(41),l(),a(42,"input",28,4),_(44,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentViewCount,d)||(e.dataModel.currentViewCount=d),g(d)}),l(),C(45,Od,1,0,"i",20)(46,Nd,1,0,"i",21)(47,Fd,5,3,"mat-error",22),l(),a(48,"div",17)(49,"label",29),c(50),l(),a(51,"input",30),k("ngModelChange",function(d){return f(m),T(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),g(d)}),l(),b(52,"mat-datepicker-toggle",31)(53,"mat-datepicker",32,5),l(),C(55,Gd,11,11,"div",33),l(),a(56,"mat-step",34),_(57,"translate"),a(58,"app-linkmanagement-category-treeselector",35),k("optionModelChange",function(d){return f(m),T(e.dataContentCategoryModel,d)||(e.dataContentCategoryModel=d),g(d)}),w("optionSelectChecked",function(d){return f(m),g(e.onActionCategorySelectChecked(d))})("optionSelectDisChecked",function(d){return f(m),g(e.onActionCategorySelectDisChecked(d))}),l(),b(59,"br"),C(60,Wd,14,14,"div",33),l(),a(61,"mat-step",36),_(62,"translate"),a(63,"p"),c(64),_(65,"translate"),l(),a(66,"div",37)(67,"a",38),_(68,"cmsthumbnail"),C(69,Hd,2,3,"img",39),l()(),C(70,qd,8,15,"div",24)(71,jd,11,10,"div",33),l(),C(72,Ud,2,0,"ng-template",40)(73,zd,2,0,"ng-template",41)(74,Qd,2,0,"ng-template",42)(75,Kd,2,0,"ng-template",43),l(),b(76,"hr"),c(77," \u06A9\u062F html: "),b(78,"br"),a(79,"div")(80,"pre"),c(81),l()()()()()}if(t&2){let m=R(19),S=R(34),d=R(43),D=R(54);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",h(13,46,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkManagementMemberId)("optionPlaceholder",h(26,48,"TITLE.User_Account")),r(2),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",h(28,50,"TITLE.Billboard_Pattern")),r(2),p("ngIf",e.fieldsInfo.bgColor==null?null:e.fieldsInfo.bgColor.accessWatchField),r(3),v(e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle),r(),A("placeholder",h(35,52,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.currentClickCount),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle),r(),A("placeholder",h(44,54,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.currentViewCount),r(3),p("ngIf",!d.value),r(),p("ngIf",d.value),r(),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),y("ngModel",e.dataModel.fromDate),p("matDatepicker",D),r(),p("for",D),r(3),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(57,56,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(62,58,"TITLE.ATTACH_FILES")),r(3),v(h(65,60,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",h(68,62,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow),r(10),M("      ",e.dataModel.billboardScript,"")}},dependencies:[W,Ee,K,Ve,q,ve,X,_e,he,z,we,ui,fi,gi,ye,Ft,Ce,j,Ii,vi,wi,Ei,bi,Ae,Q,yi,fn,un,pn,Je,xi,Jt,Ai,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let n=s;return n})();var Jd=["vform"];function Xd(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.title,t)||(e.dataModelResultContent.item.title=t),g(t)}),l()(),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultContent.item.title)}}function Yd(n,s){if(n&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(2,"i",12),c(3),_(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(6,"i",14),c(7),_(8,"translate"),l()()}if(n&2){let o=u();r(),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(4,3,"ACTION.DELETE")," "),r(4),M(" ",h(8,5,"ACTION.CANCEL")," ")}}var Eo=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.linkManagementBillboardService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultContent=new U,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.setAccessLoad(),this.linkManagementBillboardService.setAccessDataType(Te.Editor),this.linkManagementBillboardService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementBillboardService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(Kt),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-delete"]],viewQuery:function(t,e){if(t&1&&ee(Jd,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.title",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.title","type","text","required","","id","dataModelResultContent.item.title","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,Xd,6,3,"ng-container",5)(10,Yd,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,z,j,Q,H],encapsulation:2});let n=s;return n})();var Zd=["vform"];function $d(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",21),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ec(n,s){n&1&&b(0,"i",22)}function tc(n,s){n&1&&b(0,"i",23)}function ic(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function nc(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function oc(n,s){if(n&1){let o=E();a(0,"div",10)(1,"label",24),c(2),l(),a(3,"textarea",25,2),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"             "),l(),a(6,"em"),c(7),l(),C(8,nc,5,4,"mat-error",15),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function rc(n,s){if(n&1&&(b(0,"img",26),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function ac(n,s){if(n&1){let o=E();a(0,"div",10)(1,"label",27),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",28,3),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",29),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Icon_File")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function lc(n,s){if(n&1){let o=E();a(0,"div",30)(1,"button",31),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",32),c(3),_(4,"translate"),l(),a(5,"button",33),b(6,"i",34),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var yo=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B){super(m,new Rt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.requestParentId=0,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new Rt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestParentId=+i.parentId||0),this.requestParentId>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(ot),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-add"]],viewQuery:function(t,e){if(t&1&&ee(Zd,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:28,vars:20,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),b(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,$d,1,5,"app-cms-enum-record-status-selector",9),a(11,"div",10)(12,"label",11),c(13),l(),a(14,"input",12,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(16,ec,1,0,"i",13)(17,tc,1,0,"i",14),a(18,"em"),c(19),l(),C(20,ic,5,4,"mat-error",15),l(),C(21,oc,9,5,"div",16),a(22,"div",17)(23,"a",18),_(24,"cmsthumbnail"),C(25,rc,2,3,"img",19),l()(),C(26,ac,8,15,"div",16)(27,lc,9,7,"div",20),l()()()}if(t&2){let m=R(15);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(2),A("href",h(24,18,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var sc=["*"];function dc(n,s){if(n&1&&(a(0,"label",13),c(1),l()),n&2){let o=u();Dt("for","app-cms-site-selector-",o.id,""),r(),v(o.optionLabel)}}function cc(n,s){if(n&1&&(b(0,"img",14),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModelSelect==null?null:o.dataModelSelect.linkMainImageIdSrc),J)}}function mc(n,s){if(n&1&&(b(0,"img",14),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function pc(n,s){if(n&1&&(a(0,"mat-option",15),C(1,mc,2,3,"img",5),a(2,"span"),c(3),l()()),n&2){let o=s.$implicit,i=u();p("value",o)("disabled",i.optionDisabled),r(),p("ngIf",o.linkMainImageIdSrc),r(2),v(i.displayOption(o))}}function uc(n,s){n&1&&b(0,"i",16)}function fc(n,s){n&1&&b(0,"i",17)}function gc(n,s){if(n&1){let o=E();a(0,"i",18),w("click",function(){f(o);let t=u();return g(t.onActionSelectClear())}),l()}}function _c(n,s){n&1&&(a(0,"em"),c(1),_(2,"translate"),l()),n&2&&(r(),M("(",h(2,1,"TITLE.Necessary"),")"))}var To=(()=>{let s=class s{constructor(i,t,e,m,S,d){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=m,this.translate=S,this.categoryService=d,this.id=++s.nextId,this.dataModelResult=new U,this.dataModelSelect=new Rt,this.formControl=new mi,this.optionPlaceholder="",this.optionSelectFirstItem=!1,this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ai(""),oi(1500),ri(),li(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return ti(this,null,function*(){let t=new ke;t.rowPerPage=20,t.accessLoad=!0;let e=new le;e.propertyName="Title",e.value=i,e.searchType=Wt.Contains,e.clauseType=it.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new le,e.propertyName="Id",e.value=i,e.searchType=Wt.Equal,e.clauseType=it.Or,t.filters.push(e));let m=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(S=>{this.publicHelper.processService.processStart(m,S,this.constructor.name)}),yield ii(this.categoryService.ServiceGetAll(t)).then(S=>(this.dataModelResult=S,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(m),S.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ni(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Rt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rt,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(I(oe),I(O),I(F),I(N),I(G),I(ot))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:sc,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,e){if(t&1){let m=E();si(),a(0,"div",1),b(1,"app-progress-spinner",2),C(2,dc,2,3,"label",3),a(3,"span",4),C(4,cc,2,3,"img",5),c(5," \xA0"),l(),b(6,"input",6),a(7,"mat-autocomplete",7,0),w("optionSelected",function(d){return f(m),g(e.onActionSelect(d.option.value))}),C(9,pc,4,4,"mat-option",8),_(10,"async"),l(),C(11,uc,1,0,"i",9)(12,fc,1,0,"i",10)(13,gc,1,0,"i",11)(14,_c,3,3,"em",12),di(15),l()}if(t&2){let m=R(8);r(),p("optionsInfoAreaId",e.constructor.name),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(2),p("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),A("placeholder",e.optionPlaceholder),Dt("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",m)("required",e.optionRequired),et("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",h(10,16,e.filteredOptions)),r(2),p("ngIf",!e.formControl.valid),r(),p("ngIf",e.optionRequired&&e.formControl.valid),r(),p("ngIf",(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id<=0))}},dependencies:[Fe,W,K,q,X,pi,Mi,ci,Ci,mn,j,Q,Oe,H,Se],encapsulation:2});let n=s;return n})();var Sc=["vform"];function Mc(n,s){if(n&1){let o=E();x(0),a(1,"div",8)(2,"label",9),c(3),l(),a(4,"input",10,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.title,t)||(e.dataModelResultCategory.item.title=t),g(t)}),l()(),a(6,"div",8)(7,"label",11),c(8),l(),a(9,"textarea",12,1),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultCategory.item.description,t)||(e.dataModelResultCategory.item.description=t),g(t)}),l()(),b(11,"app-linkmanagement-category-selector",13),_(12,"translate"),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),A("placeholder",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),y("ngModel",o.dataModelResultCategory.item.title),r(4),v(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),A("placeholder",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),y("ngModel",o.dataModelResultCategory.item.description),r(2),p("optionPlaceholder",h(12,7,"TITLE.Alternative_classification_to_move_information_to_this_branch"))}}function Cc(n,s){if(n&1){let o=E();a(0,"div",14)(1,"button",15),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",16),c(3),_(4,"translate"),l(),a(5,"button",17),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(6,"i",18),c(7),_(8,"translate"),l(),a(9,"button",19),w("click",function(){f(o);let t=u();return g(t.onFormMove())}),b(10,"i",16),c(11),_(12,"translate"),l()()}if(n&2){let o=u();r(3),M(" ",h(4,5,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(8,7,"ACTION.DELETE")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(12,9,"TITLE.MOVE_DATA")," ")}}var ko=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.categoryService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultCategory=new U,this.dataModelResultCategoryAllData=new U,this.dataModel={},this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultCategory=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let i=new ke;i.rowPerPage=100;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.categoryService.ServiceGetAll(i).subscribe({next:e=>{this.dataModelResultCategoryAllData=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(t)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onFormMove(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormChangeNewCatId(i){if(this.formInfo.formAlert="",this.requestId===0||!i||i.id<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=i.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(ot),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-delete"]],viewQuery:function(t,e){if(t&1&&ee(Sc,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:10,vars:7,consts:[["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.title","type","text","minlength","3","maxlength","50","required","","readonly","","id","dataModelResultCategory.item.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","name","dataModelResultCategory.item.description","type","text","minlength","1","maxlength","100","readonly","","required","","rows","5","id","dataModelResultCategory.item.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionPlaceholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button","c","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"]],template:function(t,e){t&1&&(a(0,"div",2),b(1,"app-progress-spinner",3),a(2,"div",4)(3,"p",5),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),C(8,Mc,13,9,"ng-container",6)(9,Cc,13,11,"div",7),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),p("ngIf",e.dataModelResultCategory==null?null:e.dataModelResultCategory.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,_e,he,z,j,Q,To,H]});let n=s;return n})();var bc=["vform"];function Ic(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",21),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vc(n,s){n&1&&b(0,"i",22)}function wc(n,s){n&1&&b(0,"i",23)}function Ec(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function yc(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Tc(n,s){if(n&1){let o=E();a(0,"div",10)(1,"label",24),c(2),l(),a(3,"textarea",25,2),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"             "),l(),a(6,"em"),c(7),l(),C(8,yc,5,4,"mat-error",15),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function kc(n,s){if(n&1&&(b(0,"img",26),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function Ac(n,s){if(n&1){let o=E();a(0,"div",10)(1,"label",27),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",28,3),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",29),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelected(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Icon_File")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0)("openDirectUploadView",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function xc(n,s){if(n&1){let o=E();a(0,"div",30)(1,"button",31),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",32),c(3),_(4,"translate"),l(),a(5,"button",33),b(6,"i",34),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Ao=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B){super(m,new Rt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Rt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(ot),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-edit"]],viewQuery:function(t,e){if(t&1&&ee(bc,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:28,vars:20,consts:[["vform","ngForm"],["Title",""],["Description",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openDirectUploadView","openForm","tree","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),b(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,Ic,1,5,"app-cms-enum-record-status-selector",9),a(11,"div",10)(12,"label",11),c(13),l(),a(14,"input",12,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(16,vc,1,0,"i",13)(17,wc,1,0,"i",14),a(18,"em"),c(19),l(),C(20,Ec,5,4,"mat-error",15),l(),C(21,Tc,9,5,"div",16),a(22,"div",17)(23,"a",18),_(24,"cmsthumbnail"),C(25,kc,2,3,"img",19),l()(),C(26,Ac,8,15,"div",16)(27,xc,9,7,"div",20),l()()()}if(t&2){let m=R(15);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(2),A("href",h(24,18,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,q,ve,X,_e,he,z,we,ye,j,Ae,Q,Je,H,Se],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();function Lc(n,s){if(n&1){let o=E();a(0,"button",12),w("click",function(){f(o);let t=u();return g(t.onActionAdd())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.ADD")))}function Rc(n,s){if(n&1){let o=E();a(0,"button",13),w("click",function(){f(o);let t=u();return g(t.onActionEdit())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.EDIT")))}function Dc(n,s){if(n&1){let o=E();a(0,"button",14),w("click",function(){f(o);let t=u();return g(t.onActionDelete())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.DELETE")))}function Bc(n,s){if(n&1){let o=E();a(0,"button",15),w("click",function(){f(o);let t=u();return g(t.onActionButtonReload())}),a(1,"mat-icon",16),_(2,"translate"),c(3,"refresh"),l()()}n&2&&(r(),A("title",h(2,1,"ACTION.RELOAD")))}function Vc(n,s){if(n&1){let o=E();a(0,"mat-tree-node",17),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),b(1,"button",18),c(2),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),M(" ",o.title," ")}}function Pc(n,s){if(n&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",19),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(3,"button",20),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(4,"mat-icon",21),c(5),l()(),c(6),l(),a(7,"ul"),Re(8,22),l()()()}if(n&2){let o=s.$implicit,i=u();r(2),pe("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===o.id),r(),et("aria-label","Toggle "+o.title),r(2),M(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),M(" ",o.title," "),r(),pe("category-tree-invisible",!i.treeControl.isExpanded(o))}}var yn=(()=>{let s=class s{constructor(i,t,e,m,S,d,D,B){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=m,this.tokenHelper=S,this.translate=d,this.cdr=D,this.publicHelper=B,this.dataModelSelect=new Rt,this.dataModelResult=new U,this.filterModel=new ke,this.treeControl=new Ni(V=>V.children),this.dataSource=new zi,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(V,Z)=>!!Z.children&&Z.children.length>0,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Rt,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){let i=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id);let t=new Gt;t.disableClose=!0,t.autoFocus=!0,t.data={parentId:i},this.dialog.open(yo,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ko,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}};s.\u0275fac=function(t){return new(t||s)(I(O),I(oe),I(ot),I(We),I(Pe),I(G),I(F),I(N))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),c(2),_(3,"translate"),L(),x(4,2),C(5,Lc,3,3,"button",3)(6,Rc,3,3,"button",4)(7,Dc,3,3,"button",5)(8,Bc,4,3,"button",6),L(),x(9,7),a(10,"mat-tree",8),C(11,Vc,3,7,"mat-tree-node",9)(12,Pc,9,7,"mat-nested-tree-node",10),l(),L(),Re(13,11),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),M(" ",h(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Ge,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,Li,H]});let n=s;return n})();function Oc(n,s){if(n&1){let o=E();a(0,"button",12),w("click",function(){f(o);let t=u();return g(t.onActionAdd())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.ADD")))}function Nc(n,s){if(n&1){let o=E();a(0,"button",13),w("click",function(){f(o);let t=u();return g(t.onActionEdit())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.EDIT")))}function Fc(n,s){if(n&1){let o=E();a(0,"button",14),w("click",function(){f(o);let t=u();return g(t.onActionDelete())}),c(1),_(2,"translate"),l()}n&2&&(r(),v(h(2,1,"ACTION.DELETE")))}function Gc(n,s){if(n&1){let o=E();a(0,"button",15),w("click",function(){f(o);let t=u();return g(t.onActionButtonReload())}),a(1,"mat-icon",16),_(2,"translate"),c(3,"refresh"),l()()}n&2&&(r(),A("title",h(2,1,"ACTION.RELOAD")))}function Wc(n,s){if(n&1){let o=E();a(0,"mat-tree-node",17),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),b(1,"button",18),c(2),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),M(" ",o.title," ")}}function Hc(n,s){if(n&1){let o=E();a(0,"mat-nested-tree-node")(1,"li")(2,"div",19),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(3,"button",20),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionSelect(t))}),a(4,"mat-icon",21),c(5),l()(),c(6),l(),a(7,"ul"),Re(8,22),l()()()}if(n&2){let o=s.$implicit,i=u();r(2),pe("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===o.id),r(),et("aria-label","Toggle "+o.title),r(2),M(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),M(" ",o.title," "),r(),pe("category-tree-invisible",!i.treeControl.isExpanded(o))}}var Tn=(()=>{let s=class s{constructor(i,t,e,m,S,d,D,B){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=m,this.tokenHelper=S,this.translate=d,this.cdr=D,this.publicHelper=B,this.dataModelSelect=new Ke,this.dataModelResult=new U,this.filterModel=new ke,this.treeControl=new Ni(V=>null),this.dataSource=new zi,this.optionChange=new Ue,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(V,Z)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Ke,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){let i=0;this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id);let t=new Gt;t.height="90%",t.disableClose=!0,t.autoFocus=!0,t.data={parentId:i},this.dialog.open(In,t).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(wn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}};s.\u0275fac=function(t){return new(t||s)(I(O),I(oe),I(nt),I(We),I(Pe),I(G),I(F),I(N))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-billboard-pattern-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(a(0,"app-cms-html-tree",0),x(1,1),c(2),_(3,"translate"),L(),x(4,2),C(5,Oc,3,3,"button",3)(6,Nc,3,3,"button",4)(7,Fc,3,3,"button",5)(8,Gc,4,3,"button",6),L(),x(9,7),a(10,"mat-tree",8),C(11,Wc,3,7,"mat-tree-node",9)(12,Hc,9,7,"mat-nested-tree-node",10),l(),L(),Re(13,11),l()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),M(" ",h(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Ge,Ce,Wi,Gi,Hi,Ui,ji,Fi,qi,Li,H],encapsulation:2});let n=s;return n})();var qc=()=>[5,10,20,100],jc=n=>({display:n});function Uc(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",44),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",45)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function zc(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",14),w("click",function(){f(o);let t=u();return g(t.onActionButtonLog())}),b(2,"i",46)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.REPORTS")))}function Qc(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",47),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",48)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Kc(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Jc(n,s){n&1&&(a(0,"mat-header-cell",51),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function Xc(n,s){if(n&1&&(b(0,"img",53),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function Yc(n,s){if(n&1&&(a(0,"mat-cell"),C(1,Xc,2,3,"img",52),l()),n&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Zc(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function $c(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function em(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function tm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function im(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function nm(n,s){if(n&1&&b(0,"select",56),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,jc,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function om(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",54),_(2,"statusIconClass"),C(3,nm,1,5,"select",55),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rm(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function am(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.title," ")}}function lm(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function sm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function dm(n,s){if(n&1&&(a(0,"mat-header-cell",51),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function cm(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function mm(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function pm(n,s){if(n&1&&(a(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function um(n,s){n&1&&b(0,"mat-header-row")}function fm(n,s){if(n&1){let o=E();a(0,"mat-row",59),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var On=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V,Z){if(super(i,new Yt,V,S,D),this.contentService=i,this.cmsToastrService=t,this.router=e,this.activatedRoute=m,this.tokenHelper=S,this.cdr=d,this.translate=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Z,this.requestLinkBillboardPatternId=0,this.filteModelContent=new _n,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkBillboardPatternId>0){let Y=new le;Y.propertyName="LinkBillboardPatternId",Y.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(Y)}}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Yt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new le;e.propertyName="linkBillboardPatternId",e.value=this.categoryModelSelected.id,t.filters.push(e)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let e=new le;e.propertyName="billboardCategories",e.propertyAnyName="linkCategoryId",e.value=this.categoryPatternModelSelected.id,t.filters.push(e)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new _n,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryPatternModelSelected=i,this.DataGetAll()}onActionSelectorSelectCategory(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new _n,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/billboard/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Eo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionButtonLog(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementBillboardId",i.id])}};s.\u0275fac=function(t){return new(t||s)(I(Kt),I(O),I(Ne),I(ze),I(Pe),I(F),I(G),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-Billboard-list"]],features:[$],decls:69,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectPattern(d))}),l(),a(3,"app-linkmanagement-category-tree",5),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectCategory(d))}),l(),L(),Re(4,6),x(5,7),a(6,"div",8)(7,"div",9)(8,"a",10)(9,"mat-slide-toggle",11),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(10),_(11,"translate"),l(),a(12,"a",10)(13,"mat-slide-toggle",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(14),_(15,"translate"),l()(),a(16,"div",13)(17,"a",14),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(18,"i",15),l(),a(19,"a",14),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(20,"i",16),l()()(),L(),x(21,17),C(22,Uc,7,3,"div",18)(23,zc,7,3,"div",18),L(),x(24,19),C(25,Qc,7,3,"div",18)(26,Kc,7,3,"div",18),a(27,"div",20)(28,"a",21),w("click",function(){return f(m),g(e.onActionButtonLog(e.tableRowSelected))}),b(29,"i",22)(30,"br"),l(),a(31,"p",23),c(32),_(33,"translate"),l()(),L(),x(34,24),a(35,"app-cms-search-list",25),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(36,"app-cms-statist-list",25),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(37,26),a(38,"mat-table",27,0),w("matSortChange",function(){f(m);let d=R(39);return g(e.onTableSortData(d))}),x(40,28),C(41,Jc,3,3,"mat-header-cell",29)(42,Yc,2,1,"mat-cell",30),L(),x(43,31),C(44,Zc,2,1,"mat-header-cell",29)(45,$c,2,1,"mat-cell",30),L(),x(46,32),C(47,em,2,1,"mat-header-cell",29)(48,tm,4,5,"mat-cell",30),L(),x(49,33),C(50,im,2,1,"mat-header-cell",29)(51,om,4,4,"mat-cell",30),L(),x(52,34),C(53,rm,2,1,"mat-header-cell",29)(54,am,2,1,"mat-cell",30),L(),x(55,35),C(56,lm,2,1,"mat-header-cell",29)(57,sm,2,1,"mat-cell",30),L(),x(58,36),C(59,dm,2,1,"mat-header-cell",29)(60,cm,2,1,"mat-cell",30),L(),x(61,37),C(62,mm,3,3,"mat-header-cell",38)(63,pm,6,1,"mat-cell",39),L(),C(64,um,1,0,"mat-header-row",40)(65,fm,1,6,"mat-row",41),l(),L(),x(66,42),a(67,"mat-paginator",43,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(9),y("ngModel",e.optionsSearch.data.show),r(),M("",h(11,25,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M(" ",h(15,27,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(h(33,29,"ACTION.LOG")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(26),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(31,qc)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Et,yt,wt,jt,yn,Tn,Oe,H,It,Se,vt],encapsulation:2});let n=s;return n})();var _m=["vform"];function hm(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",22),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Sm(n,s){if(n&1){let o=E();a(0,"div",23)(1,"div",24)(2,"h5",25),c(3),l()(),a(4,"div",26)(5,"div",27)(6,"input",28),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isInBlackList,t)||(e.dataModel.isInBlackList=t),g(t)}),l(),b(7,"label",29),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle,""),r(3),y("ngModel",o.dataModel.isInBlackList)}}function Mm(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Cm(n,s){if(n&1){let o=E();a(0,"div",13)(1,"label",30),c(2),l(),a(3,"textarea",31,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"             "),l(),a(6,"em"),c(7),l(),C(8,Mm,5,4,"mat-error",18),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function bm(n,s){n&1&&b(0,"i",32)}function Im(n,s){n&1&&b(0,"i",33)}function vm(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentDebtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function wm(n,s){n&1&&b(0,"i",32)}function Em(n,s){n&1&&b(0,"i",33)}function ym(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentCreditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Tm(n,s){if(n&1){let o=E();a(0,"div",34)(1,"button",35),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",36),c(3),_(4,"translate"),l(),a(5,"button",37),b(6,"i",38),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Ro=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B){super(m,new Lt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new U,this.dataModel=new Lt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Information_user_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkExternalCmsUserId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(qt),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-add"]],viewQuery:function(t,e){if(t&1&&ee(_m,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:34,vars:30,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),b(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,hm,1,5,"app-cms-enum-record-status-selector",9),a(11,"app-cms-user-selector",10),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorCmsUser(d))}),l(),C(13,Sm,8,2,"div",11)(14,Cm,9,5,"div",12),a(15,"div",13)(16,"label",14),c(17),l(),a(18,"input",15,1),_(20,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentDebtor,d)||(e.dataModel.currentDebtor=d),g(d)}),l(),C(21,bm,1,0,"i",16)(22,Im,1,0,"i",17)(23,vm,5,3,"mat-error",18),l(),a(24,"div",13)(25,"label",19),c(26),l(),a(27,"input",20,2),_(29,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentCreditor,d)||(e.dataModel.currentCreditor=d),g(d)}),l(),C(30,wm,1,0,"i",16)(31,Em,1,0,"i",17)(32,ym,5,3,"mat-error",18),l(),C(33,Tm,9,7,"div",21),l()()()}if(t&2){let m=R(19),S=R(28);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkExternalCmsUserId!=null&&e.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkExternalCmsUserId)("optionPlaceholder",h(12,24,"TITLE.Account")),r(2),p("ngIf",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle),r(),A("placeholder",h(20,26,"TITLE.Current_Credit_Of_Debtor")),y("ngModel",e.dataModel.currentDebtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle),r(),A("placeholder",h(29,28,"TITLE.Current_Credit_Of_Creditor")),y("ngModel",e.dataModel.currentCreditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,Ve,Vt,q,ve,X,_e,he,z,we,ye,j,Ae,Sn,Q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var km=["vform"];function Am(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function xm(n,s){if(n&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",12),c(3),_(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(6,"i",14),c(7),_(8,"translate"),l()()}if(n&2){let o=u();r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(8,5,"ACTION.DELETE")," ")}}var Do=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.linkManagementMemberService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId=0,this.fieldsInfo=new Map,this.dataModelResultContent=new U,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0)}ngOnInit(){if(this.requestId<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementMemberService.setAccessLoad(),this.linkManagementMemberService.setAccessDataType(Te.Editor),this.linkManagementMemberService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormDelete(){if(this.requestId===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementMemberService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(qt),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-delete"]],viewQuery:function(t,e){if(t&1&&ee(km,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,Am,6,3,"ng-container",5)(10,xm,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,z,j,Q,H]});let n=s;return n})();var Lm=["vform"];function Rm(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",22),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Dm(n,s){if(n&1){let o=E();a(0,"div",23)(1,"div",24)(2,"h5",25),c(3),l()(),a(4,"div",26)(5,"div",27)(6,"input",28),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isInBlackList,t)||(e.dataModel.isInBlackList=t),g(t)}),l(),b(7,"label",29),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle,""),r(3),y("ngModel",o.dataModel.isInBlackList)}}function Bm(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u(2);r(),M(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function Vm(n,s){if(n&1){let o=E();a(0,"div",13)(1,"label",30),c(2),l(),a(3,"textarea",31,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.description,t)||(e.dataModel.description=t),g(t)}),c(5,"             "),l(),a(6,"em"),c(7),l(),C(8,Bm,5,4,"mat-error",18),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),y("ngModel",i.dataModel.description),r(4),M("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Pm(n,s){n&1&&b(0,"i",32)}function Om(n,s){n&1&&b(0,"i",33)}function Nm(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentDebtor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Fm(n,s){n&1&&b(0,"i",32)}function Gm(n,s){n&1&&b(0,"i",33)}function Wm(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentCreditor is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Hm(n,s){if(n&1){let o=E();a(0,"div",34)(1,"button",35),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",36),c(3),_(4,"translate"),l(),a(5,"button",37),b(6,"i",38),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var Bo=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B){super(m,new Lt,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Lt,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Information_user_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkExternalCmsUserId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(qt),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-edit"]],viewQuery:function(t,e){if(t&1&&ee(Lm,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:34,vars:30,consts:[["vform","ngForm"],["CurrentDebtor",""],["CurrentCreditor",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.currentDebtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentDebtor","minlength","0","required","","id","dataModel.currentDebtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.currentCreditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentCreditor","minlength","0","required","","id","dataModel.currentCreditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isInBlackList",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isInBlackList","name","dataModel.isInBlackList",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isInBlackList",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",4),b(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",8,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,Rm,1,5,"app-cms-enum-record-status-selector",9),a(11,"app-cms-user-selector",10),_(12,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorCmsUser(d))}),l(),C(13,Dm,8,2,"div",11)(14,Vm,9,5,"div",12),a(15,"div",13)(16,"label",14),c(17),l(),a(18,"input",15,1),_(20,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentDebtor,d)||(e.dataModel.currentDebtor=d),g(d)}),l(),C(21,Pm,1,0,"i",16)(22,Om,1,0,"i",17)(23,Nm,5,3,"mat-error",18),l(),a(24,"div",13)(25,"label",19),c(26),l(),a(27,"input",20,2),_(29,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentCreditor,d)||(e.dataModel.currentCreditor=d),g(d)}),l(),C(30,Fm,1,0,"i",16)(31,Gm,1,0,"i",17)(32,Wm,5,3,"mat-error",18),l(),C(33,Hm,9,7,"div",21),l()()()}if(t&2){let m=R(19),S=R(28);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),p("optionDisabled",!(e.fieldsInfo.linkExternalCmsUserId!=null&&e.fieldsInfo.linkExternalCmsUserId.accessAddField))("optionSelectForce",e.dataModel.linkExternalCmsUserId)("optionPlaceholder",h(12,24,"TITLE.Account")),r(2),p("ngIf",e.fieldsInfo.isInBlackList==null?null:e.fieldsInfo.isInBlackList.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(3),v(e.fieldsInfo.currentDebtor==null?null:e.fieldsInfo.currentDebtor.fieldTitle),r(),A("placeholder",h(20,26,"TITLE.Current_Credit_Of_Debtor")),y("ngModel",e.dataModel.currentDebtor),r(3),p("ngIf",!m.value),r(),p("ngIf",m.value),r(),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.currentCreditor==null?null:e.fieldsInfo.currentCreditor.fieldTitle),r(),A("placeholder",h(29,28,"TITLE.Current_Credit_Of_Creditor")),y("ngModel",e.dataModel.currentCreditor),r(3),p("ngIf",!S.value),r(),p("ngIf",S.value),r(),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,Ve,Vt,q,ve,X,_e,he,z,we,ye,j,Ae,Sn,Q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var jm=()=>["expandedTitle"],Um=()=>["expandedDetail"],zm=()=>[5,10,20,100],Vo=n=>({display:n});function Qm(n,s){if(n&1){let o=E();a(0,"div",44)(1,"a",45),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",46)(3,"br"),l(),a(4,"p",47),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function Km(n,s){if(n&1){let o=E();a(0,"div",44)(1,"a",48),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",49)(3,"br"),l(),a(4,"p",47),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Jm(n,s){if(n&1){let o=E();a(0,"div",44)(1,"a",50),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",51)(3,"br"),l(),a(4,"p",47),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Xm(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.MENU")," "))}function Ym(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",52),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),b(2,"i",53),l()()}}function Zm(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function $m(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function ep(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function tp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function ip(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function np(n,s){if(n&1&&b(0,"select",57),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,Vo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function op(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",55),_(2,"statusIconClass"),C(3,np,1,5,"select",56),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function rp(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.isInBlackList==null?null:o.fieldsInfo.isInBlackList.fieldTitle," ")}}function ap(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",55),_(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),p("ngClass",h(2,1,o.isInBlackList))}}function lp(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function sp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.createdDate)," ")}}function dp(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function cp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function mp(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.currentDebtor==null?null:o.fieldsInfo.currentDebtor.fieldTitle," ")}}function pp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.currentDebtor," ")}}function up(n,s){if(n&1&&(a(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.currentCreditor==null?null:o.fieldsInfo.currentCreditor.fieldTitle," ")}}function fp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.currentCreditor," ")}}function gp(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function _p(n,s){if(n&1&&(a(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function hp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),b(3,"br"),c(4),_(5,"translate"),l()),n&2){let o=s.$implicit,i=u();r(),De(" ",h(2,4,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDate(o.createdDate)," "),r(3),De(" ",h(5,6,"TITLE.DateOfUpdate")," : ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function Sp(n,s){if(n&1&&(b(0,"img",64),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function Mp(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De(" ",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle," : ",o.description," ")}}function Cp(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,Sp,2,3,"img",60),l(),a(6,"th")(7,"span",61),w("click",function(){f(o);let t=u();return g(t.onActionCopied())}),b(8,"i",62),l(),c(9),l()(),C(10,Mp,4,2,"tr",63),a(11,"tr"),b(12,"td")(13,"td"),l()()()()}if(n&2){let o=s.$implicit;r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),p("cdkCopyToClipboard",o.id),r(2),M(" ",o.id," "),r(),p("ngIf",o.description)}}function bp(n,s){n&1&&b(0,"mat-header-row")}function Ip(n,s){if(n&1){let o=E();a(0,"mat-row",65),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function vp(n,s){if(n&1){let o=E();a(0,"mat-row",65),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function wp(n,s){if(n&1){let o=E();a(0,"mat-row",66),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Vo,o.expanded===!0?"":"none"))}}var Po=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V){super(i,new Lt,B,m,S),this.contentService=i,this.cmsToastrService=t,this.router=e,this.tokenHelper=m,this.translate=S,this.cdr=d,this.pageInfo=D,this.publicHelper=B,this.dialog=V,this.filteModelContent=new ke,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","CurrentDebtor","CurrentCreditor","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Z=>this.onSubmitOptionsSearch(Z)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){let i=new Gt;i.disableClose=!0,i.autoFocus=!0,i.data={},this.dialog.open(Ro,i).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Bo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Do,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess&&(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(I(qt),I(O),I(Ne),I(Pe),I(G),I(F),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-member-list"]],features:[$],decls:72,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsInBlackList"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","CurrentDebtor"],["matColumnDef","CurrentCreditor"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),c(2," ---------------------- "),L(),Re(3,5),x(4,6),a(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),_(10,"translate"),l(),a(11,"a",9)(12,"mat-slide-toggle",11),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),_(14,"translate"),l()(),a(15,"div",12)(16,"a",13),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(17,"i",14),l(),a(18,"a",13),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(19,"i",15),l()()(),L(),x(20,16),C(21,Qm,7,3,"div",17),L(),x(22,18),C(23,Km,7,3,"div",17)(24,Jm,7,3,"div",17),L(),x(25,19),a(26,"app-cms-search-list",20),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(27,"app-cms-statist-list",20),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(28,21),a(29,"mat-table",22,0),w("matSortChange",function(){f(m);let d=R(30);return g(e.onTableSortData(d))}),x(31,23),C(32,Xm,3,3,"mat-header-cell",24)(33,Ym,3,0,"mat-cell",25),L(),x(34,26),C(35,Zm,2,1,"mat-header-cell",27)(36,$m,2,1,"mat-cell",25),L(),x(37,28),C(38,ep,2,1,"mat-header-cell",27)(39,tp,4,5,"mat-cell",25),L(),x(40,29),C(41,ip,2,1,"mat-header-cell",27)(42,op,4,4,"mat-cell",25),L(),x(43,30),C(44,rp,2,1,"mat-header-cell",27)(45,ap,3,3,"mat-cell",25),L(),x(46,31),C(47,lp,2,1,"mat-header-cell",27)(48,sp,2,1,"mat-cell",25),L(),x(49,32),C(50,dp,2,1,"mat-header-cell",27)(51,cp,2,1,"mat-cell",25),L(),x(52,33),C(53,mp,2,1,"mat-header-cell",27)(54,pp,2,1,"mat-cell",25),L(),x(55,34),C(56,up,2,1,"mat-header-cell",27)(57,fp,2,1,"mat-cell",25),L(),x(58,35),C(59,gp,3,3,"mat-header-cell",24)(60,_p,6,1,"mat-cell",36),L(),x(61,37),C(62,hp,6,8,"mat-cell",25),L(),x(63,38),C(64,Cp,14,4,"mat-cell",25),L(),C(65,bp,1,0,"mat-header-row",39)(66,Ip,1,6,"mat-row",40)(67,vp,1,6,"mat-row",40)(68,wp,1,9,"mat-row",41),l(),L(),x(69,42),a(70,"mat-paginator",43,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),y("ngModel",e.optionsSearch.data.show),r(),M("",h(10,26,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M(" ",h(14,28,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(30,jm)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(31,Um)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(32,zm)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Si,Et,yt,wt,jt,Oe,H,It,Se,vt,hn],encapsulation:2});let n=s;return n})();var Ep=["vform"];function yp(n,s){if(n&1){let o=E();x(0),a(1,"div",7)(2,"label",8),c(3),l(),a(4,"input",9,0),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModelResultContent.item.id,t)||(e.dataModelResultContent.item.id=t),g(t)}),l()(),L()}if(n&2){let o=u();r(3),v(o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),r(),A("placeholder",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle),y("ngModel",o.dataModelResultContent.item.id)}}function Tp(n,s){if(n&1){let o=E();a(0,"div",10)(1,"button",11),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",12),c(3),_(4,"translate"),l(),a(5,"button",13),w("click",function(){f(o);let t=u();return g(t.onFormDelete())}),b(6,"i",14),c(7),_(8,"translate"),l()()}if(n&2){let o=u();r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),M(" ",h(8,5,"ACTION.DELETE")," ")}}var Oo=(()=>{let s=class s{constructor(i,t,e,m,S,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.linkManagementTargetBillboardLogService=m,this.cdr=S,this.translate=d,this.cmsToastrService=D,this.requestId="",this.fieldsInfo=new Map,this.dataModelResultContent=new U,this.formInfo=new ne,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id)}ngOnInit(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetBillboardLogService.setAccessLoad(),this.linkManagementTargetBillboardLogService.setAccessDataType(Te.Editor),this.linkManagementTargetBillboardLogService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultContent=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetBillboardLogService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(N),I(hi),I(F),I(G),I(O))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-delete"]],viewQuery:function(t,e){if(t&1&&ee(Ep,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},decls:11,vars:7,consts:[["Writer",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultContent.item.id",1,"color-highlight"],["matInput","","name","dataModelResultContent.item.id","type","text","required","","id","dataModelResultContent.item.id","readonly","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){t&1&&(a(0,"div",1),b(1,"app-progress-spinner",2),a(2,"div",3)(3,"p",4),c(4," \u062D\u0633\u0627\u0628 \u06A9\u0627\u0631\u0628\u0631\u06CC \u062E\u0648\u062F \u0631\u0627 \u0648\u06CC\u0631\u0627\u06CC\u0634 \u06A9\u0646\u06CC\u062F "),l(),a(5,"p"),c(6),_(7,"translate"),l(),c(8),C(9,yp,6,3,"ng-container",5)(10,Tp,9,7,"div",6),l()()),t&2&&(r(),p("optionsInfoAreaId",e.constructor.name),r(5),M(" ",h(7,5,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),M(" ",e.formInfo.formTitle," "),r(),p("ngIf",e.dataModelResultContent==null?null:e.dataModelResultContent.item),r(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,K,q,X,z,j,Q,H]});let n=s;return n})();var kp=["vform"];function Ap(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",31),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function xp(n,s){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Lp(n,s){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Rp(n,s){n&1&&(a(0,"mat-error"),c(1," DeviceId is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Dp(n,s){n&1&&(a(0,"mat-error"),c(1," IpAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Bp(n,s){n&1&&(a(0,"mat-error"),c(1," BrowserName is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Vp(n,s){if(n&1){let o=E();a(0,"div",32)(1,"button",33),w("click",function(){f(o);let t=u();return g(t.onFormCancel())}),b(2,"i",34),c(3),_(4,"translate"),l(),a(5,"button",35),b(6,"i",36),c(7),_(8,"translate"),l()()}if(n&2){u();let o=R(9);r(3),M(" ",h(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),M(" ",h(8,5,"ACTION.SAVE")," ")}}var No=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B){super(m,new Pi,d,B),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.categoryService=m,this.cmsToastrService=S,this.publicHelper=d,this.cdr=D,this.translate=B,this.requestId="",this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Qe,this.dataModel=new Pi,this.formInfo=new ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.setAccessLoad(),this.categoryService.setAccessDataType(Te.Editor),this.categoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.categoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorLinkManagementBillboardId(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Information_billboard_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementBillboardId=i.id}onActionSelectorLinkManagementTargetId(i){if(!i||!i.id||i.id<=0){let t=this.translate.instant("MESSAGE.Information_target_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkManagementTargetId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(I(me),I(ce),I(oe),I(hi),I(O),I(N),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-edit"]],viewQuery:function(t,e){if(t&1&&ee(kp,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:60,vars:40,consts:[["vform","ngForm"],["LinkManagementBillboardId",""],["LinkManagementTargetId",""],["ClickPrice",""],["ViewPrice",""],["DeviceId",""],["IpAddress",""],["BrowserName",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.linkManagementBillboardId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementBillboardId","id","dataModel.linkManagementBillboardId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.linkManagementTargetId",1,"color-highlight"],["matInput","","type","number","name","dataModel.linkManagementTargetId","id","dataModel.linkManagementTargetId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.deviceId",1,"color-highlight"],["matInput","","type","number","name","dataModel.deviceId","minlength","3","maxlength","100","required","","id","dataModel.deviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.ipAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.ipAddress","minlength","3","maxlength","100","required","","id","dataModel.ipAddress",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.browserName",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserName","minlength","3","maxlength","100","required","","id","dataModel.browserName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let m=E();a(0,"div",8),b(1,"app-progress-spinner",9),a(2,"div",10)(3,"p",11),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",12,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),C(10,Ap,1,5,"app-cms-enum-record-status-selector",13),a(11,"div",14)(12,"label",15),c(13),l(),a(14,"input",16,1),k("ngModelChange",function(d){return f(m),T(e.dataModel.linkManagementBillboardId,d)||(e.dataModel.linkManagementBillboardId=d),g(d)}),l()(),a(16,"div",14)(17,"label",17),c(18),l(),a(19,"input",18,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.linkManagementTargetId,d)||(e.dataModel.linkManagementTargetId=d),g(d)}),l()(),a(21,"div",14)(22,"label",19),c(23),l(),a(24,"input",20,3),_(26,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.clickPrice,d)||(e.dataModel.clickPrice=d),g(d)}),l(),C(27,xp,5,3,"mat-error",21),l(),a(28,"div",14)(29,"label",22),c(30),l(),a(31,"input",23,4),_(33,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.viewPrice,d)||(e.dataModel.viewPrice=d),g(d)}),l(),C(34,Lp,5,3,"mat-error",21),l(),a(35,"div",14)(36,"label",24),c(37),l(),a(38,"input",25,5),k("ngModelChange",function(d){return f(m),T(e.dataModel.deviceId,d)||(e.dataModel.deviceId=d),g(d)}),l(),a(40,"em"),c(41),l(),C(42,Rp,5,3,"mat-error",21),l(),a(43,"div",14)(44,"label",26),c(45),l(),a(46,"input",27,6),k("ngModelChange",function(d){return f(m),T(e.dataModel.ipAddress,d)||(e.dataModel.ipAddress=d),g(d)}),l(),a(48,"em"),c(49),l(),C(50,Dp,5,3,"mat-error",21),l(),a(51,"div",14)(52,"label",28),c(53),l(),a(54,"input",29,7),k("ngModelChange",function(d){return f(m),T(e.dataModel.browserName,d)||(e.dataModel.browserName=d),g(d)}),l(),a(56,"em"),c(57),l(),C(58,Bp,5,3,"mat-error",21),l(),C(59,Vp,9,7,"div",30),l()()()}if(t&2){let m=R(25),S=R(32),d=R(39),D=R(47),B=R(55);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkManagementBillboardId==null?null:e.fieldsInfo.linkManagementBillboardId.fieldTitle),y("ngModel",e.dataModel.linkManagementBillboardId),r(4),v(e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle),r(),A("placeholder",e.fieldsInfo.linkManagementTargetId==null?null:e.fieldsInfo.linkManagementTargetId.fieldTitle),y("ngModel",e.dataModel.linkManagementTargetId),r(4),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",h(26,36,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",m.errors==null?null:m.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",h(33,38,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",S.errors==null?null:S.errors.required),r(3),v(e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle),r(),A("placeholder",e.fieldsInfo.deviceId==null?null:e.fieldsInfo.deviceId.fieldTitle),y("ngModel",e.dataModel.deviceId),r(3),M("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.ipAddress==null?null:e.fieldsInfo.ipAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.ipAddress==null?null:e.fieldsInfo.ipAddress.fieldTitle),y("ngModel",e.dataModel.ipAddress),r(3),M("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.browserName==null?null:e.fieldsInfo.browserName.fieldTitle),r(),A("placeholder",e.fieldsInfo.browserName==null?null:e.fieldsInfo.browserName.fieldTitle),y("ngModel",e.dataModel.browserName),r(3),M("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,Ee,K,Ve,q,ve,X,_e,he,z,we,ye,j,Ae,Q,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Pp=()=>["expandedTitle"],Op=()=>["expandedDetail"],Np=()=>[5,10,20,100],Fo=n=>({display:n});function Fp(n,s){if(n&1){let o=E();a(0,"a",46),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),b(1,"i",47),l()}}function Gp(n,s){if(n&1){let o=E();a(0,"div",48)(1,"a",49),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",50)(3,"br"),l(),a(4,"p",51),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Wp(n,s){if(n&1){let o=E();a(0,"div",48)(1,"a",52),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",53)(3,"br"),l(),a(4,"p",51),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Hp(n,s){if(n&1){let o=E();a(0,"div",48)(1,"a",54),w("click",function(){f(o);let t=u();return g(t.onActionButtonViewRowLinkTargetId(t.tableRowSelected))}),b(2,"i",55)(3,"br"),l(),a(4,"p",51),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.BANNER")))}function qp(n,s){if(n&1){let o=E();a(0,"div",48)(1,"a",54),w("click",function(){f(o);let t=u();return g(t.onActionButtonViewRowLinkbillboardId(t.tableRowSelected))}),b(2,"i",56)(3,"br"),l(),a(4,"p",51),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.BILLBOARD")))}function jp(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.MENU")," "))}function Up(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",57),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),b(2,"i",58),l()()}}function zp(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Qp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function Kp(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jp(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function Xp(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Yp(n,s){if(n&1&&b(0,"select",62),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,Fo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Zp(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",60),_(2,"statusIconClass"),C(3,Yp,1,5,"select",61),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function $p(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.clickPrice==null?null:o.fieldsInfo.clickPrice.fieldTitle," ")}}function e0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.clickPrice," ")}}function t0(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.viewPrice==null?null:o.fieldsInfo.viewPrice.fieldTitle," ")}}function i0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.viewPrice," ")}}function n0(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function o0(n,s){if(n&1&&(a(0,"mat-cell",63),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function r0(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkManagementBillboardId==null?null:o.fieldsInfo.linkManagementBillboardId.fieldTitle," ")}}function a0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.linkManagementBillboardId," ")}}function l0(n,s){if(n&1&&(a(0,"mat-header-cell",59),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkManagementTargetId==null?null:o.fieldsInfo.linkManagementTargetId.fieldTitle," ")}}function s0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.linkManagementTargetId," ")}}function d0(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function c0(n,s){if(n&1&&(a(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function m0(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),b(3,"br"),c(4),_(5,"translate"),l()),n&2){let o=s.$implicit,i=u();r(),De(" ",h(2,4,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDate(o.createdDate)," "),r(3),De(" ",h(5,6,"TITLE.Id")," : ",o.id," ")}}function p0(n,s){if(n&1&&(b(0,"img",67),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function u0(n,s){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,p0,2,3,"img",66),l(),a(6,"th"),c(7),l()(),a(8,"tr"),b(9,"td"),a(10,"td"),c(11),l()(),a(12,"tr"),b(13,"td"),a(14,"td"),c(15),l()(),a(16,"tr"),b(17,"td"),a(18,"td"),c(19),l()(),a(20,"tr"),b(21,"td")(22,"td"),l()()()()),n&2){let o=s.$implicit,i=u();r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),De("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",o.id,""),r(4),De("",i.fieldsInfo.ipAddress==null?null:i.fieldsInfo.ipAddress.fieldTitle," : ",o.ipAddress,""),r(4),De("",i.fieldsInfo.deviceId==null?null:i.fieldsInfo.deviceId.fieldTitle," : ",o.deviceId,""),r(4),De("",i.fieldsInfo.browserName==null?null:i.fieldsInfo.browserName.fieldTitle," : ",o.browserName,"")}}function f0(n,s){n&1&&b(0,"mat-header-row")}function g0(n,s){if(n&1){let o=E();a(0,"mat-row",68),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function _0(n,s){if(n&1){let o=E();a(0,"mat-row",68),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function h0(n,s){if(n&1){let o=E();a(0,"mat-row",69),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Fo,o.expanded===!0?"":"none"))}}var ln=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V,Z){if(super(i,new Pi,V,S,D),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.router=m,this.tokenHelper=S,this.cdr=d,this.translate=D,this.pageInfo=B,this.publicHelper=V,this.dialog=Z,this.requestLinkManagementBillboardId=0,this.requestLinkManagementTargetId=0,this.requestKey="",this.filteModelContent=new ke,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"],this.tabledisplayedColumnsMobileSource=["ClickPrice","ViewPrice","LinkManagementBillboardId","LinkManagementTargetId","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkManagementBillboardId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementBillboardId")),this.requestLinkManagementTargetId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkManagementTargetId")),this.activatedRoute.snapshot.paramMap.get("Key")&&(this.requestKey=this.activatedRoute.snapshot.paramMap.get("Key")),this.requestLinkManagementBillboardId>0){let Y=new le;Y.propertyName="LinkManagementBillboardId",Y.value=this.requestLinkManagementBillboardId,this.filteModelContent.filters.push(Y)}if(this.requestLinkManagementTargetId>0){let Y=new le;Y.propertyName="LinkManagementTargetId",Y.value=this.requestLinkManagementTargetId,this.filteModelContent.filters.push(Y)}this.optionsSearch.parentMethods={onSubmit:Y=>this.onSubmitOptionsSearch(Y)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pi);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.setAccessLoad(),this.requestKey&&this.requestKey.length>0?this.contentService.ServiceGetAllByKey(this.requestKey,t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}}):this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(No,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Oo,{height:"90%",panelClass:t,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRowLinkbillboardId(i=this.tableRowSelected,t){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(i),t?.ctrlKey?(this.link="/#/linkmanagement/billboard/edit/"+this.tableRowSelected.linkManagementBillboardId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/billboard/edit",this.tableRowSelected.linkManagementBillboardId])}onActionButtonViewRowLinkTargetId(i=this.tableRowSelected,t){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}this.onActionTableRowSelect(i),t?.ctrlKey?(this.link="/#/linkmanagement/target/edit/"+this.tableRowSelected.linkManagementTargetId,window.open(this.link,"_blank")):this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.linkManagementTargetId])}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.requestLinkManagementBillboardId>0&&this.router.navigate(["/linkmanagement/billboard/"]),this.requestLinkManagementTargetId>0&&this.router.navigate(["/linkmanagement/target/"])}};s.\u0275fac=function(t){return new(t||s)(I(hi),I(O),I(ze),I(Ne),I(Pe),I(F),I(G),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-billboard-log-list"]],features:[$],decls:74,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","ClickPrice"],["matColumnDef","ViewPrice"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","LinkManagementBillboardId"],["matColumnDef","LinkManagementTargetId"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-flag","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-billboard","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),c(2," ---------------------- "),L(),Re(3,5),x(4,6),a(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),_(10,"translate"),l(),a(11,"a",9)(12,"mat-slide-toggle",11),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),_(14,"translate"),l()(),a(15,"div",12)(16,"a",13),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(17,"i",14),l(),a(18,"a",13),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(19,"i",15),l(),C(20,Fp,2,0,"a",16),l()(),L(),Re(21,17),x(22,18),C(23,Gp,7,3,"div",19)(24,Wp,7,3,"div",19)(25,Hp,7,3,"div",19)(26,qp,7,3,"div",19),L(),x(27,20),a(28,"app-cms-search-list",21),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(29,"app-cms-statist-list",21),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(30,22),a(31,"mat-table",23,0),w("matSortChange",function(){f(m);let d=R(32);return g(e.onTableSortData(d))}),x(33,24),C(34,jp,3,3,"mat-header-cell",25)(35,Up,3,0,"mat-cell",26),L(),x(36,27),C(37,zp,2,1,"mat-header-cell",28)(38,Qp,2,1,"mat-cell",26),L(),x(39,29),C(40,Kp,2,1,"mat-header-cell",28)(41,Jp,4,5,"mat-cell",26),L(),x(42,30),C(43,Xp,2,1,"mat-header-cell",28)(44,Zp,4,4,"mat-cell",26),L(),x(45,31),C(46,$p,2,1,"mat-header-cell",28)(47,e0,2,1,"mat-cell",26),L(),x(48,32),C(49,t0,2,1,"mat-header-cell",28)(50,i0,2,1,"mat-cell",26),L(),x(51,33),C(52,n0,2,1,"mat-header-cell",28)(53,o0,2,1,"mat-cell",34),L(),x(54,35),C(55,r0,2,1,"mat-header-cell",28)(56,a0,2,1,"mat-cell",26),L(),x(57,36),C(58,l0,2,1,"mat-header-cell",28)(59,s0,2,1,"mat-cell",26),L(),x(60,37),C(61,d0,3,3,"mat-header-cell",25)(62,c0,6,1,"mat-cell",38),L(),x(63,39),C(64,m0,6,8,"mat-cell",26),L(),x(65,40),C(66,u0,23,9,"mat-cell",26),L(),C(67,f0,1,0,"mat-header-row",41)(68,g0,1,6,"mat-row",42)(69,_0,1,6,"mat-row",42)(70,h0,1,9,"mat-row",43),l(),L(),x(71,44),a(72,"mat-paginator",45,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),y("ngModel",e.optionsSearch.data.show),r(),M("",h(10,28,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M("",h(14,30,"ACTION.STATIST")," "),r(7),p("ngIf",e.requestLinkManagementBillboardId>0||e.requestLinkManagementTargetId>0),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkManagementTargetId)>0),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkManagementBillboardId)>0),r(2),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(36),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(32,Pp)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(33,Op)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(34,Np)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Et,yt,wt,jt,Oe,H,It,Se,vt],encapsulation:2});let n=s;return n})();var S0=["vform"];function M0(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",48),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function C0(n,s){n&1&&b(0,"i",49)}function b0(n,s){n&1&&b(0,"i",50)}function I0(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function v0(n,s){if(n&1){let o=E();a(0,"app-linkmanagement-billboard-pattern-selector",51),_(1,"translate"),w("optionChange",function(t){f(o);let e=u();return g(e.onActionSelectorSelectLinkBillboardPatternId(t))}),l()}if(n&2){let o=u();p("optionSelectForce",o.dataModel.linkBillboardPatternId)("optionPlaceholder",h(1,2,"TITLE.Billboard_Pattern"))}}function w0(n,s){if(n&1&&(a(0,"option",54),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function E0(n,s){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function y0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"select",52,3),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.sharingLinkType,t)||(e.dataModel.sharingLinkType=t),g(t)}),C(3,w0,2,2,"option",53),l(),a(4,"em"),c(5),_(6,"translate"),l(),C(7,E0,5,3,"mat-error",33),l()}if(n&2){let o=R(2),i=u();r(),y("ngModel",i.dataModel.sharingLinkType),r(2),p("ngForOf",i.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(h(6,4,"TITLE.Select_type_of_content")),r(2),p("ngIf",o.errors==null?null:o.errors.required)}}function T0(n,s){if(n&1){let o=E();a(0,"div",55)(1,"div",21)(2,"h5",56),c(3),l()(),a(4,"div",23)(5,"div",24)(6,"input",57),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isPublic,t)||(e.dataModel.isPublic=t),g(t)}),l(),b(7,"label",58),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle,""),r(3),y("ngModel",o.dataModel.isPublic)}}function k0(n,s){n&1&&(a(0,"mat-error"),c(1," ToWebAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function A0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",59),c(2),l(),a(3,"input",60,4),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.toWebAddress,t)||(e.dataModel.toWebAddress=t),g(t)}),l(),a(5,"em"),c(6),l(),C(7,k0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle),r(),A("placeholder",i.fieldsInfo.toWebAddress==null?null:i.fieldsInfo.toWebAddress.fieldTitle),y("ngModel",i.dataModel.toWebAddress),r(3),M("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function x0(n,s){n&1&&(a(0,"mat-error"),c(1," WebAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function L0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",61),c(2),l(),a(3,"input",62,5),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.webAddress,t)||(e.dataModel.webAddress=t),g(t)}),l(),a(5,"em"),c(6),l(),C(7,x0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle),r(),A("placeholder",i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle),y("ngModel",i.dataModel.webAddress),r(3),M("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function R0(n,s){n&1&&(a(0,"mat-error"),c(1," SmallPreview is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function D0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",63),c(2),l(),a(3,"input",64,6),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.smallPreview,t)||(e.dataModel.smallPreview=t),g(t)}),l(),a(5,"em"),c(6),l(),C(7,R0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle),r(),A("placeholder",i.fieldsInfo.smallPreview==null?null:i.fieldsInfo.smallPreview.fieldTitle),y("ngModel",i.dataModel.smallPreview),r(3),M("",o.value.length," / 100"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function B0(n,s){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function V0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",65),c(2),l(),a(3,"input",66,7),_(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.clickPrice,t)||(e.dataModel.clickPrice=t),g(t)}),l(),C(6,B0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.clickPrice==null?null:i.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",h(5,4,"TITLE.Amount_Per_Click")),y("ngModel",i.dataModel.clickPrice),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function P0(n,s){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function O0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",67),c(2),l(),a(3,"input",68,8),_(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.viewPrice,t)||(e.dataModel.viewPrice=t),g(t)}),l(),C(6,P0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.viewPrice==null?null:i.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",h(5,4,"TITLE.Amount_Per_Show")),y("ngModel",i.dataModel.viewPrice),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function N0(n,s){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfSharePerDay is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function F0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",69),c(2),l(),a(3,"input",70,9),_(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.maxPriceOfSharePerDay,t)||(e.dataModel.maxPriceOfSharePerDay=t),g(t)}),l(),C(6,N0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.maxPriceOfSharePerDay==null?null:i.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),r(),A("placeholder",h(5,4,"TITLE.Number_of_views_so_far")),y("ngModel",i.dataModel.maxPriceOfSharePerDay),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function G0(n,s){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfShareTotal is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function W0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",71),c(2),l(),a(3,"input",72,10),_(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.maxPriceOfShareTotal,t)||(e.dataModel.maxPriceOfShareTotal=t),g(t)}),l(),C(6,G0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.maxPriceOfShareTotal==null?null:i.fieldsInfo.maxPriceOfShareTotal.fieldTitle),r(),A("placeholder",h(5,4,"TITLE.Number_of_click_so_far")),y("ngModel",i.dataModel.maxPriceOfShareTotal),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function H0(n,s){n&1&&(a(0,"mat-error"),c(1," FormulaPercent is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function q0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",73),c(2),l(),a(3,"input",74,11),_(5,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.formulaPercent,t)||(e.dataModel.formulaPercent=t),g(t)}),l(),C(6,H0,5,3,"mat-error",33),l()}if(n&2){let o=R(4),i=u();r(2),v(i.fieldsInfo.formulaPercent==null?null:i.fieldsInfo.formulaPercent.fieldTitle),r(),A("placeholder",h(5,4,"TITLE.Number_of_views_so_far")),y("ngModel",i.dataModel.formulaPercent),r(3),p("ngIf",o.errors==null?null:o.errors.required)}}function j0(n,s){if(n&1){let o=E();a(0,"div",75)(1,"button",76),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",77),c(5),_(6,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function U0(n,s){if(n&1&&(a(0,"div",75)(1,"button",78),c(2),_(3,"translate"),l(),a(4,"button",77),c(5),_(6,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function z0(n,s){if(n&1&&(b(0,"img",79),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function Q0(n,s){if(n&1){let o=E();a(0,"div",28)(1,"label",80),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",81,12),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",82),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function K0(n,s){if(n&1&&(a(0,"div",75)(1,"button",78),c(2),_(3,"translate"),l(),a(4,"button",83),c(5),_(6,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.SAVE")," ")}}function J0(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function X0(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function Y0(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}function Z0(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}var Go=(()=>{let s=class s extends Tt{constructor(i,t,e,m,S,d,D,B,V,Z){super(S,new Zt,m,Z),this.activatedRoute=i,this.coreEnumService=t,this.linkManagementEnumService=e,this.publicHelper=m,this.linkManagementTargetService=S,this.contentCategoryService=d,this.cmsToastrService=D,this.router=B,this.cdr=V,this.translate=Z,this.requestLinkBillboardPatternId=0,this.fieldsInfo=new Map,this.dataModel=new Zt,this.dataModelResult=new U,this.dataModelEnumManagementContentSettingTypeResult=new U,this.dataModelEnumSharingPriceTypeResult=new U,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.dataProfessional=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.loadingOption=new Ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.loadingOption.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.requestLinkBillboardPatternId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.dataModel.linkBillboardPatternId=this.requestLinkBillboardPatternId,this.DataGetAccess(),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType()}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(i=>{this.dataModelEnumManagementContentSettingTypeResult=i})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(i=>{this.dataModelEnumSharingPriceTypeResult=i})}onActionFileSelectedLinkMainImageId(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){if(this.requestLinkBillboardPatternId<=0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetService.ServiceGetOneById(this.dataModelResult.item.id).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.dataModel=t.item,this.publicHelper.processService.processStop(i)):this.cmsToastrService.typeErrorGetOne(t.errorMessage)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.dataModelResult=t,t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.dataModel=t.item):this.cmsToastrService.typeErrorAdd(t.errorMessage),this.formInfo.formAlert="",this.formInfo.formSubmitAllow=!0},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorAdd(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.linkManagementTargetService.ServiceGetOneById(this.dataModel.id).subscribe({next:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.dataModelResult=e,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorEdit(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}}),this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkBillboardPatternId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}onActionCategorySelectChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=i,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=i,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(i,t){i.previouslySelectedIndex<i.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=i.previouslySelectedIndex},10))),(!this.dataModelResult||!this.dataModelResult.item||this.dataModelResult.item.id<=0)&&this.DataAddContent()}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}};s.\u0275fac=function(t){return new(t||s)(I(ze),I(oe),I(He),I(N),I(_i),I(Bi),I(O),I(Ne),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-add"]],viewQuery:function(t,e){if(t&1&&ee(S0,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:68,vars:49,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[1,"d-flex","mb-3",2,"position","inherit"],[1,"pt-1"],["data-trigger-switch","dataProfessional",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataProfessional","name","dataProfessionalt",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataProfessional",1,"custom-control-label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"d-flex","mb-3"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(t,e){if(t&1){let m=E();a(0,"div",13),b(1,"app-progress-spinner",14),a(2,"div",15)(3,"p",16),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",17,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",18,1),w("selectionChange",function(d){f(m);let D=R(11);return g(e.onStepClick(d,D))}),a(12,"mat-step",19),_(13,"translate"),b(14,"br"),a(15,"div",20)(16,"div",21)(17,"h5",22),c(18),_(19,"translate"),l()(),a(20,"div",23)(21,"div",24)(22,"input",25),k("ngModelChange",function(d){return f(m),T(e.dataProfessional,d)||(e.dataProfessional=d),g(d)}),l(),b(23,"label",26),l()()(),b(24,"br"),C(25,M0,1,5,"app-cms-enum-record-status-selector",27),a(26,"div",28)(27,"label",29),c(28),l(),a(29,"input",30,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(31,C0,1,0,"i",31)(32,b0,1,0,"i",32),a(33,"em"),c(34),l(),C(35,I0,5,4,"mat-error",33),l(),C(36,v0,2,4,"app-linkmanagement-billboard-pattern-selector",34)(37,y0,8,6,"div",35)(38,T0,8,2,"div",36)(39,A0,8,5,"div",35)(40,L0,8,5,"div",35)(41,D0,8,5,"div",35)(42,V0,7,6,"div",35)(43,O0,7,6,"div",35)(44,F0,7,6,"div",35)(45,W0,7,6,"div",35)(46,q0,7,6,"div",35)(47,j0,7,7,"div",37),l(),a(48,"mat-step",38),_(49,"translate"),a(50,"app-linkmanagement-category-treeselector",39),k("optionModelChange",function(d){return f(m),T(e.dataContentCategoryModel,d)||(e.dataContentCategoryModel=d),g(d)}),w("optionSelectChecked",function(d){return f(m),g(e.onActionCategorySelectChecked(d))})("optionSelectDisChecked",function(d){return f(m),g(e.onActionCategorySelectDisChecked(d))}),l(),b(51,"br"),C(52,U0,7,7,"div",37),l(),a(53,"mat-step",40),_(54,"translate"),a(55,"p"),c(56),_(57,"translate"),l(),a(58,"div",41)(59,"a",42),_(60,"cmsthumbnail"),C(61,z0,2,3,"img",43),l()(),C(62,Q0,8,15,"div",35)(63,K0,7,7,"div",37),l(),C(64,J0,2,0,"ng-template",44)(65,X0,2,0,"ng-template",45)(66,Y0,2,0,"ng-template",46)(67,Z0,2,0,"ng-template",47),l()()()()}if(t&2){let m=R(30);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,35,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",h(13,37,"TITLE.REQUIRED_INFORMATION")),r(6),M(" ",h(19,39,"TITLE.Would_you_like_to_complete_your_information"),""),r(4),y("ngModel",e.dataProfessional),r(3),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.accessWatchField),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.dataProfessional),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(49,41,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(54,43,"TITLE.ATTACH_FILES")),r(3),v(h(57,45,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",h(60,47,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Vt,Pt,q,ve,X,_e,he,z,we,ye,Ce,j,Ii,vi,wi,Ei,bi,Ae,Q,yi,Je,xi,Jt,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}.leaflet-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute!important}.fs-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}@media (min-width: 1400px){.col-xxl-7[_ngcontent-%COMP%]{max-width:100%!important;flex:0 0 100%}}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative;left:0;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc;color:#fff}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;margin-right:.8em;border-radius:4px 0 0 4px}"]});let n=s;return n})();var $0=["vform"];function eu(n,s){if(n&1){let o=E();a(0,"app-cms-enum-record-status-selector",68),k("modelChange",function(t){f(o);let e=u();return T(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),g(t)}),l()}if(n&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tu(n,s){n&1&&b(0,"i",69)}function iu(n,s){n&1&&b(0,"i",70)}function nu(n,s){if(n&1&&(a(0,"mat-error"),c(1),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2){let o=u();r(),M(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),v(h(4,2,"MESSAGE.required"))}}function ou(n,s){if(n&1&&(a(0,"option",71),c(1),l()),n&2){let o=s.$implicit;p("value",o.value),r(),v(o.description)}}function ru(n,s){n&1&&(a(0,"mat-error"),c(1," SharingLinkType is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function au(n,s){if(n&1){let o=E();a(0,"div",72)(1,"div",73)(2,"h5",74),c(3),l()(),a(4,"div",75)(5,"div",76)(6,"input",77),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.isPublic,t)||(e.dataModel.isPublic=t),g(t)}),l(),b(7,"label",78),l()()()}if(n&2){let o=u();r(3),M(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle,""),r(3),y("ngModel",o.dataModel.isPublic)}}function lu(n,s){n&1&&(a(0,"mat-error"),c(1," ToWebAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function su(n,s){n&1&&(a(0,"mat-error"),c(1," WebAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function du(n,s){n&1&&(a(0,"mat-error"),c(1," CarryToWebAddress is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function cu(n,s){n&1&&(a(0,"mat-error"),c(1," SmallPreview is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function mu(n,s){n&1&&(a(0,"mat-error"),c(1," ClickPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function pu(n,s){n&1&&(a(0,"mat-error"),c(1," ViewPrice is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function uu(n,s){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfSharePerDay is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function fu(n,s){n&1&&(a(0,"mat-error"),c(1," MaxPriceOfShareTotal is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function gu(n,s){n&1&&(a(0,"mat-error"),c(1," FormulaPercent is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function _u(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentClickCount is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function hu(n,s){n&1&&(a(0,"mat-error"),c(1," CurrentViewCount is "),a(2,"strong"),c(3),_(4,"translate"),l()()),n&2&&(r(3),v(h(4,1,"MESSAGE.required")))}function Su(n,s){if(n&1){let o=E();a(0,"div",79)(1,"button",80),w("click",function(){f(o);let t=u();return g(t.onActionBackToParent())}),c(2),_(3,"translate"),l(),a(4,"button",81),c(5),_(6,"translate"),l()()}if(n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BACK")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function Mu(n,s){if(n&1&&(a(0,"div",79)(1,"button",82),c(2),_(3,"translate"),l(),a(4,"button",81),c(5),_(6,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.NEXT")," ")}}function Cu(n,s){if(n&1&&(b(0,"img",83),_(1,"cmsthumbnail")),n&2){let o=u();A("src",h(1,1,o.dataModel.linkMainImageIdSrc),J)}}function bu(n,s){if(n&1){let o=E();a(0,"div",24)(1,"label",84),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),c(2),_(3,"translate"),l(),a(4,"input",85,15),_(6,"translate"),k("ngModelChange",function(t){f(o);let e=u();return T(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),g(t)}),w("click",function(){f(o);let t=u();return g(t.fileManagerOpenForm=!0)}),l(),a(7,"cms-file-manager",86),w("itemSelected",function(t){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(t))}),k("openFormChange",function(t){f(o);let e=u();return T(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),g(t)}),l()()}if(n&2){let o=u();r(2),v(h(3,11,"TITLE.Original_Photo")),r(2),A("placeholder",h(6,13,"TITLE.Original_File_ID")),y("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),y("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Iu(n,s){if(n&1&&(a(0,"div",79)(1,"button",82),c(2),_(3,"translate"),l(),a(4,"button",87),c(5),_(6,"translate"),l()()),n&2){u();let o=R(9);r(2),M(" ",h(3,3,"ACTION.BEFOR")," "),r(2),p("disabled",!o.form.valid),r(),M(" ",h(6,5,"ACTION.SAVE")," ")}}function vu(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function wu(n,s){n&1&&(a(0,"mat-icon"),c(1,"call_end"),l())}function Eu(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}function yu(n,s){n&1&&(a(0,"mat-icon"),c(1,"forum"),l())}var Wo=(()=>{let s=class s extends Xe{constructor(i,t,e,m,S,d,D,B,V,Z,Y){super(S,new Zt,e,Y),this.activatedRoute=i,this.coreEnumService=t,this.publicHelper=e,this.linkManagementEnumService=m,this.linkManagementTargetService=S,this.contentCategoryService=d,this.cmsToastrService=D,this.tokenHelper=B,this.router=V,this.cdr=Z,this.translate=Y,this.requestId=0,this.dataModel=new Zt,this.dataModelResult=new Qe,this.dataModelEnumManagementContentSettingTypeResult=new U,this.dataModelEnumSharingPriceTypeResult=new U,this.optionActionTitle="",this.optionActionButtomEnable=!0,this.optionTabledisplayedColumns=["Id","Option","OptionAnswer","IsCorrectAnswer","NumberOfVotes","ScoreOfVotes","Action"],this.dataContentCategoryModel=[],this.loadingOption=new Ti,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypePodcast=["mp3"],this.selectFileTypeMovie=["mp4","webm"],this.formInfo=new ne,this.fileManagerOpenForm=!1,this.fileManagerOpenFormPodcast=!1,this.fileManagerOpenFormMovie=!1,this.appLanguage="fa",this.viewMap=!1,this.mapMarkerPoints=[],this.mapOptonCenter=new ki,this.publicHelper.processService.cdr=this.cdr,this.loadingOption.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.optionActionTitle=this.translate.instant("ACTION.Add_To_List")}ngOnInit(){if(this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.requestId===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.tokenHelper.getCurrentToken().then(i=>{this.DataGetOne()}),this.getEnumSharingPriceType(),this.getEnumManagementContentSettingType(),this.tokenHelper.getCurrentToken().then(i=>{this.DataGetOne()})}getEnumManagementContentSettingType(){this.linkManagementEnumService.ServiceManagementContentSettingTypeEnum().subscribe(i=>{this.dataModelEnumManagementContentSettingTypeResult=i})}getEnumSharingPriceType(){this.linkManagementEnumService.ServiceSharingPriceTypeEnum().subscribe(i=>{this.dataModelEnumSharingPriceTypeResult=i})}onActionFileSelectedLinkMainImageId(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetService.setAccessLoad(),this.linkManagementTargetService.setAccessDataType(Te.Editor),this.linkManagementTargetService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.formInfo.formSubmitAllow=!0,t.isSuccess?this.dataModel=t.item:this.cmsToastrService.typeErrorGetOne(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(t)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructor.name)}),this.linkManagementTargetService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/linkmanagement/target"]),1e3)):this.cmsToastrService.typeErrorEdit(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t)}})}onActionSelectorSelectLinkBillboardPatternId(i){if(!i||i.id<=0){let t=this.translate.instant("MESSAGE.Category_of_billboard_information_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkBillboardPatternId=i.id}onActionCategorySelectChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=i,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionCategorySelectDisChecked(i){if(!i||i<=0){this.translate.get("MESSAGE.category_of_information_is_not_clear").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=new Oi;t.linkCategoryId=i,t.linkManagementTargetId=this.dataModel.id,this.contentCategoryService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(m=>{this.formInfo.formAlert=m}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onStepClick(i,t){i.previouslySelectedIndex<i.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=i.previouslySelectedIndex},10)))}onActionBackToParent(){this.router.navigate(["/linkmanagement/target/"])}onActionSelectSite(i){if(!i||i.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_site"),this.translate.instant("MESSAGE.Information_site_is_not_clear"));return}this.dataModel.linkSiteId=i.id}};s.\u0275fac=function(t){return new(t||s)(I(ze),I(oe),I(N),I(He),I(_i),I(Bi),I(O),I(Pe),I(Ne),I(F),I(G))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-edit"]],viewQuery:function(t,e){if(t&1&&ee($0,5),t&2){let m;te(m=ie())&&(e.formGroup=m.first)}},features:[$],decls:138,vars:107,consts:[["vform","ngForm"],["stepper",""],["Title",""],["SharingLinkType","ngModel"],["ToWebAddress",""],["WebAddress",""],["CarryToWebAddress",""],["SmallPreview",""],["ClickPrice",""],["ViewPrice",""],["MaxPriceOfSharePerDay",""],["MaxPriceOfShareTotal",""],["FormulaPercent",""],["CurrentClickCount",""],["CurrentViewCount",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["id","dataModel.sharingLinkType","name","dataModel.sharingLinkType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.toWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.toWebAddress","minlength","3","maxlength","2000","id","dataModel.toWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.webAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.webAddress","minlength","3","maxlength","100","id","dataModel.webAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.carryToWebAddress",1,"color-highlight"],["matInput","","type","text","name","dataModel.carryToWebAddress","minlength","3","maxlength","100","id","dataModel.carryToWebAddress",1,"form-control","validate-name",2,"direction","ltr","text-align","left !important",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.smallPreview",1,"color-highlight"],["matInput","","type","text","name","dataModel.smallPreview","minlength","3","maxlength","100","id","dataModel.smallPreview",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.clickPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.clickPrice","minlength","0","id","dataModel.clickPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.viewPrice",1,"color-highlight"],["matInput","","type","number","name","dataModel.viewPrice","minlength","0","id","dataModel.viewPrice",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfSharePerDay",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfSharePerDay","minlength","0","id","dataModel.maxPriceOfSharePerDay",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.maxPriceOfShareTotal",1,"color-highlight"],["matInput","","type","number","name","dataModel.maxPriceOfShareTotal","minlength","0","id","dataModel.maxPriceOfShareTotal",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.formulaPercent",1,"color-highlight"],["matInput","","type","number","name","dataModel.formulaPercent","minlength","1","id","dataModel.formulaPercent",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentClickCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentClickCount","minlength","1","disabled","","id","dataModel.currentClickCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.currentViewCount",1,"color-highlight"],["matInput","","type","number","name","dataModel.currentViewCount","minlength","0","disabled","","id","dataModel.currentViewCount",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionModelChange","optionSelectChecked","optionSelectDisChecked","optionModel"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(t,e){if(t&1){let m=E();a(0,"div",16),b(1,"app-progress-spinner",17),a(2,"div",18)(3,"p",19),c(4),l(),a(5,"p"),c(6),_(7,"translate"),l(),a(8,"form",20,0),w("ngSubmit",function(){return f(m),g(e.onFormSubmit())}),a(10,"mat-vertical-stepper",21,1),w("selectionChange",function(d){f(m);let D=R(11);return g(e.onStepClick(d,D))}),a(12,"mat-step",22),_(13,"translate"),C(14,eu,1,5,"app-cms-enum-record-status-selector",23),a(15,"div",24)(16,"label",25),c(17),l(),a(18,"input",26,2),k("ngModelChange",function(d){return f(m),T(e.dataModel.title,d)||(e.dataModel.title=d),g(d)}),l(),C(20,tu,1,0,"i",27)(21,iu,1,0,"i",28),a(22,"em"),c(23),l(),C(24,nu,5,4,"mat-error",29),l(),a(25,"app-linkmanagement-billboard-pattern-selector",30),_(26,"translate"),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectLinkBillboardPatternId(d))}),l(),a(27,"div",24)(28,"select",31,3),k("ngModelChange",function(d){return f(m),T(e.dataModel.sharingLinkType,d)||(e.dataModel.sharingLinkType=d),g(d)}),C(30,ou,2,2,"option",32),l(),a(31,"em"),c(32),_(33,"translate"),l(),C(34,ru,5,3,"mat-error",29),l(),C(35,au,8,2,"div",33),a(36,"div",24)(37,"label",34),c(38),l(),a(39,"input",35,4),k("ngModelChange",function(d){return f(m),T(e.dataModel.toWebAddress,d)||(e.dataModel.toWebAddress=d),g(d)}),l(),a(41,"em"),c(42),l(),C(43,lu,5,3,"mat-error",29),l(),a(44,"div",24)(45,"label",36),c(46),l(),a(47,"input",37,5),k("ngModelChange",function(d){return f(m),T(e.dataModel.webAddress,d)||(e.dataModel.webAddress=d),g(d)}),l(),a(49,"em"),c(50),l(),C(51,su,5,3,"mat-error",29),l(),a(52,"div",24)(53,"label",38),c(54),l(),a(55,"input",39,6),k("ngModelChange",function(d){return f(m),T(e.dataModel.carryToWebAddress,d)||(e.dataModel.carryToWebAddress=d),g(d)}),l(),a(57,"em"),c(58),l(),C(59,du,5,3,"mat-error",29),l(),a(60,"div",24)(61,"label",40),c(62),l(),a(63,"input",41,7),k("ngModelChange",function(d){return f(m),T(e.dataModel.smallPreview,d)||(e.dataModel.smallPreview=d),g(d)}),l(),a(65,"em"),c(66),l(),C(67,cu,5,3,"mat-error",29),l(),a(68,"div",24)(69,"label",42),c(70),l(),a(71,"input",43,8),_(73,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.clickPrice,d)||(e.dataModel.clickPrice=d),g(d)}),l(),C(74,mu,5,3,"mat-error",29),l(),a(75,"div",24)(76,"label",44),c(77),l(),a(78,"input",45,9),_(80,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.viewPrice,d)||(e.dataModel.viewPrice=d),g(d)}),l(),C(81,pu,5,3,"mat-error",29),l(),a(82,"div",24)(83,"label",46),c(84),l(),a(85,"input",47,10),_(87,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.maxPriceOfSharePerDay,d)||(e.dataModel.maxPriceOfSharePerDay=d),g(d)}),l(),C(88,uu,5,3,"mat-error",29),l(),a(89,"div",24)(90,"label",48),c(91),l(),a(92,"input",49,11),_(94,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.maxPriceOfShareTotal,d)||(e.dataModel.maxPriceOfShareTotal=d),g(d)}),l(),C(95,fu,5,3,"mat-error",29),l(),a(96,"div",24)(97,"label",50),c(98),l(),a(99,"input",51,12),_(101,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.formulaPercent,d)||(e.dataModel.formulaPercent=d),g(d)}),l(),C(102,gu,5,3,"mat-error",29),l(),a(103,"div",24)(104,"label",52),c(105),l(),a(106,"input",53,13),_(108,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentClickCount,d)||(e.dataModel.currentClickCount=d),g(d)}),l(),C(109,_u,5,3,"mat-error",29),l(),a(110,"div",24)(111,"label",54),c(112),l(),a(113,"input",55,14),_(115,"translate"),k("ngModelChange",function(d){return f(m),T(e.dataModel.currentViewCount,d)||(e.dataModel.currentViewCount=d),g(d)}),l(),C(116,hu,5,3,"mat-error",29),l(),C(117,Su,7,7,"div",56),l(),a(118,"mat-step",57),_(119,"translate"),a(120,"app-linkmanagement-category-treeselector",58),k("optionModelChange",function(d){return f(m),T(e.dataContentCategoryModel,d)||(e.dataContentCategoryModel=d),g(d)}),w("optionSelectChecked",function(d){return f(m),g(e.onActionCategorySelectChecked(d))})("optionSelectDisChecked",function(d){return f(m),g(e.onActionCategorySelectDisChecked(d))}),l(),b(121,"br"),C(122,Mu,7,7,"div",56),l(),a(123,"mat-step",59),_(124,"translate"),a(125,"p"),c(126),_(127,"translate"),l(),a(128,"div",60)(129,"a",61),_(130,"cmsthumbnail"),C(131,Cu,2,3,"img",62),l()(),C(132,bu,8,15,"div",63)(133,Iu,7,7,"div",56),l(),C(134,vu,2,0,"ng-template",64)(135,wu,2,0,"ng-template",65)(136,Eu,2,0,"ng-template",66)(137,yu,2,0,"ng-template",67),l()()()()}if(t&2){let m=R(19),S=R(29),d=R(40),D=R(48),B=R(56),V=R(64),Z=R(72),Y=R(79),ei=R(86),Fn=R(93),Gn=R(100),Wn=R(107),Hn=R(114);r(),p("optionsInfoAreaId",e.constructor.name),r(3),M(" ",e.formInfo.formTitle," "),r(2),M(" ",h(7,77,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),A("label",h(13,79,"TITLE.REQUIRED_INFORMATION")),r(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),v(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),y("ngModel",e.dataModel.title),r(2),p("ngIf",!m.value),r(),p("ngIf",m.value),r(2),M("",m.value.length," / 100"),r(),p("ngIf",m.errors==null?null:m.errors.required),r(),p("optionSelectForce",e.dataModel.linkBillboardPatternId)("optionPlaceholder",h(26,81,"TITLE.Billboard_Pattern")),r(3),y("ngModel",e.dataModel.sharingLinkType),r(2),p("ngForOf",e.dataModelEnumSharingPriceTypeResult.listItems),r(2),v(h(33,83,"TITLE.Select_type_of_content")),r(2),p("ngIf",S.errors==null?null:S.errors.required),r(),p("ngIf",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.accessWatchField),r(3),v(e.fieldsInfo.toWebAddress==null?null:e.fieldsInfo.toWebAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.toWebAddress==null?null:e.fieldsInfo.toWebAddress.fieldTitle),y("ngModel",e.dataModel.toWebAddress),r(3),M("",d.value.length," / 100"),r(),p("ngIf",d.errors==null?null:d.errors.required),r(3),v(e.fieldsInfo.webAddress==null?null:e.fieldsInfo.webAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.webAddress==null?null:e.fieldsInfo.webAddress.fieldTitle),y("ngModel",e.dataModel.webAddress),r(3),M("",D.value.length," / 100"),r(),p("ngIf",D.errors==null?null:D.errors.required),r(3),v(e.fieldsInfo.carryToWebAddress==null?null:e.fieldsInfo.carryToWebAddress.fieldTitle),r(),A("placeholder",e.fieldsInfo.carryToWebAddress==null?null:e.fieldsInfo.carryToWebAddress.fieldTitle),y("ngModel",e.dataModel.carryToWebAddress),r(3),M("",B.value.length," / 100"),r(),p("ngIf",B.errors==null?null:B.errors.required),r(3),v(e.fieldsInfo.smallPreview==null?null:e.fieldsInfo.smallPreview.fieldTitle),r(),A("placeholder",e.fieldsInfo.smallPreview==null?null:e.fieldsInfo.smallPreview.fieldTitle),y("ngModel",e.dataModel.smallPreview),r(3),M("",V.value.length," / 100"),r(),p("ngIf",V.errors==null?null:V.errors.required),r(3),v(e.fieldsInfo.clickPrice==null?null:e.fieldsInfo.clickPrice.fieldTitle),r(),A("placeholder",h(73,85,"TITLE.Amount_Per_Click")),y("ngModel",e.dataModel.clickPrice),r(3),p("ngIf",Z.errors==null?null:Z.errors.required),r(3),v(e.fieldsInfo.viewPrice==null?null:e.fieldsInfo.viewPrice.fieldTitle),r(),A("placeholder",h(80,87,"TITLE.Amount_Per_Show")),y("ngModel",e.dataModel.viewPrice),r(3),p("ngIf",Y.errors==null?null:Y.errors.required),r(3),v(e.fieldsInfo.maxPriceOfSharePerDay==null?null:e.fieldsInfo.maxPriceOfSharePerDay.fieldTitle),r(),A("placeholder",h(87,89,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.maxPriceOfSharePerDay),r(3),p("ngIf",ei.errors==null?null:ei.errors.required),r(3),v(e.fieldsInfo.maxPriceOfShareTotal==null?null:e.fieldsInfo.maxPriceOfShareTotal.fieldTitle),r(),A("placeholder",h(94,91,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.maxPriceOfShareTotal),r(3),p("ngIf",Fn.errors==null?null:Fn.errors.required),r(3),v(e.fieldsInfo.formulaPercent==null?null:e.fieldsInfo.formulaPercent.fieldTitle),r(),A("placeholder",h(101,93,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.formulaPercent),r(3),p("ngIf",Gn.errors==null?null:Gn.errors.required),r(3),v(e.fieldsInfo.currentClickCount==null?null:e.fieldsInfo.currentClickCount.fieldTitle),r(),A("placeholder",h(108,95,"TITLE.Number_of_click_so_far")),y("ngModel",e.dataModel.currentClickCount),r(3),p("ngIf",Wn.errors==null?null:Wn.errors.required),r(3),v(e.fieldsInfo.currentViewCount==null?null:e.fieldsInfo.currentViewCount.fieldTitle),r(),A("placeholder",h(115,97,"TITLE.Number_of_views_so_far")),y("ngModel",e.dataModel.currentViewCount),r(3),p("ngIf",Hn.errors==null?null:Hn.errors.required),r(),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(119,99,"TITLE.TARGET_SELECTION")),r(2),y("optionModel",e.dataContentCategoryModel),r(2),p("ngIf",e.formInfo.formSubmitAllow),r(),A("label",h(124,101,"TITLE.ATTACH_FILES")),r(3),v(h(127,103,"TITLE.CONTENT_ATTACH_FILES")),r(3),A("href",h(130,105,e.dataModel.linkMainImageIdSrc),J),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,W,Ee,Ot,Nt,K,Ve,Vt,Pt,q,ve,X,_e,he,z,we,ye,Ce,j,Ii,vi,wi,Ei,bi,Ae,Q,yi,Je,xi,Jt,H,Se],styles:["@media (max-width: 1399px){.wizard.wizard-4[_ngcontent-%COMP%]   .wizard-nav[_ngcontent-%COMP%]   .wizard-steps[_ngcontent-%COMP%]   .wizard-step[_ngcontent-%COMP%]{flex:0 0 calc(25% - .25rem)}}form[_ngcontent-%COMP%]{text-align:right}.wizard[_ngcontent-%COMP%]{margin-top:20%}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:15px}.lbl-status[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:5px}.status-select[_ngcontent-%COMP%]{width:970px}textarea[_ngcontent-%COMP%]{resize:none}.calender-select[_ngcontent-%COMP%]{width:252px}.next-modal[_ngcontent-%COMP%]{width:100px;margin-right:15px}.pb-4[_ngcontent-%COMP%], .py-4[_ngcontent-%COMP%]{padding-bottom:7px!important;padding-top:7px!important}tag-input[_ngcontent-%COMP%]{width:1000px}#map[_ngcontent-%COMP%]{width:100%;height:600px}.lbl-content[_ngcontent-%COMP%]{width:100px;display:flex;align-items:flex-end;justify-content:center;margin-top:25px}"]});let n=s;return n})();var Tu=()=>["expandedTitle"],ku=()=>["expandedDetail"],Au=()=>[5,10,20,100],Ho=n=>({display:n});function xu(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",53),w("click",function(){f(o);let t=u();return g(t.onActionButtonNewRow())}),b(2,"i",54)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.ADD")))}function Lu(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",14),w("click",function(){f(o);let t=u();return g(t.onActionButtonLog())}),b(2,"i",55)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.REPORTS")))}function Ru(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",56),w("click",function(){f(o);let t=u();return g(t.onActionButtonEditRow(t.tableRowSelected))}),b(2,"i",57)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.EDIT")))}function Du(n,s){if(n&1){let o=E();a(0,"div",20)(1,"a",58),w("click",function(){f(o);let t=u();return g(t.onActionButtonDeleteRow(t.tableRowSelected))}),b(2,"i",59)(3,"br"),l(),a(4,"p",23),c(5),_(6,"translate"),l()()}n&2&&(r(5),v(h(6,1,"ACTION.DELETE")))}function Bu(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.MENU")," "))}function Vu(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",60),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelectActionMenu(t))}),b(2,"i",61),l()()}}function Pu(n,s){n&1&&(a(0,"mat-header-cell",62),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.PICTURE")," "))}function Ou(n,s){if(n&1&&(b(0,"img",64),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function Nu(n,s){if(n&1&&(a(0,"mat-cell"),C(1,Ou,2,3,"img",63),l()),n&2){let o=s.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Fu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Gu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.id," ")}}function Wu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"cmssiteinfo"),_(3,"async"),l()),n&2){let o=s.$implicit;r(),M(" ",h(3,3,h(2,1,o.linkSiteId))," ")}}function qu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ju(n,s){if(n&1&&b(0,"select",67),n&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",je(3,Ho,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Uu(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",65),_(2,"statusIconClass"),C(3,ju,1,5,"select",66),l()),n&2){let o=s.$implicit,i=u();r(),p("ngClass",h(2,2,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function zu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle," ")}}function Qu(n,s){if(n&1&&(a(0,"mat-cell"),b(1,"i",65),_(2,"boolclass"),l()),n&2){let o=s.$implicit;r(),p("ngClass",h(2,1,o.isPublic))}}function Ku(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.currentViewCount==null?null:o.fieldsInfo.currentViewCount.fieldTitle," ")}}function Ju(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.currentViewCount," ")}}function Xu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.currentClickCount==null?null:o.fieldsInfo.currentClickCount.fieldTitle," ")}}function Yu(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;r(),M(" ",o.currentClickCount," ")}}function Zu(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function $u(n,s){if(n&1&&(a(0,"mat-cell",68),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ef(n,s){if(n&1&&(a(0,"mat-header-cell",62),c(1),l()),n&2){let o=u();r(),M(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function tf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,i=u();r(),M(" ",i.publicHelper.LocaleDate(o.updatedDate)," ")}}function nf(n,s){n&1&&(a(0,"mat-header-cell"),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.OPTION")," "))}function of(n,s){if(n&1&&(a(0,"mat-cell",69)(1,"button",70)(2,"mat-icon"),c(3,"more_vert"),l()(),b(4,"mat-menu",null,2),l()),n&2){let o=R(5);r(),p("matMenuTriggerFor",o)}}function rf(n,s){n&1&&(a(0,"mat-header-cell",62),c(1),_(2,"translate"),l()),n&2&&(r(),M(" ",h(2,1,"TITLE.LINKTO")," "))}function af(n,s){if(n&1){let o=E();a(0,"mat-cell")(1,"button",71),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionButtonLinkTo(t))}),a(2,"mat-icon",72),c(3,"\u2197"),l()()()}}function lf(n,s){if(n&1&&(a(0,"mat-cell"),c(1),_(2,"translate"),b(3,"br"),c(4),_(5,"translate"),b(6,"br"),c(7),_(8,"translate"),l()),n&2){let o=s.$implicit,i=u();r(),De(" ",h(2,7,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDateTime(o.createdDate)," "),r(3),De(" ",h(5,9,"TITLE.CurrentNumberOfClicks")," : ",o.currentClickCount," "),r(3),qn(" ",h(8,11,"TITLE.CurrentViewCount")," : ",o.CurrentViewCount," ",o.currentViewCount," ")}}function sf(n,s){if(n&1&&(b(0,"img",75),_(1,"cmsthumbnail")),n&2){let o=u().$implicit;A("src",h(1,1,o.linkMainImageIdSrc),J)}}function df(n,s){if(n&1&&(a(0,"tr"),b(1,"td"),a(2,"td"),c(3),l()()),n&2){let o=u().$implicit,i=u();r(3),De("",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle," : ",o.title,"")}}function cf(n,s){if(n&1){let o=E();a(0,"tr"),b(1,"td"),a(2,"td"),c(3),a(4,"span",76),w("click",function(){f(o);let t=u(2);return g(t.onActionCopied())}),b(5,"i",77),l(),a(6,"a",78),c(7),l()()()}if(n&2){let o=u().$implicit,i=u();r(3),M(" ",i.fieldsInfo.webAddress==null?null:i.fieldsInfo.webAddress.fieldTitle," : "),r(),p("cdkCopyToClipboard",o.toWebAddress),r(2),A("href",o.toWebAddress,J),r(),v(o.toWebAddress)}}function mf(n,s){if(n&1){let o=E();a(0,"tr"),b(1,"td"),a(2,"td"),c(3),_(4,"translate"),a(5,"span",79),w("click",function(){f(o);let t=u(2);return g(t.onActionCopied())}),b(6,"i",77),l(),c(7,"\xA0 "),a(8,"a",80),c(9),l()()()}if(n&2){let o=u().$implicit;r(3),M(" ",h(4,4,"TITLE.Short_link")," : "),r(2),p("cdkCopyToClipboard",o.carryToWebAddress),r(3),A("href",o.carryToWebAddress,J),r(),v(o.carryToWebAddress)}}function pf(n,s){if(n&1&&(a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),C(5,sf,2,3,"img",73),l(),a(6,"th"),c(7),l()(),C(8,df,4,2,"tr",74)(9,cf,8,4,"tr",74)(10,mf,10,6,"tr",74),a(11,"tr"),b(12,"td"),a(13,"td"),c(14),l()(),a(15,"tr"),b(16,"td")(17,"td"),l()()()()),n&2){let o=s.$implicit,i=u();r(5),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0),r(2),De("",i.fieldsInfo.id==null?null:i.fieldsInfo.id.fieldTitle," : ",o.id,""),r(),p("ngIf",o.title),r(),p("ngIf",o.toWebAddress),r(),p("ngIf",o.carryToWebAddress),r(4),De("",i.fieldsInfo.currentClickCount==null?null:i.fieldsInfo.currentClickCount.fieldTitle," : ",o.currentClickCount,"")}}function uf(n,s){n&1&&b(0,"mat-header-row")}function ff(n,s){if(n&1){let o=E();a(0,"mat-row",81),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function gf(n,s){if(n&1){let o=E();a(0,"mat-row",81),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function _f(n,s){if(n&1){let o=E();a(0,"mat-row",82),w("click",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(t))})("mouseenter",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(t))}),l()}if(n&2){let o=s.$implicit,i=s.dataIndex,t=u();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),p("ngStyle",je(7,Ho,o.expanded===!0?"":"none"))}}var Nn=(()=>{let s=class s extends kt{constructor(i,t,e,m,S,d,D,B,V,Z,Y){if(super(i,new Zt,Z,d,B),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.router=m,this.activatedRoute=S,this.tokenHelper=d,this.cdr=D,this.translate=B,this.pageInfo=V,this.publicHelper=Z,this.dialog=Y,this.requestLinkBillboardPatternId=0,this.filteModelContent=new gn,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","IsPublic","LinkTo","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkBillboardPatternId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkBillboardPatternId")),this.optionsSearch.parentMethods={onSubmit:ei=>this.onSubmitOptionsSearch(ei)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=ue.Descending,this.requestLinkBillboardPatternId>0){let ei=new le;ei.propertyName="LinkBillboardPatternId",ei.value=this.requestLinkBillboardPatternId,this.filteModelContent.filters.push(ei)}}ngOnInit(){this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Zt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new le;e.propertyName="linkBillboardPatternId",e.value=this.categoryModelSelected.id,t.filters.push(e)}if(this.categoryPatternModelSelected&&this.categoryPatternModelSelected.id>0){let e=new le;e.propertyName="TargetCategories",e.propertyAnyName="linkCategoryId",e.value=this.categoryPatternModelSelected.id,t.filters.push(e)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=ue.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=ue.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelectPattern(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new gn,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryPatternModelSelected=i,this.DataGetAll()}onActionSelectorSelectCategory(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new gn,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.categoryPatternModelSelected==null||this.categoryPatternModelSelected.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.router.navigate(["/linkmanagement/target/add",this.categoryPatternModelSelected.id])}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/linkmanagement/target/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(m=>{this.cmsToastrService.typeErrorSelected(m)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(m=>{t=m["MESSAGE.Please_Confirm"],e=m["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(m=>{if(m){let S=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(S,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(S)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(S,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let m=JSON.parse(JSON.stringify(this.filteModelContent)),S=new le;S.propertyName="RecordStatus",S.value=Ze.Available,m.filters.push(S),this.contentService.ServiceGetCount(m).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonLinkTo(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(i.recordStatus!=Ze.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}this.onActionTableRowSelect(i);let t=this.constructor.name+"ServiceGetOneById";this.translate.get("MESSAGE.get_news_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.contentService.ServiceGetOneById(this.tableRowSelected.id).subscribe({next:e=>{if(e.isSuccess){var m="";this.tokenHelper.isMobile?m="dialog-fullscreen":m="dialog-min",this.dialog.open(ao,{height:"90%",width:"90%",panelClass:m,enterAnimationDuration:re.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:re.cmsViewConfig.exitAnimationDuration,data:{title:e.item.title,urlViewContentQRCodeBase64:e.item.urlViewContentQRCodeBase64,urlViewContent:e.item.urlViewContent}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}else this.cmsToastrService.typeErrorMessage(e.errorMessage);this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionButtonLog(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.router.navigate(["/linkmanagement/target-billboard-log/LinkManagementTargetId",i.id])}};s.\u0275fac=function(t){return new(t||s)(I(_i),I(O),I(Mn),I(Ne),I(ze),I(Pe),I(F),I(G),I(rt),I(N),I(We))},s.\u0275cmp=P({type:s,selectors:[["app-linkmanagement-target-list"]],features:[$],decls:94,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionActionRowDisplayMenuAct","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-share","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","IsPublic"],["matColumnDef","CurrentViewCount"],["matColumnDef","CurrentClickCount"],["matColumnDef","CreatedDate"],["style","direction:ltr",4,"matCellDef"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class","Action",4,"matCellDef"],["matColumnDef","LinkTo"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[2,"direction","ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["type","button","mat-icon-button","",3,"click"],[2,"color","#ff671f"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[4,"ngIf"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"navi-icon","style","cursor",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["target","_blank",1,"short-link",3,"href"],[1,"navi-icon","cursor",3,"click","cdkCopyToClipboard"],["target","_blank",3,"href"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,e){if(t&1){let m=E();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(d){return f(m),T(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),w("optionOnActionButtonMemoRow",function(){return f(m),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(m),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(m),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(m),g(e.onActionButtonPrintRow())}),x(1,4),a(2,"app-linkmanagement-billboard-pattern-tree",5),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectPattern(d))}),l(),a(3,"app-linkmanagement-category-tree",5),w("optionChange",function(d){return f(m),g(e.onActionSelectorSelectCategory(d))}),l(),L(),Re(4,6),x(5,7),a(6,"div",8)(7,"div",9)(8,"a",10)(9,"mat-slide-toggle",11),k("ngModelChange",function(d){return f(m),T(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(10),_(11,"translate"),l(),a(12,"a",10)(13,"mat-slide-toggle",12),w("click",function(){return f(m),g(e.onActionButtonStatist())}),k("ngModelChange",function(d){return f(m),T(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(14),_(15,"translate"),l()(),a(16,"div",13)(17,"a",14),w("click",function(){return f(m),g(e.viewGuideNotice=!e.viewGuideNotice)}),b(18,"i",15),l(),a(19,"a",14),w("click",function(){return f(m),g(e.onActionButtonReload())}),b(20,"i",16),l()()(),L(),x(21,17),C(22,xu,7,3,"div",18)(23,Lu,7,3,"div",18),L(),x(24,19),C(25,Ru,7,3,"div",18)(26,Du,7,3,"div",18),a(27,"div",20)(28,"a",21),w("click",function(){return f(m),g(e.onActionButtonLog(e.tableRowSelected))}),b(29,"i",22)(30,"br"),l(),a(31,"p",23),c(32),_(33,"translate"),l()(),a(34,"div",20)(35,"a",14),w("click",function(){return f(m),g(e.onActionButtonLinkTo(e.tableRowSelected))}),b(36,"i",24)(37,"br"),l(),a(38,"p",23),c(39),_(40,"translate"),l()(),L(),x(41,25),a(42,"app-cms-search-list",26),k("optionsChange",function(d){return f(m),T(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),a(43,"app-cms-statist-list",26),k("optionsChange",function(d){return f(m),T(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),L(),x(44,27),a(45,"mat-table",28,0),w("matSortChange",function(){f(m);let d=R(46);return g(e.onTableSortData(d))}),x(47,29),C(48,Bu,3,3,"mat-header-cell",30)(49,Vu,3,0,"mat-cell",31),L(),x(50,32),C(51,Pu,3,3,"mat-header-cell",33)(52,Nu,2,1,"mat-cell",31),L(),x(53,34),C(54,Fu,2,1,"mat-header-cell",33)(55,Gu,2,1,"mat-cell",31),L(),x(56,35),C(57,Wu,2,1,"mat-header-cell",33)(58,Hu,4,5,"mat-cell",31),L(),x(59,36),C(60,qu,2,1,"mat-header-cell",33)(61,Uu,4,4,"mat-cell",31),L(),x(62,37),C(63,zu,2,1,"mat-header-cell",33)(64,Qu,3,3,"mat-cell",31),L(),x(65,38),C(66,Ku,2,1,"mat-header-cell",33)(67,Ju,2,1,"mat-cell",31),L(),x(68,39),C(69,Xu,2,1,"mat-header-cell",33)(70,Yu,2,1,"mat-cell",31),L(),x(71,40),C(72,Zu,2,1,"mat-header-cell",33)(73,$u,2,1,"mat-cell",41),L(),x(74,42),C(75,ef,2,1,"mat-header-cell",33)(76,tf,2,1,"mat-cell",31),L(),x(77,43),C(78,nf,3,3,"mat-header-cell",30)(79,of,6,1,"mat-cell",44),L(),x(80,45),C(81,rf,3,3,"mat-header-cell",33)(82,af,4,0,"mat-cell",31),L(),x(83,46),C(84,lf,9,13,"mat-cell",31),L(),x(85,47),C(86,pf,18,8,"mat-cell",31),L(),C(87,uf,1,0,"mat-header-row",48)(88,ff,1,6,"mat-row",49)(89,gf,1,6,"mat-row",49)(90,_f,1,9,"mat-row",50),l(),L(),x(91,51),a(92,"mat-paginator",52,1),w("page",function(d){return f(m),g(e.onTablePageingData(d))}),l(),L(),l()}t&2&&(p("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionActionRowDisplayMenuAct",e.tableRowSelectActionMenuClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(9),y("ngModel",e.optionsSearch.data.show),r(),M("",h(11,29,"ACTION.SEARCH")," "),r(3),y("ngModel",e.optionsStatist.data.show),r(),M("",h(15,31,"ACTION.STATIST")," "),r(8),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.id)>0),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),v(h(33,33,"ACTION.LOG")),r(7),v(h(40,35,"TITLE.LINKTO")),r(3),y("options",e.optionsSearch),r(),y("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(42),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(37,Tu)),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(),p("matRowDefColumns",Be(38,ku)),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",Be(39,Au)))},dependencies:[tt,W,Bt,q,z,Ge,Ce,j,at,lt,st,dt,ct,mt,pt,ft,St,gt,ut,Mt,_t,ht,Ct,bt,Si,Et,yt,wt,jt,yn,Tn,Oe,H,It,Se,vt,hn],styles:[".float-left[_ngcontent-%COMP%]{float:left!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.short-link[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;direction:ltr}.cursor[_ngcontent-%COMP%]{cursor:pointer}"]});let n=s;return n})();var hf=[{path:"",component:co,data:{title:"ROUTE.LINKMANAGMENT"},children:[{path:"config",loadChildren:()=>import("./chunk-QAH2J3JH.js").then(n=>n.LinkManagementConfigModule),data:{title:"ROUTE.LINKMANAGMENT"}},{path:"target",component:Nn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:Nn,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/add/:LinkBillboardPatternId",component:Go,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"target/edit/:Id",component:Wo,data:{title:"ROUTE.LINKMANAGMENT.TARGET"}},{path:"billboard",component:On,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/list/LinkBillboardPatternId/:LinkBillboardPatternId",component:On,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/add/:LinkBillboardPatternId",component:vo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"billboard/edit/:Id",component:wo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARD"}},{path:"target-billboard-log",component:ln,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementBillboardId/:LinkManagementBillboardId",component:ln,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/LinkManagementTargetId/:LinkManagementTargetId",component:ln,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"target-billboard-log/Key/:Key",component:ln,data:{title:"ROUTE.LINKMANAGMENT.TARGETBILLBOARD"}},{path:"billboard-pattern",component:bo,data:{title:"ROUTE.LINKMANAGMENT.BILLBOARDPATTERN"}},{path:"accounting",component:Co,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTING"}},{path:"accountingdetail",component:Rn,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"accountingdetail/LinkManagementAccountingId/:LinkManagementAccountingId",component:Rn,data:{title:"ROUTE.LINKMANAGMENT.ACCOUNTINGDETAIL"}},{path:"member",component:Po,data:{title:"ROUTE.LINKMANAGMENT.MEMBER"}}]}],qo=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=dn({type:s}),s.\u0275inj=sn({imports:[kn.forChild(hf),kn]});let n=s;return n})();var rM=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=dn({type:s}),s.\u0275inj=sn({providers:[$n,oe,eo,to,Mn,He,Ht,Qt,Kt,nt,Di,qt,_i,Bi,hi,ot],imports:[Un,qo,zn,Qn.withConfig({warnOnNgModelWithFormControl:"never"}),lo,so,Yn,Kn,oo,Zn,io]});let n=s;return n})();export{rM as LinkManagementModule};
