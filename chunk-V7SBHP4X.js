import{a as gi}from"./chunk-F3RMDUWH.js";import{a as _i}from"./chunk-IS4RIP56.js";import{a as hi}from"./chunk-7S54VCKZ.js";import{a as fi}from"./chunk-Z3X4JBPA.js";import{a as qe,b as Si}from"./chunk-3CWOVSS5.js";import{a as Ue}from"./chunk-X2PWS74R.js";import{$c as si,Bd as mi,C as Mt,Dc as oi,Hb as Rt,Ib as Dt,Jd as ui,Kd as je,L as ke,La as Fe,Lb as kt,M as Ve,Ma as Be,Mc as K,Na as Z,O as It,P as vt,Rc as ri,Ta as $,Tc as li,Uc as ai,Vb as Vt,Wa as ee,Wb as Ot,Xb as Lt,Yb as Ft,Zb as Bt,_b as Pt,aa as Oe,cd as We,da as bt,fc as Nt,gc as Gt,hc as Ht,ic as Wt,id as di,jc as jt,kc as Ut,lb as He,lc as qt,m as gt,mb as At,mc as zt,md as ci,nb as N,nc as Qt,o as Ee,oc as Kt,p as me,qc as Jt,rc as Yt,s as ue,sa as Le,sb as Tt,sc as Xt,t as xe,tb as G,tc as Zt,uc as $t,ud as pi,v as Ae,vb as z,vc as ei,w as Te,wc as ti,x as Re,xc as ii,y as De,yc as ni,z as Ct}from"./chunk-AWB6FNLT.js";import{b as P,c as U,q as ie}from"./chunk-ZW5HYFCD.js";import{Aa as X,Ab as Je,Cd as Et,Db as Ie,Dc as St,Dd as q,Eb as ve,Fb as be,Fc as _t,Hd as Se,Ia as H,Ib as W,Id as te,Jd as Ne,Kb as d,L as st,La as r,Lb as y,Lc as ye,Ma as f,Mb as C,Nd as xt,O as dt,Qb as T,Qd as Q,Rb as R,Sb as D,Ud as V,Vb as ft,W as ct,Wb as Ye,X as pt,Yb as _,Yd as Ge,Za as ce,Zb as g,_e as k,ab as I,bb as Me,cb as p,cq as j,da as se,eb as pe,g as rt,gc as F,hd as wt,ja as L,ka as de,kd as Xe,lb as s,ld as Ze,mb as a,nb as M,nd as $e,ob as E,pb as x,qb as fe,qd as et,ra as h,rb as w,sa as S,td as Pe,u as lt,ub as b,v as at,vd as he,wb as m,xb as mt,xc as ht,yb as ut,yc as we,zb as A,zc as B,zd as yt}from"./chunk-LBBQUTDX.js";var Ai=["vform"];function Ti(n,l){if(n&1){let o=w();s(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(t){h(o);let e=m();return R(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),S(t)}),a()}if(n&2){let o=m();T("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ri(n,l){if(n&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),_(4,"translate"),a()()),n&2){let o=m();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(g(4,2,"MESSAGE.required"))}}function Di(n,l){if(n&1){let o=w();s(0,"div",22)(1,"div",23)(2,"h5",24),d(3),a()(),s(4,"div",25)(5,"div",26)(6,"input",27),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.needSiteCreditAccount,t)||(e.dataModel.needSiteCreditAccount=t),S(t)}),a(),M(7,"label",28),a()()()}if(n&2){let o=m();r(3),C(" ",o.fieldsInfo.needSiteCreditAccount==null?null:o.fieldsInfo.needSiteCreditAccount.fieldTitle,""),r(3),T("ngModel",o.dataModel.needSiteCreditAccount)}}function ki(n,l){if(n&1){let o=w();s(0,"div",22)(1,"div",23)(2,"h5",29),d(3),a()(),s(4,"div",25)(5,"div",26)(6,"input",30),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.needSiteUserCreditAccount,t)||(e.dataModel.needSiteUserCreditAccount=t),S(t)}),a(),M(7,"label",31),a()()()}if(n&2){let o=m();r(3),C(" ",o.fieldsInfo.needSiteUserCreditAccount==null?null:o.fieldsInfo.needSiteUserCreditAccount.fieldTitle,""),r(3),T("ngModel",o.dataModel.needSiteUserCreditAccount)}}function Vi(n,l){if(n&1&&(M(0,"img",32),_(1,"cmsthumbnail")),n&2){let o=m();A("src",g(1,1,o.dataModel.linkMainImageIdSrc),H)}}function Oi(n,l){if(n&1){let o=w();s(0,"div",10)(1,"label",33),b("click",function(){h(o);let t=m();return S(t.fileManagerOpenForm=!0)}),d(2),_(3,"translate"),a(),s(4,"input",34,2),_(6,"translate"),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),S(t)}),b("click",function(){h(o);let t=m();return S(t.fileManagerOpenForm=!0)}),a(),s(7,"cms-file-manager",35),b("itemSelected",function(t){h(o);let e=m();return S(e.onActionFileSelected(t))}),D("openFormChange",function(t){h(o);let e=m();return R(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),S(t)}),a()()}if(n&2){let o=m();r(2),y(g(3,11,"TITLE.Sample_File")),r(2),A("placeholder",g(6,13,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function Li(n,l){n&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),_(4,"translate"),a()()),n&2&&(r(3),y(g(4,1,"MESSAGE.required")))}function Fi(n,l){if(n&1){let o=w();s(0,"div",10)(1,"label",36),d(2),a(),s(3,"textarea",37,3),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.description,t)||(e.dataModel.description=t),S(t)}),d(5,"                "),a(),s(6,"em"),d(7),a(),I(8,Li,5,3,"mat-error",13),a()}if(n&2){let o=W(4),i=m();r(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),T("ngModel",i.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Bi(n,l){if(n&1){let o=w();s(0,"div",38)(1,"button",39),b("click",function(){h(o);let t=m();return S(t.onFormCancel())}),M(2,"i",40),d(3),_(4,"translate"),a(),s(5,"button",41),M(6,"i",42),d(7),_(8,"translate"),a()()}if(n&2){m();let o=W(9);r(3),C(" ",g(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Qe=(()=>{let l=class l extends fi{constructor(i,t,e,c,v,u,O,Y){super(c,new k,u,Y),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.coreModuleService=c,this.cmsToastrService=v,this.publicHelper=u,this.cdr=O,this.translate=Y,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new k,this.formInfo=new Ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}};l.\u0275fac=function(t){return new(t||l)(f(Be),f(Fe),f(Q),f(V),f(N),f(G),f(F),f(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-add"]],viewQuery:function(t,e){if(t&1&&Ie(Ai,5),t&2){let c;ve(c=be())&&(e.formGroup=c.first)}},features:[ce],decls:32,vars:28,consts:[["vform","ngForm"],["Title",""],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["id","main","name","dataModel.ruleHtmlBody",3,"ngModelChange","placeholder","config","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.needSiteCreditAccount",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.needSiteCreditAccount","name","dataModel.needSiteCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteCreditAccount",1,"custom-control-label"],["data-trigger-switch","dataModel.needSiteUserCreditAccount",1,"font-600","font-14"],["type","checkbox","id","dataModel.needSiteUserCreditAccount","name","dataModel.needSiteUserCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteUserCreditAccount",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=w();s(0,"div",4),M(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),d(4),a(),s(5,"p"),d(6),_(7,"translate"),a(),s(8,"form",8,0),b("ngSubmit",function(){return h(c),S(e.onFormSubmit())}),I(10,Ti,1,5,"app-cms-enum-record-status-selector",9),s(11,"div",10)(12,"label",11),d(13),a(),s(14,"input",12,1),D("ngModelChange",function(u){return h(c),R(e.dataModel.title,u)||(e.dataModel.title=u),S(u)}),a(),s(16,"em"),d(17),a(),I(18,Ri,5,4,"mat-error",13),a(),I(19,Di,8,2,"div",14)(20,ki,8,2,"div",14),s(21,"div",15)(22,"a",16),_(23,"cmsthumbnail"),I(24,Vi,2,3,"img",17),a()(),I(25,Oi,8,15,"div",18)(26,Fi,9,5,"div",18),d(27),_(28,"translate"),s(29,"angular-editor",19),_(30,"translate"),D("ngModelChange",function(u){return h(c),R(e.dataModel.ruleHtmlBody,u)||(e.dataModel.ruleHtmlBody=u),S(u)}),a(),I(31,Bi,9,7,"div",20),a()()()}if(t&2){let c=W(15);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",g(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.title),r(3),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",e.fieldsInfo.needSiteCreditAccount==null?null:e.fieldsInfo.needSiteCreditAccount.accessWatchField),r(),p("ngIf",e.fieldsInfo.needSiteUserCreditAccount==null?null:e.fieldsInfo.needSiteUserCreditAccount.accessWatchField),r(2),A("href",g(23,22,e.dataModel.linkMainImageIdSrc),H),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),C(" ",g(28,24,"TITLE.rules")," "),r(2),p("placeholder",g(30,26,"TITLE.Enter_the_text_of_the_rules"))("config",e.publicHelper.editorConfig),T("ngModel",e.dataModel.ruleHtmlBody),r(2),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[B,De,me,Ee,ue,xe,ke,Ve,Re,Ae,Oe,ee,We,z,qe,He,U,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Pi=["vform"];function Ni(n,l){if(n&1){let o=w();s(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(t){h(o);let e=m();return R(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),S(t)}),a()}if(n&2){let o=m();T("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Gi(n,l){if(n&1&&(s(0,"mat-error"),d(1),s(2,"strong"),d(3),_(4,"translate"),a()()),n&2){let o=m();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),r(2),y(g(4,2,"MESSAGE.required"))}}function Hi(n,l){if(n&1){let o=w();s(0,"div",23)(1,"div",24)(2,"h5",25),d(3),a()(),s(4,"div",26)(5,"div",27)(6,"input",28),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.needSiteCreditAccount,t)||(e.dataModel.needSiteCreditAccount=t),S(t)}),a(),M(7,"label",29),a()()()}if(n&2){let o=m();r(3),C(" ",o.fieldsInfo.needSiteCreditAccount==null?null:o.fieldsInfo.needSiteCreditAccount.fieldTitle,""),r(3),T("ngModel",o.dataModel.needSiteCreditAccount)}}function Wi(n,l){if(n&1){let o=w();s(0,"div",23)(1,"div",24)(2,"h5",30),d(3),a()(),s(4,"div",26)(5,"div",27)(6,"input",31),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.needSiteUserCreditAccount,t)||(e.dataModel.needSiteUserCreditAccount=t),S(t)}),a(),M(7,"label",32),a()()()}if(n&2){let o=m();r(3),C(" ",o.fieldsInfo.needSiteUserCreditAccount==null?null:o.fieldsInfo.needSiteUserCreditAccount.fieldTitle,""),r(3),T("ngModel",o.dataModel.needSiteUserCreditAccount)}}function ji(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",33),d(2),a(),s(3,"input",34,2),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.showInOrder,t)||(e.dataModel.showInOrder=t),S(t)}),a()()}if(n&2){let o=m();r(2),y(o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle),r(),A("placeholder",o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle),T("ngModel",o.dataModel.showInOrder),p("disabled",!(o.fieldsInfo.showInOrder!=null&&o.fieldsInfo.showInOrder.accessEditField))}}function Ui(n,l){if(n&1&&(M(0,"img",35),_(1,"cmsthumbnail")),n&2){let o=m();A("src",g(1,1,o.dataModel.linkMainImageIdSrc),H)}}function qi(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",36),b("click",function(){h(o);let t=m();return S(t.fileManagerOpenForm=!0)}),d(2),_(3,"translate"),a(),s(4,"input",37,3),_(6,"translate"),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.linkMainImageId,t)||(e.dataModel.linkMainImageId=t),S(t)}),b("click",function(){h(o);let t=m();return S(t.fileManagerOpenForm=!0)}),a(),s(7,"cms-file-manager",38),b("itemSelected",function(t){h(o);let e=m();return S(e.onActionFileSelected(t))}),D("openFormChange",function(t){h(o);let e=m();return R(e.fileManagerOpenForm,t)||(e.fileManagerOpenForm=t),S(t)}),a()()}if(n&2){let o=m();r(2),y(g(3,11,"TITLE.Sample_File")),r(2),A("placeholder",g(6,13,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),r(3),p("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),p("tree",o.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function zi(n,l){n&1&&(s(0,"mat-error"),d(1," Description is "),s(2,"strong"),d(3),_(4,"translate"),a()()),n&2&&(r(3),y(g(4,1,"MESSAGE.required")))}function Qi(n,l){if(n&1){let o=w();s(0,"div",11)(1,"label",39),d(2),a(),s(3,"textarea",40,4),D("ngModelChange",function(t){h(o);let e=m();return R(e.dataModel.description,t)||(e.dataModel.description=t),S(t)}),d(5,"                "),a(),s(6,"em"),d(7),a(),I(8,zi,5,3,"mat-error",14),a()}if(n&2){let o=W(4),i=m();r(2),y(i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),r(),A("placeholder",i.fieldsInfo.description==null?null:i.fieldsInfo.description.fieldTitle),T("ngModel",i.dataModel.description),r(4),C("",o.value.length," / 500"),r(),p("ngIf",o.errors==null?null:o.errors.required)}}function Ki(n,l){if(n&1){let o=w();s(0,"div",41)(1,"button",42),b("click",function(){h(o);let t=m();return S(t.onFormCancel())}),M(2,"i",43),d(3),_(4,"translate"),a(),s(5,"button",44),M(6,"i",45),d(7),_(8,"translate"),a()()}if(n&2){m();let o=W(9);r(3),C(" ",g(4,3,"ACTION.CANCEL")," "),r(2),p("disabled",!o.form.valid),r(2),C(" ",g(8,5,"ACTION.SAVE")," ")}}var Ke=(()=>{let l=class l extends hi{constructor(i,t,e,c,v,u,O,Y){super(c,new k,u,Y),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.coreModuleService=c,this.cmsToastrService=v,this.publicHelper=u,this.cdr=O,this.translate=Y,this.requestId=0,this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Et,this.dataModel=new k,this.formInfo=new Ne,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=+i.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.setAccessLoad(),this.coreModuleService.setAccessDataType(yt.Editor),this.coreModuleService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataModel=t.item,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.coreModuleService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}};l.\u0275fac=function(t){return new(t||l)(f(Be),f(Fe),f(Q),f(V),f(N),f(G),f(F),f(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-edit"]],viewQuery:function(t,e){if(t&1&&Ie(Pi,5),t&2){let c;ve(c=be())&&(e.formGroup=c.first)}},features:[ce],decls:33,vars:29,consts:[["vform","ngForm"],["Title",""],["ShowInOrder",""],["LinkMainImageId",""],["Description",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["id","main","name","dataModel.ruleHtmlBody",3,"ngModelChange","placeholder","config","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.needSiteCreditAccount",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.needSiteCreditAccount","name","dataModel.needSiteCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteCreditAccount",1,"custom-control-label"],["data-trigger-switch","dataModel.needSiteUserCreditAccount",1,"font-600","font-14"],["type","checkbox","id","dataModel.needSiteUserCreditAccount","name","dataModel.needSiteUserCreditAccount",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.needSiteUserCreditAccount",1,"custom-control-label"],["for","dataModel.showInOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInOrder","id","dataModel.showInOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=w();s(0,"div",5),M(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),d(4),a(),s(5,"p"),d(6),_(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return h(c),S(e.onFormSubmit())}),I(10,Ni,1,5,"app-cms-enum-record-status-selector",10),s(11,"div",11)(12,"label",12),d(13),a(),s(14,"input",13,1),D("ngModelChange",function(u){return h(c),R(e.dataModel.title,u)||(e.dataModel.title=u),S(u)}),a(),s(16,"em"),d(17),a(),I(18,Gi,5,4,"mat-error",14),a(),I(19,Hi,8,2,"div",15)(20,Wi,8,2,"div",15)(21,ji,5,4,"div",16),s(22,"div",17)(23,"a",18),_(24,"cmsthumbnail"),I(25,Ui,2,3,"img",19),a()(),I(26,qi,8,15,"div",16)(27,Qi,9,5,"div",16),d(28),_(29,"translate"),s(30,"angular-editor",20),_(31,"translate"),D("ngModelChange",function(u){return h(c),R(e.dataModel.ruleHtmlBody,u)||(e.dataModel.ruleHtmlBody=u),S(u)}),a(),I(32,Ki,9,7,"div",21),a()()()}if(t&2){let c=W(15);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(3),C(" ",e.formInfo.formTitle," "),r(2),C(" ",g(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),A("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.title),r(3),C("",c.value.length," / 100"),r(),p("ngIf",c.errors==null?null:c.errors.required),r(),p("ngIf",e.fieldsInfo.needSiteCreditAccount==null?null:e.fieldsInfo.needSiteCreditAccount.accessWatchField),r(),p("ngIf",e.fieldsInfo.needSiteUserCreditAccount==null?null:e.fieldsInfo.needSiteUserCreditAccount.accessWatchField),r(),p("ngIf",e.fieldsInfo.showInOrder==null?null:e.fieldsInfo.showInOrder.accessWatchField),r(2),A("href",g(24,23,e.dataModel.linkMainImageIdSrc),H),r(2),p("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(),p("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),r(),p("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),C(" ",g(29,25,"TITLE.rules")," "),r(2),p("placeholder",g(31,27,"TITLE.Enter_the_text_of_the_rules"))("config",e.publicHelper.editorConfig),T("ngModel",e.dataModel.ruleHtmlBody),r(2),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[B,De,me,Ct,Ee,ue,xe,ke,Ve,Re,Ae,Oe,ee,We,z,qe,He,U,K],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Yi=()=>[5,10,20,100],Xi=n=>({display:n}),Zi=n=>({background:n});function $i(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",44),b("click",function(){h(o);let t=m();return S(t.onActionButtonNewRow())}),M(2,"i",45)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.ADD")))}function en(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",47),b("click",function(){h(o);let t=m();return S(t.onActionButtonNewRowAuto())}),M(2,"i",45)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),C("",g(6,1,"ACTION.AUTOADD")," Dependency"))}function tn(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",48),b("click",function(){h(o);let t=m();return S(t.onActionButtonEditRow(t.tableRowSelected))}),M(2,"i",49)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.EDIT")))}function nn(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",50),b("click",function(){h(o);let t=m();return S(t.onActionButtonDeleteRow(t.tableRowSelected))}),M(2,"i",51)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.DELETE")))}function on(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",52),b("click",function(){h(o);let t=m();return S(t.onActionButtonConfigMainAdminRow(t.tableRowSelected))}),M(2,"i",53)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.ADMINISTRATIVE_SETTINGS")))}function rn(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",52),b("click",function(){h(o);let t=m();return S(t.onActionButtonSiteList(t.tableRowSelected))}),M(2,"i",54)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.LIST_SITES")))}function ln(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",52),b("click",function(){h(o);let t=m();return S(t.onActionButtonSiteCategoryList(t.tableRowSelected))}),M(2,"i",55)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.CATEGORY_LIST_SITES")))}function an(n,l){if(n&1){let o=w();s(0,"div",43)(1,"a",52),b("click",function(){h(o);let t=m();return S(t.onActionButtonModuleEntityList(t.tableRowSelected))}),M(2,"i",54)(3,"br"),a(),s(4,"p",46),d(5),_(6,"translate"),a()()}n&2&&(r(5),y(g(6,1,"ACTION.Module_Entity_List")))}function sn(n,l){n&1&&(s(0,"mat-header-cell",56),d(1),_(2,"translate"),a()),n&2&&(r(),C(" ",g(2,1,"TITLE.PICTURE")," "))}function dn(n,l){if(n&1&&(M(0,"img",58),_(1,"cmsthumbnail")),n&2){let o=m().$implicit;A("src",g(1,1,o.linkMainImageIdSrc),H)}}function cn(n,l){if(n&1&&(s(0,"mat-cell"),I(1,dn,2,3,"img",57),a()),n&2){let o=l.$implicit;r(),p("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function pn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function mn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),C(" ",o.id," ")}}function un(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.linkCreatedBySiteId==null?null:o.fieldsInfo.linkCreatedBySiteId.fieldTitle," ")}}function fn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),C(" ",o.linkCreatedBySiteId," ")}}function hn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Sn(n,l){if(n&1&&M(0,"select",61),n&2){let o=m().$implicit,i=m();p("contentService",i.contentService)("row",o)("ngStyle",Ye(3,Xi,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function _n(n,l){if(n&1&&(s(0,"mat-cell",59),_(1,"statusCellClass"),M(2,"i",59),_(3,"statusIconClass"),I(4,Sn,1,5,"select",60),a()),n&2){let o=l.$implicit,i=m();p("ngClass",g(1,3,o.recordStatus)),r(2),p("ngClass",g(3,5,o.recordStatus)),r(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function gn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Cn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),C(" ",o.title," ")}}function Mn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.className==null?null:o.fieldsInfo.className.fieldTitle," ")}}function In(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),C(" ",o.className," ")}}function vn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.showInOrder==null?null:o.fieldsInfo.showInOrder.fieldTitle," ")}}function bn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),a()),n&2){let o=l.$implicit;r(),C(" ",o.showInOrder," ")}}function wn(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function yn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),_(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),C(" ",g(2,1,o.createdDate)," ")}}function En(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function xn(n,l){if(n&1&&(s(0,"mat-cell"),d(1),_(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),C(" ",g(2,1,o.updatedDate)," ")}}function An(n,l){if(n&1&&(s(0,"mat-header-cell",56),d(1),a()),n&2){let o=m();r(),C(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Tn(n,l){if(n&1&&(s(0,"mat-cell",62),d(1),_(2,"persianDate"),a()),n&2){let o=l.$implicit,i=m();p("ngStyle",Ye(4,Zi,i.publicHelper.RowStyleExpireDate(o.expireDate))),r(),C(" ",g(2,2,o.expireDate),"")}}function Rn(n,l){n&1&&(s(0,"mat-header-cell"),d(1),_(2,"translate"),a()),n&2&&(r(),C(" ",g(2,1,"TITLE.OPTION")," "))}function Dn(n,l){if(n&1&&(s(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),d(3,"more_vert"),a()(),M(4,"mat-menu",null,2),a()),n&2){let o=W(5);r(),p("matMenuTriggerFor",o)}}function kn(n,l){n&1&&(s(0,"mat-header-cell",56),d(1),_(2,"translate"),a()),n&2&&(r(),C("",g(2,1,"ACTION.ORDERING")," "))}function Vn(n,l){n&1&&(s(0,"mat-cell")(1,"mat-icon",65),d(2,"reorder"),a()())}function On(n,l){n&1&&M(0,"mat-header-row")}function Ln(n,l){if(n&1){let o=w();s(0,"mat-row",66),b("click",function(){let t=h(o).$implicit,e=m();return S(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=m();pe("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ii=(()=>{let l=class l extends _i{constructor(i,t,e,c,v,u,O,Y,Ce,ot){super(i,new k,Ce,c,O),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.tokenHelper=c,this.router=v,this.cdr=u,this.translate=O,this.pageInfo=Y,this.publicHelper=Ce,this.dialog=ot,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new te,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","ClassName","ShowInOrder","CreatedDate","UpdatedDate","ExpireDate","position"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","ClassName","ShowInOrder","CreatedDate","UpdatedDate","ExpireDate","position"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:wi=>this.onSubmitOptionsSearch(wi)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=he.Ascending}ngOnInit(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new k);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=he.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=he.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=he.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qe,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAuto(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ke,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let v=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(u=>{this.publicHelper.processService.processStart(v,u,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:u=>{u.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(v)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(v,!1)}})}}).catch(()=>{})}onActionButtonGoToModuleList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["/core/siteModule/",this.tableRowSelected.id])}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(u=>{t.set(u,0)}),this.translate.get("MESSAGE.All").subscribe(u=>{t.set(u,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(u=>{this.publicHelper.processService.processStart(e,u,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:u=>{u.isSuccess&&(this.translate.get("MESSAGE.All").subscribe(O=>{t.set(O,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)),this.publicHelper.processService.processStop(e)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),v=new Se;v.propertyName="RecordStatus",v.value=Pe.Available,c.filters.push(v),this.contentService.ServiceGetCount(c).subscribe({next:u=>{u.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(O=>{t.set(O,u.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(u.errorMessage),this.publicHelper.processService.processStop(e)},error:u=>{this.cmsToastrService.typeError(u),this.publicHelper.processService.processStop(e,!1)}})}onTableDropRow(i){let t=this.tableSource.data.findIndex(c=>c===i.item.data),e=new xt;e.id=this.tableSource.data[t].id,e.centerId=this.tableSource.data[i.currentIndex].id,t>i.currentIndex?e.actionGo=$e.GoUp:e.actionGo=$e.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:c=>{c.isSuccess?(gi(this.tableSource.data,t,i.currentIndex),this.tableSource.data=this.tableSource.data.slice()):this.cmsToastrService.typeErrorMessage(c.errorMessage)},error:c=>{this.cmsToastrService.typeError(c)}})}onActionButtonConfigMainAdminRow(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate([i.className+"/config/mainadmin/"])}onActionButtonSiteList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/site/modulelist/LinkModuleId/",i.id])}onActionButtonSiteCategoryList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/sitecategorymodule/LinkCmsModuleId/",i.id])}onActionButtonModuleEntityList(i=this.tableRowSelected){if(!i||!i.id||i.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}this.onActionTableRowSelect(i),this.router.navigate(["core/module-entity/LinkModuleId/",i.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(f(V),f(N),f(Ue),f(ie),f(wt),f(F),f(P),f(Tt),f(G),f(Z))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-list"]],features:[ce],decls:76,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","linkCreatedBySiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","ClassName"],["matColumnDef","ShowInOrder"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["type","button","id","openModalButton","data-toggle","modal","data-target","#categoryModal","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-gear","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-layer-group","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],[3,"click"]],template:function(t,e){if(t&1){let c=w();s(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(u){return h(c),R(e.viewGuideNotice,u)||(e.viewGuideNotice=u),S(u)}),b("optionOnActionButtonMemoRow",function(){return h(c),S(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return h(c),S(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return h(c),S(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return h(c),S(e.onActionButtonPrintRow())}),E(1,4),d(2," -------------------------------------- "),x(),fe(3,5)(4,6),E(5,7),s(6,"a",8),b("click",function(){return h(c),S(e.viewGuideNotice=!e.viewGuideNotice)}),M(7,"i",9),a(),s(8,"a",8),b("click",function(){return h(c),S(e.onActionButtonReload())}),M(9,"i",10),a(),x(),E(10,11),s(11,"a",12),b("click",function(){return h(c),S(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),M(12,"mat-slide-toggle",13),d(13),_(14,"translate"),a(),s(15,"a",12),b("click",function(){return h(c),S(e.onActionButtonStatist())}),M(16,"mat-slide-toggle",13),d(17),_(18,"translate"),a(),x(),E(19,14),I(20,$i,7,3,"div",15)(21,en,7,3,"div",15),x(),E(22,16),I(23,tn,7,3,"div",15)(24,nn,7,3,"div",15)(25,on,7,3,"div",15)(26,rn,7,3,"div",15)(27,ln,7,3,"div",15)(28,an,7,3,"div",15),x(),E(29,17),s(30,"app-cms-search-list",18),D("optionsChange",function(u){return h(c),R(e.optionsSearch,u)||(e.optionsSearch=u),S(u)}),a(),s(31,"app-cms-statist-list",18),D("optionsChange",function(u){return h(c),R(e.optionsStatist,u)||(e.optionsStatist=u),S(u)}),a(),x(),E(32,19),s(33,"mat-table",20,0),b("matSortChange",function(){h(c);let u=W(34);return S(e.onTableSortData(u))}),E(35,21),I(36,sn,3,3,"mat-header-cell",22)(37,cn,2,1,"mat-cell",23),x(),E(38,24),I(39,pn,2,1,"mat-header-cell",22)(40,mn,2,1,"mat-cell",23),x(),E(41,25),I(42,un,2,1,"mat-header-cell",22)(43,fn,2,1,"mat-cell",23),x(),E(44,26),I(45,hn,2,1,"mat-header-cell",22)(46,_n,5,7,"mat-cell",27),x(),E(47,28),I(48,gn,2,1,"mat-header-cell",22)(49,Cn,2,1,"mat-cell",23),x(),E(50,29),I(51,Mn,2,1,"mat-header-cell",22)(52,In,2,1,"mat-cell",23),x(),E(53,30),I(54,vn,2,1,"mat-header-cell",22)(55,bn,2,1,"mat-cell",23),x(),E(56,31),I(57,wn,2,1,"mat-header-cell",22)(58,yn,3,3,"mat-cell",23),x(),E(59,32),I(60,En,2,1,"mat-header-cell",22)(61,xn,3,3,"mat-cell",23),x(),E(62,33),I(63,An,2,1,"mat-header-cell",22)(64,Tn,3,6,"mat-cell",34),x(),E(65,35),I(66,Rn,3,3,"mat-header-cell",36)(67,Dn,6,1,"mat-cell",37),x(),E(68,38),I(69,kn,3,3,"mat-header-cell",22)(70,Vn,3,0,"mat-cell",23),x(),I(71,On,1,0,"mat-header-row",39)(72,Ln,1,6,"mat-row",40),a(),x(),E(73,41),s(74,"mat-paginator",42,1),b("page",function(u){return h(c),S(e.onTablePageingData(u))}),a(),x(),a()}t&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),p("checked",e.optionsSearch.data.show),r(),C("",g(14,28,"ACTION.SEARCH")," "),r(3),p("checked",e.optionsStatist.data.show),r(),C("",g(18,30,"ACTION.STATIST")," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),r(2),T("options",e.optionsSearch),r(),T("options",e.optionsStatist),r(2),p("dataSource",e.tableSource),r(38),p("matHeaderRowDef",e.tabledisplayedColumns),r(),p("matRowDefColumns",e.tabledisplayedColumns),r(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ft(32,Yi)))},dependencies:[ht,B,St,Le,$,ee,Vt,Ot,Lt,Ft,Bt,Pt,Nt,Ht,qt,Wt,Gt,zt,jt,Ut,Qt,Kt,pi,mi,di,oi,U,ri,K,ui,ai,li],encapsulation:2});let n=l;return n})();var Fn=[{path:"",children:[{path:"",component:Ii}]}],vi=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=de({type:l}),l.\u0275inj=se({imports:[Xe.forChild(Fn),Xe]});let n=l;return n})();var Bn=["*"];function Pn(n,l){if(n&1&&(s(0,"label",8),d(1),a()),n&2){let o=m();Je("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Nn(n,l){if(n&1&&(s(0,"mat-option",9)(1,"span"),d(2),a()()),n&2){let o=l.$implicit,i=m();p("value",o)("disabled",i.optionDisabled),r(2),y(i.displayOption(o))}}function Gn(n,l){if(n&1){let o=w();s(0,"mat-icon",10),b("click",function(){h(o);let t=m();return S(t.onActionSelectClear())}),d(1,"close"),a()}}var zo=(()=>{let l=class l{constructor(i,t,e,c,v,u){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=c,this.translate=v,this.categoryService=u,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=new k,this.formControl=new Te,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new X,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(ct(""),st(1500),dt(),pt(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return rt(this,null,function*(){let t=new te;t.rowPerPage=20,t.accessLoad=!0;let e=new Se;e.propertyName="Title",e.value=i,e.searchType=et.Contains,e.clauseType=Ze.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new Se,e.propertyName="Id",e.value=i,e.searchType=et.Equal,e.clauseType=Ze.Or,t.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(v=>{this.publicHelper.processService.processStart(c,v,this.constructorInfoAreaId)}),yield lt(this.categoryService.ServiceGetAll(t)).then(v=>(this.dataModelResult=v,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),v.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}onActionEmpty(){this.formControl.setValue(0),this.dataModelSelect=new k,this.optionChange.emit(this.dataModelSelect)}push(i){return this.filteredOptions.pipe(at(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="number"&&i>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof k){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new k,this.loadOptions()}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(f(Q),f(N),f(F),f(G),f(P),f(V))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Bn,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let c=w();mt(),s(0,"div",1),M(1,"app-progress-spinner",2),I(2,Pn,2,3,"label",3),M(3,"input",4),s(4,"mat-autocomplete",5,0),b("optionSelected",function(u){return h(c),S(e.onActionSelect(u.option.value))}),I(6,Nn,3,3,"mat-option",6),_(7,"async"),a(),I(8,Gn,2,0,"mat-icon",7),ut(9),a()}if(t&2){let c=W(5);r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),A("placeholder",e.optionPlaceholder),Je("id","app-cms-site-selector-",e.id,""),p("formControl",e.formControl)("matAutocomplete",c),Me("disabled",e.optionDisabled?!0:null),r(),p("displayWith",e.displayFn),r(2),p("ngForOf",g(7,11,e.filteredOptions)),r(2),p("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[we,B,me,ue,Mt,Rt,gt,Dt,bt,$,ee,z,_t],encapsulation:2});let n=l;return n})();function Hn(n,l){if(n&1){let o=w();s(0,"button",13),b("click",function(){h(o);let t=m();return S(t.onActionAdd())}),d(1),_(2,"translate"),a()}n&2&&(r(),y(g(2,1,"ACTION.ADD")))}function Wn(n,l){if(n&1){let o=w();s(0,"button",14),b("click",function(){h(o);let t=m();return S(t.onActionEdit())}),d(1),_(2,"translate"),a()}n&2&&(r(),y(g(2,1,"ACTION.EDIT")))}function jn(n,l){if(n&1){let o=w();s(0,"button",15),b("click",function(){h(o);let t=m();return S(t.onActionDelete())}),d(1),_(2,"translate"),a()}n&2&&(r(),y(g(2,1,"ACTION.DELETE")))}function Un(n,l){if(n&1){let o=w();s(0,"button",16),b("click",function(){h(o);let t=m();return S(t.onActionButtonReload())}),s(1,"mat-icon",17),_(2,"translate"),d(3,"refresh"),a()()}n&2&&(r(),A("title",g(2,1,"ACTION.RELOAD")))}function qn(n,l){if(n&1&&(M(0,"img",21),_(1,"cmsthumbnail")),n&2){let o=m().$implicit;A("src",g(1,1,o.linkMainImageIdSrc),H)}}function zn(n,l){if(n&1){let o=w();s(0,"mat-tree-node",18),b("click",function(){let t=h(o).$implicit,e=m();return S(e.onActionSelect(t))}),M(1,"button",19),I(2,qn,2,3,"img",20),d(3),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=m();pe("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===o.id),r(2),p("ngIf",o.linkMainImageIdSrc),r(),C(" ",o.title," ")}}function Qn(n,l){if(n&1&&(M(0,"img",21),_(1,"cmsthumbnail")),n&2){let o=m().$implicit;A("src",g(1,1,o.linkMainImageIdSrc),H)}}function Kn(n,l){if(n&1){let o=w();s(0,"mat-nested-tree-node")(1,"li")(2,"div",22),b("click",function(){let t=h(o).$implicit,e=m();return S(e.onActionSelect(t))}),s(3,"button",23),b("click",function(){let t=h(o).$implicit,e=m();return S(e.onActionSelect(t))}),s(4,"mat-icon",24),d(5),a()(),I(6,Qn,2,3,"img",20),d(7),a(),s(8,"ul"),fe(9,25),a()()()}if(n&2){let o=l.$implicit,i=m();r(2),pe("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===o.id),r(),Me("aria-label","Toggle "+o.title),r(2),C(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),p("ngIf",o.linkMainImageIdSrc),r(),C(" ",o.title," "),r(),pe("category-tree-invisible",!i.treeControl.isExpanded(o))}}var ar=(()=>{let l=class l{constructor(i,t,e,c,v,u,O,Y){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=c,this.cdr=v,this.publicHelper=u,this.tokenHelper=O,this.translate=Y,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new k,this.dataModelResult=new q,this.filterModel=new te,this.treeControl=new Jt(Ce=>null),this.dataSource=new ni,this.optionChange=new X,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Ce,ot)=>!1,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new k,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Qe,{height:"90%",panelClass:i,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ke,{height:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(i=this.dataModelSelect.id),i===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}}};l.\u0275fac=function(t){return new(t||l)(f(N),f(Q),f(V),f(Z),f(F),f(G),f(ie),f(P))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(s(0,"app-cms-html-tree",0),E(1,1),d(2),_(3,"translate"),x(),E(4,2),I(5,Hn,3,3,"button",3)(6,Wn,3,3,"button",4)(7,jn,3,3,"button",5)(8,Un,4,3,"button",6),x(),E(9,7),M(10,"app-progress-spinner",8),s(11,"mat-tree",9),I(12,zn,4,8,"mat-tree-node",10)(13,Kn,10,8,"mat-nested-tree-node",11),a(),x(),fe(14,12),a()),t&2&&(p("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),C(" ",g(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),p("optionsInfoAreaId",e.constructorInfoAreaId),r(),p("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),p("matTreeNodeDefWhen",e.hasChild))},dependencies:[B,Le,$,Zt,Xt,$t,ii,ti,Yt,ei,z,si,U,K],encapsulation:2});let n=l;return n})();function Jn(n,l){n&1&&M(0,"div",5)}var cr=(()=>{let l=class l{constructor(i,t,e,c,v,u,O){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=v,this.translate=u,this.tokenHelper=O,this.constructorInfoAreaId=this.constructor.name,this.optionId=0,this.dataModelResult=new q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};l.\u0275fac=function(t){return new(t||l)(f(V),f(G),f(F),f(N),f(Z),f(P),f(ie))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-header"]],inputs:{optionId:"optionId"},decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td"],[1,"td","align",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","align"],[2,"clear","both"],[1,"td",2,"text-align","left"],[1,"divider","divider-margins"]],template:function(t,e){t&1&&(s(0,"div",0),M(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4),M(5,"div",5),s(6,"div",6)(7,"h5")(8,"b"),d(9),_(10,"translate"),a()()(),I(11,Jn,1,0,"div",7),a(),s(12,"div",4)(13,"div",5)(14,"b"),d(15),a(),d(16,": "),a(),s(17,"div",8),d(18),a(),M(19,"div",5)(20,"div",9),a(),s(21,"div",4)(22,"div",5)(23,"b"),d(24),a(),d(25," : "),a(),s(26,"div",8),d(27),a(),M(28,"div",10)(29,"div",9),a()()()(),M(30,"div",11)),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(8),y(g(10,7,"TITLE.Selected_Module")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[B,z,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.align[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();function Yn(n,l){n&1&&M(0,"div",5)}function Xn(n,l){if(n&1){let o=w();s(0,"button",14),b("click",function(){h(o);let t=m();return S(t.onActionButtonLinkTo())}),s(1,"mat-icon"),d(2,"\u2197 "),a()()}}var hr=(()=>{let l=class l{constructor(i,t,e,c,v,u,O){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=v,this.translate=u,this.tokenHelper=O,this.constructorInfoAreaId=this.constructor.name,this.optionId=0,this.dataModelResult=new q,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonLinkTo(i=this.dataModelResult.item){if(!i||!i.id||i.id>0){this.cmsToastrService.typeErrorSelectedRow();return}if(i.recordStatus!=Pe.Available){this.cmsToastrService.typeWarningRecordStatusNoAvailable();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ci,{height:"90%",width:"90%",panelClass:t,enterAnimationDuration:j.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:j.cmsViewConfig.exitAnimationDuration,data:{title:i.title,urlViewContentQRCodeBase64:"",urlViewContent:i.currentSiteDomainUrl}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate})}};l.\u0275fac=function(t){return new(t||l)(f(Ge),f(G),f(F),f(N),f(Z),f(P),f(ie))},l.\u0275cmp=L({type:l,selectors:[["app-core-site-header"]],inputs:{optionId:"optionId"},decls:33,vars:10,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td"],[1,"td","align",2,"color","darkblue"],["class","td",4,"ngIf"],[1,"td","align"],[2,"clear","both"],[1,"td",2,"text-align","left"],["title","link to"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"divider","divider-margins"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"]],template:function(t,e){t&1&&(s(0,"div",0),M(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4),M(5,"div",5),s(6,"div",6)(7,"h5")(8,"b"),d(9),_(10,"translate"),a()()(),I(11,Yn,1,0,"div",7),a(),s(12,"div",4)(13,"div",5)(14,"b"),d(15),a(),d(16,": "),a(),s(17,"div",8),d(18),a(),M(19,"div",5)(20,"div",9),a(),s(21,"div",4)(22,"div",5)(23,"b"),d(24),a(),d(25," : "),a(),s(26,"div",8),d(27),a(),s(28,"div",10)(29,"abbr",11),I(30,Xn,3,0,"button",12),a()(),M(31,"div",9),a()()()(),M(32,"div",13)),t&2&&(r(),p("optionsInfoAreaId",e.constructorInfoAreaId),r(8),y(g(10,8,"TITLE.Selected_Site")),r(2),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(4),C("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title),r(3),p("ngIf",e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id))},dependencies:[B,$,z,U],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.align[_ngcontent-%COMP%]{text-align:center}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();var bi=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=de({type:l}),l.\u0275inj=se({providers:[Ge,V],imports:[ye,je]});let n=l;return n})();function Zn(n,l){if(n&1&&(M(0,"img",3),_(1,"cmsthumbnail")),n&2){let o=m().$implicit;A("src",g(1,1,o.linkMainImageIdSrc),H)}}function $n(n,l){if(n&1){let o=w();s(0,"li")(1,"mat-checkbox",1),b("change",function(){let t=h(o).$implicit,e=m();return S(e.onActionSelect(t))}),I(2,Zn,2,3,"img",2),d(3),a()()}if(n&2){let o=l.$implicit,i=m();r(),p("checked",i.fieldsStatus.get(o.id))("disabled",i.optionDisabled),r(),p("ngIf",o.linkMainImageIdSrc),r(),C(" ",o.title," ")}}var kr=(()=>{let l=class l{constructor(i,t,e,c,v,u){this.coreEnumService=i,this.categoryService=t,this.cdr=e,this.publicHelper=c,this.translate=v,this.cmsToastrService=u,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new q,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Te,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new X,this.optionSelectAdded=new X,this.optionSelectRemoved=new X,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll()}DataGetAll(){let i=new te;i.rowPerPage=50,i.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(i){this.fieldsStatus.get(i.id)?(this.fieldsStatus.set(i.id,!1),this.optionSelectRemoved.emit(i),this.dataModelSelect.splice(this.dataModelSelect.indexOf(i),1)):(this.fieldsStatus.set(i.id,!0),this.optionSelectAdded.emit(i),this.dataModelSelect.push(i)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(i){typeof i==typeof Array(Number)?i.forEach(t=>{this.dataIdsSelect.push(t)}):typeof i==typeof Array(k)&&i.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(f(Q),f(V),f(F),f(G),f(P),f(N))},l.\u0275cmp=L({type:l,selectors:[["app-core-module-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"]],template:function(t,e){t&1&&(s(0,"ul"),I(1,$n,4,4,"li",0),a()),t&2&&(r(),p("ngForOf",e.dataModelResult.listItems))},dependencies:[we,B,kt,K],encapsulation:2});let n=l;return n})();var nl=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=de({type:l}),l.\u0275inj=se({providers:[V,Ue],imports:[ye,It,vi,vt.withConfig({warnOnNgModelWithFormControl:"never"}),je,Si,bi,At]});let n=l;return n})();export{cr as a,hr as b,bi as c,zo as d,ar as e,kr as f,nl as g};
