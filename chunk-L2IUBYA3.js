import{a as fi,b as Nt,c as Ci}from"./chunk-OCHCK6IM.js";import{a as It}from"./chunk-3JGX6DNS.js";import{a as Ft}from"./chunk-PVEUCOX5.js";import{a as Ot}from"./chunk-BRMVS3UD.js";import{b as Ro}from"./chunk-DO2N37AD.js";import{a as Be}from"./chunk-NR33HZCH.js";import{$ as $e,$b as it,Aa as po,Ab as O,Ac as ni,Ad as To,B as oo,Ba as mo,Bc as ri,Bd as bt,Ca as uo,Cb as re,Cc as ai,Da as fo,Dc as li,Dd as mi,E as Ke,Ec as si,F as Qe,Fa as Co,Fb as Mo,G as Je,Hd as Eo,Id as vt,J as Ye,Jc as St,K as Xe,Kc as ci,Kd as ui,L as Ze,N as no,Nb as bo,O as ro,Oa as Ae,Ob as vo,Od as Ao,Pa as Re,Qa as ge,Rb as Xt,Sc as Lt,Tc as Vt,Uc as yo,Vc as wo,Wa as ce,Za as te,Zc as gt,_c as _t,ac as ot,bc as nt,ca as ao,cc as ke,dc as rt,dd as di,ec as at,gc as Zt,gd as Bt,hc as $t,jd as Ue,lc as lt,m as io,mc as st,nc as ct,o as Qt,oc as dt,p as Oe,pa as P,pc as pt,pd as Mt,qa as W,qc as mt,rc as ut,s as K,sb as Yt,sc as ft,t as ye,tb as _o,tc as Ct,ub as me,uc as ht,v as we,va as Ee,vb as V,vc as Io,w as Rt,wc as ei,x as Y,xa as lo,xb as Gt,xc as ti,y as Te,ya as so,yc as ii,yd as pi,za as co,zb as tt,zc as oi}from"./chunk-SBJL5AHS.js";import{a as G}from"./chunk-LB2GNHBM.js";import{Aa as he,Ab as wi,Bd as X,Db as be,Dc as ze,Eb as ve,Fb as Ie,Fc as Kt,Fd as xt,Ia as Me,Ib as k,Jb as eo,Kb as p,Kd as kt,L as Qi,La as r,Lb as w,Lc as to,Ld as L,Ma as S,Mb as g,O as Ji,Od as z,Pd as F,Qb as A,Qd as De,Rb as R,Sb as D,Vb as qe,Vd as q,W as Yi,Wb as je,X as Xi,Yb as _,Za as J,Zb as M,Zd as Jt,Zf as Di,_b as Le,ab as v,bb as At,cb as u,ce as So,da as qt,eb as le,fd as Dt,g as yi,gc as N,hd as Fe,ja as B,ka as zt,kd as Ti,lb as l,mb as s,nb as I,nd as ho,ob as T,pb as E,pf as pe,qb as Se,qf as Z,ra as f,rb as y,rd as Ei,rf as Ri,sa as C,sf as oe,u as zi,ub as b,ue as go,v as Ki,ve as Ut,wb as h,wd as Ai,we as de,xb as Zi,xc as Ve,xe,yb as $i,yc as se,ye as ie,zb as U,zc as j,zd as et}from"./chunk-XKQYEJGP.js";function Ho(o,d){if(o&1){let n=y();l(0,"button",10),b("click",function(){f(n);let i=h();return C(i.onActionButtonEditRow())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.EDIT")))}function jo(o,d){if(o&1){let n=y();l(0,"button",4),b("click",function(){f(n);let i=h();return C(i.onActionBackToParent())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.BACK")))}function Wo(o,d){if(o&1&&(l(0,"p"),p(1),s()),o&2){let n=h().$implicit;r(),g(" ",n.approvedExpireDate," ")}}function qo(o,d){if(o&1&&(l(0,"p"),p(1),s()),o&2){let n=h().$implicit;r(),g(" ",n.typeDescription," ")}}function zo(o,d){if(o&1&&(l(0,"p"),p(1),s()),o&2){let n=h().$implicit;r(),g(" ",n.approvedResult," ")}}function Ko(o,d){if(o&1){let n=y();l(0,"button",4),b("click",function(){f(n);let i=h().$implicit,e=h();return C(e.onActionButtonEditRow(i))}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.SEND_DOCUMENTS")))}function Qo(o,d){if(o&1&&(l(0,"div",11)(1,"mat-card",12)(2,"mat-card-header"),I(3,"div",13),l(4,"mat-card-title"),I(5,"i",1),_(6,"boolclass"),p(7),_(8,"translate"),s(),l(9,"mat-card-subtitle"),p(10),s()(),I(11,"img",14),l(12,"mat-card-content"),v(13,Wo,2,1,"p",15)(14,qo,2,1,"p",15)(15,zo,2,1,"p",15),s(),l(16,"mat-card-actions"),v(17,Ko,3,3,"button",6),s()()()),o&2){let n=d.$implicit;r(3),eo("background-image: url('",n.typeLinkMainImageIdSrc,"'); background-size: cover;"),r(2),u("ngClass",M(6,12,n.isApproved)),r(2),g(" ",M(8,14,"ACTION.STATUS"),""),r(3),w(n.typeTitle),r(),U("src",n.linkFileContentIdSrc,Me),U("alt",n.typeTitle),r(2),u("ngIf",n.isApproved&&n.approvedExpireDate),r(),u("ngIf",!n.isApproved),r(),u("ngIf",n.approvedResult&&n.approvedResult.length>0),r(2),u("ngIf",!n.isApproved)}}var xi=(()=>{let d=class d{constructor(t,i,e,c,m,a,x,H,Q,_e){this.coreUserClaimContentService=t,this.publicHelper=i,this.cmsToastrService=e,this.coreUserClaimTypeService=c,this.router=m,this.activatedRoute=a,this.tokenHelper=x,this.cdr=H,this.translate=Q,this.dialog=_e,this.requestLinkUserId=0,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.dataModelResult=new L,this.optionsSearch=new To,this.optionsStatist=new Eo,this.tokenInfo=new ho,this.tableRowSelected=new Di,this.tableSource=new Io,this.fieldsInfo=new Map,this.categoryModelSelected=new oe,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=["TypeTitle","IsApproved","ApprovedResult","ApproveCheckDate","ApprovedExpireDate","Action"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId"))}ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.onActionTableRowSelect(new Di);let t=this.constructor.name+"main";if(this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.requestLinkUserId>0&&this.requestLinkSiteId>0){let i=new go;i.userId=this.requestLinkUserId,i.siteId=this.requestLinkSiteId,this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheck(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}else this.coreUserClaimContentService.setAccessLoad(),this.coreUserClaimContentService.ServiceClaimCheckCurrent().subscribe({next:i=>{i.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModelResult=i,this.tableSource.data=i.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonNewRow(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Nt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkTypeId||t.linkTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),t.linkContentId&&t.linkContentId>0){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.linkContentId}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}else{var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Nt,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimTypeId:this.tableRowSelected.linkTypeId}}).afterClosed().subscribe(m=>{m&&m.dialogChangedDate&&this.DataGetAll()})}}onActionButtonReload(){this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/user/"])}};d.\u0275fac=function(i){return new(i||d)(S(Ut),S(O),S(V),S(ie),S(Fe),S(Dt),S(me),S(N),S(P),S(ge))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-checklist"]],decls:13,vars:8,consts:[[1,"row"],[3,"ngClass"],[1,"ntk-cms-html-list-header"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],[1,"row","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","col-4",4,"ngFor","ngForOf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"col-4"],[1,"example-card"],["mat-card-avatar",""],["mat-card-image","",3,"src","alt"],[4,"ngIf"]],template:function(i,e){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),v(3,Ho,3,3,"button",3),l(4,"button",4),b("click",function(){return e.onActionButtonReload()}),l(5,"mat-icon",5),_(6,"translate"),p(7,"refresh"),s()(),v(8,jo,3,3,"button",6),s(),l(9,"div")(10,"div",7),I(11,"app-progress-spinner",8),v(12,Qo,18,16,"div",9),s()()()()),i&2&&(r(),u("ngClass","col-xl-12"),r(2),u("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkTypeId)>0),r(2),U("title",M(6,6,"ACTION.RELOAD")),r(3),u("ngIf",e.requestLinkUserId>0),r(3),u("optionsInfoAreaId",e.constructor.name),r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[Ve,se,j,lo,mo,Co,co,uo,fo,po,so,ce,re,W,Gt],styles:[".width[_ngcontent-%COMP%]{width:100%}"]});let o=d;return o})();var Yo=["vform"];function Xo(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zo(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function $o(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function en(o,d){if(o&1&&(l(0,"option",39),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),g(" ",n.description," ")}}function tn(o,d){o&1&&(l(0,"mat-error"),p(1," Kind is "),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),w(M(4,1,"MESSAGE.required")))}function on(o,d){if(o&1&&(I(0,"img",40),_(1,"cmsthumbnail")),o&2){let n=h();U("src",M(1,1,n.dataModel.linkMainImageIdSrc),Me)}}function nn(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function rn(o,d){if(o&1){let n=y();l(0,"div",41)(1,"button",42),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",43),p(3),_(4,"translate"),s(),l(5,"button",44),I(6,"i",45),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var gi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,a,x,H){super(c,new oe,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.publicHelper=m,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new oe,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimTypeService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(ie),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-add"]],viewQuery:function(i,e){if(i&1&&be(Yo,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:65,vars:50,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",6),I(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s(),l(8,"form",10,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),v(10,Xo,1,5,"app-cms-enum-record-status-selector",11),l(11,"div",12)(12,"label",13),p(13),s(),l(14,"input",14,1),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),C(a)}),s(),l(16,"em"),p(17),s(),v(18,Zo,5,4,"mat-error",15),s(),l(19,"div",12)(20,"label",16),p(21),s(),l(22,"input",17,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),C(a)}),s(),l(24,"em"),p(25),s(),v(26,$o,5,4,"mat-error",15),s(),l(27,"div",18)(28,"select",19,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.kind,a)||(e.dataModel.kind=a),C(a)}),v(30,en,2,2,"option",20),s(),l(31,"em"),p(32),_(33,"translate"),s(),v(34,tn,5,3,"mat-error",15),s(),l(35,"div",21)(36,"div",22)(37,"h5",23),p(38),s()(),l(39,"div",24)(40,"div",25)(41,"input",26),D("ngModelChange",function(a){return f(c),R(e.dataModel.dismissOnEdit,a)||(e.dataModel.dismissOnEdit=a),C(a)}),s(),I(42,"label",27),s()()(),l(43,"div",28)(44,"a",29),_(45,"cmsthumbnail"),v(46,on,2,3,"img",30),s()(),l(47,"div",31)(48,"div",12)(49,"label",32),b("click",function(){return f(c),C(e.fileManagerOpenForm=!0)}),p(50),_(51,"translate"),s(),l(52,"input",33,4),_(54,"translate"),D("ngModelChange",function(a){return f(c),R(e.dataModel.linkMainImageId,a)||(e.dataModel.linkMainImageId=a),C(a)}),b("click",function(){return f(c),C(e.fileManagerOpenForm=!0)}),s()(),l(55,"cms-file-manager",34),b("itemSelected",function(a){return f(c),C(e.onActionFileSelected(a))}),D("openFormChange",function(a){return f(c),R(e.fileManagerOpenForm,a)||(e.fileManagerOpenForm=a),C(a)}),s()(),l(56,"div",12)(57,"label",35),p(58),s(),l(59,"textarea",36,5),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),C(a)}),s(),l(61,"em"),p(62),s(),v(63,nn,5,4,"mat-error",15),s(),v(64,rn,9,7,"div",37),s()()()}if(i&2){let c=k(15),m=k(23),a=k(29),x=k(60);r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),w(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),A("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(2),w(M(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(4),g(" ",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),A("ngModel",e.dataModel.dismissOnEdit),r(3),U("href",M(45,44,e.dataModel.linkMainImageIdSrc),Me),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",M(51,46,"TITLE.Sample_File")," "),r(2),U("placeholder",M(54,48,"TITLE.Original_File_ID")),A("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),A("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),g("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Qe,Je,Oe,Qt,Ke,K,ye,Ye,Xe,Ze,Y,we,$e,te,Ue,re,Yt,W,Lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function ln(o,d){if(o&1){let n=y();l(0,"li")(1,"mat-checkbox",1),b("change",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),p(2),s()()}if(o&2){let n=d.$implicit,t=h();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),g(" ",n.titleML," ")}}var ko=(()=>{let d=class d{constructor(t,i,e,c,m,a){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.cmsToastrService=a,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Rt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new he,this.optionSelectAdded=new he,this.optionSelectRemoved=new he,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(Z)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(q),S(de),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(l(0,"ul"),v(1,ln,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[se,Xt]});let o=d;return o})();var pn=["vform"];function mn(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",38),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function un(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function fn(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Cn(o,d){if(o&1&&(l(0,"option",39),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),g(" ",n.description," ")}}function hn(o,d){if(o&1){let n=y();l(0,"div",40)(1,"div",41)(2,"h5",42),p(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",45),D("ngModelChange",function(i){f(n);let e=h();return R(e.dataModel.dismissOnEdit,i)||(e.dataModel.dismissOnEdit=i),C(i)}),s(),I(7,"label",46),s()()()}if(o&2){let n=h();r(3),g(" ",n.fieldsInfo.dismissOnEdit==null?null:n.fieldsInfo.dismissOnEdit.fieldTitle,""),r(3),A("ngModel",n.dataModel.dismissOnEdit)}}function Sn(o,d){if(o&1&&(I(0,"img",47),_(1,"cmsthumbnail")),o&2){let n=h();U("src",M(1,1,n.dataModel.linkMainImageIdSrc),Me)}}function gn(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function _n(o,d){if(o&1){let n=y();l(0,"div",48)(1,"button",49),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",50),p(3),_(4,"translate"),s(),l(5,"button",51),I(6,"i",52),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var _i=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,a,x,H,Q){super(c,new oe,a,Q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimTypeService=c,this.coreUserClaimGroupDetailService=m,this.publicHelper=a,this.cmsToastrService=x,this.cdr=H,this.translate=Q,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new oe,this.formInfo=new De,this.dataModelEnumUserClaimKindsResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimGroupIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllCoreUserClaimType(),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimTypeService.setAccessLoad(),this.coreUserClaimTypeService.setAccessDataType(xt.Editor),this.coreUserClaimTypeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Get_the_list_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)});let i=new F,e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(a=>{m.push(a.linkUserClaimGroupId)}),this.dataCoreClaimGroupIds=m,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.formAlert=a}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimTypeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionFileSelected(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(ie),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-edit"]],viewQuery:function(i,e){if(i&1&&be(pn,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:66,vars:58,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["Kind","ngModel"],["LinkMainImageId",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.kind","name","dataModel.kind",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","d-flex mb-3",4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[1,"mb-9"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","name","dataModel.linkMainImageId","type","text","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.dismissOnEdit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.dismissOnEdit","name","dataModel.dismissOnEdit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.dismissOnEdit",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",7),I(1,"app-progress-spinner",8),l(2,"div",9)(3,"p",10),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s(),l(8,"form",11,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),l(10,"mat-vertical-stepper",12,1),b("selectionChange",function(a){f(c);let x=k(11);return C(e.onStepClick(a,x))}),l(12,"mat-step",13),_(13,"translate"),v(14,mn,1,5,"app-cms-enum-record-status-selector",14),l(15,"div",15)(16,"label",16),p(17),s(),l(18,"input",17,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),C(a)}),s(),l(20,"em"),p(21),s(),v(22,un,5,4,"mat-error",18),s(),l(23,"div",15)(24,"label",19),p(25),_(26,"translate"),s(),l(27,"input",20),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleML,a)||(e.dataModel.titleML=a),C(a)}),s()(),l(28,"div",15)(29,"label",21),p(30),s(),l(31,"input",22,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),C(a)}),s(),l(33,"em"),p(34),s(),v(35,fn,5,4,"mat-error",18),s(),l(36,"div",23)(37,"select",24,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.kind,a)||(e.dataModel.kind=a),C(a)}),v(39,Cn,2,2,"option",25),s()(),v(40,hn,8,2,"div",26),l(41,"div",27)(42,"a",28),_(43,"cmsthumbnail"),v(44,Sn,2,3,"img",29),s()(),l(45,"div",30)(46,"div",15)(47,"label",31),b("click",function(){return f(c),C(e.fileManagerOpenForm=!0)}),p(48),_(49,"translate"),s(),l(50,"input",32,5),_(52,"translate"),D("ngModelChange",function(a){return f(c),R(e.dataModel.linkMainImageId,a)||(e.dataModel.linkMainImageId=a),C(a)}),b("click",function(){return f(c),C(e.fileManagerOpenForm=!0)}),s()(),l(53,"cms-file-manager",33),b("itemSelected",function(a){return f(c),C(e.onActionFileSelected(a))}),D("openFormChange",function(a){return f(c),R(e.fileManagerOpenForm,a)||(e.fileManagerOpenForm=a),C(a)}),s()(),l(54,"div",15)(55,"label",34),p(56),s(),l(57,"textarea",35,6),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),C(a)}),s(),l(59,"em"),p(60),s(),v(61,gn,5,4,"mat-error",18),s()(),l(62,"mat-step",13),_(63,"translate"),l(64,"app-core-userclaimgroup-selectionlist",36),b("optionChange",function(a){return f(c),C(e.onActionSelectorUserCategorySelect(a))})("optionSelectAdded",function(a){return f(c),C(e.onActionSelectorUserCategorySelectAdded(a))})("optionSelectRemoved",function(a){return f(c),C(e.onActionSelectorUserCategorySelectRemoved(a))}),s()()(),v(65,_n,9,7,"div",37),s()()()}if(i&2){let c=k(19),m=k(32),a=k(58);r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,44,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",M(13,46,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),g(" ",M(26,48,"TITLE.TitleML"),""),r(2),A("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),w(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),A("ngModel",e.dataModel.kind),r(2),u("ngForOf",e.dataModelEnumUserClaimKindsResult.listItems),r(),u("ngIf",e.fieldsInfo.dismissOnEdit==null?null:e.fieldsInfo.dismissOnEdit.accessWatchField),r(2),U("href",M(43,50,e.dataModel.linkMainImageIdSrc),Me),r(2),u("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(4),g("",M(49,52,"TITLE.Sample_File")," "),r(2),U("placeholder",M(52,54,"TITLE.Original_File_ID")),A("ngModel",e.dataModel.linkMainImageId),r(3),u("language",e.appLanguage)("isPopup",!0),A("openForm",e.fileManagerOpenForm),u("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(3),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),g("",a.value.length," / 500"),r(),u("ngIf",a.errors==null?null:a.errors.required),r(),U("label",M(63,56,"TITLE.Get_Used")),r(2),u("optionSelectForce",e.dataCoreClaimGroupIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Qe,Je,Oe,Qt,Ke,K,ye,Ye,Xe,Ze,Y,we,$e,te,Zt,$t,Ue,re,ci,Yt,ko,W,Lt],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function bn(o,d){if(o&1){let n=y();l(0,"button",11),b("click",function(){f(n);let i=h();return C(i.onActionAdd())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.ADD")))}function vn(o,d){if(o&1){let n=y();l(0,"button",12),b("click",function(){f(n);let i=h();return C(i.onActionEdit())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.EDIT")))}function In(o,d){if(o&1){let n=y();l(0,"button",13),b("click",function(){f(n);let i=h();return C(i.onActionButtonReload())}),l(1,"mat-icon",14),_(2,"translate"),p(3,"refresh"),s()()}o&2&&(r(),U("title",M(2,1,"ACTION.RELOAD")))}function yn(o,d){if(o&1){let n=y();l(0,"mat-tree-node",15),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),I(1,"button",16),p(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),g(" ",n.titleML," ")}}function wn(o,d){if(o&1){let n=y();l(0,"mat-nested-tree-node")(1,"li")(2,"div",17),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),l(3,"button",18),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),l(4,"mat-icon",19),p(5),s()(),p(6),s(),l(7,"ul"),Se(8,20),s()()()}if(o&2){let n=d.$implicit,t=h();r(2),le("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),At("aria-label","Toggle "+n.titleML),r(2),g(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),g(" ",n.titleML," "),r(),le("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Go=(()=>{let d=class d{constructor(t,i,e,c,m,a,x,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=m,this.publicHelper=a,this.tokenHelper=x,this.translate=H,this.dataModelSelect=new oe,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ei(Q=>null),this.dataSource=new si,this.optionChange=new he,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Q,_e)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new oe,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(q),S(ie),S(ge),S(N),S(O),S(me),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:12,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(l(0,"app-cms-html-tree",0),T(1,1),p(2),_(3,"translate"),E(),T(4,2),v(5,bn,3,3,"button",3)(6,vn,3,3,"button",4)(7,In,4,3,"button",5),E(),T(8,6),l(9,"mat-tree",7),v(10,yn,3,7,"mat-tree-node",8)(11,wn,9,7,"mat-nested-tree-node",9),s(),E(),Se(12,10),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",M(3,10,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,ce,oi,ii,ni,li,ai,ti,ri,Bt,W]});let o=d;return o})();var En=()=>[5,10,20,100],An=o=>({display:o}),Rn=o=>({background:o});function Dn(o,d){if(o&1){let n=y();l(0,"a",51),b("click",function(){f(n);let i=h();return C(i.onActionBackToParent())}),I(1,"i",52),s()}}function xn(o,d){if(o&1){let n=y();l(0,"div",21)(1,"a",53),b("click",function(){f(n);let i=h();return C(i.onActionButtonNewRow())}),I(2,"i",54)(3,"br"),s(),l(4,"p",23),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function kn(o,d){if(o&1){let n=y();l(0,"div",21)(1,"a",55),b("click",function(){f(n);let i=h();return C(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",56)(3,"br"),s(),l(4,"p",23),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function Un(o,d){if(o&1){let n=y();l(0,"div",21)(1,"a",57),b("click",function(){f(n);let i=h();return C(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",58)(3,"br"),s(),l(4,"p",23),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function Gn(o,d){o&1&&(l(0,"mat-header-cell",59),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Ln(o,d){if(o&1&&I(0,"img",61),o&2){let n=h().$implicit;U("src",n.linkFileContentId,Me)}}function Vn(o,d){if(o&1&&(l(0,"mat-cell"),v(1,Ln,1,1,"img",60),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkFileContentId==null?null:n.linkFileContentId.length)>0)}}function On(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Fn(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.id," ")}}function Bn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Nn(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.title," ")}}function Pn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Hn(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmssiteinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),g(" ",M(3,3,M(2,1,n.linkSiteId))," ")}}function jn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkUserId==null?null:n.fieldsInfo.linkUserId.fieldTitle," ")}}function Wn(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmsuserinfo"),_(3,"async"),s()),o&2){let n=d.$implicit;r(),g(" ",M(3,3,M(2,1,n.linkUserId))," ")}}function qn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function zn(o,d){if(o&1&&I(0,"select",64),o&2){let n=h().$implicit,t=h();u("contentService",t.contentService)("row",n)("ngStyle",je(3,An,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Kn(o,d){if(o&1&&(l(0,"mat-cell",62),_(1,"statusCellClass"),I(2,"i",62),_(3,"statusIconClass"),v(4,zn,1,5,"select",63),s()),o&2){let n=d.$implicit,t=h();u("ngClass",M(1,3,n.recordStatus)),r(2),u("ngClass",M(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Qn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function Jn(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=h();r(),w(Le(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems))}}function Yn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.isApproved==null?null:n.fieldsInfo.isApproved.fieldTitle," ")}}function Xn(o,d){if(o&1&&(l(0,"mat-cell"),I(1,"i",62),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",M(2,1,n.isApproved))}}function Zn(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function $n(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",t.publicHelper.LocaleDate(n.createdDate)," ")}}function er(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function tr(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",t.publicHelper.LocaleDate(n.updatedDate)," ")}}function ir(o,d){if(o&1&&(l(0,"mat-header-cell",59),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.expireDate==null?null:n.fieldsInfo.expireDate.fieldTitle," ")}}function or(o,d){if(o&1&&(l(0,"mat-cell",65),p(1),s()),o&2){let n=d.$implicit,t=h();u("ngStyle",je(2,Rn,t.publicHelper.RowStyleExpireDate(n.expireDate))),r(),g(" ",t.publicHelper.LocaleDate(n.expireDate)," ")}}function nr(o,d){o&1&&(l(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.OPTION")," "))}function rr(o,d){if(o&1&&(l(0,"mat-cell",66)(1,"button",67)(2,"mat-icon"),p(3,"more_vert"),s()(),I(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function ar(o,d){o&1&&I(0,"mat-header-row")}function lr(o,d){if(o&1){let n=y();l(0,"mat-row",68),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Wt=(()=>{let d=class d extends It{constructor(t,i,e,c,m,a,x,H,Q,_e,Pe,We){if(super(t,new Ri,Pe,a,Q),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreUserClaimTypeService=c,this.router=m,this.tokenHelper=a,this.activatedRoute=x,this.cdr=H,this.translate=Q,this.pageInfo=_e,this.publicHelper=Pe,this.dialog=We,this.requestLinkUserClaimTypeId=0,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new oe,this.dataModelCoreUserClaimTypeResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkFileContentId","Id","RecordStatus","LinkSiteId","LinkUserId","LinkUserClaimTypeId","IsApproved","CreatedDate","UpdatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["LinkFileContentId","Id","RecordStatus","LinkSiteId","LinkUserId","LinkUserClaimTypeId","IsApproved","CreatedDate","UpdatedDate","ExpireDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.optionsSearch.parentMethods={onSubmit:ne=>this.onSubmitOptionsSearch(ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending,this.requestLinkUserClaimTypeId>0){let ne=new z;ne.propertyName="LinkUserClaimTypeId",ne.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(ne)}if(this.requestLinkSiteId>0){let ne=new z;ne.propertyName="LinkSiteId",ne.value=this.requestLinkSiteId,this.filteModelContent.filters.push(ne)}if(this.requestLinkUserId>0){let ne=new z;ne.propertyName="LinkUserId",ne.value=this.requestLinkUserId,this.filteModelContent.filters.push(ne)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ri);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimTypeId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Nt,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ci,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(m,a,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonGoToUserClaimList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteUserClaim/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsModuleId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkSiteCategoryId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/userclaim/type/"])}};d.\u0275fac=function(i){return new(i||d)(S(Ut),S(V),S(Be),S(ie),S(Fe),S(me),S(Dt),S(N),S(P),S(tt),S(O),S(ge))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimcontent-list"]],features:[J],decls:86,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkFileContentId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","Title"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsApproved"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","ExpireDate"],[3,"ngStyle",4,"matCellDef"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[3,"ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),C(a)}),b("optionOnActionButtonMemoRow",function(){return f(c),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),C(e.onActionButtonPrintRow())}),T(1,4),l(2,"app-core-userclaimtype-tree",5),b("optionChange",function(a){return f(c),C(e.onActionSelectorSelect(a))}),s(),E(),Se(3,6),T(4,7),l(5,"div",8)(6,"div",9)(7,"a",10)(8,"mat-slide-toggle",11),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),C(a)}),s(),p(9),_(10,"translate"),s(),l(11,"a",10)(12,"mat-slide-toggle",12),b("click",function(){return f(c),C(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),C(a)}),s(),p(13),_(14,"translate"),s()(),l(15,"div",13),v(16,Dn,2,0,"a",14),l(17,"a",15),b("click",function(){return f(c),C(e.viewGuideNotice=!e.viewGuideNotice)}),I(18,"i",16),s(),l(19,"a",15),b("click",function(){return f(c),C(e.onActionButtonReload())}),I(20,"i",17),s()()(),E(),T(21,18),v(22,xn,7,3,"div",19),E(),T(23,20),v(24,kn,7,3,"div",19)(25,Un,7,3,"div",19),l(26,"div",21)(27,"a",22),b("click",function(){return f(c),C(e.onActionButtonModuleList(e.tableRowSelected))}),l(28,"mat-icon"),p(29,"view_module"),s()(),l(30,"p",23),p(31),_(32,"translate"),s()(),l(33,"div",21)(34,"a",22),b("click",function(){return f(c),C(e.onActionButtonSiteList(e.tableRowSelected))}),I(35,"i",24),s(),l(36,"p",23),p(37),_(38,"translate"),s()(),E(),T(39,25),l(40,"app-cms-search-list",26),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),C(a)}),s(),l(41,"app-cms-statist-list",26),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),C(a)}),s(),E(),T(42,27),l(43,"mat-table",28,0),b("matSortChange",function(){f(c);let a=k(44);return C(e.onTableSortData(a))}),T(45,29),v(46,Gn,3,3,"mat-header-cell",30)(47,Vn,2,1,"mat-cell",31),E(),T(48,32),v(49,On,2,1,"mat-header-cell",30)(50,Fn,2,1,"mat-cell",31),E(),T(51,33),v(52,Bn,2,1,"mat-header-cell",30)(53,Nn,2,1,"mat-cell",31),E(),T(54,34),v(55,Pn,2,1,"mat-header-cell",30)(56,Hn,4,5,"mat-cell",31),E(),T(57,35),v(58,jn,2,1,"mat-header-cell",30)(59,Wn,4,5,"mat-cell",31),E(),T(60,36),v(61,qn,2,1,"mat-header-cell",30)(62,Kn,5,7,"mat-cell",37),E(),T(63,38),v(64,Qn,2,1,"mat-header-cell",30)(65,Jn,3,4,"mat-cell",31),E(),T(66,39),v(67,Yn,2,1,"mat-header-cell",30)(68,Xn,3,3,"mat-cell",31),E(),T(69,40),v(70,Zn,2,1,"mat-header-cell",30)(71,$n,2,1,"mat-cell",31),E(),T(72,41),v(73,er,2,1,"mat-header-cell",30)(74,tr,2,1,"mat-cell",31),E(),T(75,42),v(76,ir,2,1,"mat-header-cell",30)(77,or,2,4,"mat-cell",43),E(),T(78,44),v(79,nr,3,3,"mat-header-cell",45)(80,rr,6,1,"mat-cell",46),E(),v(81,ar,1,0,"mat-header-row",47)(82,lr,1,6,"mat-row",48),s(),E(),T(83,49),l(84,"mat-paginator",50,1),b("page",function(a){return f(c),C(e.onTablePageingData(a))}),s(),E(),s()}i&2&&(u("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey","userclaim.content.list"),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimTypeId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),A("ngModel",e.optionsSearch.data.show),r(),g("",M(10,26,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),g("",M(14,28,"ACTION.STATIST")," "),r(3),u("ngIf",e.requestLinkUserClaimTypeId>0),r(6),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(32,30,"ACTION.MODULES")),r(6),w(M(38,32,"ACTION.SITES")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(38),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",qe(34,En)))},dependencies:[Ve,j,ze,K,Y,Ee,ce,te,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,Ct,ht,bt,vt,Mt,St,Go,Kt,W,Vt,Mo,yo,_t,gt,Gt],encapsulation:2});let o=d;return o})();var sr=["*"];function cr(o,d){if(o&1&&(l(0,"label",8),p(1),s()),o&2){let n=h();wi("for","app-cms-site-selector-",n.id,""),r(),w(n.optionLabel)}}function dr(o,d){if(o&1&&(l(0,"mat-option",9)(1,"span"),p(2),s()()),o&2){let n=d.$implicit,t=h();u("value",n)("disabled",t.optionDisabled),r(2),w(t.displayOption(n))}}function pr(o,d){if(o&1){let n=y();l(0,"mat-icon",10),b("click",function(){f(n);let i=h();return C(i.onActionSelectClear())}),p(1,"close"),s()}}var Mi=(()=>{let d=class d{constructor(t,i,e,c,m,a){this.coreEnumService=t,this.cmsToastrService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.categoryService=a,this.id=++d.nextId,this.dataModelResult=new L,this.dataModelSelect=new Z,this.formControl=new Rt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new he,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Yi(""),Qi(1500),Ji(),Xi(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return yi(this,null,function*(){let i=new F;i.rowPerPage=20,i.accessLoad=!0;let e=new z;e.propertyName="Title",e.value=t,e.searchType=Ai.Contains,e.clauseType=Ei.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new z,e.propertyName="Id",e.value=t,e.searchType=Ai.Equal,e.clauseType=Ei.Or,i.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(m=>{this.publicHelper.processService.processStart(c,m,this.constructor.name)}),yield zi(this.categoryService.ServiceGetAll(i)).then(m=>(this.dataModelResult=m,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),m.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(Ki(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="number"&&t>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess?(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item)):this.cmsToastrService.typeErrorMessage(i.errorMessage)}});return}if(typeof t==typeof Z){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Z,this.loadOptions()}};d.nextId=0,d.\u0275fac=function(i){return new(i||d)(S(q),S(V),S(N),S(O),S(P),S(de))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:sr,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let c=y();Zi(),l(0,"div",1),I(1,"app-progress-spinner",2),v(2,cr,2,3,"label",3),I(3,"input",4),l(4,"mat-autocomplete",5,0),b("optionSelected",function(a){return f(c),C(e.onActionSelect(a.option.value))}),v(6,dr,3,3,"mat-option",6),_(7,"async"),s(),v(8,pr,2,0,"mat-icon",7),$i(9),s()}if(i&2){let c=k(5);r(),u("optionsInfoAreaId",e.constructor.name),r(),u("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),U("placeholder",e.optionPlaceholder),wi("id","app-cms-site-selector-",e.id,""),u("formControl",e.formControl)("matAutocomplete",c),At("disabled",e.optionDisabled?!0:null),r(),u("displayWith",e.displayFn),r(2),u("ngForOf",M(7,11,e.filteredOptions)),r(2),u("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[se,j,Oe,K,oo,bo,io,vo,ao,ce,te,re,Kt],encapsulation:2});let o=d;return o})();var ur=["vform"];function fr(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",18),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cr(o,d){if(o&1){let n=y();l(0,"mat-slide-toggle",19),D("ngModelChange",function(i){f(n);let e=h();return R(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),C(i)}),p(1),s()}if(o&2){let n=h();A("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),g(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function hr(o,d){if(o&1){let n=y();l(0,"div",13)(1,"button",20),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",21),p(3),_(4,"translate"),s(),l(5,"button",22),I(6,"i",23),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var Wi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,a,x,H){super(c,new pe,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=m,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new pe,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkUserClaimGroupId=+t.linkUserClaimGroupId||0,this.requestLinkUserClaimTypeId=+t.linkUserClaimTypeId||0),this.requestLinkUserClaimGroupId>0&&(this.dataModel.linkUserClaimGroupId=this.requestLinkUserClaimGroupId),this.requestLinkUserClaimTypeId>0&&(this.dataModel.linkUserClaimTypeId=this.requestLinkUserClaimTypeId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimGroupDetailService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),"MESSAGE.group_of_information_documents_is_not_clear");return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-add"]],viewQuery:function(i,e){if(i&1&&be(ur,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",1),I(1,"app-progress-spinner",2),l(2,"div",3)(3,"p",4),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s()()(),l(8,"form",5,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),I(10,"div",6),l(11,"div",7),v(12,fr,1,5,"app-cms-enum-record-status-selector",8),l(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectClaimGroup(a))}),s(),l(15,"app-core-userclaimtype-selector",9),_(16,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectClaimType(a))}),s(),l(17,"div",10),v(18,Cr,2,3,"mat-slide-toggle",11),s()(),l(19,"div",12)(20,"div",13)(21,"small",14),p(22),s(),l(23,"small",15),p(24),s()()(),l(25,"div",16),v(26,hr,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",M(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",M(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),g("",e.formInfo.formAlert," "),r(2),g("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,K,ye,Y,we,ke,Ue,re,Mi,fi,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var Sr=["vform"];function gr(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",18),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _r(o,d){if(o&1){let n=y();l(0,"mat-slide-toggle",19),D("ngModelChange",function(i){f(n);let e=h();return R(e.dataModel.isRequired,i)||(e.dataModel.isRequired=i),C(i)}),p(1),s()}if(o&2){let n=h();A("ngModel",n.dataModel.isRequired),u("disabled",!(n.fieldsInfo.isRequired!=null&&n.fieldsInfo.isRequired.accessEditField)),r(),g(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function Mr(o,d){if(o&1){let n=y();l(0,"div",13)(1,"button",20),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",21),p(3),_(4,"translate"),s(),l(5,"button",22),I(6,"i",23),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var qi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,a,x,H){super(c,new pe,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupDetailService=c,this.publicHelper=m,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.requestModel=new pe,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new pe,this.formInfo=new De,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestModel=t.model),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestModel&&this.requestModel.linkUserClaimTypeId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestModel.linkUserClaimGroupId,i.filters.push(e),e=new z,e.propertyName="LinkUserClaimTypeId",e.value=this.requestModel.linkUserClaimTypeId,i.filters.push(e),this.coreUserClaimGroupDetailService.setAccessLoad(),this.coreUserClaimGroupDetailService.setAccessDataType(xt.Editor),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(c.access),c.isSuccess&&c.listItems.length>0?(this.dataModel=c.listItems[0],this.formInfo.formTitle=this.formInfo.formTitle+" "+this.dataModel.linkUserClaimGroupId+"<-->"+this.dataModel.linkUserClaimTypeId,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(m=>{this.formInfo.formAlert=m}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimGroupDetailService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectClaimGroup(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.group_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimGroupId=t.id}onActionSelectClaimType(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_category"),this.translate.instant("MESSAGE.type_of_information_documents_is_not_clear"));return}this.dataModel.linkUserClaimTypeId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-edit"]],viewQuery:function(i,e){if(i&1&&be(Sr,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:27,vars:20,consts:[["vform","ngForm"],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"ntk-full-width"],["name","dataModel.isRequired",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["name","dataModel.isRequired",3,"ngModelChange","ngModel","disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",1),I(1,"app-progress-spinner",2),l(2,"div",3)(3,"p",4),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s()()(),l(8,"form",5,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),I(10,"div",6),l(11,"div",7),v(12,gr,1,5,"app-cms-enum-record-status-selector",8),l(13,"app-core-userclaimgroup-selector",9),_(14,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectClaimGroup(a))}),s(),l(15,"app-core-userclaimtype-selector",9),_(16,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectClaimType(a))}),s(),l(17,"div",10),v(18,_r,2,3,"mat-slide-toggle",11),s()(),l(19,"div",12)(20,"div",13)(21,"small",14),p(22),s(),l(23,"small",15),p(24),s()()(),l(25,"div",16),v(26,Mr,9,7,"div",17),s()()}i&2&&(r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,14,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),u("optionSelectForce",e.dataModel.linkUserClaimGroupId)("optionPlaceholder",M(14,16,"TITLE.DOCUMENT_GROUP"))("optionDisabled",!(e.fieldsInfo.linkUserClaimGroupId!=null&&e.fieldsInfo.linkUserClaimGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserClaimTypeId)("optionPlaceholder",M(16,18,"TITLE.DOCUMENT_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkUserClaimTypeId!=null&&e.fieldsInfo.linkUserClaimTypeId.accessEditField)),r(3),u("ngIf",e.fieldsInfo.isRequired==null?null:e.fieldsInfo.isRequired.accessWatchField),r(4),g("",e.formInfo.formAlert," "),r(2),g("",e.formInfo.formError," "),r(2),u("ngIf",e.formInfo.formSubmitAllow))},dependencies:[j,Te,K,ye,Y,we,ke,Ue,re,Mi,fi,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();var wr=["vform"];function Tr(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",23),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Er(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Ar(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Rr(o,d){if(o&1&&(l(0,"option",24),p(1),s()),o&2){let n=d.$implicit;u("value",n.value),r(),w(n.description)}}function Dr(o,d){o&1&&(l(0,"mat-error"),p(1," ActionType is "),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),w(M(4,1,"MESSAGE.required")))}function xr(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function kr(o,d){if(o&1){let n=y();l(0,"div",25)(1,"button",26),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",27),p(3),_(4,"translate"),s(),l(5,"button",28),I(6,"i",29),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var bi=(()=>{let d=class d extends Ot{constructor(t,i,e,c,m,a,x,H){super(c,new Z,m,H),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.publicHelper=m,this.cmsToastrService=a,this.cdr=x,this.translate=H,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new L,this.dataModel=new Z,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumUserClaimGroupActionType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimGroupService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(de),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-add"]],viewQuery:function(i,e){if(i&1&&be(wr,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:55,vars:54,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["id","dataModel.actionType","name","dataModel.actionType","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",5),I(1,"app-progress-spinner",6),l(2,"div",7)(3,"p",8),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s(),l(8,"form",9,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),v(10,Tr,1,5,"app-cms-enum-record-status-selector",10),l(11,"div",11)(12,"label",12),p(13),s(),l(14,"input",13,1),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),C(a)}),s(),l(16,"em"),p(17),s(),v(18,Er,5,4,"mat-error",14),s(),l(19,"div",11)(20,"label",15),p(21),s(),l(22,"input",16,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),C(a)}),s(),l(24,"em"),p(25),s(),v(26,Ar,5,4,"mat-error",14),s(),l(27,"div",11)(28,"select",17,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.actionType,a)||(e.dataModel.actionType=a),C(a)}),v(30,Rr,2,2,"option",18),s(),l(31,"em"),p(32),_(33,"translate"),s(),v(34,Dr,5,3,"mat-error",14),s(),I(35,"hr"),l(36,"app-cms-module-selector",19),_(37,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectModuleId(a))}),s(),l(38,"app-cms-sitecategory-selector",19),_(39,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectSiteCategory(a))}),s(),l(40,"app-cms-usergroup-selector",19),_(41,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectUserGroup(a))}),s(),l(42,"app-cms-application-selector",19),_(43,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectApplication(a))}),s(),l(44,"app-cms-application-selector",19),_(45,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectApplicationSource(a))}),s(),l(46,"div",11)(47,"label",20),p(48),s(),l(49,"textarea",21,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),C(a)}),s(),l(51,"em"),p(52),s(),v(53,xr,5,4,"mat-error",14),s(),v(54,kr,9,7,"div",22),s()()()}if(i&2){let c=k(15),m=k(23),a=k(29),x=k(50);r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,40,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),w(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessAddField)),r(3),g("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),A("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),w(M(33,42,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(37,44,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",M(39,46,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",M(41,48,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",M(43,50,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",M(45,52,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),g("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Qe,Je,Oe,Ke,K,ye,Ye,Xe,Ze,Y,we,$e,te,Ue,di,mi,ui,pi,re,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function Ur(o,d){if(o&1){let n=y();l(0,"li")(1,"mat-checkbox",1),b("change",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),p(2),s()()}if(o&2){let n=d.$implicit,t=h();r(),u("checked",t.fieldsStatus.get(n.id))("disabled",t.optionDisabled),r(),g(" ",n.titleML," ")}}var Oo=(()=>{let d=class d{constructor(t,i,e,c,m,a){this.coreEnumService=t,this.categoryService=i,this.cdr=e,this.publicHelper=c,this.translate=m,this.cmsToastrService=a,this.dataModelResult=new L,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new Rt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new he,this.optionSelectAdded=new he,this.optionSelectRemoved=new he,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll()}DataGetAll(){let t=new F;t.rowPerPage=50,t.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.categoryService.ServiceGetAll(t).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(t){this.fieldsStatus.get(t.id)?(this.fieldsStatus.set(t.id,!1),this.optionSelectRemoved.emit(t),this.dataModelSelect.splice(this.dataModelSelect.indexOf(t),1)):(this.fieldsStatus.set(t.id,!0),this.optionSelectAdded.emit(t),this.dataModelSelect.push(t)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(t){typeof t==typeof Array(Number)?t.forEach(i=>{this.dataIdsSelect.push(i)}):typeof t==typeof Array(oe)&&t.forEach(i=>{this.dataIdsSelect.push(i.id)}),this.dataIdsSelect.forEach(i=>this.fieldsStatus.set(i,!0))}onActionButtonReload(){this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(q),S(ie),S(N),S(O),S(P),S(V))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(i,e){i&1&&(l(0,"ul"),v(1,Ur,3,3,"li",0),s()),i&2&&(r(),u("ngForOf",e.dataModelResult.listItems))},dependencies:[se,Xt]});let o=d;return o})();var Lr=["vform"];function Vr(o,d){if(o&1){let n=y();l(0,"app-cms-enum-record-status-selector",30),D("modelChange",function(i){f(n);let e=h();return R(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),C(i)}),s()}if(o&2){let n=h();A("model",n.dataModel.recordStatus),u("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Or(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Fr(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.titleResourceLanguage==null?null:n.fieldsInfo.titleResourceLanguage.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Br(o,d){if(o&1&&(l(0,"option",31),p(1),s()),o&2){let n=d.$implicit;u("ngValue",n.value),r(),g(" ",n.description," ")}}function Nr(o,d){o&1&&(l(0,"mat-error"),p(1," ActionType is "),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2&&(r(3),w(M(4,1,"MESSAGE.required")))}function Pr(o,d){if(o&1&&(l(0,"mat-error"),p(1),l(2,"strong"),p(3),_(4,"translate"),s()()),o&2){let n=h();r(),g(" ",n.fieldsInfo.description==null?null:n.fieldsInfo.description.fieldTitle," is "),r(2),w(M(4,2,"MESSAGE.required"))}}function Hr(o,d){if(o&1){let n=y();l(0,"div",32)(1,"button",33),b("click",function(){f(n);let i=h();return C(i.onFormCancel())}),I(2,"i",34),p(3),_(4,"translate"),s(),l(5,"button",35),I(6,"i",36),p(7),_(8,"translate"),s()()}if(o&2){h();let n=k(9);r(3),g(" ",M(4,3,"ACTION.CANCEL")," "),r(2),u("disabled",!n.form.valid),r(2),g(" ",M(8,5,"ACTION.SAVE")," ")}}var vi=(()=>{let d=class d extends Ft{constructor(t,i,e,c,m,a,x,H,Q){super(c,new Z,a,Q),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.coreUserClaimGroupService=c,this.coreUserClaimGroupDetailService=m,this.publicHelper=a,this.cmsToastrService=x,this.cdr=H,this.translate=Q,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new kt,this.dataModel=new Z,this.formInfo=new De,this.dataModelEnumUserClaimGroupActionTypeResult=new L,this.fileManagerOpenForm=!1,this.dataCoreClaimTypeIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=+t.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumUserClaimGroupActionType(),this.DataGetAllCoreUserClaimType()}getEnumUserClaimGroupActionType(){this.coreEnumService.ServiceUserClaimGroupActionTypeEnum().subscribe({next:t=>{this.dataModelEnumUserClaimGroupActionTypeResult=t}})}DataGetOneContent(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"DataGetOneContent";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimGroupService.setAccessLoad(),this.coreUserClaimGroupService.setAccessDataType(xt.Editor),this.coreUserClaimGroupService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Registration_of categories_of_documents").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreUserClaimGroupService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectApplication(t){if(!t||t.id<=0){this.dataModel.linkApplicationId=null;return}this.dataModel.linkApplicationId=t.id}onActionSelectApplicationSource(t){if(!t||t.id<=0){this.dataModel.linkApplicationSourceId=null;return}this.dataModel.linkApplicationSourceId=t.id}onActionSelectUserGroup(t){if(!t||t.id<=0){this.dataModel.linkUserGroupId=null;return}this.dataModel.linkUserGroupId=t.id}onActionSelectSiteCategory(t){if(this.dataModel.linkSiteCategoryId=null,!t||t.id<=0){this.dataModel.linkSiteCategoryId=null;return}this.dataModel.linkSiteCategoryId=t.id}onActionSelectModuleId(t){this.dataModel.linkModuleId=null,!(!t||t.id<=0)&&(this.dataModel.linkModuleId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}DataGetAllCoreUserClaimType(){if(this.requestId<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError="";let t=this.constructor.name+"DataGetAllCoreUserClaimType";this.translate.get("MESSAGE.Receive_categories_of_documents").subscribe(c=>{this.publicHelper.processService.processStart(t,c,this.constructor.name)});let i=new F,e=new z;e.propertyName="LinkUserClaimGroupId",e.value=this.requestId,i.filters.push(e),this.coreUserClaimGroupDetailService.ServiceGetAll(i).subscribe({next:c=>{this.dataCoreUserClaimGroupDetailModels=c.listItems;let m=[];this.dataCoreUserClaimGroupDetailModels.forEach(a=>{m.push(a.linkUserClaimTypeId)}),this.dataCoreClaimTypeIds=m,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(a=>{this.formInfo.formAlert=a}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(t)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorUserCategorySelect(t){this.dataCoreUserClaimTypeModels=t}onActionSelectorUserCategorySelectAdded(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,i.isRequired=!0,this.coreUserClaimGroupDetailService.ServiceAdd(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new pe;i.linkUserClaimTypeId=t.id,i.linkUserClaimGroupId=this.dataModel.id,this.coreUserClaimGroupDetailService.ServiceDeleteEntity(i).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};d.\u0275fac=function(i){return new(i||d)(S(Re),S(Ae),S(q),S(de),S(xe),S(O),S(V),S(N),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-edit"]],viewQuery:function(i,e){if(i&1&&be(Lr,5),i&2){let c;ve(c=Ie())&&(e.formGroup=c.first)}},features:[J],decls:67,vars:67,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["ActionType","ngModel"],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","name","dataModel.title","type","text","minlength","3","maxlength","100","id","dataModel.title","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","name","dataModel.titleML","type","text","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","name","dataModel.titleResourceLanguage","type","text","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.actionType","name","dataModel.actionType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let c=y();l(0,"div",6),I(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),p(4),s(),l(5,"p"),p(6),_(7,"translate"),s(),l(8,"form",10,0),b("ngSubmit",function(){return f(c),C(e.onFormSubmit())}),l(10,"mat-vertical-stepper",11,1),b("selectionChange",function(a){f(c);let x=k(11);return C(e.onStepClick(a,x))}),l(12,"mat-step",12),_(13,"translate"),v(14,Vr,1,5,"app-cms-enum-record-status-selector",13),l(15,"div",14)(16,"label",15),p(17),s(),l(18,"input",16,2),D("ngModelChange",function(a){return f(c),R(e.dataModel.title,a)||(e.dataModel.title=a),C(a)}),s(),l(20,"em"),p(21),s(),v(22,Or,5,4,"mat-error",17),s(),l(23,"div",14)(24,"label",18),p(25),_(26,"translate"),s(),l(27,"input",19),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleML,a)||(e.dataModel.titleML=a),C(a)}),s()(),l(28,"div",14)(29,"label",20),p(30),s(),l(31,"input",21,3),D("ngModelChange",function(a){return f(c),R(e.dataModel.titleResourceLanguage,a)||(e.dataModel.titleResourceLanguage=a),C(a)}),s(),l(33,"em"),p(34),s(),v(35,Fr,5,4,"mat-error",17),s(),l(36,"div",22)(37,"select",23,4),D("ngModelChange",function(a){return f(c),R(e.dataModel.actionType,a)||(e.dataModel.actionType=a),C(a)}),v(39,Br,2,2,"option",24),s(),l(40,"em"),p(41),_(42,"translate"),s(),v(43,Nr,5,3,"mat-error",17),s(),I(44,"hr"),l(45,"app-cms-module-selector",25),_(46,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectModuleId(a))}),s(),l(47,"app-cms-sitecategory-selector",25),_(48,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectSiteCategory(a))}),s(),l(49,"app-cms-usergroup-selector",25),_(50,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectUserGroup(a))}),s(),l(51,"app-cms-application-selector",25),_(52,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectApplication(a))}),s(),l(53,"app-cms-application-selector",25),_(54,"translate"),b("optionChange",function(a){return f(c),C(e.onActionSelectApplicationSource(a))}),s(),l(55,"div",14)(56,"label",26),p(57),s(),l(58,"textarea",27,5),D("ngModelChange",function(a){return f(c),R(e.dataModel.description,a)||(e.dataModel.description=a),C(a)}),s(),l(60,"em"),p(61),s(),v(62,Pr,5,4,"mat-error",17),s()(),l(63,"mat-step",12),_(64,"translate"),l(65,"app-core-userclaimtype-selectionlist",28),b("optionChange",function(a){return f(c),C(e.onActionSelectorUserCategorySelect(a))})("optionSelectAdded",function(a){return f(c),C(e.onActionSelectorUserCategorySelectAdded(a))})("optionSelectRemoved",function(a){return f(c),C(e.onActionSelectorUserCategorySelectRemoved(a))}),s()()(),v(66,Hr,9,7,"div",29),s()()()}if(i&2){let c=k(19),m=k(32),a=k(38),x=k(59);r(),u("optionsInfoAreaId",e.constructor.name),r(3),g(" ",e.formInfo.formTitle," "),r(2),g(" ",M(7,47,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),U("label",M(13,49,"TITLE.Details_Claim")),r(2),u("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),w(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.title),r(3),g("",c.value.length," / 100"),r(),u("ngIf",c.errors==null?null:c.errors.required),r(3),g(" ",M(26,51,"TITLE.TitleML"),""),r(2),A("ngModel",e.dataModel.titleML),u("disabled",!0),r(3),w(e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.fieldTitle),r(),U("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),A("ngModel",e.dataModel.titleResourceLanguage),u("disabled",!(e.fieldsInfo.titleResourceLanguage!=null&&e.fieldsInfo.titleResourceLanguage.accessEditField)),r(3),g("",m.value.length," / 100"),r(),u("ngIf",m.errors==null?null:m.errors.required),r(2),A("ngModel",e.dataModel.actionType),r(2),u("ngForOf",e.dataModelEnumUserClaimGroupActionTypeResult.listItems),r(2),w(M(42,53,"TITLE.Select_type_of_content")),r(2),u("ngIf",a.errors==null?null:a.errors.required),r(2),u("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(46,55,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkSiteCategoryId)("optionPlaceholder",M(48,57,"TITLE.SITE_CATEGORY"))("optionDisabled",!(e.fieldsInfo.linkSiteCategoryId!=null&&e.fieldsInfo.linkSiteCategoryId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkUserGroupId)("optionPlaceholder",M(50,59,"TITLE.User_Group"))("optionDisabled",!(e.fieldsInfo.linkUserGroupId!=null&&e.fieldsInfo.linkUserGroupId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationId)("optionPlaceholder",M(52,61,"TITLE.Application"))("optionDisabled",!(e.fieldsInfo.linkApplicationId!=null&&e.fieldsInfo.linkApplicationId.accessEditField)),r(2),u("optionSelectForce",e.dataModel.linkApplicationSourceId)("optionPlaceholder",M(54,63,"TITLE.Application_Source"))("optionDisabled",!(e.fieldsInfo.linkApplicationSourceId!=null&&e.fieldsInfo.linkApplicationSourceId.accessEditField)),r(4),w(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),U("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),A("ngModel",e.dataModel.description),r(3),g("",x.value.length," / 500"),r(),u("ngIf",x.errors==null?null:x.errors.required),r(),U("label",M(64,65,"TITLE.Required_Documents")),r(2),u("optionSelectForce",e.dataCoreClaimTypeIds)("optionDisabled",!1),r(),u("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[se,j,Te,Qe,Je,Oe,Ke,K,ye,Ye,Xe,Ze,Y,we,$e,te,Zt,$t,Ue,di,mi,ui,pi,re,ci,Oo,W],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=d;return o})();function jr(o,d){if(o&1){let n=y();l(0,"button",11),b("click",function(){f(n);let i=h();return C(i.onActionAdd())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.ADD")))}function Wr(o,d){if(o&1){let n=y();l(0,"button",12),b("click",function(){f(n);let i=h();return C(i.onActionEdit())}),p(1),_(2,"translate"),s()}o&2&&(r(),w(M(2,1,"ACTION.EDIT")))}function qr(o,d){if(o&1){let n=y();l(0,"button",13),b("click",function(){f(n);let i=h();return C(i.onActionButtonReload())}),l(1,"mat-icon",14),_(2,"translate"),p(3,"refresh"),s()()}o&2&&(r(),U("title",M(2,1,"ACTION.RELOAD")))}function zr(o,d){if(o&1){let n=y();l(0,"mat-tree-node",15),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),I(1,"button",16),p(2),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",i.dataModelSelect.id>0&&i.dataModelSelect.id===n.id),r(2),g(" ",n.titleML," ")}}function Kr(o,d){if(o&1){let n=y();l(0,"mat-nested-tree-node")(1,"li")(2,"div",17),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),l(3,"button",18),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionSelect(i))}),l(4,"mat-icon",19),p(5),s()(),p(6),s(),l(7,"ul"),Se(8,20),s()()()}if(o&2){let n=d.$implicit,t=h();r(2),le("ntk-tree-selected",t.dataModelSelect.id>0&&t.dataModelSelect.id===n.id),r(),At("aria-label","Toggle "+n.titleML),r(2),g(" ",t.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),g(" ",n.titleML," "),r(),le("category-tree-invisible",!t.treeControl.isExpanded(n))}}var Fo=(()=>{let d=class d{constructor(t,i,e,c,m,a,x,H){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=c,this.cdr=m,this.publicHelper=a,this.tokenHelper=x,this.translate=H,this.dataModelSelect=new Z,this.dataModelResult=new L,this.filterModel=new F,this.treeControl=new ei(Q=>null),this.dataSource=new si,this.optionChange=new he,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Q,_e)=>!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:i=>{i.isSuccess?(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Z,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t=0;if(this.dataModelSelect&&this.dataModelSelect.id>0&&(t=this.dataModelSelect.id),t===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};d.\u0275fac=function(i){return new(i||d)(S(V),S(q),S(de),S(ge),S(N),S(O),S(me),S(P))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:12,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(l(0,"app-cms-html-tree",0),T(1,1),p(2),_(3,"translate"),E(),T(4,2),v(5,jr,3,3,"button",3)(6,Wr,3,3,"button",4)(7,qr,4,3,"button",5),E(),T(8,6),l(9,"mat-tree",7),v(10,zr,3,7,"mat-tree-node",8)(11,Kr,9,7,"mat-nested-tree-node",9),s(),E(),Se(12,10),s()),i&2&&(u("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),g(" ",M(3,10,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),u("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null?null:e.dataModelSelect.id)>0),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),u("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),u("matTreeNodeDefWhen",e.hasChild))},dependencies:[j,Ee,ce,oi,ii,ni,li,ai,ti,ri,Bt,W]});let o=d;return o})();var Jr=()=>[5,10,20,100],Yr=o=>({display:o});function Xr(o,d){if(o&1){let n=y();l(0,"a",39),b("click",function(){f(n);let i=h();return C(i.onActionBackToParentGroup())}),I(1,"i",40),s()}}function Zr(o,d){if(o&1){let n=y();l(0,"a",39),b("click",function(){f(n);let i=h();return C(i.onActionBackToParentType())}),I(1,"i",40),s()}}function $r(o,d){if(o&1){let n=y();l(0,"div",41)(1,"a",42),b("click",function(){f(n);let i=h();return C(i.onActionButtonNewRow())}),I(2,"i",43)(3,"br"),s(),l(4,"p",44),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function ea(o,d){if(o&1){let n=y();l(0,"div",41)(1,"a",45),b("click",function(){f(n);let i=h();return C(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",46)(3,"br"),s(),l(4,"p",44),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function ta(o,d){if(o&1){let n=y();l(0,"div",41)(1,"a",47),b("click",function(){f(n);let i=h();return C(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",48)(3,"br"),s(),l(4,"p",44),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function ia(o,d){if(o&1&&(l(0,"mat-header-cell",49),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function oa(o,d){if(o&1&&I(0,"select",52),o&2){let n=h().$implicit,t=h();u("contentService",t.contentService)("row",n)("ngStyle",je(3,Yr,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function na(o,d){if(o&1&&(l(0,"mat-cell",50),_(1,"statusCellClass"),I(2,"i",50),_(3,"statusIconClass"),v(4,oa,1,5,"select",51),s()),o&2){let n=d.$implicit,t=h();u("ngClass",M(1,3,n.recordStatus)),r(2),u("ngClass",M(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ra(o,d){if(o&1&&(l(0,"mat-header-cell",49),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkUserClaimGroupId==null?null:n.fieldsInfo.linkUserClaimGroupId.fieldTitle," ")}}function aa(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",Le(2,1,n.linkUserClaimGroupId,t.dataModelCoreUserClaimGroupResult.listItems)," ")}}function la(o,d){if(o&1&&(l(0,"mat-header-cell",49),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkUserClaimTypeId==null?null:n.fieldsInfo.linkUserClaimTypeId.fieldTitle," ")}}function sa(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",Le(2,1,n.linkUserClaimTypeId,t.dataModelCoreUserClaimTypeResult.listItems)," ")}}function ca(o,d){if(o&1&&(l(0,"mat-header-cell",49),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.isRequired==null?null:n.fieldsInfo.isRequired.fieldTitle," ")}}function da(o,d){if(o&1&&(l(0,"mat-cell"),I(1,"i",50),_(2,"boolclass"),s()),o&2){let n=d.$implicit;r(),u("ngClass",M(2,1,n.isRequired))}}function pa(o,d){o&1&&(l(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.OPTION")," "))}function ma(o,d){if(o&1&&(l(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),p(3,"more_vert"),s()(),I(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function ua(o,d){o&1&&I(0,"mat-header-row")}function fa(o,d){if(o&1){let n=y();l(0,"mat-row",55),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.linkUserClaimGroupId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimGroupId)&&n.linkUserClaimTypeId===(i.tableRowSelected==null?null:i.tableRowSelected.linkUserClaimTypeId))}}var Ii=(()=>{let d=class d extends It{constructor(t,i,e,c,m,a,x,H,Q,_e,Pe,We,ne){if(super(t,new pe,We,H,_e),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.activatedRoute=c,this.coreUserClaimTypeService=m,this.coreUserClaimGroupService=a,this.router=x,this.tokenHelper=H,this.cdr=Q,this.translate=_e,this.pageInfo=Pe,this.publicHelper=We,this.dialog=ne,this.requestLinkUserClaimGroupId=0,this.requestLinkUserClaimTypeId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.categoryModelSelected=new Z,this.dataModelCoreUserClaimTypeResult=new L,this.dataModelCoreUserClaimGroupResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.tabledisplayedColumnsMobileSource=["RecordStatus","LinkUserClaimGroupId","LinkUserClaimTypeId","IsRequired"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserClaimTypeId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimTypeId")),this.requestLinkUserClaimGroupId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserClaimGroupId")),this.optionsSearch.parentMethods={onSubmit:He=>this.onSubmitOptionsSearch(He)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending,this.requestLinkUserClaimTypeId>0){let He=new z;He.propertyName="LinkUserClaimTypeId",He.value=this.requestLinkUserClaimTypeId,this.filteModelContent.filters.push(He)}if(this.requestLinkUserClaimGroupId>0){let He=new z;He.propertyName="LinkUserClaimGroupId",He.value=this.requestLinkUserClaimGroupId,this.filteModelContent.filters.push(He)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getUserClaimType(),this.getUserClaimGroup()}getUserClaimType(){let t=new F;t.rowPerPage=100,this.coreUserClaimTypeService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimTypeResult=i}})}getUserClaimGroup(){let t=new F;t.rowPerPage=100,this.coreUserClaimGroupService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreUserClaimGroupResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new pe);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id>0){let e=new z;e.propertyName="LinkUserClaimHeaderId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Wi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{linkUserClaimGroupId:this.requestLinkUserClaimGroupId,linkUserClaimTypeId:this.requestLinkUserClaimTypeId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.linkUserClaimGroupId||t.linkUserClaimGroupId===0||!t.linkUserClaimTypeId||t.linkUserClaimTypeId===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{model:this.tableRowSelected}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new F,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(m,a,this.constructor.name)}),this.contentService.ServiceDeleteEntity(this.tableRowSelected).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentType(){this.router.navigate(["/core/userclaim/type/"])}onActionBackToParentGroup(){this.router.navigate(["/core/userclaim/group/"])}};d.\u0275fac=function(i){return new(i||d)(S(xe),S(V),S(Be),S(Dt),S(ie),S(de),S(Fe),S(me),S(N),S(P),S(tt),S(O),S(ge))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroupdetail-list"]],features:[J],decls:53,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","RecordStatus"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserClaimGroupId"],[4,"matCellDef"],["matColumnDef","LinkUserClaimTypeId"],["matColumnDef","IsRequired"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),C(a)}),b("optionOnActionButtonMemoRow",function(){return f(c),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),C(e.onActionButtonPrintRow())}),T(1,4),l(2,"app-core-userclaimgroup-tree",5),b("optionChange",function(a){return f(c),C(e.onActionSelectorSelect(a))}),s(),E(),Se(3,6),T(4,7),l(5,"div",8)(6,"div",9)(7,"a",10)(8,"mat-slide-toggle",11),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),C(a)}),s(),p(9),_(10,"translate"),s(),l(11,"a",10)(12,"mat-slide-toggle",12),b("click",function(){return f(c),C(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),C(a)}),s(),p(13),_(14,"translate"),s()(),l(15,"div",13),v(16,Xr,2,0,"a",14)(17,Zr,2,0,"a",14),l(18,"a",15),b("click",function(){return f(c),C(e.viewGuideNotice=!e.viewGuideNotice)}),I(19,"i",16),s(),l(20,"a",15),b("click",function(){return f(c),C(e.onActionButtonReload())}),I(21,"i",17),s()()(),E(),T(22,18),v(23,$r,7,3,"div",19),E(),T(24,20),v(25,ea,7,3,"div",19)(26,ta,7,3,"div",19),E(),T(27,21),l(28,"app-cms-search-list",22),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),C(a)}),s(),l(29,"app-cms-statist-list",22),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),C(a)}),s(),E(),T(30,23),l(31,"mat-table",24,0),b("matSortChange",function(){f(c);let a=k(32);return C(e.onTableSortData(a))}),T(33,25),v(34,ia,2,1,"mat-header-cell",26)(35,na,5,7,"mat-cell",27),E(),T(36,28),v(37,ra,2,1,"mat-header-cell",26)(38,aa,3,4,"mat-cell",29),E(),T(39,30),v(40,la,2,1,"mat-header-cell",26)(41,sa,3,4,"mat-cell",29),E(),T(42,31),v(43,ca,2,1,"mat-header-cell",26)(44,da,3,3,"mat-cell",29),E(),T(45,32),v(46,pa,3,3,"mat-header-cell",33)(47,ma,6,1,"mat-cell",34),E(),v(48,ua,1,0,"mat-header-row",35)(49,fa,1,6,"mat-row",36),s(),E(),T(50,37),l(51,"mat-paginator",38,1),b("page",function(a){return f(c),C(e.onTablePageingData(a))}),s(),E(),s()}i&2&&(u("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",e.requestLinkUserClaimGroupId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),A("ngModel",e.optionsSearch.data.show),r(),g("",M(10,25,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),g("",M(14,27,"ACTION.STATIST")," "),r(3),u("ngIf",e.requestLinkUserClaimGroupId>0),r(),u("ngIf",e.requestLinkUserClaimTypeId>0),r(6),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(17),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",qe(29,Jr)))},dependencies:[Ve,j,ze,K,Y,Ee,ce,te,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,Ct,ht,bt,vt,Mt,St,Fo,W,Vt,_t,gt,Gt],encapsulation:2});let o=d;return o})();var Ca=()=>[5,10,20,100],ha=o=>({display:o});function Sa(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",41),b("click",function(){f(n);let i=h();return C(i.onActionButtonNewRow())}),I(2,"i",42)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function ga(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",43),b("click",function(){f(n);let i=h();return C(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",44)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function _a(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",45),b("click",function(){f(n);let i=h();return C(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",46)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function Ma(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function ba(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.id," ")}}function va(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function Ia(o,d){if(o&1&&I(0,"select",50),o&2){let n=h().$implicit,t=h();u("contentService",t.contentService)("row",n)("ngStyle",je(3,ha,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function ya(o,d){if(o&1&&(l(0,"mat-cell",48),_(1,"statusCellClass"),I(2,"i",48),_(3,"statusIconClass"),v(4,Ia,1,5,"select",49),s()),o&2){let n=d.$implicit,t=h();u("ngClass",M(1,3,n.recordStatus)),r(2),u("ngClass",M(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function wa(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Ta(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.titleML," ")}}function Ea(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkSiteCategoryId==null?null:n.fieldsInfo.linkSiteCategoryId.fieldTitle," ")}}function Aa(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",Le(2,1,n.linkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Ra(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.linkModuleId==null?null:n.fieldsInfo.linkModuleId.fieldTitle," ")}}function Da(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"cmstitle"),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",Le(2,1,n.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function xa(o,d){o&1&&(l(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.OPTION")," "))}function ka(o,d){if(o&1&&(l(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),p(3,"more_vert"),s()(),I(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function Ua(o,d){o&1&&I(0,"mat-header-row")}function Ga(o,d){if(o&1){let n=y();l(0,"mat-row",53),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bo=(()=>{let d=class d extends It{constructor(t,i,e,c,m,a,x,H,Q,_e,Pe,We){super(t,new Z,Pe,x,Q),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=c,this.coreSiteCategoryService=m,this.router=a,this.tokenHelper=x,this.cdr=H,this.translate=Q,this.pageInfo=_e,this.publicHelper=Pe,this.dialog=We,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreModuleResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkModuleId","LinkSiteCategoryId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:ne=>this.onSubmitOptionsSearch(ne)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModule(),this.getSiteCategory()}getModule(){let t=new F;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}getSiteCategory(){let t=new F;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Z);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(vi,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(m,a,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimGroupId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(de),S(V),S(Be),S(Jt),S(So),S(Fe),S(me),S(N),S(P),S(tt),S(O),S(ge))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimgroup-list"]],features:[J],decls:61,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkSiteCategoryId"],["matColumnDef","LinkModuleId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),C(a)}),b("optionOnActionButtonMemoRow",function(){return f(c),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),C(e.onActionButtonPrintRow())}),T(1,4),p(2," -------------------------------------- "),E(),Se(3,5),T(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),C(a)}),s(),p(9),_(10,"translate"),s(),l(11,"a",9)(12,"mat-slide-toggle",11),b("click",function(){return f(c),C(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),C(a)}),s(),p(13),_(14,"translate"),s()(),l(15,"div",12)(16,"a",13),b("click",function(){return f(c),C(e.viewGuideNotice=!e.viewGuideNotice)}),I(17,"i",14),s(),l(18,"a",13),b("click",function(){return f(c),C(e.onActionButtonReload())}),I(19,"i",15),s()()(),E(),T(20,16),v(21,Sa,7,3,"div",17),E(),T(22,18),v(23,ga,7,3,"div",17)(24,_a,7,3,"div",17),l(25,"div",19)(26,"a",20),b("click",function(){return f(c),C(e.onActionButtonDetailList(e.tableRowSelected))}),l(27,"mat-icon"),p(28,"view_module"),s()(),l(29,"p",21),p(30),_(31,"translate"),s()(),E(),T(32,22),l(33,"app-cms-search-list",23),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),C(a)}),s(),l(34,"app-cms-statist-list",23),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),C(a)}),s(),E(),T(35,24),l(36,"mat-table",25,0),b("matSortChange",function(){f(c);let a=k(37);return C(e.onTableSortData(a))}),T(38,26),v(39,Ma,2,1,"mat-header-cell",27)(40,ba,2,1,"mat-cell",28),E(),T(41,29),v(42,va,2,1,"mat-header-cell",27)(43,ya,5,7,"mat-cell",30),E(),T(44,31),v(45,wa,2,1,"mat-header-cell",27)(46,Ta,2,1,"mat-cell",28),E(),T(47,32),v(48,Ea,2,1,"mat-header-cell",27)(49,Aa,3,4,"mat-cell",28),E(),T(50,33),v(51,Ra,2,1,"mat-header-cell",27)(52,Da,3,4,"mat-cell",28),E(),T(53,34),v(54,xa,3,3,"mat-header-cell",35)(55,ka,6,1,"mat-cell",36),E(),v(56,Ua,1,0,"mat-header-row",37)(57,Ga,1,6,"mat-row",38),s(),E(),T(58,39),l(59,"mat-paginator",40,1),b("page",function(a){return f(c),C(e.onTablePageingData(a))}),s(),E(),s()}i&2&&(u("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),A("ngModel",e.optionsSearch.data.show),r(),g("",M(10,24,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),g("",M(14,26,"ACTION.STATIST")," "),r(8),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(31,28,"ACTION.Components")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",qe(30,Ca)))},dependencies:[Ve,j,ze,K,Y,Ee,ce,te,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,Ct,ht,bt,vt,Mt,St,W,Vt,_t,gt],encapsulation:2});let o=d;return o})();var La=()=>[5,10,20,100],Va=o=>({display:o});function Oa(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",41),b("click",function(){f(n);let i=h();return C(i.onActionButtonNewRow())}),I(2,"i",42)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.ADD")))}function Fa(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",43),b("click",function(){f(n);let i=h();return C(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",44)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.EDIT")))}function Ba(o,d){if(o&1){let n=y();l(0,"div",19)(1,"a",45),b("click",function(){f(n);let i=h();return C(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",46)(3,"br"),s(),l(4,"p",21),p(5),_(6,"translate"),s()()}o&2&&(r(5),w(M(6,1,"ACTION.DELETE")))}function Na(o,d){o&1&&(l(0,"mat-header-cell",47),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.PICTURE")," "))}function Pa(o,d){if(o&1&&(I(0,"img",49),_(1,"cmsthumbnail")),o&2){let n=h().$implicit;U("src",M(1,1,n.linkMainImageIdSrc),Me)}}function Ha(o,d){if(o&1&&(l(0,"mat-cell"),v(1,Pa,2,3,"img",48),s()),o&2){let n=d.$implicit;r(),u("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function ja(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function Wa(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.id," ")}}function qa(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function za(o,d){if(o&1&&I(0,"select",52),o&2){let n=h().$implicit,t=h();u("contentService",t.contentService)("row",n)("ngStyle",je(3,Va,n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ka(o,d){if(o&1&&(l(0,"mat-cell",50),_(1,"statusCellClass"),I(2,"i",50),_(3,"statusIconClass"),v(4,za,1,5,"select",51),s()),o&2){let n=d.$implicit,t=h();u("ngClass",M(1,3,n.recordStatus)),r(2),u("ngClass",M(3,5,n.recordStatus)),r(2),u("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Qa(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.title==null?null:n.fieldsInfo.title.fieldTitle," ")}}function Ja(o,d){if(o&1&&(l(0,"mat-cell"),p(1),s()),o&2){let n=d.$implicit;r(),g(" ",n.titleML," ")}}function Ya(o,d){if(o&1&&(l(0,"mat-header-cell",47),p(1),s()),o&2){let n=h();r(),g(" ",n.fieldsInfo.kind==null?null:n.fieldsInfo.kind.fieldTitle," ")}}function Xa(o,d){if(o&1&&(l(0,"mat-cell"),p(1),_(2,"enums"),s()),o&2){let n=d.$implicit,t=h();r(),g(" ",Le(2,1,n.kind,t.dataModelEnumUserClaimKindsResult.listItems)," ")}}function Za(o,d){o&1&&(l(0,"mat-header-cell"),p(1),_(2,"translate"),s()),o&2&&(r(),g(" ",M(2,1,"TITLE.OPTION")," "))}function $a(o,d){if(o&1&&(l(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),p(3,"more_vert"),s()(),I(4,"mat-menu",null,2),s()),o&2){let n=k(5);r(),u("matMenuTriggerFor",n)}}function el(o,d){o&1&&I(0,"mat-header-row")}function tl(o,d){if(o&1){let n=y();l(0,"mat-row",55),b("click",function(){let i=f(n).$implicit,e=h();return C(e.onActionTableRowSelect(i))}),s()}if(o&2){let n=d.$implicit,t=d.dataIndex,i=h();le("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",n.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var No=(()=>{let d=class d extends It{constructor(t,i,e,c,m,a,x,H,Q,_e,Pe){super(t,new oe,_e,a,H),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreEnumService=c,this.router=m,this.tokenHelper=a,this.cdr=x,this.translate=H,this.pageInfo=Q,this.publicHelper=_e,this.dialog=Pe,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new F,this.dataModelCoreUserGroupResult=new L,this.dataModelCoreSiteCategoryResult=new L,this.dataModelEnumUserClaimKindsResult=new L,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","Kind"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:We=>this.onSubmitOptionsSearch(We)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumUserClaimKinds()}getEnumUserClaimKinds(){this.coreEnumService.ServiceUserClaimKindsEnum().subscribe({next:t=>{this.dataModelEnumUserClaimKindsResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new oe);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(gi,{height:"90%",panelClass:t,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(_i,{height:"90%",panelClass:i,enterAnimationDuration:G.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:G.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{i=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(c=>{if(c){let m=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.publicHelper.processService.processStart(m,a,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(m)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(m,!1)}})}}).catch(()=>{})}onActionButtonDetailList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/userclaim/groupdetail/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(a=>{i.set(a,0)}),this.translate.get("MESSAGE.All").subscribe(a=>{i.set(a,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(a=>{this.publicHelper.processService.processStart(e,a,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.All").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),m=new z;m.propertyName="RecordStatus",m.value=et.Available,c.filters.push(m),this.contentService.ServiceGetCount(c).subscribe({next:a=>{a.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(x=>{i.set(x,a.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.publicHelper.processService.processStop(e)},error:a=>{this.cmsToastrService.typeError(a),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonModuleList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/sitecategorymodule/LinkCmsUserClaimTypeId",this.tableRowSelected.id])}onActionButtonSiteList(t=this.tableRowSelected){if(!t||!t.id||t.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/core/site/list/LinkUserClaimTypeId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};d.\u0275fac=function(i){return new(i||d)(S(ie),S(V),S(Be),S(q),S(Fe),S(me),S(N),S(P),S(tt),S(O),S(ge))},d.\u0275cmp=B({type:d,selectors:[["app-core-userclaimtype-list"]],features:[J],decls:61,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Kind"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let c=y();l(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(a){return f(c),R(e.viewGuideNotice,a)||(e.viewGuideNotice=a),C(a)}),b("optionOnActionButtonMemoRow",function(){return f(c),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(c),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(c),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(c),C(e.onActionButtonPrintRow())}),T(1,4),p(2," -------------------------------------- "),E(),Se(3,5),T(4,6),l(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),D("ngModelChange",function(a){return f(c),R(e.optionsSearch.data.show,a)||(e.optionsSearch.data.show=a),C(a)}),s(),p(9),_(10,"translate"),s(),l(11,"a",9)(12,"mat-slide-toggle",11),b("click",function(){return f(c),C(e.onActionButtonStatist())}),D("ngModelChange",function(a){return f(c),R(e.optionsStatist.data.show,a)||(e.optionsStatist.data.show=a),C(a)}),s(),p(13),_(14,"translate"),s()(),l(15,"div",12)(16,"a",13),b("click",function(){return f(c),C(e.viewGuideNotice=!e.viewGuideNotice)}),I(17,"i",14),s(),l(18,"a",13),b("click",function(){return f(c),C(e.onActionButtonReload())}),I(19,"i",15),s()()(),E(),T(20,16),v(21,Oa,7,3,"div",17),E(),T(22,18),v(23,Fa,7,3,"div",17)(24,Ba,7,3,"div",17),l(25,"div",19)(26,"a",20),b("click",function(){return f(c),C(e.onActionButtonDetailList(e.tableRowSelected))}),l(27,"mat-icon"),p(28,"view_module"),s()(),l(29,"p",21),p(30),_(31,"translate"),s()(),E(),T(32,22),l(33,"app-cms-search-list",23),D("optionsChange",function(a){return f(c),R(e.optionsSearch,a)||(e.optionsSearch=a),C(a)}),s(),l(34,"app-cms-statist-list",23),D("optionsChange",function(a){return f(c),R(e.optionsStatist,a)||(e.optionsStatist=a),C(a)}),s(),E(),T(35,24),l(36,"mat-table",25,0),b("matSortChange",function(){f(c);let a=k(37);return C(e.onTableSortData(a))}),T(38,26),v(39,Na,3,3,"mat-header-cell",27)(40,Ha,2,1,"mat-cell",28),E(),T(41,29),v(42,ja,2,1,"mat-header-cell",27)(43,Wa,2,1,"mat-cell",28),E(),T(44,30),v(45,qa,2,1,"mat-header-cell",27)(46,Ka,5,7,"mat-cell",31),E(),T(47,32),v(48,Qa,2,1,"mat-header-cell",27)(49,Ja,2,1,"mat-cell",28),E(),T(50,33),v(51,Ya,2,1,"mat-header-cell",27)(52,Xa,3,4,"mat-cell",28),E(),T(53,34),v(54,Za,3,3,"mat-header-cell",35)(55,$a,6,1,"mat-cell",36),E(),v(56,el,1,0,"mat-header-row",37)(57,tl,1,6,"mat-row",38),s(),E(),T(58,39),l(59,"mat-paginator",40,1),b("page",function(a){return f(c),C(e.onTablePageingData(a))}),s(),E(),s()}i&2&&(u("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),A("optionActionGuideNoticeDisplay",e.viewGuideNotice),u("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(8),A("ngModel",e.optionsSearch.data.show),r(),g("",M(10,24,"ACTION.SEARCH")," "),r(3),A("ngModel",e.optionsStatist.data.show),r(),g("",M(14,26,"ACTION.STATIST")," "),r(8),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),u("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),w(M(31,28,"ACTION.USED_ITEMS")),r(3),A("options",e.optionsSearch),r(),A("options",e.optionsStatist),r(2),u("dataSource",e.tableSource),r(20),u("matHeaderRowDef",e.tabledisplayedColumns),r(),u("matRowDefColumns",e.tabledisplayedColumns),r(2),u("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",qe(30,La)))},dependencies:[Ve,j,ze,K,Y,Ee,ce,te,it,ot,nt,ke,rt,at,lt,ct,ut,dt,st,ft,pt,mt,Ct,ht,bt,vt,Mt,St,W,wo,Lt,_t,gt],encapsulation:2});let o=d;return o})();var il=[{path:"",children:[{path:"group",component:Bo},{path:"groupdetail",component:Ii},{path:"groupdetail/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Ii},{path:"groupdetail/LinkUserClaimGroupId/:LinkUserClaimGroupId",component:Ii},{path:"type",component:No},{path:"content",component:Wt},{path:"content/LinkUserClaimTypeId/:LinkUserClaimTypeId",component:Wt},{path:"content/LinkSiteId/:LinkSiteId",component:Wt},{path:"content/LinkUserId/:LinkUserId",component:Wt},{path:"checklist",component:xi},{path:"checklist/:LinkSiteId/:LinkUserId",component:xi}]}],Po=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=zt({type:d}),d.\u0275inj=qt({imports:[Ti.forChild(il),Ti]});let o=d;return o})();var hd=(()=>{let d=class d{};d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=zt({type:d}),d.\u0275inj=qt({providers:[Jt,q,Ut,ie,de,xe,Be],imports:[to,no,Po,ro.withConfig({warnOnNgModelWithFormControl:"never"}),Ao,Ro,_o]});let o=d;return o})();export{hd as CoreUserClaimModule};
