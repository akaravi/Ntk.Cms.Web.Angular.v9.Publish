import{a as $i,b as Eo}from"./chunk-52HAWB3U.js";import{e as wo,g as To}from"./chunk-BSRONBE2.js";import{a as bo,b as Co,c as Io,d as vo,e as yo}from"./chunk-HQEIB6G3.js";import{b as Oi,c as Ni,d as Hi,e as qn}from"./chunk-CDHT22H3.js";import{a as wt}from"./chunk-JERQBY44.js";import{a as Vt}from"./chunk-K4SFHQPH.js";import{a as Lt}from"./chunk-BRMVS3UD.js";import{b as Mo}from"./chunk-3J77DX26.js";import{a as Xe}from"./chunk-6SL22EAA.js";import{$ as Me,$b as qe,Aa as Bn,Ab as k,Ac as ro,B as ti,Ba as Fn,Bc as lo,Bd as Je,Ca as On,Cb as K,Cc as so,Cd as go,Da as Nn,Dc as co,Dd as Zi,E as Dn,Ec as po,F as xn,Fb as eo,Fd as ho,G as An,Id as Ye,J as he,Jc as yt,K as _e,L as Se,Ld as _o,N as Pn,Na as Hn,Nb as ni,O as Rn,Oa as be,Ob as oi,Od as So,Pa as Ce,Qa as Ne,Sc as Wt,Tc as gi,Uc as Yi,Vc as mo,Wa as X,Xa as jn,Za as j,Zc as kt,_ as ki,_c as Qe,ac as Ue,bc as ze,ca as at,cc as ke,da as Li,dc as mt,ea as Wn,ec as ut,fc as Qi,ga as Vi,gc as ai,gd as wi,ha as Gi,hc as ri,ia as Bi,ic as Ki,ja as Fi,jc as Ji,jd as Ie,kc as to,lc as ft,m as Zt,mc as gt,nc as ht,o as At,oc as _t,p as te,pa as F,pc as St,pd as Ke,qa as H,qc as Mt,rc as bt,s as O,sb as zi,sc as Ct,sd as uo,t as pe,tb as $n,tc as It,ub as ye,uc as vt,v as me,va as Re,vb as N,vd as fo,w as $t,wc as io,x as z,xa as Ln,xb as fi,xc as no,y as ue,ya as Vn,yc as oo,yd as Xi,z as ei,za as Gn,zb as pt,zc as ao}from"./chunk-OVONFSR7.js";import{a as Z}from"./chunk-O23I3INA.js";import{$n as dt,Aa as Et,Ab as Be,Bd as Q,Db as ne,Dc as nt,Dd as zn,Eb as oe,Fb as ae,Fc as ot,Fd as Pt,Ia as Ee,Ib as P,Je as Kn,Kb as c,Kd as pi,L as qt,La as a,Lb as w,Lc as Tn,Ld as q,Ma as C,Mb as _,Nb as Xt,O as Ut,Od as U,Pd as $,Qb as T,Qd as re,Rb as E,Sb as D,Sd as Qn,Uc as En,Vb as ve,Vd as Y,Vn as mi,W as zt,Wb as it,X as Qt,Xn,Yb as S,Yn as ui,Za as J,Zb as M,Zd as ji,Zn as ii,_b as xt,_n as st,ab as b,af as Jn,ao as Rt,bb as Dt,bo as ct,cb as m,ce as qi,cg as Yn,co as Ui,da as Ri,db as Kt,eb as Ae,fd as rt,g as Ft,gc as B,gd as kn,hd as Oe,ho as yi,io as Ot,ja as L,jo as We,ka as Wi,kd as sn,ko as Ze,lb as r,lo as $e,mb as l,mo as et,nb as I,nd as Un,no as cn,ob as x,oo as Zn,pb as A,qb as De,ra as f,rb as y,rd as He,sa as g,td as dn,u as Ht,ub as v,v as jt,va as wn,wb as u,wd as je,xb as Jt,xc as xe,yb as Yt,yc as Fe,zb as R,zc as G,zd as lt}from"./chunk-XKQYEJGP.js";var Do=(()=>{let s=class s{constructor(){}ngOnInit(){}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=L({type:s,selectors:[["app-web-designer"]],decls:1,vars:0,template:function(i,e){i&1&&I(0,"router-outlet")},dependencies:[kn],encapsulation:2});let n=s;return n})();var jo=["vform"];function qo(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Uo(n,s){n&1&&I(0,"i",29)}function zo(n,s){n&1&&I(0,"i",30)}function Qo(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Ko(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Uo,1,0,"i",26)(6,zo,1,0,"i",27),r(7,"em"),c(8),l(),b(9,Qo,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Jo(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),r(5,"em"),c(6),l()()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),a(),T("ngModel",t.dataModel.linkPageId),m("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessAddField)),a(3),_("",o.value.length," / 100")}}function Yo(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Xo(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),b(6,Yo,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),a(),R("placeholder",M(5,5,"TITLE.priority")),T("ngModel",t.dataModel.priority),m("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessAddField)),a(3),m("ngIf",o.errors==null?null:o.errors.required)}}function Zo(n,s){n&1&&I(0,"i",29)}function $o(n,s){n&1&&I(0,"i",30)}function ea(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ta(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),l(),r(4,"textarea",36,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(6,"                    "),l(),r(7,"em"),c(8),l(),b(9,Zo,1,0,"i",26)(10,$o,1,0,"i",27)(11,ea,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();a(2),w(M(3,8,"TITLE.General_Description")),a(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),m("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessAddField)),a(4),_("",o.value.length," / 100"),a(),m("ngIf",!o.value),a(),m("ngIf",o.value),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function ia(n,s){if(n&1){let o=y();r(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),c(2),S(3,"translate"),l(),r(4,"button",39),c(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BACK")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function na(n,s){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),Ee)}}function oa(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),c(2),S(3,"translate"),l(),r(4,"input",42,6),S(6,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),r(7,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(M(3,11,"TITLE.Icon_File")),a(2),R("placeholder",M(6,13,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),a(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function aa(n,s){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),Ee)}}function ra(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),a(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainVideoId),m("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),a(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenFormVideo),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function la(n,s){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),l(),r(4,"button",47),c(5),S(6,"translate"),l()()),n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BEFOR")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var mn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,d,W,V){super(p,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=p,this.cmsToastrService=h,this.router=d,this.cdr=W,this.translate=V,this.requestLinkPageId="",this.fieldsInfo=new Map,this.formInfo=new re,this.dataModel=new Ot,this.dataModelResult=new q,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkPageId")&&(this.requestLinkPageId=this.activatedRoute.snapshot.paramMap.get("LinkPageId")),this.requestLinkPageId.length>0&&(this.dataModel.linkPageId=this.requestLinkPageId),this.DataGetAccess()}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataAddContent()}DataAddContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainIntroService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(C(rt),C(k),C(Y),C(ii),C(N),C(Oe),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-add"]],viewQuery:function(i,e){if(i&1&&ne(jo,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(d){f(p);let W=P(11);return g(e.onStepClick(d,W))}),r(12,"mat-step",14),S(13,"translate"),b(14,qo,1,5,"app-cms-enum-record-status-selector",15)(15,Ko,10,8,"div",16)(16,Jo,7,4,"div",16)(17,Xo,7,7,"div",16)(18,ta,12,10,"div",16)(19,ia,7,7,"div",17),l(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),l(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),b(28,na,2,3,"img",21),l()(),b(29,oa,8,15,"div",16),r(30,"div",19),b(31,aa,2,3,"img",21),l(),b(32,ra,7,14,"div",16)(33,la,7,7,"div",17),l()()()()()}i&2&&(a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),a(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),a(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),a(),m("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow),a(),R("label",M(21,22,"TITLE.ATTACH_FILES")),a(3),w(M(24,24,"TITLE.Photos_And_Application_Files")),a(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),Ee),a(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),a(),m("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),a(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),a(),m("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,O,pe,he,_e,Se,z,me,Me,j,ai,ri,Ki,Ji,Ie,K,zi,H,Wt],encapsulation:2});let n=s;return n})();var sa=["vform"];function da(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ca(n,s){n&1&&I(0,"i",29)}function pa(n,s){n&1&&I(0,"i",30)}function ma(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ua(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",24),c(2),l(),r(3,"input",25,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,ca,1,0,"i",26)(6,pa,1,0,"i",27),r(7,"em"),c(8),l(),b(9,ma,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function fa(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",31),c(2),l(),r(3,"input",32,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkPageId,i)||(e.dataModel.linkPageId=i),g(i)}),l(),r(5,"em"),c(6),l()()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.linkPageId==null?null:t.fieldsInfo.linkPageId.fieldTitle),a(),T("ngModel",t.dataModel.linkPageId),m("disabled",!(t.fieldsInfo.linkPageId!=null&&t.fieldsInfo.linkPageId.accessEditField)),a(3),_("",o.value.length," / 100")}}function ga(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.priority==null?null:o.fieldsInfo.priority.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ha(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",33),c(2),l(),r(3,"input",34,4),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.priority,i)||(e.dataModel.priority=i),g(i)}),l(),b(6,ga,5,4,"mat-error",28),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.priority==null?null:t.fieldsInfo.priority.fieldTitle),a(),R("placeholder",M(5,5,"TITLE.priority")),T("ngModel",t.dataModel.priority),m("disabled",!(t.fieldsInfo.priority!=null&&t.fieldsInfo.priority.accessEditField)),a(3),m("ngIf",o.errors==null?null:o.errors.required)}}function _a(n,s){n&1&&I(0,"i",29)}function Sa(n,s){n&1&&I(0,"i",30)}function Ma(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ba(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",35),c(2),S(3,"translate"),l(),r(4,"textarea",36,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(6,"                        "),l(),r(7,"em"),c(8),l(),b(9,_a,1,0,"i",26)(10,Sa,1,0,"i",27)(11,Ma,5,4,"mat-error",28),l()}if(n&2){let o=P(5),t=u();a(2),w(M(3,8,"TITLE.General_Description")),a(2),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),m("disabled",!(t.fieldsInfo.description!=null&&t.fieldsInfo.description.accessEditField)),a(4),_("",o.value.length," / 100"),a(),m("ngIf",!o.value),a(),m("ngIf",o.value),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Ca(n,s){if(n&1){let o=y();r(0,"div",37)(1,"button",38),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),c(2),S(3,"translate"),l(),r(4,"button",39),c(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BACK")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.NEXT")," ")}}function Ia(n,s){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainImageIdSrc),Ee)}}function va(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",41),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),c(2),l(),r(3,"input",42,6),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainImageId,i)||(e.dataModel.linkMainImageId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenForm=!0)}),l(),r(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainImageId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenForm,i)||(e.fileManagerOpenForm=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.linkMainImageId==null?null:o.fieldsInfo.linkMainImageId.fieldTitle),a(),R("placeholder",M(5,11,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainImageId),a(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenForm),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ya(n,s){if(n&1&&(I(0,"img",40),S(1,"cmsthumbnail")),n&2){let o=u();R("src",M(1,1,o.dataModel.linkMainVideoIdSrc),Ee)}}function wa(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",44),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),c(2),l(),r(3,"input",45,7),S(5,"translate"),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.linkMainVideoId,i)||(e.dataModel.linkMainVideoId=i),g(i)}),v("click",function(){f(o);let i=u();return g(i.fileManagerOpenFormVideo=!0)}),l(),r(6,"cms-file-manager",43),v("itemSelected",function(i){f(o);let e=u();return g(e.onActionFileSelectedLinkMainVideoId(i))}),D("openFormChange",function(i){f(o);let e=u();return E(e.fileManagerOpenFormVideo,i)||(e.fileManagerOpenFormVideo=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.linkMainVideoId==null?null:o.fieldsInfo.linkMainVideoId.fieldTitle),a(),R("placeholder",M(5,12,"TITLE.Original_File_ID")),T("ngModel",o.dataModel.linkMainVideoId),m("disabled",!(o.fieldsInfo.linkMainVideoId!=null&&o.fieldsInfo.linkMainVideoId.accessAddField)),a(3),m("language",o.appLanguage)("isPopup",!0),T("openForm",o.fileManagerOpenFormVideo),m("tree",o.fileManagerTree)("openDirectUploadView",!0)("openFilemanagerButtonLabelKey","select")("selectFileType",o.selectFileTypeMainVideo)("openFilemanagerButtonView",!1)}}function Ta(n,s){if(n&1&&(r(0,"div",37)(1,"button",46),c(2),S(3,"translate"),l(),r(4,"button",47),c(5),S(6,"translate"),l()()),n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BEFOR")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.SAVE")," ")}}var xo=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,d,W,V){super(p,new Ot,i,V),this.activatedRoute=t,this.publicHelper=i,this.coreEnumService=e,this.webDesignerMainIntroService=p,this.cmsToastrService=h,this.router=d,this.cdr=W,this.translate=V,this.requestId="",this.formInfo=new re,this.dataModel=new Ot,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.selectFileTypeMainVideo=["mp4"],this.fileManagerOpenForm=!1,this.fileManagerOpenFormVideo=!1,this.appLanguage="fa",this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.activatedRoute.snapshot.paramMap.get("Id")&&(this.requestId=this.activatedRoute.snapshot.paramMap.get("Id"))}ngOnInit(){if(this.requestId.length===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.DataGetOne(this.requestId)}onFormSubmit(){if(!this.formGroup.valid){this.cmsToastrService.typeErrorFormInvalid();return}this.DataEditContent()}DataGetOne(t){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.get_information_from_the_server").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructor.name)}),this.webDesignerMainIntroService.setAccessLoad(),this.webDesignerMainIntroService.setAccessDataType(Pt.Editor),this.webDesignerMainIntroService.ServiceGetOneById(t).subscribe({next:e=>{this.dataAccessModel=e.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.publicHelper.processService.processStop(i),this.dataModelResult=e,this.formInfo.formSubmitAllow=!0,e.isSuccess?this.dataModel=e.item:this.cmsToastrService.typeErrorGetOne(e.errorMessage)},error:e=>{this.publicHelper.processService.processStop(i),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorGetOne(e)}})}DataEditContent(){this.formInfo.formSubmitAllow=!1,this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainIntroService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!i.isSuccess,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),setTimeout(()=>this.router.navigate(["/webdesigner/intro/"]),1e3)):this.cmsToastrService.typeErrorEdit(i.errorMessage),this.publicHelper.processService.processStop(t)},error:i=>{this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeErrorEdit(i)}})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex}onActionBackToParent(){this.router.navigate(["/webdesigner/intro/"])}onActionFileSelectedLinkMainImageId(t){this.dataModel.linkMainImageId=t.id,this.dataModel.linkMainImageIdSrc=t.downloadLinksrc}onActionFileSelectedLinkMainVideoId(t){this.dataModel.linkMainVideoId=t.id,this.dataModel.linkMainVideoIdSrc=t.downloadLinksrc}};s.\u0275fac=function(i){return new(i||s)(C(rt),C(k),C(Y),C(ii),C(N),C(Oe),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-edit"]],viewQuery:function(i,e){if(i&1&&ne(sa,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:34,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["LinkPageId",""],["Priority",""],["Description",""],["LinkMainImageId",""],["LinkMainVideoId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.linkPageId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkPageId","placeholder","Page Id","minlength","3","maxlength","100","id","dataModel.linkPageId",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","3","maxlength","100","rows","10","required","","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openDirectUploadView","openFilemanagerButtonLabelKey","selectFileType","openFilemanagerButtonView"],["for","dataModel.linkMainVideoId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainVideoId","autocomplete","off","id","dataModel.linkMainVideoId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder","disabled"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),r(10,"mat-horizontal-stepper",13,1),v("selectionChange",function(d){f(p);let W=P(11);return g(e.onStepClick(d,W))}),r(12,"mat-step",14),S(13,"translate"),b(14,da,1,5,"app-cms-enum-record-status-selector",15)(15,ua,10,8,"div",16)(16,fa,7,4,"div",16)(17,ha,7,7,"div",16)(18,ba,12,10,"div",16)(19,Ca,7,7,"div",17),l(),r(20,"mat-step",18),S(21,"translate"),r(22,"p"),c(23),S(24,"translate"),l(),r(25,"div",19)(26,"a",20),S(27,"cmsthumbnail"),b(28,Ia,2,3,"img",21),l()(),b(29,va,7,13,"div",16),r(30,"div",19),b(31,ya,2,3,"img",21),l(),b(32,wa,7,14,"div",16)(33,Ta,7,7,"div",17),l()()()()()}i&2&&(a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,18,"TITLE.Be_Careful_When_Entering_Information")," "),a(6),R("label",M(13,20,"TITLE.REQUIRED_INFORMATION")),a(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("ngIf",e.fieldsInfo.linkPageId==null?null:e.fieldsInfo.linkPageId.accessWatchField),a(),m("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow),a(),R("label",M(21,22,"TITLE.ATTACH_FILES")),a(3),w(M(24,24,"TITLE.Photos_And_Application_Files")),a(3),R("href",M(27,26,e.dataModel.linkMainImageIdSrc),Ee),a(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),a(),m("ngIf",e.fieldsInfo.linkMainImageId==null?null:e.fieldsInfo.linkMainImageId.accessWatchField),a(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainVideoIdSrc==null?null:e.dataModel.linkMainVideoIdSrc.length)>0),a(),m("ngIf",e.fieldsInfo.linkMainVideoId==null?null:e.fieldsInfo.linkMainVideoId.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,O,pe,he,_e,Se,z,me,Me,j,ai,ri,Ki,Ji,Ie,K,zi,H,Wt],encapsulation:2});let n=s;return n})();var Da=()=>[5,10,20,100],xa=n=>({display:n});function Aa(n,s){if(n&1){let o=y();r(0,"a",43),v("click",function(){f(o);let i=u();return g(i.onActionBackToParent())}),I(1,"i",44),l()}}function Pa(n,s){if(n&1){let o=y();r(0,"div",45)(1,"a",46),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",47)(3,"br"),l(),r(4,"p",48),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function Ra(n,s){if(n&1){let o=y();r(0,"div",45)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",50)(3,"br"),l(),r(4,"p",48),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function Wa(n,s){if(n&1){let o=y();r(0,"div",45)(1,"a",51),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",52)(3,"br"),l(),r(4,"p",48),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function ka(n,s){n&1&&(r(0,"mat-header-cell",53),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function La(n,s){if(n&1&&(I(0,"img",55),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkMainImageIdSrc),Ee)}}function Va(n,s){if(n&1&&(r(0,"mat-cell"),b(1,La,2,3,"img",54),l()),n&2){let o=s.$implicit;a(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Ga(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ba(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function Fa(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Oa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;a(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function Na(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkPageId==null?null:o.fieldsInfo.linkPageId.fieldTitle," ")}}function Ha(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkPageId," ")}}function ja(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function qa(n,s){if(n&1&&I(0,"select",59),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,xa,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ua(n,s){if(n&1&&(r(0,"mat-cell",57),S(1,"statusCellClass"),I(2,"i",57),S(3,"statusIconClass"),b(4,qa,1,5,"select",58),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),a(2),m("ngClass",M(3,5,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function za(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Qa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.title," ")}}function Ka(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ja(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",t.publicHelper.LocaleDate(o.createdDate)," ")}}function Ya(n,s){if(n&1&&(r(0,"mat-header-cell",56),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Xa(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",t.publicHelper.LocaleDate(o.updatedDate)," ")}}function Za(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function $a(n,s){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function er(n,s){n&1&&I(0,"mat-header-row")}function tr(n,s){if(n&1){let o=y();r(0,"mat-row",62),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var un=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te,Tt){super(t,new Ot,Te,h,V),this.contentService=t,this.activatedRoute=i,this.cmsToastrService=e,this.router=p,this.tokenHelper=h,this.cmsConfirmationDialogService=d,this.cdr=W,this.translate=V,this.pageInfo=ce,this.publicHelper=Te,this.dialog=Tt,this.requestLinkPageId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","LinkPageId","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Bt=>this.onSubmitOptionsSearch(Bt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.requestLinkPageId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkPageId"));let t=new U;this.requestLinkPageId>0&&(t.propertyName="LinkPageId",t.value=this.requestLinkPageId,this.filteModelContent.filters.push(t)),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.requestLinkPageId===0&&(this.tabledisplayedColumns=this.publicHelper.listRemoveIfExist(this.tabledisplayedColumns,"LinkPageId")),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ot);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess&&(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}this.requestLinkPageId>0?this.router.navigate(["/webdesigner/intro/add/",this.requestLinkPageId]):this.router.navigate(["/webdesigner/intro/add/"])}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/webdesigner/intro/edit/",this.tableRowSelected.id])}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){let p=this.translate.instant("MESSAGE.No_row_selected_for_editing");this.cmsToastrService.typeErrorSelected(p);return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};s.\u0275fac=function(i){return new(i||s)(C(ii),C(rt),C(N),C(Oe),C(ye),C(Xe),C(B),C(F),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-intro-list"]],features:[J],decls:64,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-hea","","der","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkPageId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-hea","","der",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,4),c(2," -------------------------------------- "),A(),De(3,5),x(4,6),r(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",9)(12,"mat-slide-toggle",11),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",12),b(16,Aa,2,0,"a",13),r(17,"a",14),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(18,"i",15),l(),r(19,"a",14),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(20,"i",16),l()()(),A(),x(21,17),b(22,Pa,7,3,"div",18),A(),x(23,19),b(24,Ra,7,3,"div",18)(25,Wa,7,3,"div",18),A(),x(26,20),r(27,"app-cms-search-list",21),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(28,"app-cms-statist-list",21),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(29,22),r(30,"mat-table",23,0),v("matSortChange",function(){f(p);let d=P(31);return g(e.onTableSortData(d))}),x(32,24),b(33,ka,3,3,"mat-header-cell",25)(34,Va,2,1,"mat-cell",26),A(),x(35,27),b(36,Ga,2,1,"mat-header-cell",28)(37,Ba,2,1,"mat-cell",26),A(),x(38,29),b(39,Fa,2,1,"mat-header-cell",28)(40,Oa,4,5,"mat-cell",26),A(),x(41,30),b(42,Na,2,1,"mat-header-cell",28)(43,Ha,2,1,"mat-cell",26),A(),x(44,31),b(45,ja,2,1,"mat-header-cell",28)(46,Ua,5,7,"mat-cell",32),A(),x(47,33),b(48,za,2,1,"mat-header-cell",28)(49,Qa,2,1,"mat-cell",26),A(),x(50,34),b(51,Ka,2,1,"mat-header-cell",28)(52,Ja,2,1,"mat-cell",26),A(),x(53,35),b(54,Ya,2,1,"mat-header-cell",28)(55,Xa,2,1,"mat-cell",26),A(),x(56,36),b(57,Za,3,3,"mat-header-cell",37)(58,$a,6,1,"mat-cell",38),A(),b(59,er,1,0,"mat-header-row",39)(60,tr,1,6,"mat-row",40),l(),A(),x(61,41),r(62,"mat-paginator",42,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,24,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,26,"ACTION.STATIST")," "),a(3),m("ngIf",e.requestLinkPageId>0),a(6),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(2),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource),a(29),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(28,Da)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,ot,H,Yi,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var ir=["vform"];function nr(n,s){if(n&1){let o=y();r(0,"div",7)(1,"button",12),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",13),c(3),S(4,"translate"),l()()}n&2&&(a(3),_(" ",M(4,1,"ACTION.CANCEL")," "))}var Ao=(()=>{let s=class s{constructor(t,i,e,p,h,d,W,V,ce){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerLogMemberInfoService=p,this.cdr=h,this.cmsToastrService=d,this.tokenHelper=W,this.publicHelper=V,this.translate=ce,this.requestId="",this.tokenInfo=new Un,this.dataModelResult=new q,this.dataModel=new yi,this.formInfo=new re,this.dataModelEnumSendSmsStatusTypeResult=new q,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerLogMemberInfoService.setAccessLoad(),this.webDesignerLogMemberInfoService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorLocation(t){if(!t||!t.id||t.id<=0){this.translate.get("MESSAGE.Information_area_deleted").subscribe(i=>{this.cmsToastrService.typeWarningSelected(i)}),this.dataModel.linkLocationId=null;return}this.dataModel.linkLocationId=t.id}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(ui),C(B),C(N),C(ye),C(k),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-view"]],viewQuery:function(i,e){if(i&1&&ne(ir,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},decls:19,vars:22,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[3,"dataModel","optionMethod"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,e){i&1&&(r(0,"div",0),c(1),l(),r(2,"div",1),I(3,"app-progress-spinner",2)(4,"app-cms-site-selector",3),S(5,"translate"),I(6,"app-cms-user-selector",3),S(7,"translate"),I(8,"app-cms-json-list",4),r(9,"app-cms-location-selector",5),S(10,"translate"),v("optionChange",function(h){return e.onActionSelectorLocation(h)}),l()(),r(11,"div",6)(12,"div",7)(13,"small",8),c(14),l(),r(15,"small",9),c(16),l()()(),r(17,"div",10),b(18,nr,5,3,"div",11),l()),i&2&&(a(),_(" ",e.formInfo.formTitle," "),a(2),m("optionsInfoAreaId",e.constructor.name),a(),m("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",M(5,16,"TITLE.SITE")),a(2),m("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",M(7,18,"TITLE.USER")),a(2),m("dataModel",e.dataModel)("optionMethod",1),a(),m("optionDisabled",!(e.fieldsInfo.linkLocationId!=null&&e.fieldsInfo.linkLocationId.accessEditField))("optionSelectForce",e.dataModel.linkLocationId)("optionPlaceholder",M(10,20,"TITLE.Region")),a(5),_("",e.formInfo.formAlert," "),a(2),_("",e.formInfo.formError," "),a(2),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ho,fo,_o,K,uo,H],encapsulation:2});let n=s;return n})();var or=()=>[5,10,20,100],ar=n=>({display:n});function rr(n,s){if(n&1){let o=y();r(0,"div",48)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonViewRow(i.tableRowSelected))}),I(2,"i",50)(3,"br"),l(),r(4,"p",51),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.VIEW")))}function lr(n,s){if(n&1){let o=y();r(0,"div",48)(1,"a",52),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",53)(3,"br"),l(),r(4,"p",51),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function sr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function dr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function cr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function pr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmssiteinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;a(),_(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function mr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ur(n,s){if(n&1&&I(0,"select",57),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,ar,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function fr(n,s){if(n&1&&(r(0,"mat-cell",55),S(1,"statusCellClass"),I(2,"i",55),S(3,"statusIconClass"),b(4,ur,1,5,"select",56),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),a(2),m("ngClass",M(3,5,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function gr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function hr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmsuserinfo"),S(3,"async"),l()),n&2){let o=s.$implicit;a(),_(" ",M(3,3,M(2,1,o.linkUserId))," ")}}function _r(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function Sr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkMemberId," ")}}function Mr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkLocationIdTitle==null?null:o.fieldsInfo.linkLocationIdTitle.fieldTitle," ")}}function br(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkLocationIdTitle," ")}}function Cr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkLocationIdParentTitle==null?null:o.fieldsInfo.linkLocationIdParentTitle.fieldTitle," ")}}function Ir(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkLocationIdParentTitle," ")}}function vr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.deviceStatus==null?null:o.fieldsInfo.deviceStatus.fieldTitle," ")}}function yr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.deviceStatus," ")}}function wr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.deviceId==null?null:o.fieldsInfo.deviceId.fieldTitle," ")}}function Tr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.deviceId," ")}}function Er(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.deviceBrand==null?null:o.fieldsInfo.deviceBrand.fieldTitle," ")}}function Dr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.deviceBrand," ")}}function xr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.simCard==null?null:o.fieldsInfo.simCard.fieldTitle," ")}}function Ar(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.simCard," ")}}function Pr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.appBuildVer==null?null:o.fieldsInfo.appBuildVer.fieldTitle," ")}}function Rr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.appBuildVer," ")}}function Wr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.appSourceVer==null?null:o.fieldsInfo.appSourceVer.fieldTitle," ")}}function kr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.appSourceVer," ")}}function Lr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.scorePercent==null?null:o.fieldsInfo.scorePercent.fieldTitle," ")}}function Vr(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.scorePercent," %")}}function Gr(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Br(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",t.publicHelper.LocaleDate(o.createdDate)," ")}}function Fr(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Or(n,s){if(n&1&&(r(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function Nr(n,s){n&1&&I(0,"mat-header-row")}function Hr(n,s){if(n&1){let o=y();r(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Po=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te,Tt){super(t,new yi,Te,V,h),this.contentService=t,this.cmsConfirmationDialogService=i,this.activatedRoute=e,this.cdr=p,this.translate=h,this.cmsToastrService=d,this.router=W,this.tokenHelper=V,this.pageInfo=ce,this.publicHelper=Te,this.dialog=Tt,this.requestLinkMemberId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","LinkUserId","LinkMemberId","DeviceStatus","DeviceId","DeviceBrand","SimCard","AppBuildVer","AppSourceVer","ScorePercent","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Bt=>this.onSubmitOptionsSearch(Bt)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.requestLinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkMemberId"));let t=new U;this.requestLinkMemberId>0&&(t.propertyName="LinkMemberId",t.value=this.requestLinkMemberId,this.filteModelContent.filters.push(t)),this.tokenHelper.getCurrentToken().then(i=>{this.tokenInfo=i,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:i=>{this.tokenInfo=i,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yi);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(W=>{i.set(W,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(W=>{i.set(W,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/application/app/"])}};s.\u0275fac=function(i){return new(i||s)(C(ui),C(Xe),C(rt),C(B),C(F),C(N),C(Oe),C(ye),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-logmemberinfo-list"]],features:[J],decls:82,vars:27,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","LinkLocationIdTitle"],["matColumnDef","LinkLocationIdParentTitle"],["matColumnDef","DeviceStatus"],["matColumnDef","DeviceId"],["matColumnDef","DeviceBrand"],["matColumnDef","SimCard"],["matColumnDef","AppBuildVer"],["matColumnDef","AppSourceVer"],["matColumnDef","ScorePercent"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),De(1,4)(2,5),x(3,6),r(4,"div",7)(5,"div",8)(6,"a",9)(7,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(8),S(9,"translate"),l(),r(10,"a",9)(11,"mat-slide-toggle",11),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(12),S(13,"translate"),l()(),r(14,"div",12)(15,"a",13),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(16,"i",14),l(),r(17,"a",13),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(18,"i",15),l()()(),A(),De(19,16),x(20,17),b(21,rr,7,3,"div",18)(22,lr,7,3,"div",18),A(),x(23,19),r(24,"app-cms-search-list",20),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(25,"app-cms-statist-list",20),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(26,21),r(27,"mat-table",22,0),v("matSortChange",function(){f(p);let d=P(28);return g(e.onTableSortData(d))}),x(29,23),b(30,sr,2,1,"mat-header-cell",24)(31,dr,2,1,"mat-cell",25),A(),x(32,26),b(33,cr,2,1,"mat-header-cell",24)(34,pr,4,5,"mat-cell",25),A(),x(35,27),b(36,mr,2,1,"mat-header-cell",24)(37,fr,5,7,"mat-cell",28),A(),x(38,29),b(39,gr,2,1,"mat-header-cell",24)(40,hr,4,5,"mat-cell",25),A(),x(41,30),b(42,_r,2,1,"mat-header-cell",24)(43,Sr,2,1,"mat-cell",25),A(),x(44,31),b(45,Mr,2,1,"mat-header-cell",24)(46,br,2,1,"mat-cell",25),A(),x(47,32),b(48,Cr,2,1,"mat-header-cell",24)(49,Ir,2,1,"mat-cell",25),A(),x(50,33),b(51,vr,2,1,"mat-header-cell",24)(52,yr,2,1,"mat-cell",25),A(),x(53,34),b(54,wr,2,1,"mat-header-cell",24)(55,Tr,2,1,"mat-cell",25),A(),x(56,35),b(57,Er,2,1,"mat-header-cell",24)(58,Dr,2,1,"mat-cell",25),A(),x(59,36),b(60,xr,2,1,"mat-header-cell",24)(61,Ar,2,1,"mat-cell",25),A(),x(62,37),b(63,Pr,2,1,"mat-header-cell",24)(64,Rr,2,1,"mat-cell",25),A(),x(65,38),b(66,Wr,2,1,"mat-header-cell",24)(67,kr,2,1,"mat-cell",25),A(),x(68,39),b(69,Lr,2,1,"mat-header-cell",24)(70,Vr,2,1,"mat-cell",25),A(),x(71,40),b(72,Gr,2,1,"mat-header-cell",24)(73,Br,2,1,"mat-cell",25),A(),x(74,41),b(75,Fr,3,3,"mat-header-cell",42)(76,Or,6,1,"mat-cell",43),A(),b(77,Nr,1,0,"mat-header-row",44)(78,Hr,1,6,"mat-row",45),l(),A(),x(79,46),r(80,"mat-paginator",47,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(7),T("ngModel",e.optionsSearch.data.show),a(),_("",M(9,22,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(13,24,"ACTION.STATIST")," "),a(9),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource),a(50),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(26,or)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,ot,H,eo,Yi,Qe,kt],encapsulation:2});let n=s;return n})();var jr=["*"];function qr(n,s){if(n&1&&(r(0,"label",8),c(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),a(),w(o.optionLabel)}}function Ur(n,s){if(n&1&&(r(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),a(2),w(t.displayOption(o))}}function zr(n,s){if(n&1){let o=y();r(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),c(1,"close"),l()}}var nn=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=p,this.categoryService=h,this.id=++s.nextId,this.dataModelResult=new q,this.dataModelSelect=new We,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let p=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructor.name)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect?.id?.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof We){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new We,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(Y),C(B),C(k),C(F),C(st))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:jr,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,qr,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(p),g(e.onActionSelect(d.option.value))}),b(6,Ur,3,3,"mat-option",6),S(7,"async"),l(),b(8,zr,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);a(),m("optionsInfoAreaId",e.constructor.name),a(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),a(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),a(),m("displayWith",e.displayFn),a(2),m("ngForOf",M(7,11,e.filteredOptions)),a(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,at,X,j,K,ot],encapsulation:2});let n=s;return n})();var Jr=["vform"],Yr=()=>["fa"];function Xr(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Zr(n,s){n&1&&I(0,"i",35)}function $r(n,s){n&1&&I(0,"i",36)}function el(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function tl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Zr,1,0,"i",32)(6,$r,1,0,"i",33),r(7,"em"),c(8),l(),b(9,el,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function il(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function nl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),b(5,il,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),a(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),a(2),m("ngIf",o.errors==null?null:o.errors.required)}}function ol(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),r(5,"em"),c(6),l()()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),a(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),T("ngModel",t.dataModel.routeAddressLink),m("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),a(3),_("",o.value.length," / 500")}}function al(n,s){if(n&1){let o=y();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),I(7,"label",47),l()()()}if(n&2){let o=u();a(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),a(3),T("ngModel",o.dataModel.routeAddressBlankPage)}}function rl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),I(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();a(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),a(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),m("ngxMatColorPicker",o),T("ngModel",t.dataModel.color),m("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),a(2),m("for",o),a(),m("touchUi",!0)("color","primary")}}function ll(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),a(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),m("iconPicker",o.dataModel.icon)("ipIconPack",ve(7,Yr))("ipPosition","top"),T("ngModel",o.dataModel.icon),m("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function sl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),a(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),T("ngModel",o.dataModel.showInMenuOrder),m("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function dl(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function cl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"              "),l(),r(6,"em"),c(7),l(),b(8,dl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function pl(n,s){if(n&1){let o=y();r(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),c(2),S(3,"translate"),l(),r(4,"button",60),c(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BACK")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function ml(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function ul(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function fl(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function gl(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var on=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,d,W,V){super(p,new We,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestParentId="",this.fieldsInfo=new Map,this.dataModelResult=new q,this.dataModel=new We,this.formInfo=new re,this.dataModelEnumMenuPlaceTypeResult=new q,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestParentId=t.parentId+""),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.getEnumMenuPlaceType(),this.DataGetAccess()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataAddContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainMenuService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(st),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-add"]],viewQuery:function(i,e){if(i&1&&ne(Jr,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();r(0,"div",10),I(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",14,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(d){f(p);let W=P(11);return g(e.onStepClick(d,W))}),r(12,"mat-step",16),S(13,"translate"),b(14,Xr,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectorSelect(d))}),l(),b(17,tl,10,8,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),l(),r(22,"input",22),D("ngModelChange",function(d){return f(p),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),b(23,nl,6,5,"div",19)(24,ol,7,5,"div",19)(25,al,8,2,"div",23)(26,rl,8,10,"div",19)(27,ll,5,8,"div",19)(28,sl,5,4,"div",19)(29,cl,9,5,"div",19)(30,pl,7,7,"div",24),l(),b(31,ml,2,0,"ng-template",25)(32,ul,2,0,"ng-template",26)(33,fl,2,0,"ng-template",27)(34,gl,2,0,"ng-template",28),l()()()()}i&2&&(a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),a(6),R("label",M(13,22,"TITLE.Menu_Profile")),a(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),a(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(3),_(" ",M(21,26,"TITLE.TitleML"),""),a(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),a(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),a(),m("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),a(),m("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),a(),m("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),a(),m("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),a(),m("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,At,O,pe,he,_e,Se,z,me,Me,at,X,j,ai,ri,Qi,Ie,K,Hi,Ni,Oi,$i,nn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var hl=["vform"],_l=()=>["fa"];function Sl(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Ml(n,s){n&1&&I(0,"i",35)}function bl(n,s){n&1&&I(0,"i",36)}function Cl(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Il(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",30),c(2),l(),r(3,"input",31,2),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Ml,1,0,"i",32)(6,bl,1,0,"i",33),r(7,"em"),c(8),l(),b(9,Cl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function vl(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function yl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",37),c(2),l(),r(3,"input",38,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),b(5,vl,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),a(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),a(2),m("ngIf",o.errors==null?null:o.errors.required)}}function wl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",39),c(2),l(),r(3,"input",40,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressLink,i)||(e.dataModel.routeAddressLink=i),g(i)}),l(),r(5,"em"),c(6),l()()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),a(),R("placeholder",t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),T("ngModel",t.dataModel.routeAddressLink),m("disabled",!(t.fieldsInfo.routeAddressLink!=null&&t.fieldsInfo.routeAddressLink.accessEditField)),a(3),_("",o.value.length," / 500")}}function Tl(n,s){if(n&1){let o=y();r(0,"div",41)(1,"div",42)(2,"h5",43),c(3),l()(),r(4,"div",44)(5,"div",45)(6,"input",46),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.routeAddressBlankPage,i)||(e.dataModel.routeAddressBlankPage=i),g(i)}),l(),I(7,"label",47),l()()()}if(n&2){let o=u();a(3),_(" ",o.fieldsInfo.routeAddressBlankPage==null?null:o.fieldsInfo.routeAddressBlankPage.fieldTitle,""),a(3),T("ngModel",o.dataModel.routeAddressBlankPage)}}function El(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",48),c(2),l(),r(3,"input",49,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.color,i)||(e.dataModel.color=i),g(i)}),l(),I(5,"ngx-ntk-mat-color-toggle",50)(6,"ngx-ntk-mat-color-picker",51,6),l()}if(n&2){let o=P(7),t=u();a(2),w(t.fieldsInfo.routeAddressLink==null?null:t.fieldsInfo.routeAddressLink.fieldTitle),a(),Kt("background",t.dataModel.color),R("placeholder",t.fieldsInfo.color==null?null:t.fieldsInfo.color.fieldTitle),m("ngxMatColorPicker",o),T("ngModel",t.dataModel.color),m("disabled",!(t.fieldsInfo.color!=null&&t.fieldsInfo.color.accessAddField)),a(2),m("for",o),a(),m("touchUi",!0)("color","primary")}}function Dl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",52),c(2),l(),r(3,"input",53,7),v("iconPickerSelect",function(i){f(o);let e=u();return g(e.onIconPickerSelect(i))}),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.icon,i)||(e.dataModel.icon=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),a(),R("placeholder",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle),m("iconPicker",o.dataModel.icon)("ipIconPack",ve(7,_l))("ipPosition","top"),T("ngModel",o.dataModel.icon),m("disabled",!(o.fieldsInfo.icon!=null&&o.fieldsInfo.icon.accessEditField))}}function xl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",54),c(2),l(),r(3,"input",55,8),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.showInMenuOrder,i)||(e.dataModel.showInMenuOrder=i),g(i)}),l()()}if(n&2){let o=u();a(2),w(o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),a(),R("placeholder",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle),T("ngModel",o.dataModel.showInMenuOrder),m("disabled",!(o.fieldsInfo.showInMenuOrder!=null&&o.fieldsInfo.showInMenuOrder.accessEditField))}}function Al(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Pl(n,s){if(n&1){let o=y();r(0,"div",20)(1,"label",56),c(2),l(),r(3,"textarea",57,9),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"              "),l(),r(6,"em"),c(7),l(),b(8,Al,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Rl(n,s){if(n&1){let o=y();r(0,"div",58)(1,"button",59),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),c(2),S(3,"translate"),l(),r(4,"button",60),c(5),S(6,"translate"),l()()}if(n&2){u();let o=P(9);a(2),_(" ",M(3,3,"ACTION.BACK")," "),a(2),m("disabled",!o.form.valid),a(),_(" ",M(6,5,"ACTION.SAVE")," ")}}function Wl(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function kl(n,s){n&1&&(r(0,"mat-icon"),c(1,"call_end"),l())}function Ll(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}function Vl(n,s){n&1&&(r(0,"mat-icon"),c(1,"forum"),l())}var an=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,d,W,V){super(p,new We,h,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainMenuService=p,this.publicHelper=h,this.cmsToastrService=d,this.cdr=W,this.translate=V,this.requestId="",this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new We,this.formInfo=new re,this.dataModelEnumMenuPlaceTypeResult=new q,this.fileManagerOpenForm=!1,this.dataWebDesignerMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainMenuService.setAccessLoad(),this.webDesignerMainMenuService.setAccessDataType(Pt.Editor),this.webDesignerMainMenuService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.dataAccessModel=i.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.dataModel.color=this.dataModel.color?.toString(),this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainMenuService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(t,i){t.previouslySelectedIndex<t.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{i.selectedIndex=t.previouslySelectedIndex},10)))}onActionSelectorSelect(t){this.dataModel.linkParentId=null,t&&t.id.length>0&&(this.dataModel.linkParentId=t.id)}onActionSelectorUserCategorySelect(t){this.dataWebDesignerMainMenuModel=t}onIconPickerSelect(t){this.dataModel.icon=t}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(st),C(k),C(N),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-edit"]],viewQuery:function(i,e){if(i&1&&ne(hl,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:35,vars:28,consts:[["vform","ngForm"],["stepper",""],["Title",""],["TitleResourceLanguage",""],["RouteAddressLink",""],["color",""],["colorPicker",""],["icon",""],["ShowInMenuOrder",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.routeAddressLink",1,"color-highlight"],["matInput","","type","text","name","dataModel.routeAddressLink","minlength","0","maxlength","500","id","dataModel.routeAddressLink",1,"form-control","validate-name",2,"direction","ltr","text-align","left",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.routeAddressBlankPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.routeAddressBlankPage","name","dataModel.routeAddressBlankPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.routeAddressBlankPage",1,"custom-control-label"],["for","dataModel.color",1,"color-highlight"],["matInput","","type","text","name","dataModel.color","id","dataModel.color",1,"form-control","validate-name",3,"ngModelChange","ngxMatColorPicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],[3,"touchUi","color"],["for","dataModel.icon",1,"color-highlight"],["matInput","","type","text","name","dataModel.icon","id","dataModel.icon",1,"form-control","validate-name",3,"iconPickerSelect","ngModelChange","iconPicker","ipIconPack","ipPosition","ngModel","placeholder","disabled"],["for","dataModel.showInMenuOrder",1,"color-highlight"],["matInput","","type","number","name","dataModel.showInMenuOrder","id","dataModel.showInMenuOrder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","1","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(i,e){if(i&1){let p=y();r(0,"div",10),I(1,"app-progress-spinner",11),r(2,"div",12)(3,"p",13),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",14,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),r(10,"mat-horizontal-stepper",15,1),v("selectionChange",function(d){f(p);let W=P(11);return g(e.onStepClick(d,W))}),r(12,"mat-step",16),S(13,"translate"),b(14,Sl,1,5,"app-cms-enum-record-status-selector",17),r(15,"app-webdesigner-menu-selector",18),S(16,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectorSelect(d))}),l(),b(17,Il,10,8,"div",19),r(18,"div",20)(19,"label",21),c(20),S(21,"translate"),l(),r(22,"input",22),D("ngModelChange",function(d){return f(p),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),b(23,yl,6,5,"div",19)(24,wl,7,5,"div",19)(25,Tl,8,2,"div",23)(26,El,8,10,"div",19)(27,Dl,5,8,"div",19)(28,xl,5,4,"div",19)(29,Pl,9,5,"div",19)(30,Rl,7,7,"div",24),l(),b(31,Wl,2,0,"ng-template",25)(32,kl,2,0,"ng-template",26)(33,Ll,2,0,"ng-template",27)(34,Vl,2,0,"ng-template",28),l()()()()}i&2&&(a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),a(6),R("label",M(13,22,"TITLE.Menu_Profile")),a(2),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("optionDisabled",!1)("optionSelectForce",e.dataModel.linkParentId)("optionPlaceholder",M(16,24,"TITLE.Parent_Menu")),a(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(3),_(" ",M(21,26,"TITLE.TitleML"),""),a(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),a(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),a(),m("ngIf",e.fieldsInfo.routeAddressLink==null?null:e.fieldsInfo.routeAddressLink.accessWatchField),a(),m("ngIf",e.fieldsInfo.routeAddressBlankPage==null?null:e.fieldsInfo.routeAddressBlankPage.accessWatchField),a(),m("ngIf",e.fieldsInfo.color==null?null:e.fieldsInfo.color.accessWatchField),a(),m("ngIf",e.fieldsInfo.icon==null?null:e.fieldsInfo.icon.accessWatchField),a(),m("ngIf",e.fieldsInfo.showInMenuOrder==null?null:e.fieldsInfo.showInMenuOrder.accessWatchField),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,te,ei,At,O,pe,he,_e,Se,z,me,Me,at,X,j,ai,ri,Qi,Ie,K,Hi,Ni,Oi,$i,nn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();function Gl(n,s){if(n&1){let o=y();r(0,"button",11),v("click",function(){f(o);let i=u();return g(i.onActionAdd())}),c(1),S(2,"translate"),l()}n&2&&(a(),w(M(2,1,"ACTION.ADD")))}function Bl(n,s){if(n&1){let o=y();r(0,"button",12),v("click",function(){f(o);let i=u();return g(i.onActionEdit())}),c(1),S(2,"translate"),l()}n&2&&(a(),w(M(2,1,"ACTION.EDIT")))}function Fl(n,s){if(n&1){let o=y();r(0,"button",13),v("click",function(){f(o);let i=u();return g(i.onActionButtonReload())}),r(1,"mat-icon",14),S(2,"translate"),c(3,"refresh"),l()()}n&2&&(a(),R("title",M(2,1,"ACTION.RELOAD")))}function Ol(n,s){if(n&1){let o=y();r(0,"mat-tree-node",15),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),I(1,"button",16)(2,"i",17),c(3),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-tree-odd",t%2)("ntk-tree-even",!(t%2))("ntk-tree-selected",(i.dataModelSelect==null||i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===o.id),a(2),m("ngClass",o.Icon),a(),_(" \xA0\xA0\xA0\xA0 ",o.title," ")}}function Nl(n,s){if(n&1){let o=y();r(0,"mat-nested-tree-node")(1,"li")(2,"div",18),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),r(3,"button",19),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionSelect(i))}),r(4,"mat-icon",20),c(5),l()(),I(6,"i",17),c(7),l(),r(8,"ul"),De(9,21),l()()()}if(n&2){let o=s.$implicit,t=u();a(2),Ae("ntk-tree-selected",(t.dataModelSelect==null||t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===o.id),a(),Dt("aria-label","Toggle "+o.title),a(2),_(" ",t.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),a(),Kt("color",o.color),m("ngClass",o.Icon),a(),_(" \xA0\xA0\xA0\xA0 ",o.title," "),a(),Ae("category-tree-invisible",!t.treeControl.isExpanded(o))}}var Wo=(()=>{let s=class s{constructor(t,i,e,p,h,d,W,V){this.cmsToastrService=t,this.coreEnumService=i,this.categoryService=e,this.dialog=p,this.cdr=h,this.publicHelper=d,this.tokenHelper=W,this.translate=V,this.dataModelSelect=new We,this.dataModelResult=new q,this.filterModel=new $,this.treeControl=new io(ce=>ce.children),this.dataSource=new po,this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(ce,Te)=>!!Te.children&&Te.children.length>0,this.publicHelper.processService.cdr=this.cdr,this.filterModel.sortColumn="ShowInMenuOrder",this.filterModel.sortType=Q.Ascending}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.categoryService.ServiceGetAllTree(this.filterModel).subscribe({next:i=>{i.isSuccess&&(this.dataModelResult=i,this.dataSource.data=this.dataModelResult.listItems),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelect(t){this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new We,this.DataGetAll()}onActionSelectForce(t){}onActionAdd(){let t="";this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id);let i=new Hn;i.disableClose=!0,i.autoFocus=!0,i.data={parentId:t},this.dialog.open(on,i).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(an,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:t}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let t="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(t=this.dataModelSelect.id),t.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}}};s.\u0275fac=function(i){return new(i||s)(C(N),C(Y),C(st),C(Ne),C(B),C(k),C(ye),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:13,vars:12,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["cms-tree-body",""],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(i,e){i&1&&(r(0,"app-cms-html-tree",0),x(1,1),c(2),S(3,"translate"),A(),x(4,2),b(5,Gl,3,3,"button",3)(6,Bl,3,3,"button",4)(7,Fl,4,3,"button",5),A(),x(8,6),r(9,"mat-tree",7),b(10,Ol,4,8,"mat-tree-node",8)(11,Nl,10,10,"mat-nested-tree-node",9),l(),A(),De(12,10),l()),i&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),a(2),_(" ",M(3,10,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),a(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),a(2),m("dataSource",e.dataSource)("treeControl",e.treeControl),a(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[xe,G,Re,X,ao,oo,ro,co,so,no,lo,wi,H],encapsulation:2});let n=s;return n})();var jl=()=>["expandedTitle"],ql=()=>[5,10,20,100],Ul=n=>({display:n});function zl(n,s){if(n&1){let o=y();r(0,"div",43)(1,"a",44),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",45)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function Ql(n,s){if(n&1){let o=y();r(0,"div",43)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",48)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function Kl(n,s){if(n&1){let o=y();r(0,"div",43)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",50)(3,"br"),l(),r(4,"p",46),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function Jl(n,s){if(n&1){let o=y();r(0,"mat-row",51),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))})("mouseenter",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseEnter(i))})("mouseleave",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowMouseLeave(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}function Yl(n,s){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.icon==null?null:o.fieldsInfo.icon.fieldTitle," ")}}function Xl(n,s){if(n&1&&(r(0,"mat-cell"),I(1,"i",53),l()),n&2){let o=s.$implicit;a(),Kt("color",o.color),m("ngClass",o.icon)}}function Zl(n,s){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function $l(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function es(n,s){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ts(n,s){if(n&1&&I(0,"select",56),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,Ul,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function is(n,s){if(n&1&&(r(0,"mat-cell"),I(1,"i",54),S(2,"statusIconClass"),b(3,ts,1,5,"select",55),l()),n&2){let o=s.$implicit,t=u();a(),m("ngClass",M(2,2,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function ns(n,s){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle,"")}}function os(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.title," ")}}function as(n,s){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.Show_In_Access_Admin_Allow_To_Professional_Data"),""))}function rs(n,s){if(n&1&&(r(0,"mat-cell"),I(1,"i",54),S(2,"boolclass"),l()),n&2){let o=s.$implicit;a(),m("ngClass",M(2,1,o.showInAccessAdminAllowToProfessionalData))}}function ls(n,s){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.Menu_Place_Type")," "))}function ss(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"enums"),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",xt(2,1,o.menuPlaceType,t.dataModelEnumMenuPlaceTypeResult.listItems)," ")}}function ds(n,s){if(n&1&&(r(0,"mat-header-cell",52),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.showInMenuOrder==null?null:o.fieldsInfo.showInMenuOrder.fieldTitle," ")}}function cs(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.showInMenuOrder," ")}}function ps(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function ms(n,s){if(n&1&&(r(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function us(n,s){n&1&&(r(0,"mat-header-cell",52),c(1),S(2,"translate"),l()),n&2&&(a(),_("",M(2,1,"ACTION.ORDERING")," "))}function fs(n,s){n&1&&(r(0,"mat-cell")(1,"mat-icon",59),c(2,"reorder"),l()())}function gs(n,s){n&1&&I(0,"mat-header-row")}function hs(n,s){if(n&1){let o=y();r(0,"mat-row",60),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)),m("cdkDragData",o)}}function _s(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"translate"),I(3,"br"),c(4),S(5,"translate"),I(6,"br"),c(7),S(8,"translate"),l()),n&2){let o=s.$implicit;a(),Xt(" ",M(2,6,"TITLE.Id")," : ",o.id," "),a(3),Xt(" ",M(5,8,"TITLE.title")," : ",o.title," "),a(3),Xt(" ",M(8,10,"TITLE.DisplayInThePriorityMenu")," : ",o.ShowInMenuOrder," ")}}var Lo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te){super(t,new We,ce,p,W),this.contentService=t,this.cmsConfirmationDialogService=i,this.cmsToastrService=e,this.tokenHelper=p,this.coreEnumService=h,this.cdr=d,this.translate=W,this.pageInfo=V,this.publicHelper=ce,this.dialog=Te,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.tabledisplayedColumnsMobileSource=["Icon","RecordStatus","ShowInAccessAdminAllowToProfessionalData","MenuPlaceType","position"],this.dataModelEnumMenuPlaceTypeResult=new q,this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="ShowInMenuOrder",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumMenuPlaceType()}getEnumMenuPlaceType(){this.coreEnumService.ServiceMenuPlaceTypeEnum().subscribe({next:t=>{this.dataModelEnumMenuPlaceTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new We);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new U;e.propertyName="LinkParentId",e.value=this.categoryModelSelected.id,i.filters.push(e)}this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onTableDropRow(t){let i=this.tableSource.data.findIndex(p=>p===t.item.data),e=new Qn;e.id=this.tableSource.data[i].id,e.centerId=this.tableSource.data[t.currentIndex].id,i>t.currentIndex?e.actionGo=dn.GoUp:e.actionGo=dn.GoDown,this.contentService.ServiceEditStep(e).subscribe({next:p=>{p.isSuccess&&(bo(this.tableSource.data,i,t.currentIndex),this.tableSource.data=this.tableSource.data.slice())},error:p=>{this.cmsToastrService.typeError(p)}})}onActionSelectorSelect(t){var i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new $,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(on,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{parentId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(an,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(t==null||!t.id||t.id.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=t,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.filteModelContent.sortColumn="ShowInMenuOrder",this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(st),C(Xe),C(N),C(ye),C(Y),C(B),C(F),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-menu-list"]],features:[J],decls:66,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","","cdkDropList","",3,"matSortChange","cdkDropListDropped","dataSource","cdkDropListData"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Icon"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","ShowInAccessAdminAllowToProfessionalData"],["matColumnDef","MenuPlaceType"],["matColumnDef","ShowInMenuOrder"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","position"],[4,"matHeaderRowDef"],["cdkDrag","",3,"ntk-row-odd","ntk-row-even","ntk-row-selected","cdkDragData","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],["aria-hidden","true",3,"ngClass"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],["cdkDragHandle","",2,"pointer-events","all"],["cdkDrag","",3,"click","cdkDragData"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,4),r(2,"app-webdesigner-menu-tree",5),v("optionChange",function(d){return f(p),g(e.onActionSelectorSelect(d))}),l(),A(),De(3,6),x(4,7),r(5,"div",8)(6,"div",9)(7,"a",10)(8,"mat-slide-toggle",11),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",10)(12,"mat-slide-toggle",12),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",13)(16,"a",14),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(17,"i",15),l(),r(18,"a",14),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(19,"i",16),l()()(),A(),x(20,17),b(21,zl,7,3,"div",18),A(),x(22,19),b(23,Ql,7,3,"div",18)(24,Kl,7,3,"div",18),A(),x(25,20),r(26,"app-cms-search-list",21),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(27,"app-cms-statist-list",21),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(28,22),r(29,"mat-table",23,0),v("matSortChange",function(){f(p);let d=P(30);return g(e.onTableSortData(d))})("cdkDropListDropped",function(d){return f(p),g(e.onTableDropRow(d))}),b(31,Jl,1,6,"mat-row",24),x(32,25),b(33,Yl,2,1,"mat-header-cell",26)(34,Xl,2,3,"mat-cell",27),A(),x(35,28),b(36,Zl,2,1,"mat-header-cell",26)(37,$l,2,1,"mat-cell",27),A(),x(38,29),b(39,es,2,1,"mat-header-cell",26)(40,is,4,4,"mat-cell",27),A(),x(41,30),b(42,ns,2,1,"mat-header-cell",26)(43,os,2,1,"mat-cell",27),A(),x(44,31),b(45,as,3,3,"mat-header-cell",26)(46,rs,3,3,"mat-cell",27),A(),x(47,32),b(48,ls,3,3,"mat-header-cell",26)(49,ss,3,4,"mat-cell",27),A(),x(50,33),b(51,ds,2,1,"mat-header-cell",26)(52,cs,2,1,"mat-cell",27),A(),x(53,34),b(54,ps,3,3,"mat-header-cell",35)(55,ms,6,1,"mat-cell",36),A(),x(56,37),b(57,us,3,3,"mat-header-cell",26)(58,fs,3,0,"mat-cell",27),A(),b(59,gs,1,0,"mat-header-row",38)(60,hs,1,7,"mat-row",39),x(61,40),b(62,_s,9,12,"mat-cell",27),A(),l(),A(),x(63,41),r(64,"mat-paginator",42,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey","configuresite.webdesigner.menu"),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,25,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,27,"ACTION.STATIST")," "),a(8),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(2),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource)("cdkDropListData",e.tableSource),a(2),m("matRowDefColumns",ve(29,jl)),a(28),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(4),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,ql)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,vo,Io,Co,Wo,H,mo,Qe,fi],encapsulation:2});let n=s;return n})();var Ms=["vform"];function bs(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",22),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Cs(n,s){n&1&&I(0,"i",25)}function Is(n,s){n&1&&I(0,"i",26)}function vs(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ys(n,s){if(n&1){let o=y();r(0,"div",13)(1,"label",23),c(2),l(),r(3,"input",24,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Cs,1,0,"i",16)(6,Is,1,0,"i",17),r(7,"em"),c(8),l(),b(9,vs,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function ws(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Ts(n,s){if(n&1){let o=y();r(0,"div",13)(1,"label",27),c(2),l(),r(3,"input",28,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),r(5,"em"),c(6),l(),b(7,ws,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),a(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessAddField)),a(3),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Es(n,s){n&1&&I(0,"i",25)}function Ds(n,s){n&1&&I(0,"i",26)}function xs(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function As(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Ps(n,s){if(n&1){let o=y();r(0,"div",29)(1,"button",30),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",31),c(3),S(4,"translate"),l(),r(5,"button",32),I(6,"i",33),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var _n=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,d,W,V){super(p,new $e,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestLinkModuleId=0,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new $e,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),t&&(this.requestLinkModuleId=+t.linkModuleId),this.requestLinkModuleId>0&&(this.dataModel.linkModuleId=this.requestLinkModuleId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageDependencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(Rt),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-add"]],viewQuery:function(i,e){if(i&1&&ne(Ms,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:32,vars:27,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,bs,1,5,"app-cms-enum-record-status-selector",10)(11,ys,10,8,"div",11)(12,Ts,8,6,"div",11),r(13,"app-cms-module-selector",12),S(14,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectModule(d))}),l(),r(15,"div",13)(16,"label",14),c(17),l(),r(18,"input",15,1),D("ngModelChange",function(d){return f(p),E(e.dataModel.cmsModuleClassName,d)||(e.dataModel.cmsModuleClassName=d),g(d)}),l(),b(20,Es,1,0,"i",16)(21,Ds,1,0,"i",17),r(22,"em"),c(23),l(),b(24,xs,5,4,"mat-error",18),l(),r(25,"div",13)(26,"label",19),c(27),l(),r(28,"input",20,2),D("ngModelChange",function(d){return f(p),E(e.dataModel.classActionName,d)||(e.dataModel.classActionName=d),g(d)}),l(),b(30,As,5,4,"mat-error",18),l(),b(31,Ps,9,7,"div",21),l()()()}if(i&2){let p=P(19),h=P(29);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),a(),m("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(14,25,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessAddField)),a(4),w(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),a(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.cmsModuleClassName),m("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessAddField)),a(2),m("ngIf",!p.value),a(),m("ngIf",p.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",p.errors==null?null:p.errors.required),a(3),w(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),a(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.classActionName),m("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessAddField)),a(2),m("ngIf",h.errors==null?null:h.errors.required),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,he,_e,Se,z,me,Me,j,Ie,Xi,K,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var Rs=["*"];function Ws(n,s){if(n&1&&(r(0,"label",8),c(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),a(),w(o.optionLabel)}}function ks(n,s){if(n&1&&(r(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),a(2),w(t.displayOption(o))}}function Ls(n,s){if(n&1){let o=y();r(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),c(1,"close"),l()}}var Ii=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.cdr=i,this.publicHelper=e,this.translate=p,this.categoryService=h,this.id=++s.nextId,this.dataModelResult=new q,this.dataModelSelect=new et,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let p=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructor.name)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof et){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new et,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(Y),C(B),C(k),C(F),C(ct))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Rs,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,Ws,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(p),g(e.onActionSelect(d.option.value))}),b(6,ks,3,3,"mat-option",6),S(7,"async"),l(),b(8,Ls,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);a(),m("optionsInfoAreaId",e.constructor.name),a(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),a(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),a(),m("displayWith",e.displayFn),a(2),m("ngForOf",M(7,11,e.filteredOptions)),a(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,at,X,j,K,ot],encapsulation:2});let n=s;return n})();var Vs=["*"];function Gs(n,s){if(n&1&&(r(0,"label",8),c(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),a(),w(o.optionLabel)}}function Bs(n,s){if(n&1&&(r(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),a(2),w(t.displayOption(o))}}function Fs(n,s){if(n&1){let o=y();r(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),c(1,"close"),l()}}var vi=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=p,this.categoryService=h,this.id=++s.nextId,this.dataModelResult=new q,this.dataModelSelect=new Ze,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionMasterPage=!1,this.optionLabel="",this.optionPlaceholder="",this.optionChange=new Et,this.masterTemplateId="",this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionMasterTemplateId(t){this.masterTemplateId=t,this.loadOptions()}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.title:void 0}displayOption(t){return t?t.title:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new U,p=new U;t&&t.length>0&&(e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,p.filters.push(e)),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,p.filters.push(e)),i.filters.push(p),this.optionMasterPage&&(e=new U,e.propertyName="PageAbilityType",e.value=zn.Master,e.searchType=je.Equal,e.clauseType=He.And,i.filters.push(e)),this.masterTemplateId&&this.masterTemplateId.length>0&&(e=new U,e.propertyName="LinkPageTemplateGuId",e.value=this.masterTemplateId,e.searchType=je.Equal,e.clauseType=He.And,i.filters.push(e));let h=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(d=>(this.dataModelResult=d,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(h),d.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof Ze){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ze,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(Y),C(F),C(B),C(k),C(dt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-selector"]],inputs:{optionMasterTemplateId:"optionMasterTemplateId",optionSelectForce:"optionSelectForce",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionMasterPage:"optionMasterPage",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},ngContentSelectors:Vs,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,Gs,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(p),g(e.onActionSelect(d.option.value))}),b(6,Bs,3,3,"mat-option",6),S(7,"async"),l(),b(8,Fs,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);a(),m("optionsInfoAreaId",e.constructor.name),a(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),a(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),a(),m("displayWith",e.displayFn),a(2),m("ngForOf",M(7,11,e.filteredOptions)),a(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,at,X,j,K,ot],encapsulation:2});let n=s;return n})();var Os=["vform"];function Ns(n,s){if(n&1){let o=y();r(0,"app-webdesigner-page-selector",17),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,4,"TITLE.parent_page"))("optionDisabled",!1)}}function Hs(n,s){if(n&1){let o=y();r(0,"div",12)(1,"button",18),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",19),c(3),S(4,"translate"),l(),r(5,"button",20),I(6,"i",21),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Vo=(()=>{let s=class s{constructor(t,i,e,p,h,d,W,V){this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new Zn,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Automatically_add_all_pages")}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageService.ServiceAutoAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,!this.dataModel.linkPageTemplateGuId||this.dataModel.linkPageTemplateGuId.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Information_of_template_is_not_clear"));return}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(dt),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-autoaddpage"]],viewQuery:function(i,e){if(i&1&&ne(Os,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},decls:25,vars:16,consts:[["vform","ngForm"],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"ntk-cms-html-card-body"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],[1,"ntk-full-width"],["name","dataModel.pageDependencyIsDefaultPage",3,"ngModelChange","ngModel"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],[3,"optionChange","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionDisabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",1),I(1,"app-progress-spinner",2),r(2,"div",3)(3,"p",4),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",5,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),r(10,"div",6)(11,"app-webdesigner-pagetemplate-selector",7),S(12,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectModule(d))}),l(),b(13,Ns,2,6,"app-webdesigner-page-selector",8),r(14,"div",9)(15,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(p),E(e.dataModel.pageDependencyIsDefaultPage,d)||(e.dataModel.pageDependencyIsDefaultPage=d),g(d)}),c(16),l()()(),r(17,"div",11)(18,"div",12)(19,"small",13),c(20),l(),r(21,"small",14),c(22),l()()(),r(23,"div",15),b(24,Hs,9,7,"div",16),l()()()()}i&2&&(a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(5),m("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(12,14,"TITLE.Select_the_template"))("optionDisabled",!1),a(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),a(2),T("ngModel",e.dataModel.pageDependencyIsDefaultPage),a(),_(" ",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," "),a(4),_("",e.formInfo.formAlert," "),a(2),_("",e.formInfo.formError," "),a(2),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[G,ue,O,pe,z,me,ke,K,Ii,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var js=["vform"];function qs(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",24),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Us(n,s){n&1&&I(0,"i",27)}function zs(n,s){n&1&&I(0,"i",28)}function Qs(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Ks(n,s){if(n&1){let o=y();r(0,"div",12)(1,"label",25),c(2),l(),r(3,"input",26,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Us,1,0,"i",18)(6,zs,1,0,"i",19),r(7,"em"),c(8),l(),b(9,Qs,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Js(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Ys(n,s){if(n&1){let o=y();r(0,"div",12)(1,"label",29),c(2),l(),r(3,"input",30,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),r(5,"em"),c(6),l(),b(7,Js,5,4,"mat-error",20),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),a(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),a(3),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Xs(n,s){n&1&&I(0,"i",27)}function Zs(n,s){n&1&&I(0,"i",28)}function $s(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function ed(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function td(n,s){if(n&1){let o=y();r(0,"div",31)(1,"button",32),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",33),c(3),S(4,"translate"),l(),r(5,"button",34),I(6,"i",35),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var bn=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,d,W,V){super(p,new $e,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageDependencyService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestId="",this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new pi,this.dataModel=new $e,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageDependencyService.setAccessLoad(),this.webDesignerMainPageDependencyService.setAccessDataType(Pt.Editor),this.webDesignerMainPageDependencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageDependencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectModule(t){if(!t||t.id<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_module"),this.translate.instant("MESSAGE.Information_module_is_not_clear"));return}this.dataModel.linkModuleId=t.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(Rt),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-edit"]],viewQuery:function(i,e){if(i&1&&ne(js,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:37,vars:32,consts:[["vform","ngForm"],["CmsModuleClassName",""],["ClassActionName",""],["Title",""],["TitleResourceLanguage",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.titleML",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleML","id","dataModel.titleML",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],["for","dataModel.cmsModuleClassName",1,"color-highlight"],["matInput","","type","text","name","dataModel.cmsModuleClassName","type","text","minlength","3","maxlength","100","required","","id","dataModel.cmsModuleClassName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.classActionName",1,"color-highlight"],["matInput","","type","text","name","dataModel.classActionName","type","text","id","dataModel.classActionName",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,qs,1,5,"app-cms-enum-record-status-selector",10)(11,Ks,10,8,"div",11),r(12,"div",12)(13,"label",13),c(14),S(15,"translate"),l(),r(16,"input",14),D("ngModelChange",function(d){return f(p),E(e.dataModel.titleML,d)||(e.dataModel.titleML=d),g(d)}),l()(),b(17,Ys,8,6,"div",11),r(18,"app-cms-module-selector",15),S(19,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectModule(d))}),l(),r(20,"div",12)(21,"label",16),c(22),l(),r(23,"input",17,1),D("ngModelChange",function(d){return f(p),E(e.dataModel.cmsModuleClassName,d)||(e.dataModel.cmsModuleClassName=d),g(d)}),l(),b(25,Xs,1,0,"i",18)(26,Zs,1,0,"i",19),r(27,"em"),c(28),l(),b(29,$s,5,4,"mat-error",20),l(),r(30,"div",12)(31,"label",21),c(32),l(),r(33,"input",22,2),D("ngModelChange",function(d){return f(p),E(e.dataModel.classActionName,d)||(e.dataModel.classActionName=d),g(d)}),l(),b(35,ed,5,4,"mat-error",20),l(),b(36,td,9,7,"div",23),l()()()}if(i&2){let p=P(24),h=P(34);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,26,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(3),_(" ",M(15,28,"TITLE.TitleML"),""),a(2),T("ngModel",e.dataModel.titleML),m("disabled",!0),a(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),a(),m("optionSelectForce",e.dataModel.linkModuleId)("optionPlaceholder",M(19,30,"TITLE.MODULE"))("optionDisabled",!(e.fieldsInfo.linkModuleId!=null&&e.fieldsInfo.linkModuleId.accessEditField)),a(4),w(e.fieldsInfo.cmsModuleClassName==null?null:e.fieldsInfo.cmsModuleClassName.fieldTitle),a(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.cmsModuleClassName),m("disabled",!(e.fieldsInfo.cmsModuleClassName!=null&&e.fieldsInfo.cmsModuleClassName.accessEditField)),a(2),m("ngIf",!p.value),a(),m("ngIf",p.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",p.errors==null?null:p.errors.required),a(3),w(e.fieldsInfo.classActionName==null?null:e.fieldsInfo.classActionName.fieldTitle),a(),R("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),T("ngModel",e.dataModel.classActionName),m("disabled",!(e.fieldsInfo.classActionName!=null&&e.fieldsInfo.classActionName.accessEditField)),a(2),m("ngIf",h.errors==null?null:h.errors.required),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,he,_e,Se,z,me,Me,j,Ie,Xi,K,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var id=()=>[5,10,20,100],nd=n=>({display:n});function od(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",48)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function ad(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoDependency())}),r(2,"i",48),c(3,"Dependency"),l(),I(4,"br"),l(),r(5,"p",23),c(6),S(7,"translate"),l()()}n&2&&(a(6),_("",M(7,1,"ACTION.AUTOADD"),"Dependency"))}function rd(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRowAutoPage())}),r(2,"i",48),c(3,"Page"),l(),I(4,"br"),l(),r(5,"p",23),c(6),S(7,"translate"),l()()}n&2&&(a(6),_("",M(7,1,"ACTION.AUTOADD"),"Page"))}function ld(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",50),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",51)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function sd(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",52),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",53)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function dd(n,s){n&1&&(r(0,"mat-header-cell",54),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function cd(n,s){if(n&1&&(I(0,"img",56),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),Ee)}}function pd(n,s){if(n&1&&(r(0,"mat-cell"),b(1,cd,2,3,"img",55),l()),n&2){let o=s.$implicit;a(),m("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function md(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ud(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function fd(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function gd(n,s){if(n&1&&I(0,"select",59),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,nd,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function hd(n,s){if(n&1&&(r(0,"mat-cell",57),S(1,"statusCellClass"),I(2,"i",57),S(3,"statusIconClass"),b(4,gd,1,5,"select",58),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),a(2),m("ngClass",M(3,5,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function _d(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Sd(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.title," ")}}function Md(n,s){n&1&&(r(0,"mat-header-cell",54),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.TitleML")," "))}function bd(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.titleML," ")}}function Cd(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkModuleId==null?null:o.fieldsInfo.linkModuleId.fieldTitle," ")}}function Id(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",xt(2,1,o.linkModuleId,t.dataModelCoreModuleResult.listItems)," ")}}function vd(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.cmsModuleClassName==null?null:o.fieldsInfo.cmsModuleClassName.fieldTitle," ")}}function yd(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.cmsModuleClassName," ")}}function wd(n,s){if(n&1&&(r(0,"mat-header-cell",54),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function Td(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.classActionName," ")}}function Ed(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Dd(n,s){if(n&1&&(r(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function xd(n,s){n&1&&I(0,"mat-header-row")}function Ad(n,s){if(n&1){let o=y();r(0,"mat-row",62),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Bo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te,Tt,Bt,ln){super(t,new $e,Bt,W,Te),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.coreModuleService=p,this.activatedRoute=h,this.router=d,this.tokenHelper=W,this.http=V,this.cdr=ce,this.translate=Te,this.pageInfo=Tt,this.publicHelper=Bt,this.dialog=ln,this.requestLinkModuleId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelCoreModuleResult=new q,this.categoryModelSelected=new Jn,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","TitleML","LinkModuleId","CmsModuleClassName","ClassActionName"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkModuleId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkModuleId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="LinkModuleId",this.filteModelContent.sortType=Q.Ascending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList()}getModuleList(){let t=new $;t.rowPerPage=100,this.coreModuleService.ServiceGetAllModuleName(t).subscribe({next:i=>{this.dataModelCoreModuleResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,["Id","RecordStatus","Title","CmsModuleClassName","ClassActionName"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $e);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=new U,e=JSON.parse(JSON.stringify(this.filteModelContent));this.categoryModelSelected&&this.categoryModelSelected.id>0&&(i.propertyName="LinkModuleId",i.value=this.categoryModelSelected.id,e.filters.push(i)),this.contentService.ServiceGetAllEditor(e).subscribe({next:p=>{p.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(p.access),this.dataModelResult=p,this.tableSource.data=p.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(p.access)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):(Q,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),Q,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(_n,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoPage(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkModuleId:this.categoryModelSelected.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonNewRowAutoDependency(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=new U;this.contentService.ServiceAutoAdd().subscribe({next:e=>{e.isSuccess&&this.cmsToastrService.typeSuccessAdd(),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.tokenInfo.userAccessAdminAllowToAllData?this.router.navigate(["/webdesigner/page/list-grid/LinkPageDependencyGuId",this.tableRowSelected.id]):this.router.navigate(["/webdesigner/page/LinkPageDependencyGuId",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}let i=this.tokenInfo.currentSiteDomainUrl+"/"+t.cmsModuleClassName+"/"+t.classActionName;window.open(i,"_blank")}onActionSelectorSelect(t){let i=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new $,this.filteModelContent.sortColumn=i,this.filteModelContent.sortType=e,this.categoryModelSelected=t,this.DataGetAll()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(Rt),C(N),C(Xe),C(ji),C(rt),C(Oe),C(ye),C(En),C(B),C(F),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-list"]],features:[J],decls:79,vars:36,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["matColumnDef","LinkModuleId"],["matColumnDef","CmsModuleClassName"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["type","button","target","_blank","id","openModalButton","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,4),r(2,"app-core-module-tree",5),v("optionChange",function(d){return f(p),g(e.onActionSelectorSelect(d))}),l(),A(),De(3,6),x(4,7),r(5,"div",8)(6,"div",9)(7,"a",10)(8,"mat-slide-toggle",11),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",10)(12,"mat-slide-toggle",12),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",13)(16,"a",14),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(17,"i",15),l(),r(18,"a",14),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(19,"i",16),l()()(),A(),x(20,17),b(21,od,7,3,"div",18)(22,ad,8,3,"div",18)(23,rd,8,3,"div",18),A(),x(24,19),b(25,ld,7,3,"div",18)(26,sd,7,3,"div",18),r(27,"div",20)(28,"a",21),v("click",function(){return f(p),g(e.onActionButtonPageList(e.tableRowSelected))}),I(29,"i",22)(30,"br"),l(),r(31,"p",23),c(32),S(33,"translate"),l()(),r(34,"div",20)(35,"a",21),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),I(36,"i",24)(37,"br"),l(),r(38,"p",23),c(39),S(40,"translate"),l()(),A(),x(41,25),r(42,"app-cms-search-list",26),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(43,"app-cms-statist-list",26),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(44,27),r(45,"mat-table",28,0),v("matSortChange",function(){f(p);let d=P(46);return g(e.onTableSortData(d))}),x(47,29),b(48,dd,3,3,"mat-header-cell",30)(49,pd,2,1,"mat-cell",31),A(),x(50,32),b(51,md,2,1,"mat-header-cell",30)(52,ud,2,1,"mat-cell",31),A(),x(53,33),b(54,fd,2,1,"mat-header-cell",30)(55,hd,5,7,"mat-cell",34),A(),x(56,35),b(57,_d,2,1,"mat-header-cell",30)(58,Sd,2,1,"mat-cell",31),A(),x(59,36),b(60,Md,3,3,"mat-header-cell",30)(61,bd,2,1,"mat-cell",31),A(),x(62,37),b(63,Cd,2,1,"mat-header-cell",30)(64,Id,3,4,"mat-cell",31),A(),x(65,38),b(66,vd,2,1,"mat-header-cell",30)(67,yd,2,1,"mat-cell",31),A(),x(68,39),b(69,wd,2,1,"mat-header-cell",30)(70,Td,2,1,"mat-cell",31),A(),x(71,40),b(72,Ed,3,3,"mat-header-cell",41)(73,Dd,6,1,"mat-cell",42),A(),b(74,xd,1,0,"mat-header-row",43)(75,Ad,1,6,"mat-row",44),l(),A(),x(76,45),r(77,"mat-paginator",46,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey","configuresite.webdesigner.pagedependency"),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",e.requestLinkModuleId===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,27,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,29,"ACTION.STATIST")," "),a(8),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),w(M(33,31,"ACTION.PAGES")),a(7),w(M(40,33,"ACTION.SHOW_WEB")),a(3),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource),a(29),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(35,id)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,wo,H,gi,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var Pd=["vform"];function Rd(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",21),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wd(n,s){n&1&&I(0,"i",24)}function kd(n,s){n&1&&I(0,"i",25)}function Ld(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Vd(n,s){if(n&1){let o=y();r(0,"div",12)(1,"label",22),c(2),l(),r(3,"input",23,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Wd,1,0,"i",15)(6,kd,1,0,"i",16),r(7,"em"),c(8),l(),b(9,Ld,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Gd(n,s){n&1&&I(0,"i",24)}function Bd(n,s){n&1&&I(0,"i",25)}function Fd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Od(n,s){n&1&&I(0,"i",24)}function Nd(n,s){n&1&&I(0,"i",25)}function Hd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function jd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function qd(n,s){if(n&1){let o=y();r(0,"div",12)(1,"label",26),c(2),l(),r(3,"textarea",27,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,jd,5,4,"mat-error",17),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Ud(n,s){if(n&1){let o=y();r(0,"div",28)(1,"button",29),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",30),c(3),S(4,"translate"),l(),r(5,"button",31),I(6,"i",32),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var Cn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,d,W,V){super(p,new et,d,V),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new et,this.formInfo=new re,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageTemplateService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(ct),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-add"]],viewQuery:function(i,e){if(i&1&&ne(Pd,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:35,vars:26,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",5),I(1,"app-progress-spinner",6),r(2,"div",7)(3,"p",8),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",9,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,Rd,1,5,"app-cms-enum-record-status-selector",10)(11,Vd,10,8,"div",11),r(12,"div",12)(13,"label",13),c(14),l(),r(15,"input",14,1),S(17,"translate"),D("ngModelChange",function(d){return f(p),E(e.dataModel.folder,d)||(e.dataModel.folder=d),g(d)}),l(),b(18,Gd,1,0,"i",15)(19,Bd,1,0,"i",16),r(20,"em"),c(21),l(),b(22,Fd,5,4,"mat-error",17),l(),r(23,"div",12)(24,"label",18),c(25),l(),r(26,"input",19,2),D("ngModelChange",function(d){return f(p),E(e.dataModel.indexFile,d)||(e.dataModel.indexFile=d),g(d)}),l(),b(28,Od,1,0,"i",15)(29,Nd,1,0,"i",16),r(30,"em"),c(31),l(),b(32,Hd,5,4,"mat-error",17),l(),b(33,qd,9,5,"div",11)(34,Ud,9,7,"div",20),l()()()}if(i&2){let p=P(16),h=P(27);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,22,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(3),w(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),a(),R("placeholder",M(17,24,"TITLE.branch_path")),T("ngModel",e.dataModel.folder),m("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessAddField)),a(3),m("ngIf",!p.value),a(),m("ngIf",p.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",p.errors==null?null:p.errors.required),a(3),w(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),a(),T("ngModel",e.dataModel.indexFile),m("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessAddField)),a(2),m("ngIf",!h.value),a(),m("ngIf",h.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",h.errors==null?null:h.errors.required),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,O,pe,he,_e,Se,z,me,Me,j,Ie,K,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var zd=["vform"];function Qd(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",24),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kd(n,s){n&1&&I(0,"i",27)}function Jd(n,s){n&1&&I(0,"i",28)}function Yd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Xd(n,s){if(n&1){let o=y();r(0,"div",13)(1,"label",25),c(2),l(),r(3,"input",26,3),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Kd,1,0,"i",16)(6,Jd,1,0,"i",17),r(7,"em"),c(8),l(),b(9,Yd,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Zd(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.titleResourceLanguage==null?null:o.fieldsInfo.titleResourceLanguage.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function $d(n,s){if(n&1){let o=y();r(0,"div",13)(1,"label",29),c(2),l(),r(3,"input",30,4),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.titleResourceLanguage,i)||(e.dataModel.titleResourceLanguage=i),g(i)}),l(),r(5,"em"),c(6),l(),b(7,Zd,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),a(),R("placeholder",t.fieldsInfo.titleResourceLanguage==null?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),T("ngModel",t.dataModel.titleResourceLanguage),m("disabled",!(t.fieldsInfo.titleResourceLanguage!=null&&t.fieldsInfo.titleResourceLanguage.accessEditField)),a(3),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function ec(n,s){n&1&&I(0,"i",27)}function tc(n,s){n&1&&I(0,"i",28)}function ic(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function nc(n,s){n&1&&I(0,"i",27)}function oc(n,s){n&1&&I(0,"i",28)}function ac(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u();a(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function rc(n,s){if(n&1){let o=y();r(0,"div",31)(1,"div",32)(2,"h5",33),c(3),l()(),r(4,"div",34)(5,"div",35)(6,"input",36),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.isPublish,i)||(e.dataModel.isPublish=i),g(i)}),l(),I(7,"label",37),l()()()}if(n&2){let o=u();a(3),_(" ",o.fieldsInfo.isPublish==null?null:o.fieldsInfo.isPublish.fieldTitle,""),a(3),T("ngModel",o.dataModel.isPublish)}}function lc(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function sc(n,s){if(n&1){let o=y();r(0,"div",13)(1,"label",38),c(2),l(),r(3,"textarea",39,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,lc,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function dc(n,s){if(n&1){let o=y();r(0,"div",40)(1,"button",41),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",42),c(3),S(4,"translate"),l(),r(5,"button",43),I(6,"i",44),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var In=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,d,W,V,ce){super(p,new et,W,ce),this.data=t,this.dialogRef=i,this.coreEnumService=e,this.webDesignerMainPageTemplateService=p,this.webDesignerMainPageTemplateSiteCategoryService=h,this.cmsToastrService=d,this.publicHelper=W,this.cdr=V,this.translate=ce,this.requestId="",this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModel=new et,this.formInfo=new re,this.fileManagerOpenForm=!1,this.dataCoreSiteCategoryIds=[],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetAllSourceSiteCategory()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageTemplateService.setAccessLoad(),this.webDesignerMainPageTemplateService.setAccessDataType(Pt.Editor),this.webDesignerMainPageTemplateService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageTemplateService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataGetAllSourceSiteCategory(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(p=>{this.formInfo.formAlert=p}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(t,p,this.constructor.name)});let i=new $,e=new U;e.propertyName="LinkPageTemplateId",e.value=this.requestId,i.filters.push(e),this.webDesignerMainPageTemplateSiteCategoryService.ServiceGetAll(i).subscribe({next:p=>{this.dataWebDesignerMainPageTemplateSiteCategoryModel=p.listItems;let h=[];this.dataWebDesignerMainPageTemplateSiteCategoryModel.forEach(d=>{h.push(d.linkSiteCagegoryId)}),this.dataCoreSiteCategoryIds=h,p.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.formAlert=d}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(t)},error:p=>{this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(t)}})}onActionSelectorUserCategorySelect(t){this.dataCoreSiteCategoryModel=t}onActionSelectorUserCategorySelectAdded(t){let i=new cn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructor.name)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceAdd(i).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(e)},error:p=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e)}})}onActionSelectorUserCategorySelectRemoved(t){let i=new cn;i.linkSiteCagegoryId=t.id,i.linkPageTemplateId=this.dataModel.id;let e=this.constructor.name+"webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity";this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(e,p,this.constructor.name)}),this.webDesignerMainPageTemplateSiteCategoryService.ServiceDeleteEntity(i).subscribe({next:p=>{p.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(h=>{this.formInfo.formAlert=h}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(h=>{this.formInfo.formAlert=h}),this.formInfo.formError=p.errorMessage,this.cmsToastrService.typeErrorMessage(p.errorMessage)),this.publicHelper.processService.processStop(e)},error:p=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(p),this.publicHelper.processService.processStop(e)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(Y),C(ct),C(Ui),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-edit"]],viewQuery:function(i,e){if(i&1&&ne(zd,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:41,vars:33,consts:[["vform","ngForm"],["Folder",""],["IndexFile",""],["Title",""],["TitleResourceLanguage",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.folder",1,"color-highlight"],["matInput","","type","text","name","dataModel.folder","minlength","3","maxlength","100","required","","id","dataModel.folder",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["for","dataModel.indexFile",1,"color-highlight"],["matInput","","type","text","name","dataModel.indexFile","placeholder","index.html","minlength","3","maxlength","100","required","","id","dataModel.indexFile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","d-flex mb-3",4,"ngIf"],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","required","","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublish",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublish","name","dataModel.isPublish",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublish",1,"custom-control-label"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",6),I(1,"app-progress-spinner",7),r(2,"div",8)(3,"p",9),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",10,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,Qd,1,5,"app-cms-enum-record-status-selector",11)(11,Xd,10,8,"div",12)(12,$d,8,6,"div",12),r(13,"div",13)(14,"label",14),c(15),l(),r(16,"input",15,1),S(18,"translate"),D("ngModelChange",function(d){return f(p),E(e.dataModel.folder,d)||(e.dataModel.folder=d),g(d)}),l(),b(19,ec,1,0,"i",16)(20,tc,1,0,"i",17),r(21,"em"),c(22),l(),b(23,ic,5,4,"mat-error",18),l(),r(24,"div",13)(25,"label",19),c(26),l(),r(27,"input",20,2),D("ngModelChange",function(d){return f(p),E(e.dataModel.indexFile,d)||(e.dataModel.indexFile=d),g(d)}),l(),b(29,nc,1,0,"i",16)(30,oc,1,0,"i",17),r(31,"em"),c(32),l(),b(33,ac,5,4,"mat-error",18),l(),b(34,rc,8,2,"div",21)(35,sc,9,5,"div",12),c(36),S(37,"translate"),I(38,"br"),r(39,"app-cms-sitecategory-selectionlist",22),v("optionChange",function(d){return f(p),g(e.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return f(p),g(e.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return f(p),g(e.onActionSelectorUserCategorySelectRemoved(d))}),l(),b(40,dc,9,7,"div",23),l()()()}if(i&2){let p=P(17),h=P(28);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,27,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("ngIf",e.fieldsInfo.titleResourceLanguage==null?null:e.fieldsInfo.titleResourceLanguage.accessWatchField),a(3),w(e.fieldsInfo.folder==null?null:e.fieldsInfo.folder.fieldTitle),a(),R("placeholder",M(18,29,"TITLE.branch_path")),T("ngModel",e.dataModel.folder),m("disabled",!(e.fieldsInfo.folder!=null&&e.fieldsInfo.folder.accessEditField)),a(3),m("ngIf",!p.value),a(),m("ngIf",p.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",p.errors==null?null:p.errors.required),a(3),w(e.fieldsInfo.indexFile==null?null:e.fieldsInfo.indexFile.fieldTitle),a(),T("ngModel",e.dataModel.indexFile),m("disabled",!(e.fieldsInfo.indexFile!=null&&e.fieldsInfo.indexFile.accessEditField)),a(2),m("ngIf",!h.value),a(),m("ngIf",h.value),a(2),_("",p.value.length," / 100"),a(),m("ngIf",h.errors==null?null:h.errors.required),a(),m("ngIf",e.fieldsInfo.isPublish==null?null:e.fieldsInfo.isPublish.accessWatchField),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),_(" ",M(37,31,"TITLE.It_should_be_used_on_sites_with_the_following_categories")," "),a(3),m("optionSelectForce",e.dataCoreSiteCategoryIds)("optionDisabled",!1),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[G,ue,te,At,O,pe,he,_e,Se,z,me,Me,j,Ie,go,K,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var cc=()=>[5,10,20,100],pc=n=>({display:n});function mc(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",43),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",44)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function uc(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",45),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",46)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function fc(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",47),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",48)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function gc(n,s){n&1&&(r(0,"mat-header-cell",49),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function hc(n,s){if(n&1&&(I(0,"img",51),S(1,"cmsthumbnail")),n&2){let o=u().$implicit;R("src",M(1,1,o.linkModuleFileLogoIdSrc),Ee)}}function _c(n,s){if(n&1&&(r(0,"mat-cell"),b(1,hc,2,3,"img",50),l()),n&2){let o=s.$implicit;a(),m("ngIf",(o==null||o.linkModuleFileLogoIdSrc==null?null:o.linkModuleFileLogoIdSrc.length)>0)}}function Sc(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Mc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function bc(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Cc(n,s){if(n&1&&I(0,"select",54),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,pc,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function Ic(n,s){if(n&1&&(r(0,"mat-cell",52),S(1,"statusCellClass"),I(2,"i",52),S(3,"statusIconClass"),b(4,Cc,1,5,"select",53),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),a(2),m("ngClass",M(3,5,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function vc(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function yc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.title," ")}}function wc(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.folder==null?null:o.fieldsInfo.folder.fieldTitle," ")}}function Tc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.folder," ")}}function Ec(n,s){if(n&1&&(r(0,"mat-header-cell",49),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.indexFile==null?null:o.fieldsInfo.indexFile.fieldTitle," ")}}function Dc(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.indexFile," ")}}function xc(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Ac(n,s){if(n&1&&(r(0,"mat-cell",55)(1,"button",56)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function Pc(n,s){n&1&&I(0,"mat-header-row")}function Rc(n,s){if(n&1){let o=y();r(0,"mat-row",57),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var Fo=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te){super(t,new et,ce,p,W),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.tokenHelper=p,this.router=h,this.cdr=d,this.translate=W,this.pageInfo=V,this.publicHelper=ce,this.dialog=Te,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelCoreModuleResult=new q,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","Folder","IndexFile"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Folder","IndexFile"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Tt=>this.onSubmitOptionsSearch(Tt)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Q.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new et);let t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Cn,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(In,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"contentService.ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonPageList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/webdesigner/page/LinkPageTemplateGuId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}};s.\u0275fac=function(i){return new(i||s)(C(ct),C(N),C(Xe),C(ye),C(Oe),C(B),C(F),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagetemplate-list"]],features:[J],decls:64,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkModuleFileLogoIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Folder"],["matColumnDef","IndexFile"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,4),c(2," -------------------------------------- "),A(),De(3,5),x(4,6),r(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",9)(12,"mat-slide-toggle",11),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",12)(16,"a",13),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(17,"i",14),l(),r(18,"a",13),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(19,"i",15),l()()(),A(),x(20,16),b(21,mc,7,3,"div",17),A(),x(22,18),b(23,uc,7,3,"div",17)(24,fc,7,3,"div",17),r(25,"div",19)(26,"a",20),v("click",function(){return f(p),g(e.onActionButtonPageList(e.tableRowSelected))}),I(27,"i",21)(28,"br"),l(),r(29,"p",22),c(30),S(31,"translate"),l()(),A(),x(32,23),r(33,"app-cms-search-list",24),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(34,"app-cms-statist-list",24),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(35,25),r(36,"mat-table",26,0),v("matSortChange",function(){f(p);let d=P(37);return g(e.onTableSortData(d))}),x(38,27),b(39,gc,3,3,"mat-header-cell",28)(40,_c,2,1,"mat-cell",29),A(),x(41,30),b(42,Sc,2,1,"mat-header-cell",28)(43,Mc,2,1,"mat-cell",29),A(),x(44,31),b(45,bc,2,1,"mat-header-cell",28)(46,Ic,5,7,"mat-cell",32),A(),x(47,33),b(48,vc,2,1,"mat-header-cell",28)(49,yc,2,1,"mat-cell",29),A(),x(50,34),b(51,wc,2,1,"mat-header-cell",28)(52,Tc,2,1,"mat-cell",29),A(),x(53,35),b(54,Ec,2,1,"mat-header-cell",28)(55,Dc,2,1,"mat-cell",29),A(),x(56,36),b(57,xc,3,3,"mat-header-cell",37)(58,Ac,6,1,"mat-cell",38),A(),b(59,Pc,1,0,"mat-header-row",39)(60,Rc,1,6,"mat-row",40),l(),A(),x(61,41),r(62,"mat-paginator",42,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,24,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,26,"ACTION.STATIST")," "),a(8),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),w(M(31,28,"ACTION.PAGES")),a(3),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource),a(23),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(30,cc)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,H,Wt,Qe,kt],encapsulation:2});let n=s;return n})();var Wc=["*"];function kc(n,s){if(n&1&&(r(0,"label",8),c(1),l()),n&2){let o=u();Be("for","app-cms-site-selector-",o.id,""),a(),w(o.optionLabel)}}function Lc(n,s){if(n&1&&(r(0,"mat-option",9)(1,"span"),c(2),l()()),n&2){let o=s.$implicit,t=u();m("value",o)("disabled",t.optionDisabled),a(2),w(t.displayOption(o))}}function Vc(n,s){if(n&1){let o=y();r(0,"mat-icon",10),v("click",function(){f(o);let i=u();return g(i.onActionSelectClear())}),c(1,"close"),l()}}var rn=(()=>{let s=class s{constructor(t,i,e,p,h){this.coreEnumService=t,this.translate=i,this.cdr=e,this.publicHelper=p,this.categoryService=h,this.id=++s.nextId,this.dataModelResult=new q,this.dataModelSelect=new $e,this.formControl=new $t,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new Et,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(t){this.onActionSelectForce(t)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(zt(""),qt(1500),Ut(),Qt(t=>typeof t=="string"||typeof t=="number"?this.DataGetAll(t||""):[]))}displayFn(t){return t?t.titleML:void 0}displayOption(t){return t?t.titleML:void 0}DataGetAll(t){return Ft(this,null,function*(){let i=new $;i.rowPerPage=20,i.accessLoad=!0;let e=new U;e.propertyName="Title",e.value=t,e.searchType=je.Contains,e.clauseType=He.Or,i.filters.push(e),t&&typeof+t=="number"&&+t>0&&(e=new U,e.propertyName="Id",e.value=t,e.searchType=je.Equal,e.clauseType=He.Or,i.filters.push(e));let p=this.constructor.name+"categoryService.ServiceGetAll";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(p,h,this.constructor.name)}),yield Ht(this.categoryService.ServiceGetAll(i)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(p),h.listItems))})}onActionSelect(t){this.optionDisabled||(this.dataModelSelect=t,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(t){return this.filteredOptions.pipe(jt(i=>(i.find(e=>e.id===t.id)||i.push(t),i)))}onActionSelectForce(t){if(typeof t=="string"&&t.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===t)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(i=>i.id===t)){let i=this.dataModelResult.listItems.find(e=>e.id===t);this.dataModelSelect=i,this.formControl.setValue(i);return}this.categoryService.ServiceGetOneById(t).subscribe({next:i=>{i.isSuccess&&(this.filteredOptions=this.push(i.item),this.dataModelSelect=i.item,this.formControl.setValue(i.item),this.optionChange.emit(i.item))}});return}if(typeof t==typeof $e){this.filteredOptions=this.push(t),this.dataModelSelect=t,this.formControl.setValue(t);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new $e,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(i){return new(i||s)(C(Y),C(F),C(B),C(k),C(Rt))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-pagedependency-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Wc,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(i,e){if(i&1){let p=y();Jt(),r(0,"div",1),I(1,"app-progress-spinner",2),b(2,kc,2,3,"label",3),I(3,"input",4),r(4,"mat-autocomplete",5,0),v("optionSelected",function(d){return f(p),g(e.onActionSelect(d.option.value))}),b(6,Lc,3,3,"mat-option",6),S(7,"async"),l(),b(8,Vc,2,0,"mat-icon",7),Yt(9),l()}if(i&2){let p=P(5);a(),m("optionsInfoAreaId",e.constructor.name),a(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),a(),R("placeholder",e.optionPlaceholder),Be("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",p),Dt("disabled",e.optionDisabled?!0:null),a(),m("displayWith",e.displayFn),a(2),m("ngForOf",M(7,11,e.filteredOptions)),a(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Fe,G,te,O,ti,ni,Zt,oi,at,X,j,K,ot],encapsulation:2});let n=s;return n})();var Oc=["vform"];function Nc(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",29),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Hc(n,s){n&1&&I(0,"i",35)}function jc(n,s){n&1&&I(0,"i",36)}function qc(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Uc(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",30),c(2),l(),r(3,"input",31,5),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,Hc,1,0,"i",32)(6,jc,1,0,"i",33),r(7,"em"),c(8),l(),b(9,qc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessAddField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function zc(n,s){if(n&1){let o=y();r(0,"app-webdesigner-page-selector",37),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessAddField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function Qc(n,s){if(n&1){let o=y();r(0,"div",38)(1,"div",39)(2,"h5",40),c(3),l()(),r(4,"div",41)(5,"div",42)(6,"input",43),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),I(7,"label",44),l()()()}if(n&2){let o=u();a(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),a(3),T("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function Kc(n,s){if(n&1){let o=y();r(0,"app-cms-sitecategory-selector",45),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();m("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessAddField))}}function Jc(n,s){if(n&1){let o=y();r(0,"mat-chip",46),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),c(1),r(2,"button",47)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;a(),_(" ",o," ")}}function Yc(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function Xc(n,s){if(n&1){let o=y();r(0,"div",23)(1,"label",48),c(2),l(),r(3,"textarea",49,6),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"                    "),l(),r(6,"em"),c(7),l(),b(8,Yc,5,4,"mat-error",34),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function Zc(n,s){if(n&1){let o=y();r(0,"div",50)(1,"button",51),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",52),c(3),S(4,"translate"),l(),r(5,"button",53),I(6,"i",54),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var vn=(()=>{let s=class s extends Lt{constructor(t,i,e,p,h,d,W,V){super(p,new Ze,d,V),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.publicHelper=d,this.cdr=W,this.translate=V,this.requestLinkPageDependencyGuId="",this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModelResult=new q,this.dataModel=new Ze,this.formInfo=new re,this.dataModelEnumPageAbilityTypeResult=new q,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestLinkPageDependencyGuId=t.linkPageDependencyGuId+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.requestLinkPageDependencyGuId.length>0&&(this.dataModel.linkPageDependencyGuId=this.requestLinkPageDependencyGuId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetAccess(),this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceAdd";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onActionSelectParent(t){this.dataModel.linkPageParentGuId="",t&&t.id&&t.id.length>0&&(this.dataModel.linkPageParentGuId=t.id)}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(mi),C(dt),C(N),C(k),C(B),C(F))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-add"]],viewQuery:function(i,e){if(i&1&&ne(Oc,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:45,vars:41,consts:[["vform","ngForm"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder","optionSelectFirstItem"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",7),I(1,"app-progress-spinner",8),r(2,"div",9)(3,"p",10),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",11,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,Nc,1,5,"app-cms-enum-record-status-selector",12)(11,Uc,10,8,"div",13),r(12,"app-webdesigner-pagedependency-selector",14),S(13,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectDependency(d))}),l(),r(14,"app-webdesigner-pagetemplate-selector",15),S(15,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectTemplate(d))}),l(),b(16,zc,2,7,"app-webdesigner-page-selector",16)(17,Qc,8,2,"div",17)(18,Kc,2,5,"app-cms-sitecategory-selector",18),r(19,"mat-form-field",19)(20,"mat-label"),c(21),S(22,"translate"),l(),r(23,"mat-chip-grid",20,1),b(25,Jc,5,1,"mat-chip",21),r(26,"input",22,2),S(28,"translate"),v("matChipInputTokenEnd",function(d){return f(p),g(e.addTag(d))}),l()()(),r(29,"div",23)(30,"label",24),c(31),l(),r(32,"input",25,3),D("ngModelChange",function(d){return f(p),E(e.dataModel.specialIdendity,d)||(e.dataModel.specialIdendity=d),g(d)}),l(),r(34,"em"),c(35),l()(),r(36,"div",23)(37,"label",26),c(38),l(),r(39,"input",27,4),D("ngModelChange",function(d){return f(p),E(e.dataModel.specialUrlParameter,d)||(e.dataModel.specialUrlParameter=d),g(d)}),l(),r(41,"em"),c(42),l()(),b(43,Xc,9,5,"div",13)(44,Zc,9,7,"div",28),l()()()}if(i&2){let p=P(24),h=P(33),d=P(40);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,31,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(13,33,"TITLE.Show_place")),a(2),m("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessAddField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(15,35,"TITLE.Page_template"))("optionSelectFirstItem",!0),a(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),a(),m("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),a(),m("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),a(3),w(M(22,37,"TITLE.Choose_keywords_relative_to_the_content")),a(4),m("ngForOf",e.keywordDataModel),a(),m("placeholder",M(28,39,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),a(5),w(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),a(),T("ngModel",e.dataModel.specialIdendity),m("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessAddField)),a(3),_("",h.value.length," / 500"),a(3),w(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),a(),T("ngModel",e.dataModel.specialUrlParameter),m("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessAddField)),a(3),_("",d.value.length," / 500"),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Fe,G,ue,te,At,O,pe,he,_e,Se,z,me,Gi,Bi,Fi,Vi,Li,ki,Me,X,j,Ie,Zi,K,Ii,rn,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var $c=["vform"];function ep(n,s){if(n&1){let o=y();r(0,"app-cms-enum-record-status-selector",33),D("modelChange",function(i){f(o);let e=u();return E(e.dataModel.recordStatus,i)||(e.dataModel.recordStatus=i),g(i)}),l()}if(n&2){let o=u();T("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function tp(n,s){if(n&1&&(r(0,"option",34),c(1),l()),n&2){let o=s.$implicit;m("ngValue",o.value),a(),_(" ",o.description," ")}}function ip(n,s){n&1&&(r(0,"mat-error"),c(1," PageAbilityType is "),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2&&(a(3),w(M(4,1,"MESSAGE.required")))}function np(n,s){n&1&&I(0,"i",39)}function op(n,s){n&1&&I(0,"i",40)}function ap(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function rp(n,s){if(n&1){let o=y();r(0,"div",14)(1,"label",35),c(2),l(),r(3,"input",36,6),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.title,i)||(e.dataModel.title=i),g(i)}),l(),b(5,np,1,0,"i",37)(6,op,1,0,"i",38),r(7,"em"),c(8),l(),b(9,ap,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),a(),R("placeholder",t.fieldsInfo.title==null?null:t.fieldsInfo.title.fieldTitle),T("ngModel",t.dataModel.title),m("disabled",!(t.fieldsInfo.title!=null&&t.fieldsInfo.title.accessEditField)),a(2),m("ngIf",!o.value),a(),m("ngIf",o.value),a(2),_("",o.value.length," / 100"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function lp(n,s){if(n&1){let o=y();r(0,"app-webdesigner-page-selector",41),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectParent(i))}),l()}if(n&2){let o=u();m("optionDisabled",!(o.fieldsInfo.linkPageParentGuId!=null&&o.fieldsInfo.linkPageParentGuId.accessEditField))("optionSelectForce",o.dataModel.linkPageParentGuId)("optionMasterPage",!0)("optionMasterTemplateId",o.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(1,5,"TITLE.parent_page"))}}function sp(n,s){if(n&1){let o=y();r(0,"div",42)(1,"div",43)(2,"h5",44),c(3),l()(),r(4,"div",45)(5,"div",46)(6,"input",47),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.pageDependencyIsDefaultPage,i)||(e.dataModel.pageDependencyIsDefaultPage=i),g(i)}),l(),I(7,"label",48),l()()()}if(n&2){let o=u();a(3),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle,""),a(3),T("ngModel",o.dataModel.pageDependencyIsDefaultPage)}}function dp(n,s){if(n&1){let o=y();r(0,"app-cms-sitecategory-selector",49),S(1,"translate"),v("optionChange",function(i){f(o);let e=u();return g(e.onActionSelectCategory(i))}),l()}if(n&2){let o=u();m("optionSelectForce",o.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId)("optionPlaceholder",M(1,3,"TITLE.Website_Type"))("optionDisabled",!(o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId!=null&&o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessEditField))}}function cp(n,s){if(n&1){let o=y();r(0,"mat-chip",50),v("removed",function(){let i=f(o).$implicit,e=u();return g(e.removeTag(i))}),c(1),r(2,"button",51)(3,"mat-icon"),c(4,"cancel"),l()()()}if(n&2){let o=s.$implicit;a(),_(" ",o," ")}}function pp(n,s){if(n&1&&(r(0,"mat-error"),c(1),r(2,"strong"),c(3),S(4,"translate"),l()()),n&2){let o=u(2);a(),_(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," is "),a(2),w(M(4,2,"MESSAGE.required"))}}function mp(n,s){if(n&1){let o=y();r(0,"div",14)(1,"label",52),c(2),l(),r(3,"textarea",53,7),D("ngModelChange",function(i){f(o);let e=u();return E(e.dataModel.description,i)||(e.dataModel.description=i),g(i)}),c(5,"                "),l(),r(6,"em"),c(7),l(),b(8,pp,5,4,"mat-error",18),l()}if(n&2){let o=P(4),t=u();a(2),w(t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),a(),R("placeholder",t.fieldsInfo.description==null?null:t.fieldsInfo.description.fieldTitle),T("ngModel",t.dataModel.description),a(4),_("",o.value.length," / 500"),a(),m("ngIf",o.errors==null?null:o.errors.required)}}function up(n,s){if(n&1){let o=y();r(0,"div",54)(1,"button",55),v("click",function(){f(o);let i=u();return g(i.onFormCancel())}),I(2,"i",56),c(3),S(4,"translate"),l(),r(5,"button",57),I(6,"i",58),c(7),S(8,"translate"),l()()}if(n&2){u();let o=P(9);a(3),_(" ",M(4,3,"ACTION.CANCEL")," "),a(2),m("disabled",!o.form.valid),a(2),_(" ",M(8,5,"ACTION.SAVE")," ")}}var yn=(()=>{let s=class s extends Vt{constructor(t,i,e,p,h,d,W,V){super(p,new Ze,V,d),this.data=t,this.dialogRef=i,this.webDesignerEnumService=e,this.webDesignerMainPageService=p,this.cmsToastrService=h,this.translate=d,this.cdr=W,this.publicHelper=V,this.requestId="",this.selectFileTypeMainImage=["jpg","jpeg","png"],this.keywordDataModel=[],this.appLanguage="fa",this.dataModel=new Ze,this.formInfo=new re,this.dataModelEnumPageAbilityTypeResult=new q,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+""),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.getEnumPageAbilityType()}getEnumPageAbilityType(){this.webDesignerEnumService.ServicePageAbilityTypeEnum().subscribe({next:t=>{this.dataModelEnumPageAbilityTypeResult=t}})}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"webDesignerMainPageService.ServiceGetOneById";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageService.setAccessLoad(),this.webDesignerMainPageService.setAccessDataType(Pt.Editor),this.webDesignerMainPageService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.keywordDataModel=[],this.dataModel.keyword&&this.dataModel.keyword.length>0&&(this.keywordDataModel=this.dataModel.keyword.split(",")),this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";let t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.webDesignerMainPageService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t)}})}onActionSelectParent(t){this.dataModel.linkPageParentGuId=t.id}onActionSelectDependency(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_display_location"),this.translate.instant("MESSAGE.information_screen_is_not_clear"));return}this.dataModel.linkPageDependencyGuId=t.id}onActionSelectTemplate(t){if(!t||t.id?.length<=0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Specify_the_template"),this.translate.instant("MESSAGE.Screen_template_is_not_clear"));return}this.dataModel.linkPageTemplateGuId=t.id}onFormSubmit(){if(this.formGroup.valid){if(this.formInfo.formSubmitAllow=!1,this.dataModel.keyword="",this.keywordDataModel&&this.keywordDataModel.length>0){let t=[];this.keywordDataModel.forEach(i=>{i.display?t.push(i.display):t.push(i)}),t&&t.length>0&&(this.dataModel.keyword=t.join(","))}this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(t){if(!t||t.id<=0){let i=this.translate.instant("MESSAGE.category_of_site_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.dataModel.pageDependencyIsDefaultPageLinkSiteCategoryId=t.id}addTag(t){let i=(t.value||"").trim();i&&this.keywordDataModel.push(i),t.chipInput.clear()}removeTag(t){let i=this.keywordDataModel.indexOf(t);i>=0&&this.keywordDataModel.splice(i,1)}};s.\u0275fac=function(i){return new(i||s)(C(Ce),C(be),C(mi),C(dt),C(N),C(F),C(B),C(k))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-edit"]],viewQuery:function(i,e){if(i&1&&ne($c,5),i&2){let p;oe(p=ae())&&(e.formGroup=p.first)}},features:[J],decls:53,vars:49,consts:[["vform","ngForm"],["PageAbilityType","ngModel"],["chipList",""],["tagInput",""],["SpecialIdendity",""],["SpecialUrlParameter",""],["Title",""],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.pageAbilityType","name","dataModel.pageAbilityType",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder","optionChange",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"optionSelectForce","optionPlaceholder","optionDisabled","optionChange",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.key_word'|translate"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],["for","dataModel.specialIdendity",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialIdendity","type","text","placeholder","32323","minlength","0","maxlength","500","id","dataModel.specialIdendity",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.specialUrlParameter",1,"color-highlight"],["matInput","","type","text","name","dataModel.specialUrlParameter","type","text","placeholder","esfahan","minlength","0","maxlength","500","id","dataModel.specialUrlParameter",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"ngValue"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[3,"optionChange","optionDisabled","optionSelectForce","optionMasterPage","optionMasterTemplateId","optionPlaceholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.pageDependencyIsDefaultPage",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.pageDependencyIsDefaultPage","name","dataModel.pageDependencyIsDefaultPage",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.pageDependencyIsDefaultPage",1,"custom-control-label"],[3,"optionChange","optionSelectForce","optionPlaceholder","optionDisabled"],[3,"removed"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,e){if(i&1){let p=y();r(0,"div",8),I(1,"app-progress-spinner",9),r(2,"div",10)(3,"p",11),c(4),l(),r(5,"p"),c(6),S(7,"translate"),l(),r(8,"form",12,0),v("ngSubmit",function(){return f(p),g(e.onFormSubmit())}),b(10,ep,1,5,"app-cms-enum-record-status-selector",13),r(11,"div",14)(12,"select",15,1),D("ngModelChange",function(d){return f(p),E(e.dataModel.pageAbilityType,d)||(e.dataModel.pageAbilityType=d),g(d)}),b(14,tp,2,2,"option",16),l(),r(15,"em",17),c(16),S(17,"translate"),l(),b(18,ip,5,3,"mat-error",18),l(),b(19,rp,10,8,"div",19),r(20,"app-webdesigner-pagedependency-selector",20),S(21,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectDependency(d))}),l(),r(22,"app-webdesigner-pagetemplate-selector",20),S(23,"translate"),v("optionChange",function(d){return f(p),g(e.onActionSelectTemplate(d))}),l(),b(24,lp,2,7,"app-webdesigner-page-selector",21)(25,sp,8,2,"div",22)(26,dp,2,5,"app-cms-sitecategory-selector",23),r(27,"mat-form-field",24)(28,"mat-label"),c(29),S(30,"translate"),l(),r(31,"mat-chip-grid",25,2),b(33,cp,5,1,"mat-chip",26),r(34,"input",27,3),S(36,"translate"),v("matChipInputTokenEnd",function(d){return f(p),g(e.addTag(d))}),l()()(),r(37,"div",14)(38,"label",28),c(39),l(),r(40,"input",29,4),D("ngModelChange",function(d){return f(p),E(e.dataModel.specialIdendity,d)||(e.dataModel.specialIdendity=d),g(d)}),l(),r(42,"em"),c(43),l()(),r(44,"div",14)(45,"label",30),c(46),l(),r(47,"input",31,5),D("ngModelChange",function(d){return f(p),E(e.dataModel.specialUrlParameter,d)||(e.dataModel.specialUrlParameter=d),g(d)}),l(),r(49,"em"),c(50),l()(),b(51,mp,9,5,"div",19)(52,up,9,7,"div",32),l()()()}if(i&2){let p=P(13),h=P(32),d=P(41),W=P(48);a(),m("optionsInfoAreaId",e.constructor.name),a(3),_(" ",e.formInfo.formTitle," "),a(2),_(" ",M(7,37,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(2),Be("ngClass","cms-RecordStatusEnum-selector-",e.dataModel.recordStatus,""),T("ngModel",e.dataModel.pageAbilityType),m("disabled",!0),a(2),m("ngForOf",e.dataModelEnumPageAbilityTypeResult.listItems),a(2),_("",M(17,39,"TITLE.Select_the_functionality_of_this_content")," "),a(2),m("ngIf",p.errors==null?null:p.errors.required),a(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),a(),m("optionDisabled",!(e.fieldsInfo.linkPageDependencyGuId!=null&&e.fieldsInfo.linkPageDependencyGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageDependencyGuId)("optionPlaceholder",M(21,41,"TITLE.Show_place")),a(2),m("optionDisabled",!(e.fieldsInfo.linkPageTemplateGuId!=null&&e.fieldsInfo.linkPageTemplateGuId.accessEditField))("optionSelectForce",e.dataModel.linkPageTemplateGuId)("optionPlaceholder",M(23,43,"TITLE.Page_template")),a(2),m("ngIf",e.dataModel.linkPageTemplateGuId&&e.dataModel.linkPageTemplateGuId.length>0),a(),m("ngIf",e.fieldsInfo.pageDependencyIsDefaultPage==null?null:e.fieldsInfo.pageDependencyIsDefaultPage.accessWatchField),a(),m("ngIf",e.dataModel.pageDependencyIsDefaultPage&&(e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:e.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.accessWatchField)),a(3),w(M(30,45,"TITLE.Choose_keywords_relative_to_the_content")),a(4),m("ngForOf",e.keywordDataModel),a(),m("placeholder",M(36,47,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),a(5),w(e.fieldsInfo.specialIdendity==null?null:e.fieldsInfo.specialIdendity.fieldTitle),a(),T("ngModel",e.dataModel.specialIdendity),m("disabled",!(e.fieldsInfo.specialIdendity!=null&&e.fieldsInfo.specialIdendity.accessEditField)),a(3),_("",d.value.length," / 500"),a(3),w(e.fieldsInfo.specialUrlParameter==null?null:e.fieldsInfo.specialUrlParameter.fieldTitle),a(),T("ngModel",e.dataModel.specialUrlParameter),m("disabled",!(e.fieldsInfo.specialUrlParameter!=null&&e.fieldsInfo.specialUrlParameter.accessEditField)),a(3),_("",W.value.length," / 500"),a(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),a(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[xe,Fe,G,ue,xn,An,te,At,Dn,O,pe,he,_e,Se,z,me,Gi,Bi,Fi,Vi,Li,ki,Me,X,j,Ie,Zi,K,Ii,rn,vi,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=s;return n})();var fp=()=>[5,10,20,100],gp=n=>({display:n});function hp(n,s){if(n&1){let o=y();r(0,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),I(1,"i",50),l()}}function _p(n,s){if(n&1){let o=y();r(0,"a",49),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),I(1,"i",50),l()}}function Sp(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",51),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",52)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function Mp(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",53),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",54)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function bp(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",55),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",56)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function Cp(n,s){if(n&1){let o=y();r(0,"div",20)(1,"a",21),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),I(2,"i",22)(3,"br"),l(),r(4,"p",23),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function Ip(n,s){n&1&&(r(0,"mat-header-cell",57),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.PICTURE")," "))}function vp(n,s){if(n&1&&I(0,"img",59),n&2){let o=u().$implicit;R("src",o.thumbnailImageSrc,Ee)}}function yp(n,s){if(n&1&&(r(0,"mat-cell"),b(1,vp,1,1,"img",58),l()),n&2){let o=s.$implicit;a(),m("ngIf",(o==null||o.ThumbnailImageSrc==null?null:o.ThumbnailImageSrc.length)>0)}}function wp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Tp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.id," ")}}function Ep(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Dp(n,s){if(n&1&&I(0,"select",62),n&2){let o=u().$implicit,t=u();m("contentService",t.contentService)("row",o)("ngStyle",it(3,gp,o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)?"":"none"))}}function xp(n,s){if(n&1&&(r(0,"mat-cell",60),S(1,"statusCellClass"),I(2,"i",60),S(3,"statusIconClass"),b(4,Dp,1,5,"select",61),l()),n&2){let o=s.$implicit,t=u();m("ngClass",M(1,3,o.recordStatus)),a(2),m("ngClass",M(3,5,o.recordStatus)),a(2),m("ngIf",t.dataModelResult==null||t.dataModelResult.access==null?null:t.dataModelResult.access.accessEditRow)}}function Ap(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function Pp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.title," ")}}function Rp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkPageParentGuId==null?null:o.fieldsInfo.linkPageParentGuId.fieldTitle," ")}}function Wp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkPageParentGuId," ")}}function kp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkPageDependencyGuId==null?null:o.fieldsInfo.linkPageDependencyGuId.fieldTitle," ")}}function Lp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.linkPageDependencyGuId," ")}}function Vp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.linkPageTemplateGuId==null?null:o.fieldsInfo.linkPageTemplateGuId.fieldTitle," ")}}function Gp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",xt(2,1,o.linkPageTemplateGuId,t.dataModelWebDesignerMainPageTemplateResult.listItems)," ")}}function Bp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId==null?null:o.fieldsInfo.pageDependencyIsDefaultPageLinkSiteCategoryId.fieldTitle," ")}}function Fp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),S(2,"cmstitle"),l()),n&2){let o=s.$implicit,t=u();a(),_(" ",xt(2,1,o.pageDependencyIsDefaultPageLinkSiteCategoryId,t.dataModelCoreSiteCategoryResult.listItems)," ")}}function Op(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.pageDependencyIsDefaultPage==null?null:o.fieldsInfo.pageDependencyIsDefaultPage.fieldTitle," ")}}function Np(n,s){if(n&1&&(r(0,"mat-cell"),I(1,"i",60),S(2,"boolclass"),l()),n&2){let o=s.$implicit;a(),m("ngClass",M(2,1,o.pageDependencyIsDefaultPage))}}function Hp(n,s){if(n&1&&(r(0,"mat-header-cell",57),c(1),l()),n&2){let o=u();a(),_(" ",o.fieldsInfo.classActionName==null?null:o.fieldsInfo.classActionName.fieldTitle," ")}}function jp(n,s){if(n&1&&(r(0,"mat-cell"),c(1),l()),n&2){let o=s.$implicit;a(),_(" ",o.classActionName," ")}}function qp(n,s){n&1&&(r(0,"mat-header-cell"),c(1),S(2,"translate"),l()),n&2&&(a(),_(" ",M(2,1,"TITLE.OPTION")," "))}function Up(n,s){if(n&1&&(r(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),c(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),n&2){let o=P(5);a(),m("matMenuTriggerFor",o)}}function zp(n,s){n&1&&I(0,"mat-header-row")}function Qp(n,s){if(n&1){let o=y();r(0,"mat-row",65),v("click",function(){let i=f(o).$implicit,e=u();return g(e.onActionTableRowSelect(i))}),l()}if(n&2){let o=s.$implicit,t=s.dataIndex,i=u();Ae("ntk-row-odd",t%2)("ntk-row-even",!(t%2))("ntk-row-selected",o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id))}}var ci=(()=>{let s=class s extends wt{constructor(t,i,e,p,h,d,W,V,ce,Te,Tt,Bt,ln){if(super(t,new Ze,Bt,Te,ce),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=e,this.webDesignerMainPageTemplateService=p,this.coreSiteCategoryService=h,this.activatedRoute=d,this.router=W,this.cdr=V,this.translate=ce,this.tokenHelper=Te,this.pageInfo=Tt,this.publicHelper=Bt,this.dialog=ln,this.requestLinkPageParentGuId="",this.requestLinkPageTemplateGuId="",this.requestLinkPageDependencyGuId="",this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new $,this.dataModelWebDesignerMainPageTemplateResult=new q,this.dataModelCoreSiteCategoryResult=new q,this.tabledisplayedColumns=["ThumbnailImageSrc","Id","RecordStatus","Title","LinkPageTemplateGuId","PageDependencyIsDefaultPage","PageDependencyIsDefaultPageLinkSiteCategoryId","Action"],this.publicHelper.processService.cdr=this.cdr,this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")&&(this.requestLinkPageTemplateGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageTemplateGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")&&(this.requestLinkPageDependencyGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageDependencyGuId")),this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")&&(this.requestLinkPageParentGuId=this.activatedRoute.snapshot.paramMap.get("LinkPageParentGuId")),this.optionsSearch.parentMethods={onSubmit:Ve=>this.onSubmitOptionsSearch(Ve)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=Q.Descending,this.requestLinkPageTemplateGuId.length>0){let Ve=new U;Ve.propertyName="LinkPageTemplateGuId",Ve.value=this.requestLinkPageTemplateGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageDependencyGuId.length>0){let Ve=new U;Ve.propertyName="LinkPageDependencyGuId",Ve.value=this.requestLinkPageDependencyGuId,this.filteModelContent.filters.push(Ve)}if(this.requestLinkPageParentGuId.length>0){let Ve=new U;Ve.propertyName="LinkPageParentGuId",Ve.value=this.requestLinkPageParentGuId,this.filteModelContent.filters.push(Ve)}}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getModuleList(),this.getSiteCategory()}getModuleList(){let t=new $;t.rowPerPage=100,this.webDesignerMainPageTemplateService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelWebDesignerMainPageTemplateResult=i}})}getSiteCategory(){let t=new $;t.rowPerPage=100,this.coreSiteCategoryService.ServiceGetAll(t).subscribe({next:i=>{this.dataModelCoreSiteCategoryResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tableRowsSelected=[],this.onActionTableRowSelect(new Ze);let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?this.tableSource.sort.start==="asc"?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending):this.tableSource.sort.start==="desc"?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Q.Ascending):(Q,t.start="desc"):(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=Q.Descending),Q,this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{linkPageDependencyGuId:this.requestLinkPageDependencyGuId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(yn,{height:"90%",panelClass:i,enterAnimationDuration:Z.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Z.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(p=>{this.cmsToastrService.typeErrorSelected(p)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var i="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{i=p["MESSAGE.Please_Confirm"],e=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,e).then(p=>{if(p){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h)}})}}).catch(()=>{})}onActionButtonGoToSiteCategoryList(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(t),this.router.navigate(["/core/siteSiteCategory/",this.tableRowSelected.id])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;let i=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{i.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{i.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess&&(i.set("All",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),h=new U;h.propertyName="RecordStatus",h.value=lt.Available,p.filters.push(h),this.contentService.ServiceGetCount(p).subscribe({next:d=>{d.isSuccess&&(i.set("Active",d.totalRowCount),this.optionsStatist.childMethods.setStatistValue(i)),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e)}})}onActionButtonHtmlEditor(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(t.htmlBuilderUrl,"_blank")}onActionButtonHtmlView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewByMasterUrl,"_blank")}onActionButtonSiteRouteView(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.contentService.ServiceWebRoute(t.id).subscribe({next:i=>{i.isSuccess?window.open(i.item,"_blank"):this.cmsToastrService.typeError(i.errorMessage)},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonHtmlViewWithOutParent(t=this.tableRowSelected){if(!t||!t.id||t.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}if(this.onActionTableRowSelect(t),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}window.open(this.dataModelResult.item.htmlPreviewUrl,"_blank")}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParentTemplate(){this.router.navigate(["/webdesigner/pagetemplate"])}onActionBackToParentDependency(){this.router.navigate(["/webdesigner/pagedependency"])}};s.\u0275fac=function(i){return new(i||s)(C(dt),C(N),C(Xe),C(ct),C(qi),C(rt),C(Oe),C(B),C(F),C(ye),C(pt),C(k),C(Ne))},s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list-grid"]],features:[J],decls:93,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","ThumbnailImageSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkPageParentGuId"],["matColumnDef","LinkPageDependencyGuId"],["matColumnDef","LinkPageTemplateGuId"],["matColumnDef","PageDependencyIsDefaultPageLinkSiteCategoryId"],["matColumnDef","PageDependencyIsDefaultPage"],["matColumnDef","ClassActionName"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",3),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,4),c(2," -------------------------------------- "),A(),De(3,5),x(4,6),r(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",9)(12,"mat-slide-toggle",11),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",12),b(16,hp,2,0,"a",13)(17,_p,2,0,"a",13),r(18,"a",14),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(19,"i",15),l(),r(20,"a",14),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(21,"i",16),l()()(),A(),x(22,17),b(23,Sp,7,3,"div",18),A(),x(24,19),b(25,Mp,7,3,"div",18)(26,bp,7,3,"div",18),r(27,"div",20)(28,"a",21),v("click",function(){return f(p),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),I(29,"i",22)(30,"br"),l(),r(31,"p",23),c(32),S(33,"translate"),l()(),r(34,"div",20)(35,"a",21),v("click",function(){return f(p),g(e.onActionButtonHtmlView(e.tableRowSelected))}),I(36,"i",22)(37,"br"),l(),r(38,"p",23),c(39),S(40,"translate"),l()(),b(41,Cp,7,3,"div",18),r(42,"div",20)(43,"a",21),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),I(44,"i",24)(45,"br"),l(),r(46,"p",23),c(47),S(48,"translate"),l()(),A(),x(49,25),r(50,"app-cms-search-list",26),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(51,"app-cms-statist-list",26),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(52,27),r(53,"mat-table",28,0),v("matSortChange",function(){f(p);let d=P(54);return g(e.onTableSortData(d))}),x(55,29),b(56,Ip,3,3,"mat-header-cell",30)(57,yp,2,1,"mat-cell",31),A(),x(58,32),b(59,wp,2,1,"mat-header-cell",30)(60,Tp,2,1,"mat-cell",31),A(),x(61,33),b(62,Ep,2,1,"mat-header-cell",30)(63,xp,5,7,"mat-cell",34),A(),x(64,35),b(65,Ap,2,1,"mat-header-cell",30)(66,Pp,2,1,"mat-cell",31),A(),x(67,36),b(68,Rp,2,1,"mat-header-cell",30)(69,Wp,2,1,"mat-cell",31),A(),x(70,37),b(71,kp,2,1,"mat-header-cell",30)(72,Lp,2,1,"mat-cell",31),A(),x(73,38),b(74,Vp,2,1,"mat-header-cell",30)(75,Gp,3,4,"mat-cell",31),A(),x(76,39),b(77,Bp,2,1,"mat-header-cell",30)(78,Fp,3,4,"mat-cell",31),A(),x(79,40),b(80,Op,2,1,"mat-header-cell",30)(81,Np,3,3,"mat-cell",31),A(),x(82,41),b(83,Hp,2,1,"mat-header-cell",30)(84,jp,2,1,"mat-cell",31),A(),x(85,42),b(86,qp,3,3,"mat-header-cell",43)(87,Up,6,1,"mat-cell",44),A(),b(88,zp,1,0,"mat-header-row",45)(89,Qp,1,6,"mat-row",46),l(),A(),x(90,47),r(91,"mat-paginator",48,1),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,29,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,31,"ACTION.STATIST")," "),a(3),m("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),a(),m("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),a(6),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),w(M(33,33,"ACTION.PAGE_DESIGN")),a(7),w(M(40,35,"ACTION.SHOW_PAGE")),a(2),m("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),a(6),w(M(48,37,"ACTION.SHOW_WEB")),a(3),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(2),m("dataSource",e.tableSource),a(35),m("matHeaderRowDef",e.tabledisplayedColumns),a(),m("matRowDefColumns",e.tabledisplayedColumns),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,fp)))},dependencies:[xe,G,nt,O,z,Re,X,j,qe,Ue,ze,ke,mt,ut,ft,ht,bt,_t,gt,Ct,St,Mt,It,vt,Je,Ye,Ke,yt,H,gi,Qe,kt,fi],encapsulation:2});let n=s;return n})();var Kp=()=>[5,10,20,100];function Jp(n,s){if(n&1){let o=y();r(0,"a",33),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentTemplate())}),I(1,"i",34),l()}}function Yp(n,s){if(n&1){let o=y();r(0,"a",33),v("click",function(){f(o);let i=u();return g(i.onActionBackToParentDependency())}),I(1,"i",34),l()}}function Xp(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",35),v("click",function(){f(o);let i=u();return g(i.onActionButtonNewRow())}),I(2,"i",36)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.ADD")))}function Zp(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",37),v("click",function(){f(o);let i=u();return g(i.onActionButtonEditRow(i.tableRowSelected))}),I(2,"i",38)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.EDIT")))}function $p(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",39),v("click",function(){f(o);let i=u();return g(i.onActionButtonDeleteRow(i.tableRowSelected))}),I(2,"i",40)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DELETE")))}function em(n,s){if(n&1){let o=y();r(0,"div",19)(1,"a",20),v("click",function(){f(o);let i=u();return g(i.onActionButtonHtmlViewWithOutParent(i.tableRowSelected))}),I(2,"i",21)(3,"br"),l(),r(4,"p",22),c(5),S(6,"translate"),l()()}n&2&&(a(5),w(M(6,1,"ACTION.DISPLAY_PAGE_WITHOUT_PARENT")))}function tm(n,s){if(n&1&&(r(0,"div",41)(1,"mat-card",42)(2,"mat-card-header")(3,"mat-card-title"),c(4),I(5,"i",43),S(6,"statusIconClass"),l(),r(7,"mat-card-subtitle"),c(8),S(9,"translate"),l()(),I(10,"img",44),r(11,"mat-card-content"),c(12),S(13,"translate"),S(14,"cmstitle"),I(15,"br"),c(16),S(17,"translate"),S(18,"cmstitle"),I(19,"br"),c(20),S(21,"translate"),I(22,"i",43),S(23,"boolclass"),r(24,"p"),c(25),l()(),r(26,"mat-card-actions")(27,"button",45)(28,"mat-icon"),c(29,"more_vert"),l()(),I(30,"mat-menu",null,1),l()()()),n&2){let o=s.$implicit,t=P(31),i=u();a(4),_(" ",o.title," "),a(),m("ngClass",M(6,13,o.recordStatus)),a(3),Xt(" ",M(9,15,"TITLE.Id"),": ",o.id,""),a(2),R("src",o.thumbnailImageSrc,Ee),a(2),Xt(" ",M(13,17,"Template title")," : ",xt(14,19,o.linkPageTemplateGuId,i.dataModelWebDesignerMainPageTemplateResult.listItems)," "),a(4),Xt(" ",M(17,22,"TITLE.Default_template_classification_system")," : ",xt(18,24,o.pageDependencyIsDefaultPageLinkSiteCategoryId,i.dataModelCoreSiteCategoryResult.listItems)," "),a(4),_(" ",M(21,27,"TITLE.System_default")," : "),a(2),m("ngClass",M(23,29,o.pageDependencyIsDefaultPage)),a(3),_(" ",o.description," "),a(2),m("matMenuTriggerFor",t)}}var Pi=(()=>{let s=class s extends ci{};s.\u0275fac=(()=>{let t;return function(e){return(t||(t=wn(s)))(e||s)}})(),s.\u0275cmp=L({type:s,selectors:[["app-webdesigner-page-list"]],features:[J],decls:61,vars:40,consts:[["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionClassBody","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"ngModelChange","ngModel"],[3,"click","ngModelChange","ngModel"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-page","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],[1,"row"],["Class","col-xl-12"],[3,"optionsInfoAreaId"],["class","col-3",4,"ngFor","ngForOf"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"col-3"],[1,"example-card",2,"border","groove"],[3,"ngClass"],["mat-card-image","",2,"max-height","300px",3,"src"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"]],template:function(i,e){if(i&1){let p=y();r(0,"app-cms-html-list",2),D("optionActionGuideNoticeDisplayChange",function(d){return f(p),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),g(d)}),v("optionOnActionButtonMemoRow",function(){return f(p),g(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return f(p),g(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return f(p),g(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return f(p),g(e.onActionButtonPrintRow())}),x(1,3),c(2," -------------------------------------- "),A(),De(3,4),x(4,5),r(5,"div",6)(6,"div",7)(7,"a",8)(8,"mat-slide-toggle",9),D("ngModelChange",function(d){return f(p),E(e.optionsSearch.data.show,d)||(e.optionsSearch.data.show=d),g(d)}),l(),c(9),S(10,"translate"),l(),r(11,"a",8)(12,"mat-slide-toggle",10),v("click",function(){return f(p),g(e.onActionButtonStatist())}),D("ngModelChange",function(d){return f(p),E(e.optionsStatist.data.show,d)||(e.optionsStatist.data.show=d),g(d)}),l(),c(13),S(14,"translate"),l()(),r(15,"div",11),b(16,Jp,2,0,"a",12)(17,Yp,2,0,"a",12),r(18,"a",13),v("click",function(){return f(p),g(e.viewGuideNotice=!e.viewGuideNotice)}),I(19,"i",14),l(),r(20,"a",13),v("click",function(){return f(p),g(e.onActionButtonReload())}),I(21,"i",15),l()()(),A(),x(22,16),b(23,Xp,7,3,"div",17),A(),x(24,18),b(25,Zp,7,3,"div",17)(26,$p,7,3,"div",17),r(27,"div",19)(28,"a",20),v("click",function(){return f(p),g(e.onActionButtonHtmlEditor(e.tableRowSelected))}),I(29,"i",21)(30,"br"),l(),r(31,"p",22),c(32),S(33,"translate"),l()(),r(34,"div",19)(35,"a",20),v("click",function(){return f(p),g(e.onActionButtonHtmlView(e.tableRowSelected))}),I(36,"i",21)(37,"br"),l(),r(38,"p",22),c(39),S(40,"translate"),l()(),b(41,em,7,3,"div",17),r(42,"div",19)(43,"a",20),v("click",function(){return f(p),g(e.onActionButtonSiteRouteView(e.tableRowSelected))}),I(44,"i",23)(45,"br"),l(),r(46,"p",22),c(47),S(48,"translate"),l()(),A(),x(49,24),r(50,"app-cms-search-list",25),D("optionsChange",function(d){return f(p),E(e.optionsSearch,d)||(e.optionsSearch=d),g(d)}),l(),r(51,"app-cms-statist-list",25),D("optionsChange",function(d){return f(p),E(e.optionsStatist,d)||(e.optionsStatist=d),g(d)}),l(),A(),x(52,26),r(53,"div",27)(54,"div",28),I(55,"app-progress-spinner",29),r(56,"div",27),b(57,tm,32,31,"div",30),l()()(),A(),x(58,31),r(59,"mat-paginator",32,0),v("page",function(d){return f(p),g(e.onTablePageingData(d))}),l(),A(),l()}i&2&&(m("optionsListInfoAreaId",e.constructor.name)("optionGuideNoticeKey",""),T("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionClassBody","")("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),a(8),T("ngModel",e.optionsSearch.data.show),a(),_("",M(10,29,"ACTION.SEARCH")," "),a(3),T("ngModel",e.optionsStatist.data.show),a(),_(" ",M(14,31,"ACTION.STATIST")," "),a(3),m("ngIf",(e.requestLinkPageTemplateGuId==null?null:e.requestLinkPageTemplateGuId.length)>0),a(),m("ngIf",(e.requestLinkPageDependencyGuId==null?null:e.requestLinkPageDependencyGuId.length)>0),a(6),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),a(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),w(M(33,33,"ACTION.PAGE_DESIGN")),a(7),w(M(40,35,"ACTION.SHOW_PAGE")),a(2),m("ngIf",(e.tableRowSelected==null||e.tableRowSelected.linkPageParentGuId==null?null:e.tableRowSelected.linkPageParentGuId.length)>0),a(6),w(M(48,37,"ACTION.SHOW_WEB")),a(3),T("options",e.optionsSearch),a(),T("options",e.optionsStatist),a(4),m("optionsInfoAreaId",e.constructor.name),a(2),m("ngForOf",e.dataModelResult.listItems),a(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",ve(39,Kp)))},dependencies:[xe,Fe,G,O,z,Re,Ln,Fn,Gn,On,Nn,Bn,Vn,X,qe,Ue,ze,ke,Je,Ye,K,Ke,H,gi,Qe,fi],encapsulation:2});let n=s;return n})();var im=[{path:"",component:Do,data:{title:"ROUTE.WEBDESIGNER"},children:[{path:"config",loadChildren:()=>import("./chunk-WXUIQLZE.js").then(n=>n.WebDesignerConfigModule),data:{title:"ROUTE.WEBDESIGNER"}},{path:"intro",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/LinkPageId/:LinkPageId",component:un,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add",component:mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/add/:LinkPageId",component:mn,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"intro/edit/:Id",component:xo,data:{title:"ROUTE.WEBDESIGNER.INTRO"}},{path:"menu",component:Lo,data:{title:"ROUTE.WEBDESIGNER.MENU"}},{path:"logmemberinfo",component:Po,data:{title:"ROUTE.WEBDESIGNER.LOGMEMBERINFO"}},{path:"pagetemplate",component:Fo,data:{title:"ROUTE.WEBDESIGNER.PAGETEMPLATE"}},{path:"pagedependency",component:Bo,data:{title:"ROUTE.WEBDESIGNER.PAGEDEPENDENCY"}},{path:"page",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageParentGuId/:LinkPageParentGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:Pi,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageTemplateGuId/:LinkPageTemplateGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageParentGuId/:LinkPageParentGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}},{path:"page/list-grid/LinkPageDependencyGuId/:LinkPageDependencyGuId",component:ci,data:{title:"ROUTE.WEBDESIGNER.PAGE"}}]}],No=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Wi({type:s}),s.\u0275inj=Ri({imports:[sn.forChild(im),sn]});let n=s;return n})();var Vg=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=Wi({type:s}),s.\u0275inj=Ri({providers:[ji,Y,Kn,Xe,Yn,qi,Xn,ui,ii,st,dt,Rt,ct,Ui,mi],imports:[Tn,No,Pn,Rn.withConfig({warnOnNgModelWithFormControl:"never"}),So,Mo,jn,Wn,to,qn,Eo,yo,To,$n]});let n=s;return n})();export{Vg as WebDesignerModule};
