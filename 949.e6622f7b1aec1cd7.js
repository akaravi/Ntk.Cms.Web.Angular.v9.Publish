"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[949,4891],{9084:(y,C,s)=>{s.d(C,{Y:()=>E});var t=s(7241),e=s(7969),O=s(4537),a=s(4511);let E=(()=>{class f{service;constructor(h){this.service=h}transform(h){return!h||h<=0?new t.y:this.service.ServiceGetOneById(h,1e6).pipe((0,e.U)(p=>{var _="";return p.isSuccess&&(p.item.title&&p.item.title.length>0&&(_=p.item.title),p.item.id&&p.item.id>0&&(_.length>0&&(_+=" | "),_+=p.item.id),p.item.domain&&p.item.domain.length>0&&p.item.subDomain&&p.item.subDomain.length>0?(_.length>0&&(_+=" | "),_=_+p.item.subDomain+"."+p.item.domain):p.item.domain&&p.item.domain.length>0&&(_.length>0&&(_+=" | "),_+=p.item.domain)),0===_.length&&(_=h.toString()),_},p=>h.toString()))}static \u0275fac=function(p){return new(p||f)(O.Y36(a._0e,16))};static \u0275pipe=O.Yjl({name:"cmssiteinfo",type:f,pure:!0})}return f})()},5897:(y,C,s)=>{s.d(C,{Y:()=>O});var t=s(4537),e=s(5998);let O=(()=>{class a{sanitizer;constructor(f){this.sanitizer=f}transform(f){return"cms-RecordStatusEnum-cell-"+f}static \u0275fac=function(A){return new(A||a)(t.Y36(e.H7,16))};static \u0275pipe=t.Yjl({name:"statusCellClass",type:a,pure:!0})}return a})()},9835:(y,C,s)=>{s.d(C,{v:()=>I});var t=s(4537),e=s(8692),O=s(6707);let a=(()=>{class i{transform(n,c){if(!n)return[];let u=Object.keys(n);return u=u.filter(v=>v&&v.length>0&&v.toLowerCase().indexOf("antiinjection")<0),c&&c.size>0&&(u=u.filter(v=>v&&v.length>0&&c.has(v))),u}static \u0275fac=function(c){return new(c||i)};static \u0275pipe=t.Yjl({name:"listkeys",type:i,pure:!0})}return i})();function E(i,m){1&i&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",5),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",6),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function f(i,m){if(1&i&&(t.TgZ(0,"div",7)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",5),t._uU(4),t.qZA(),t._UZ(5,"div",8),t.qZA()),2&i){const n=m.$implicit,c=t.oxw(2);t.xp6(2),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(n):n),t.xp6(2),t.Oqu(c.dataModel[n])}}function A(i,m){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,E,8,6,"div",2),t.YNc(2,f,6,2,"div",3),t.ALo(3,"listkeys"),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,n.dataModel,n.optionFields))}}function h(i,m){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const n=m.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(n):n)}}function p(i,m){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,h,2,1,"div",9),t.ALo(2,"listkeys"),t._UZ(3,"div",6),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n.dataModel[0],n.optionFields))}}function _(i,m){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const n=m.$implicit,c=t.oxw().$implicit;t.xp6(1),t.Oqu(c[n])}}function D(i,m){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,_,2,1,"div",9),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&i){const n=m.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n,c.optionFields))}}function L(i,m){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,p,4,4,"div",2),t.YNc(2,D,4,4,"div",3),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(1),t.Q6J("ngForOf",n.dataModel)}}function T(i,m){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const n=m.$implicit,c=t.oxw(3);t.xp6(1),t.Oqu(c.optionFields&&c.optionFields.size>0?c.optionFields.get(n):n)}}function P(i,m){if(1&i&&(t.TgZ(0,"div",4),t.YNc(1,T,2,1,"div",9),t.ALo(2,"listkeys"),t._UZ(3,"div",6),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,n.dataModel[0],n.optionFields))}}function S(i,m){if(1&i&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&i){const n=m.$implicit,c=t.oxw(2);t.xp6(1),t.Oqu(c.dataModel[n])}}function x(i,m){if(1&i&&(t.TgZ(0,"div",1),t.YNc(1,P,4,4,"div",2),t.TgZ(2,"div",7),t.YNc(3,S,2,1,"div",9),t.ALo(4,"listkeys"),t._UZ(5,"div",8),t.qZA()()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,n.dataModel,n.optionFields))}}let I=(()=>{class i{static nextId=0;id=++i.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(c){return new(c||i)};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:3,vars:3,consts:[["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(c,u){1&c&&(t.YNc(0,A,4,5,"div",0),t.YNc(1,L,3,2,"div",0),t.YNc(2,x,6,5,"div",0)),2&c&&(t.Q6J("ngIf",1===u.optionMethod&&u.dataModel),t.xp6(1),t.Q6J("ngIf",2===u.optionMethod&&u.dataModel),t.xp6(1),t.Q6J("ngIf",3===u.optionMethod&&u.dataModel))},dependencies:[e.sg,e.O5,O.X$,a],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return i})()},1797:(y,C,s)=>{s.d(C,{a:()=>b});var t=s(8239),e=s(4537),O=s(92),a=s(4511),E=s(7445),f=s(1927),A=s(3151),h=s(2147),p=s(1528),_=s(7969),D=s(656),L=s(6707),T=s(8692),P=s(1637),S=s(1379),x=s(8659),I=s(3331),i=s(9665),m=s(5738);function n(g,Z){if(1&g&&(e.TgZ(0,"label",8),e._uU(1),e.qZA()),2&g){const o=e.oxw();e.MGl("for","app-cms-site-selector-",o.id,""),e.xp6(1),e.Oqu(o.optionLabel)}}function c(g,Z){if(1&g&&(e.TgZ(0,"mat-option",9)(1,"span"),e._uU(2),e.qZA()()),2&g){const o=Z.$implicit,r=e.oxw();e.Q6J("value",o)("disabled",r.optionDisabled),e.xp6(2),e.Oqu(r.displayOption(o))}}function u(g,Z){if(1&g){const o=e.EpF();e.TgZ(0,"mat-icon",10),e.NdJ("click",function(){e.CHM(o);const d=e.oxw();return e.KtG(d.onActionSelectClear())}),e._uU(1,"close"),e.qZA()}}const v=["*"];let b=(()=>{class g{coreEnumService;translate;cdr;categoryService;static nextId=0;id=++g.nextId;constructor(o,r,d,M){this.coreEnumService=o,this.translate=r,this.cdr=d,this.categoryService=M,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information")}dataModelResult=new a.y$4;dataModelSelect=new a.tQj;loading=new D.O;get optionLoading(){return this.loading}set optionLoading(o){this.loading=o}formControl=new O.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new e.vpe;optionReload=()=>this.onActionReload();set optionSelectForce(o){this.onActionSelectForce(o)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,f.O)(""),(0,A.b)(1500),(0,h.x)(),(0,p.w)(o=>this.DataGetAll("string"==typeof o||"number"==typeof o?o:"")))}displayFn(o){return o?o.id:void 0}displayOption(o){return o?o.id:void 0}DataGetAll(o){var r=this;return(0,t.Z)(function*(){const d=new a.Hay;if(d.rowPerPage=20,d.accessLoad=!0,o&&o.length>0){let l=new a.AO3;l=new a.AO3,l.propertyName="username",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,d.filters.push(l),l=new a.AO3,l.propertyName="name",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,d.filters.push(l),l=new a.AO3,l.propertyName="email",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,d.filters.push(l),l=new a.AO3,l.propertyName="lastname",l.value=o,l.searchType=a.J6G.Contains,l.clauseType=a.ppe.Or,d.filters.push(l),o&&"number"==typeof+o&&+o>0&&(l=new a.AO3,l.propertyName="Id",l.value=o,l.searchType=a.J6G.Equal,l.clauseType=a.ppe.Or,d.filters.push(l))}const M=r.constructor.name+"categoryService.ServiceGetAll";return r.loading.Start(M),yield(0,E.z)(r.categoryService.ServiceGetAll(d)).then(l=>(r.dataModelResult=l,r.loading.Stop(M),l.listItems))})()}onActionSelect(o){this.optionDisabled||(this.dataModelSelect=o,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(o){return this.filteredOptions.pipe((0,_.U)(r=>(r.find(d=>d.id===o.id)||r.push(o),r)))}onActionSelectForce(o){if("string"==typeof o&&o.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===o)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(r=>r.id===o)){const r=this.dataModelResult.listItems.find(d=>d.id===o);return this.dataModelSelect=r,void this.formControl.setValue(r)}this.categoryService.ServiceGetOneById(o).subscribe(r=>{r.isSuccess&&(this.filteredOptions=this.push(r.item),this.dataModelSelect=r.item,this.formControl.setValue(r.item),this.optionChange.emit(r.item))})}else{if(typeof o==typeof a.tQj)return this.filteredOptions=this.push(o),this.dataModelSelect=o,void this.formControl.setValue(o);this.formControl.setValue(null)}}onActionReload(){this.dataModelSelect=new a.tQj,this.loadOptions()}static \u0275fac=function(r){return new(r||g)(e.Y36(a.FLW),e.Y36(L.sK),e.Y36(e.sBO),e.Y36(a.Z_L))};static \u0275cmp=e.Xpm({type:g,selectors:[["app-cms-member-selector"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:v,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"options"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(r,d){if(1&r&&(e.F$t(),e.TgZ(0,"div",0),e._UZ(1,"app-progress-spinner",1),e.YNc(2,n,2,2,"label",2),e._UZ(3,"input",3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(l){return d.onActionSelect(l.option.value)}),e.YNc(6,c,3,3,"mat-option",6),e.ALo(7,"async"),e.qZA(),e.YNc(8,u,2,0,"mat-icon",7),e.Hsn(9),e.qZA()),2&r){const M=e.MAs(5);e.xp6(1),e.Q6J("options",d.loading),e.xp6(1),e.Q6J("ngIf",(null==d.optionLabel?null:d.optionLabel.length)>0),e.xp6(1),e.s9C("placeholder",d.optionPlaceholder),e.MGl("id","app-cms-site-selector-",d.id,""),e.Q6J("formControl",d.formControl)("matAutocomplete",M),e.uIk("disabled",!!d.optionDisabled||null),e.xp6(1),e.Q6J("displayWith",d.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,10,d.filteredOptions)),e.xp6(2),e.Q6J("ngIf",null==d.dataModelSelect?null:d.dataModelSelect.id)}},dependencies:[T.sg,T.O5,O.Fj,O.JJ,O.oH,P.XC,S.ey,P.ZL,x.R9,I.Hw,i.Nt,m.O,T.Ov],encapsulation:2})}return g})()}}]);