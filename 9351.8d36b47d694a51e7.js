"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[9351],{9084:(x,v,l)=>{l.d(v,{Y:()=>t});var a=l(7241),p=l(7969),g=l(4537),A=l(4511);let t=(()=>{class C{service;constructor(f){this.service=f}transform(f){return!f||f<=0?new a.y:this.service.ServiceGetOneById(f,1e6).pipe((0,p.U)(d=>{var r="";return d.isSuccess&&(d.item.title&&d.item.title.length>0&&(r=d.item.title),d.item.id&&d.item.id>0&&(r.length>0&&(r+=" | "),r+=d.item.id),d.item.domain&&d.item.domain.length>0&&d.item.subDomain&&d.item.subDomain.length>0?(r.length>0&&(r+=" | "),r=r+d.item.subDomain+"."+d.item.domain):d.item.domain&&d.item.domain.length>0&&(r.length>0&&(r+=" | "),r+=d.item.domain)),0===r.length&&(r=f.toString()),r},d=>f.toString()))}static \u0275fac=function(d){return new(d||C)(g.Y36(A._0e,16))};static \u0275pipe=g.Yjl({name:"cmssiteinfo",type:C,pure:!0})}return C})()},6777:(x,v,l)=>{l.d(v,{R:()=>pt});var a=l(4536),p=l(4511),g=l(656),A=l(2340),t=l(4537),C=l(2607),I=l(5732),f=l(6114),d=l(6707),r=l(727),S=l(4032),c=l(8692),m=l(92),_=l(8659),b=l(9665),L=l(2516),N=l(4580),J=l(7529),U=l(5952),Z=l(8239),O=l(7445),w=l(1927),k=l(3151),P=l(2147),D=l(1528),E=l(7969),y=l(1637),F=l(1379),R=l(3331),Q=l(5738);function G(i,u){if(1&i&&(t.TgZ(0,"label",8),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.MGl("for","app-cms-site-selector-",e.id,""),t.xp6(1),t.Oqu(e.optionLabel)}}function Y(i,u){if(1&i&&(t.TgZ(0,"mat-option",9)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=u.$implicit,o=t.oxw();t.Q6J("value",e)("disabled",o.optionDisabled),t.xp6(2),t.Oqu(o.displayOption(e))}}function V(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onActionSelectClear())}),t._uU(1,"close"),t.qZA()}}const H=["*"];let B=(()=>{class i{coreEnumService;cmsToastrService;cdr;publicHelper;translate;categoryService;static nextId=0;id=++i.nextId;constructor(e,o,n,s,h,M){this.coreEnumService=e,this.cmsToastrService=o,this.cdr=n,this.publicHelper=s,this.translate=h,this.categoryService=M,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T})}dataModelResult=new p.y$4;dataModelSelect=new p.lWT;formControl=new m.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new t.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(e){this.onActionSelectForce(e)}loading=new g.O;get optionLoading(){return this.loading}set optionLoading(e){this.loading=e}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,w.O)(""),(0,k.b)(1500),(0,P.x)(),(0,D.w)(e=>"string"==typeof e||"number"==typeof e?this.DataGetAll(e||""):[]))}displayFn(e){return e?e.title:void 0}displayOption(e){return e?e.title:void 0}DataGetAll(e){var o=this;return(0,Z.Z)(function*(){const n=new p.Hay;n.rowPerPage=20,n.accessLoad=!0;let s=new p.AO3;return s.propertyName="Title",s.value=e,s.searchType=p.J6G.Contains,s.clauseType=p.ppe.Or,n.filters.push(s),e&&"number"==typeof+e&&+e>0&&(s=new p.AO3,s.propertyName="Id",s.value=e,s.searchType=p.J6G.Equal,s.clauseType=p.ppe.Or,n.filters.push(s)),o.publicHelper.processService.processStart("DataGetAll"),yield(0,O.z)(o.categoryService.ServiceGetAll(n)).then(h=>(o.dataModelResult=h,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0])},1e3),o.onActionSelect(o.dataModelResult.listItems[0])),o.publicHelper.processService.processStop("DataGetAll"),h.listItems))})()}onActionSelect(e){this.optionDisabled||(this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(e){return this.filteredOptions.pipe((0,E.U)(o=>(o.find(n=>n.id===e.id)||o.push(e),o)))}onActionSelectForce(e){if("string"==typeof e&&e.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===e)){const o=this.dataModelResult.listItems.find(n=>n.id===e);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(e).subscribe({next:o=>{o.isSuccess?(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item)):this.cmsToastrService.typeErrorMessage(o.errorMessage)}})}else{if(typeof e==typeof p.lWT)return this.filteredOptions=this.push(e),this.dataModelSelect=e,void this.formControl.setValue(e);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new p.lWT,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(t.Y36(p.FLW),t.Y36(C.e),t.Y36(t.sBO),t.Y36(S.i),t.Y36(d.sK),t.Y36(p.sZP))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:H,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(t.F$t(),t.TgZ(0,"div",0),t._UZ(1,"app-progress-spinner",1),t.YNc(2,G,2,2,"label",2),t._UZ(3,"input",3),t.TgZ(4,"mat-autocomplete",4,5),t.NdJ("optionSelected",function(h){return n.onActionSelect(h.option.value)}),t.YNc(6,Y,3,3,"mat-option",6),t.ALo(7,"async"),t.qZA(),t.YNc(8,V,2,0,"mat-icon",7),t.Hsn(9),t.qZA()),2&o){const s=t.MAs(5);t.xp6(1),t.Q6J("optionsInfoAreaId",n.constructor.name),t.xp6(1),t.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),t.xp6(1),t.s9C("placeholder",n.optionPlaceholder),t.MGl("id","app-cms-site-selector-",n.id,""),t.Q6J("formControl",n.formControl)("matAutocomplete",s),t.uIk("disabled",!!n.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(7,10,n.filteredOptions)),t.xp6(2),t.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[c.sg,c.O5,m.Fj,m.JJ,m.oH,y.XC,F.ey,y.ZL,_.R9,R.Hw,b.Nt,Q.O,c.Ov],encapsulation:2})}return i})();function W(i,u){if(1&i&&(t.TgZ(0,"label",8),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.MGl("for","app-cms-site-selector-",e.id,""),t.xp6(1),t.Oqu(e.optionLabel)}}function q(i,u){if(1&i&&(t.TgZ(0,"mat-option",9)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=u.$implicit,o=t.oxw();t.Q6J("value",e)("disabled",o.optionDisabled),t.xp6(2),t.Oqu(o.displayOption(e))}}function K(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onActionSelectClear())}),t._uU(1,"close"),t.qZA()}}const j=["*"];let $=(()=>{class i{coreEnumService;cmsToastrService;translate;cdr;publicHelper;categoryService;static nextId=0;id=++i.nextId;constructor(e,o,n,s,h,M){this.coreEnumService=e,this.cmsToastrService=o,this.translate=n,this.cdr=s,this.publicHelper=h,this.categoryService=M,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(T=>{this.loading.message=T})}dataModelResult=new p.y$4;dataModelSelect=new p.FEG;formControl=new m.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionSelectFirstItemOnChangeApi=!1;optionLabel="";optionPlaceholder="";optionChange=new t.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(e){this.onActionSelectForce(e)}loading=new g.O;get optionLoading(){return this.loading}set optionLoading(e){this.loading=e}set optionLinkApiPathId(e){e!=this.privateLinkApiPathId&&(""!=this.privateLinkApiPathId&&this.onActionSelectClear(),this.privateLinkApiPathId=e,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=e,this.loadOptions())}privateLinkApiPathId="";privateLinkApiPathIdLast="";ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,w.O)(""),(0,k.b)(1500),(0,P.x)(),(0,D.w)(e=>"string"==typeof e||"number"==typeof e?this.DataGetAll(e||""):[]))}displayFn(e){return e?e.numberChar:void 0}displayOption(e){return e?e.numberChar:void 0}DataGetAll(e){var o=this;return(0,Z.Z)(function*(){const n=new p.Hay;n.rowPerPage=20,n.accessLoad=!0;let s=new p.AO3;return s.propertyName="NumberChar",s.value=e,s.searchType=p.J6G.Contains,s.clauseType=p.ppe.Or,n.filters.push(s),o.privateLinkApiPathId&&o.privateLinkApiPathId.length>0&&(s=new p.AO3,s.propertyName="ApiPathAndApiNumbers",s.propertyAnyName="LinkApiPathId",s.value=o.privateLinkApiPathId,s.searchType=p.J6G.Equal,n.filters.push(s)),o.publicHelper.processService.processStart("DataGetAll"),yield(0,O.z)(o.categoryService.ServiceGetAll(n)).then(h=>(o.dataModelResult=h,o.optionSelectFirstItem&&(!o.dataModelSelect||!o.dataModelSelect.id||o.dataModelSelect.id.length<=0)&&o.dataModelResult.listItems.length>0&&(o.optionSelectFirstItem=!1,setTimeout(()=>{o.formControl.setValue(o.dataModelResult.listItems[0]),o.onActionSelect(o.dataModelResult.listItems[0])},1e3)),o.publicHelper.processService.processStop("DataGetAll"),h.listItems))})()}onActionSelect(e){this.optionDisabled||(this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new p.FEG,this.formControl.setValue(null),this.optionChange.emit(null))}push(e){return this.filteredOptions.pipe((0,E.U)(o=>(o.find(n=>n.id===e.id)||o.push(e),o)))}onActionSelectForce(e){if("string"==typeof e&&e.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.id===e)){const o=this.dataModelResult.listItems.find(n=>n.id===e);return this.dataModelSelect=o,void this.formControl.setValue(o)}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(o=>o.numberChar===e)){const o=this.dataModelResult.listItems.find(n=>n.numberChar===e);return this.dataModelSelect=o,void this.formControl.setValue(o)}this.categoryService.ServiceGetOneById(e).subscribe({next:o=>{o.isSuccess?(this.filteredOptions=this.push(o.item),this.dataModelSelect=o.item,this.formControl.setValue(o.item),this.optionChange.emit(o.item)):(!this.dataModelResult.listItems||0===this.dataModelResult.listItems.length)&&this.cmsToastrService.typeErrorMessage(o.errorMessage)}})}else{if(typeof e==typeof p.FEG)return this.filteredOptions=this.push(e),this.dataModelSelect=e,void this.formControl.setValue(e);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new p.FEG,this.loadOptions()}static \u0275fac=function(o){return new(o||i)(t.Y36(p.FLW),t.Y36(C.e),t.Y36(d.sK),t.Y36(t.sBO),t.Y36(S.i),t.Y36(p.cPv))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionLabel:"optionLabel",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},ngContentSelectors:j,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],["class","color-highlight",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"color-highlight",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(o,n){if(1&o&&(t.F$t(),t.TgZ(0,"div",0),t._UZ(1,"app-progress-spinner",1),t.YNc(2,W,2,2,"label",2),t._UZ(3,"input",3),t.TgZ(4,"mat-autocomplete",4,5),t.NdJ("optionSelected",function(h){return n.onActionSelect(h.option.value)}),t.YNc(6,q,3,3,"mat-option",6),t.ALo(7,"async"),t.qZA(),t.YNc(8,K,2,0,"mat-icon",7),t.Hsn(9),t.qZA()),2&o){const s=t.MAs(5);t.xp6(1),t.Q6J("optionsInfoAreaId",n.constructor.name),t.xp6(1),t.Q6J("ngIf",(null==n.optionLabel?null:n.optionLabel.length)>0),t.xp6(1),t.s9C("placeholder",n.optionPlaceholder),t.MGl("id","app-cms-site-selector-",n.id,""),t.Q6J("formControl",n.formControl)("matAutocomplete",s),t.uIk("disabled",!!n.optionDisabled||null),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngForOf",t.lcZ(7,10,n.filteredOptions)),t.xp6(2),t.Q6J("ngIf",null==n.dataModelSelect?null:n.dataModelSelect.id)}},dependencies:[c.sg,c.O5,m.Fj,m.JJ,m.oH,y.XC,F.ey,y.ZL,_.R9,R.Hw,b.Nt,Q.O,c.Ov],encapsulation:2})}return i})();const X=["Message"],z=["vform"];function tt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onActionSendUrlToQDoc())}),t._UZ(1,"i",45),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ACTION.VIEW")," "))}function et(i,u){if(1&i&&(t.TgZ(0,"div")(1,"a",46),t._UZ(2,"img",47),t.ALo(3,"translate"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.s9C("href",e.optionurlViewContent,t.LSH),t.xp6(1),t.s9C("alt",t.lcZ(3,3,"TITLE.Scan_the_barcode")),t.Q6J("src",e.optionurlViewContentQRCodeBase64,t.LSH)}}function ot(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",10)(2,"div",24)(3,"p"),t._uU(4),t.qZA()()(),t.TgZ(5,"div",10)(6,"div",14)(7,"div",17)(8,"label",25),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",26,27),t.NdJ("ngModelChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.QDocModel.username=n)}),t.qZA()(),t.YNc(13,tt,4,3,"button",28),t._UZ(14,"br")(15,"br"),t.TgZ(16,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onActionOpenLink())}),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",30),t.YNc(20,et,4,5,"div",9),t.TgZ(21,"div",31)(22,"a",32),t._UZ(23,"i",33),t.qZA(),t.TgZ(24,"a",34),t._UZ(25,"i",35),t.qZA(),t.TgZ(26,"a",36),t._UZ(27,"i",37),t.qZA(),t.TgZ(28,"a",38),t._UZ(29,"i",39),t.qZA(),t.TgZ(30,"a",40),t._UZ(31,"i",41),t.qZA(),t.TgZ(32,"span",42),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onActionCopied())}),t._UZ(33,"i",43),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.hij(" ",e.optionLabel,""),t.xp6(5),t.Oqu(t.lcZ(10,16,"ACTION.ID_Code")),t.xp6(2),t.Q6J("ngModel",e.QDocModel.username),t.xp6(2),t.Q6J("ngIf",e.optionurlViewContent&&e.optionurlViewContent.length>0&&e.QDocModel.username),t.xp6(4),t.hij("",t.lcZ(18,18,"ACTION.VIEW_PAGE")," "),t.xp6(3),t.Q6J("ngIf",(null==e.optionurlViewContentQRCodeBase64?null:e.optionurlViewContentQRCodeBase64.length)>0&&(null==e.optionurlViewContent?null:e.optionurlViewContent.length)>0),t.xp6(2),t.hYB("href","whatsapp://send?text=",e.optionLabel,"- ",e.optionurlViewContent,"",t.LSH),t.xp6(2),t.hYB("href","https://telegram.me/share/url?url=",e.optionurlViewContent,"&text=",e.optionLabel,"",t.LSH),t.xp6(2),t.hYB("href","https://www.linkedin.com/shareArticle?url=",e.optionurlViewContent,"&title=",e.optionLabel,"",t.LSH),t.xp6(2),t.MGl("href","http://www.facebook.com/share.php?u=",e.optionurlViewContent,"",t.LSH),t.xp6(2),t.hYB("href","http://twitter.com/share?text=",e.optionLabel,"&url=",e.optionurlViewContent,"",t.LSH),t.xp6(2),t.Q6J("cdkCopyToClipboard",e.optionurlViewContent)}}function nt(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"app-cms-sms-api-number-selector",48),t.NdJ("optionLoadingChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.loading=n)})("optionChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.onActionSelectApiNumber(n))}),t.ALo(1,"translate"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("optionLoading",e.loading)("optionLinkApiPathId",null==e.dataModel?null:e.dataModel.linkApiPathId)("optionPlaceholder",t.lcZ(1,5,"TITLE.sender_number"))("optionSelectFirstItem",!0)("optionSelectFirstItemOnChangeApi",!0)}}function it(i,u){1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"TITLE.Message_Text")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function st(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"label",49),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"textarea",50,51),t.NdJ("ngModelChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.dataModel.toNumbers=n)}),t._uU(6,"                                                "),t.qZA(),t.TgZ(7,"em"),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"TITLE.Receiver_number")),t.xp6(2),t.Q6J("ngModel",e.dataModel.toNumbers),t.xp6(4),t.Oqu(t.lcZ(9,5,"TITLE.You_can_separate_the_number_of_the_recipient_of_the_message_with_an_inter"))}}function at(i,u){if(1&i&&(t.TgZ(0,"button",54),t._UZ(1,"i",45),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&i){t.oxw(2);const e=t.MAs(10);t.Q6J("disabled",!e.valid),t.xp6(2),t.hij(" ",t.lcZ(3,2,"ACTION.Send_Message")," ")}}function lt(i,u){if(1&i&&(t.TgZ(0,"div",52),t.YNc(1,at,4,4,"button",53),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.loading.display)}}const rt=function(i){return{direction:i}};let pt=(()=>{class i{cmsToastrService;data;dialogRef;smsMainApiPathService;http;router;translate;tokenHelper;publicHelper;static nextId=0;id=++i.nextId;constructor(e,o,n,s,h,M,T,ct,dt){this.cmsToastrService=e,this.data=o,this.dialogRef=n,this.smsMainApiPathService=s,this.http=h,this.router=M,this.translate=T,this.tokenHelper=ct,this.publicHelper=dt,o&&(this.optionLabel=o.title,this.optionurlViewContentQRCodeBase64=o.urlViewContentQRCodeBase64,this.optionurlViewContent=o.urlViewContent)}dataModel=new p.sh1;loading=new g.O;formInfo=new p.LEF;loadingAction=new g.O;tokenInfo=new p.OdC;message;formGroup;optionLabel="";optionurlViewContentQRCodeBase64="";optionurlViewContent="";QDocModel={};cmsApiStoreSubscribe;ngOnInit(){this.dataModel.message=`${this.optionLabel}\n    ${this.optionurlViewContent}`,this.tokenHelper.getCurrentToken().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}onActionSelectApiNumber(e){e&&e.id?.length>0?this.dataModel.linkFromNumber=e.id:e&&e.numberChar?.length>0&&(this.dataModel.linkFromNumber=e.numberChar)}onActionMessageLTR(){this.message.nativeElement.style.direction="ltr",this.message.nativeElement.style.textAlign="left"}onActionMessageRTL(){this.message.nativeElement.style.direction="rtl",this.message.nativeElement.style.textAlign="right"}sendByShow=!1;dataModelParentSelected;onActionSelectPrivateSiteConfig(e){this.dataModelParentSelected=e,e&&e.id.length>0&&(this.dataModel.linkApiPathId=e.id,this.sendByShow=!1,e.apiAbilitySendByDirect&&(this.dataModel.sendByQeue=!1),e.apiAbilitySendByQueue&&(this.dataModel.sendByQeue=!0),e.apiAbilitySendByQueue&&e.apiAbilitySendByDirect&&(this.sendByShow=!0))}onActionSendUrlToQDoc(){this.QDocModel.message=this.optionurlViewContent,!this.QDocModel.username&&this.QDocModel.username.length<=0?this.cmsToastrService.typeWarningSelected("\u06a9\u062f \u0634\u0646\u0627\u0633\u0647 \u0631\u0627 \u0627\u0632 \u0648\u0628\u0633\u0627\u06cc\u062a https://Qdoc.ir \u062f\u0631\u06cc\u0627\u0641\u062a \u0646\u0645\u0627\u06cc\u06cc\u062f"):this.http.post(A.N.cmsServerConfig.configQDocServerPath,this.QDocModel,{headers:{}}).subscribe({next:e=>{this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_order_was_sent_to_the_website"))},error:e=>{this.cmsToastrService.typeErrorMessage("\u0628\u0631\u0631\u0648\u0632 \u062e\u0637\u0627 \u062f\u0631 \u0627\u0631\u0633\u0627\u0644 \u062f\u0633\u062a\u0648\u0631",e)}})}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.formSubmitAllow=!1;const e=this.constructor.name+"main";this.loadingAction.Start(e),this.formInfo.formAlert="",this.formInfo.formError="",this.smsMainApiPathService.ServiceSendMessage(this.dataModel).subscribe({next:o=>{this.formInfo.formSubmitAllow=!0,o.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Submit_request_was_successfully_registered"),this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Send_request_was_successfully_registered"))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError=o.errorMessage,this.cmsToastrService.typeErrorMessage(o.errorMessage)),this.loadingAction.Stop(e)},error:o=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(o),this.loadingAction.Stop(e)},complete:()=>{}})}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onActionOpenLink(){this.router.serializeUrl(this.router.createUrlTree([this.optionurlViewContent])),window.open(this.optionurlViewContent,"_blank")}static \u0275fac=function(o){return new(o||i)(t.Y36(C.e),t.Y36(a.WI),t.Y36(a.so),t.Y36(p.sZP),t.Y36(I.eN),t.Y36(f.F0),t.Y36(d.sK),t.Y36(r.v),t.Y36(S.i))};static \u0275cmp=t.Xpm({type:i,selectors:[["app-cms-link-to"]],viewQuery:function(o,n){if(1&o&&(t.Gf(X,5),t.Gf(z,5)),2&o){let s;t.iGM(s=t.CRH())&&(n.message=s.first),t.iGM(s=t.CRH())&&(n.formGroup=s.first)}},inputs:{optionLabel:"optionLabel",optionurlViewContentQRCodeBase64:"optionurlViewContentQRCodeBase64",optionurlViewContent:"optionurlViewContent"},decls:41,vars:31,consts:[[3,"Key"],[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngStyle","ngSubmit"],["vform","ngForm"],[3,"label"],[1,"row",2,"padding","5px"],[4,"ngIf"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-9",2,"padding-top","40px"],[3,"optionLoading","optionSelectForce","optionPlaceholder","optionSelectFirstItem","optionChange","optionLoadingChange"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange",4,"ngIf"],[1,"col-md-6","col-sm-6","col-xs-9"],[1,"message-box"],[1,"row",2,"height","300px"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.message",1,"color-highlight"],["matInput","","name","dataModel.message","type","text","placeholder","...","minlength","1","maxlength","500","rows","9","id","dataModel.message",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["Message",""],[1,"row",2,"height","83px"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","row","style","height:140px;bottom: 4vh;justify-content: center;",4,"ngIf"],[1,"col-md-12","col-sm-12","col-xs-18"],["for","QDocModel.username",1,"color-highlight"],["matInput","","type","text","name","QDocModel.username","id","QDocModel.username","placeholder","12345",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["QDocCode",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["type","button","type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"col-md-6","col-sm-6","col-xs-9",2,"text-align","center"],[1,"mt-4"],["target","_blank",1,"style","whatsapp",3,"href"],[1,"flaticon-whatsapp","text-dark"],["target","_blank",1,"style","telegram",3,"href"],[1,"flaticon2-telegram-logo","text-dark"],["target","_blank",1,"style","linkedin",3,"href"],[1,"flaticon-linkedin-logo","text-dark"],["target","_blank",1,"style","facebook",3,"href"],[1,"flaticon-facebook-letter-logo","text-dark"],["target","_blank",1,"style","twitter",3,"href"],[1,"flaticon-twitter-logo","text-dark"],[1,"navi-icon","style","cursor",3,"cdkCopyToClipboard","click"],[1,"flaticon2-copy","text-dark"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa","fa-check-square-o"],["target","_blank",3,"href"],["height","200px","width","200px",3,"src","alt"],[3,"optionLoading","optionSelectForce","optionLinkApiPathId","optionPlaceholder","optionSelectFirstItem","optionSelectFirstItemOnChangeApi","optionLoadingChange","optionChange"],["for","dataModel.toNumbers",1,"color-highlight"],["matInput","","name","dataModel.toNumbers","type","text","placeholder","0912","minlength","1","maxlength","500","rows","2","id","dataModel.toNumbers",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["ToNumbers",""],[1,"row",2,"height","140px","bottom","4vh","justify-content","center"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"disabled"]],template:function(o,n){if(1&o&&(t._UZ(0,"app-cms-guide-notice",0)(1,"cms-progress-spinner",1),t.TgZ(2,"div",2)(3,"div",3)(4,"p",4),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"form",5,6),t.NdJ("ngSubmit",function(){return n.onFormSubmit()}),t.TgZ(11,"mat-tab-group")(12,"mat-tab",7),t.ALo(13,"translate"),t.TgZ(14,"div",8),t.YNc(15,ot,34,20,"div",9),t.qZA()(),t.TgZ(16,"mat-tab",7),t.ALo(17,"translate"),t.TgZ(18,"div",10)(19,"div",11)(20,"app-cms-sms-apipath-selector",12),t.NdJ("optionChange",function(h){return n.onActionSelectPrivateSiteConfig(h)})("optionLoadingChange",function(h){return n.loading=h}),t.ALo(21,"translate"),t.qZA(),t.YNc(22,nt,2,7,"app-cms-sms-api-number-selector",13),t.qZA(),t.TgZ(23,"div",14)(24,"div",15)(25,"div",16)(26,"div",17)(27,"label",18),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"textarea",19,20),t.NdJ("ngModelChange",function(h){return n.dataModel.message=h}),t._uU(32,"                                                "),t.qZA(),t.TgZ(33,"em"),t._uU(34),t.qZA(),t.YNc(35,it,6,6,"mat-error",9),t.qZA()(),t._UZ(36,"br"),t.TgZ(37,"div",21),t.YNc(38,st,10,7,"div",22),t.qZA(),t._UZ(39,"br"),t.YNc(40,lt,2,1,"div",23),t.qZA()()()()()()()()),2&o){const s=t.MAs(31);t.Q6J("Key","linkto.content"),t.xp6(1),t.Q6J("options",n.loadingAction),t.xp6(4),t.hij(" ",n.formInfo.formTitle," "),t.xp6(2),t.hij(" ",t.lcZ(8,19,"TITLE.Be_Careful_When_Entering_Information")," "),t.xp6(2),t.Q6J("ngStyle",t.VKq(29,rt,n.tokenInfo.direction)),t.xp6(3),t.s9C("label",t.lcZ(13,21,"TITLE.LINKTO")),t.xp6(3),t.Q6J("ngIf",n.optionurlViewContent&&n.optionurlViewContent.length>0),t.xp6(1),t.s9C("label",t.lcZ(17,23,"TITLE.Send_Message")),t.xp6(4),t.Q6J("optionLoading",n.loading)("optionSelectForce",null==n.dataModel?null:n.dataModel.linkApiPathId)("optionPlaceholder",t.lcZ(21,25,"TITLE.Direction"))("optionSelectFirstItem",!0),t.xp6(2),t.Q6J("ngIf",(null==n.dataModel.linkApiPathId?null:n.dataModel.linkApiPathId.length)>0),t.xp6(6),t.Oqu(t.lcZ(29,27,"TITLE.Message_Text")),t.xp6(2),t.Q6J("ngModel",n.dataModel.message),t.xp6(4),t.hij("",s.value.length," / 500"),t.xp6(1),t.Q6J("ngIf",null==s.errors?null:s.errors.required),t.xp6(3),t.Q6J("ngIf",!(n.dataModel.toContactCategories&&0!==(null==n.dataModel.toContactCategories?null:n.dataModel.toContactCategories.length)||n.dataModel.toContactContents&&0!==(null==n.dataModel.toContactContents?null:n.dataModel.toContactContents.length))),t.xp6(2),t.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[c.O5,c.PC,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.On,m.F,_.TO,b.Nt,L.uX,L.SP,N.i3,J.I,U.v,B,$,d.X$],styles:[".style[_ngcontent-%COMP%]{padding:6px;margin:2px;font-size:20px;text-align:center;text-decoration:none;border:black solid 2px;border-radius:50%}.style-copy[_ngcontent-%COMP%]{color:#000;border-radius:20%}.whatsapp[_ngcontent-%COMP%]:hover{background-color:#adff2f}.facebook[_ngcontent-%COMP%]:hover{background:#3B5998}.twitter[_ngcontent-%COMP%]:hover{background:#55ACEE}.linkedin[_ngcontent-%COMP%]:hover{background:#007bb5}.telegram[_ngcontent-%COMP%]:hover{background:#125688}.cursor[_ngcontent-%COMP%]{cursor:pointer}.message-box[_ngcontent-%COMP%]{background-image:url(/assets/media/bg/iphone.png);height:600px;width:300px;background-position:center;background-repeat:no-repeat;background-size:cover;padding-right:33px;padding-left:33px}.message-box-button[_ngcontent-%COMP%]{color:#00f;border-color:transparent;background-color:transparent}.message-box-button[_ngcontent-%COMP%]:hover{color:red;font-size:initial}.message-box-button[_ngcontent-%COMP%]:active{color:#a200ff}"]})}return i})()},7529:(x,v,l)=>{l.d(v,{I:()=>d});var a=l(4537),p=l(8832),g=l(8692),A=l(8697);const t=["progressSpinnerRef"];function C(r,S){if(1&r&&(a.TgZ(0,"ul",5)(1,"li")(2,"span",6),a._UZ(3,"i",7),a.qZA(),a._uU(4),a.qZA()()),2&r){const c=S.$implicit;a.xp6(3),a.Q6J("ngClass",c.value.inRun?"fas fa-spinner fa-pulse":"fas fa-check-square"),a.xp6(1),a.hij("",c.value.title," ")}}function I(r,S){if(1&r&&(a._UZ(0,"mat-progress-spinner",3)(1,"br"),a.TgZ(2,"div"),a._uU(3),a._UZ(4,"br"),a.YNc(5,C,5,2,"ul",4),a.ALo(6,"keyvalue"),a.qZA()),2&r){const c=a.oxw();a.Q6J("color",c.optionsData.color)("diameter",c.optionsData.diameter)("mode",c.optionsData.mode)("strokeWidth",c.optionsData.strokeWidth)("value",c.optionsData.value),a.xp6(3),a.hij("",c.optionsData.message," "),a.xp6(2),a.Q6J("ngForOf",a.lcZ(6,7,c.optionsData.processInfoAll))}}function f(r,S){if(1&r&&(a.TgZ(0,"div",8),a._UZ(1,"mat-progress-spinner",3)(2,"br"),a.TgZ(3,"div"),a._uU(4),a.qZA()()),2&r){const c=a.oxw();a.xp6(1),a.Q6J("color",c.optionsData.color)("diameter",c.optionsData.diameter)("mode",c.optionsData.mode)("strokeWidth",c.optionsData.strokeWidth)("value",c.optionsData.value),a.xp6(3),a.Oqu(c.optionsData.message)}}let d=(()=>{class r{vcRef;overlayService;static nextId=0;id=++r.nextId;set options(c){this.optionsData=c}get options(){return this.optionsData}optionsData;progressSpinnerRef;progressSpinnerOverlayConfig;overlayRef;constructor(c,m){this.vcRef=c,this.overlayService=m}ngOnInit(){!this.optionsData||!this.optionsData.Globally||(this.progressSpinnerOverlayConfig={hasBackdrop:this.optionsData.backdropEnabled},this.optionsData.positionGloballyCenter&&(this.progressSpinnerOverlayConfig.positionStrategy=this.overlayService.positionGloballyCenter()),this.overlayRef=this.overlayService.createOverlay(this.progressSpinnerOverlayConfig))}ngDoCheck(){!this.optionsData||!this.optionsData.Globally||(this.optionsData.display&&!this.overlayRef.hasAttached()?(this.overlayService.attachTemplatePortal(this.overlayRef,this.progressSpinnerRef,this.vcRef),this.optionsData&&this.optionsData.cdr&&this.optionsData.cdr.detectChanges()):!this.optionsData.display&&this.overlayRef.hasAttached()&&this.overlayRef.detach())}static \u0275fac=function(m){return new(m||r)(a.Y36(a.s_b),a.Y36(p.F))};static \u0275cmp=a.Xpm({type:r,selectors:[["cms-progress-spinner"]],viewQuery:function(m,_){if(1&m&&a.Gf(t,7),2&m){let b;a.iGM(b=a.CRH())&&(_.progressSpinnerRef=b.first)}},inputs:{options:"options"},decls:3,vars:1,consts:[["class","message"],["progressSpinnerRef",""],["class","message",4,"ngIf"],[3,"color","diameter","mode","strokeWidth","value"],["class","fa-ul",4,"ngFor","ngForOf"],[1,"fa-ul"],[1,"fa-li"],[3,"ngClass"],[1,"message"]],template:function(m,_){1&m&&(a.YNc(0,I,7,9,"ng-template",0,1,a.W1O),a.YNc(2,f,5,6,"div",2)),2&m&&(a.xp6(2),a.Q6J("ngIf",!_.optionsData.Globally&&_.optionsData.display))},dependencies:[g.mk,g.sg,g.O5,A.Ou,g.Nd],styles:[".message[_ngcontent-%COMP%]{position:absolute;text-align:center;top:49%;left:44%}"]})}return r})()}}]);