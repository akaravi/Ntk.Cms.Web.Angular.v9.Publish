"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[5087],{2725:(L,U,p)=>{p.d(U,{F:()=>u});var h=p(6523),i=p(1995);function u(v=0,m=h.z){return v<0&&(v=0),(0,i.H)(v,v,m)}},5087:(L,U,p)=>{p.r(U),p.d(U,{AuthModule:()=>Bt});var h=p(8692),i=p(92),u=p(4511),v=p(5642),m=p(7111),l=p(1436),g=p(4592),_=p(6114),b=p(656),w=p(2340),t=p(4537),M=p(4032);let Z=(()=>{class n{publicHelper;translate;cdr;constructor(r,o,e){this.publicHelper=r,this.translate=o,this.cdr=e,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.loading.message=s})}loading=new b.O;today=new Date;showSplashModel=!0;ngOnInit(){window.innerWidth<w.N.cmsViewConfig.mobileWindowInnerWidth&&setTimeout(()=>{this.showSplashModel=!1,this.cdr.markForCheck()},5e3)}static \u0275fac=function(o){return new(o||n)(t.Y36(M.i),t.Y36(l.g),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth"]],decls:3,vars:0,consts:[[1,"page-content","header-clear-medium"],[1,"content"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA()())},dependencies:[_.lC]})}return n})();var C=p(2607),T=p(6707),P=p(6845),x=p(8659),N=p(3331),y=p(7529),J=p(486);function B(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.MOBILE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function F(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}const q=function(n){return{display:n}};function k(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"form",9,10),t.NdJ("ngSubmit",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t.TgZ(2,"div",11),t._UZ(3,"i",12),t.TgZ(4,"input",13,14),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordBySms.mobile=e)}),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"label",15),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",16)(11,"i",17),t.TgZ(12,"em"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,B,6,6,"mat-error",18),t.qZA(),t.TgZ(16,"img",19),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(17,"mat-icon",20),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(18,"refresh"),t.qZA(),t.TgZ(19,"div",11),t._UZ(20,"i",21),t.TgZ(21,"input",22,23),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordBySms.captchaText=e)}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"label",24),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"i",16)(28,"i",17),t.TgZ(29,"em"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,F,6,6,"mat-error",18),t.qZA(),t.TgZ(33,"button",25),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"button",26),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.changeforgetState("email"))}),t._uU(37),t.ALo(38,"translate"),t.qZA()()}if(2&n){const r=t.MAs(1),o=t.MAs(5),e=t.MAs(22),s=t.oxw();t.Q6J("ngStyle",t.VKq(34,q,s.errorState===s.errorStates.NoError?"none":"block")),t.xp6(4),t.s9C("placeholder",t.lcZ(6,18,"AUTH.FORGOT.MOBILE")),t.Q6J("ngModel",s.dataModelforgetPasswordBySms.mobile)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(9,20,"AUTH.FORGOT.MOBILE")),t.xp6(5),t.hij("(",t.lcZ(14,22,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",s.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(23,24,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",s.dataModelforgetPasswordBySms.captchaText)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(26,26,"AUTH.INPUT.CAPTCHACODE")),t.xp6(5),t.hij("(",t.lcZ(31,28,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("disabled",r.invalid||!s.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(35,30,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(2),t.Q6J("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(38,32,"MESSAGE.Reminders.by.email")," ")}}function D(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.EMAIL")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Q(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Y(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"form",9,27),t.NdJ("ngSubmit",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeByEmail())}),t.TgZ(2,"div",11),t._UZ(3,"i",12),t.TgZ(4,"input",28,29),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordByEmail.email=e)}),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"label",30),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",16)(11,"i",17),t.TgZ(12,"em"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,D,6,6,"mat-error",18),t.qZA(),t.TgZ(16,"img",19),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(17,"mat-icon",20),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(18,"refresh"),t.qZA(),t.TgZ(19,"div",11),t._UZ(20,"i",21),t.TgZ(21,"input",31,23),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordByEmail.captchaText=e)}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"label",32),t._uU(25),t.ALo(26,"translate"),t.qZA(),t._UZ(27,"i",16)(28,"i",17),t.TgZ(29,"em"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.YNc(32,Q,6,6,"mat-error",18),t.qZA(),t.TgZ(33,"button",25),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"button",26),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.changeforgetState("sms"))}),t._uU(37),t.ALo(38,"translate"),t.qZA()()}if(2&n){const r=t.MAs(1),o=t.MAs(5),e=t.MAs(22),s=t.oxw();t.Q6J("ngStyle",t.VKq(34,q,s.errorState===s.errorStates.NoError?"none":"block")),t.xp6(4),t.s9C("placeholder",t.lcZ(6,18,"AUTH.FORGOT.EMAIL")),t.Q6J("ngModel",s.dataModelforgetPasswordByEmail.email)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(9,20,"AUTH.FORGOT.EMAIL")),t.xp6(5),t.hij("(",t.lcZ(14,22,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",s.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(23,24,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",s.dataModelforgetPasswordByEmail.captchaText)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(26,26,"AUTH.INPUT.CAPTCHACODE")),t.xp6(5),t.hij("(",t.lcZ(31,28,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("disabled",r.invalid||!s.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(35,30,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(2),t.Q6J("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(38,32,"MESSAGE.Reminder.by.SMS")," ")}}function K(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function j(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.FORGOT.PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function V(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CONFIRM_PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function W(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE.Password_and_password_confirmation_are_different")," "))}function z(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function X(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"form",9,33),t.NdJ("ngSubmit",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitEntryPinCode())}),t.TgZ(2,"div",11),t._UZ(3,"i",12),t.TgZ(4,"input",34,35),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordEntryPinCode.activateCode=e)}),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"label",36),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",16)(11,"i",17),t.TgZ(12,"em"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,K,6,6,"mat-error",18),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"i",37),t.TgZ(18,"input",38,39),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordEntryPinCode.newPassword=e)}),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"label",40),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"i",16)(25,"i",17),t.TgZ(26,"em"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.YNc(29,j,6,6,"mat-error",18),t.qZA(),t.TgZ(30,"app-password-strength",41),t.NdJ("passwordStrength",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.passwordValid(e))}),t.qZA(),t.TgZ(31,"div",11),t._UZ(32,"i",37),t.TgZ(33,"input",42,43),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.RePasswordModel=e)}),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"label",44),t._uU(37),t.ALo(38,"translate"),t.qZA(),t._UZ(39,"i",16)(40,"i",17),t.TgZ(41,"em"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.YNc(44,V,6,6,"mat-error",18),t.YNc(45,W,3,3,"mat-error",18),t.qZA(),t.TgZ(46,"img",19),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(47,"mat-icon",20),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(48,"refresh"),t.qZA(),t.TgZ(49,"div",11),t._UZ(50,"i",21),t.TgZ(51,"input",45,23),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelforgetPasswordEntryPinCode.captchaText=e)}),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"label",46),t._uU(55),t.ALo(56,"translate"),t.qZA(),t._UZ(57,"i",16)(58,"i",17),t.TgZ(59,"em"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.YNc(62,z,6,6,"mat-error",18),t.qZA(),t.TgZ(63,"button",25),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"button",26),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.changeforgetState("sms"))}),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"button",26),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.changeforgetState("email"))}),t._uU(70),t.ALo(71,"translate"),t.qZA()()}if(2&n){const r=t.MAs(1),o=t.MAs(5),e=t.MAs(19),s=t.MAs(34),a=t.MAs(52),c=t.oxw();t.Q6J("ngStyle",t.VKq(64,q,c.errorState===c.errorStates.NoError?"none":"block")),t.xp6(4),t.MGl("placeholder"," ",t.lcZ(6,34,"AUTH.FORGOT.SEND_PIN_CODE"),""),t.Q6J("ngModel",c.dataModelforgetPasswordEntryPinCode.activateCode)("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(4),t.hij(" ",t.lcZ(9,36,"AUTH.FORGOT.PIN_CODE"),""),t.xp6(5),t.hij("(",t.lcZ(14,38,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(3),t.MGl("placeholder"," ",t.lcZ(20,40,"AUTH.FORGOT.PASSWORD"),""),t.Q6J("ngModel",c.dataModelforgetPasswordEntryPinCode.newPassword)("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(4),t.hij(" ",t.lcZ(23,42,"AUTH.FORGOT.PASSWORD"),""),t.xp6(5),t.hij("(",t.lcZ(28,44,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("passwordToCheck",c.dataModelforgetPasswordEntryPinCode.newPassword),t.xp6(3),t.s9C("placeholder",t.lcZ(35,46,"AUTH.INPUT.CONFIRM_PASSWORD")),t.Q6J("ngModel",c.RePasswordModel)("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(38,48,"AUTH.INPUT.CONFIRM_PASSWORD")),t.xp6(5),t.hij("(",t.lcZ(43,50,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==s.errors?null:s.errors.required),t.xp6(1),t.Q6J("ngIf",(null==c.RePasswordModel?null:c.RePasswordModel.length)>0&&s.value!==e.value),t.xp6(1),t.s9C("src",c.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(53,52,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",c.dataModelforgetPasswordEntryPinCode.captchaText)("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(56,54,"AUTH.INPUT.CAPTCHACODE")),t.xp6(5),t.hij("(",t.lcZ(61,56,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==a.errors?null:a.errors.required),t.xp6(1),t.Q6J("disabled",r.invalid||!c.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(65,58,"AUTH.FORGOT.SEND_PIN_CODE")," "),t.xp6(2),t.Q6J("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(68,60,"MESSAGE.Reminder.by.SMS")," "),t.xp6(2),t.Q6J("disabled",!c.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(71,62,"MESSAGE.Resend_the_recovery_code")," ")}}function $(n,d){if(1&n&&(t.ynx(0),t.TgZ(1,"div",47)(2,"div",48),t._uU(3),t.qZA()(),t.BQk()),2&n){const r=t.oxw().message;t.xp6(3),t.hij(" ",r," ")}}function tt(n,d){if(1&n&&t.YNc(0,$,4,1,"ng-container",18),2&n){const r=d.control;t.Q6J("ngIf",r.hasError(d.validation)&&(r.dirty||r.touched))}}const et=function(){return["/auth/singin"]},ot=function(){return["/auth/singup"]};var E=(()=>{return(n=E||(E={}))[n.NotSubmitted=0]="NotSubmitted",n[n.HasError=1]="HasError",n[n.NoError=2]="NoError",E;var n})();let rt=(()=>{class n{coreAuthService;cmsToastrService;translate;router;cdr;publicHelper;pageInfo;constructor(r,o,e,s,a,c,S){this.coreAuthService=r,this.cmsToastrService=o,this.translate=e,this.router=s,this.cdr=a,this.publicHelper=c,this.pageInfo=S,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(f=>{this.loading.message=f}),this.RePasswordModel=""}errorState=E.NotSubmitted;errorStates=E;isLoading$;dataModelforgetPasswordBySms=new u.JVu;dataModelforgetPasswordByEmail=new u.JVu;dataModelforgetPasswordEntryPinCode=new u.z2K;captchaModel=new u.Frc;forgetState="sms";loading=new b.O;formInfo=new u.LEF;passwordIsValid=!1;RePasswordModel="";onCaptchaOrderInProcess=!1;ngOnInit(){this.onCaptchaOrder(),this.pageInfo.updateTitle(this.translate.instant("AUTH.FORGOT.TITLE"))}onActionSubmitOrderCodeBySms(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=E.NotSubmitted,this.dataModelforgetPasswordBySms.captchaKey=this.captchaModel.key,this.dataModelforgetPasswordEntryPinCode.email="",this.dataModelforgetPasswordEntryPinCode.mobile=this.dataModelforgetPasswordBySms.mobile;const r=this.constructor.name+".ServiceForgetPassword";this.publicHelper.processService.processStart(r,this.translate.instant("AUTH.FORGOT.REQUEST_PASSWORD_REMINDER")),this.coreAuthService.ServiceForgetPassword(this.dataModelforgetPasswordBySms).subscribe({next:o=>{o.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_activation_code_was_texted_with_you")),this.forgetState="entrycode"):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)},error:o=>{this.cmsToastrService.typeError(o),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}onActionSubmitOrderCodeByEmail(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=E.NotSubmitted,this.dataModelforgetPasswordByEmail.captchaKey=this.captchaModel.key,this.dataModelforgetPasswordEntryPinCode.mobile="",this.dataModelforgetPasswordEntryPinCode.email=this.dataModelforgetPasswordByEmail.email;const r=this.constructor.name+".ServiceForgetPassword";this.publicHelper.processService.processStart(r,this.translate.instant("AUTH.FORGOT.REQUEST_PASSWORD_REMINDER")),this.coreAuthService.ServiceForgetPassword(this.dataModelforgetPasswordByEmail).subscribe({next:o=>{o.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_activation_code_was_emailed_to_you")),this.forgetState="entrycode"):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)},error:o=>{this.cmsToastrService.typeError(o),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}onActionSubmitEntryPinCode(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=E.NotSubmitted,this.dataModelforgetPasswordEntryPinCode.captchaKey=this.captchaModel.key;const r=this.constructor.name+".ServiceForgetPasswordEntryPinCode";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.Check_the_code_on_the_server")),this.coreAuthService.ServiceForgetPasswordEntryPinCode(this.dataModelforgetPasswordEntryPinCode).subscribe({next:o=>{o.isSuccess?(this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Your_password_was_changed_successfully")),setTimeout(()=>this.router.navigate(["/"]),1e3)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)},error:o=>{this.cmsToastrService.typeError(o),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}passwordValid(r){this.passwordIsValid=r}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModelforgetPasswordBySms.captchaText="";const r=this.constructor.name+".ServiceCaptcha";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:o=>{this.captchaModel=o.item,this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)},error:o=>{this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)}})}changeforgetState(r){this.forgetState=r}static \u0275fac=function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(C.e),t.Y36(T.sK),t.Y36(_.F0),t.Y36(t.sBO),t.Y36(M.i),t.Y36(P.Z))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-forgot-password"]],decls:21,vars:17,consts:[[3,"options"],[1,"card","card-style"],[1,"font-600","color-highlight","mb-0"],["class","form fv-plugins-bootstrap fv-plugins-framework","novalidate","novalidate","id","kt_login_forgot_form",3,"ngStyle","ngSubmit",4,"ngIf"],["formError",""],[1,"row","pt-3","mb-0"],[1,"col-6","text-start"],[1,"color-highlight",3,"routerLink"],[1,"col-6","text-end"],["novalidate","novalidate","id","kt_login_forgot_form",1,"form","fv-plugins-bootstrap","fv-plugins-framework",3,"ngStyle","ngSubmit"],["vformBySms","ngForm"],[1,"input-style","no-borders","has-icon","validate-field","mb-4"],[1,"fa","fa-at"],["type","text","name","dataModelforgetPasswordBySms.mobile","id","dataModelforgetPasswordBySms.mobile","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["Mobile",""],["for","dataModelforgetPasswordBySms.mobile",1,"color-highlight","font-11","font-500"],[1,"fa","fa-times","disabled","invalid","color-red-dark"],[1,"fa","fa-check","disabled","valid","color-green-dark"],[4,"ngIf"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],[1,"fa","fa-quote-left"],["name","dataModelforgetPasswordBySms.captchaText","id","dataModelforgetPasswordBySms.captchaText","type","text","minlength","5","maxlength","5","autocomplete","off","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],["for","dataModelforgetPasswordBySms.captchaText",1,"color-highlight"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled","click"],["vformByEmail","ngForm"],["type","email","name","dataModelforgetPasswordByEmail.email","id","dataModelforgetPasswordByEmail.email","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["email",""],["for","dataModelforgetPasswordByEmail.email",1,"color-highlight","font-11","font-500"],["name","dataModelforgetPasswordByEmail.captchaText","id","dataModelforgetPasswordByEmail.captchaText","type","text","minlength","5","maxlength","5","autocomplete","off","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["for","dataModelforgetPasswordByEmail.captchaText",1,"color-highlight"],["vformEntryCode","ngForm"],["name","dataModelforgetPasswordEntryPinCode.activateCode","type","text","autocomplete","off","id","dataModelforgetPasswordEntryPinCode.activateCode","minlength","3","maxlength","5","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["ActivateCode",""],["for","dataModelforgetPasswordEntryPinCode.activateCode",1,"color-highlight","font-11","font-500"],[1,"fa","fa-lock"],["name","dataModelforgetPasswordEntryPinCode.newPassword","id","dataModelforgetPasswordEntryPinCode.newPassword","type","password","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["newPassword",""],["for","dataModelforgetPasswordEntryPinCode.newPassword",1,"color-highlight","font-11","font-500"],[3,"passwordToCheck","passwordStrength"],["type","password","id","RePassword","name","RePasswordModel","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["RePassword",""],["for","RePassword",1,"color-highlight"],["name","dataModelforgetPasswordEntryPinCode.captchaText","id","dataModelforgetPasswordEntryPinCode.captchaText","type","text","autocomplete","off","minlength","4","maxlength","10","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["for","dataModelforgetPasswordEntryPinCode.captchaText",1,"color-highlight"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(o,e){1&o&&(t._UZ(0,"cms-progress-spinner",0),t.TgZ(1,"div",1)(2,"p",2),t._uU(3,"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06cc \u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,k,39,36,"form",3),t.YNc(8,Y,39,36,"form",3),t.YNc(9,X,72,66,"form",3),t.YNc(10,tt,1,1,"ng-template",null,4,t.W1O),t.TgZ(12,"div",5)(13,"div",6)(14,"a",7),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"div",8)(18,"a",7),t._uU(19),t.ALo(20,"translate"),t.qZA()()()()),2&o&&(t.Q6J("options",e.loading),t.xp6(5),t.hij(" ",t.lcZ(6,9,"AUTH.FORGOT.DESCSMS")," "),t.xp6(2),t.Q6J("ngIf","sms"===e.forgetState),t.xp6(1),t.Q6J("ngIf","email"===e.forgetState),t.xp6(1),t.Q6J("ngIf","entrycode"===e.forgetState),t.xp6(5),t.Q6J("routerLink",t.DdM(15,et)),t.xp6(1),t.Oqu(t.lcZ(16,11,"AUTH.REGISTER.RETURN_TO_LOGIN")),t.xp6(3),t.Q6J("routerLink",t.DdM(16,ot)),t.xp6(1),t.Oqu(t.lcZ(20,13,"AUTH.GENERAL.SIGNUP_BUTTON")))},dependencies:[h.O5,h.PC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,x.TO,x.R9,N.Hw,y.I,J.Z,_.rH,T.X$],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return n})();var nt=p(2725),R=p(3067),st=p(5852);function at(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.SINGINBYSMS.MOBILE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function it(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}const G=function(n){return{display:n}};function lt(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"form",9,10),t.NdJ("ngSubmit",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t.TgZ(2,"div",11),t._UZ(3,"i",12),t.TgZ(4,"input",13,14),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelAuthUserSignInBySms.mobile=e)}),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"label",15),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"i",16)(11,"i",17),t.YNc(12,at,6,6,"mat-error",18),t.qZA(),t.TgZ(13,"img",19),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(14,"mat-icon",20),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(15,"refresh"),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"i",21),t.TgZ(18,"input",22,23),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModelAuthUserSignInBySms.captchaText=e)}),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"label",24),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"i",16)(25,"i",17),t.YNc(26,it,6,6,"mat-error",18),t.qZA(),t.TgZ(27,"button",25),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._UZ(30,"br"),t.qZA()}if(2&n){const r=t.MAs(1),o=t.MAs(5),e=t.MAs(19),s=t.oxw();t.Q6J("ngStyle",t.VKq(24,G,s.errorState===s.errorStates.NoError?"none":"block")),t.xp6(4),t.s9C("placeholder",t.lcZ(6,14,"AUTH.SINGINBYSMS.MOBILE")),t.Q6J("ngModel",s.dataModelAuthUserSignInBySms.mobile)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(9,16,"AUTH.SINGINBYSMS.MOBILE")),t.xp6(4),t.Q6J("ngIf",null==o.errors?null:o.errors.required),t.xp6(1),t.s9C("src",s.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(20,18,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",s.dataModelAuthUserSignInBySms.captchaText)("disabled",!s.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(23,20,"AUTH.INPUT.CAPTCHACODE")),t.xp6(4),t.Q6J("ngIf",null==e.errors?null:e.errors.required),t.xp6(1),t.Q6J("disabled",r.invalid||!s.formInfo.buttonSubmittedEnabled||!s.connectionStatus.internetConnection),t.xp6(1),t.hij(" ",t.lcZ(29,22,"AUTH.SINGINBYSMS.SEND_PIN_CODE")," ")}}function ct(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"img",19),t.NdJ("click",function(){t.CHM(r);const e=t.oxw(2);return t.KtG(e.onCaptchaOrder())}),t.qZA()}if(2&n){const r=t.oxw(2);t.s9C("src",r.captchaModel.image,t.LSH)}}function dt(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"mat-icon",20),t.NdJ("click",function(){t.CHM(r);const e=t.oxw(2);return t.KtG(e.onCaptchaOrder())}),t._uU(1,"refresh"),t.qZA()}}function ut(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CAPTCHACODE")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function pt(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"div",11),t._UZ(1,"i",21),t.TgZ(2,"input",22,23),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw(2);return t.KtG(s.dataModelAuthUserSignInBySms.captchaText=e)}),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"label",24),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"i",16)(9,"i",17),t.YNc(10,ut,6,6,"mat-error",18),t.qZA()}if(2&n){const r=t.MAs(3),o=t.oxw(2);t.xp6(2),t.s9C("placeholder",t.lcZ(4,5,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",o.dataModelAuthUserSignInBySms.captchaText)("disabled",!o.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(7,7,"AUTH.INPUT.CAPTCHACODE")),t.xp6(4),t.Q6J("ngIf",null==r.errors?null:r.errors.required)}}function ht(n,d){if(1&n&&t._UZ(0,"progress",35),2&n){const r=t.oxw(2);t.s9C("max",r.prorocess.progressBarMaxValue),t.Q6J("value",r.prorocess.progressBarValue)}}function mt(n,d){if(1&n){const r=t.EpF();t.TgZ(0,"form",9,26),t.NdJ("ngSubmit",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitEntryPinCode())}),t.TgZ(2,"p"),t._uU(3," \u0639\u062f\u062f \u062f\u0631\u06cc\u0627\u0641\u062a\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u0641\u0631\u0645\u0627\u06cc\u06cc\u062f "),t.qZA(),t.TgZ(4,"div",27)(5,"ng-otp-input",28,29),t.NdJ("onInputChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.onOtpChange(e))}),t.qZA()(),t.YNc(7,ct,1,1,"img",30),t.YNc(8,dt,2,0,"mat-icon",31),t.YNc(9,pt,11,9,"div",32),t.TgZ(10,"button",25),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",33),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onActionSubmitOrderCodeBySms())}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,ht,1,2,"progress",34),t.qZA()}if(2&n){const r=t.MAs(1),o=t.oxw();t.Q6J("ngStyle",t.VKq(15,G,o.errorState===o.errorStates.NoError?"none":"block")),t.xp6(5),t.Q6J("config",o.otpConfig),t.xp6(2),t.Q6J("ngIf",o.diffSeconds<0),t.xp6(1),t.Q6J("ngIf",o.diffSeconds<0),t.xp6(1),t.Q6J("ngIf",o.diffSeconds<0),t.xp6(1),t.Q6J("disabled",r.invalid||!o.formInfo.buttonSubmittedEnabled||!o.connectionStatus.internetConnection||!o.dataModelAuthUserSignInBySms.code||o.dataModelAuthUserSignInBySms.code.length<4),t.xp6(1),t.hij(" ",t.lcZ(12,11,"AUTH.SINGINBYSMS.LOGIN")," "),t.xp6(2),t.Q6J("disabled",o.buttonnResendSmsDisable||!o.connectionStatus.internetConnection),t.xp6(1),t.AsE(" ",t.lcZ(15,13,"AUTH.LOGIN.RESEND_SMS")," ",null==o.prorocess?null:o.prorocess.message," "),t.xp6(2),t.Q6J("ngIf",(null==o.prorocess?null:o.prorocess.progressBarValue)>0&&o.buttonnResendSmsDisable)}}function gt(n,d){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"div",37),t._uU(3),t.qZA()(),t.BQk()),2&n){const r=t.oxw().message;t.xp6(3),t.hij(" ",r," ")}}function ft(n,d){if(1&n&&t.YNc(0,gt,4,1,"ng-container",18),2&n){const r=d.control;t.Q6J("ngIf",r.hasError(d.validation)&&(r.dirty||r.touched))}}const _t=function(){return["/auth/singin"]},St=function(){return["/auth/singup"]};var I=(()=>{return(n=I||(I={}))[n.NotSubmitted=0]="NotSubmitted",n[n.HasError=1]="HasError",n[n.NoError=2]="NoError",I;var n})();class At{progressBarValue;progressBarMaxValue;message}let Tt=(()=>{class n{coreAuthService;cmsToastrService;translate;router;cmsTranslationService;cdr;publicHelper;pageInfo;constructor(r,o,e,s,a,c,S,f){this.coreAuthService=r,this.cmsToastrService=o,this.translate=e,this.router=s,this.cmsTranslationService=a,this.cdr=c,this.publicHelper=S,this.pageInfo=f,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A}),this.RePasswordModel="",this.publicHelper.getReducerCmsStoreOnChange().subscribe(A=>{this.connectionStatus=A.connectionStatus})}connectionStatus=new R.Q;errorState=I.NotSubmitted;errorStates=I;isLoading$;dataModelAuthUserSignInBySms=new u.KOP;captchaModel=new u.Frc;diffSecondsSubscribe;forgetState="sms";loading=new b.O;formInfo=new u.LEF;passwordIsValid=!1;RePasswordModel="";onCaptchaOrderInProcess=!1;diffSeconds;ngOnInit(){this.onCaptchaOrder(),this.pageInfo.updateTitle(this.translate.instant("AUTH.SINGINBYSMS.TITLE"))}ngAfterViewInit(){}prorocess;buttonnResendSmsDisable=!0;otpConfig={allowNumbersOnly:!0,length:4,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px",margin:"5px"}};onOtpChange(r){this.dataModelAuthUserSignInBySms.code=r}onActionSubmitOrderCodeBySms(){if("entrycode"==this.forgetState){if(!this.dataModelAuthUserSignInBySms.captchaText||0==this.dataModelAuthUserSignInBySms.captchaText.length)return void this.cmsToastrService.typeWarningMessage(this.translate.instant("ERRORMESSAGE.MESSAGE.typeErrorSetCpatcha"));this.dataModelAuthUserSignInBySms.code=""}this.formInfo.buttonSubmittedEnabled=!1,this.errorState=I.NotSubmitted,this.dataModelAuthUserSignInBySms.captchaKey=this.captchaModel.key,this.dataModelAuthUserSignInBySms.lang=this.cmsTranslationService.getSelectedLanguage();const r=this.constructor.name+".ServiceSigninUserBySMS";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.Send_login_request_with_one_time_password")),this.coreAuthService.ServiceSigninUserBySMS(this.dataModelAuthUserSignInBySms).subscribe({next:o=>{if(o.isSuccess){this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.The_login_code_was_texted_with_you")),this.forgetState="entrycode",this.prorocess=new At,this.prorocess.progressBarValue=0,this.prorocess.progressBarMaxValue=60,this.prorocess.message="",this.buttonnResendSmsDisable=!0;var e=this.prorocess.progressBarMaxValue;let s=setInterval(()=>{this.prorocess.progressBarValue=this.prorocess.progressBarMaxValue-e,this.prorocess.message="("+e+" "+this.translate.instant("MESSAGE.SECONDS")+")",(e-=1)<=0&&(this.buttonnResendSmsDisable=!1,this.prorocess.message="",clearInterval(s)),this.cdr.detectChanges()},1e3)}else this.cmsToastrService.typeErrorMessage(o.errorMessage);this.formInfo.buttonSubmittedEnabled=!0,(!this.captchaModel||this.diffSeconds<2)&&this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)},error:o=>{this.cmsToastrService.typeError(o),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}onActionSubmitEntryPinCode(){this.formInfo.buttonSubmittedEnabled=!1,this.errorState=I.NotSubmitted,this.dataModelAuthUserSignInBySms.captchaKey=this.captchaModel.key,this.dataModelAuthUserSignInBySms.lang=this.cmsTranslationService.getSelectedLanguage();const r=this.constructor.name+".ServiceSigninUserBySMS";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.Send_login_request_with_one_time_password"));const o=+localStorage.getItem("siteId");o>0&&(this.dataModelAuthUserSignInBySms.siteId=o);const e=+localStorage.getItem("ResellerSiteId");e>0&&(this.dataModelAuthUserSignInBySms.resellerSiteId=e);const s=+localStorage.getItem("ResellerUserId");s>0&&(this.dataModelAuthUserSignInBySms.resellerUserId=s),this.coreAuthService.ServiceSigninUserBySMS(this.dataModelAuthUserSignInBySms).subscribe({next:a=>{a.isSuccess?(this.cmsToastrService.typeSuccessLogin(),this.formInfo.buttonSubmittedEnabled=!1,a.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),1e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),1e3)):(this.onCaptchaOrder(),this.cmsToastrService.typeErrorMessage(a.errorMessage)),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(r)},error:a=>{this.cmsToastrService.typeError(a),this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}passwordValid(r){this.passwordIsValid=r}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.diffSecondsSubscribe&&this.diffSecondsSubscribe.unsubscribe(),this.dataModelAuthUserSignInBySms.captchaText="";const r=this.constructor.name+".ServiceCaptcha";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:o=>{this.captchaModel=o.item,this.onCaptchaOrderInProcess=!1,this.diffSecondsSubscribe=(0,nt.F)(1e3).subscribe(e=>{this.diffSeconds=new Date(this.captchaModel.expire).getTime()-(new Date).getTime(),this.diffSeconds<0&&(this.diffSecondsSubscribe.unsubscribe(),this.onCaptchaOrder())}),this.publicHelper.processService.processStop(r)},error:o=>{this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)}})}changeforgetState(r){this.forgetState=r}static \u0275fac=function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(C.e),t.Y36(T.sK),t.Y36(_.F0),t.Y36(l.g),t.Y36(t.sBO),t.Y36(M.i),t.Y36(P.Z))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-singin-bysms"]],decls:20,vars:16,consts:[[3,"options"],[1,"card","card-style"],[1,"font-600","color-highlight","mb-0"],["class","form fv-plugins-bootstrap fv-plugins-framework","novalidate","novalidate","id","kt_login_forgot_form",3,"ngStyle","ngSubmit",4,"ngIf"],["formError",""],[1,"row","pt-3","mb-0"],[1,"col-6","text-start"],[1,"color-highlight",3,"routerLink"],[1,"col-6","text-end"],["novalidate","novalidate","id","kt_login_forgot_form",1,"form","fv-plugins-bootstrap","fv-plugins-framework",3,"ngStyle","ngSubmit"],["vformBySms","ngForm"],[1,"input-style","no-borders","has-icon","validate-field","mb-4"],[1,"fa","fa-at"],["type","text","name","dataModelAuthUserSignInBySms.mobile","id","dataModelAuthUserSignInBySms.mobile","autocomplete","off","minlength","5","maxlength","50","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["Mobile",""],["for","dataModelAuthUserSignInBySms.mobile",1,"color-highlight","font-11","font-500"],[1,"fa","fa-times","disabled","invalid","color-red-dark"],[1,"fa","fa-check","disabled","valid","color-green-dark"],[4,"ngIf"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],[1,"fa","fa-quote-left"],["name","dataModelAuthUserSignInBySms.captchaText","id","dataModelAuthUserSignInBySms.captchaText","type","text","minlength","5","maxlength","5","autocomplete","off","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["captchaText",""],["for","dataModelAuthUserSignInBySms.captchaText",1,"color-highlight"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled"],["vformEntryCode","ngForm"],[2,"text-align","center"],[3,"config","onInputChange"],["ngOtpInput",""],["class","mb-3","alt","",3,"src","click",4,"ngIf"],["matSuffix","",3,"click",4,"ngIf"],["class","input-style no-borders has-icon validate-field mb-4",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled","click"],["style","width: inherit;",3,"value","max",4,"ngIf"],[2,"width","inherit",3,"value","max"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(o,e){1&o&&(t._UZ(0,"cms-progress-spinner",0),t.TgZ(1,"div",1)(2,"p",2),t._uU(3,"\u0648\u0631\u0648\u062f \u0628\u0647 \u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,lt,31,26,"form",3),t.YNc(8,mt,17,17,"form",3),t.YNc(9,ft,1,1,"ng-template",null,4,t.W1O),t.TgZ(11,"div",5)(12,"div",6)(13,"a",7),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",8)(17,"a",7),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()),2&o&&(t.Q6J("options",e.loading),t.xp6(5),t.hij(" ",t.lcZ(6,8,"AUTH.SINGINBYSMS.DESCSMS")," "),t.xp6(2),t.Q6J("ngIf","sms"===e.forgetState),t.xp6(1),t.Q6J("ngIf","entrycode"===e.forgetState),t.xp6(5),t.Q6J("routerLink",t.DdM(14,_t)),t.xp6(1),t.Oqu(t.lcZ(15,10,"AUTH.REGISTER.RETURN_TO_LOGIN")),t.xp6(3),t.Q6J("routerLink",t.DdM(15,St)),t.xp6(1),t.Oqu(t.lcZ(19,12,"AUTH.GENERAL.SIGNUP_BUTTON")))},dependencies:[h.O5,h.PC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,x.TO,x.R9,N.Hw,y.I,_.rH,st.d,T.X$],encapsulation:2})}return n})();function bt(n,d){if(1&n){const r=t.EpF();t.ynx(0),t.TgZ(1,"img",22),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t.qZA(),t.TgZ(2,"mat-icon",23),t.NdJ("click",function(){t.CHM(r);const e=t.oxw();return t.KtG(e.onCaptchaOrder())}),t._uU(3,"refresh"),t.qZA(),t.TgZ(4,"div",5),t._UZ(5,"i",24),t.TgZ(6,"input",25),t.NdJ("ngModelChange",function(e){t.CHM(r);const s=t.oxw();return t.KtG(s.dataModel.captchaText=e)}),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"label",26),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"i",9)(12,"i",10),t.qZA(),t.BQk()}if(2&n){const r=t.oxw();t.xp6(1),t.s9C("src",r.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(7,5,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",r.dataModel.captchaText)("disabled",!r.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Oqu(t.lcZ(10,7,"AUTH.INPUT.CAPTCHACODE"))}}function Mt(n,d){1&n&&(t.ynx(0),t._UZ(1,"div",27),t.TgZ(2,"a",28),t._UZ(3,"i",29),t._uU(4,"\u0628\u0627 \u0641\u06cc\u0633 \u0628\u0648\u06a9 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.TgZ(5,"a",30),t._UZ(6,"i",31),t._uU(7,"\u0628\u0627 \u062a\u0648\u06cc\u06cc\u062a\u0631 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.TgZ(8,"a",32),t._UZ(9,"i",33),t._uU(10,"\u0628\u0627 \u0627\u067e\u0644 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.BQk())}const Zt=function(){return["/auth/singinbysms"]},Ct=function(){return["/auth/forgot-password"]},Et=function(){return["/auth/singup"]};let xt=(()=>{class n{cmsToastrService;route;router;coreAuthService;cmsTranslationService;translate;cdr;publicHelper;pageInfo;constructor(r,o,e,s,a,c,S,f,A){this.cmsToastrService=r,this.route=o,this.router=e,this.coreAuthService=s,this.cmsTranslationService=a,this.translate=c,this.cdr=S,this.publicHelper=f,this.pageInfo=A,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(H=>{this.loading.message=H}),this.firstRun=!0,this.publicHelper.getReducerCmsStoreOnChange().subscribe(H=>{this.connectionStatus=H.connectionStatus})}loadDemoTheme=w.N.loadDemoTheme;connectionStatus=new R.Q;firstRun=!0;hidePassword=!0;loading=new b.O;formInfo=new u.LEF;dataModel=new u.kxH;captchaModel=new u.Frc;expireDate;aoutoCaptchaOrder=1;hasError;returnUrl;loginType="email";onCaptchaOrderInProcess=!1;ngOnInit(){this.onCaptchaOrder(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/",this.firstRun&&(this.dataModel.captchaText="0000"),this.pageInfo.updateTitle(this.translate.instant("AUTH.SINGINBYSMS.TITLE"))}onActionSubmit(){this.formInfo.buttonSubmittedEnabled=!1,this.hasError=!1,this.dataModel.captchaKey=this.captchaModel.key,this.dataModel.lang=this.cmsTranslationService.getSelectedLanguage();const r=this.constructor.name+".ServiceSigninUser";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.login_to_user_account"));const o=+localStorage.getItem("siteId");o>0&&(this.dataModel.siteId=o),this.coreAuthService.ServiceSigninUser(this.dataModel).subscribe({next:e=>{e.isSuccess?(this.cmsToastrService.typeSuccessLogin(),e.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),3e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),3e3)):(this.firstRun=!1,this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeErrorLogin(e.errorMessage),this.onCaptchaOrder()),this.publicHelper.processService.processStop(r)},error:e=>{this.firstRun=!1,this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeError(e),this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}onloginTypeChange(r){this.loginType=r}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModel.captchaText="";const r=this.constructor.name+".ServiceCaptcha";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:o=>{if(o.isSuccess){this.captchaModel=o.item,this.expireDate=o.item.expire;const e=new Date,a=new Date(o.item.expire).getTime()-e.getTime();this.aoutoCaptchaOrder<10&&(this.aoutoCaptchaOrder=this.aoutoCaptchaOrder+1,setTimeout(()=>{this.firstRun||this.onCaptchaOrder()},a))}else this.cmsToastrService.typeErrorGetCpatcha(o.errorMessage);this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)},error:o=>{this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)}})}static \u0275fac=function(o){return new(o||n)(t.Y36(C.e),t.Y36(_.gz),t.Y36(_.F0),t.Y36(u.Z8z),t.Y36(l.g),t.Y36(T.sK),t.Y36(t.sBO),t.Y36(M.i),t.Y36(P.Z))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-singin"]],decls:47,vars:49,consts:[[1,"card","card-style"],["novalidate","novalidate","id","kt_login_signin_form",1,"form",3,"ngSubmit"],["vform","ngForm"],[3,"options"],[1,"font-600","color-highlight","mb-0"],[1,"input-style","no-borders","has-icon","validate-field","mb-4"],[1,"fa","fa-user"],["name","dataModel.email","id","dataModel.email","type","text","autocomplete","off","required","",1,"form-control","validate-name",2,"direction","ltr !important","text-align","center",3,"ngModel","disabled","placeholder","ngModelChange"],["for","dataModel.email",1,"color-highlight"],[1,"fa","fa-times","disabled","invalid","color-red-dark"],[1,"fa","fa-check","disabled","valid","color-green-dark"],[1,"fa","fa-lock"],["name","dataModel.password","id","dataModel.password","type","password","autocomplete","off","required","",1,"form-control","validate-password",2,"direction","ltr !important","text-align","center",3,"type","ngModel","disabled","placeholder","ngModelChange"],["Password",""],["for","dataModel.password",1,"color-highlight"],[4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"routerLink","disabled"],[1,"row","pt-3","mb-3"],[1,"col-6","text-start"],[1,"color-highlight",3,"routerLink"],[1,"col-6","text-end"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],[1,"fa","fa-quote-left"],["name","dataModel.captchaText","id","dataModel.captchaText","type","text","minlength","5","maxlength","5","autocomplete","off","required","",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["for","dataModel.captchaText",1,"color-highlight"],[1,"divider"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-facebook","mt-4","rounded-s"],[1,"fab","fa-facebook-f","text-center"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-twitter","mt-2","rounded-s"],[1,"fab","fa-twitter","text-center"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-dark-dark","mt-2","rounded-s"],[1,"fab","fa-apple","text-center"]],template:function(o,e){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){return e.onActionSubmit()}),t._UZ(3,"cms-progress-spinner",3),t.TgZ(4,"p",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"p"),t._uU(8," \u0628\u0631\u0627\u06cc \u0648\u0631\u0648\u062f \u0628\u0647 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f\u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u062f\u0631 \u0632\u06cc\u0631 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),t.qZA(),t.TgZ(9,"div",5),t._UZ(10,"i",6),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(a){return e.dataModel.email=a}),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"label",8),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"i",9)(19,"i",10),t.qZA(),t.TgZ(20,"div",5),t._UZ(21,"i",11),t.TgZ(22,"input",12,13),t.NdJ("ngModelChange",function(a){return e.dataModel.password=a}),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"label",14),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"i",9)(29,"i",10),t.qZA(),t.YNc(30,bt,13,9,"ng-container",15),t.TgZ(31,"button",16),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",17),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",18)(38,"div",19)(39,"a",20),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"div",21)(43,"a",20),t._uU(44),t.ALo(45,"translate"),t.qZA()()(),t.YNc(46,Mt,11,0,"ng-container",15),t.qZA()()),2&o){const s=t.MAs(2);t.xp6(3),t.Q6J("options",e.loading),t.xp6(2),t.hij(" ",t.lcZ(6,24,"TRANSLATOR.WELCOME"),""),t.xp6(6),t.hYB("placeholder","",t.lcZ(12,26,"AUTH.INPUT.MOBILE")," / ",t.lcZ(13,28,"AUTH.INPUT.EMAIL"),""),t.Q6J("ngModel",e.dataModel.email)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.AsE("",t.lcZ(16,30,"AUTH.INPUT.MOBILE")," / ",t.lcZ(17,32,"AUTH.INPUT.EMAIL"),""),t.xp6(7),t.s9C("placeholder",t.lcZ(24,34,"AUTH.INPUT.PASSWORD")),t.Q6J("type",e.hidePassword?"password":"text")("ngModel",e.dataModel.password)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(27,36,"AUTH.INPUT.PASSWORD")),t.xp6(4),t.Q6J("ngIf",!e.firstRun),t.xp6(1),t.Q6J("disabled",s.invalid||!e.formInfo.buttonSubmittedEnabled||!e.connectionStatus.internetConnection),t.xp6(1),t.hij(" ",t.lcZ(33,38,"AUTH.LOGIN.BUTTON")," "),t.xp6(2),t.Q6J("routerLink",t.DdM(46,Zt))("disabled",!e.formInfo.buttonSubmittedEnabled||!e.connectionStatus.internetConnection),t.xp6(1),t.hij(" ",t.lcZ(36,40,"AUTH.LOGIN.SMS")," "),t.xp6(4),t.Q6J("routerLink",t.DdM(47,Ct)),t.xp6(1),t.Oqu(t.lcZ(41,42,"AUTH.FORGOT.TITLE")),t.xp6(3),t.Q6J("routerLink",t.DdM(48,Et)),t.xp6(1),t.Oqu(t.lcZ(45,44,"AUTH.GENERAL.SIGNUP_BUTTON")),t.xp6(2),t.Q6J("ngIf",e.loadDemoTheme)}},dependencies:[h.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,x.R9,N.Hw,y.I,_.rH,T.X$],encapsulation:2})}return n})(),It=(()=>{class n{authService;cmsToastrService;constructor(r,o){this.authService=r,this.cmsToastrService=o,this.authService.ServiceLogout().subscribe({next:e=>{e.isSuccess?this.cmsToastrService.typeSuccessLogout():this.cmsToastrService.typeErrorMessage(e.errorMessage)}})}ngOnInit(){}static \u0275fac=function(o){return new(o||n)(t.Y36(u.Z8z),t.Y36(C.e))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-singout"]],decls:3,vars:0,consts:[[1,"card","card-style"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2,"logout works!"),t.qZA()())},encapsulation:2})}return n})();var O=p(4536);let Ut=(()=>{class n{coreConfigurationService;cmsToastrService;cdr;publicHelper;translate;constructor(r,o,e,s,a){this.coreConfigurationService=r,this.cmsToastrService=o,this.cdr=e,this.publicHelper=s,this.translate=a,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.loading.message=c})}loading=new b.O;dataModelResult=new u.y$4;ngOnInit(){const r=this.constructor.name+"ServiceUserMembershipRule";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.get_the_rules")),this.coreConfigurationService.ServiceUserMembershipRule().subscribe({next:o=>{o.isSuccess?this.dataModelResult=o:this.cmsToastrService.typeErrorGetOne(o.errorMessage),this.publicHelper.processService.processStop(r)},error:o=>{this.cmsToastrService.typeErrorGetOne(o),this.publicHelper.processService.processStop(r,!1)}})}static \u0275fac=function(o){return new(o||n)(t.Y36(u.g9m),t.Y36(C.e),t.Y36(t.sBO),t.Y36(M.i),t.Y36(T.sK))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-singup-rule"]],decls:13,vars:12,consts:[["mat-dialog-title",""],[3,"options"],[3,"innerHTML"],[1,"ntk-button-row",2,"text-align","left"],["type","button","mat-dialog-close","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red"],["type","button","cdkFocusInitial","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-dialog-content"),t._UZ(4,"cms-progress-spinner",1)(5,"div",2),t.qZA(),t.TgZ(6,"mat-dialog-actions",3)(7,"button",4),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"button",5),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"TITLE.Rules")),t.xp6(3),t.Q6J("options",e.loading),t.xp6(1),t.Q6J("innerHTML",e.dataModelResult.item,t.oJD),t.xp6(3),t.Oqu(t.lcZ(9,8,"ACTION.DENY")),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(t.lcZ(12,10,"ACTION.ACCEPT")))},dependencies:[O.ZT,O.uh,O.xY,O.H8,y.I,T.X$],encapsulation:2})}return n})();const vt=["vform"];function wt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.FIRSTNAME")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function yt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.LASTNAME")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Ot(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.EMAIL")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Pt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function Nt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"strong"),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"AUTH.INPUT.CONFIRM_PASSWORD")," "),t.xp6(3),t.Oqu(t.lcZ(5,4,"MESSAGE.required")))}function qt(n,d){1&n&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"MESSAGE.Password_and_password_confirmation_are_different")," "))}function Ht(n,d){1&n&&(t.ynx(0),t._UZ(1,"div",37),t.TgZ(2,"a",38),t._UZ(3,"i",39),t._uU(4,"\u0628\u0627 \u0641\u06cc\u0633 \u0628\u0648\u06a9 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.TgZ(5,"a",40),t._UZ(6,"i",41),t._uU(7,"\u0628\u0627 \u062a\u0648\u06cc\u06cc\u062a\u0631 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.TgZ(8,"a",42),t._UZ(9,"i",43),t._uU(10,"\u0628\u0627 \u0627\u067e\u0644 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f"),t.qZA(),t.BQk())}const Lt=function(){return["/auth/singin"]},Rt=function(){return["/auth/forgot-password"]},Gt=[{path:"",component:Z,children:[{path:"singin",component:xt,data:{title:"ROUTE.REGISTER.SIGNIN"}},{path:"singinbysms",component:Tt,data:{title:"ROUTE.REGISTER.SIGNINBYSMS"}},{path:"singout",component:It,data:{title:"ROUTE.REGISTER.SIGNOUT"}},{path:"singup",component:(()=>{class n{cmsToastrService;router;coreAuthService;dialog;cdr;publicHelper;translate;pageInfo;constructor(r,o,e,s,a,c,S,f){this.cmsToastrService=r,this.router=o,this.coreAuthService=e,this.dialog=s,this.cdr=a,this.publicHelper=c,this.translate=S,this.pageInfo=f,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(A=>{this.loading.message=A})}formGroup;loading=new b.O;formInfo=new u.LEF;Roulaccespt="";isLoading$;captchaModel=new u.Frc;expireDate;aoutoCaptchaOrder=1;passwordIsValid=!1;dataModel=new u.EWr;onCaptchaOrderInProcess=!1;RePasswordModel="";PasswordView=!1;loginAuto=!1;hidePassword=!0;loadDemoTheme=w.N.loadDemoTheme;ngOnInit(){this.onCaptchaOrder(),this.pageInfo.updateTitle(this.translate.instant("AUTH.REGISTER.SIGNUP"))}ngOnDestroy(){}onActionSubmit(){if(!this.dataModel.email||0===this.dataModel.email.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_email_address"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.name||0===this.dataModel.name.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_name"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.family||0===this.dataModel.family.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_your_last_name"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.password||0===this.dataModel.password.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.enter_the_password"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.RePasswordModel||0===this.RePasswordModel.length)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.re_enter_the_password"),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(!this.dataModel.captchaText||0===this.dataModel.captchaText.length)return this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.loading.message=a}),this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);if(this.dataModel.password!==this.RePasswordModel)return this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.password_and_re_password_are_different"),this.dataModel.password="",this.RePasswordModel="",this.formInfo.formErrorStatus=!0,void this.cmsToastrService.typeErrorRegistery(this.formInfo.formError);this.formInfo.formErrorStatus=!1,this.dataModel.captchaKey=this.captchaModel.key;const r=this.constructor.name+".ServiceSignupUser";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.Creating_new_account"));const o=+localStorage.getItem("siteId");o>0&&(this.dataModel.siteId=o);const e=+localStorage.getItem("ResellerSiteId");e>0&&(this.dataModel.resellerSiteId=e);const s=+localStorage.getItem("ResellerUserId");s>0&&(this.dataModel.resellerUserId=s),this.coreAuthService.ServiceSignupUser(this.dataModel).subscribe({next:a=>{if(a.isSuccess){if(this.cmsToastrService.typeSuccessRegistery(),this.formInfo.formErrorStatus=!1,this.loginAuto||setTimeout(()=>this.router.navigate(["/"]),1e3),this.loginAuto){const c=new u.kxH;c.captchaKey=this.dataModel.captchaKey,c.captchaText=this.dataModel.captchaText,c.email=this.dataModel.email,c.password=this.dataModel.password,c.siteId=this.dataModel.siteId,c.mobile=this.dataModel.mobile;const S=this.constructor.name+"ServiceSigninUser";this.publicHelper.processService.processStart(S,this.translate.instant("MESSAGE.login_to_user_account")),this.coreAuthService.ServiceSigninUser(c).subscribe({next:f=>{f.isSuccess?(this.cmsToastrService.typeSuccessLogin(),f.item.siteId>0?setTimeout(()=>this.router.navigate(["/dashboard"]),1e3):setTimeout(()=>this.router.navigate(["/core/site/selection"]),1e3)):(this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeErrorLogin(f.errorMessage),setTimeout(()=>this.router.navigate(["/"]),1e3)),this.publicHelper.processService.processStop(S)},error:f=>{this.formInfo.buttonSubmittedEnabled=!0,this.cmsToastrService.typeError(f),this.publicHelper.processService.processStop(S)}})}}else this.cmsToastrService.typeErrorRegistery(a.errorMessage),this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formErrorStatus=!0,this.onCaptchaOrder();this.publicHelper.processService.processStop(r)},error:a=>{this.cmsToastrService.typeError(a),this.formInfo.formErrorStatus=!0,this.formInfo.buttonSubmittedEnabled=!0,this.onCaptchaOrder(),this.publicHelper.processService.processStop(r)}})}onRoulaccespt(){this.dialog.open(Ut,{height:"90%",width:"90%"}).afterClosed().subscribe(o=>{this.Roulaccespt=o})}passwordValid(r){this.passwordIsValid=r}onCaptchaOrder(){if(this.onCaptchaOrderInProcess)return;this.dataModel.captchaText="";const r=this.constructor.name+".ServiceCaptcha";this.publicHelper.processService.processStart(r,this.translate.instant("MESSAGE.get_security_photo_content")),this.coreAuthService.ServiceCaptcha().subscribe({next:o=>{if(o.isSuccess){this.captchaModel=o.item,this.expireDate=o.item.expire;const e=new Date,a=new Date(o.item.expire).getTime()-e.getTime();this.aoutoCaptchaOrder<10&&(this.aoutoCaptchaOrder=this.aoutoCaptchaOrder+1,setTimeout(()=>{this.onCaptchaOrder()},a))}else this.cmsToastrService.typeErrorGetCpatcha(o.errorMessage);this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)},error:o=>{this.onCaptchaOrderInProcess=!1,this.publicHelper.processService.processStop(r)}})}ActionPasswordGenerator(){const r="0123456789abcdefghijklmnopqrstuvwxyz";let e="";for(let s=0;s<=10;s++){const a=Math.floor(Math.random()*r.length);e+=r.substring(a,a+1)}this.dataModel.password=e,this.RePasswordModel=e,this.PasswordView=!0}static \u0275fac=function(o){return new(o||n)(t.Y36(C.e),t.Y36(_.F0),t.Y36(u.Z8z),t.Y36(O.uw),t.Y36(t.sBO),t.Y36(M.i),t.Y36(T.sK),t.Y36(P.Z))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-auth-singup"]],viewQuery:function(o,e){if(1&o&&t.Gf(vt,5),2&o){let s;t.iGM(s=t.CRH())&&(e.formGroup=s.first)}},decls:109,vars:92,consts:[[3,"options"],[1,"card","card-style"],[1,"form","form-horizontal",3,"ngSubmit"],["vform","ngForm"],[1,"font-600","color-highlight","mb-0"],[1,"input-style","no-borders","has-icon","validate-field","mb-4"],[1,"fa","fa-user"],["type","name","id","dataModel.name","name","dataModel.name","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["Name",""],["for","dataModel.name",1,"color-highlight"],[1,"fa","fa-times","disabled","invalid","color-red-dark"],[1,"fa","fa-check","disabled","valid","color-green-dark"],[4,"ngIf"],["type","name","id","dataModel.family","name","dataModel.family","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["family",""],["for","dataModel.family",1,"color-highlight"],[1,"fa","fa-at"],["type","email","id","dataModel.email","name","dataModel.email","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["email",""],["for","dataModel.email",1,"color-highlight"],[1,"fa","fa-lock"],["type","password","id","dataModel.password","name","dataModel.password","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["password",""],["for","dataModel.password",1,"color-highlight"],["type","password","id","RePassword","name","RePasswordModel","autocomplete","off","minlength","3","maxlength","50","required","",1,"form-control","validate-name",3,"placeholder","ngModel","disabled","ngModelChange"],["RePassword",""],["for","RePassword",1,"color-highlight"],["alt","",1,"mb-3",3,"src","click"],["matSuffix","",3,"click"],[1,"fa","fa-quote-left"],["name","dataModel.captchaText","id","dataModel.captchaText","type","text","autocomplete","off","required","","minlength","5","maxlength","5",1,"form-control","validate-name",3,"ngModel","disabled","placeholder","ngModelChange"],["for","dataModel.captchaText",1,"color-highlight"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",2,"width","100%",3,"disabled"],[1,"row","pt-3","mb-3"],[1,"col-6","text-start"],[1,"color-highlight",3,"routerLink"],[1,"col-6","text-end"],[1,"divider"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-facebook","mt-4","rounded-s"],[1,"fab","fa-facebook-f","text-center"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-twitter","mt-2","rounded-s"],[1,"fab","fa-twitter","text-center"],[1,"btn","btn-icon","text-start","btn-full","btn-s","font-600","font-13","bg-dark-dark","mt-2","rounded-s"],[1,"fab","fa-apple","text-center"]],template:function(o,e){if(1&o&&(t._UZ(0,"cms-progress-spinner",0),t.TgZ(1,"div",1)(2,"form",2,3),t.NdJ("ngSubmit",function(){return e.onActionSubmit()}),t.TgZ(4,"p",4),t._uU(5,"\u0627\u06cc\u062c\u0627\u062f \u062d\u0633\u0627\u0628"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",5),t._UZ(10,"i",6),t.TgZ(11,"input",7,8),t.NdJ("ngModelChange",function(a){return e.dataModel.name=a}),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"label",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"i",10)(18,"i",11),t.TgZ(19,"em"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,wt,6,6,"mat-error",12),t.qZA(),t.TgZ(23,"div",5),t._UZ(24,"i",6),t.TgZ(25,"input",13,14),t.NdJ("ngModelChange",function(a){return e.dataModel.family=a}),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"label",15),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"i",10)(32,"i",11),t.TgZ(33,"em"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.YNc(36,yt,6,6,"mat-error",12),t.qZA(),t.TgZ(37,"div",5),t._UZ(38,"i",16),t.TgZ(39,"input",17,18),t.NdJ("ngModelChange",function(a){return e.dataModel.email=a}),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"label",19),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"i",10)(46,"i",11),t.TgZ(47,"em"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.YNc(50,Ot,6,6,"mat-error",12),t.qZA(),t.TgZ(51,"div",5),t._UZ(52,"i",20),t.TgZ(53,"input",21,22),t.NdJ("ngModelChange",function(a){return e.dataModel.password=a}),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"label",23),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._UZ(59,"i",10)(60,"i",11),t.TgZ(61,"em"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.YNc(64,Pt,6,6,"mat-error",12),t.qZA(),t.TgZ(65,"div",5),t._UZ(66,"i",20),t.TgZ(67,"input",24,25),t.NdJ("ngModelChange",function(a){return e.RePasswordModel=a}),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"label",26),t._uU(71),t.ALo(72,"translate"),t.qZA(),t._UZ(73,"i",10)(74,"i",11),t.TgZ(75,"em"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.YNc(78,Nt,6,6,"mat-error",12),t.YNc(79,qt,3,3,"mat-error",12),t.qZA(),t.TgZ(80,"img",27),t.NdJ("click",function(){return e.onCaptchaOrder()}),t.qZA(),t.TgZ(81,"mat-icon",28),t.NdJ("click",function(){return e.onCaptchaOrder()}),t._uU(82,"refresh"),t.qZA(),t.TgZ(83,"div",5),t._UZ(84,"i",29),t.TgZ(85,"input",30),t.NdJ("ngModelChange",function(a){return e.dataModel.captchaText=a}),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"label",31),t._uU(88),t.ALo(89,"translate"),t.qZA(),t._UZ(90,"i",10)(91,"i",11),t.TgZ(92,"em"),t._uU(93),t.ALo(94,"translate"),t.qZA()(),t.TgZ(95,"button",32),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"div",33)(99,"div",34)(100,"a",35),t._uU(101),t.ALo(102,"translate"),t.qZA()(),t.TgZ(103,"div",36)(104,"a",35),t._uU(105),t.ALo(106,"translate"),t.qZA()()(),t._UZ(107,"div",37),t.YNc(108,Ht,11,0,"ng-container",12),t.qZA()()),2&o){const s=t.MAs(3),a=t.MAs(12),c=t.MAs(26),S=t.MAs(40),f=t.MAs(54),A=t.MAs(68);t.Q6J("options",e.loading),t.xp6(7),t.hij(" ",t.lcZ(8,46,"AUTH.REGISTER.DESC")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(13,48,"AUTH.INPUT.FIRSTNAME")),t.Q6J("ngModel",e.dataModel.name)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(16,50,"AUTH.INPUT.FIRSTNAME")),t.xp6(5),t.hij("(",t.lcZ(21,52,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==a.errors?null:a.errors.required),t.xp6(3),t.s9C("placeholder",t.lcZ(27,54,"AUTH.INPUT.LASTNAME")),t.Q6J("ngModel",e.dataModel.family)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(30,56,"AUTH.INPUT.LASTNAME")),t.xp6(5),t.hij("(",t.lcZ(35,58,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==c.errors?null:c.errors.required),t.xp6(3),t.s9C("placeholder",t.lcZ(41,60,"AUTH.INPUT.EMAIL")),t.Q6J("ngModel",e.dataModel.email)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(44,62,"AUTH.INPUT.EMAIL")),t.xp6(5),t.hij("(",t.lcZ(49,64,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==S.errors?null:S.errors.required),t.xp6(3),t.s9C("placeholder",t.lcZ(55,66,"AUTH.INPUT.PASSWORD")),t.Q6J("ngModel",e.dataModel.password)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(58,68,"AUTH.INPUT.PASSWORD")),t.xp6(5),t.hij("(",t.lcZ(63,70,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==f.errors?null:f.errors.required),t.xp6(3),t.s9C("placeholder",t.lcZ(69,72,"AUTH.INPUT.CONFIRM_PASSWORD")),t.Q6J("ngModel",e.RePasswordModel)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(4),t.Oqu(t.lcZ(72,74,"AUTH.INPUT.CONFIRM_PASSWORD")),t.xp6(5),t.hij("(",t.lcZ(77,76,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("ngIf",null==A.errors?null:A.errors.required),t.xp6(1),t.Q6J("ngIf",(null==e.RePasswordModel?null:e.RePasswordModel.length)>0&&A.value!==f.value),t.xp6(1),t.s9C("src",e.captchaModel.image,t.LSH),t.xp6(5),t.s9C("placeholder",t.lcZ(86,78,"AUTH.INPUT.CAPTCHACODE")),t.Q6J("ngModel",e.dataModel.captchaText)("disabled",!e.formInfo.buttonSubmittedEnabled),t.xp6(3),t.Oqu(t.lcZ(89,80,"AUTH.INPUT.CAPTCHACODE")),t.xp6(5),t.hij("(",t.lcZ(94,82,"TITLE.Necessary"),")"),t.xp6(2),t.Q6J("disabled",!e.Roulaccespt||s.invalid||!e.formInfo.buttonSubmittedEnabled),t.xp6(1),t.hij(" ",t.lcZ(97,84,"AUTH.REGISTER.CREATE_AN_ACCOUNT")," "),t.xp6(4),t.Q6J("routerLink",t.DdM(90,Lt)),t.xp6(1),t.Oqu(t.lcZ(102,86,"AUTH.REGISTER.RETURN_TO_LOGIN")),t.xp6(3),t.Q6J("routerLink",t.DdM(91,Rt)),t.xp6(1),t.Oqu(t.lcZ(106,88,"AUTH.FORGOT.TITLE")),t.xp6(3),t.Q6J("ngIf",e.loadDemoTheme)}},dependencies:[h.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.On,i.F,x.TO,x.R9,N.Hw,y.I,_.rH,T.X$],encapsulation:2})}return n})(),data:{title:"ROUTE.REGISTER.SIGNUP"}},{path:"forgot-password",component:rt,data:{title:"ROUTE.REGISTER.FORGETPASSWORD"}},{path:"",redirectTo:"singinbysms",pathMatch:"full"},{path:"**",redirectTo:"singinbysms",pathMatch:"full"}]}];let Jt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[_.Bz.forChild(Gt),_.Bz]})}return n})(),Bt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({providers:[u.EAm,u.g9m,u.Z8z,l.g],imports:[h.ez,g.m,Jt,i.u5,i.UX,v.K,m.X]})}return n})()},486:(L,U,p)=>{p.d(U,{Z:()=>i});var h=p(4537);let i=(()=>{class u{static nextId=0;id=++u.nextId;passwordToCheck;passwordStrength=new h.vpe;bar0;bar1;bar2;bar3;msg="";colors=["darkred","orangered","orange","yellowgreen"];static checkStrength(m){let l=0;const M=[/[a-z]+/.test(m),/[A-Z]+/.test(m),/[0-9]+/.test(m),/[$-/:-?{-~!"^_@`\[\]]/g.test(m)];let Z=0;for(const C of M)Z+=!0===C?1:0;return l+=2*m.length+(m.length>=10?1:0),l+=10*Z,l=m.length<=6?Math.min(l,10):l,l=1===Z?Math.min(l,10):l,l=2===Z?Math.min(l,20):l,l=3===Z?Math.min(l,30):l,l=4===Z?Math.min(l,40):l,l}ngOnChanges(m){const l=m.passwordToCheck.currentValue;if(this.setBarColors(4,"#DDD"),l){const g=this.getColor(u.checkStrength(l));switch(this.setBarColors(g.idx,g.col),40===u.checkStrength(l)?this.passwordStrength.emit(!0):this.passwordStrength.emit(!1),g.idx){case 1:this.msg="Poor";break;case 2:this.msg="Not Good";break;case 3:this.msg="Average";break;case 4:this.msg="Good"}}else this.msg=""}getColor(m){let l=0;return l=m<=10?0:m<=20?1:m<=30?2:m<=40?3:4,{idx:l+1,col:this.colors[l]}}setBarColors(m,l){for(let g=0;g<m;g++)this["bar"+g]=l}static \u0275fac=function(l){return new(l||u)};static \u0275cmp=h.Xpm({type:u,selectors:[["app-password-strength"]],inputs:{passwordToCheck:"passwordToCheck"},outputs:{passwordStrength:"passwordStrength"},features:[h.TTD],decls:9,vars:9,consts:[[1,"strength"],[1,"strengthBar"],[1,"point"]],template:function(l,g){1&l&&(h.TgZ(0,"div",0)(1,"ul",1),h._UZ(2,"li",2)(3,"li",2)(4,"li",2)(5,"li",2),h.qZA(),h._UZ(6,"br"),h.TgZ(7,"p"),h._uU(8),h.qZA()()),2&l&&(h.xp6(2),h.Udp("background-color",g.bar0),h.xp6(1),h.Udp("background-color",g.bar1),h.xp6(1),h.Udp("background-color",g.bar2),h.xp6(1),h.Udp("background-color",g.bar3),h.xp6(3),h.Oqu(g.msg))},styles:[".strengthBar[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]:last-of-type{margin:0!important}.point[_ngcontent-%COMP%]{background:#DDD;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:62px}"]})}return u})()}}]);