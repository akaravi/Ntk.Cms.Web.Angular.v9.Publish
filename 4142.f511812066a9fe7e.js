"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4142],{4142:(ce,ie,_)=>{_.r(ie),_.d(ie,{CoreTokenModule:()=>Or});var h=_(6610),g=_(7222),c=_(8189),L=_(5459),te=_(2688),C=_(9675),y=_(9915),T=_(5312),b=_(6482),j=_(5113),e=_(7788),I=_(9722),k=_(8339),S=_(2882),R=_(5154),N=_(6628),W=_(1536),G=_(9028),A=_(7912);const de=["vform"];function me(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pe(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ue=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.iKk,u,f),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.translate=f,this.publicHelper=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.iKk,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(c.FYP.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(R.A))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(de,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,me,1,5,"app-cms-enum-record-status-selector",4),e.nrm(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.nrm(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.DNE(13,pe,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(10,13,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(12,15,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,N.p,W.m,G.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var F=_(7848);const fe=["vform"];function he(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let _e=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenActivationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.iKk,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.iF$),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(fe,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,he,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();var V=_(6006),B=_(2221),$=_(6182),U=_(4587),E=_(1184),O=_(8966),x=_(4685),v=_(8058),p=_(8403),X=_(6145),H=_(1908),q=_(3036),z=_(3438),P=_(9041),Y=_(5225),K=_(4209),Z=_(6381),Q=_(1268),J=_(9929);const Se=()=>[5,10,20,100],ge=n=>({display:n});function be(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Te(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ce(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ie(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ke(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Re(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Me(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ae(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Ee(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function ve(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function we(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function De(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function ye(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Le(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,ge,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ue(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Le,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function je(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ne(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ge(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Fe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ve(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Be(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function $e(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Oe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function xe(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Xe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function He(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function qe(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Pe(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Ye(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Ke(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function We(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Je(n,a){1&n&&e.nrm(0,"mat-header-row")}function ze(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Ze=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.iKk,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.iKk);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(_e,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ue,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.iF$),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,be,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Te,7,3,"div",19)(24,Ce,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22),e.k0s(),e.j41(28,"p",23),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"div",20)(32,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(33,"i",24)(34,"br"),e.k0s(),e.j41(35,"p",23),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.DNE(38,Ie,7,3,"div",19),e.bVm(),e.qex(39,25),e.j41(40,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(41,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(42,27),e.j41(43,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(44);return e.Njj(o.onTableSortData(s))}),e.qex(45,29),e.DNE(46,ke,2,1,"mat-header-cell",30)(47,Re,2,1,"mat-cell",31),e.bVm(),e.qex(48,32),e.DNE(49,Me,2,1,"mat-header-cell",30)(50,Ae,4,5,"mat-cell",31),e.bVm(),e.qex(51,33),e.DNE(52,Ee,2,1,"mat-header-cell",30)(53,ve,4,5,"mat-cell",31),e.bVm(),e.qex(54,34),e.DNE(55,we,2,1,"mat-header-cell",30)(56,De,2,1,"mat-cell",31),e.bVm(),e.qex(57,35),e.DNE(58,ye,2,1,"mat-header-cell",30)(59,Ue,5,7,"mat-cell",36),e.bVm(),e.qex(60,37),e.DNE(61,je,2,1,"mat-header-cell",30)(62,Ne,3,4,"mat-cell",31),e.bVm(),e.qex(63,38),e.DNE(64,Ge,2,1,"mat-header-cell",30)(65,Fe,3,4,"mat-cell",31),e.bVm(),e.qex(66,39),e.DNE(67,Ve,2,1,"mat-header-cell",30)(68,Be,3,3,"mat-cell",31),e.bVm(),e.qex(69,40),e.DNE(70,$e,2,1,"mat-header-cell",30)(71,Oe,3,3,"mat-cell",31),e.bVm(),e.qex(72,41),e.DNE(73,xe,2,1,"mat-header-cell",30)(74,Xe,3,3,"mat-cell",31),e.bVm(),e.qex(75,42),e.DNE(76,He,2,1,"mat-header-cell",30)(77,qe,2,1,"mat-cell",31),e.bVm(),e.qex(78,43),e.DNE(79,Pe,2,1,"mat-header-cell",30)(80,Ye,2,1,"mat-cell",31),e.bVm(),e.qex(81,44),e.DNE(82,Ke,3,3,"mat-header-cell",45)(83,We,6,1,"mat-cell",46),e.bVm(),e.DNE(84,Je,1,0,"mat-header-row",47)(85,ze,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(86,49),e.j41(87,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(5),e.JRh(e.bMT(30,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(37,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Se)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})(),Qe=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-token"]],decls:1,vars:0,template:function(i,o){1&i&&e.nrm(0,"router-outlet")},dependencies:[C.n3],encapsulation:2})}return n})();const et=["vform"];function tt(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ot(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let nt=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.XMR,s,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.XMR,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(R.A),e.rXU(e.gRc),e.rXU(k._),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(et,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,tt,1,5,"app-cms-enum-record-status-selector",4),e.nrm(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.nrm(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.DNE(13,ot,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(10,13,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(12,15,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,N.p,W.m,G.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const it=["vform"];function st(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let rt=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.XMR,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.Nci),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(it,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,st,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9],encapsulation:2})}return n})();const at=()=>[5,10,20,100],lt=n=>({display:n});function ct(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function dt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function mt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function pt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ut(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ft(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function ht(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function _t(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function St(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function gt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function bt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Tt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Ct(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function It(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,lt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function kt(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,It,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Rt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Mt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function At(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Et(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function wt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Dt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function yt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function Lt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ut(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function jt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Nt(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Gt(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Ft(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Vt(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Bt(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function $t(n,a){1&n&&e.nrm(0,"mat-header-row")}function Ot(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let xt=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.XMR,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.XMR);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(rt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(nt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.Nci),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservicelog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ct,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,dt,7,3,"div",19)(24,mt,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,pt,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,ut,2,1,"mat-header-cell",30)(48,ft,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,ht,2,1,"mat-header-cell",30)(51,_t,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,St,2,1,"mat-header-cell",30)(54,gt,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,bt,2,1,"mat-header-cell",30)(57,Tt,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,Ct,2,1,"mat-header-cell",30)(60,kt,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,Rt,2,1,"mat-header-cell",30)(63,Mt,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,At,2,1,"mat-header-cell",30)(66,Et,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,vt,2,1,"mat-header-cell",30)(69,wt,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,Dt,2,1,"mat-header-cell",30)(72,yt,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,Lt,2,1,"mat-header-cell",30)(75,Ut,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,jt,2,1,"mat-header-cell",30)(78,Nt,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Gt,2,1,"mat-header-cell",30)(81,Ft,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,Vt,3,3,"mat-header-cell",45)(84,Bt,6,1,"mat-cell",46),e.bVm(),e.DNE(85,$t,1,0,"mat-header-row",47)(86,Ot,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,at)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})();var oe=_(7001);const Xt=["vform"];function Ht(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qt(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Pt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Yt=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.xu$,f,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.xu$,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(c.FYP.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Xt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:18,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Ht,1,5,"app-cms-enum-record-status-selector",4),e.nrm(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.nrm(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.DNE(13,qt,3,3,"div",6)(14,Pt,5,3,"div",7),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(10,14,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(12,16,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,N.p,W.m,G.X,A._,S.D9,oe.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Kt=["vform"];function Wt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Jt=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenMicroServiceService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.xu$,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.JD_),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Kt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Wt,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();const zt=()=>[5,10,20,100],Zt=n=>({display:n});function Qt(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function eo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function to(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function oo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function no(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function io(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function so(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function ro(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function ao(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function lo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function co(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function mo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function po(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function uo(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Zt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function fo(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,uo,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function ho(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function _o(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function So(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function go(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function bo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function To(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Co(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Io(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ko(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ro(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Mo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ao(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Eo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function vo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function wo(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Do(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function yo(n,a){1&n&&e.nrm(0,"mat-header-row")}function Lo(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Uo=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.xu$,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.xu$);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Jt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Yt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.JD_),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-microservice-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Qt,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,eo,7,3,"div",19)(24,to,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,oo,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,no,2,1,"mat-header-cell",30)(48,io,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,so,2,1,"mat-header-cell",30)(51,ro,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,ao,2,1,"mat-header-cell",30)(54,lo,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,co,2,1,"mat-header-cell",30)(57,mo,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,po,2,1,"mat-header-cell",30)(60,fo,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,ho,2,1,"mat-header-cell",30)(63,_o,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,So,2,1,"mat-header-cell",30)(66,go,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,bo,2,1,"mat-header-cell",30)(69,To,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,Co,2,1,"mat-header-cell",30)(72,Io,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,ko,2,1,"mat-header-cell",30)(75,Ro,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,Mo,2,1,"mat-header-cell",30)(78,Ao,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Eo,2,1,"mat-header-cell",30)(81,vo,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,wo,3,3,"mat-header-cell",45)(84,Do,6,1,"mat-cell",46),e.bVm(),e.DNE(85,yo,1,0,"mat-header-row",47)(86,Lo,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,zt)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})();const jo=["vform"];function No(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",7),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Go(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",8)(1,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",10),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Fo=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.l1T,s,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.publicHelper=s,this.cdr=m,this.tokenHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.l1T,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(R.A),e.rXU(e.gRc),e.rXU(k._),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(jo,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:17,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,No,1,5,"app-cms-enum-record-status-selector",4),e.nrm(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.nrm(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.DNE(13,Go,5,3,"div",6),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(10,13,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(12,15,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,N.p,W.m,G.X,A._,S.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Vo=["vform"];function Bo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let $o=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.l1T,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.pCN),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Vo,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Bo,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9],encapsulation:2})}return n})();const Oo=()=>[5,10,20,100],xo=n=>({display:n});function Xo(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Ho(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function qo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Po(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Yo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ko(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Wo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Jo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function zo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Zo(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Qo(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function en(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function tn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function on(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,xo,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function nn(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,on,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function sn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function rn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function an(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function ln(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function cn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function dn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function mn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function pn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function un(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function hn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function _n(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Sn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function gn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function bn(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Tn(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Cn(n,a){1&n&&e.nrm(0,"mat-header-row")}function In(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let kn=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.l1T,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.l1T);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open($o,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Fo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.pCN),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notificationlog-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Xo,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Ho,7,3,"div",19)(24,qo,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,Po,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Yo,2,1,"mat-header-cell",30)(48,Ko,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,Wo,2,1,"mat-header-cell",30)(51,Jo,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,zo,2,1,"mat-header-cell",30)(54,Zo,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,Qo,2,1,"mat-header-cell",30)(57,en,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,tn,2,1,"mat-header-cell",30)(60,nn,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,sn,2,1,"mat-header-cell",30)(63,rn,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,an,2,1,"mat-header-cell",30)(66,ln,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,cn,2,1,"mat-header-cell",30)(69,dn,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,mn,2,1,"mat-header-cell",30)(72,pn,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,un,2,1,"mat-header-cell",30)(75,fn,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,hn,2,1,"mat-header-cell",30)(78,_n,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,Sn,2,1,"mat-header-cell",30)(81,gn,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,bn,3,3,"mat-header-cell",45)(84,Tn,6,1,"mat-cell",46),e.bVm(),e.DNE(85,Cn,1,0,"mat-header-row",47)(86,In,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Oo)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})();const Rn=["vform"];function Mn(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",8),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function An(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function En(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",12),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let vn=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.nr_,f,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.nr_,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(c.FYP.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Rn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:15,vars:18,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Mn,1,5,"app-cms-enum-record-status-selector",4),e.nrm(9,"app-cms-site-selector",5),e.nI1(10,"translate"),e.nrm(11,"app-cms-user-selector",5),e.nI1(12,"translate"),e.DNE(13,An,3,3,"div",6)(14,En,5,3,"div",7),e.k0s()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(10,14,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(12,16,"TITLE.USER")),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,N.p,W.m,G.X,A._,S.D9,oe.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const wn=["vform"];function Dn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let yn=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenNotificationService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.nr_,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.rM),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(wn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Dn,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();const Ln=()=>[5,10,20,100],Un=n=>({display:n});function jn(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",52),e.k0s()}}function Nn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Gn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Fn(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Vn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Bn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function $n(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function On(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function xn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Xn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Hn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function qn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function Pn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Yn(n,a){if(1&n&&e.nrm(0,"select",62),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Un,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Kn(n,a){if(1&n&&(e.j41(0,"mat-cell",60),e.nI1(1,"statusCellClass"),e.nrm(2,"i",60),e.nI1(3,"statusIconClass"),e.DNE(4,Yn,1,5,"select",61),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Wn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Jn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function zn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Zn(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Qn(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ei(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function ti(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function oi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ni(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ii(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",60),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function si(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ri(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ai(n,a){if(1&n&&(e.j41(0,"mat-header-cell",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function li(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function ci(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function di(n,a){if(1&n&&(e.j41(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function mi(n,a){1&n&&e.nrm(0,"mat-header-row")}function pi(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let ui=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.nr_,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.nr_);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(yn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(vn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.rM),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-notification-list"]],features:[e.Vt3],decls:90,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,jn,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Nn,7,3,"div",19)(24,Gn,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.DNE(39,Fn,7,3,"div",19),e.bVm(),e.qex(40,25),e.j41(41,"app-cms-search-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(42,"app-cms-statist-list",26),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(43,27),e.j41(44,"mat-table",28,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(45);return e.Njj(o.onTableSortData(s))}),e.qex(46,29),e.DNE(47,Vn,2,1,"mat-header-cell",30)(48,Bn,2,1,"mat-cell",31),e.bVm(),e.qex(49,32),e.DNE(50,$n,2,1,"mat-header-cell",30)(51,On,4,5,"mat-cell",31),e.bVm(),e.qex(52,33),e.DNE(53,xn,2,1,"mat-header-cell",30)(54,Xn,4,5,"mat-cell",31),e.bVm(),e.qex(55,34),e.DNE(56,Hn,2,1,"mat-header-cell",30)(57,qn,2,1,"mat-cell",31),e.bVm(),e.qex(58,35),e.DNE(59,Pn,2,1,"mat-header-cell",30)(60,Kn,5,7,"mat-cell",36),e.bVm(),e.qex(61,37),e.DNE(62,Wn,2,1,"mat-header-cell",30)(63,Jn,3,4,"mat-cell",31),e.bVm(),e.qex(64,38),e.DNE(65,zn,2,1,"mat-header-cell",30)(66,Zn,3,4,"mat-cell",31),e.bVm(),e.qex(67,39),e.DNE(68,Qn,2,1,"mat-header-cell",30)(69,ei,3,3,"mat-cell",31),e.bVm(),e.qex(70,40),e.DNE(71,ti,2,1,"mat-header-cell",30)(72,oi,3,3,"mat-cell",31),e.bVm(),e.qex(73,41),e.DNE(74,ni,2,1,"mat-header-cell",30)(75,ii,3,3,"mat-cell",31),e.bVm(),e.qex(76,42),e.DNE(77,si,2,1,"mat-header-cell",30)(78,ri,2,1,"mat-cell",31),e.bVm(),e.qex(79,43),e.DNE(80,ai,2,1,"mat-header-cell",30)(81,li,2,1,"mat-cell",31),e.bVm(),e.qex(82,44),e.DNE(83,ci,3,3,"mat-header-cell",45)(84,di,6,1,"mat-cell",46),e.bVm(),e.DNE(85,mi,1,0,"mat-header-row",47)(86,pi,1,6,"mat-row",48),e.k0s(),e.bVm(),e.qex(87,49),e.j41(88,"mat-paginator",50,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,29,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,31,"ACTION.USER")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(33,Ln)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})();var ee=_(2839),ne=_(9344),le=_(3726);const fi=["vform"];function hi(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",38),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function _i(n,a){if(1&n&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Si(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function gi(n,a){if(1&n&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function bi(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ti(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",42),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",45),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",46),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function Ci(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",47),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",49),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function Ii(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"h5",50),e.EFF(3),e.k0s()(),e.j41(4,"div",43)(5,"div",44)(6,"input",51),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",52),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function ki(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",23)(1,"label",53),e.EFF(2),e.k0s(),e.j41(3,"input",54),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),e.k0s()}if(2&n){const t=e.sdS(6),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",i.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function Ri(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",57),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function Mi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",58)(1,"button",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",60),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",61),e.nrm(6,"i",62),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&n){e.XpG();const t=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let Ai=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.zz9,m,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.publicHelper=m,this.cdr=f,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.zz9,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(c.FYP.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorEdit(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(k._),e.rXU(R.A),e.rXU(e.gRc),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(fi,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",10),e.nrm(1,"app-progress-spinner",11),e.j41(2,"div",12)(3,"p",13),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",14,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.DNE(10,hi,1,5,"app-cms-enum-record-status-selector",15),e.j41(11,"div",16)(12,"select",17,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(14,_i,2,2,"option",18),e.k0s(),e.j41(15,"em"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,Si,5,3,"mat-error",19),e.k0s(),e.j41(19,"div",16)(20,"select",20,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(22,gi,2,2,"option",18),e.k0s(),e.j41(23,"em"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.DNE(26,bi,5,3,"mat-error",19),e.k0s(),e.j41(27,"app-cms-site-selector",21),e.nI1(28,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionSiteSelect(s))}),e.k0s(),e.j41(29,"app-cms-user-selector",21),e.nI1(30,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionUserSelect(s))}),e.k0s(),e.j41(31,"app-cms-member-selector",21),e.nI1(32,"translate"),e.bIt("optionChange",function(s){return e.eBV(r),e.Njj(o.onActionMemberSelect(s))}),e.k0s(),e.DNE(33,Ti,8,2,"div",22)(34,Ci,8,2,"div",22)(35,Ii,8,2,"div",22),e.j41(36,"div",23)(37,"label",24),e.EFF(38,"BrowserLanguage"),e.k0s(),e.j41(39,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(41,"div",23)(42,"label",26),e.EFF(43,"UserLanguage"),e.k0s(),e.j41(44,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(46,"div",23)(47,"label",28),e.EFF(48,"DeviceClientMAC"),e.k0s(),e.j41(49,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(51,"div",23)(52,"label",30),e.EFF(53,"Token"),e.k0s(),e.j41(54,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.j41(56,"div",23)(57,"label",32),e.EFF(58,"LinkDeviceId"),e.k0s(),e.j41(59,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(61,"div",23)(62,"label",34),e.EFF(63,"LinkApplicationId"),e.k0s(),e.j41(64,"input",35,8),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.DNE(66,ki,7,4,"div",36)(67,Ri,3,3,"div",19)(68,Mi,9,7,"div",37),e.k0s()()()}if(2&i){const r=e.sdS(13),l=e.sdS(21);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(17,35,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(25,37,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!1)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(28,39,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!1)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(30,41,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!1)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(32,43,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow)}},dependencies:[h.Sq,h.bT,g.qT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.cb,g.vS,g.cV,ee.Vh,ee.bZ,ee.bU,ne.TL,ne.yw,U.fg,N.p,W.m,G.X,le.W,A._,S.D9,oe.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Ei=["vform"];function vi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let wi=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.zz9,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.FRq),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Ei,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,vi,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();const Di=()=>[5,10,20,100],yi=n=>({display:n});function Li(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",54),e.k0s()}}function Ui(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ji(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",58)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ni(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",60)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Gi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Fi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Vi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Bi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function $i(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Oi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function xi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Xi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function Hi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function qi(n,a){if(1&n&&e.nrm(0,"select",64),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,yi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Pi(n,a){if(1&n&&(e.j41(0,"mat-cell",62),e.nI1(1,"statusCellClass"),e.nrm(2,"i",62),e.nI1(3,"statusIconClass"),e.DNE(4,qi,1,5,"select",63),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Yi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ki(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Wi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ji(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function zi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Zi(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function Qi(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function es(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function ts(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function os(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",62),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function ns(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function is(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ss(n,a){if(1&n&&(e.j41(0,"mat-header-cell",61),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function rs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.tokenExpireDate)," ")}}function as(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ls(n,a){if(1&n&&(e.j41(0,"mat-cell",65)(1,"button",66)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function cs(n,a){1&n&&e.nrm(0,"mat-header-row")}function ds(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let se=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.zz9,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zz9);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(wi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ai,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.FRq),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:104,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Li,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Ui,7,3,"div",19)(24,ji,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,Ni,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,Gi,2,1,"mat-header-cell",32)(62,Fi,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,Vi,2,1,"mat-header-cell",32)(65,Bi,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,$i,2,1,"mat-header-cell",32)(68,Oi,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,xi,2,1,"mat-header-cell",32)(71,Xi,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,Hi,2,1,"mat-header-cell",32)(74,Pi,5,7,"mat-cell",38),e.bVm(),e.qex(75,39),e.DNE(76,Yi,2,1,"mat-header-cell",32)(77,Ki,3,4,"mat-cell",33),e.bVm(),e.qex(78,40),e.DNE(79,Wi,2,1,"mat-header-cell",32)(80,Ji,3,4,"mat-cell",33),e.bVm(),e.qex(81,41),e.DNE(82,zi,2,1,"mat-header-cell",32)(83,Zi,3,3,"mat-cell",33),e.bVm(),e.qex(84,42),e.DNE(85,Qi,2,1,"mat-header-cell",32)(86,es,3,3,"mat-cell",33),e.bVm(),e.qex(87,43),e.DNE(88,ts,2,1,"mat-header-cell",32)(89,os,3,3,"mat-cell",33),e.bVm(),e.qex(90,44),e.DNE(91,ns,2,1,"mat-header-cell",32)(92,is,2,1,"mat-cell",33),e.bVm(),e.qex(93,45),e.DNE(94,ss,2,1,"mat-header-cell",32)(95,rs,2,1,"mat-cell",33),e.bVm(),e.qex(96,46),e.DNE(97,as,3,3,"mat-header-cell",47)(98,ls,6,1,"mat-cell",48),e.bVm(),e.DNE(99,cs,1,0,"mat-header-row",49)(100,ds,1,6,"mat-row",50),e.k0s(),e.bVm(),e.qex(101,51),e.j41(102,"mat-paginator",52,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey","report.user.list"),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(41),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Di)))},dependencies:[h.YU,h.bT,h.B3,g.BC,g.vS,B.iY,$.An,U.fg,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,z.x,h.Jj,S.D9,P.p,Y.p,K.Z,Z.T,Q.M,J.j],encapsulation:2})}return n})();const ms=["vform"];function ps(n,a){if(1&n&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function us(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function fs(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",28),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function hs(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",29)(1,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",31),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let _s=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.zPB,f,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.N$V,this.dataModel=new c.zPB,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(c.FYP.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(ms,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",10)(9,"label",11),e.EFF(10,"UsedUsername"),e.k0s(),e.j41(11,"input",12,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedUsername,s)||(o.dataModel.usedUsername=s),e.Njj(s)}),e.k0s()(),e.j41(13,"div",10)(14,"label",13),e.EFF(15,"UsedPwd"),e.k0s(),e.j41(16,"input",14,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.usedPwd,s)||(o.dataModel.usedPwd=s),e.Njj(s)}),e.k0s()(),e.j41(18,"div",15)(19,"select",16,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(21,ps,2,2,"option",17),e.k0s(),e.j41(22,"em"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.DNE(25,us,5,3,"mat-error",18),e.k0s(),e.nrm(26,"app-cms-site-selector",19),e.nI1(27,"translate"),e.nrm(28,"app-cms-user-selector",19),e.nI1(29,"translate"),e.nrm(30,"app-cms-member-selector",19),e.nI1(31,"translate"),e.j41(32,"div",10)(33,"label",20),e.EFF(34,"LinkDeviceId"),e.k0s(),e.j41(35,"input",21,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(37,"div",10)(38,"label",22),e.EFF(39,"LinkApplicationId"),e.k0s(),e.j41(40,"input",23,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(42,"div",10)(43,"label",24),e.EFF(44,"DeviceClientMAC"),e.k0s(),e.j41(45,"input",25,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.DNE(47,fs,3,3,"div",18)(48,hs,5,3,"div",26),e.k0s()()}if(2&i){const r=e.sdS(20);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(5),e.R50("ngModel",o.dataModel.usedUsername),e.R7$(5),e.R50("ngModel",o.dataModel.usedPwd),e.R7$(3),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(24,25,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(27,27,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(29,29,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(31,31,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(2),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow)}},dependencies:[h.Sq,h.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,ne.TL,U.fg,N.p,G.X,le.W,A._,S.D9,oe.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Ss=["vform"];function gs(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let bs=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserBadLoginService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.zPB,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Ss,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,gs,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();const Ts=()=>[5,10,20,100];function Cs(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",48),e.k0s()}}function Is(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ks(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Rs(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",23),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Ms(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function As(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Es(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function vs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function ws(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ds(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function ys(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Ls(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function Us(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function js(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Ns(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function Gs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.usedUsername," ")}}function Fs(n,a){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Vs(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Bs(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function $s(n,a){if(1&n&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Os(n,a){1&n&&e.nrm(0,"mat-header-row")}function xs(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let re=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w,d){if(super(i,new c.zPB,w,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=l,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=u,this.pageInfo=M,this.publicHelper=w,this.dialog=d,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const D=new c.ycK;D.propertyName="LinkCmsSiteId",D.value=this.requestLinkSiteId,this.filteModelContent.filters.push(D)}if(this.requestLinkUserId>0){const D=new c.ycK;D.propertyName="LinkUserId",D.value=this.requestLinkUserId,this.filteModelContent.filters.push(D)}if(this.requestLinkDeviceId>0){const D=new c.ycK;D.propertyName="LinkDeviceId",D.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(D)}this.optionsSearch.parentMethods={onSubmit:D=>this.onSubmitOptionsSearch(D)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.zPB);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(bs,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(_s,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.i9D),e.rXU(c.VJn),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:89,vars:40,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Cs,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Is,7,3,"div",19)(24,ks,7,3,"div",19),e.j41(25,"div",20)(26,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(27,"i",22)(28,"br"),e.k0s(),e.j41(29,"p",23),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"div",20)(33,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(34,"i",24)(35,"br"),e.k0s(),e.j41(36,"p",23),e.EFF(37),e.nI1(38,"translate"),e.k0s()(),e.j41(39,"div",20)(40,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(41,"i",25)(42,"br"),e.k0s(),e.j41(43,"p",23),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"div",20)(47,"a",21),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(48,"i",26)(49,"br"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.nI1(52,"translate"),e.k0s()(),e.DNE(53,Rs,7,3,"div",19),e.bVm(),e.qex(54,27),e.j41(55,"app-cms-search-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(56,"app-cms-statist-list",28),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(57,29),e.j41(58,"mat-table",30,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(59);return e.Njj(o.onTableSortData(s))}),e.qex(60,31),e.DNE(61,Ms,2,1,"mat-header-cell",32)(62,As,2,1,"mat-cell",33),e.bVm(),e.qex(63,34),e.DNE(64,Es,2,1,"mat-header-cell",32)(65,vs,4,5,"mat-cell",33),e.bVm(),e.qex(66,35),e.DNE(67,ws,2,1,"mat-header-cell",32)(68,Ds,4,5,"mat-cell",33),e.bVm(),e.qex(69,36),e.DNE(70,ys,2,1,"mat-header-cell",32)(71,Ls,2,1,"mat-cell",33),e.bVm(),e.qex(72,37),e.DNE(73,Us,2,1,"mat-header-cell",32)(74,js,3,4,"mat-cell",33),e.bVm(),e.qex(75,38),e.DNE(76,Ns,2,1,"mat-header-cell",32)(77,Gs,2,1,"mat-cell",33),e.bVm(),e.qex(78,39),e.DNE(79,Fs,2,1,"mat-header-cell",32)(80,Vs,2,1,"mat-cell",33),e.bVm(),e.qex(81,40),e.DNE(82,Bs,3,3,"mat-header-cell",41)(83,$s,6,1,"mat-cell",42),e.bVm(),e.DNE(84,Os,1,0,"mat-header-row",43)(85,xs,1,6,"mat-row",44),e.k0s(),e.bVm(),e.qex(86,45),e.j41(87,"mat-paginator",46,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,27,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,29,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(6),e.JRh(e.bMT(31,31,"ACTION.SITE")),e.R7$(7),e.JRh(e.bMT(38,33,"ACTION.USER")),e.R7$(7),e.JRh(e.bMT(45,35,"ACTION.MEMBER")),e.R7$(7),e.JRh(e.bMT(52,37,"ACTION.DEVICE")),e.R7$(2),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(26),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(39,Ts)))},dependencies:[h.bT,g.BC,g.vS,B.iY,$.An,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,h.Jj,S.D9,P.p,Y.p,K.Z],encapsulation:2})}return n})();const Xs=["vform"];function Hs(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",36),e.mxI("modelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.recordStatus,o)||(r.dataModel.recordStatus=o),e.Njj(o)}),e.k0s()}if(2&n){const t=e.XpG();e.R50("model",t.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qs(n,a){if(1&n&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ps(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," LinkMemberId is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ys(n,a){if(1&n&&(e.j41(0,"option",37),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.description," ")}}function Ks(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1," UserAccessAreaType is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Ws(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",40),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",43),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToAllData,o)||(r.dataModel.userAccessAdminAllowToAllData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",44),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function Js(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",45),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.userAccessAdminAllowToProfessionalData,o)||(r.dataModel.userAccessAdminAllowToProfessionalData=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",47),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function zs(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"h5",48),e.EFF(3),e.k0s()(),e.j41(4,"div",41)(5,"div",42)(6,"input",49),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.rememberOnDevice,o)||(r.dataModel.rememberOnDevice=o),e.Njj(o)}),e.k0s(),e.nrm(7,"label",50),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.R7$(3),e.R50("ngModel",t.dataModel.rememberOnDevice)}}function Zs(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",21)(1,"label",51),e.EFF(2),e.k0s(),e.j41(3,"input",52),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.tokenExpireDate,o)||(r.dataModel.tokenExpireDate=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),e.k0s()}if(2&n){const t=e.sdS(6),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.R7$(),e.Y8G("matDatepicker",t),e.R50("ngModel",i.dataModel.tokenExpireDate),e.R7$(),e.Y8G("for",t)}}function Qs(n,a){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",55),e.nI1(2,"prettyjson"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.dataModel),e.npT)}}function er(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",56)(1,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",58),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let tr=(()=>{class n extends j.n{constructor(t,i,o,r,l,s,m,f,u){super(r,new c.TuM,f,u),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.dataModelResult=new c.YyC,this.dataModel=new c.TuM,this.formInfo=new c.IL9,this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:t=>{this.dataModelEnumManageUserAccessUserTypesResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(c.FYP.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Xs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",9),e.nrm(1,"app-progress-spinner",10),e.j41(2,"div",11)(3,"p",12),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Hs,1,5,"app-cms-enum-record-status-selector",13),e.j41(9,"div",14)(10,"select",15,0),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkMemberId,s)||(o.dataModel.linkMemberId=s),e.Njj(s)}),e.DNE(12,qs,2,2,"option",16),e.k0s(),e.j41(13,"em"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,Ps,5,3,"mat-error",17),e.k0s(),e.j41(17,"div",14)(18,"select",18,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userAccessAreaType,s)||(o.dataModel.userAccessAreaType=s),e.Njj(s)}),e.DNE(20,Ys,2,2,"option",16),e.k0s(),e.j41(21,"em"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,Ks,5,3,"mat-error",17),e.k0s(),e.nrm(25,"app-cms-site-selector",19),e.nI1(26,"translate"),e.nrm(27,"app-cms-user-selector",19),e.nI1(28,"translate"),e.nrm(29,"app-cms-member-selector",19),e.nI1(30,"translate"),e.DNE(31,Ws,8,2,"div",20)(32,Js,8,2,"div",20)(33,zs,8,2,"div",20),e.j41(34,"div",21)(35,"label",22),e.EFF(36,"BrowserLanguage"),e.k0s(),e.j41(37,"input",23,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.browserLanguage,s)||(o.dataModel.browserLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(39,"div",21)(40,"label",24),e.EFF(41,"UserLanguage"),e.k0s(),e.j41(42,"input",25,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.userLanguage,s)||(o.dataModel.userLanguage=s),e.Njj(s)}),e.k0s()(),e.j41(44,"div",21)(45,"label",26),e.EFF(46,"LinkDeviceId"),e.k0s(),e.j41(47,"input",27,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkDeviceId,s)||(o.dataModel.linkDeviceId=s),e.Njj(s)}),e.k0s()(),e.j41(49,"div",21)(50,"label",28),e.EFF(51,"LinkApplicationId"),e.k0s(),e.j41(52,"input",29,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.linkApplicationId,s)||(o.dataModel.linkApplicationId=s),e.Njj(s)}),e.k0s()(),e.j41(54,"div",21)(55,"label",30),e.EFF(56,"DeviceClientMAC"),e.k0s(),e.j41(57,"input",31,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.deviceClientMAC,s)||(o.dataModel.deviceClientMAC=s),e.Njj(s)}),e.k0s()(),e.j41(59,"div",21)(60,"label",32),e.EFF(61,"Token"),e.k0s(),e.j41(62,"input",33,7),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.token,s)||(o.dataModel.token=s),e.Njj(s)}),e.k0s()(),e.DNE(64,Zs,7,4,"div",34)(65,Qs,3,3,"div",17)(66,er,5,3,"div",35),e.k0s()()}if(2&i){const r=e.sdS(11),l=e.sdS(19);e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.recordStatus?null:o.fieldsInfo.recordStatus.accessWatchField),e.R7$(2),e.R50("ngModel",o.dataModel.linkMemberId),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessUserTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(15,35,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(2),e.R50("ngModel",o.dataModel.userAccessAreaType),e.R7$(2),e.Y8G("ngForOf",o.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.R7$(2),e.JRh(e.bMT(23,37,"TITLE.SELECT_STATUS")),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(26,39,"TITLE.WEBSITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(28,41,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(30,43,"TITLE.Member")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToAllData?null:o.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.userAccessAdminAllowToProfessionalData?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.R7$(),e.Y8G("ngIf",null==o.fieldsInfo.rememberOnDevice?null:o.fieldsInfo.rememberOnDevice.accessWatchField),e.R7$(4),e.R50("ngModel",o.dataModel.browserLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.userLanguage),e.R7$(5),e.R50("ngModel",o.dataModel.linkDeviceId),e.R7$(5),e.R50("ngModel",o.dataModel.linkApplicationId),e.R7$(5),e.R50("ngModel",o.dataModel.deviceClientMAC),e.R7$(5),e.R50("ngModel",o.dataModel.token),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.tokenExpireDate?null:o.fieldsInfo.tokenExpireDate.accessWatchField),e.R7$(),e.Y8G("ngIf",o.tokenInfo.userAccessAdminAllowToProfessionalData),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow)}},dependencies:[h.Sq,h.bT,g.xH,g.y7,g.me,g.Zm,g.wz,g.BC,g.vS,ee.Vh,ee.bZ,ee.bU,ne.TL,ne.yw,U.fg,N.p,W.m,G.X,le.W,A._,S.D9,oe.V],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const or=["vform"];function nr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ir=(()=>{class n{constructor(t,i,o,r,l,s,m,f,u){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreTokenUserLogService=r,this.cmsToastrService=l,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=u,this.requestId="",this.tokenInfo=new c.l$k,this.dataModelResult=new c.N$V,this.dataModel=new c.TuM,this.formInfo=new c.IL9,this.dataModelEnumSendSmsStatusTypeResult=new c.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(b.Vh),e.rXU(b.CP),e.rXU(c.i9D),e.rXU(c.ZiN),e.rXU(I.k),e.rXU(k._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(S.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(or,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,nr,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[h.bT,A._,F.l,S.D9]})}return n})();const sr=()=>[5,10,20,100];function rr(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",45),e.k0s()}}function ar(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function lr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function cr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.SITE")))}function dr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function mr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewDeviceRow(o.tableRowSelected))}),e.nrm(2,"i",55)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DEVICE")))}function pr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"a",56),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",57)(3,"br"),e.k0s(),e.j41(4,"p",49),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ur(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function fr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function hr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function _r(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Sr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function gr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function br(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Tr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Cr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ir(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI(" ",t.linkMemberUserId," ")}}function kr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Rr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Mr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ar(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"enums"),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Er(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function vr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToAllData))}}function wr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Dr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.userAccessAdminAllowToProfessionalData))}}function yr(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Lr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.nrm(1,"i",59),e.nI1(2,"boolclass"),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,t.rememberOnDevice))}}function Ur(n,a){if(1&n&&(e.j41(0,"mat-header-cell",58),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function jr(n,a){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Nr(n,a){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Gr(n,a){if(1&n&&(e.j41(0,"mat-cell",60)(1,"button",61)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Fr(n,a){1&n&&e.nrm(0,"mat-header-row")}function Vr(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=a.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let ae=(()=>{class n extends y.j{constructor(t,i,o,r,l,s,m,f,u,M,w){if(super(t,new c.TuM,M,l,m),this.contentService=t,this.cmsToastrService=i,this.cmsConfirmationDialogService=o,this.activatedRoute=r,this.tokenHelper=l,this.cdr=s,this.translate=m,this.router=f,this.pageInfo=u,this.publicHelper=M,this.dialog=w,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new c.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new c.N$V,this.dataModelEnumManageUserAccessUserTypesResult=new c.N$V,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new c.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new c.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new c.ycK;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=c.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new c.TuM);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=c.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=c.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ir,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(tr,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:T.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:T.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const l=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(l,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(l)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(l,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),l=new c.ycK;l.propertyName="RecordStatus",l.value=c.Xw7.Available,r.filters.push(l),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.ZiN),e.rXU(I.k),e.rXU(L.o),e.rXU(C.nX),e.rXU(k._),e.rXU(e.gRc),e.rXU(S.c$),e.rXU(C.Ix),e.rXU(V.P),e.rXU(R.A),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coretoken-user-list"]],features:[e.Vt3],decls:76,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,rr,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,ar,7,3,"div",19)(24,lr,7,3,"div",19)(25,cr,7,3,"div",19)(26,dr,7,3,"div",19)(27,mr,7,3,"div",19)(28,pr,7,3,"div",19),e.bVm(),e.qex(29,20),e.j41(30,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(31,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(32,22),e.j41(33,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(34);return e.Njj(o.onTableSortData(s))}),e.qex(35,24),e.DNE(36,ur,2,1,"mat-header-cell",25)(37,fr,2,1,"mat-cell",26),e.bVm(),e.qex(38,27),e.DNE(39,hr,2,1,"mat-header-cell",25)(40,_r,2,1,"mat-cell",26),e.bVm(),e.qex(41,28),e.DNE(42,Sr,2,1,"mat-header-cell",25)(43,gr,4,5,"mat-cell",26),e.bVm(),e.qex(44,29),e.DNE(45,br,2,1,"mat-header-cell",25)(46,Tr,4,5,"mat-cell",26),e.bVm(),e.qex(47,30),e.DNE(48,Cr,2,1,"mat-header-cell",25)(49,Ir,2,1,"mat-cell",26),e.bVm(),e.qex(50,31),e.DNE(51,kr,2,1,"mat-header-cell",25)(52,Rr,3,4,"mat-cell",26),e.bVm(),e.qex(53,32),e.DNE(54,Mr,2,1,"mat-header-cell",25)(55,Ar,3,4,"mat-cell",26),e.bVm(),e.qex(56,33),e.DNE(57,Er,2,1,"mat-header-cell",25)(58,vr,3,3,"mat-cell",26),e.bVm(),e.qex(59,34),e.DNE(60,wr,2,1,"mat-header-cell",25)(61,Dr,3,3,"mat-cell",26),e.bVm(),e.qex(62,35),e.DNE(63,yr,2,1,"mat-header-cell",25)(64,Lr,3,3,"mat-cell",26),e.bVm(),e.qex(65,36),e.DNE(66,Ur,2,1,"mat-header-cell",25)(67,jr,2,1,"mat-cell",26),e.bVm(),e.qex(68,37),e.DNE(69,Nr,3,3,"mat-header-cell",38)(70,Gr,6,1,"mat-cell",39),e.bVm(),e.DNE(71,Fr,1,0,"mat-header-row",40)(72,Vr,1,6,"mat-row",41),e.k0s(),e.bVm(),e.qex(73,42),e.j41(74,"mat-paginator",43,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,26,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,28,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected||null==o.tableRowSelected.deviceClientMAC?null:o.tableRowSelected.deviceClientMAC.length)>0),e.R7$(),e.Y8G("ngIf",(null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow)&&(null==o.tableRowSelected||null==o.tableRowSelected.id?null:o.tableRowSelected.id.length)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(38),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(30,sr)))},dependencies:[h.YU,h.bT,g.BC,g.vS,B.iY,$.An,E.kk,E.Cp,O.iy,x.sG,v.B4,v.aE,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,X.l,H.l,q.A,h.Jj,S.D9,P.p,Y.p,K.Z,J.j],encapsulation:2})}return n})();const Br=[{path:"",component:Qe,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:se,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:se,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:se,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:se,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:ae,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:ae,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:ae,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:ae,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:re,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Ze,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Uo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:xt,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:ui,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:kn,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let $r=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({imports:[C.iI.forChild(Br),C.iI]})}return n})(),Or=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({providers:[c.XBe,c.i9D,c.FRq,c.ZiN,c.VJn,c.iF$,c.JD_,c.Nci,c.rM,c.pCN,c.ayK,L.o],imports:[$r,h.MD,g.YN,g.X1.withConfig({warnOnNgModelWithFormControl:"never"}),te.G]})}return n})()},9041:(ce,ie,_)=>{_.d(ie,{p:()=>g});var h=_(7788);let g=(()=>{class c{transform(te,C){if(!C||0===C.length)return"";const y=C.find(T=>T.key===te||T.value===te);return y?y.description:""}static#e=this.\u0275fac=function(C){return new(C||c)};static#t=this.\u0275pipe=h.EJ8({name:"enums",type:c,pure:!0})}return c})()}}]);