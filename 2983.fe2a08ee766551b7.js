"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[2983],{9084:(b,L,n)=>{n.d(L,{Y:()=>A});var t=n(7241),i=n(7969),v=n(4537),m=n(4511);let A=(()=>{class S{service;constructor(g){this.service=g}transform(g){return!g||g<=0?new t.y:this.service.ServiceGetOneById(g,1e6).pipe((0,i.U)(_=>{var p="";return _.isSuccess&&(_.item.title&&_.item.title.length>0&&(p=_.item.title),_.item.id&&_.item.id>0&&(p.length>0&&(p+=" | "),p+=_.item.id),_.item.domain&&_.item.domain.length>0&&_.item.subDomain&&_.item.subDomain.length>0?(p.length>0&&(p+=" | "),p=p+_.item.subDomain+"."+_.item.domain):_.item.domain&&_.item.domain.length>0&&(p.length>0&&(p+=" | "),p+=_.item.domain)),0===p.length&&(p=g.toString()),p},_=>g.toString()))}static \u0275fac=function(_){return new(_||S)(v.Y36(m._0e,16))};static \u0275pipe=v.Yjl({name:"cmssiteinfo",type:S,pure:!0})}return S})()},9835:(b,L,n)=>{n.d(L,{v:()=>M});var t=n(4537),i=n(8692),v=n(6707);let m=(()=>{class o{transform(a,r){if(!a)return[];let P=Object.keys(a);return P=P.filter(E=>E&&E.length>0&&E.toLowerCase().indexOf("antiinjection")<0),r&&r.size>0&&(P=P.filter(E=>E&&E.length>0&&r.has(E))),P}static \u0275fac=function(r){return new(r||o)};static \u0275pipe=t.Yjl({name:"listkeys",type:o,pure:!0})}return o})();function A(o,h){1&o&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"div",8),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"TITLE.parameter")),t.xp6(3),t.Oqu(t.lcZ(6,4,"TITLE.Values")))}function S(o,h){if(1&o&&(t.TgZ(0,"div",9)(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t._uU(4),t.qZA(),t._UZ(5,"div",10),t.qZA()),2&o){const a=h.$implicit,r=t.oxw(2);t.xp6(2),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(a):a),t.xp6(2),t.Oqu(r.dataModel[a])}}function I(o,h){if(1&o&&(t.TgZ(0,"div",3),t.YNc(1,A,8,6,"div",4),t.YNc(2,S,6,2,"div",5),t.ALo(3,"listkeys"),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",t.xi3(3,2,a.dataModel,a.optionFields))}}function g(o,h){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&o){const a=h.$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(a):a)}}function _(o,h){if(1&o&&(t.TgZ(0,"div",6),t.YNc(1,g,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function p(o,h){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&o){const a=h.$implicit,r=t.oxw().$implicit;t.xp6(1),t.Oqu(r[a])}}function D(o,h){if(1&o&&(t.TgZ(0,"div",9),t.YNc(1,p,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",10),t.qZA()),2&o){const a=h.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a,r.optionFields))}}function O(o,h){if(1&o&&(t.TgZ(0,"div",3),t.YNc(1,_,4,4,"div",4),t.YNc(2,D,4,4,"div",5),t.qZA()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(1),t.Q6J("ngForOf",a.dataModel)}}function x(o,h){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&o){const a=h.$implicit,r=t.oxw(3);t.xp6(1),t.Oqu(r.optionFields&&r.optionFields.size>0?r.optionFields.get(a):a)}}function s(o,h){if(1&o&&(t.TgZ(0,"div",6),t.YNc(1,x,2,1,"div",11),t.ALo(2,"listkeys"),t._UZ(3,"div",8),t.qZA()),2&o){const a=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,a.dataModel[0],a.optionFields))}}function d(o,h){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&o){const a=h.$implicit,r=t.oxw(2);t.xp6(1),t.Oqu(r.dataModel[a])}}function C(o,h){if(1&o&&(t.TgZ(0,"div",3),t.YNc(1,s,4,4,"div",4),t.TgZ(2,"div",9),t.YNc(3,d,2,1,"div",11),t.ALo(4,"listkeys"),t._UZ(5,"div",10),t.qZA()()),2&o){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.optionViewHead),t.xp6(2),t.Q6J("ngForOf",t.xi3(4,2,a.dataModel,a.optionFields))}}let M=(()=>{class o{static nextId=0;id=++o.nextId;constructor(){}optionMethod=1;dataModel;optionFields;optionViewHead=!0;ngOnInit(){}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=t.Xpm({type:o,selectors:[["app-cms-json-list"]],inputs:{optionMethod:"optionMethod",dataModel:"dataModel",optionFields:"optionFields",optionViewHead:"optionViewHead"},decls:5,vars:3,consts:[[1,"card","card-style"],[1,"content","mb-0"],["class","table",4,"ngIf"],[1,"table"],["class","th",4,"ngIf"],["class","tr",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],[1,"clear"],[1,"tr"],[2,"clear","both"],["class","td",4,"ngFor","ngForOf"]],template:function(r,P){1&r&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,I,4,5,"div",2),t.YNc(3,O,3,2,"div",2),t.YNc(4,C,6,5,"div",2),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("ngIf",1===P.optionMethod&&P.dataModel),t.xp6(1),t.Q6J("ngIf",2===P.optionMethod&&P.dataModel),t.xp6(1),t.Q6J("ngIf",3===P.optionMethod&&P.dataModel))},dependencies:[i.sg,i.O5,v.X$,m],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]})}return o})()},6609:(b,L,n)=>{n.d(L,{D:()=>U});var t=n(8239),i=n(4537),v=n(92),m=n(4511),A=n(7445),S=n(1927),I=n(3151),g=n(2147),_=n(1528),p=n(7969),D=n(656),O=n(6707),x=n(4032),s=n(8692),d=n(1637),C=n(1379),M=n(8659),o=n(3331),h=n(9665),a=n(7529),r=n(1418);function P(f,y){if(1&f&&(i.TgZ(0,"label",8),i._uU(1),i.qZA()),2&f){const e=i.oxw();i.MGl("for","app-cms-site-selector-",e.id,""),i.xp6(1),i.Oqu(e.optionLabel)}}function E(f,y){if(1&f&&(i._UZ(0,"img",11),i.ALo(1,"cmsthumbnail")),2&f){const e=i.oxw().$implicit;i.s9C("src",i.lcZ(1,1,e.linkImageIdSrc),i.LSH)}}function R(f,y){if(1&f&&(i.TgZ(0,"mat-option",9),i.YNc(1,E,2,3,"img",10),i.TgZ(2,"span"),i._uU(3),i.qZA()()),2&f){const e=y.$implicit,l=i.oxw();i.Q6J("value",e)("disabled",l.optionDisabled),i.xp6(1),i.Q6J("ngIf",e.linkImageIdSrc),i.xp6(2),i.Oqu(l.displayOption(e))}}function F(f,y){if(1&f){const e=i.EpF();i.TgZ(0,"mat-icon",12),i.NdJ("click",function(){i.CHM(e);const c=i.oxw();return i.KtG(c.onActionSelectClear())}),i._uU(1,"close"),i.qZA()}}const Z=["*"];let U=(()=>{class f{coreEnumService;translate;publicHelper;cdr;categoryService;static nextId=0;id=++f.nextId;constructor(e,l,c,T,u){this.coreEnumService=e,this.translate=l,this.publicHelper=c,this.cdr=T,this.categoryService=u,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(J=>{this.loading.message=J})}dataModelResult=new m.y$4;dataModelSelect=new m.Dp$;formControl=new v.NI;filteredOptions;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder="";optionLabel="";optionChange=new i.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(e){this.onActionSelectForce(e)}loading=new D.O;get optionLoading(){return this.loading}set optionLoading(e){this.loading=e}ngOnInit(){this.loadOptions(),(!this.optionLabel||0==this.optionLabel.length&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe((0,S.O)(""),(0,I.b)(1500),(0,g.x)(),(0,_.w)(e=>this.DataGetAll("string"==typeof e||"number"==typeof e?e:"")))}displayFn(e){return e&&e.virtual_Parent&&e.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?e.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.titleML+" > "+e.titleML:e&&e.virtual_Parent&&e.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.title.length>0?e.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.titleML+" > "+e.titleML:e&&e.virtual_Parent&&e.virtual_Parent.title.length>0?e.virtual_Parent.titleML+" > "+e.titleML:e?e.titleML:void 0}displayOption(e){return e&&e.virtual_Parent&&e.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.virtual_Parent.title.length>0?e.virtual_Parent.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.titleML+" > "+e.titleML:e&&e.virtual_Parent&&e.virtual_Parent.title.length>0&&e.virtual_Parent.virtual_Parent&&e.virtual_Parent.virtual_Parent.title.length>0?e.virtual_Parent.virtual_Parent.titleML+" > "+e.virtual_Parent.titleML+" > "+e.titleML:e&&e.virtual_Parent&&e.virtual_Parent.title.length>0?e.virtual_Parent.titleML+" > "+e.titleML:e?e.titleML:void 0}DataGetAll(e){var l=this;return(0,t.Z)(function*(){const c=new m.Hay;if(c.rowPerPage=20,c.accessLoad=!0,e&&e.length>0){let u=new m.AO3;u=new m.AO3,u.propertyName="Symbol",u.value=e,u.searchType=m.J6G.Contains,u.clauseType=m.ppe.Or,c.filters.push(u),u=new m.AO3,u.propertyName="Title",u.value=e,u.searchType=m.J6G.Contains,u.clauseType=m.ppe.Or,c.filters.push(u),e&&"number"==typeof+e&&+e>0&&(u=new m.AO3,u.propertyName="Id",u.value=e,u.searchType=m.J6G.Equal,u.clauseType=m.ppe.Or,c.filters.push(u))}const T=l.constructor.name+"main";return l.publicHelper.processService.processStart(T),yield(0,A.z)(l.categoryService.ServiceGetAll(c)).then(u=>(l.dataModelResult=u,l.optionSelectFirstItem&&(!l.dataModelSelect||!l.dataModelSelect.id||l.dataModelSelect.id<=0)&&l.dataModelResult.listItems.length>0&&(l.optionSelectFirstItem=!1,setTimeout(()=>{l.formControl.setValue(l.dataModelResult.listItems[0])},1e3),l.onActionSelect(l.dataModelResult.listItems[0])),l.publicHelper.processService.processStop(T),u.listItems))})()}onActionSelect(e){this.optionDisabled||(this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(e){return this.filteredOptions.pipe((0,p.U)(l=>(l.find(c=>c.id===e.id)||l.push(e),l)))}onActionSelectForce(e){if("number"==typeof e&&e>0){if(this.dataModelSelect&&this.dataModelSelect.id===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(l=>l.id===e)){const l=this.dataModelResult.listItems.find(c=>c.id===e);return this.dataModelSelect=l,void this.formControl.setValue(l)}this.categoryService.ServiceGetOneIncludeParent(e).subscribe({next:l=>{l.isSuccess&&(this.filteredOptions=this.push(l.item),this.dataModelSelect=l.item,this.formControl.setValue(l.item),this.optionChange.emit(l.item))}})}else{if(typeof e==typeof m.Dp$)return this.filteredOptions=this.push(e),this.dataModelSelect=e,void this.formControl.setValue(e);this.formControl.setValue(null)}}onActionButtonReload(){this.dataModelSelect=new m.Dp$,this.loadOptions()}static \u0275fac=function(l){return new(l||f)(i.Y36(m.FLW),i.Y36(O.sK),i.Y36(x.i),i.Y36(i.sBO),i.Y36(m.XRW))};static \u0275cmp=i.Xpm({type:f,selectors:[["app-cms-location-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLoading:"optionLoading"},outputs:{optionChange:"optionChange"},ngContentSelectors:Z,decls:10,vars:12,consts:[[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],[3,"options"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"displayWith","optionSelected"],["matauto","matAutocomplete"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(l,c){if(1&l&&(i.F$t(),i.TgZ(0,"div",0),i._UZ(1,"cms-progress-spinner",1),i.YNc(2,P,2,2,"label",2),i._UZ(3,"input",3),i.TgZ(4,"mat-autocomplete",4,5),i.NdJ("optionSelected",function(u){return c.onActionSelect(u.option.value)}),i.YNc(6,R,4,4,"mat-option",6),i.ALo(7,"async"),i.qZA(),i.YNc(8,F,2,0,"mat-icon",7),i.Hsn(9),i.qZA()),2&l){const T=i.MAs(5);i.xp6(1),i.Q6J("options",c.loading),i.xp6(1),i.Q6J("ngIf",(null==c.optionLabel?null:c.optionLabel.length)>0),i.xp6(1),i.s9C("placeholder",c.optionPlaceholder),i.MGl("id","app-cms-site-selector-",c.id,""),i.Q6J("formControl",c.formControl)("matAutocomplete",T),i.uIk("disabled",!!c.optionDisabled||null),i.xp6(1),i.Q6J("displayWith",c.displayFn),i.xp6(2),i.Q6J("ngForOf",i.lcZ(7,10,c.filteredOptions)),i.xp6(2),i.Q6J("ngIf",null==c.dataModelSelect?null:c.dataModelSelect.id)}},dependencies:[s.sg,s.O5,v.Fj,v.JJ,v.oH,d.XC,C.ey,d.ZL,M.R9,o.Hw,h.Nt,a.I,s.Ov,r.v],encapsulation:2})}return f})()},4370:(b,L,n)=>{n.d(L,{a:()=>D});var t=n(4537),i=n(92),v=n(4511),m=n(656),A=n(4032),S=n(2607),I=n(6707),g=n(8692),_=n(1561);function p(O,x){if(1&O){const s=t.EpF();t.TgZ(0,"li")(1,"mat-checkbox",1),t.NdJ("change",function(){const M=t.CHM(s).$implicit,o=t.oxw();return t.KtG(o.onActionSelect(M))}),t._uU(2),t.qZA()()}if(2&O){const s=x.$implicit,d=t.oxw();t.xp6(1),t.Q6J("checked",d.fieldsStatus.get(s.id))("disabled",d.optionDisabled),t.xp6(1),t.hij(" ",s.title," ")}}let D=(()=>{class O{coreEnumService;categoryService;cdr;publicHelper;cmsToastrService;translate;static nextId=0;id=++O.nextId;constructor(s,d,C,M,o,h){this.coreEnumService=s,this.categoryService=d,this.cdr=C,this.publicHelper=M,this.cmsToastrService=o,this.translate=h,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(a=>{this.loading.message=a})}dataModelResult=new v.y$4;dataModelSelect=[];dataIdsSelect=[];loading=new m.O;get optionLoading(){return this.loading}set optionLoading(s){this.loading=s}formControl=new i.NI;fieldsStatus=new Map;optionDisabled=!1;optionSelectFirstItem=!1;optionPlaceholder=new t.vpe;optionChange=new t.vpe;optionSelectAdded=new t.vpe;optionSelectRemoved=new t.vpe;optionReload=()=>this.onActionButtonReload();set optionSelectForce(s){this.onActionSelectForce(s)}ngOnInit(){this.DataGetAll()}DataGetAll(){const s=new v.Hay;s.rowPerPage=50,s.accessLoad=!0;const d=this.constructor.name+"main";this.publicHelper.processService.processStart(d),this.categoryService.ServiceGetAll(s).subscribe({next:C=>{C.isSuccess&&(this.dataModelResult=C,this.dataModelResult.listItems.forEach(M=>this.fieldsStatus.set(M.id,!1)),this.dataIdsSelect.forEach(M=>this.fieldsStatus.set(M,!0)),this.dataModelResult.listItems.forEach(M=>{this.fieldsStatus.get(M.id)&&this.dataModelSelect.push(M)})),this.publicHelper.processService.processStop(d)},error:C=>{this.cmsToastrService.typeError(C),this.publicHelper.processService.processStop(d)}})}onActionSelect(s){this.fieldsStatus.get(s.id)?(this.fieldsStatus.set(s.id,!1),this.optionSelectRemoved.emit(s),this.dataModelSelect.splice(this.dataModelSelect.indexOf(s),1)):(this.fieldsStatus.set(s.id,!0),this.optionSelectAdded.emit(s),this.dataModelSelect.push(s)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(s){typeof s==typeof Array(Number)?s.forEach(d=>{this.dataIdsSelect.push(d)}):typeof s==typeof Array(v.MCb)&&s.forEach(d=>{this.dataIdsSelect.push(d.id)}),this.dataIdsSelect.forEach(d=>this.fieldsStatus.set(d,!0))}onActionButtonReload(){this.DataGetAll()}static \u0275fac=function(d){return new(d||O)(t.Y36(v.FLW),t.Y36(v.PwI),t.Y36(t.sBO),t.Y36(A.i),t.Y36(S.e),t.Y36(I.sK))};static \u0275cmp=t.Xpm({type:O,selectors:[["app-cms-sitecategory-selectionlist"]],inputs:{optionLoading:"optionLoading",optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"checked","disabled","change"]],template:function(d,C){1&d&&(t.TgZ(0,"ul"),t.YNc(1,p,3,3,"li",0),t.qZA()),2&d&&(t.xp6(1),t.Q6J("ngForOf",C.dataModelResult.listItems))},dependencies:[g.sg,_.oG],encapsulation:2})}return O})()}}]);