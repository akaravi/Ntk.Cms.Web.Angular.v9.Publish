import{a as Wi}from"./chunk-TXMYB7EN.js";import{a as ji}from"./chunk-KSARJFPV.js";import{a as Gi}from"./chunk-RXDSAYQG.js";import{a as Oi}from"./chunk-BRMVS3UD.js";import{b as Hi}from"./chunk-DR56WJ45.js";import{a as Ze}from"./chunk-2WBSERDS.js";import{$ as ge,$b as Xt,Ab as W,Ac as vi,B as yt,Bc as wi,Bd as Li,Cb as q,Cc as xi,Dc as bi,Ec as Mi,Fd as Pi,Ic as Ei,Id as Ni,J as qe,Jc as yi,K as he,Kc as Ti,L as Ce,Ld as Bi,Mb as Qt,N as Tt,Nb as Kt,Nd as Ye,O as At,Oa as Ie,Ob as Jt,Od as Fi,Pa as ve,Qa as we,Sc as ye,Uc as Ai,Wa as xe,Xc as ki,Za as J,Zc as Ri,_c as Ui,ac as Yt,ba as kt,bb as Vt,bc as Zt,ca as Rt,cb as Dt,cc as $t,db as Lt,dc as ei,ec as ti,fc as ii,gc as ni,hc as oi,ic as ri,jc as ai,jd as Xe,lc as li,m as bt,mc as si,nc as di,o as Mt,oc as ci,p as oe,pa as B,pc as mi,pd as Vi,qa as F,qc as pi,rc as fi,s as K,sb as jt,sc as ui,sd as Di,t as fe,tb as qt,tc as _i,ub as Y,uc as hi,v as ue,va as Qe,vb as j,w as Et,wc as Ci,x as re,xc as gi,y as _e,yc as Si,zb as zt,zc as Ii}from"./chunk-C6VDHA6X.js";import{a as se}from"./chunk-XBKVRVC6.js";import{Aa as Be,Ab as nt,Bd as Ue,Db as te,Dc as wt,Eb as ie,Fb as ne,Fc as je,Fd as Nt,Ia as Z,Ib as y,Ie as Wt,Je,Kb as d,Kd as Bt,L as _t,La as r,Lb as v,Lc as xt,Ld as z,Ma as S,Mb as C,Nb as le,O as ht,Ob as ot,Od as X,Pd as Ee,Qb as T,Qd as ae,Rb as A,Sb as k,Tf as Ht,Vb as Ge,Vd as O,W as Ct,Wb as rt,X as gt,Yb as f,Za as pe,Zb as u,Zd as Ft,_f as lt,ab as w,bb as Fe,cb as c,da as Pe,db as St,eb as ee,fd as Se,fe as Ot,g as pt,gc as P,gd as Ut,ge as L,hd as ze,he as G,ie as Gt,ja as D,ka as Ne,kd as at,lb as a,mb as l,nb as I,nd as Ke,ob as R,pb as U,qb as Oe,ra as _,rb as x,rd as be,sa as h,u as ft,ub as M,v as ut,wb as m,wd as Me,xb as It,xc as We,yb as vt,yc as He,zb as E,zc as N,zd as Pt}from"./chunk-XKQYEJGP.js";var qi=(()=>{let s=class s{constructor(){}ngOnInit(){}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=D({type:s,selectors:[["app-core-user"]],decls:1,vars:0,template:function(t,i){t&1&&I(0,"router-outlet")},dependencies:[Ut],encapsulation:2});let o=s;return o})();var tn=["vform"];function nn(o,s){o&1&&(a(0,"mat-error"),d(1," OldPassword is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function on(o,s){if(o&1){let n=x();a(0,"div",10)(1,"label",18),d(2),f(3,"translate"),l(),a(4,"input",19,3),f(6,"translate"),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.oldPassword,t)||(i.dataModel.oldPassword=t),h(t)}),l(),a(7,"em"),d(8),l(),w(9,nn,5,3,"mat-error",13),l()}if(o&2){let n=y(5),e=m();r(2),v(u(3,5,"TITLE.Old_password")),r(2),E("placeholder",u(6,7,"TITLE.Old_password")),T("ngModel",e.dataModel.oldPassword),r(4),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function rn(o,s){o&1&&(a(0,"mat-error"),d(1," New Password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function an(o,s){o&1&&(a(0,"mat-error"),d(1," Repeat New Password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function ln(o,s){if(o&1){let n=x();a(0,"div",20)(1,"button",21),M("click",function(){_(n);let t=m();return h(t.onFormCancel())}),I(2,"i",22),d(3),f(4,"translate"),l(),a(5,"button",23),I(6,"i",24),d(7),f(8,"translate"),l()()}if(o&2){m();let n=y(9);r(3),C(" ",u(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!n.form.valid),r(2),C(" ",u(8,5,"ACTION.SAVE")," ")}}var it=(()=>{let s=class s{constructor(e,t,i,p,b,g,V,H,Q){this.data=e,this.dialogRef=t,this.coreEnumService=i,this.coreAuthService=p,this.cmsToastrService=b,this.translate=g,this.tokenHelper=V,this.cdr=H,this.publicHelper=Q,this.requestLinkUserId=0,this.tokenInfo=new Ke,this.passwordIsValid=!1,this.dataModelResult=new z,this.dataModel=new Ht,this.formInfo=new ae,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.dataCoreUserIds=[],this.publicHelper.processService.cdr=this.cdr,e&&(this.requestLinkUserId=+e.linkUserId||0),this.NewPasswordRepeat=""}ngOnInit(){this.formInfo.formTitle="\u062A\u063A\u06CC\u06CC\u0631 \u06A9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631  ",this.tokenHelper.getCurrentToken().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:e=>{this.tokenInfo=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.requestLinkUserId>0&&(this.dataModel.linkUserId=this.requestLinkUserId),this.coreAuthService.ServiceChangePassword(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}passwordValid(e){this.passwordIsValid=e}onFormSubmit(){if(this.formGroup.valid){if(this.tokenInfo.userAccessAdminAllowToProfessionalData)(!this.dataModel.oldPassword||this.dataModel.oldPassword.length===0)&&(this.dataModel.oldPassword="000");else if(!this.dataModel.oldPassword||this.dataModel.oldPassword.length===0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Enter_the_previous_password"));return}if(!this.dataModel.newPassword||this.dataModel.newPassword.length===0){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.Enter_the_new_password"));return}if(this.dataModel.newPassword!==this.NewPasswordRepeat){this.cmsToastrService.typeErrorMessage(this.translate.instant("MESSAGE.The_new_password_is_equivalent_to_a_duplicate"));return}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,t){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=e.previouslySelectedIndex},10)))}};s.\u0275fac=function(t){return new(t||s)(S(ve),S(Ie),S(O),S(Je),S(j),S(B),S(Y),S(P),S(W))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-changepassword"]],viewQuery:function(t,i){if(t&1&&te(tn,5),t&2){let p;ie(p=ne())&&(i.formGroup=p.first)}},decls:33,vars:26,consts:[["vform","ngForm"],["NewPassword",""],["NewPasswordRepeat2",""],["OldPassword",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.newPassword",1,"color-highlight"],["matInput","","name","dataModel.newPassword","type","password","minlength","3","maxlength","100","id","dataModel.newPassword","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[3,"passwordStrength","passwordToCheck"],["for","NewPasswordRepeat",1,"color-highlight"],["matInput","","name","NewPasswordRepeat","type","password","minlength","3","maxlength","100","id","NewPasswordRepeat","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","form-actions",4,"ngIf"],["for","dataModel.oldPassword",1,"color-highlight"],["matInput","","name","dataModel.oldPassword","type","password","minlength","3","maxlength","100","id","dataModel.oldPassword","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,i){if(t&1){let p=x();a(0,"div",4),I(1,"app-progress-spinner",5),a(2,"div",6)(3,"p",7),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"form",8,0),M("ngSubmit",function(){return _(p),h(i.onFormSubmit())}),w(10,on,10,9,"div",9),a(11,"div",10)(12,"label",11),d(13),f(14,"translate"),l(),a(15,"input",12,1),f(17,"translate"),k("ngModelChange",function(g){return _(p),A(i.dataModel.newPassword,g)||(i.dataModel.newPassword=g),h(g)}),l(),a(18,"em"),d(19),l(),w(20,rn,5,3,"mat-error",13),l(),a(21,"app-password-strength",14),M("passwordStrength",function(g){return _(p),h(i.passwordValid(g))}),l(),a(22,"div",10)(23,"label",15),d(24),f(25,"translate"),l(),a(26,"input",16,2),f(28,"translate"),k("ngModelChange",function(g){return _(p),A(i.NewPasswordRepeat,g)||(i.NewPasswordRepeat=g),h(g)}),l(),a(29,"em"),d(30),l(),w(31,an,5,3,"mat-error",13),l(),w(32,ln,9,7,"div",17),l()()()}if(t&2){let p=y(16),b=y(27);r(),c("optionsInfoAreaId",i.constructor.name),r(3),C(" ",i.formInfo.formTitle," "),r(2),C(" ",u(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",!i.tokenInfo.userAccessAdminAllowToProfessionalData),r(3),v(u(14,18,"TITLE.New_password")),r(2),E("placeholder",u(17,20,"TITLE.New_password")),T("ngModel",i.dataModel.newPassword),r(4),C("",p.value.length," / 100"),r(),c("ngIf",p.errors==null?null:p.errors.required),r(),c("passwordToCheck",i.dataModel.newPassword),r(3),v(u(25,22,"TITLE.Repeat_new_password")),r(2),E("placeholder",u(28,24,"TITLE.Repeat_new_password")),T("ngModel",i.NewPasswordRepeat),r(4),C("",b.value.length," / 100"),r(),c("ngIf",b.errors==null?null:b.errors.required),r(),c("ngIf",i.formInfo.formSubmitAllow)}},dependencies:[N,_e,oe,K,fe,qe,he,Ce,re,ue,ge,J,q,Ye,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var dn=["vform"];function cn(o,s){if(o&1){let n=x();a(0,"app-cms-enum-record-status-selector",37),k("modelChange",function(t){_(n);let i=m();return A(i.dataModel.recordStatus,t)||(i.dataModel.recordStatus=t),h(t)}),l()}if(o&2){let n=m();T("model",n.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function mn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.username==null?null:n.fieldsInfo.username.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function pn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",39),d(2),l(),a(3,"input",40,2),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.username,t)||(i.dataModel.username=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,mn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),r(),E("placeholder",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),T("ngModel",e.dataModel.username),c("disabled",!(e.fieldsInfo.username!=null&&e.fieldsInfo.username.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function fn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function un(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",42),d(2),l(),a(3,"input",43,3),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.email,t)||(i.dataModel.email=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,fn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),r(),E("placeholder",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),T("ngModel",e.dataModel.email),c("disabled",!(e.fieldsInfo.email!=null&&e.fieldsInfo.email.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function _n(o,s){if(o&1){let n=x();a(0,"div",44)(1,"div",45)(2,"h5",46),d(3),l()(),a(4,"div",47)(5,"div",48)(6,"input",49),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.emailConfirmed,t)||(i.dataModel.emailConfirmed=t),h(t)}),l(),I(7,"label",50),l()()()}if(o&2){let n=m();r(3),C(" ",n.fieldsInfo.emailConfirmed==null?null:n.fieldsInfo.emailConfirmed.fieldTitle,""),r(3),T("ngModel",n.dataModel.emailConfirmed)}}function hn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Cn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",51),d(2),l(),a(3,"input",52,4),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.mobile,t)||(i.dataModel.mobile=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,hn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),r(),E("placeholder",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),T("ngModel",e.dataModel.mobile),c("disabled",!(e.fieldsInfo.mobile!=null&&e.fieldsInfo.mobile.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function gn(o,s){if(o&1){let n=x();a(0,"div",44)(1,"div",45)(2,"h5",53),d(3),l()(),a(4,"div",47)(5,"div",48)(6,"input",54),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.mobileConfirmed,t)||(i.dataModel.mobileConfirmed=t),h(t)}),l(),I(7,"label",55),l()()()}if(o&2){let n=m();r(3),C(" ",n.fieldsInfo.mobileConfirmed==null?null:n.fieldsInfo.mobileConfirmed.fieldTitle,""),r(3),T("ngModel",n.dataModel.mobileConfirmed)}}function Sn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",56),d(2),l(),a(3,"input",57),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.expireDate,t)||(i.dataModel.expireDate=t),h(t)}),l(),I(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,5),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle),r(),E("placeholder",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.fieldTitle),c("matDatepicker",n),T("ngModel",e.dataModel.expireDate),c("disabled",!(e.fieldsInfo.expireDate!=null&&e.fieldsInfo.expireDate.accessEditField)),r(),c("for",n)}}function In(o,s){if(o&1){let n=x();a(0,"button",64),M("click",function(){_(n);let t=m(2);return h(t.onActionButtonChangePassword())}),d(1),f(2,"translate"),l()}o&2&&(r(),C(" ",u(2,1,"AUTH.FORGOT.PASSWORD")," "))}function vn(o,s){if(o&1){let n=x();a(0,"div",60)(1,"button",61),M("click",function(){_(n);let t=m();return h(t.onActionBackToParent())}),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l(),w(7,In,3,3,"button",63),l()}if(o&2){let n=m(),e=y(12);r(2),C(" ",u(3,4,"ACTION.BACK")," "),r(2),c("disabled",!e.form.valid),r(),C(" ",u(6,6,"ACTION.NEXT")," "),r(2),c("ngIf",n.tokenInfo.userId===n.dataModel.id||n.dataAccessModel.accessEditRow)}}function wn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function xn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",65),d(2),l(),a(3,"input",66,6),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.name,t)||(i.dataModel.name=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,wn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),r(),E("placeholder",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),T("ngModel",e.dataModel.name),c("disabled",!(e.fieldsInfo.name!=null&&e.fieldsInfo.name.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function bn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Mn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",67),d(2),l(),a(3,"input",68,7),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.lastName,t)||(i.dataModel.lastName=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,bn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle),r(),E("placeholder",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle),T("ngModel",e.dataModel.lastName),c("disabled",!(e.fieldsInfo.lastName!=null&&e.fieldsInfo.lastName.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function En(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",69),d(2),l(),a(3,"input",70),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.birthDay,t)||(i.dataModel.birthDay=t),h(t)}),l(),I(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,8),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.birthDay==null?null:e.fieldsInfo.birthDay.fieldTitle),r(),E("placeholder",e.fieldsInfo.birthDay==null?null:e.fieldsInfo.birthDay.fieldTitle),c("matDatepicker",n),T("ngModel",e.dataModel.birthDay),c("disabled",!(e.fieldsInfo.birthDay!=null&&e.fieldsInfo.birthDay.accessEditField)),r(),c("for",n)}}function yn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Tn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",71),d(2),l(),a(3,"input",72,9),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.companyName,t)||(i.dataModel.companyName=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,yn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),r(),E("placeholder",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),T("ngModel",e.dataModel.companyName),c("disabled",!(e.fieldsInfo.companyName!=null&&e.fieldsInfo.companyName.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function An(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.tell==null?null:n.fieldsInfo.tell.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function kn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",73),d(2),l(),a(3,"input",74,10),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.tell,t)||(i.dataModel.tell=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,An,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle),r(),E("placeholder",e.fieldsInfo.tell==null?null:e.fieldsInfo.tell.fieldTitle),T("ngModel",e.dataModel.tell),c("disabled",!(e.fieldsInfo.tell!=null&&e.fieldsInfo.tell.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Rn(o,s){if(o&1&&(a(0,"mat-error"),d(1),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2){let n=m(2);r(),C(" ",n.fieldsInfo.postalCode==null?null:n.fieldsInfo.postalCode.fieldTitle," "),r(2),v(u(4,2,"MESSAGE.required"))}}function Un(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",75),d(2),l(),a(3,"input",76,11),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.postalCode,t)||(i.dataModel.postalCode=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,Rn,5,4,"mat-error",41),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.postalCode==null?null:e.fieldsInfo.postalCode.fieldTitle),r(),E("placeholder",e.fieldsInfo.postalCode==null?null:e.fieldsInfo.postalCode.fieldTitle),T("ngModel",e.dataModel.postalCode),c("disabled",!(e.fieldsInfo.postalCode!=null&&e.fieldsInfo.postalCode.accessEditField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Vn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",77),d(2),l(),a(3,"textarea",78,12),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.address,t)||(i.dataModel.address=t),h(t)}),d(5,"            "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),r(),E("placeholder",e.fieldsInfo.address==null?null:e.fieldsInfo.address.fieldTitle),T("ngModel",e.dataModel.address),c("disabled",!(e.fieldsInfo.address!=null&&e.fieldsInfo.address.accessEditField)),r(4),C("",n.value.length," / 1000")}}function Dn(o,s){if(o&1&&(a(0,"div",60)(1,"button",79),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l()()),o&2){m();let n=y(12);r(2),C(" ",u(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(6,5,"ACTION.NEXT")," ")}}function Ln(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",80),d(2),l(),a(3,"input",81),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.expireLockAccount,t)||(i.dataModel.expireLockAccount=t),h(t)}),l(),I(4,"mat-datepicker-toggle",58)(5,"mat-datepicker",59,13),l()}if(o&2){let n=y(6),e=m();r(2),v(e.fieldsInfo.expireLockAccount==null?null:e.fieldsInfo.expireLockAccount.fieldTitle),r(),c("matDatepicker",n),T("ngModel",e.dataModel.expireLockAccount),r(),c("for",n)}}function Pn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"label",82),d(2),l(),a(3,"textarea",83,14),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.firewallAllowIP,t)||(i.dataModel.firewallAllowIP=t),h(t)}),d(5,"            "),l(),a(6,"em"),d(7),l()()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),r(),E("placeholder",e.fieldsInfo.firewallAllowIP==null?null:e.fieldsInfo.firewallAllowIP.fieldTitle),T("ngModel",e.dataModel.firewallAllowIP),c("disabled",!(e.fieldsInfo.firewallAllowIP!=null&&e.fieldsInfo.firewallAllowIP.accessEditField)),r(4),C("",n.value.length," / 1000")}}function Nn(o,s){if(o&1&&(a(0,"div",60)(1,"button",79),d(2),f(3,"translate"),l(),a(4,"button",62),d(5),f(6,"translate"),l()()),o&2){m();let n=y(12);r(2),C(" ",u(3,3,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(6,5,"ACTION.NEXT")," ")}}function Bn(o,s){if(o&1&&(I(0,"img",84),f(1,"cmsthumbnail")),o&2){let n=m();E("src",u(1,1,n.dataModel.linkMainImageIdSrc),Z)}}function Fn(o,s){if(o&1){let n=x();a(0,"div",38)(1,"input",85,15),f(3,"translate"),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.linkMainImageId,t)||(i.dataModel.linkMainImageId=t),h(t)}),M("click",function(){_(n);let t=m();return h(t.fileManagerOpenForm=!0)}),l(),a(4,"cms-file-manager",86),M("itemSelected",function(t){_(n);let i=m();return h(i.onActionFileSelected(t))}),k("openFormChange",function(t){_(n);let i=m();return A(i.fileManagerOpenForm,t)||(i.fileManagerOpenForm=t),h(t)}),l()()}if(o&2){let n=m();r(),E("placeholder",u(3,10,"TITLE.Icon_File_ID")),T("ngModel",n.dataModel.linkMainImageId),r(3),c("language",n.appLanguage)("selectFileType",n.selectFileTypeMainImage)("isPopup",!0),T("openForm",n.fileManagerOpenForm),c("openDirectUploadView",!0)("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openFilemanagerButtonView",!1)}}function On(o,s){if(o&1){let n=x();a(0,"div",60)(1,"button",61),M("click",function(){_(n);let t=m();return h(t.onActionBackToParent())}),d(2),f(3,"translate"),l(),a(4,"button",79),d(5),f(6,"translate"),l(),a(7,"button",87),d(8),f(9,"translate"),l()()}if(o&2){m();let n=y(12);r(2),C(" ",u(3,4,"ACTION.BACK")," "),r(3),C(" ",u(6,6,"ACTION.BEFOR")," "),r(2),c("disabled",!n.form.valid),r(),C(" ",u(9,8,"ACTION.SAVE")," ")}}function Gn(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Wn(o,s){o&1&&(a(0,"mat-icon"),d(1,"call_end"),l())}function Hn(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}function jn(o,s){o&1&&(a(0,"mat-icon"),d(1,"forum"),l())}var Ki=(()=>{let s=class s extends Gi{constructor(e,t,i,p,b,g,V,H,Q,de){super(i,new L,b,de),this.activatedRoute=e,this.coreEnumService=t,this.coreUserService=i,this.cmsToastrService=p,this.publicHelper=b,this.tokenHelper=g,this.router=V,this.cdr=H,this.dialog=Q,this.translate=de,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Bt,this.dataModel=new L,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.requestId=+Number(this.activatedRoute.snapshot.paramMap.get("Id")),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),this.tokenHelper.getCurrentToken().then(ce=>{this.tokenInfo=ce}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(ce=>{this.tokenInfo=ce,this.DataGetOneContent()})}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){if(this.requestId===0&&(this.requestId=this.tokenInfo.userId),this.requestId===0){this.cmsToastrService.typeErrorAddRowParentIsNull();return}this.translate.get("TITLE.Edit").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetOneContent()}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.coreUserService.setAccessLoad(),this.coreUserService.setAccessDataType(Nt.Editor),this.coreUserService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.dataAccessModel=t.access,this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.username,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.coreUserService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessEdit(),this.dataModel.id===this.tokenInfo.userId&&this.tokenHelper.getCurrentToken()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onActionBackToParent(){this.router.navigate(["/core/user/"])}onStepClick(e,t){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=e.previouslySelectedIndex},10)))}onActionSelectorLinkResellerSiteIdSelect(e){this.dataModel.linkResellerSiteId=null,!(!e||e.id<=0)&&(this.dataModel.linkResellerSiteId=e.id)}onActionSelectorLinkResellerUserIdSelect(e){this.dataModel.linkResellerUserId=null,!(!e||e.id<=0)&&(this.dataModel.linkResellerUserId=e.id)}onActionButtonChangePassword(){if(this.tokenInfo.userId!=this.dataModel.id&&(this.dataAccessModel==null||!this.dataAccessModel.accessEditRow)){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(it,{data:{linkUserId:this.dataModel.id}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate})}};s.\u0275fac=function(t){return new(t||s)(S(Se),S(O),S(G),S(j),S(W),S(Y),S(ze),S(P),S(we),S(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-edit"]],viewQuery:function(t,i){if(t&1&&te(dn,5),t&2){let p;ie(p=ne())&&(i.formGroup=p.first)}},features:[pe],decls:65,vars:64,consts:[["vform","ngForm"],["stepper",""],["Username",""],["Email",""],["Mobile",""],["ExpireDate",""],["Name",""],["LastName",""],["BirthDay",""],["CompanyName",""],["Tell",""],["PostalCode",""],["Address",""],["ExpireLockAccount",""],["FirewallAllowIP",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"selectionChange"],["state","main",3,"label"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["class","form-actions",4,"ngIf"],["state","seo",3,"label"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["state","file",3,"label"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["matStepperIcon","main"],["matStepperIcon","seo"],["matStepperIcon","file"],["matStepperIcon","loaction"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.emailConfirmed",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.emailConfirmed","name","dataModel.emailConfirmed",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.emailConfirmed",1,"custom-control-label"],["for","dataModel.mobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobile","minlength","3","maxlength","100","id","dataModel.mobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["data-trigger-switch","dataModel.mobileConfirmed",1,"font-600","font-14"],["type","checkbox","id","dataModel.mobileConfirmed","name","dataModel.mobileConfirmed",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.mobileConfirmed",1,"custom-control-label"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","minlength","3","maxlength","100","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled","placeholder"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],["type","button","matStepperNext","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"disabled"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue",3,"click",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-blue",3,"click"],["for","dataModel.name",1,"color-highlight"],["matInput","","type","text","name","dataModel.name","minlength","3","maxlength","100","id","dataModel.name",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.lastName",1,"color-highlight"],["matInput","","type","text","name","dataModel.lastName","minlength","3","maxlength","100","id","dataModel.lastName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.birthDay",1,"color-highlight"],["matInput","","type","text","name","dataModel.birthDay","id","dataModel.birthDay",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","disabled","placeholder"],["for","dataModel.companyName",1,"color-highlight"],["matInput","","type","text","name","dataModel.companyName","minlength","3","maxlength","100","id","dataModel.companyName",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.tell",1,"color-highlight"],["matInput","","type","text","name","dataModel.tell","minlength","3","maxlength","100","id","dataModel.tell",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.postalCode",1,"color-highlight"],["matInput","","type","text","name","dataModel.postalCode","minlength","3","maxlength","100","id","dataModel.postalCode",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.address",1,"color-highlight"],["matInput","","name","dataModel.address","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.address",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["type","button","matStepperPrevious","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal"],["for","dataModel.expireLockAccount",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireLockAccount","id","dataModel.expireLockAccount",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["for","dataModel.firewallAllowIP",1,"color-highlight"],["matInput","","name","dataModel.firewallAllowIP","type","text","minlength","1","maxlength","1000","rows","5","id","dataModel.firewallAllowIP",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","selectFileType","isPopup","openForm","openDirectUploadView","tree","openFilemanagerButtonLabelKey","openFilemanagerButtonView"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"]],template:function(t,i){if(t&1){let p=x();a(0,"div",16),I(1,"app-progress-spinner",17),a(2,"div",18)(3,"p",19),d(4),l(),a(5,"p"),d(6),f(7,"translate"),I(8,"br"),d(9),f(10,"translate"),l(),a(11,"form",20,0),M("ngSubmit",function(){return _(p),h(i.onFormSubmit())}),a(13,"mat-vertical-stepper",21,1),M("selectionChange",function(g){_(p);let V=y(14);return h(i.onStepClick(g,V))}),a(15,"mat-step",22),f(16,"translate"),w(17,cn,1,5,"app-cms-enum-record-status-selector",23)(18,pn,8,6,"div",24)(19,un,8,6,"div",24)(20,_n,8,2,"div",25)(21,Cn,8,6,"div",24)(22,gn,8,2,"div",25)(23,Sn,7,6,"div",24)(24,vn,8,8,"div",26),l(),a(25,"mat-step",27),f(26,"translate"),a(27,"p"),d(28),f(29,"translate"),l(),w(30,xn,8,6,"div",24)(31,Mn,8,6,"div",24)(32,En,7,6,"div",24)(33,Tn,8,6,"div",24)(34,kn,8,6,"div",24)(35,Un,8,6,"div",24)(36,Vn,8,5,"div",24)(37,Dn,7,7,"div",26),l(),a(38,"mat-step",27),f(39,"translate"),a(40,"p"),d(41),f(42,"translate"),l(),a(43,"app-cms-user-selector",28),f(44,"translate"),M("optionChange",function(g){return _(p),h(i.onActionSelectorLinkResellerUserIdSelect(g))}),l(),a(45,"app-cms-site-selector",28),f(46,"translate"),M("optionChange",function(g){return _(p),h(i.onActionSelectorLinkResellerSiteIdSelect(g))}),l(),w(47,Ln,7,4,"div",24)(48,Pn,8,5,"div",24)(49,Nn,7,7,"div",26),l(),a(50,"mat-step",29),f(51,"translate"),a(52,"p"),d(53),f(54,"translate"),l(),a(55,"div",30)(56,"a",31),f(57,"cmsthumbnail"),w(58,Bn,2,3,"img",32),l()(),w(59,Fn,5,12,"div",24)(60,On,10,10,"div",26),l(),w(61,Gn,2,0,"ng-template",33)(62,Wn,2,0,"ng-template",34)(63,Hn,2,0,"ng-template",35)(64,jn,2,0,"ng-template",36),l()()()()}t&2&&(r(),c("optionsInfoAreaId",i.constructor.name),r(3),C(" ",i.formInfo.formTitle," "),r(2),C(" ",u(7,40,"TITLE.In_this_section_you_can_edit_the_user_profile")," "),r(3),C(" ",u(10,42,"TITLE.Be_Careful_When_Entering_Information")," "),r(6),E("label",u(16,44,"TITLE.REQUIRED_INFORMATION")),r(2),c("ngIf",i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",i.fieldsInfo.username==null?null:i.fieldsInfo.username.accessWatchField),r(),c("ngIf",i.fieldsInfo.email==null?null:i.fieldsInfo.email.accessWatchField),r(),c("ngIf",i.fieldsInfo.emailConfirmed==null?null:i.fieldsInfo.emailConfirmed.accessWatchField),r(),c("ngIf",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.accessWatchField),r(),c("ngIf",i.fieldsInfo.mobileConfirmed==null?null:i.fieldsInfo.mobileConfirmed.accessWatchField),r(),c("ngIf",i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.accessWatchField),r(),c("ngIf",i.formInfo.formSubmitAllow),r(),E("label",u(26,46,"TITLE.personal_information")),r(3),v(u(29,48,"TITLE.Enter_the_account_owner_information")),r(2),c("ngIf",i.fieldsInfo.name==null?null:i.fieldsInfo.name.accessWatchField),r(),c("ngIf",i.fieldsInfo.lastName==null?null:i.fieldsInfo.lastName.accessWatchField),r(),c("ngIf",i.fieldsInfo.birthDay==null?null:i.fieldsInfo.birthDay.accessWatchField),r(),c("ngIf",i.fieldsInfo.companyName==null?null:i.fieldsInfo.companyName.accessWatchField),r(),c("ngIf",i.fieldsInfo.tell==null?null:i.fieldsInfo.tell.accessWatchField),r(),c("ngIf",i.fieldsInfo.postalCode==null?null:i.fieldsInfo.postalCode.accessWatchField),r(),c("ngIf",i.fieldsInfo.address==null?null:i.fieldsInfo.address.accessWatchField),r(),c("ngIf",i.formInfo.formSubmitAllow),r(),E("label",u(39,50,"TITLE.Security_settings")),r(3),v(u(42,52,"TITLE.Necessary_settings_for_the_security_of_this_user_account")),r(2),c("optionDisabled",!(i.fieldsInfo.linkResellerUserId!=null&&i.fieldsInfo.linkResellerUserId.accessEditField))("optionSelectForce",i.dataModel.linkResellerUserId)("optionPlaceholder",u(44,54,"TITLE.Representative_User")),r(2),c("optionDisabled",!(i.fieldsInfo.linkResellerSiteId!=null&&i.fieldsInfo.linkResellerSiteId.accessEditField))("optionSelectForce",i.dataModel.linkResellerSiteId)("optionPlaceholder",u(46,56,"TITLE.Representative_Site")),r(2),c("ngIf",i.fieldsInfo.expireLockAccount==null?null:i.fieldsInfo.expireLockAccount.accessWatchField),r(),c("ngIf",i.fieldsInfo.firewallAllowIP==null?null:i.fieldsInfo.firewallAllowIP.accessWatchField),r(),c("ngIf",i.formInfo.formSubmitAllow),r(),E("label",u(51,58,"TITLE.ATTACH_FILES")),r(3),v(u(54,60,"TITLE.Files_related_to_this_user_account")),r(3),E("href",u(57,62,i.dataModel.linkMainImageIdSrc),Z),r(2),c("ngIf",(i.dataModel==null||i.dataModel.linkMainImageIdSrc==null?null:i.dataModel.linkMainImageIdSrc.length)>0),r(),c("ngIf",i.fieldsInfo.linkImageId==null?null:i.fieldsInfo.linkImageId.accessWatchField),r(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,_e,oe,Mt,K,fe,he,Ce,re,ue,Vt,Dt,Lt,ge,Rt,xe,J,ni,oi,ri,ai,ii,Pi,Xe,Bi,q,Ti,jt,F,ye]});let o=s;return o})();var qn=["vform"];function zn(o,s){if(o&1){let n=x();a(0,"app-cms-enum-record-status-selector",14),k("modelChange",function(t){_(n);let i=m();return A(i.dataModel.recordStatus,t)||(i.dataModel.recordStatus=t),h(t)}),l()}if(o&2){let n=m();T("model",n.dataModel.recordStatus),c("optionDisabled",!1)("optionLabel",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Qn(o,s){o&1&&(a(0,"mat-error"),d(1," Username is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function Kn(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",16),d(2),l(),a(3,"input",17,1),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.username,t)||(i.dataModel.username=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,Qn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),r(),E("placeholder",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle),T("ngModel",e.dataModel.username),c("disabled",!(e.fieldsInfo.username!=null&&e.fieldsInfo.username.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Jn(o,s){o&1&&(a(0,"mat-error"),d(1," Email is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function Xn(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",19),d(2),l(),a(3,"input",20,2),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.email,t)||(i.dataModel.email=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,Jn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),r(),E("placeholder",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle),T("ngModel",e.dataModel.email),c("disabled",!(e.fieldsInfo.email!=null&&e.fieldsInfo.email.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function Yn(o,s){o&1&&(a(0,"mat-error"),d(1," Mobile is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function Zn(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",21),d(2),l(),a(3,"input",22,3),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.mobile,t)||(i.dataModel.mobile=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,Yn,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle),r(),T("ngModel",e.dataModel.mobile),c("disabled",!(e.fieldsInfo.mobile!=null&&e.fieldsInfo.mobile.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function $n(o,s){o&1&&(a(0,"mat-error"),d(1," password is "),a(2,"strong"),d(3),f(4,"translate"),l()()),o&2&&(r(3),v(u(4,1,"MESSAGE.required")))}function eo(o,s){if(o&1){let n=x();a(0,"div",15)(1,"label",23),d(2),l(),a(3,"input",24,4),k("ngModelChange",function(t){_(n);let i=m();return A(i.dataModel.pwd,t)||(i.dataModel.pwd=t),h(t)}),l(),a(5,"em"),d(6),l(),w(7,$n,5,3,"mat-error",18),l()}if(o&2){let n=y(4),e=m();r(2),v(e.fieldsInfo.pwd==null?null:e.fieldsInfo.pwd.fieldTitle),r(),E("placeholder",e.fieldsInfo.pwd==null?null:e.fieldsInfo.pwd.fieldTitle),T("ngModel",e.dataModel.pwd),c("disabled",!(e.fieldsInfo.pwd!=null&&e.fieldsInfo.pwd.accessAddField)),r(3),C("",n.value.length," / 100"),r(),c("ngIf",n.errors==null?null:n.errors.required)}}function to(o,s){if(o&1){let n=x();a(0,"div",25)(1,"button",26),M("click",function(){_(n);let t=m();return h(t.onFormCancel())}),I(2,"i",27),d(3),f(4,"translate"),l(),a(5,"button",28),I(6,"i",29),d(7),f(8,"translate"),l()()}if(o&2){m();let n=y(9);r(3),C(" ",u(4,3,"ACTION.CANCEL")," "),r(2),c("disabled",!n.form.valid),r(2),C(" ",u(8,5,"ACTION.SAVE")," ")}}var Ji=(()=>{let s=class s extends Oi{constructor(e,t,i,p,b,g,V,H){super(p,new L,g,H),this.data=e,this.dialogRef=t,this.coreEnumService=i,this.coreUserService=p,this.cmsToastrService=b,this.publicHelper=g,this.cdr=V,this.translate=H,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new z,this.dataModel=new L,this.fieldsInfo=new Map,this.passwordIsValid=!1,this.formInfo=new ae,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(e){this.dataModel.linkMainImageId=e.id,this.dataModel.linkMainImageIdSrc=e.downloadLinksrc}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(e=>{this.formInfo.formTitle=e}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.coreUserService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(i=>{this.formInfo.formAlert=i}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}passwordValid(e){this.passwordIsValid=e}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onStepClick(e,t){e.previouslySelectedIndex<e.selectedIndex&&(this.formGroup.valid||(this.cmsToastrService.typeErrorFormInvalid(),setTimeout(()=>{t.selectedIndex=e.previouslySelectedIndex},10)))}};s.\u0275fac=function(t){return new(t||s)(S(ve),S(Ie),S(O),S(G),S(j),S(W),S(P),S(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-add"]],viewQuery:function(t,i){if(t&1&&te(qn,5),t&2){let p;ie(p=ne())&&(i.formGroup=p.first)}},features:[pe],decls:17,vars:12,consts:[["vform","ngForm"],["Username",""],["Email",""],["Mobile",""],["Pwd",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"passwordStrength","passwordToCheck"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.username",1,"color-highlight"],["matInput","","type","text","name","dataModel.username","minlength","3","maxlength","100","id","dataModel.username",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],["for","dataModel.email",1,"color-highlight"],["matInput","","type","text","name","dataModel.email","minlength","3","maxlength","100","id","dataModel.email",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],["for","dataModel.mobile",1,"color-highlight"],["matInput","","type","text","name","dataModel.mobile","placeholder","00989120000000","minlength","9","maxlength","20","id","dataModel.mobile",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.pwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.pwd","minlength","3","maxlength","50","id","dataModel.pwd",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,i){if(t&1){let p=x();a(0,"div",5),I(1,"app-progress-spinner",6),a(2,"div",7)(3,"p",8),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"form",9,0),M("ngSubmit",function(){return _(p),h(i.onFormSubmit())}),w(10,zn,1,5,"app-cms-enum-record-status-selector",10)(11,Kn,8,6,"div",11)(12,Xn,8,6,"div",11)(13,Zn,8,5,"div",11)(14,eo,8,6,"div",11),a(15,"app-password-strength",12),M("passwordStrength",function(g){return _(p),h(i.passwordValid(g))}),l(),w(16,to,9,7,"div",13),l()()()}t&2&&(r(),c("optionsInfoAreaId",i.constructor.name),r(3),C(" ",i.formInfo.formTitle," "),r(2),C(" ",u(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),c("ngIf",i.fieldsInfo.recordStatus==null?null:i.fieldsInfo.recordStatus.accessWatchField),r(),c("ngIf",i.fieldsInfo.username==null?null:i.fieldsInfo.username.accessWatchField),r(),c("ngIf",i.fieldsInfo.email==null?null:i.fieldsInfo.email.accessWatchField),r(),c("ngIf",i.fieldsInfo.mobile==null?null:i.fieldsInfo.mobile.accessWatchField),r(),c("ngIf",i.fieldsInfo.pwd==null?null:i.fieldsInfo.pwd.accessWatchField),r(),c("passwordToCheck",i.dataModel.pwd),r(),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,_e,oe,K,fe,he,Ce,re,ue,ge,J,Xe,q,Ye,F],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let o=s;return o})();var io=["vform"];function no(o,s){if(o&1){let n=x();a(0,"div",7)(1,"button",12),M("click",function(){_(n);let t=m();return h(t.onFormCancel())}),I(2,"i",13),d(3),f(4,"translate"),l()()}o&2&&(r(3),C(" ",u(4,1,"ACTION.CANCEL")," "))}var Xi=(()=>{let s=class s{constructor(e,t,i,p,b,g,V,H,Q){this.data=e,this.dialogRef=t,this.coreEnumService=i,this.coreUserService=p,this.cmsToastrService=b,this.publicHelper=g,this.cdr=V,this.tokenHelper=H,this.translate=Q,this.requestId=0,this.tokenInfo=new Ke,this.dataModelResult=new z,this.dataModel=new L,this.formInfo=new ae,this.dataModelEnumSendSmsStatusTypeResult=new z,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,e&&(this.requestId=+e.id||0)}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(e=>{this.tokenInfo=e}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:e=>{this.tokenInfo=e}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:e=>{this.dataModelEnumSendSmsStatusTypeResult=e}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.coreUserService.setAccessLoad(),this.coreUserService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};s.\u0275fac=function(t){return new(t||s)(S(ve),S(Ie),S(O),S(G),S(j),S(W),S(P),S(Y),S(B))},s.\u0275cmp=D({type:s,selectors:[["app-application-memberinfo-view"]],viewQuery:function(t,i){if(t&1&&te(io,5),t&2){let p;ie(p=ne())&&(i.formGroup=p.first)}},decls:18,vars:10,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(t,i){t&1&&(a(0,"div",0),I(1,"app-progress-spinner",1),a(2,"div",2)(3,"p",3),d(4),l(),a(5,"p"),d(6),f(7,"translate"),l(),a(8,"div",4),I(9,"app-cms-json-list",5),l(),a(10,"div",6)(11,"div",7)(12,"small",8),d(13),l(),a(14,"small",9),d(15),l()()(),a(16,"div",10),w(17,no,5,3,"div",11),l()()()),t&2&&(r(),c("optionsInfoAreaId",i.constructor.name),r(3),C(" ",i.formInfo.formTitle," "),r(2),C(" ",u(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),r(3),c("dataModel",i.dataModel)("optionMethod",1),r(4),C("",i.formInfo.formAlert," "),r(2),C("",i.formInfo.formError," "),r(2),c("ngIf",i.formInfo.formSubmitAllow))},dependencies:[N,q,Di,F]});let o=s;return o})();var ro=()=>["expandedTitle"],ao=()=>["expandedDetail"],lo=()=>[5,10,20,100],Yi=o=>({display:o});function so(o,s){if(o&1){let n=x();a(0,"a",57),M("click",function(){_(n);let t=m();return h(t.onActionBackToParentSiteList())}),I(1,"i",58),l()}}function co(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",59),M("click",function(){_(n);let t=m();return h(t.onActionButtonNewRow())}),I(2,"i",60)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.ADD")))}function mo(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",61),M("click",function(t){_(n);let i=m();return h(i.onActionButtonEditRow(i.tableRowSelected,t))}),I(2,"i",62)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.EDIT")))}function po(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",17),M("click",function(){_(n);let t=m();return h(t.onActionButtonChangePassword(t.tableRowSelected))}),I(2,"i",63)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.CHANGE_PASSWORD")))}function fo(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",64),M("click",function(){_(n);let t=m();return h(t.onActionButtonDeleteRow(t.tableRowSelected))}),I(2,"i",65)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.DELETE")))}function uo(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",17),M("click",function(){_(n);let t=m();return h(t.onActionButtonLoginToRow(t.tableRowSelected))}),I(2,"i",66)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.LOGIN_TO_THIS_USER")))}function _o(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",17),M("click",function(){_(n);let t=m();return h(t.onActionButtonUserSupportList(t.tableRowSelected))}),I(2,"i",67)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.ACEESS")))}function ho(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",17),M("click",function(t){_(n);let i=m();return h(i.onActionButtonResller(i.tableRowSelected,t))}),I(2,"i",68)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.MARKETING_SUBCATEGORY")))}function Co(o,s){if(o&1){let n=x();a(0,"div",23)(1,"a",17),M("click",function(){_(n);let t=m();return h(t.onActionButtonEmailConfirm())}),I(2,"i",69)(3,"br"),l(),a(4,"p",25),d(5),f(6,"translate"),l()()}o&2&&(r(5),v(u(6,1,"ACTION.CONFIRMEMAIL")))}function go(o,s){o&1&&(a(0,"mat-header-cell"),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.MENU")," "))}function So(o,s){if(o&1){let n=x();a(0,"mat-cell")(1,"button",70),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowSelectActionMenu(t))}),I(2,"i",71),l()()}}function Io(o,s){o&1&&(a(0,"mat-header-cell",72),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.PICTURE")," "))}function vo(o,s){if(o&1&&(I(0,"img",74),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Z)}}function wo(o,s){if(o&1&&(a(0,"mat-cell"),w(1,vo,2,3,"img",73),l()),o&2){let n=s.$implicit;r(),c("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0)}}function xo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.id==null?null:n.fieldsInfo.id.fieldTitle," ")}}function bo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.id," ")}}function Mo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.linkSiteId==null?null:n.fieldsInfo.linkSiteId.fieldTitle," ")}}function Eo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),f(2,"cmssiteinfo"),f(3,"async"),l()),o&2){let n=s.$implicit;r(),C(" ",u(3,3,u(2,1,n.linkSiteId))," ")}}function yo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.recordStatus==null?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function To(o,s){if(o&1&&I(0,"select",77),o&2){let n=m().$implicit,e=m();c("contentService",e.contentService)("row",n)("ngStyle",rt(3,Yi,n.id===(e.tableRowSelected==null?null:e.tableRowSelected.id)?"":"none"))}}function Ao(o,s){if(o&1&&(a(0,"mat-cell",75),f(1,"statusCellClass"),I(2,"i",75),f(3,"statusIconClass"),w(4,To,1,5,"select",76),l()),o&2){let n=s.$implicit,e=m();c("ngClass",u(1,3,n.recordStatus)),r(2),c("ngClass",u(3,5,n.recordStatus)),r(2),c("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)}}function ko(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.name==null?null:n.fieldsInfo.name.fieldTitle," ")}}function Ro(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.name," ")}}function Uo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.lastName==null?null:n.fieldsInfo.lastName.fieldTitle," ")}}function Vo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.lastName," ")}}function Do(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.companyName==null?null:n.fieldsInfo.companyName.fieldTitle," ")}}function Lo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.companyName," ")}}function Po(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.email==null?null:n.fieldsInfo.email.fieldTitle," ")}}function No(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.email," ")}}function Bo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.mobile==null?null:n.fieldsInfo.mobile.fieldTitle," ")}}function Fo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.mobile," ")}}function Oo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.createdDate==null?null:n.fieldsInfo.createdDate.fieldTitle," ")}}function Go(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,e=m();r(),C(" ",e.publicHelper.LocaleDate(n.createdDate)," ")}}function Wo(o,s){if(o&1&&(a(0,"mat-header-cell",72),d(1),l()),o&2){let n=m();r(),C(" ",n.fieldsInfo.updatedDate==null?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function Ho(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit,e=m();r(),C(" ",e.publicHelper.LocaleDate(n.updatedDate)," ")}}function jo(o,s){o&1&&(a(0,"mat-header-cell"),d(1),f(2,"translate"),l()),o&2&&(r(),C(" ",u(2,1,"TITLE.OPTION")," "))}function qo(o,s){if(o&1&&(a(0,"mat-cell",78)(1,"button",79)(2,"mat-icon"),d(3,"more_vert"),l()(),I(4,"mat-menu",null,2),l()),o&2){let n=y(5);r(),c("matMenuTriggerFor",n)}}function zo(o,s){if(o&1&&(a(0,"mat-cell"),d(1),l()),o&2){let n=s.$implicit;r(),C(" ",n.title," ")}}function Qo(o,s){if(o&1&&(I(0,"img",83),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Z)}}function Ko(o,s){if(o&1){let n=x();a(0,"mat-cell")(1,"div")(2,"table")(3,"tr")(4,"th"),w(5,Qo,2,3,"img",80),l(),a(6,"th")(7,"span",81),M("click",function(){_(n);let t=m();return h(t.onActionCopied())}),I(8,"i",82),l(),d(9),l()(),a(10,"tr"),I(11,"td"),a(12,"td"),d(13),l()(),a(14,"tr"),I(15,"td"),a(16,"td"),d(17),l()(),a(18,"tr"),I(19,"td"),a(20,"td"),d(21),l()(),a(22,"tr"),I(23,"td"),a(24,"td"),d(25),l()(),a(26,"tr"),I(27,"td"),a(28,"td"),d(29),l()(),a(30,"tr"),I(31,"td"),a(32,"td"),d(33),l()(),a(34,"tr"),I(35,"td")(36,"td"),l()()()()}if(o&2){let n=s.$implicit,e=m();r(5),c("ngIf",(n==null||n.linkMainImageIdSrc==null?null:n.linkMainImageIdSrc.length)>0),r(2),c("cdkCopyToClipboard",n.id),r(2),C(" ",n.id," "),r(4),le("",e.fieldsInfo.username==null?null:e.fieldsInfo.username.fieldTitle," : ",n.username," "),r(4),le("",e.fieldsInfo.name==null?null:e.fieldsInfo.name.fieldTitle," : ",n.name," "),r(4),le("",e.fieldsInfo.lastName==null?null:e.fieldsInfo.lastName.fieldTitle," : ",n.lastName," "),r(4),le("",e.fieldsInfo.mobile==null?null:e.fieldsInfo.mobile.fieldTitle," : ",n.mobile," "),r(4),le("",e.fieldsInfo.email==null?null:e.fieldsInfo.email.fieldTitle," : ",n.email," "),r(4),le("",e.fieldsInfo.companyName==null?null:e.fieldsInfo.companyName.fieldTitle," : ",n.companyName," ")}}function Jo(o,s){o&1&&I(0,"mat-header-row")}function Xo(o,s){if(o&1){let n=x();a(0,"mat-row",84),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowSelect(t))})("mouseenter",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseLeave(t))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,t=m();ee("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Yo(o,s){if(o&1){let n=x();a(0,"mat-row",84),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowSelect(t))})("mouseenter",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseLeave(t))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,t=m();ee("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}function Zo(o,s){if(o&1){let n=x();a(0,"mat-row",85),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowSelect(t))})("mouseenter",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseEnter(t))})("mouseleave",function(){let t=_(n).$implicit,i=m();return h(i.onActionTableRowMouseLeave(t))}),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,t=m();ee("ntk-row-odd",e%2)("ntk-row-even",!(e%2))("ntk-row-selected",n.id===(t.tableRowSelected==null?null:t.tableRowSelected.id)),c("ngStyle",rt(7,Yi,n.expanded===!0?"":"none"))}}var ct=(()=>{let s=class s extends ji{constructor(e,t,i,p,b,g,V,H,Q,de,ce,$i){if(super(e,new L,ce,V,Q),this.coreUserService=e,this.contentService=t,this.router=i,this.cmsToastrService=p,this.activatedRoute=b,this.coreAuthService=g,this.tokenHelper=V,this.cdr=H,this.translate=Q,this.pageInfo=de,this.publicHelper=ce,this.dialog=$i,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Name","LastName","CompanyName","email","mobile","CreatedDate","action_menu"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","Name","LastName","CreatedDate","action_menu"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.optionsSearch.parentMethods={onSubmit:me=>this.onSubmitOptionsSearch(me)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=Ue.Descending,this.requestLinkSiteId>0){let me=new X;me.propertyAnyName="LinkSiteId",me.propertyName="SiteUsers",me.value=this.requestLinkSiteId,this.filteModelContent.filters.push(me)}}ngOnInit(){this.tokenHelper.getCurrentToken().then(e=>{this.tokenInfo=e,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:e=>{this.tokenInfo=e,this.DataGetAll(),this.tokenHelper.CheckIsAdmin()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new L);let e=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(i=>{this.publicHelper.processService.processStart(e,i,this.constructor.name)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.coreUserService.ServiceGetAllEditor(t).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),i.isSuccess?(this.dataModelResult=i,this.tableSource.data=i.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(i.access)):this.cmsToastrService.typeErrorMessage(i.errorMessage),this.publicHelper.processService.processStop(e)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(e,!1)}})}onTableSortData(e){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===e.active?this.tableSource.sort.start==="asc"?(e.start="desc",this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ue.Descending):this.tableSource.sort.start==="desc"?(e.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=Ue.Ascending):e.start="desc":(this.filteModelContent.sortColumn=e.active,this.filteModelContent.sortType=Ue.Descending),this.tableSource.sort=e,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(e){this.filteModelContent.currentPageNumber=e.pageIndex+1,this.filteModelContent.rowPerPage=e.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonViewRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Xi,{height:"90%",panelClass:t,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(p=>{p&&p.dialogChangedDate})}onActionButtonEditRow(e=this.tableRowSelected,t){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}t?.ctrlKey?(this.link="/#/core/user/edit/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/user/edit/",this.tableRowSelected.id])}onActionButtonChangePassword(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(e),this.tokenInfo.userId!=e.id&&(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow)){this.cmsToastrService.typeErrorAccessEdit();return}this.dialog.open(it,{data:{linkUserId:this.tableRowSelected.id}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonEmailConfirm(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var e="";this.tokenHelper.isMobile?e="dialog-fullscreen":e="dialog-min",this.dialog.open(Wi,{height:"70%",panelClass:e,enterAnimationDuration:se.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:se.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(i=>{i&&i.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(e=this.tableRowSelected){if(e==null||!e.id||e.id===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(this.tableRowSelected=e,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",i="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(p=>{t=p["MESSAGE.Please_Confirm"],i=p["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.username+" ) "}),this.contentService.confirm(t,i).then(p=>{if(p){let b=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(g=>{this.publicHelper.processService.processStart(b,g,this.constructor.name)}),this.coreUserService.ServiceDelete(this.tableRowSelected.id).subscribe({next:g=>{g.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(b)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(b,!1)}})}}).catch(()=>{})}onActionButtonLoginToRow(e=this.tableRowSelected){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e);let t;t=new Wt,t.userId=this.tableRowSelected.id,this.coreAuthService.ServiceRenewToken(t).subscribe({next:i=>{i.isSuccess?(this.cmsToastrService.typeSuccessSelected(),this.router.navigate(["/"])):this.cmsToastrService.typeErrorSelected()},error:i=>{this.cmsToastrService.typeError(i)}})}onActionButtonStatist(e=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=e,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(g=>{t.set(g,0)}),this.translate.get("MESSAGE.All").subscribe(g=>{t.set(g,0)});let i=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(g=>{this.publicHelper.processService.processStart(i,g,this.constructor.name)}),this.coreUserService.ServiceGetCount(this.filteModelContent).subscribe({next:g=>{g.isSuccess?(this.translate.get("MESSAGE.All").subscribe(V=>{t.set(V,g.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.publicHelper.processService.processStop(i)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(i,!1)}});let p=JSON.parse(JSON.stringify(this.filteModelContent)),b=new X;b.propertyName="RecordStatus",b.value=Pt.Available,p.filters.push(b),this.coreUserService.ServiceGetCount(p).subscribe({next:g=>{g.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(V=>{t.set(V,g.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(g.errorMessage),this.publicHelper.processService.processStop(i)},error:g=>{this.cmsToastrService.typeError(g),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonReload(){this.DataGetAll()}onActionCopied(){this.cmsToastrService.typeSuccessCopedToClipboard()}onSubmitOptionsSearch(e){this.filteModelContent.filters=e,this.DataGetAll()}onActionButtonSiteList(e=this.tableRowSelected,t){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),t?.ctrlKey?(this.link="/#/core/site/list/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/site/list/LinkUserId/",this.tableRowSelected.id])}onActionButtonSiteByGroupList(e=this.tableRowSelected,t){if(!e||!e.id||e.id===0){this.cmsToastrService.typeErrorSelectedRow();return}this.onActionTableRowSelect(e),t?.ctrlKey?(this.link="/#/core/site/userlist/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/site/userlist/LinkUserId/",this.tableRowSelected.id])}onActionButtonResller(e=this.tableRowSelected,t){if(!e||!e.id||e.id===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)});return}this.onActionTableRowSelect(e),t?.ctrlKey?(this.link="/#/core/user/reseller-chart/LinkUserId/"+e.id,window.open(this.link,"_blank")):this.router.navigate(["/core/user/reseller-chart/LinkUserId/",this.tableRowSelected.id])}onActionBackToParentSiteList(){this.router.navigate(["/core/site/"])}onActionButtonUserSupportList(e){this.router.navigate(["/core/user-support-access/list/LinkSiteId/",0,"LinkUserId",e.id])}};s.\u0275fac=function(t){return new(t||s)(S(G),S(Ze),S(ze),S(j),S(Se),S(Je),S(Y),S(P),S(B),S(zt),S(W),S(we))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-list"]],features:[pe],decls:112,vars:46,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-maximize","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-minimize","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-circle-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-users","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],["matColumnDef","action_menu"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","Id"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","LastName"],["matColumnDef","CompanyName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedTitle"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","ngStyle","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-lock","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-right-to-bracket","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-envelope-circle-check","font-18",2,"color","#ffffff"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"click"],[1,"fa","fa-bars","font-18"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","80","width","80",3,"src",4,"ngIf"],[1,"navi-icon","pointer",3,"click","cdkCopyToClipboard"],[1,"flaticon2-copy"],["aria-hidden","","height","80","width","80",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"click","mouseenter","mouseleave"],[3,"click","mouseenter","mouseleave","ngStyle"]],template:function(t,i){if(t&1){let p=x();a(0,"app-cms-html-list",3),k("optionActionGuideNoticeDisplayChange",function(g){return _(p),A(i.viewGuideNotice,g)||(i.viewGuideNotice=g),h(g)}),M("optionOnActionButtonMemoRow",function(){return _(p),h(i.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(p),h(i.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(p),h(i.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(p),h(i.onActionButtonPrintRow())}),R(1,4),d(2," -------------------------------------- "),U(),Oe(3,5),R(4,6),a(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),k("ngModelChange",function(g){return _(p),A(i.optionsSearch.data.show,g)||(i.optionsSearch.data.show=g),h(g)}),l(),d(9),f(10,"translate"),l(),a(11,"a",9)(12,"mat-slide-toggle",11),M("click",function(){return _(p),h(i.onActionButtonStatist())}),l(),d(13),f(14,"translate"),l()(),a(15,"div",12),w(16,so,2,0,"a",13),a(17,"a",14),M("click",function(){return _(p),h(i.viewGuideNotice=!i.viewGuideNotice)}),I(18,"i",15),l(),a(19,"a",14),M("click",function(){return _(p),h(i.onActionButtonReload())}),I(20,"i",16),l(),a(21,"a",17),M("click",function(){return _(p),h(i.onActionGridExpandRows(!0))}),I(22,"i",18),l(),a(23,"a",17),M("click",function(){return _(p),h(i.onActionGridExpandRows(!1))}),I(24,"i",19),l()()(),U(),R(25,20),w(26,co,7,3,"div",21),U(),R(27,22),a(28,"div",23)(29,"a",17),M("click",function(){return _(p),h(i.onActionButtonViewRow(i.tableRowSelected))}),I(30,"i",24)(31,"br"),l(),a(32,"p",25),d(33),f(34,"translate"),l()(),w(35,mo,7,3,"div",21)(36,po,7,3,"div",21)(37,fo,7,3,"div",21)(38,uo,7,3,"div",21)(39,_o,7,3,"div",21),a(40,"div",23)(41,"a",17),M("click",function(g){return _(p),h(i.onActionButtonSiteList(i.tableRowSelected,g))}),I(42,"i",26)(43,"br"),l(),a(44,"p",25),d(45),f(46,"translate"),l()(),a(47,"div",23)(48,"a",17),M("click",function(g){return _(p),h(i.onActionButtonSiteByGroupList(i.tableRowSelected,g))}),I(49,"i",27)(50,"br"),l(),a(51,"p",25),d(52),f(53,"translate"),l()(),w(54,ho,7,3,"div",21)(55,Co,7,3,"div",21),U(),R(56,28),a(57,"app-cms-search-list",29),k("optionsChange",function(g){return _(p),A(i.optionsSearch,g)||(i.optionsSearch=g),h(g)}),l(),a(58,"app-cms-statist-list",29),k("optionsChange",function(g){return _(p),A(i.optionsStatist,g)||(i.optionsStatist=g),h(g)}),l(),U(),R(59,30),a(60,"mat-table",31,0),M("matSortChange",function(){_(p);let g=y(61);return h(i.onTableSortData(g))}),R(62,32),w(63,go,3,3,"mat-header-cell",33)(64,So,3,0,"mat-cell",34),U(),R(65,35),w(66,Io,3,3,"mat-header-cell",36)(67,wo,2,1,"mat-cell",34),U(),R(68,37),w(69,xo,2,1,"mat-header-cell",36)(70,bo,2,1,"mat-cell",34),U(),R(71,38),w(72,Mo,2,1,"mat-header-cell",36)(73,Eo,4,5,"mat-cell",34),U(),R(74,39),w(75,yo,2,1,"mat-header-cell",36)(76,Ao,5,7,"mat-cell",40),U(),R(77,41),w(78,ko,2,1,"mat-header-cell",36)(79,Ro,2,1,"mat-cell",34),U(),R(80,42),w(81,Uo,2,1,"mat-header-cell",36)(82,Vo,2,1,"mat-cell",34),U(),R(83,43),w(84,Do,2,1,"mat-header-cell",36)(85,Lo,2,1,"mat-cell",34),U(),R(86,44),w(87,Po,2,1,"mat-header-cell",36)(88,No,2,1,"mat-cell",34),U(),R(89,45),w(90,Bo,2,1,"mat-header-cell",36)(91,Fo,2,1,"mat-cell",34),U(),R(92,46),w(93,Oo,2,1,"mat-header-cell",36)(94,Go,2,1,"mat-cell",34),U(),R(95,47),w(96,Wo,2,1,"mat-header-cell",36)(97,Ho,2,1,"mat-cell",34),U(),R(98,48),w(99,jo,3,3,"mat-header-cell",33)(100,qo,6,1,"mat-cell",49),U(),R(101,50),w(102,zo,2,1,"mat-cell",34),U(),R(103,51),w(104,Ko,37,15,"mat-cell",34),U(),w(105,Jo,1,0,"mat-header-row",52)(106,Xo,1,6,"mat-row",53)(107,Yo,1,6,"mat-row",53)(108,Zo,1,9,"mat-row",54),l(),U(),R(109,55),a(110,"mat-paginator",56,1),M("page",function(g){return _(p),h(i.onTablePageingData(g))}),l(),U(),l()}t&2&&(c("optionsListInfoAreaId",i.constructor.name)("optionGuideNoticeKey","core.user.list"),T("optionActionGuideNoticeDisplay",i.viewGuideNotice),c("optionTreeDisplay",!1)("optionActionRowId",i.tableRowSelected==null?null:i.tableRowSelected.id)("optionActionRowDisplayMenu",i.tableRowSelectDoubleClick)("optionSelectRowItemTitle",i.tableRowSelected.username),r(8),T("ngModel",i.optionsSearch.data.show),r(),C("",u(10,33,"ACTION.SEARCH")," "),r(4),C("",u(14,35,"ACTION.STATIST")," "),r(3),c("ngIf",i.requestLinkSiteId>0),r(10),c("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessAddRow),r(7),v(u(34,37,"ACTION.VIEW")),r(2),c("ngIf",i.tokenInfo.userAccessAdminAllowToProfessionalData||(i.tableRowSelected==null?null:i.tableRowSelected.id)===i.tokenInfo.userId),r(),c("ngIf",i.tokenInfo.userAccessAdminAllowToProfessionalData||(i.tableRowSelected==null?null:i.tableRowSelected.id)===i.tokenInfo.userId),r(),c("ngIf",i.tokenInfo.userAccessAdminAllowToProfessionalData),r(),c("ngIf",i.tokenInfo.userAccessAdminAllowToProfessionalData),r(),c("ngIf",i.tokenHelper.isAdminSite),r(6),v(u(46,39,"ACTION.MEMBER_SITES")),r(7),v(u(53,41,"ACTION.ACCESS_MEMBER_SITES")),r(2),c("ngIf",i.tokenInfo.userAccessAdminAllowToAllData||i.tokenInfo.siteId===(i.tableRowSelected==null?null:i.tableRowSelected.id)),r(),c("ngIf",i==null?null:i.dataModelResult.emailConfirmed),r(2),T("options",i.optionsSearch),r(),T("options",i.optionsStatist),r(2),c("dataSource",i.tableSource),r(45),c("matHeaderRowDef",i.tabledisplayedColumns),r(),c("matRowDefColumns",Ge(43,ro)),r(),c("matRowDefColumns",i.tabledisplayedColumns),r(),c("matRowDefColumns",Ge(44,ao)),r(2),c("length",i.dataModelResult.totalRowCount)("pageIndex",i.dataModelResult.currentPageNumber-1)("pageSize",i.dataModelResult.rowPerPage)("pageSizeOptions",Ge(45,lo)))},dependencies:[We,N,wt,K,re,Qe,xe,J,Xt,Yt,Zt,$t,ei,ti,li,di,fi,ci,si,ui,mi,pi,_i,hi,Qt,Li,Ni,Vi,yi,je,F,Ai,ye,Ui,Ri],encapsulation:2});let o=s;return o})();function $o(o,s){if(o&1){let n=x();a(0,"mat-tree-node",12),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionSelect(t))}),I(1,"button",13)(2,"i",14),d(3),l()}if(o&2){let n=s.$implicit,e=s.dataIndex,t=m();ee("ntk-tree-odd",e%2)("ntk-tree-even",!(e%2))("ntk-tree-selected",t.dataModelSelect.linkUserId>0&&t.dataModelSelect.linkUserId===n.linkUserId),r(2),c("ngClass",n.icon),r(),ot(" \xA0\xA0\xA0\xA0 ",n.linkUserId," / ",n.user.name," ",n.user.lastName," ")}}function er(o,s){if(o&1){let n=x();a(0,"mat-nested-tree-node")(1,"li")(2,"div",15),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionSelect(t))}),a(3,"button",16),M("click",function(){let t=_(n).$implicit,i=m();return h(i.onActionSelect(t))}),a(4,"mat-icon",17),d(5),l()(),I(6,"i",14),d(7),l(),a(8,"ul"),Oe(9,18),l()()()}if(o&2){let n=s.$implicit,e=m();r(2),ee("ntk-tree-selected",e.dataModelSelect.linkUserId>0&&e.dataModelSelect.linkUserId===n.linkUserId),r(),Fe("aria-label","Toggle "),r(2),C(" ",e.treeControl.isExpanded(n)?"expand_more":"chevron_right"," "),r(),St("color",n.color),c("ngClass",n.icon),r(),ot(" \xA0\xA0\xA0\xA0 ",n.linkUserId," / ",n.user.name," ",n.user.lastName," "),r(),ee("category-tree-invisible",!e.treeControl.isExpanded(n))}}function tr(o,s){if(o&1&&(a(0,"div",24)(1,"div",21),d(2),l(),a(3,"div",21),d(4),l(),a(5,"div",21),d(6),l(),a(7,"div",21),d(8),l(),a(9,"div",21),d(10),f(11,"persianDate"),l(),I(12,"div",25),l()),o&2){let n=s.$implicit;r(2),v(n.site==null?null:n.site.id),r(2),v(n.site==null?null:n.site.title),r(2),v(n.site==null?null:n.site.domain),r(2),v(n.site==null?null:n.site.subDomain),r(2),v(u(11,5,n.site==null?null:n.site.createdDate))}}function ir(o,s){if(o&1&&(a(0,"div",19)(1,"div",20)(2,"div",21),d(3),f(4,"translate"),l(),a(5,"div",21),d(6),f(7,"translate"),l(),a(8,"div",21),d(9),f(10,"translate"),l(),a(11,"div",21),d(12),f(13,"translate"),l(),a(14,"div",21),d(15),f(16,"translate"),l(),I(17,"div",22),l(),w(18,tr,13,7,"div",23),l()),o&2){let n=m();r(3),v(u(4,6,"TITLE.Site_ID")),r(3),v(u(7,8,"TITLE.title")),r(3),v(u(10,10,"TITLE.Domain")),r(3),v(u(13,12,"TITLE.Subdomains")),r(3),v(u(16,14,"TITLE.production_date")),r(3),c("ngForOf",n.dataModelSelect.siteChilds)}}var mt=(()=>{let s=class s{constructor(e,t,i,p,b,g,V,H,Q){this.cmsToastrService=e,this.coreEnumService=t,this.categoryService=i,this.dialog=p,this.activatedRoute=b,this.cdr=g,this.publicHelper=V,this.tokenHelper=H,this.translate=Q,this.requestLinkUserId=0,this.dataModelSelect=new lt,this.dataModelResult=new z,this.filterModel=new Ee,this.treeControl=new Ci(de=>de.userChilds),this.dataSource=new Mi,this.optionChange=new Be,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr,this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId"))}hasChild(e,t){return!!(t&&t.userChilds&&t.userChilds.length>0)}ngOnInit(){this.DataGetAll(),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(e=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let e=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(e,t,this.constructor.name)}),this.categoryService.ServiceGetRessellerChart(this.requestLinkUserId).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=[this.dataModelResult.item]):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(e)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(e,!1)}})}onActionSelect(e){this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.dataModelSelect?this.onActionSelect(this.dataModelSelect):this.onActionSelect(null),this.dataModelSelect=new lt,this.DataGetAll()}};s.\u0275fac=function(t){return new(t||s)(S(j),S(O),S(G),S(we),S(Se),S(P),S(W),S(Y),S(B))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-reseller-chart"]],inputs:{optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:16,vars:8,consts:[[1,"ntk-cms-html-tree-header"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"title"],[1,"row","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"col-lg-6","col-sm-12"],[1,"ntk-cms-html-tree-body"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","table",4,"ngIf"],[1,"ntk-cms-html-tree-footer"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],["aria-hidden","true",3,"ngClass"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""],[1,"table"],[1,"th"],[1,"td"],[1,"clear"],["class","tr",4,"ngFor","ngForOf"],[1,"tr"],[2,"clear","both"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"button",1),M("click",function(){return i.onActionButtonReload()}),a(2,"mat-icon",2),f(3,"translate"),d(4,"refresh"),l()()(),a(5,"div",3),I(6,"app-progress-spinner",4),a(7,"div",5)(8,"div",6)(9,"mat-tree",7),w(10,$o,4,10,"mat-tree-node",8)(11,er,10,12,"mat-nested-tree-node",9),l()()(),a(12,"div",5)(13,"div",6),w(14,ir,19,16,"div",10),l()()(),I(15,"div",11)),t&2&&(r(2),E("title",u(3,6,"ACTION.RELOAD")),r(4),c("optionsInfoAreaId",i.constructor.name),r(3),c("dataSource",i.dataSource)("treeControl",i.treeControl),r(2),c("matTreeNodeDefWhen",i.hasChild),r(3),c("ngIf",(i.dataModelSelect==null||i.dataModelSelect.siteChilds==null?null:i.dataModelSelect.siteChilds.length)>0))},dependencies:[We,He,N,Qe,xe,Ii,Si,vi,bi,xi,gi,wi,q,F,ki],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f5;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.clear[_ngcontent-%COMP%]{clear:both}"]});let o=s;return o})();var nr=[{path:"",component:qi,children:[{path:"",component:ct},{path:"siteuser/:LinkSiteId",component:ct},{path:"edit/:Id",component:Ki},{path:"reseller-chart",component:mt},{path:"reseller-chart/LinkUserId/:LinkUserId",component:mt}]}],Zi=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=Ne({type:s}),s.\u0275inj=Pe({imports:[at.forChild(nr),at]});let o=s;return o})();var or=["*"];function rr(o,s){if(o&1&&(a(0,"label",13),d(1),l()),o&2){let n=m();nt("for","app-cms-site-selector-",n.id,""),r(),v(n.optionLabel)}}function ar(o,s){if(o&1&&(I(0,"img",14),f(1,"cmsthumbnail")),o&2){let n=m();E("src",u(1,1,n.dataModelSelect==null?null:n.dataModelSelect.linkMainImageIdSrc),Z)}}function lr(o,s){if(o&1&&(I(0,"img",14),f(1,"cmsthumbnail")),o&2){let n=m().$implicit;E("src",u(1,1,n.linkMainImageIdSrc),Z)}}function sr(o,s){if(o&1&&(a(0,"mat-option",15),w(1,lr,2,3,"img",5),a(2,"span"),d(3),l()()),o&2){let n=s.$implicit,e=m();c("value",n)("disabled",e.optionDisabled),r(),c("ngIf",n.linkMainImageIdSrc),r(2),v(e.displayOption(n))}}function dr(o,s){o&1&&I(0,"i",16)}function cr(o,s){o&1&&I(0,"i",17)}function mr(o,s){if(o&1){let n=x();a(0,"i",18),M("click",function(){_(n);let t=m();return h(t.onActionSelectClear())}),l()}}function pr(o,s){o&1&&(a(0,"em"),d(1),f(2,"translate"),l()),o&2&&(r(),C("(",u(2,1,"TITLE.Necessary"),")"))}var ka=(()=>{let s=class s{constructor(e,t,i,p,b){this.coreEnumService=e,this.cdr=t,this.publicHelper=i,this.translate=p,this.categoryService=b,this.id=++s.nextId,this.dataModelResult=new z,this.dataModelSelect=new L,this.formControl=new Et,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionDisabled=!1,this.optionRequired=!1,this.optionLabel="",this.optionChange=new Be,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(e){this.onActionSelectForce(e)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(Ct(""),_t(1500),ht(),gt(e=>typeof e=="string"||typeof e=="number"?this.DataGetAll(e||""):[]))}displayFn(e){return e?e.username+" # "+e.name+" # "+e.lastName:void 0}displayOption(e){return e?e.username+" # "+e.name+" # "+e.lastName:void 0}DataGetAll(e){return pt(this,null,function*(){let t=new Ee;if(t.rowPerPage=20,t.accessLoad=!0,e&&e.length>0){let p=new X;p=new X,p.propertyName="username",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,t.filters.push(p),p=new X,p.propertyName="name",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,t.filters.push(p),p=new X,p.propertyName="email",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,t.filters.push(p),p=new X,p.propertyName="lastname",p.value=e,p.searchType=Me.Contains,p.clauseType=be.Or,t.filters.push(p),e&&typeof+e=="number"&&+e>0&&(p=new X,p.propertyName="Id",p.value=e,p.searchType=Me.Equal,p.clauseType=be.Or,t.filters.push(p))}let i=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(p=>{this.publicHelper.processService.processStart(i,p,this.constructor.name)}),yield ft(this.categoryService.ServiceGetAll(t)).then(p=>(this.dataModelResult=p,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(i),p.listItems))})}onActionSelect(e){this.optionDisabled||(this.dataModelSelect=e,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(e){return this.filteredOptions.pipe(ut(t=>(t.find(i=>i.id===e.id)||t.push(e),t)))}onActionSelectForce(e){if(typeof e=="number"&&e>0){if(this.dataModelSelect&&this.dataModelSelect.id===e)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===e)){let t=this.dataModelResult.listItems.find(i=>i.id===e);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(e).subscribe({next:t=>{t.isSuccess&&(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item))}});return}if(typeof e==typeof L){this.filteredOptions=this.push(e),this.dataModelSelect=e,this.formControl.setValue(e);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new L,this.loadOptions()}};s.nextId=0,s.\u0275fac=function(t){return new(t||s)(S(O),S(P),S(W),S(B),S(G))},s.\u0275cmp=D({type:s,selectors:[["app-core-user-selector"]],inputs:{optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionDisabled:"optionDisabled",optionRequired:"optionRequired",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:or,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","progressOverlayContainer"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,i){if(t&1){let p=x();It(),a(0,"div",1),I(1,"app-progress-spinner",2),w(2,rr,2,3,"label",3),a(3,"span",4),w(4,ar,2,3,"img",5),d(5," \xA0"),l(),I(6,"input",6),a(7,"mat-autocomplete",7,0),M("optionSelected",function(g){return _(p),h(i.onActionSelect(g.option.value))}),w(9,sr,4,4,"mat-option",8),f(10,"async"),l(),w(11,dr,1,0,"i",9)(12,cr,1,0,"i",10)(13,mr,1,0,"i",11)(14,pr,3,3,"em",12),vt(15),l()}if(t&2){let p=y(8);r(),c("optionsInfoAreaId",i.constructor.name),r(),c("ngIf",(i.optionLabel==null?null:i.optionLabel.length)>0),r(2),c("ngIf",i.dataModelSelect&&(i.dataModelSelect==null?null:i.dataModelSelect.linkMainImageIdSrc)),r(2),E("placeholder",i.optionPlaceholder),nt("id","app-cms-site-selector-",i.id,""),c("formControl",i.formControl)("matAutocomplete",p)("required",i.optionRequired),Fe("disabled",i.optionDisabled?!0:null),r(),c("displayWith",i.displayFn),r(2),c("ngForOf",u(10,16,i.filteredOptions)),r(2),c("ngIf",!i.formControl.valid),r(),c("ngIf",i.optionRequired&&i.formControl.valid),r(),c("ngIf",(i.dataModelSelect==null?null:i.dataModelSelect.id)>0),r(),c("ngIf",i.optionRequired&&(!i.dataModelSelect||!i.dataModelSelect.id||i.dataModelSelect.id<=0))}},dependencies:[He,N,oe,K,qe,yt,Kt,bt,Jt,kt,J,q,je,F,ye],encapsulation:2});let o=s;return o})();var sl=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=Ne({type:s}),s.\u0275inj=Pe({providers:[Ft,O,G,Gt,Ot,Ze],imports:[xt,Zi,Tt,At.withConfig({warnOnNgModelWithFormControl:"never"}),Fi,Hi,Ei,qt]});let o=s;return o})();export{it as a,ka as b,sl as c};
