import{a as xn,b as co,c as Ai,d as mo}from"./chunk-723JF3WA.js";import{a as lo}from"./chunk-5Z2GUIXD.js";import{a as so}from"./chunk-LBBT5O6G.js";import{d as ao}from"./chunk-RPDEMCDD.js";import{a as ht}from"./chunk-GCND4RVG.js";import{a as ft}from"./chunk-BV6N4N2C.js";import{a as ut}from"./chunk-JRHRLI4H.js";import{b as ro}from"./chunk-MS4T5EF7.js";import{a as We}from"./chunk-XL4L25JA.js";import{$ as $i,$a as Et,$c as qi,Bd as pt,C as fi,D as jn,Dd as Ht,Ed as jt,F as hi,G as Si,H as gi,Hb as bi,Hd as Cn,Ib as vi,Jd as Xt,K as _e,Ka as ji,Kd as oo,L as Pe,La as ie,Lb as eo,M as xe,Ma as ne,Mc as Ct,Na as we,Nc as gn,O as qn,Oc as to,P as Un,Pc as io,Ta as Se,Tc as Mt,Uc as dt,Vb as ze,Wa as K,Wb as Je,Xb as Ke,Yb as Xe,Zb as Ye,_a as wt,_b as Ze,aa as Ce,ab as Tt,ca as Qn,cd as ue,da as Ge,dd as _n,ea as en,fc as $e,gc as et,ha as tn,hc as tt,ia as nn,ic as it,id as ct,ja as on,jc as nt,ka as rn,kc as ot,lb as Ot,lc as rt,ld as no,m as ui,mb as $n,mc as at,nb as L,nc as st,o as Te,ob as sn,oc as lt,p as z,qc as ln,rc as dn,s as J,sa as Le,sb as Qe,sc as cn,t as le,tb as N,tc as mn,uc as pn,ud as mt,v as de,vb as j,vc as un,w as zt,wc as fn,wd as Gt,x as te,xc as hn,y as ce,yc as Sn,yd as Wt,z as At}from"./chunk-525LZQHM.js";import{b as B,c as H,p as Ae}from"./chunk-FGLUTDGD.js";import{$j as Pn,Aa as _t,Ab as Vt,Cd as Ue,Db as Z,Dd as O,Eb as $,Fb as ee,Fc as Qt,Hd as Q,Ia as Me,Ib as R,Id as Y,Jd as oe,Kb as p,L as si,La as r,Lb as y,Lc as Hn,Ma as g,Mb as I,Nb as Bi,O as li,Qb as w,Qd as he,Rb as E,Sb as T,Sd as Jn,Ud as Kn,Uj as Lt,Vb as He,Vj as Ut,W as di,X as ci,Xj as $t,Yb as C,Yj as ei,Za as U,Zb as M,Zj as _i,_b as Oi,_j as Xn,ab as v,ak as Pt,bb as kt,bk as ti,cb as m,ck as ii,cq as q,da as Yi,dk as bt,eb as ye,ek as Rt,fd as yt,g as oi,gc as F,gd as zn,hd as qe,hk as Yn,ik as Re,ja as V,ka as Zi,kd as Tn,lb as s,ld as qt,mb as a,nb as _,nk as Zn,ob as P,ok as xt,pb as x,pk as Nt,qb as Ee,qc as Wn,qd as It,qk as Ci,ra as u,rb as A,rk as Gi,sa as f,sk as an,td as Ne,tk as Jt,u as ri,ub as b,uk as Ft,v as ai,vd as X,vk as Mi,wb as S,wk as Ii,xb as mi,xc as je,xk as Kt,yb as pi,yc as Ve,yk as Bt,zb as G,zc as W,zd as Fe}from"./chunk-U7ICMUOT.js";var po=(()=>{let l=class l{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=V({type:l,selectors:[["app-sms-main"]],decls:1,vars:0,template:function(t,e){t&1&&_(0,"router-outlet")},dependencies:[zn],encapsulation:2});let n=l;return n})();var Wo=["*"];function Ho(n,l){if(n&1&&(s(0,"label",8),p(1),a()),n&2){let o=S();Vt("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function jo(n,l){if(n&1&&(s(0,"mat-option",9)(1,"span"),p(2),a()()),n&2){let o=l.$implicit,i=S();m("value",o)("disabled",i.optionDisabled),r(2),y(i.displayOption(o))}}function qo(n,l){if(n&1){let o=A();s(0,"mat-icon",10),b("click",function(){u(o);let t=S();return f(t.onActionSelectClear())}),p(1,"close"),a()}}var Mn=(()=>{let l=class l{constructor(i,t,e,c,h,d){this.coreEnumService=i,this.cmsToastrService=t,this.translate=e,this.cdr=c,this.publicHelper=h,this.categoryService=d,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new O,this.dataModelSelect=new Pt,this.formControl=new zt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionSelectFirstItemOnChangeApi=!1,this.optionPlaceholder="",this.optionLabel="",this.optionSelectForSendMessage=!1,this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.privateLinkApiPathId="",this.privateLinkApiPathIdLast="",this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}set optionLinkApiPathId(i){i!=this.privateLinkApiPathId&&(this.privateLinkApiPathId!=""&&this.onActionSelectClear(),this.privateLinkApiPathId=i,this.privateLinkApiPathId!=this.privateLinkApiPathIdLast&&(this.optionSelectFirstItem=this.optionSelectFirstItemOnChangeApi),this.privateLinkApiPathIdLast=i,this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(di(""),si(1500),li(),ci(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.numberChar:void 0}displayOption(i){return i?i.numberChar:void 0}DataGetAll(i){return oi(this,null,function*(){let t=new Y;t.rowPerPage=20,t.accessLoad=!0;let e=new Q;return e.propertyName="NumberChar",e.value=i,e.searchType=It.Contains,e.clauseType=qt.Or,t.filters.push(e),this.privateLinkApiPathId&&this.privateLinkApiPathId.length>0&&(e=new Q,e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.privateLinkApiPathId,e.searchType=It.Equal,t.filters.push(e)),this.optionSelectForSendMessage&&(e=new Q,e.propertyName="RecordStatus",e.value=Ne.Available,e.searchType=It.Equal,t.filters.push(e)),this.publicHelper.processService.processStart("DataGetAll"),yield ri(this.categoryService.ServiceGetAll(t)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop("DataGetAll"),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=new Pt,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(ai(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.numberChar===i)){let t=this.dataModelResult.listItems.find(e=>e.numberChar===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Pt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Pt,this.loadOptions()}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(g(he),g(L),g(B),g(F),g(N),g(Ft))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionSelectFirstItemOnChangeApi:"optionSelectFirstItemOnChangeApi",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionSelectForSendMessage:"optionSelectForSendMessage",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkApiPathId:"optionLinkApiPathId"},outputs:{optionChange:"optionChange"},ngContentSelectors:Wo,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name","input-ltr-center",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],["class","input-ltr-center",3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[1,"input-ltr-center",3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let c=A();mi(),s(0,"div",1),_(1,"app-progress-spinner",2),v(2,Ho,2,3,"label",3),_(3,"input",4),s(4,"mat-autocomplete",5,0),b("optionSelected",function(d){return u(c),f(e.onActionSelect(d.option.value))}),v(6,jo,3,3,"mat-option",6),C(7,"async"),a(),v(8,qo,2,0,"mat-icon",7),pi(9),a()}if(t&2){let c=R(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),G("placeholder",e.optionPlaceholder),Vt("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),kt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Ve,W,z,J,fi,bi,ui,vi,Ge,Se,K,j,Qt],encapsulation:2});let n=l;return n})();var Uo=["vform"];function Qo(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function zo(n,l){if(n&1){let o=A();s(0,"div",28)(1,"div",29)(2,"h5",30),p(3),a()(),s(4,"div",31)(5,"div",32)(6,"input",33),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.hasInherits,t)||(e.dataModel.hasInherits=t),f(t)}),a(),_(7,"label",34),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.hasInherits==null?null:o.fieldsInfo.hasInherits.fieldTitle,""),r(3),w("ngModel",o.dataModel.hasInherits)}}function Jo(n,l){if(n&1&&(s(0,"option",35),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function Ko(n,l){n&1&&(s(0,"mat-error"),p(1," AccessStatus is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Xo(n,l){if(n&1&&(s(0,"option",35),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function Yo(n,l){n&1&&(s(0,"mat-error"),p(1," Action is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Zo(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",36),p(2),C(3,"translate"),a(),s(4,"input",37),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.expireDate,t)||(e.dataModel.expireDate=t),f(t)}),a(),_(5,"mat-datepicker-toggle",22)(6,"mat-datepicker",23,4),a()}if(n&2){let o=R(7),i=S();r(2),y(M(3,4,"TITLE.Expire_Date")),r(2),w("ngModel",i.dataModel.expireDate),m("matDatepicker",o),r(),m("for",o)}}function $o(n,l){if(n&1){let o=A();s(0,"div",38)(1,"button",39),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",40),p(3),C(4,"translate"),a(),s(5,"button",41),_(6,"i",42),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var fo=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new ti,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiNumberPermissionService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new ti,this.formInfo=new oe,this.dataModelEnumApiNumberPermissionAccessStatusResult=new O,this.dataModelEnumApiNumberPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),i&&i.linkApiNumberId&&(this.dataModel.linkApiNumberId=i.linkApiNumberId)}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction(),this.DataGetAccess()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=i})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiNumberPermissionActionResult=i})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiNumberId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Mi),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-permission-add"]],viewQuery:function(t,e){if(t&1&&Z(Uo,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:49,vars:50,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Qo,1,5,"app-cms-enum-record-status-selector",10),p(11),s(12,"app-sms-api-number-selector",11),C(13,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiNumberId(d))}),a(),s(14,"app-cms-user-selector",12),C(15,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(16,"app-cms-site-selector",12),C(17,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(18,"app-cms-usergroup-selector",12),C(19,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(20,"app-cms-sitecategory-selector",12),C(21,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),v(22,zo,8,2,"div",13),s(23,"div",14)(24,"select",15,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.accessStatus,d)||(e.dataModel.accessStatus=d),f(d)}),v(26,Jo,2,2,"option",16),a(),s(27,"em",17),p(28),C(29,"translate"),a(),v(30,Ko,5,3,"mat-error",18),a(),s(31,"div",14)(32,"select",19,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.action,d)||(e.dataModel.action=d),f(d)}),v(34,Xo,2,2,"option",16),a(),s(35,"em",17),p(36),C(37,"translate"),a(),v(38,Yo,5,3,"mat-error",18),a(),s(39,"div",14)(40,"label",20),p(41),a(),s(42,"input",21),T("ngModelChange",function(d){return u(c),E(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),f(d)}),a(),_(43,"mat-datepicker-toggle",22)(44,"mat-datepicker",23,3),a(),v(46,Zo,8,6,"div",24),_(47,"hr",25),v(48,$o,9,7,"div",26),a()()()}if(t&2){let c=R(25),h=R(33),d=R(45);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),I(" aaaa ",e.dataModel.linkApiNumberId," bbb "),r(),m("optionSelectForce",e.dataModel.linkApiNumberId)("optionPlaceholder",M(13,36,"TITLE.No")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(15,38,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(17,40,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(19,42,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(21,44,"TITLE.Site_Type")),r(2),m("ngIf",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.accessWatchField),r(2),w("ngModel",e.dataModel.accessStatus),r(2),m("ngForOf",e.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),r(2),I("",M(29,46,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",c.errors==null?null:c.errors.required),r(2),w("ngModel",e.dataModel.action),r(2),m("ngForOf",e.dataModelEnumApiNumberPermissionActionResult.listItems),r(2),I("",M(37,48,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(3),y(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),w("ngModel",e.dataModel.fromDate),m("matDatepicker",d),r(),m("for",d),r(3),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(2),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,Si,gi,z,Te,hi,J,le,_e,te,de,wt,Et,Tt,Ce,Ge,K,Wt,ue,Gt,jt,Ht,j,Mn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var er=["vform"];function tr(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ir(n,l){if(n&1){let o=A();s(0,"div",28)(1,"div",29)(2,"h5",30),p(3),a()(),s(4,"div",31)(5,"div",32)(6,"input",33),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.hasInherits,t)||(e.dataModel.hasInherits=t),f(t)}),a(),_(7,"label",34),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.hasInherits==null?null:o.fieldsInfo.hasInherits.fieldTitle,""),r(3),w("ngModel",o.dataModel.hasInherits)}}function nr(n,l){if(n&1&&(s(0,"option",35),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function or(n,l){n&1&&(s(0,"mat-error"),p(1," AccessStatus is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function rr(n,l){if(n&1&&(s(0,"option",35),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function ar(n,l){n&1&&(s(0,"mat-error"),p(1," Action is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function sr(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",36),p(2),a(),s(3,"input",37),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.expireDate,t)||(e.dataModel.expireDate=t),f(t)}),a(),_(4,"mat-datepicker-toggle",22)(5,"mat-datepicker",23,4),a()}if(n&2){let o=R(6),i=S();r(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),r(),w("ngModel",i.dataModel.expireDate),m("matDatepicker",o),r(),m("for",o)}}function lr(n,l){if(n&1){let o=A();s(0,"div",38)(1,"button",39),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",40),p(3),C(4,"translate"),a(),s(5,"button",41),_(6,"i",42),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var ho=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new ti,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiNumberPermissionService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new ti,this.formInfo=new oe,this.dataModelEnumApiNumberPermissionAccessStatusResult=new O,this.dataModelEnumApiNumberPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiNumberPermissionAccessStatus(),this.getEnumApiNumberPermissionAction()}getEnumApiNumberPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiNumberPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiNumberPermissionAccessStatusResult=i})}getEnumApiNumberPermissionAction(){this.smsEnumService.ServiceSmsApiNumberPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiNumberPermissionActionResult=i})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.setAccessLoad(),this.smsMainApiNumberPermissionService.setAccessDataType(Fe.Editor),this.smsMainApiNumberPermissionService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberPermissionService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiNumberId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiNumberId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Mi),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-permission-edit"]],viewQuery:function(t,e){if(t&1&&Z(er,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:48,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-n3"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"pb-5"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,tr,1,5,"app-cms-enum-record-status-selector",10),s(11,"app-sms-api-number-selector",11),C(12,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiNumberId(d))}),a(),s(13,"app-cms-user-selector",12),C(14,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(15,"app-cms-site-selector",12),C(16,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(17,"app-cms-usergroup-selector",12),C(18,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(19,"app-cms-sitecategory-selector",12),C(20,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),v(21,ir,8,2,"div",13),s(22,"div",14)(23,"select",15,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.accessStatus,d)||(e.dataModel.accessStatus=d),f(d)}),v(25,nr,2,2,"option",16),a(),s(26,"em",17),p(27),C(28,"translate"),a(),v(29,or,5,3,"mat-error",18),a(),s(30,"div",14)(31,"select",19,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.action,d)||(e.dataModel.action=d),f(d)}),v(33,rr,2,2,"option",16),a(),s(34,"em",17),p(35),C(36,"translate"),a(),v(37,ar,5,3,"mat-error",18),a(),s(38,"div",14)(39,"label",20),p(40),a(),s(41,"input",21),T("ngModelChange",function(d){return u(c),E(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),f(d)}),a(),_(42,"mat-datepicker-toggle",22)(43,"mat-datepicker",23,3),a(),v(45,sr,7,4,"div",24),_(46,"hr",25),v(47,lr,9,7,"div",26),a()()()}if(t&2){let c=R(24),h=R(32),d=R(44);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkApiNumberId)("optionPlaceholder",M(12,35,"TITLE.No")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(14,37,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(16,39,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(18,41,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(20,43,"TITLE.Site_Type")),r(2),m("ngIf",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.accessWatchField),r(2),w("ngModel",e.dataModel.accessStatus),r(2),m("ngForOf",e.dataModelEnumApiNumberPermissionAccessStatusResult.listItems),r(2),I("",M(28,45,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",c.errors==null?null:c.errors.required),r(2),w("ngModel",e.dataModel.action),r(2),m("ngForOf",e.dataModelEnumApiNumberPermissionActionResult.listItems),r(2),I("",M(36,47,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(3),y(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),w("ngModel",e.dataModel.fromDate),m("matDatepicker",d),r(),m("for",d),r(3),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(2),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,Si,gi,z,Te,hi,J,le,_e,te,de,wt,Et,Tt,Ce,Ge,K,Wt,ue,Gt,jt,Ht,j,Mn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var So=(()=>{let l=class l{constructor(i,t,e,c,h,d,D){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=h,this.translate=d,this.tokenHelper=D,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new O,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};l.\u0275fac=function(t){return new(t||l)(g(Ft),g(N),g(F),g(L),g(we),g(B),g(Ae))},l.\u0275cmp=V({type:l,selectors:[["app-api-number-header"]],inputs:{optionId:"optionId"},decls:32,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"td","large-width","cell-ltr"],[1,"divider","divider-margins"]],template:function(t,e){t&1&&(s(0,"div",0),_(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),s(7,"div",7)(8,"h5")(9,"b"),p(10),C(11,"translate"),a()()(),_(12,"div",8),a(),s(13,"div",4)(14,"div",5)(15,"b"),p(16),a(),p(17,": "),a(),s(18,"div",9),p(19),a(),_(20,"div",10)(21,"div",11),a(),s(22,"div",4)(23,"div",5)(24,"b"),p(25),a(),p(26,": "),a(),s(27,"div",12),p(28),a(),_(29,"div",8)(30,"div",11),a()()()(),_(31,"div",13)),t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(5),m("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),I(" ",M(11,7,"TITLE.Selected_Api_Number")," "),r(6),I("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),I("",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.numberChar))},dependencies:[j,sn,H],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();var mr=()=>[5,10,20,100];function pr(n,l){if(n&1&&_(0,"app-api-number-header",43),n&2){let o=S();m("optionId",o.requestLinkApiNumberId)}}function ur(n,l){if(n&1){let o=A();s(0,"a",44),b("click",function(){u(o);let t=S();return f(t.onActionBackToParent())}),_(1,"i",45),a()}}function fr(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",46),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",47)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function hr(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",48),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function Sr(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",50),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function gr(n,l){if(n&1&&(s(0,"mat-header-cell",52),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function _r(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function Cr(n,l){if(n&1&&(s(0,"mat-header-cell",52),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Mr(n,l){if(n&1&&(s(0,"mat-cell",53),C(1,"statusCellClass"),_(2,"i",53),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function Ir(n,l){if(n&1&&(s(0,"mat-header-cell",52),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.linkApiNumberId==null?null:o.fieldsInfo.linkApiNumberId.fieldTitle," ")}}function br(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.linkApiNumberId," ")}}function vr(n,l){if(n&1&&(s(0,"mat-header-cell",52),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ar(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.createdDate)," ")}}function yr(n,l){if(n&1&&(s(0,"mat-header-cell",52),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function wr(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.updatedDate)," ")}}function Er(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function Tr(n,l){if(n&1&&(s(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Pr(n,l){n&1&&_(0,"mat-header-row")}function xr(n,l){if(n&1){let o=A();s(0,"mat-row",56),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var kn=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){super(i,new ti,be,d,k),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.cmsConfirmationDialogService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.requestLinkApiNumberId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","linkApiNumberId","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","linkApiNumberId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")&&(this.requestLinkApiNumberId=this.activatedRoute.snapshot.paramMap.get("LinkApiNumberId")),this.requestLinkApiNumberId.length>0){let i=new Q;i.propertyName="LinkApiNumberId",i.value=this.requestLinkApiNumberId,this.filteModelContent.filters.push(i)}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ti);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(fo,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkApiNumberId:this.requestLinkApiNumberId}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(ho,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonApiList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPermissionId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};l.\u0275fac=function(t){return new(t||l)(g(Mi),g(L),g(yt),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-permission-list"]],features:[U],decls:61,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[3,"checked"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiNumberId"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();v(0,pr,1,1,"app-api-number-header",3),s(1,"app-cms-html-list",4),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),Ee(2,5)(3,6)(4,7),P(5,8),v(6,ur,2,0,"a",9),s(7,"a",10),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",11),a(),s(9,"a",10),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(10,"i",12),a(),x(),P(11,13),s(12,"a",14),_(13,"mat-slide-toggle",15),p(14),C(15,"translate"),a(),s(16,"a",16),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),p(18),C(19,"translate"),a(),x(),P(20,17),v(21,fr,7,3,"div",18),x(),P(22,19),v(23,hr,7,3,"div",18)(24,Sr,7,3,"div",18),s(25,"div",20)(26,"a",21),b("click",function(){return u(c),f(e.onActionButtonApiList(e.tableRowSelected))}),_(27,"i",22)(28,"br"),a(),s(29,"p",23),p(30),C(31,"translate"),a()(),x(),P(32,24),s(33,"app-cms-search-list",25),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(34,"app-cms-statist-list",25),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(35,26),s(36,"mat-table",27,0),b("matSortChange",function(){u(c);let d=R(37);return f(e.onTableSortData(d))}),P(38,28),v(39,gr,2,1,"mat-header-cell",29)(40,_r,2,1,"mat-cell",30),x(),P(41,31),v(42,Cr,2,1,"mat-header-cell",29)(43,Mr,4,6,"mat-cell",32),x(),P(44,33),v(45,Ir,2,1,"mat-header-cell",29)(46,br,2,1,"mat-cell",30),x(),P(47,34),v(48,vr,2,1,"mat-header-cell",29)(49,Ar,3,3,"mat-cell",30),x(),P(50,35),v(51,yr,2,1,"mat-header-cell",29)(52,wr,3,3,"mat-cell",30),x(),P(53,36),v(54,Er,3,3,"mat-header-cell",37)(55,Tr,6,1,"mat-cell",38),x(),v(56,Pr,1,0,"mat-header-row",39)(57,xr,1,6,"mat-row",40),a(),x(),P(58,41),s(59,"mat-paginator",42,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("ngIf",(e.requestLinkApiNumberId==null?null:e.requestLinkApiNumberId.length)>0),r(),m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(5),m("ngIf",(e.requestLinkApiNumberId==null?null:e.requestLinkApiNumberId.length)>0),r(7),m("checked",e.optionsSearch.data.show),r(),I("",M(15,26,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(19,28,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(31,30,"ACTION.ROUTES")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(20),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(32,mr)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,So,H,Xt,dt,Mt],encapsulation:2});let n=l;return n})();var Rr=["vform"];function Dr(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",10),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kr(n,l){if(n&1){let o=A();s(0,"div",11)(1,"label",12),p(2),a(),s(3,"input",13,1),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.numberChar,t)||(e.dataModel.numberChar=t),f(t)}),a(),s(5,"em"),p(6),a()()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),r(),G("disabled",!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessAddField)),w("ngModel",i.dataModel.numberChar),r(3),I("",o.value.length," / 100")}}function Vr(n,l){if(n&1){let o=A();s(0,"div",14)(1,"button",15),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",16),p(3),C(4,"translate"),a(),s(5,"button",17),_(6,"i",18),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var go=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new Pt,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiNumberService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new Pt,this.formInfo=new oe,this.dataModelEnumApiNumberAccessStatusResult=new O,this.dataModelEnumApiNumberActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0,model:t.item})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ft),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-add"]],viewQuery:function(t,e){if(t&1&&Z(Rr,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:13,vars:8,consts:[["vform","ngForm"],["NumberChar",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",2),_(1,"app-progress-spinner",3),s(2,"div",4)(3,"p",5),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",6,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Dr,1,5,"app-cms-enum-record-status-selector",7)(11,kr,7,4,"div",8)(12,Vr,9,7,"div",9),a()()()}t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,6,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,ce,z,J,le,te,de,K,ue,j,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();function Lr(n,l){if(n&1){let o=A();s(0,"li")(1,"mat-checkbox",1),b("change",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),p(2),a()()}if(n&2){let o=l.$implicit,i=S();r(),m("checked",i.fieldsStatus.get(o.id))("disabled",i.optionDisabled),r(),I(" ",o.title," ")}}var _o=(()=>{let l=class l{constructor(i,t,e,c,h,d){this.coreEnumService=i,this.categoryService=t,this.cdr=e,this.publicHelper=c,this.translate=h,this.cmsToastrService=d,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new O,this.dataModelSelect=[],this.dataIdsSelect=[],this.formControl=new zt,this.fieldsStatus=new Map,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionPlaceholder="",this.optionChange=new _t,this.optionSelectAdded=new _t,this.optionSelectRemoved=new _t,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.DataGetAll()}DataGetAll(){let i=new Y;i.rowPerPage=50,i.accessLoad=!0;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(i).subscribe({next:e=>{e.isSuccess?(this.dataModelResult=e,this.dataModelResult.listItems.forEach(c=>this.fieldsStatus.set(c.id,!1)),this.dataIdsSelect.forEach(c=>this.fieldsStatus.set(c,!0)),this.dataModelResult.listItems.forEach(c=>{this.fieldsStatus.get(c.id)&&this.dataModelSelect.push(c)})):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionSelect(i){this.fieldsStatus.get(i.id)?(this.fieldsStatus.set(i.id,!1),this.optionSelectRemoved.emit(i),this.dataModelSelect.splice(this.dataModelSelect.indexOf(i),1)):(this.fieldsStatus.set(i.id,!0),this.optionSelectAdded.emit(i),this.dataModelSelect.push(i)),this.optionChange.emit(this.dataModelSelect)}onActionSelectForce(i){typeof i==typeof Array(String)?i.forEach(t=>{this.dataIdsSelect.push(t)}):typeof i==typeof Array(Ut)&&i.forEach(t=>{this.dataIdsSelect.push(t.id)}),this.dataIdsSelect.forEach(t=>this.fieldsStatus.set(t,!0))}onActionButtonReload(){this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(g(he),g(xt),g(F),g(N),g(B),g(L))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipath-selectionlist"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionPlaceholder:"optionPlaceholder",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange",optionSelectAdded:"optionSelectAdded",optionSelectRemoved:"optionSelectRemoved"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"change","checked","disabled"]],template:function(t,e){t&1&&(s(0,"ul"),v(1,Lr,3,3,"li",0),a()),t&2&&(r(),m("ngForOf",e.dataModelResult.listItems))},dependencies:[Ve,eo]});let n=l;return n})();var Fr=["vform"];function Br(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",23),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Or(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",24),p(2),a(),s(3,"input",25,2),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.numberChar,t)||(e.dataModel.numberChar=t),f(t)}),a(),s(5,"em"),p(6),a()()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.numberChar==null?null:i.fieldsInfo.numberChar.fieldTitle),r(),G("disabled",!(i.fieldsInfo.numberChar!=null&&i.fieldsInfo.numberChar.accessEditField)),w("ngModel",i.dataModel.numberChar),r(3),I("",o.value.length," / 100")}}function Gr(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",28),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",31),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.isPublic,t)||(e.dataModel.isPublic=t),f(t)}),a(),_(7,"label",32),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.isPublic==null?null:o.fieldsInfo.isPublic.fieldTitle,""),r(3),w("ngModel",o.dataModel.isPublic)}}function Wr(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",33),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",34),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.saleStatus,t)||(e.dataModel.saleStatus=t),f(t)}),a(),_(7,"label",35),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.saleStatus==null?null:o.fieldsInfo.saleStatus.fieldTitle,""),r(3),w("ngModel",o.dataModel.saleStatus)}}function Hr(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",36),p(2),a(),s(3,"input",37,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.priority,t)||(e.dataModel.priority=t),f(t)}),a(),s(5,"em"),p(6),a()()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.priority==null?null:i.fieldsInfo.priority.fieldTitle),r(),G("disabled",!(i.fieldsInfo.priority!=null&&i.fieldsInfo.priority.accessEditField)),w("ngModel",i.dataModel.priority),r(3),I("",o.value.length," / 100")}}function jr(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",38),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",39),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.deliveryRelayStatus,t)||(e.dataModel.deliveryRelayStatus=t),f(t)}),a(),_(7,"label",40),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.deliveryRelayStatus==null?null:o.fieldsInfo.deliveryRelayStatus.fieldTitle,""),r(3),w("ngModel",o.dataModel.deliveryRelayStatus)}}function qr(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",41),p(2),a(),s(3,"input",42,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.deliveryRelayUrl,t)||(e.dataModel.deliveryRelayUrl=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.deliveryRelayUrl==null?null:o.fieldsInfo.deliveryRelayUrl.fieldTitle),r(),w("ngModel",o.dataModel.deliveryRelayUrl),m("readonly",!o.dataModel.deliveryRelayStatus)("disabled",!(o.fieldsInfo.deliveryRelayUrl!=null&&o.fieldsInfo.deliveryRelayUrl.accessEditField))}}function Ur(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",43),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",44),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.smsRelayStatus,t)||(e.dataModel.smsRelayStatus=t),f(t)}),a(),_(7,"label",45),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.smsRelayStatus==null?null:o.fieldsInfo.smsRelayStatus.fieldTitle,""),r(3),w("ngModel",o.dataModel.smsRelayStatus)}}function Qr(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",46),p(2),a(),s(3,"input",47,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.smsRelayUrl,t)||(e.dataModel.smsRelayUrl=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.smsRelayUrl==null?null:o.fieldsInfo.smsRelayUrl.fieldTitle),r(),w("ngModel",o.dataModel.smsRelayUrl),m("readonly",!o.dataModel.smsRelayStatus)("disabled",!(o.fieldsInfo.smsRelayUrl!=null&&o.fieldsInfo.smsRelayUrl.accessEditField))}}function zr(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",48),p(2),a(),s(3,"input",49),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.expireDate,t)||(e.dataModel.expireDate=t),f(t)}),a(),_(4,"mat-datepicker-toggle",19)(5,"mat-datepicker",20,6),a()}if(n&2){let o=R(6),i=S();r(2),y(i.fieldsInfo.expireDate==null?null:i.fieldsInfo.expireDate.fieldTitle),r(),w("ngModel",i.dataModel.expireDate),m("matDatepicker",o),r(),m("for",o)}}function Jr(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",50),p(2),a(),s(3,"input",51,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.actionMemo,t)||(e.dataModel.actionMemo=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.actionMemo==null?null:o.fieldsInfo.actionMemo.fieldTitle),r(),w("ngModel",o.dataModel.actionMemo),m("disabled",!(o.fieldsInfo.actionMemo!=null&&o.fieldsInfo.actionMemo.accessEditField))}}function Kr(n,l){if(n&1){let o=A();s(0,"div",52)(1,"button",53),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",54),p(3),C(4,"translate"),a(),s(5,"button",55),_(6,"i",56),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Co=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k,Ie){super(c,new Pt,D,Ie),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiNumberService=c,this.smsMainApiPathAndApiNumberService=h,this.cmsToastrService=d,this.publicHelper=D,this.cdr=k,this.translate=Ie,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new Pt,this.formInfo=new oe,this.dataModelEnumApiNumberAccessStatusResult=new O,this.dataModelEnumApiNumberActionResult=new O,this.fileManagerOpenForm=!1,this.dataCoreCpMainMenuIds=[],this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberService.setAccessLoad(),this.smsMainApiNumberService.setAccessDataType(Fe.Editor),this.smsMainApiNumberService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.DataGetAllMenuCoreUserGroup(),this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAllMenuCoreUserGroup(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.formInfo.formAlert=this.translate.instant("MESSAGE.Getting_access_category_from_the_server"),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(i,c,this.constructorInfoAreaId)});let t=new Y,e=new Q;e.propertyName="LinkApiNumberId",e.value=this.requestId,t.filters.push(e),this.smsMainApiPathAndApiNumberService.ServiceGetAll(t).subscribe({next:c=>{this.dataCoreCpMainMenuCmsUserGroupModel=c.listItems;let h=[];this.dataCoreCpMainMenuCmsUserGroupModel.forEach(d=>{h.push(d.linkApiPathId)}),this.dataCoreCpMainMenuIds=h,c.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(d=>{this.formInfo.formAlert=d}),this.formInfo.formError=c.errorMessage,this.cmsToastrService.typeErrorMessage(c.errorMessage)),this.publicHelper.processService.processStop(i)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiNumberService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectorUserCategorySelect(i){this.dataCoreCpMainMenuModel=i}onActionSelectorUserCategorySelectAdded(i){let t=new Pn;t.linkApiPathId=i.id,t.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceAdd(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.registration_in_this_group_was_successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}onActionSelectorUserCategorySelectRemoved(i){let t=new Pn;t.linkApiPathId=i.id,t.linkApiNumberId=this.dataModel.id,this.smsMainApiPathAndApiNumberService.ServiceDeleteEntity(t).subscribe({next:e=>{e.isSuccess?(this.translate.get("MESSAGE.Deletion_from_this_group_Was_Successful").subscribe(c=>{this.formInfo.formAlert=c}),this.cmsToastrService.typeSuccessEdit()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.cmsToastrService.typeErrorMessage(e.errorMessage))},error:e=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(e)}})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ft),g(an),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-edit"]],viewQuery:function(t,e){if(t&1&&Z(Fr,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:30,vars:23,consts:[["vform","ngForm"],["accessUseStartDate",""],["NumberChar",""],["Priority",""],["DeliveryRelayUrl",""],["SmsRelayUrl",""],["ExpireDate",""],["ActionMemo",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.accessUseStartDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.accessUseStartDate","id","dataModel.accessUseStartDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"optionChange","optionSelectAdded","optionSelectRemoved","optionSelectForce","optionDisabled"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.numberChar",1,"color-highlight"],["matInput","","type","text","name","dataModel.numberChar","placeholder","123","id","dataModel.numberChar",1,"form-control","validate-name","input-ltr",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isPublic",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isPublic","name","dataModel.isPublic",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isPublic",1,"custom-control-label"],["data-trigger-switch","dataModel.saleStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.saleStatus","name","dataModel.saleStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.saleStatus",1,"custom-control-label"],["for","dataModel.priority",1,"color-highlight"],["matInput","","type","number","name","dataModel.priority","placeholder","1","id","dataModel.priority",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["data-trigger-switch","dataModel.deliveryRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.deliveryRelayStatus","name","dataModel.deliveryRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.deliveryRelayStatus",1,"custom-control-label"],["for","dataModel.deliveryRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.deliveryRelayUrl","placeholder","1","id","dataModel.deliveryRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["data-trigger-switch","dataModel.smsRelayStatus",1,"font-600","font-14"],["type","checkbox","id","dataModel.smsRelayStatus","name","dataModel.smsRelayStatus",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.smsRelayStatus",1,"custom-control-label"],["for","dataModel.smsRelayUrl",1,"color-highlight"],["matInput","","type","text","name","dataModel.smsRelayUrl","placeholder","1","id","dataModel.smsRelayUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel","readonly","disabled"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["for","dataModel.actionMemo",1,"color-highlight"],["matInput","","type","text","name","dataModel.actionMemo","placeholder","1","id","dataModel.actionMemo",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",8),_(1,"app-progress-spinner",9),s(2,"div",10)(3,"p",11),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",12,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Br,1,5,"app-cms-enum-record-status-selector",13)(11,Or,7,4,"div",14)(12,Gr,8,2,"div",15)(13,Wr,8,2,"div",15)(14,Hr,7,4,"div",14)(15,jr,8,2,"div",15)(16,qr,5,4,"div",14)(17,Ur,8,2,"div",15)(18,Qr,5,4,"div",14),s(19,"div",16)(20,"label",17),p(21),a(),s(22,"input",18),T("ngModelChange",function(d){return u(c),E(e.dataModel.accessUseStartDate,d)||(e.dataModel.accessUseStartDate=d),f(d)}),a(),_(23,"mat-datepicker-toggle",19)(24,"mat-datepicker",20,1),a(),v(26,zr,7,4,"div",14)(27,Jr,5,3,"div",14),s(28,"app-sms-apipath-selectionlist",21),b("optionChange",function(d){return u(c),f(e.onActionSelectorUserCategorySelect(d))})("optionSelectAdded",function(d){return u(c),f(e.onActionSelectorUserCategorySelectAdded(d))})("optionSelectRemoved",function(d){return u(c),f(e.onActionSelectorUserCategorySelectRemoved(d))}),a(),v(29,Kr,9,7,"div",22),a()()()}if(t&2){let c=R(25);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,21,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.numberChar==null?null:e.fieldsInfo.numberChar.accessWatchField),r(),m("ngIf",e.fieldsInfo.isPublic==null?null:e.fieldsInfo.isPublic.accessWatchField),r(),m("ngIf",e.fieldsInfo.saleStatus==null?null:e.fieldsInfo.saleStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.priority==null?null:e.fieldsInfo.priority.accessWatchField),r(),m("ngIf",e.fieldsInfo.deliveryRelayStatus==null?null:e.fieldsInfo.deliveryRelayStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.deliveryRelayUrl==null?null:e.fieldsInfo.deliveryRelayUrl.accessWatchField),r(),m("ngIf",e.fieldsInfo.smsRelayStatus==null?null:e.fieldsInfo.smsRelayStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.smsRelayUrl==null?null:e.fieldsInfo.smsRelayUrl.accessWatchField),r(3),y(e.fieldsInfo.accessUseStartDate==null?null:e.fieldsInfo.accessUseStartDate.fieldTitle),r(),m("matDatepicker",c),w("ngModel",e.dataModel.accessUseStartDate),r(),m("for",c),r(3),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(),m("ngIf",e.fieldsInfo.actionMemo==null?null:e.fieldsInfo.actionMemo.accessWatchField),r(),m("optionSelectForce",e.dataCoreCpMainMenuIds)("optionDisabled",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,At,Te,J,le,te,de,wt,Et,Tt,Ge,K,ue,j,_o,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Xr=()=>[5,10,20,100];function Yr(n,l){if(n&1){let o=A();s(0,"a",47),b("click",function(){u(o);let t=S();return f(t.onActionBackToParent())}),_(1,"i",48),a()}}function Zr(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",49),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),s(2,"p",22),p(3),C(4,"translate"),a()(),s(5,"p",22),p(6),C(7,"translate"),a()()}n&2&&(r(3),y(M(4,2,"ACTION.ADD")),r(3),y(M(7,4,"ACTION.ADD")))}function $r(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",50),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",51)(3,"br"),a(),s(4,"p",22),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function ea(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",52),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",53)(3,"br"),a(),s(4,"p",22),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function ta(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ia(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function na(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function oa(n,l){if(n&1&&(s(0,"mat-cell",55),C(1,"statusCellClass"),_(2,"i",55),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function ra(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.numberChar==null?null:o.fieldsInfo.numberChar.fieldTitle," ")}}function aa(n,l){if(n&1&&(s(0,"mat-cell",56),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.numberChar," ")}}function sa(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.saleStatus==null?null:o.fieldsInfo.saleStatus.fieldTitle," ")}}function la(n,l){if(n&1&&(s(0,"mat-cell"),_(1,"i",55),C(2,"statusIconClass"),a()),n&2){let o=l.$implicit;r(),m("ngClass",M(2,1,o.saleStatus))}}function da(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.accessUseStartDate==null?null:o.fieldsInfo.accessUseStartDate.fieldTitle," ")}}function ca(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.accessUseStartDate)," ")}}function ma(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.lastUseOfDate==null?null:o.fieldsInfo.lastUseOfDate.fieldTitle," ")}}function pa(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.lastUseOfDate)," ")}}function ua(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function fa(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.createdDate)," ")}}function ha(n,l){if(n&1&&(s(0,"mat-header-cell",54),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Sa(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.updatedDate)," ")}}function ga(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function _a(n,l){if(n&1&&(s(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Ca(n,l){n&1&&_(0,"mat-header-row")}function Ma(n,l){if(n&1){let o=A();s(0,"mat-row",59),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Ln=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){super(i,new Pt,be,d,k),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.cmsConfirmationDialogService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.requestLinkApiPathId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","RecordStatus","NumberChar","accessUseStartDate","lastUseOfDate","SaleStatus","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["Id","RecordStatus","NumberChar","accessUseStartDate","lastUseOfDate","SaleStatus","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let i=new Q;i.propertyName="ApiPathAndApiNumbers",i.propertyAnyName="LinkApiPathId",i.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(i)}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Pt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Q;e.propertyName="ApiPathAndApiNumbers",e.propertyAnyName="LinkApiPathId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}let i=this.requestLinkApiPathId;this.categoryModelSelected&&this.categoryModelSelected.id&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id);var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(go,{height:"90%",width:"60%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&(this.onActionButtonEditRow(c.model),this.DataGetAll())})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.tableRowSelected=i,this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Co,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReceiveList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/inbox/list/ReceiverNumber",this.tableRowSelected.numberChar])}onActionButtonPermissionList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-number-permission/LinkApiNumberId/",this.tableRowSelected.id])}onActionButtonSendList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/outbox/list/SenderNumber",this.tableRowSelected.numberChar])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};l.\u0275fac=function(t){return new(t||l)(g(Ft),g(L),g(yt),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-api-number-list"]],features:[U],decls:84,vars:38,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-receipt","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","NumberChar"],["class"," input-ltr ",4,"matCellDef"],["matColumnDef","SaleStatus"],["matColumnDef","accessUseStartDate"],["matColumnDef","lastUseOfDate"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"input-ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),s(2,"app-sms-apipath-tree",5),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(3,6)(4,7),P(5,8),v(6,Yr,2,0,"a",9),s(7,"a",10),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",11),a(),s(9,"a",10),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(10,"i",12),a(),x(),P(11,13),s(12,"a",14),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),p(14),C(15,"translate"),a(),s(16,"a",14),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),p(18),C(19,"translate"),a(),x(),P(20,16),v(21,Zr,8,6,"div",17),x(),P(22,18),v(23,$r,7,3,"div",17)(24,ea,7,3,"div",17),s(25,"div",19)(26,"a",20),b("click",function(){return u(c),f(e.onActionButtonReceiveList(e.tableRowSelected))}),_(27,"i",21)(28,"br"),a(),s(29,"p",22),p(30),C(31,"translate"),a()(),s(32,"div",19)(33,"a",20),b("click",function(){return u(c),f(e.onActionButtonPermissionList(e.tableRowSelected))}),_(34,"i",21)(35,"br"),a(),s(36,"p",22),p(37),C(38,"translate"),a()(),s(39,"div",19)(40,"a",20),b("click",function(){return u(c),f(e.onActionButtonSendList(e.tableRowSelected))}),_(41,"i",23)(42,"br"),a(),s(43,"p",22),p(44),C(45,"translate"),a()(),x(),P(46,24),s(47,"app-cms-search-list",25),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(48,"app-cms-statist-list",25),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(49,26),s(50,"mat-table",27,0),b("matSortChange",function(){u(c);let d=R(51);return f(e.onTableSortData(d))}),P(52,28),v(53,ta,2,1,"mat-header-cell",29)(54,ia,2,1,"mat-cell",30),x(),P(55,31),v(56,na,2,1,"mat-header-cell",29)(57,oa,4,6,"mat-cell",32),x(),P(58,33),v(59,ra,2,1,"mat-header-cell",29)(60,aa,2,1,"mat-cell",34),x(),P(61,35),v(62,sa,2,1,"mat-header-cell",29)(63,la,3,3,"mat-cell",30),x(),P(64,36),v(65,da,2,1,"mat-header-cell",29)(66,ca,3,3,"mat-cell",30),x(),P(67,37),v(68,ma,2,1,"mat-header-cell",29)(69,pa,3,3,"mat-cell",30),x(),P(70,38),v(71,ua,2,1,"mat-header-cell",29)(72,fa,3,3,"mat-cell",30),x(),P(73,39),v(74,ha,2,1,"mat-header-cell",29)(75,Sa,3,3,"mat-cell",30),x(),P(76,40),v(77,ga,3,3,"mat-header-cell",41)(78,_a,6,1,"mat-cell",42),x(),v(79,Ca,1,0,"mat-header-row",43)(80,Ma,1,6,"mat-row",44),a(),x(),P(81,45),s(82,"mat-paginator",46,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkApiPathId||e.requestLinkApiPathId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.numberChar),r(6),m("ngIf",(e.requestLinkApiPathId==null?null:e.requestLinkApiPathId.length)>0),r(7),m("checked",e.optionsSearch.data.show),r(),I("",M(15,27,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(19,29,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(31,31,"ACTION.RECEIPTS")),r(7),y(M(38,33,"ACTION.Permission")),r(7),y(M(45,35,"ACTION.SUBMISSIONS")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(29),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(37,Xr)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Ai,H,Xt,dt,Mt],encapsulation:2});let n=l;return n})();var Ia=["vform"];function ba(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function va(n,l){n&1&&_(0,"i",32)}function Aa(n,l){n&1&&_(0,"i",33)}function ya(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function wa(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",28),p(2),a(),s(3,"input",29,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,va,1,0,"i",30)(6,Aa,1,0,"i",31),s(7,"em"),p(8),a(),v(9,ya,5,3,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Ea(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",36),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",39),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.checkCredit,t)||(e.dataModel.checkCredit=t),f(t)}),a(),_(7,"label",40),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.checkCredit==null?null:o.fieldsInfo.checkCredit.fieldTitle,""),r(3),w("ngModel",o.dataModel.checkCredit)}}function Ta(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",41),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",42),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.calculateCredit,t)||(e.dataModel.calculateCredit=t),f(t)}),a(),_(7,"label",43),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.calculateCredit==null?null:o.fieldsInfo.calculateCredit.fieldTitle,""),r(3),w("ngModel",o.dataModel.calculateCredit)}}function Pa(n,l){n&1&&_(0,"i",32)}function xa(n,l){n&1&&_(0,"i",33)}function Ra(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.serviceAvailableCredit==null?null:o.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Da(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",44),p(2),a(),s(3,"input",45,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.serviceAvailableCredit,t)||(e.dataModel.serviceAvailableCredit=t),f(t)}),a(),v(5,Pa,1,0,"i",30)(6,xa,1,0,"i",31)(7,Ra,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),r(),w("ngModel",i.dataModel.serviceAvailableCredit),m("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function ka(n,l){n&1&&_(0,"i",32)}function Va(n,l){n&1&&_(0,"i",33)}function La(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.serviceSumCredit==null?null:o.fieldsInfo.serviceSumCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Na(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",46),p(2),a(),s(3,"input",47,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.serviceSumCredit,t)||(e.dataModel.serviceSumCredit=t),f(t)}),a(),v(5,ka,1,0,"i",30)(6,Va,1,0,"i",31)(7,La,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),r(),w("ngModel",i.dataModel.serviceSumCredit),m("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Fa(n,l){n&1&&_(0,"i",32)}function Ba(n,l){n&1&&_(0,"i",33)}function Oa(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.userAvailableCredit==null?null:o.fieldsInfo.userAvailableCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function Ga(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",48),p(2),a(),s(3,"input",49,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userAvailableCredit,t)||(e.dataModel.userAvailableCredit=t),f(t)}),a(),v(5,Fa,1,0,"i",30)(6,Ba,1,0,"i",31)(7,Oa,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),r(),w("ngModel",i.dataModel.userAvailableCredit),m("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Wa(n,l){n&1&&_(0,"i",32)}function Ha(n,l){n&1&&_(0,"i",33)}function ja(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.userSumCredit==null?null:o.fieldsInfo.userSumCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function qa(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",50),p(2),a(),s(3,"input",51,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userSumCredit,t)||(e.dataModel.userSumCredit=t),f(t)}),a(),v(5,Wa,1,0,"i",30)(6,Ha,1,0,"i",31)(7,ja,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),r(),w("ngModel",i.dataModel.userSumCredit),m("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessAddField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Ua(n,l){n&1&&(s(0,"mat-error"),p(1," Description is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Qa(n,l){if(n&1&&(_(0,"img",52),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function za(n,l){if(n&1){let o=A();s(0,"div",53)(1,"button",54),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",55),p(3),C(4,"translate"),a(),s(5,"button",56),_(6,"i",57),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(10);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var bn=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new Lt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainApiPathCompanyService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new Lt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Nt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathcompany-add"]],viewQuery:function(t,e){if(t&1&&Z(Ia,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:40,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","currencyMask","","name","dataModel.serviceAvailableCredit","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",8),_(1,"app-progress-spinner",9),s(2,"div",10)(3,"p",11),p(4),a(),s(5,"h4"),p(6,"\u06A9\u0645\u067E\u0627\u0646\u06CC \u0647\u0627\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(7,"p"),p(8," \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0645\u0648\u0631\u062F \u0646\u06CC\u0627\u0632 \u0628\u0631\u0627\u06CC \u0645\u0634\u062E\u0635\u0627\u062A \u06A9\u0645\u067E\u0627\u0646\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F "),a(),s(9,"form",12,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(11,ba,1,5,"app-cms-enum-record-status-selector",13)(12,wa,10,7,"div",14)(13,Ea,8,2,"div",15)(14,Ta,8,2,"div",15)(15,Da,8,6,"div",14)(16,Na,8,6,"div",14)(17,Ga,8,6,"div",14)(18,qa,8,6,"div",14),s(19,"div",16)(20,"label",17),p(21),a(),s(22,"textarea",18,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.description,d)||(e.dataModel.description=d),f(d)}),a(),s(24,"em"),p(25),a(),v(26,Ua,5,3,"mat-error",19),a(),s(27,"div",20)(28,"a",21),C(29,"cmsthumbnail"),v(30,Qa,2,3,"img",22),a()(),s(31,"div",16)(32,"label",23),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(33),C(34,"translate"),a(),s(35,"input",24,2),C(37,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(38,"cms-file-manager",25),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(39,za,9,7,"div",26),a()()()}if(t&2){let c=R(23);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(7),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.accessWatchField),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),I("",c.value.length," / 500"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(2),G("href",M(29,29,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(34,31,"TITLE.Icon_File")),r(2),G("placeholder",M(37,33,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,At,Te,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,Ot,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Ja=["vform"];function Ka(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xa(n,l){n&1&&_(0,"i",32)}function Ya(n,l){n&1&&_(0,"i",33)}function Za(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function $a(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",28),p(2),a(),s(3,"input",29,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,Xa,1,0,"i",30)(6,Ya,1,0,"i",31),s(7,"em"),p(8),a(),v(9,Za,5,3,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function es(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",36),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",39),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.checkCredit,t)||(e.dataModel.checkCredit=t),f(t)}),a(),_(7,"label",40),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.checkCredit==null?null:o.fieldsInfo.checkCredit.fieldTitle,""),r(3),w("ngModel",o.dataModel.checkCredit)}}function ts(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",41),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",42),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.calculateCredit,t)||(e.dataModel.calculateCredit=t),f(t)}),a(),_(7,"label",43),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.calculateCredit==null?null:o.fieldsInfo.calculateCredit.fieldTitle,""),r(3),w("ngModel",o.dataModel.calculateCredit)}}function is(n,l){n&1&&_(0,"i",32)}function ns(n,l){n&1&&_(0,"i",33)}function os(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.serviceAvailableCredit==null?null:o.fieldsInfo.serviceAvailableCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function rs(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",44),p(2),a(),s(3,"input",45,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.serviceAvailableCredit,t)||(e.dataModel.serviceAvailableCredit=t),f(t)}),a(),v(5,is,1,0,"i",30)(6,ns,1,0,"i",31)(7,os,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.serviceAvailableCredit==null?null:i.fieldsInfo.serviceAvailableCredit.fieldTitle),r(),w("ngModel",i.dataModel.serviceAvailableCredit),m("disabled",!(i.fieldsInfo.serviceAvailableCredit!=null&&i.fieldsInfo.serviceAvailableCredit.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function as(n,l){n&1&&_(0,"i",32)}function ss(n,l){n&1&&_(0,"i",33)}function ls(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.serviceSumCredit==null?null:o.fieldsInfo.serviceSumCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function ds(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",46),p(2),a(),s(3,"input",47,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.serviceSumCredit,t)||(e.dataModel.serviceSumCredit=t),f(t)}),a(),v(5,as,1,0,"i",30)(6,ss,1,0,"i",31)(7,ls,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.serviceSumCredit==null?null:i.fieldsInfo.serviceSumCredit.fieldTitle),r(),w("ngModel",i.dataModel.serviceSumCredit),m("disabled",!(i.fieldsInfo.serviceSumCredit!=null&&i.fieldsInfo.serviceSumCredit.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function cs(n,l){n&1&&_(0,"i",32)}function ms(n,l){n&1&&_(0,"i",33)}function ps(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.userAvailableCredit==null?null:o.fieldsInfo.userAvailableCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function us(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",48),p(2),a(),s(3,"input",49,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userAvailableCredit,t)||(e.dataModel.userAvailableCredit=t),f(t)}),a(),v(5,cs,1,0,"i",30)(6,ms,1,0,"i",31)(7,ps,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.userAvailableCredit==null?null:i.fieldsInfo.userAvailableCredit.fieldTitle),r(),w("ngModel",i.dataModel.userAvailableCredit),m("disabled",!(i.fieldsInfo.userAvailableCredit!=null&&i.fieldsInfo.userAvailableCredit.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function fs(n,l){n&1&&_(0,"i",32)}function hs(n,l){n&1&&_(0,"i",33)}function Ss(n,l){if(n&1&&(s(0,"mat-error"),p(1),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2){let o=S(2);r(),I(" ",o.fieldsInfo.userSumCredit==null?null:o.fieldsInfo.userSumCredit.fieldTitle," is "),r(2),y(M(4,2,"MESSAGE.required"))}}function gs(n,l){if(n&1){let o=A();s(0,"div",16)(1,"label",50),p(2),a(),s(3,"input",51,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userSumCredit,t)||(e.dataModel.userSumCredit=t),f(t)}),a(),v(5,fs,1,0,"i",30)(6,hs,1,0,"i",31)(7,Ss,5,4,"mat-error",19),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.userSumCredit==null?null:i.fieldsInfo.userSumCredit.fieldTitle),r(),w("ngModel",i.dataModel.userSumCredit),m("disabled",!(i.fieldsInfo.userSumCredit!=null&&i.fieldsInfo.userSumCredit.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function _s(n,l){n&1&&(s(0,"mat-error"),p(1," Description is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Cs(n,l){if(n&1&&(_(0,"img",52),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function Ms(n,l){if(n&1){let o=A();s(0,"div",53)(1,"button",54),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",55),p(3),C(4,"translate"),a(),s(5,"button",56),_(6,"i",57),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(10);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var vn=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new Lt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainApiPathCompanyService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new Lt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent()}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.setAccessLoad(),this.smsMainApiPathCompanyService.setAccessDataType(Fe.Editor),this.smsMainApiPathCompanyService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathCompanyService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Nt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathcompany-edit"]],viewQuery:function(t,e){if(t&1&&Z(Ja,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:40,vars:35,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],["ServiceAvailableCredit",""],["ServiceSumCredit",""],["UserAvailableCredit",""],["UserSumCredit",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.checkCredit",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.checkCredit","name","dataModel.checkCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.checkCredit",1,"custom-control-label"],["data-trigger-switch","dataModel.calculateCredit",1,"font-600","font-14"],["type","checkbox","id","dataModel.calculateCredit","name","dataModel.calculateCredit",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.calculateCredit",1,"custom-control-label"],["for","dataModel.serviceAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.serviceSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.serviceSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.serviceSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAvailableCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userAvailableCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userAvailableCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userSumCredit",1,"color-highlight"],["matInput","","type","text","name","dataModel.userSumCredit","currencyMask","","type","number","placeholder","0","required","","id","dataModel.userSumCredit",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",8),_(1,"app-progress-spinner",9),s(2,"div",10)(3,"p",11),p(4),a(),s(5,"h4"),p(6,"\u06A9\u0645\u067E\u0627\u0646\u06CC \u0647\u0627\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(7,"p"),p(8," \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u0645\u0648\u0631\u062F \u0646\u06CC\u0627\u0632 \u0628\u0631\u0627\u06CC \u0645\u0634\u062E\u0635\u0627\u062A \u06A9\u0645\u067E\u0627\u0646\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F "),a(),s(9,"form",12,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(11,Ka,1,5,"app-cms-enum-record-status-selector",13)(12,$a,10,7,"div",14)(13,es,8,2,"div",15)(14,ts,8,2,"div",15)(15,rs,8,6,"div",14)(16,ds,8,6,"div",14)(17,us,8,6,"div",14)(18,gs,8,6,"div",14),s(19,"div",16)(20,"label",17),p(21),a(),s(22,"textarea",18,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.description,d)||(e.dataModel.description=d),f(d)}),a(),s(24,"em"),p(25),a(),v(26,_s,5,3,"mat-error",19),a(),s(27,"div",20)(28,"a",21),C(29,"cmsthumbnail"),v(30,Cs,2,3,"img",22),a()(),s(31,"div",16)(32,"label",23),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(33),C(34,"translate"),a(),s(35,"input",24,2),C(37,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(38,"cms-file-manager",25),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(39,Ms,9,7,"div",26),a()()()}if(t&2){let c=R(23);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(7),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("ngIf",e.fieldsInfo.checkCredit==null?null:e.fieldsInfo.checkCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.calculateCredit==null?null:e.fieldsInfo.calculateCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.serviceAvailableCredit==null?null:e.fieldsInfo.serviceAvailableCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.serviceSumCredit==null?null:e.fieldsInfo.serviceSumCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.userAvailableCredit==null?null:e.fieldsInfo.userAvailableCredit.accessWatchField),r(),m("ngIf",e.fieldsInfo.userSumCredit==null?null:e.fieldsInfo.userSumCredit.accessWatchField),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),I("",c.value.length," / 500"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(2),G("href",M(29,29,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(34,31,"TITLE.Icon_File")),r(2),G("placeholder",M(37,33,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,At,Te,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,Ot,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Is=()=>[5,10,20,100];function bs(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",39),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",40)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function vs(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",41),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function As(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",43),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function ys(n,l){n&1&&(s(0,"mat-header-cell",45),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.PICTURE")," "))}function ws(n,l){if(n&1&&_(0,"img",47),n&2){let o=S().$implicit;G("src",o.linkMainImageIdSrc,Me)}}function Es(n,l){if(n&1&&(s(0,"mat-cell"),v(1,ws,1,1,"img",46),a()),n&2){let o=l.$implicit;r(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function Ts(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ps(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function xs(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Rs(n,l){if(n&1&&(s(0,"mat-cell",48),C(1,"statusCellClass"),_(2,"i",48),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function Ds(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function ks(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function Vs(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function Ls(n,l){if(n&1&&(s(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Ns(n,l){n&1&&_(0,"mat-header-row")}function Fs(n,l){if(n&1){let o=A();s(0,"mat-row",51),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Mo=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be){super(i,new Lt,Ie,h,D),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.router=c,this.tokenHelper=h,this.cdr=d,this.translate=D,this.pageInfo=k,this.publicHelper=Ie,this.dialog=be,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:St=>this.onSubmitOptionsSearch(St)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Lt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonApiList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkCompanyId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(g(Nt),g(L),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathcompany-list"]],features:[U],decls:57,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),p(2," -------------------------------------- "),x(),Ee(3,5)(4,6),P(5,7),s(6,"a",8),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),s(8,"a",8),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(9,"i",10),a(),x(),P(10,11),s(11,"a",12),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),p(13),C(14,"translate"),a(),s(15,"a",12),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),p(17),C(18,"translate"),a(),x(),P(19,14),v(20,bs,7,3,"div",15),x(),P(21,16),v(22,vs,7,3,"div",15)(23,As,7,3,"div",15),s(24,"div",17)(25,"a",18),b("click",function(){return u(c),f(e.onActionButtonApiList(e.tableRowSelected))}),_(26,"i",19)(27,"br"),a(),s(28,"p",20),p(29),C(30,"translate"),a()(),x(),P(31,21),s(32,"app-cms-search-list",22),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(33,"app-cms-statist-list",22),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(34,23),s(35,"mat-table",24,0),b("matSortChange",function(){u(c);let d=R(36);return f(e.onTableSortData(d))}),P(37,25),v(38,ys,3,3,"mat-header-cell",26)(39,Es,2,1,"mat-cell",27),x(),P(40,28),v(41,Ts,2,1,"mat-header-cell",26)(42,Ps,2,1,"mat-cell",27),x(),P(43,29),v(44,xs,2,1,"mat-header-cell",26)(45,Rs,4,6,"mat-cell",30),x(),P(46,31),v(47,Ds,2,1,"mat-header-cell",26)(48,ks,2,1,"mat-cell",27),x(),P(49,32),v(50,Vs,3,3,"mat-header-cell",33)(51,Ls,6,1,"mat-cell",34),x(),v(52,Ns,1,0,"mat-header-row",35)(53,Fs,1,6,"mat-row",36),a(),x(),P(54,37),s(55,"mat-paginator",38,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),m("checked",e.optionsSearch.data.show),r(),I("",M(14,24,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(18,26,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(30,28,"ACTION.ROUTES")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(17),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(30,Is)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,H,dt,Mt],encapsulation:2});let n=l;return n})();var Bs=["*"];function Os(n,l){if(n&1&&(s(0,"label",9),p(1),a()),n&2){let o=S();Vt("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function Gs(n,l){if(n&1&&(s(0,"mat-option",10)(1,"span"),p(2),a()()),n&2){let o=l.$implicit,i=S();m("value",o)("disabled",i.optionDisabled),r(2),y(i.displayOption(o))}}function Ws(n,l){if(n&1){let o=A();s(0,"mat-icon",11),b("click",function(){u(o);let t=S();return f(t.onActionSelectClear())}),p(1,"close"),a()}}var Zt=(()=>{let l=class l{constructor(i,t,e,c,h,d){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=c,this.translate=h,this.categoryService=d,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new O,this.dataModelSelect=new Ut,this.formControl=new zt,this.optionDisabled=!1,this.optionSelectFirstItem=!1,this.optionSelectForSendMessage=!1,this.optionPlaceholder="",this.optionLabel="",this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(di(""),si(1500),li(),ci(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return oi(this,null,function*(){let t=new Y;t.rowPerPage=20,t.accessLoad=!0;let e=new Q;return e.propertyName="Title",e.value=i,e.searchType=It.Contains,e.clauseType=qt.Or,t.filters.push(e),i&&typeof+i=="number"&&+i>0&&(e=new Q,e.propertyName="Id",e.value=i,e.searchType=It.Equal,e.clauseType=qt.Or,t.filters.push(e)),this.optionSelectForSendMessage&&(e=new Q,e.propertyName="RecordStatus",e.value=Ne.Available,e.searchType=It.Equal,t.filters.push(e)),this.publicHelper.processService.processStart("DataGetAll"),t.sortColumn="priority",t.sortType=X.Ascending,yield ri(this.categoryService.ServiceGetAll(t)).then(c=>(this.dataModelResult=c,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length<=0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop("DataGetAll"),c.listItems))})}onActionSelect(i){this.optionDisabled||(this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect))}onActionSelectClear(){this.optionDisabled||(this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null))}push(i){return this.filteredOptions.pipe(ai(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Ut){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Ut}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(g(he),g(L),g(F),g(N),g(B),g(xt))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipath-selector"]],inputs:{optionDisabled:"optionDisabled",optionSelectFirstItem:"optionSelectFirstItem",optionSelectForSendMessage:"optionSelectForSendMessage",optionPlaceholder:"optionPlaceholder",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:Bs,decls:11,vars:13,consts:[["matauto","matAutocomplete"],[1,"ntk-full-width"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let c=A();mi(),s(0,"div",1)(1,"div",2),_(2,"app-progress-spinner",3),v(3,Os,2,3,"label",4),_(4,"input",5),s(5,"mat-autocomplete",6,0),b("optionSelected",function(d){return u(c),f(e.onActionSelect(d.option.value))}),v(7,Gs,3,3,"mat-option",7),C(8,"async"),a(),v(9,Ws,2,0,"mat-icon",8),pi(10),a()()}if(t&2){let c=R(6);r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),G("placeholder",e.optionPlaceholder),Vt("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),kt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(8,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Ve,W,z,J,fi,bi,ui,vi,Ge,Se,K,j,Qt],encapsulation:2});let n=l;return n})();var Hs=["vform"];function js(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",25),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qs(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",28),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",31),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.hasInherits,t)||(e.dataModel.hasInherits=t),f(t)}),a(),_(7,"label",32),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.hasInherits==null?null:o.fieldsInfo.hasInherits.fieldTitle,""),r(3),w("ngModel",o.dataModel.hasInherits)}}function Us(n,l){if(n&1&&(s(0,"option",33),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function Qs(n,l){n&1&&(s(0,"mat-error"),p(1," AccessStatus is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function zs(n,l){if(n&1&&(s(0,"option",33),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function Js(n,l){n&1&&(s(0,"mat-error"),p(1," Action is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Ks(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",34),p(2),C(3,"translate"),a(),s(4,"input",35),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.expireDate,t)||(e.dataModel.expireDate=t),f(t)}),a(),_(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,4),a()}if(n&2){let o=R(7),i=S();r(2),y(M(3,4,"TITLE.Expire_Date")),r(2),w("ngModel",i.dataModel.expireDate),m("matDatepicker",o),r(),m("for",o)}}function Xs(n,l){if(n&1){let o=A();s(0,"div",36)(1,"button",37),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",38),p(3),C(4,"translate"),a(),s(5,"button",39),_(6,"i",40),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Io=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new $t,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiPathPermissionService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new $t,this.formInfo=new oe,this.dataModelEnumApiPathPermissionAccessStatusResult=new O,this.dataModelEnumApiPathPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionAccessStatusResult=i})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionActionResult=i})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiPathId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ci),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpermission-add"]],viewQuery:function(t,e){if(t&1&&Z(Hs,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,js,1,5,"app-cms-enum-record-status-selector",10),s(11,"app-cms-user-selector",11),C(12,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(13,"app-cms-site-selector",11),C(14,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(15,"app-cms-usergroup-selector",11),C(16,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(17,"app-cms-sitecategory-selector",11),C(18,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),s(19,"app-sms-apipath-selector",12),C(20,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiPathId(d))}),a(),v(21,qs,8,2,"div",13),s(22,"div",14)(23,"select",15,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.accessStatus,d)||(e.dataModel.accessStatus=d),f(d)}),v(25,Us,2,2,"option",16),a(),s(26,"em"),p(27),C(28,"translate"),a(),v(29,Qs,5,3,"mat-error",17),a(),s(30,"div",14)(31,"select",18,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.action,d)||(e.dataModel.action=d),f(d)}),v(33,zs,2,2,"option",16),a(),s(34,"em"),p(35),C(36,"translate"),a(),v(37,Js,5,3,"mat-error",17),a(),s(38,"div",14)(39,"label",19),p(40),a(),s(41,"input",20),T("ngModelChange",function(d){return u(c),E(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),f(d)}),a(),_(42,"mat-datepicker-toggle",21)(43,"mat-datepicker",22,3),a(),v(45,Ks,8,6,"div",23)(46,Xs,9,7,"div",24),a()()()}if(t&2){let c=R(24),h=R(32),d=R(44);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(12,35,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(14,37,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(16,39,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(18,41,"TITLE.Site_Type")),r(2),m("optionSelectForce",e.dataModel.linkApiPathId)("optionPlaceholder",M(20,43,"TITLE.Direction")),r(2),m("ngIf",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.accessWatchField),r(2),w("ngModel",e.dataModel.accessStatus),r(2),m("ngForOf",e.dataModelEnumApiPathPermissionAccessStatusResult.listItems),r(2),I("",M(28,45,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",c.errors==null?null:c.errors.required),r(2),w("ngModel",e.dataModel.action),r(2),m("ngForOf",e.dataModelEnumApiPathPermissionActionResult.listItems),r(2),I("",M(36,47,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(3),y(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),w("ngModel",e.dataModel.fromDate),m("matDatepicker",d),r(),m("for",d),r(3),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,Si,gi,z,Te,hi,J,le,_e,te,de,wt,Et,Tt,Ce,Ge,K,Wt,ue,Gt,jt,Ht,j,Zt,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Ys=["vform"];function Zs(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",25),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function $s(n,l){if(n&1){let o=A();s(0,"div",26)(1,"div",27)(2,"h5",28),p(3),a()(),s(4,"div",29)(5,"div",30)(6,"input",31),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.hasInherits,t)||(e.dataModel.hasInherits=t),f(t)}),a(),_(7,"label",32),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.hasInherits==null?null:o.fieldsInfo.hasInherits.fieldTitle,""),r(3),w("ngModel",o.dataModel.hasInherits)}}function el(n,l){if(n&1&&(s(0,"option",33),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function tl(n,l){n&1&&(s(0,"mat-error"),p(1," AccessStatus is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function il(n,l){if(n&1&&(s(0,"option",33),p(1),a()),n&2){let o=l.$implicit;m("ngValue",o.value),r(),I(" ",o.description," ")}}function nl(n,l){n&1&&(s(0,"mat-error"),p(1," Action is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function ol(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",34),p(2),C(3,"translate"),a(),s(4,"input",35),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.expireDate,t)||(e.dataModel.expireDate=t),f(t)}),a(),_(5,"mat-datepicker-toggle",21)(6,"mat-datepicker",22,4),a()}if(n&2){let o=R(7),i=S();r(2),y(M(3,4,"TITLE.Expire_Date")),r(2),w("ngModel",i.dataModel.expireDate),m("matDatepicker",o),r(),m("for",o)}}function rl(n,l){if(n&1){let o=A();s(0,"div",36)(1,"button",37),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",38),p(3),C(4,"translate"),a(),s(5,"button",39),_(6,"i",40),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var bo=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new $t,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiPathPermissionService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new $t,this.formInfo=new oe,this.dataModelEnumApiPathPermissionAccessStatusResult=new O,this.dataModelEnumApiPathPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionAccessStatusResult=i})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionActionResult=i})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.setAccessLoad(),this.smsMainApiPathPermissionService.setAccessDataType(Fe.Editor),this.smsMainApiPathPermissionService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPermissionService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiPathId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ci),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpermission-edit"]],viewQuery:function(t,e){if(t&1&&Z(Ys,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:47,vars:49,consts:[["vform","ngForm"],["AccessStatus","ngModel"],["Action","ngModel"],["FromDate",""],["ExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["id","dataModel.accessStatus","name","dataModel.accessStatus","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.action","name","dataModel.action","required","",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.fromDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromDate","id","dataModel.fromDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],["matSuffix","",3,"for"],["touchUi",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.hasInherits",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.hasInherits","name","dataModel.hasInherits",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.hasInherits",1,"custom-control-label"],[3,"ngValue"],["for","dataModel.expireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDate","id","dataModel.expireDate",1,"form-control","validate-name",3,"ngModelChange","ngModel","matDatepicker"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Zs,1,5,"app-cms-enum-record-status-selector",10),s(11,"app-cms-user-selector",11),C(12,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(13,"app-cms-site-selector",11),C(14,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(15,"app-cms-usergroup-selector",11),C(16,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(17,"app-cms-sitecategory-selector",11),C(18,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),s(19,"app-sms-apipath-selector",12),C(20,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiPathId(d))}),a(),v(21,$s,8,2,"div",13),s(22,"div",14)(23,"select",15,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.accessStatus,d)||(e.dataModel.accessStatus=d),f(d)}),v(25,el,2,2,"option",16),a(),s(26,"em"),p(27),C(28,"translate"),a(),v(29,tl,5,3,"mat-error",17),a(),s(30,"div",14)(31,"select",18,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.action,d)||(e.dataModel.action=d),f(d)}),v(33,il,2,2,"option",16),a(),s(34,"em"),p(35),C(36,"translate"),a(),v(37,nl,5,3,"mat-error",17),a(),s(38,"div",14)(39,"label",19),p(40),a(),s(41,"input",20),T("ngModelChange",function(d){return u(c),E(e.dataModel.fromDate,d)||(e.dataModel.fromDate=d),f(d)}),a(),_(42,"mat-datepicker-toggle",21)(43,"mat-datepicker",22,3),a(),v(45,ol,8,6,"div",23)(46,rl,9,7,"div",24),a()()()}if(t&2){let c=R(24),h=R(32),d=R(44);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(12,35,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(14,37,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(16,39,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(18,41,"TITLE.Site_Type")),r(2),m("optionSelectForce",e.dataModel.linkApiPathId)("optionPlaceholder",M(20,43,"TITLE.Direction")),r(2),m("ngIf",e.fieldsInfo.hasInherits==null?null:e.fieldsInfo.hasInherits.accessWatchField),r(2),w("ngModel",e.dataModel.accessStatus),r(2),m("ngForOf",e.dataModelEnumApiPathPermissionAccessStatusResult.listItems),r(2),I("",M(28,45,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",c.errors==null?null:c.errors.required),r(2),w("ngModel",e.dataModel.action),r(2),m("ngForOf",e.dataModelEnumApiPathPermissionActionResult.listItems),r(2),I("",M(36,47,"TITLE.Select_type_of_content")," "),r(2),m("ngIf",h.errors==null?null:h.errors.required),r(3),y(e.fieldsInfo.fromDate==null?null:e.fieldsInfo.fromDate.fieldTitle),r(),w("ngModel",e.dataModel.fromDate),m("matDatepicker",d),r(),m("for",d),r(3),m("ngIf",e.fieldsInfo.expireDate==null?null:e.fieldsInfo.expireDate.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,Si,gi,z,Te,hi,J,le,_e,te,de,wt,Et,Tt,Ce,Ge,K,Wt,ue,Gt,jt,Ht,j,Zt,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var An=(()=>{let l=class l{constructor(i,t,e,c,h,d,D){this.headerService=i,this.publicHelper=t,this.cdr=e,this.cmsToastrService=c,this.dialog=h,this.translate=d,this.tokenHelper=D,this.constructorInfoAreaId=this.constructor.name,this.optionId="",this.dataModelResult=new O,this.fieldsInfo=new Map,this.publicHelper.processService.cdr=this.cdr}ngOnInit(){this.optionId?.length>0&&this.DataGetOneContent(),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.DataGetOneContent()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.headerService.setAccessLoad(),this.headerService.ServiceGetOneById(this.optionId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),t.isSuccess?this.dataModelResult=t:this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}};l.\u0275fac=function(t){return new(t||l)(g(xt),g(N),g(F),g(L),g(we),g(B),g(Ae))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipath-header"]],inputs:{optionId:"optionId"},decls:31,vars:9,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content"],[1,"table"],[1,"tr"],[1,"td","small-width"],[1,"svg-icon","svg-icon-3x","svg-icon-primary",3,"inlineSVG"],[1,"td","large-width",2,"color","darkblue"],[1,"td",2,"text-align","left"],[1,"td","large-width"],[1,"td"],[2,"clear","both"],[1,"divider","divider-margins"]],template:function(t,e){t&1&&(s(0,"div",0),_(1,"app-progress-spinner",1),s(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_(6,"span",6),a(),s(7,"div",7)(8,"h5")(9,"b"),p(10),C(11,"translate"),a()()(),_(12,"div",8),a(),s(13,"div",4)(14,"div",5)(15,"b"),p(16),a(),p(17,": "),a(),s(18,"div",9),p(19),a(),_(20,"div",10)(21,"div",11),a(),s(22,"div",4)(23,"div",5)(24,"b"),p(25),a(),p(26,": "),a(),s(27,"div",9),p(28),a(),_(29,"div",11),a()()()(),_(30,"div",12)),t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(5),m("inlineSVG","./assets/media/svg/icons/Communication/Flag.svg"),r(4),I(" ",M(11,7,"TITLE.Selected_Route")," "),r(6),I("",e.fieldsInfo.id==null?null:e.fieldsInfo.id.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.id),r(6),I("",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle," "),r(3),y(e.dataModelResult==null||e.dataModelResult.item==null?null:e.dataModelResult.item.title))},dependencies:[j,sn,H],styles:[".table[_ngcontent-%COMP%]{display:table;border:1px solid #40A1F5;padding:2px;background:#fff;border-radius:5px}.table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{display:table-row;background-color:#40a1f577;color:#fff;font-weight:700}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:table-row;border-bottom:1px solid #000}.table[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{display:table-cell;padding:15px;border-bottom:1px solid #40A1F5;color:#3d7c7a}.table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]:last-child   .td[_ngcontent-%COMP%]{border:0}.small-width[_ngcontent-%COMP%]{width:90px}.large-width[_ngcontent-%COMP%]{width:400px}.clear[_ngcontent-%COMP%]{clear:both}"]});let n=l;return n})();var al=()=>[5,10,20,100];function sl(n,l){if(n&1&&_(0,"app-sms-apipath-header",41),n&2){let o=S();m("optionId",o.requestLinkApiPathId)}}function ll(n,l){if(n&1){let o=A();s(0,"a",42),b("click",function(){u(o);let t=S();return f(t.onActionBackToParent())}),_(1,"i",43),a()}}function dl(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",44),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",45)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function cl(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",46),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",47)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function ml(n,l){if(n&1){let o=A();s(0,"div",20)(1,"a",48),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",49)(3,"br"),a(),s(4,"p",23),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function pl(n,l){if(n&1&&(s(0,"mat-header-cell",50),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ul(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function fl(n,l){if(n&1&&(s(0,"mat-header-cell",50),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function hl(n,l){if(n&1&&(s(0,"mat-cell",51),C(1,"statusCellClass"),_(2,"i",51),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function Sl(n,l){if(n&1&&(s(0,"mat-header-cell",50),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.linkApiPathId==null?null:o.fieldsInfo.linkApiPathId.fieldTitle," ")}}function gl(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.linkApiPathId," ")}}function _l(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function Cl(n,l){if(n&1&&(s(0,"mat-cell",52)(1,"button",53)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Ml(n,l){n&1&&_(0,"mat-header-row")}function Il(n,l){if(n&1){let o=A();s(0,"mat-row",54),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Nn=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){super(i,new $t,be,d,k),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.cmsConfirmationDialogService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.requestLinkApiPathId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","linkApiPathId"],this.tabledisplayedColumnsMobileSource=["RecordStatus","linkApiPathId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){if(this.filteModelContent.sortColumn="Title",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let i=new Q;i.propertyName="LinkApiPathId",i.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(i)}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new $t);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess&&(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Io,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(bo,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonApiList(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPermissionId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};l.\u0275fac=function(t){return new(t||l)(g(Ci),g(L),g(yt),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpermission-list"]],features:[U],decls:56,vars:33,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","linkApiPathId"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();v(0,sl,1,1,"app-sms-apipath-header",3),s(1,"app-cms-html-list",4),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(2,5),s(3,"app-sms-apipath-tree",6),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(4,7)(5,8),P(6,9),v(7,ll,2,0,"a",10),s(8,"a",11),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(9,"i",12),a(),s(10,"a",11),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(11,"i",13),a(),x(),P(12,14),s(13,"a",15),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(14,"mat-slide-toggle",16),p(15),C(16,"translate"),a(),s(17,"a",15),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(18,"mat-slide-toggle",16),p(19),C(20,"translate"),a(),x(),P(21,17),v(22,dl,7,3,"div",18),x(),P(23,19),v(24,cl,7,3,"div",18)(25,ml,7,3,"div",18),s(26,"div",20)(27,"a",21),b("click",function(){return u(c),f(e.onActionButtonApiList(e.tableRowSelected))}),_(28,"i",22)(29,"br"),a(),s(30,"p",23),p(31),C(32,"translate"),a()(),x(),P(33,24),s(34,"app-cms-search-list",25),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(35,"app-cms-statist-list",25),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(36,26),s(37,"mat-table",27,0),b("matSortChange",function(){u(c);let d=R(38);return f(e.onTableSortData(d))}),P(39,28),v(40,pl,2,1,"mat-header-cell",29)(41,ul,2,1,"mat-cell",30),x(),P(42,31),v(43,fl,2,1,"mat-header-cell",29)(44,hl,4,6,"mat-cell",32),x(),P(45,33),v(46,Sl,2,1,"mat-header-cell",29)(47,gl,2,1,"mat-cell",30),x(),P(48,34),v(49,_l,3,3,"mat-header-cell",35)(50,Cl,6,1,"mat-cell",36),x(),v(51,Ml,1,0,"mat-header-row",37)(52,Il,1,6,"mat-row",38),a(),x(),P(53,39),s(54,"mat-paginator",40,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("ngIf",(e.requestLinkApiPathId==null?null:e.requestLinkApiPathId.length)>0),r(),m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkApiPathId||e.requestLinkApiPathId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(6),m("ngIf",(e.requestLinkApiPathId==null?null:e.requestLinkApiPathId.length)>0),r(7),m("checked",e.optionsSearch.data.show),r(),I("",M(16,26,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(20,28,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(32,30,"ACTION.ROUTES")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(14),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(32,al)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Ai,An,H,dt,Mt],encapsulation:2});let n=l;return n})();var wl=["vform"];function El(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",32),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Tl(n,l){n&1&&_(0,"i",33)}function Pl(n,l){n&1&&_(0,"i",34)}function xl(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Rl(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",35),p(2),a(),s(3,"input",36,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.servicePricePerPage,t)||(e.dataModel.servicePricePerPage=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.servicePricePerPage==null?null:o.fieldsInfo.servicePricePerPage.fieldTitle),r(),w("ngModel",o.dataModel.servicePricePerPage),m("disabled",!(o.fieldsInfo.servicePricePerPage!=null&&o.fieldsInfo.servicePricePerPage.accessAddField))}}function Dl(n,l){if(n&1){let o=A();s(0,"div",14)(1,"label",37),p(2),a(),s(3,"input",38,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.endUserPricePerPage,t)||(e.dataModel.endUserPricePerPage=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.endUserPricePerPage==null?null:o.fieldsInfo.endUserPricePerPage.fieldTitle),r(),w("ngModel",o.dataModel.endUserPricePerPage),m("disabled",!(o.fieldsInfo.endUserPricePerPage!=null&&o.fieldsInfo.endUserPricePerPage.accessAddField))}}function kl(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagRegulatorNumberList(t))}),s(1,"div",40),p(2),a(),s(3,"button",41)(4,"mat-icon"),p(5,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(2),y(o)}}function Vl(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o," ")}}function Ll(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagServicePagination(t))}),p(1),s(2,"button",41)(3,"mat-icon"),p(4,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(),I(" ",o," ")}}function Nl(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit,i=l.index;r(),Bi(" ",i+1," - ",o," ")}}function Fl(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagEndUserPagination(t))}),p(1),s(2,"button",41)(3,"mat-icon"),p(4,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(),I(" ",o," ")}}function Bl(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit,i=l.index;r(),Bi(" ",i+1," - ",o," ")}}function Ol(n,l){if(n&1){let o=A();s(0,"app-cms-enum-x-selector",42),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.messageType,t)||(e.dataModel.messageType=t),f(t)}),a()}if(n&2){let o=S();m("optionDataListResult",o.dataModelSmsMessageTypeEnumResult),w("model",o.dataModel.messageType),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.messageType==null?null:o.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Gl(n,l){if(n&1){let o=A();s(0,"app-cms-enum-x-selectionlist",43),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.outBoxTypeList,t)||(e.dataModel.outBoxTypeList=t),f(t)}),a()}if(n&2){let o=S();m("optionDataListResult",o.dataModelSmsOutBoxTypeEnumResult),w("model",o.dataModel.outBoxTypeList),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.outBoxTypeJson==null?null:o.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function Wl(n,l){if(n&1){let o=A();s(0,"div",44)(1,"button",45),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",46),p(3),C(4,"translate"),a(),s(5,"button",47),_(6,"i",48),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Fn=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new ei,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiPathPriceServiceService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.requestId="",this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new ei,this.formInfo=new oe,this.dataModelSmsMessageTypeEnumResult=new O,this.dataModelSmsOutBoxTypeEnumResult=new O,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig(),i&&(i.linkApiPathId&&i.linkApiPathId.length>0&&(this.dataModel.linkApiPathId=i.linkApiPathId),i.id&&(this.requestId=i.id))}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.requestId?this.DataGetOneContent():this.DataGetAccess(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(i=>{this.dataModelSmsMessageTypeEnumResult=i})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(i=>{this.dataModelSmsOutBoxTypeEnumResult=i})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Fe.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.dataModel.title=this.dataModel.title+" (COPY)",this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiPathId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(i){let t=(i.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),t&&this.dataModel.regulatorNumberList.push(t),i.chipInput.clear()}removeTagRegulatorNumberList(i){let t=this.dataModel.regulatorNumberList.indexOf(i);t>=0&&this.dataModel.regulatorNumberList.splice(t,1)}addTagServicePagination(i){var e=+(i.value||"").trim()||-1;this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]),e>=0&&this.dataModel.serviceMessageLengthPaginationList.push(e),i.chipInput.clear()}removeTagServicePagination(i){let t=this.dataModel.serviceMessageLengthPaginationList.indexOf(i);t>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(t,1)}addTagEndUserPagination(i){let t=(i.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var e=+t||-1;e>=0&&this.dataModel.endUserMessageLengthPaginationList.push(e),i.chipInput.clear()}removeTagEndUserPagination(i){let t=this.dataModel.endUserMessageLengthPaginationList.indexOf(i);t>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(t,1)}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Gi),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpriceservice-add"]],viewQuery:function(t,e){if(t&1&&Z(wl,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:85,vars:66,consts:[["vform","ngForm"],["Title",""],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",8),_(1,"app-progress-spinner",9),s(2,"div",10)(3,"p",11),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",12,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,El,1,5,"app-cms-enum-record-status-selector",13),s(11,"div",14)(12,"label",15),p(13),a(),s(14,"input",16,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.title,d)||(e.dataModel.title=d),f(d)}),a(),v(16,Tl,1,0,"i",17)(17,Pl,1,0,"i",18),s(18,"em"),p(19),a(),v(20,xl,5,3,"mat-error",19),a(),s(21,"app-sms-apipath-selector",20),C(22,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiPathId(d))}),a(),s(23,"app-cms-user-selector",21),C(24,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(25,"app-cms-site-selector",21),C(26,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(27,"app-cms-usergroup-selector",21),C(28,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(29,"app-cms-sitecategory-selector",21),C(30,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),v(31,Rl,5,3,"div",22)(32,Dl,5,3,"div",22),s(33,"b"),p(34,"\u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644"),a(),s(35,"mat-form-field",23)(36,"mat-label"),p(37,"\u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644"),a(),s(38,"mat-chip-grid",24,2),v(40,kl,6,1,"mat-chip",25),s(41,"input",26,3),C(43,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagRegulatorNumberList(d))}),a()()(),p(44," \u0645\u062B\u0627\u0644 :00983 009715 0098930 "),s(45,"div"),p(46," \u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627 "),_(47,"br"),v(48,Vl,2,1,"div",27),a(),_(49,"br"),s(50,"b"),p(51,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(52,"mat-form-field",23)(53,"mat-label"),p(54,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(55,"mat-chip-grid",24,4),v(57,Ll,5,1,"mat-chip",25),s(58,"input",28,3),C(60,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagServicePagination(d))}),a()()(),s(61,"div"),p(62," \u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 "),_(63,"br"),v(64,Nl,2,2,"div",27),a(),_(65,"br"),s(66,"b"),p(67,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647"),a(),s(68,"mat-form-field",23)(69,"mat-label"),p(70,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647"),a(),s(71,"mat-chip-grid",24,5),v(73,Fl,5,1,"mat-chip",25),s(74,"input",28,3),C(76,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagEndUserPagination(d))}),a()()(),s(77,"div"),p(78," \u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647 "),_(79,"br"),v(80,Bl,2,2,"div",27),a(),_(81,"br"),v(82,Ol,1,6,"app-cms-enum-x-selector",29)(83,Gl,1,5,"app-cms-enum-x-selectionlist",30)(84,Wl,9,7,"div",31),a()()()}if(t&2){let c=R(15),h=R(39),d=R(56),D=R(72);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,48,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),G("placeholder",e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),w("ngModel",e.dataModel.title),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),I("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("optionSelectForce",e.dataModel.linkApiPathId)("optionPlaceholder",M(22,50,"TITLE.Direction")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(24,52,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(26,54,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(28,56,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(30,58,"TITLE.Site_Type")),r(2),m("ngIf",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.accessWatchField),r(),m("ngIf",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.accessWatchField),r(8),m("ngForOf",e.dataModel.regulatorNumberList),r(),m("placeholder",M(43,60,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(7),m("ngForOf",e.dataModel.regulatorNumberList),r(9),m("ngForOf",e.dataModel.serviceMessageLengthPaginationList),r(),m("placeholder",M(60,62,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(6),m("ngForOf",e.dataModel.serviceMessageLengthPaginationList),r(9),m("ngForOf",e.dataModel.endUserMessageLengthPaginationList),r(),m("placeholder",M(76,64,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",D)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(6),m("ngForOf",e.dataModel.endUserMessageLengthPaginationList),r(2),m("ngIf",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.accessWatchField),r(),m("ngIf",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,z,At,J,le,_e,Pe,xe,te,de,nn,on,rn,tn,en,$i,Ce,Se,K,Wt,ue,_n,Cn,Gt,jt,Ht,j,Zt,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Hl=["vform"];function jl(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",26),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function ql(n,l){n&1&&_(0,"i",33)}function Ul(n,l){n&1&&_(0,"i",34)}function Ql(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function zl(n,l){if(n&1){let o=A();s(0,"div",27)(1,"label",28),p(2),a(),s(3,"input",29,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,ql,1,0,"i",30)(6,Ul,1,0,"i",31),s(7,"em"),p(8),a(),v(9,Ql,5,3,"mat-error",32),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),m("disabled",!(i.fieldsInfo.title!=null&&i.fieldsInfo.title.accessEditField)),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Jl(n,l){if(n&1){let o=A();s(0,"div",27)(1,"label",35),p(2),a(),s(3,"input",36,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.servicePricePerPage,t)||(e.dataModel.servicePricePerPage=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.servicePricePerPage==null?null:o.fieldsInfo.servicePricePerPage.fieldTitle),r(),w("ngModel",o.dataModel.servicePricePerPage),m("disabled",!(o.fieldsInfo.servicePricePerPage!=null&&o.fieldsInfo.servicePricePerPage.accessEditField))}}function Kl(n,l){if(n&1){let o=A();s(0,"div",27)(1,"label",37),p(2),a(),s(3,"input",38,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.endUserPricePerPage,t)||(e.dataModel.endUserPricePerPage=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.endUserPricePerPage==null?null:o.fieldsInfo.endUserPricePerPage.fieldTitle),r(),w("ngModel",o.dataModel.endUserPricePerPage),m("disabled",!(o.fieldsInfo.endUserPricePerPage!=null&&o.fieldsInfo.endUserPricePerPage.accessEditField))}}function Xl(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagRegulatorNumberList(t))}),s(1,"div",40),p(2),a(),s(3,"button",41)(4,"mat-icon"),p(5,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(2),y(o)}}function Yl(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o," ")}}function Zl(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagServicePagination(t))}),p(1),s(2,"button",41)(3,"mat-icon"),p(4,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(),I(" ",o," ")}}function $l(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit,i=l.index;r(),Bi(" ",i+1," - ",o," ")}}function ed(n,l){if(n&1){let o=A();s(0,"mat-chip",39),b("removed",function(){let t=u(o).$implicit,e=S();return f(e.removeTagEndUserPagination(t))}),p(1),s(2,"button",41)(3,"mat-icon"),p(4,"cancel"),a()()()}if(n&2){let o=l.$implicit;r(),I(" ",o," ")}}function td(n,l){if(n&1&&(s(0,"div"),p(1),a()),n&2){let o=l.$implicit,i=l.index;r(),Bi(" ",i+1," - ",o," ")}}function id(n,l){if(n&1){let o=A();s(0,"app-cms-enum-x-selector",42),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.messageType,t)||(e.dataModel.messageType=t),f(t)}),a()}if(n&2){let o=S();m("optionDataListResult",o.dataModelSmsMessageTypeEnumResult),w("model",o.dataModel.messageType),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.messageType==null?null:o.fieldsInfo.messageType.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function nd(n,l){if(n&1){let o=A();s(0,"app-cms-enum-x-selectionlist",43),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.outBoxTypeList,t)||(e.dataModel.outBoxTypeList=t),f(t)}),a()}if(n&2){let o=S();m("optionDataListResult",o.dataModelSmsOutBoxTypeEnumResult),w("model",o.dataModel.outBoxTypeList),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.outBoxTypeJson==null?null:o.fieldsInfo.outBoxTypeJson.fieldTitle)("optionRequired",!0)}}function od(n,l){if(n&1){let o=A();s(0,"div",44)(1,"button",45),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",46),p(3),C(4,"translate"),a(),s(5,"button",47),_(6,"i",48),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Ao=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new ei,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.smsMainApiPathPriceServiceService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new ei,this.formInfo=new oe,this.dataModelSmsMessageTypeEnumResult=new O,this.dataModelSmsOutBoxTypeEnumResult=new O,this.fileManagerOpenForm=!1,this.addOnBlurTag=!0,this.separatorKeysCodes=[13],this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getSmsMessageTypeEnum(),this.getSmsOutBoxTypeEnum()}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(i=>{this.dataModelSmsMessageTypeEnumResult=i})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(i=>{this.dataModelSmsOutBoxTypeEnumResult=i})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.setAccessLoad(),this.smsMainApiPathPriceServiceService.setAccessDataType(Fe.Editor),this.smsMainApiPathPriceServiceService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPriceServiceService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelectorCmsUser(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserId=null;return}this.dataModel.linkCoreUserId=i.id}onActionSelectorCmsSite(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteId=null;return}this.dataModel.linkCoreSiteId=i.id}onActionSelectorCoreUserGroup(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreUserGroupId=null;return}this.dataModel.linkCoreUserGroupId=i.id}onActionSelectorCoreSiteCategory(i){if(!i||!i.id||i.id<=0){this.dataModel.linkCoreSiteCategoryId=null;return}this.dataModel.linkCoreSiteCategoryId=i.id}onActionSelectorSelectLinkApiPathId(i){if(!i||i.id.length<=0){this.cmsToastrService.typeErrorSelected("\u0645\u0633\u06CC\u0631 \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.dataModel.linkApiPathId=i.id}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}addTagRegulatorNumberList(i){let t=(i.value||"").trim();this.dataModel.regulatorNumberList||(this.dataModel.regulatorNumberList=[]),t&&this.dataModel.regulatorNumberList.push(t),i.chipInput.clear()}removeTagRegulatorNumberList(i){let t=this.dataModel.regulatorNumberList.indexOf(i);t>=0&&this.dataModel.regulatorNumberList.splice(t,1)}addTagServicePagination(i){let t=(i.value||"").trim();this.dataModel.serviceMessageLengthPaginationList||(this.dataModel.serviceMessageLengthPaginationList=[]);var e=+t||-1;e>=0&&this.dataModel.serviceMessageLengthPaginationList.push(e),i.chipInput.clear()}removeTagServicePagination(i){let t=this.dataModel.serviceMessageLengthPaginationList.indexOf(i);t>=0&&this.dataModel.serviceMessageLengthPaginationList.splice(t,1)}addTagEndUserPagination(i){let t=(i.value||"").trim();this.dataModel.endUserMessageLengthPaginationList||(this.dataModel.endUserMessageLengthPaginationList=[]);var e=+t||-1;e>=0&&this.dataModel.endUserMessageLengthPaginationList.push(e),i.chipInput.clear()}removeTagEndUserPagination(i){let t=this.dataModel.endUserMessageLengthPaginationList.indexOf(i);t>=0&&this.dataModel.endUserMessageLengthPaginationList.splice(t,1)}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Gi),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpriceservice-edit"]],viewQuery:function(t,e){if(t&1&&Z(Hl,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:76,vars:60,consts:[["vform","ngForm"],["chipListRegulatorNumberList",""],["tagInput",""],["chipListServicePagination",""],["chipListEndUserPagination",""],["Title",""],["servicePricePerPage",""],["endUserPricePerPage",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["appearance","fill",2,"width","100%"],["aria-label","'TITLE.Number'|translate"],[3,"removed",4,"ngFor","ngForOf"],[1,"input-ltr",3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputAddOnBlur","matChipInputFor","matChipInputSeparatorKeyCodes"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDataListResult","model","optionDisabled","optionLabel","optionRequired","modelChange",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["for","dataModel.servicePricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.servicePricePerPage","placeholder","0","id","dataModel.servicePricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.endUserPricePerPage",1,"color-highlight"],["matInput","","type","number","name","dataModel.endUserPricePerPage","placeholder","0","id","dataModel.endUserPricePerPage",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[3,"removed"],[1,"input-ltr"],["type","button","matChipRemove","",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"modelChange","optionDataListResult","model","optionDisabled","optionLabel","optionRequired"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",8),_(1,"app-progress-spinner",9),s(2,"div",10)(3,"p",11),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",12,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,jl,1,5,"app-cms-enum-record-status-selector",13)(11,zl,10,8,"div",14),s(12,"app-sms-apipath-selector",15),C(13,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelectLinkApiPathId(d))}),a(),s(14,"app-cms-user-selector",16),C(15,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsUser(d))}),a(),s(16,"app-cms-site-selector",16),C(17,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCmsSite(d))}),a(),s(18,"app-cms-usergroup-selector",16),C(19,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreUserGroup(d))}),a(),s(20,"app-cms-sitecategory-selector",16),C(21,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectorCoreSiteCategory(d))}),a(),v(22,Jl,5,3,"div",14)(23,Kl,5,3,"div",14),_(24,"br"),s(25,"b"),p(26,"\u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644"),a(),s(27,"mat-form-field",17)(28,"mat-label"),p(29,"\u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627\u06CC \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644"),a(),s(30,"mat-chip-grid",18,1),v(32,Xl,6,1,"mat-chip",19),s(33,"input",20,2),C(35,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagRegulatorNumberList(d))}),a()()(),s(36,"div"),p(37," \u067E\u06CC\u0634 \u0634\u0645\u0627\u0631\u0647 \u0647\u0627 "),_(38,"br"),v(39,Yl,2,1,"div",21),a(),_(40,"br"),s(41,"b"),p(42,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(43,"mat-form-field",17)(44,"mat-label"),p(45,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647"),a(),s(46,"mat-chip-grid",18,3),v(48,Zl,5,1,"mat-chip",19),s(49,"input",22,2),C(51,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagServicePagination(d))}),a()()(),s(52,"div"),p(53," \u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u062F\u0647\u0646\u062F\u0647 "),_(54,"br"),v(55,$l,2,2,"div",21),a(),_(56,"br"),s(57,"b"),p(58,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647"),a(),s(59,"mat-form-field",17)(60,"mat-label"),p(61,"\u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647"),a(),s(62,"mat-chip-grid",18,4),v(64,ed,5,1,"mat-chip",19),s(65,"input",22,2),C(67,"translate"),b("matChipInputTokenEnd",function(d){return u(c),f(e.addTagEndUserPagination(d))}),a()()(),s(68,"div"),p(69," \u0635\u0641\u062D\u0647 \u0628\u0646\u062F\u06CC \u0633\u0631\u0648\u06CC\u0633 \u06AF\u06CC\u0631\u0646\u062F\u0647 "),_(70,"br"),v(71,td,2,2,"div",21),a(),_(72,"br"),v(73,id,1,6,"app-cms-enum-x-selector",23)(74,nd,1,5,"app-cms-enum-x-selectionlist",24)(75,od,9,7,"div",25),a()()()}if(t&2){let c=R(31),h=R(47),d=R(63);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,42,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkApiPathId)("optionPlaceholder",M(13,44,"TITLE.Direction")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserId!=null&&e.fieldsInfo.linkCoreUserId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserId)("optionPlaceholder",M(15,46,"TITLE.USER")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteId!=null&&e.fieldsInfo.linkCoreSiteId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteId)("optionPlaceholder",M(17,48,"TITLE.SITE")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreUserGroupId!=null&&e.fieldsInfo.linkCoreUserGroupId.accessAddField))("optionSelectForce",e.dataModel.linkCoreUserGroupId)("optionPlaceholder",M(19,50,"TITLE.Type_Usage")),r(2),m("optionDisabled",!(e.fieldsInfo.linkCoreSiteCategoryId!=null&&e.fieldsInfo.linkCoreSiteCategoryId.accessAddField))("optionSelectForce",e.dataModel.linkCoreSiteCategoryId)("optionPlaceholder",M(21,52,"TITLE.Site_Type")),r(2),m("ngIf",e.fieldsInfo.servicePricePerPage==null?null:e.fieldsInfo.servicePricePerPage.accessWatchField),r(),m("ngIf",e.fieldsInfo.endUserPricePerPage==null?null:e.fieldsInfo.endUserPricePerPage.accessWatchField),r(9),m("ngForOf",e.dataModel.regulatorNumberList),r(),m("placeholder",M(35,54,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",c)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(6),m("ngForOf",e.dataModel.regulatorNumberList),r(9),m("ngForOf",e.dataModel.serviceMessageLengthPaginationList),r(),m("placeholder",M(51,56,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",h)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(6),m("ngForOf",e.dataModel.serviceMessageLengthPaginationList),r(9),m("ngForOf",e.dataModel.endUserMessageLengthPaginationList),r(),m("placeholder",M(67,58,"TITLE.key_word"))("matChipInputAddOnBlur",e.addOnBlurTag)("matChipInputFor",d)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),r(6),m("ngForOf",e.dataModel.endUserMessageLengthPaginationList),r(2),m("ngIf",e.fieldsInfo.messageType==null?null:e.fieldsInfo.messageType.accessWatchField),r(),m("ngIf",e.fieldsInfo.outBoxTypeJson==null?null:e.fieldsInfo.outBoxTypeJson.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[Ve,W,ce,z,At,J,le,_e,Pe,xe,te,de,nn,on,rn,tn,en,$i,Ce,Se,K,Wt,ue,_n,Cn,Gt,jt,Ht,j,Zt,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var ad=()=>[5,10,20,100];function sd(n,l){if(n&1&&_(0,"app-sms-apipath-header",42),n&2){let o=S();m("optionId",o.requestLinkApiPathId)}}function ld(n,l){if(n&1){let o=A();s(0,"a",43),b("click",function(){u(o);let t=S();return f(t.onActionBackToParent())}),_(1,"i",44),a()}}function dd(n,l){if(n&1){let o=A();s(0,"div",45)(1,"a",46),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",47)(3,"br"),a(),s(4,"p",48),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function cd(n,l){if(n&1){let o=A();s(0,"div",45)(1,"a",49),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",50)(3,"br"),a(),s(4,"p",48),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function md(n,l){if(n&1){let o=A();s(0,"div",45)(1,"a",51),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",52)(3,"br"),a(),s(4,"p",48),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function pd(n,l){if(n&1){let o=A();s(0,"div",45)(1,"a",53),b("click",function(){u(o);let t=S();return f(t.onActionButtonCopyRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),a(),s(4,"p",48),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.COPY")))}function ud(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function fd(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function hd(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Sd(n,l){if(n&1&&(s(0,"mat-cell",56),C(1,"statusCellClass"),_(2,"i",56),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function gd(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function _d(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function Cd(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.linkApiPathId==null?null:o.fieldsInfo.linkApiPathId.fieldTitle," ")}}function Md(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"cmstitle"),a()),n&2){let o=l.$implicit,i=S();r(),y(Oi(2,1,o.linkApiPathId,i.dataModelPrivateResult.listItems))}}function Id(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.regulatorNumber==null?null:o.fieldsInfo.regulatorNumber.fieldTitle," ")}}function bd(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.regulatorNumber," ")}}function vd(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.servicePricePerPage==null?null:o.fieldsInfo.servicePricePerPage.fieldTitle," ")}}function Ad(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.servicePricePerPage," ")}}function yd(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.endUserPricePerPage==null?null:o.fieldsInfo.endUserPricePerPage.fieldTitle," ")}}function wd(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.endUserPricePerPage," ")}}function Ed(n,l){if(n&1&&(s(0,"mat-header-cell",55),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.messageType==null?null:o.fieldsInfo.messageType.fieldTitle," ")}}function Td(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"enums"),a()),n&2){let o=l.$implicit,i=S();r(),I(" ",Oi(2,1,o.messageType,i.dataModelSmsMessageTypeEnumResult.listItems)," ")}}function Pd(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function xd(n,l){if(n&1&&(s(0,"mat-cell",57)(1,"button",58)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Rd(n,l){n&1&&_(0,"mat-header-row")}function Dd(n,l){if(n&1){let o=A();s(0,"mat-row",59),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Bn=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St,Be,wn){super(i,new ei,Be,d,k),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.cmsConfirmationDialogService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.smsMainApiPathService=Ie,this.smsEnumService=be,this.pageInfo=St,this.publicHelper=Be,this.dialog=wn,this.requestLinkApiPathId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.dataModelSmsMessageTypeEnumResult=new O,this.dataModelSmsOutBoxTypeEnumResult=new O,this.dataModelPrivateResult=new O,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","Title","LinkApiPathId","servicePricePerPage","endUserPricePerPage","messageType"],this.tabledisplayedColumnsMobileSource=["RecordStatus","Title","LinkApiPathId","servicePricePerPage","endUserPricePerPage","messageType"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:En=>this.onSubmitOptionsSearch(En)},this.filteModelContent.sortColumn="LinkApiPathId",this.filteModelContent.sortType=X.Ascending}ngOnInit(){if(this.filteModelContent.sortColumn="LinkApiPathId",this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")&&(this.requestLinkApiPathId=this.activatedRoute.snapshot.paramMap.get("LinkApiPathId")),this.requestLinkApiPathId.length>0){let i=new Q;i.propertyName="LinkApiPathId",i.value=this.requestLinkApiPathId,this.filteModelContent.filters.push(i)}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getPrivateConfig()}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}getPrivateConfig(){let i=new Y;i.rowPerPage=100,this.smsMainApiPathService.ServiceGetAll(i).subscribe({next:t=>{this.dataModelPrivateResult=t}})}getSmsMessageTypeEnum(){this.smsEnumService.ServiceSmsMessageTypeEnum().subscribe(i=>{this.dataModelSmsMessageTypeEnumResult=i})}getSmsOutBoxTypeEnum(){this.smsEnumService.ServiceSmsOutBoxTypeEnum().subscribe(i=>{this.dataModelSmsOutBoxTypeEnumResult=i})}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ei);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.categoryModelSelected?.id}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Ao,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonCopyRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Fn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path"])}};l.\u0275fac=function(t){return new(t||l)(g(Gi),g(L),g(yt),g(We),g(qe),g(Ae),g(F),g(B),g(xt),g(Re),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathpriceservice-list"]],features:[U],decls:65,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionId",4,"ngIf"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathId"],["matColumnDef","RegulatorNumber"],["matColumnDef","servicePricePerPage"],["matColumnDef","endUserPricePerPage"],["matColumnDef","messageType"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"optionId"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();v(0,sd,1,1,"app-sms-apipath-header",3),s(1,"app-cms-html-list",4),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(2,5),s(3,"app-sms-apipath-tree",6),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(4,7)(5,8),P(6,9),v(7,ld,2,0,"a",10),s(8,"a",11),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(9,"i",12),a(),s(10,"a",11),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(11,"i",13),a(),x(),P(12,14),s(13,"a",15),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(14,"mat-slide-toggle",16),p(15),C(16,"translate"),a(),s(17,"a",15),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(18,"mat-slide-toggle",16),p(19),C(20,"translate"),a(),x(),P(21,17),v(22,dd,7,3,"div",18),x(),P(23,19),v(24,cd,7,3,"div",18)(25,md,7,3,"div",18)(26,pd,7,3,"div",18),x(),P(27,20),s(28,"app-cms-search-list",21),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(29,"app-cms-statist-list",21),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(30,22),s(31,"mat-table",23,0),b("matSortChange",function(){u(c);let d=R(32);return f(e.onTableSortData(d))}),P(33,24),v(34,ud,2,1,"mat-header-cell",25)(35,fd,2,1,"mat-cell",26),x(),P(36,27),v(37,hd,2,1,"mat-header-cell",25)(38,Sd,4,6,"mat-cell",28),x(),P(39,29),v(40,gd,2,1,"mat-header-cell",25)(41,_d,2,1,"mat-cell",26),x(),P(42,30),v(43,Cd,2,1,"mat-header-cell",25)(44,Md,3,4,"mat-cell",26),x(),P(45,31),v(46,Id,2,1,"mat-header-cell",25)(47,bd,2,1,"mat-cell",26),x(),P(48,32),v(49,vd,2,1,"mat-header-cell",25)(50,Ad,2,1,"mat-cell",26),x(),P(51,33),v(52,yd,2,1,"mat-header-cell",25)(53,wd,2,1,"mat-cell",26),x(),P(54,34),v(55,Ed,2,1,"mat-header-cell",25)(56,Td,3,4,"mat-cell",26),x(),P(57,35),v(58,Pd,3,3,"mat-header-cell",36)(59,xd,6,1,"mat-cell",37),x(),v(60,Rd,1,0,"mat-header-row",38)(61,Dd,1,6,"mat-row",39),a(),x(),P(62,40),s(63,"mat-paginator",41,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("ngIf",(e.requestLinkApiPathId==null?null:e.requestLinkApiPathId.length)>0),r(),m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkApiPathId||e.requestLinkApiPathId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),m("ngIf",(e.requestLinkApiPathId==null?null:e.requestLinkApiPathId.length)>0),r(7),m("checked",e.optionsSearch.data.show),r(),I("",M(16,26,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(20,28,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(29),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(30,ad)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Ai,An,H,io,gn,dt,Mt],encapsulation:2});let n=l;return n})();var kd=["vform"];function Vd(n,l){n&1&&(s(0,"mat-error"),p(1),C(2,"translate"),s(3,"strong"),p(4),C(5,"translate"),a()()),n&2&&(r(),I(" ",M(2,2,"MESSAGE.Message_Text")," "),r(3),y(M(5,4,"MESSAGE.required")))}function Ld(n,l){if(n&1&&_(0,"app-cms-json-list",30),n&2){let o=S();m("dataModel",o.dataModelResult.item)("optionMethod",1)}}function Nd(n,l){if(n&1&&(s(0,"button",35),_(1,"i",36),p(2),C(3,"translate"),a()),n&2){S(2);let o=R(9);m("disabled",!o.valid),r(2),I(" ",M(3,2,"ACTION.Send_Message")," ")}}function Fd(n,l){if(n&1){let o=A();s(0,"div",31)(1,"button",32),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",33),p(3),C(4,"translate"),a(),v(5,Nd,4,4,"button",34),a()}if(n&2){let o=S();r(3),I(" ",M(4,2,"ACTION.CANCEL")," "),r(2),m("ngIf",!o.publicHelper.processService.process.inRunAll)}}var yo=(()=>{let l=class l{constructor(i,t,e,c,h,d,D,k,Ie){this.data=i,this.document=t,this.dialogRef=e,this.coreEnumService=c,this.smsMainApiPathService=h,this.cmsToastrService=d,this.cdr=D,this.publicHelper=k,this.translate=Ie,this.requestLinkApiPathId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelParentSelected=new Ut,this.dataModel=new Zn,this.dataModelResult=new O,this.formInfo=new oe,this.sendByShow=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.linkApiPathId&&(this.requestLinkApiPathId=i.linkApiPathId)}ngOnInit(){if(this.requestLinkApiPathId.length<=0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.dataModel.linkApiPathId=this.requestLinkApiPathId}onActionSelectPrivateSiteConfig(i){this.dataModel.linkApiPathId=this.requestLinkApiPathId,this.dataModelParentSelected=i,i&&i.id.length>0&&(this.dataModel.linkApiPathId=i.id,this.sendByShow=!1,i.apiAbilitySendByDirect&&(this.dataModel.sendByQueue=!1),i.apiAbilitySendByQueue&&(this.dataModel.sendByQueue=!0),i.apiAbilitySendByQueue&&i.apiAbilitySendByDirect&&(this.sendByShow=!0))}onFormSubmit(){if(!this.formGroup.valid)return;(!this.dataModel.linkApiPathId||this.dataModel.linkApiPathId.length<=0)&&this.cmsToastrService.typeErrorFormInvalid(),this.formInfo.formSubmitAllow=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathService.ServiceSendMessageTest(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.Submit_request_was_successfully_registered"),this.cmsToastrService.typeSuccessMessage(this.translate.instant("MESSAGE.Send_request_was_successfully_registered"))):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(Wn),g(ie),g(he),g(xt),g(L),g(F),g(N),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-privateconfig-sendtest"]],viewQuery:function(t,e){if(t&1&&Z(kd,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},decls:57,vars:34,consts:[["vform","ngForm"],["FromNumber",""],["ToNumber",""],["Message",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionChange","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.fromNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.fromNumber","minlength","0","maxlength","50","id","dataModel.fromNumber","placeholder","10000118",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.toNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.toNumber","minlength","0","maxlength","100","id","dataModel.toNumber","placeholder","0912",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.message",1,"color-highlight"],["matInput","","type","text","name","dataModel.message","minlength","1","maxlength","500","id","dataModel.message","placeholder","...",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isFlash",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isFlash","name","dataModel.isFlash",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isFlash",1,"custom-control-label"],["data-trigger-switch","dataModel.sendByQueue",1,"font-600","font-14"],["type","checkbox","id","dataModel.sendByQueue","name","dataModel.sendByQueue",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.sendByQueue",1,"custom-control-label"],[3,"dataModel","optionMethod",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"dataModel","optionMethod"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green",3,"disabled",4,"ngIf"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",4),_(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",8,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),s(10,"app-sms-apipath-selector",9),C(11,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectPrivateSiteConfig(d))}),a(),s(12,"div",10)(13,"label",11),p(14),C(15,"translate"),a(),s(16,"input",12,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.fromNumber,d)||(e.dataModel.fromNumber=d),f(d)}),a(),s(18,"em"),p(19),a()(),s(20,"div",10)(21,"label",13),p(22),C(23,"translate"),a(),s(24,"input",14,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.toNumber,d)||(e.dataModel.toNumber=d),f(d)}),a(),s(26,"em"),p(27),a()(),s(28,"div",10)(29,"label",15),p(30),C(31,"translate"),a(),s(32,"input",16,3),T("ngModelChange",function(d){return u(c),E(e.dataModel.message,d)||(e.dataModel.message=d),f(d)}),a(),s(34,"em"),p(35),a(),v(36,Vd,6,6,"mat-error",17),a(),s(37,"div",18)(38,"div",19)(39,"h5",20),p(40),C(41,"translate"),a()(),s(42,"div",21)(43,"div",22)(44,"input",23),T("ngModelChange",function(d){return u(c),E(e.dataModel.isFlash,d)||(e.dataModel.isFlash=d),f(d)}),a(),_(45,"label",24),a()()(),s(46,"div",18)(47,"div",19)(48,"h5",25),p(49),C(50,"translate"),a()(),s(51,"div",21)(52,"div",22)(53,"input",26),T("ngModelChange",function(d){return u(c),E(e.dataModel.sendByQueue,d)||(e.dataModel.sendByQueue=d),f(d)}),a(),_(54,"label",27),a()()(),v(55,Ld,1,2,"app-cms-json-list",28)(56,Fd,6,4,"div",29),a()()()}if(t&2){let c=R(17),h=R(25),d=R(33);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,20,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("optionPlaceholder",M(11,22,"TITLE.Direction")),r(4),y(M(15,24,"TITLE.sender_number")),r(2),w("ngModel",e.dataModel.fromNumber),r(3),I("",c.value.length," / 50"),r(3),y(M(23,26,"TITLE.Receiver_number")),r(2),w("ngModel",e.dataModel.toNumber),r(3),I("",h.value.length," / 100"),r(3),y(M(31,28,"MESSAGE.Message_Text")),r(2),w("ngModel",e.dataModel.message),r(3),I("",d.value.length," / 500"),r(),m("ngIf",d.errors==null?null:d.errors.required),r(4),I(" ",M(41,30,"TITLE.Send_as_flash"),""),r(4),w("ngModel",e.dataModel.isFlash),r(5),I(" ",M(50,32,"TITLE.Send_in_queue"),""),r(4),w("ngModel",e.dataModel.sendByQueue),r(2),m("ngIf",e.dataModelResult==null?null:e.dataModelResult.item),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,Te,J,le,Pe,xe,te,de,Ce,K,j,no,Zt,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();function Od(n,l){if(n&1){let o=A();s(0,"button",12),b("click",function(){u(o);let t=S();return f(t.onActionAdd())}),p(1),C(2,"translate"),a()}n&2&&(r(),y(M(2,1,"ACTION.ADD")))}function Gd(n,l){if(n&1){let o=A();s(0,"button",13),b("click",function(){u(o);let t=S();return f(t.onActionEdit())}),p(1),C(2,"translate"),a()}n&2&&(r(),y(M(2,1,"ACTION.EDIT")))}function Wd(n,l){if(n&1){let o=A();s(0,"button",14),b("click",function(){u(o);let t=S();return f(t.onActionButtonReload())}),s(1,"mat-icon",15),C(2,"translate"),p(3,"refresh"),a()()}n&2&&(r(),G("title",M(2,1,"ACTION.RELOAD")))}function Hd(n,l){if(n&1){let o=A();s(0,"mat-tree-node",16),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),_(1,"button",17)(2,"img",18),p(3),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===o.id),r(2),G("src",o.linkMainImageIdSrc,Me),r(),I("\xA0 ",o.title," ")}}function jd(n,l){if(n&1){let o=A();s(0,"mat-nested-tree-node")(1,"li")(2,"div",19),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),s(3,"button",20),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),s(4,"mat-icon",21),p(5),a()(),p(6),a(),s(7,"ul"),Ee(8,22),a()()()}if(n&2){let o=l.$implicit,i=S();r(2),ye("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===o.id),r(),kt("aria-label","Toggle "+o.title),r(2),I(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),I(" ",o.title," "),r(),ye("category-tree-invisible",!i.treeControl.isExpanded(o))}}var Eo=(()=>{let l=class l{constructor(i,t,e,c,h,d,D,k){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=c,this.cdr=h,this.publicHelper=d,this.tokenHelper=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new Lt,this.dataModelResult=new O,this.filterModel=new Y,this.treeControl=new ln(Ie=>null),this.dataSource=new Sn,this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Ie,be)=>!1,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new Lt,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(bn,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i="";if(this.dataModelSelect&&this.dataModelSelect?.id?.length>0&&(i=this.dataModelSelect.id),i.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(vn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};l.\u0275fac=function(t){return new(t||l)(g(L),g(he),g(Nt),g(we),g(F),g(N),g(Ae),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipathcompany-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:14,vars:13,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(s(0,"app-cms-html-tree",0),P(1,1),p(2),C(3,"translate"),x(),P(4,2),v(5,Od,3,3,"button",3)(6,Gd,3,3,"button",4)(7,Wd,4,3,"button",5),x(),P(8,6),_(9,"app-progress-spinner",7),s(10,"mat-tree",8),v(11,Hd,4,8,"mat-tree-node",9)(12,jd,9,7,"mat-nested-tree-node",10),a(),x(),Ee(13,11),a()),t&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",M(3,11,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Le,Se,mn,cn,pn,hn,fn,dn,un,j,qi,H]});let n=l;return n})();var Ud=()=>[5,10,20,100];function Qd(n,l){if(n&1){let o=A();s(0,"a",50),b("click",function(){u(o);let t=S();return f(t.onActionBackToParent())}),_(1,"i",51),a()}}function zd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",22),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",52)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Jd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",53),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",54)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function Kd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",55),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",56)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function Xd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",20),b("click",function(){u(o);let t=S();return f(t.onActionButtonCopy(t.tableRowSelected))}),_(2,"i",57)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.COPY")))}function Yd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",10),b("click",function(){u(o);let t=S();return f(t.onActionButtonSendTest(t.tableRowSelected))}),_(2,"i",58)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.SEND_TEST")))}function Zd(n,l){if(n&1){let o=A();s(0,"div",19)(1,"a",10),b("click",function(){u(o);let t=S();return f(t.onActionButtonReportsRow(t.tableRowSelected))}),_(2,"i",59)(3,"br"),a(),s(4,"p",21),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.REPORTS")))}function $d(n,l){n&1&&(s(0,"mat-header-cell",60),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.PICTURE")," "))}function ec(n,l){if(n&1&&(_(0,"img",62),C(1,"cmsthumbnail")),n&2){let o=S().$implicit;G("src",M(1,1,o.linkMainImageIdSrc),Me)}}function tc(n,l){if(n&1&&(s(0,"mat-cell"),v(1,ec,2,3,"img",61),a()),n&2){let o=l.$implicit;r(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function ic(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function nc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function oc(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function rc(n,l){if(n&1&&(s(0,"mat-cell",63),C(1,"statusCellClass"),_(2,"i",63),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function ac(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function sc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function lc(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I("",o.fieldsInfo.linkApiPathCompanyId==null?null:o.fieldsInfo.linkApiPathCompanyId.fieldTitle," ")}}function dc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"cmstitle"),a()),n&2){let o=l.$implicit,i=S();r(),I(" ",Oi(2,1,o.linkApiPathCompanyId,i.dataModelCompanyResult.listItems)," ")}}function cc(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.linkPublicConfigId==null?null:o.fieldsInfo.linkPublicConfigId.fieldTitle," ")}}function mc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"cmstitle"),a()),n&2){let o=l.$implicit,i=S();r(),I(" ",Oi(2,1,o.linkPublicConfigId,i.dataModelPublicResult.listItems)," ")}}function pc(n,l){if(n&1&&(s(0,"mat-header-cell",60),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function uc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.updatedDate)," ")}}function fc(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function hc(n,l){if(n&1&&(s(0,"mat-cell",64)(1,"button",65)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function Sc(n,l){n&1&&_(0,"mat-header-row")}function gc(n,l){if(n&1){let o=A();s(0,"mat-row",66),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Hi=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St,Be,wn){super(i,new Ut,Be,k,be),this.contentService=i,this.smsMainApiPathCompanyService=t,this.smsMainApiPathPublicConfigService=e,this.activatedRoute=c,this.cmsToastrService=h,this.cmsConfirmationDialogService=d,this.router=D,this.tokenHelper=k,this.cdr=Ie,this.translate=be,this.pageInfo=St,this.publicHelper=Be,this.dialog=wn,this.requestLinkSiteId=0,this.requestLinkCompanyId="",this.requestLinkPublicConfigId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.dataModelCoreCurrencyResult=new O,this.dataModelCompanyResult=new O,this.dataModelPublicResult=new O,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","Title","LinkApiPathCompanyId","LinkPublicConfigId"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:En=>this.onSubmitOptionsSearch(En)},this.filteModelContent.sortColumn="priority",this.filteModelContent.sortType=X.Ascending}ngOnInit(){this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")&&(this.requestLinkCompanyId=this.activatedRoute.snapshot.paramMap.get("LinkCompanyId")),this.activatedRoute.snapshot.paramMap.get("LinkSiteId")&&(this.requestLinkSiteId=+this.activatedRoute.snapshot.paramMap.get("LinkSiteId")||0),this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId")&&(this.requestLinkPublicConfigId=this.activatedRoute.snapshot.paramMap.get("LinkPublicConfigId"));let i=new Q;if(this.requestLinkPublicConfigId?.length>0&&(i.propertyName="LinkPublicConfigId",i.value=this.requestLinkPublicConfigId,this.filteModelContent.filters.push(i)),this.requestLinkCompanyId.length>0){let t=new Q;t.propertyName="LinkApiPathCompanyId",t.value=this.requestLinkCompanyId,this.filteModelContent.filters.push(t)}if(this.requestLinkSiteId>0){let t=new Q;t.propertyName="LinkSiteId",t.value=this.requestLinkSiteId,this.filteModelContent.filters.push(t)}this.filteModelContent.sortColumn="priority",this.tokenHelper.getTokenInfoState().then(t=>{this.tokenInfo=t,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:t=>{this.tokenInfo=t,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getApiCopmanyList(),this.getPublicConfig()}getPublicConfig(){let i=new Y;i.rowPerPage=100,this.smsMainApiPathPublicConfigService.ServiceGetAll(i).subscribe({next:t=>{this.dataModelPublicResult=t}})}getApiCopmanyList(){let i=new Y;i.rowPerPage=100,this.smsMainApiPathCompanyService.ServiceGetAll(i).subscribe({next:t=>{this.dataModelCompanyResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Ut);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Q;e.propertyName="LinkApiPathCompanyId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if((!this.requestLinkCompanyId||this.requestLinkCompanyId&&this.requestLinkCompanyId.length==0)&&(this.categoryModelSelected==null||this.categoryModelSelected.id.length===0)){let c=this.translate.instant("MESSAGE.Company_not_selected");this.cmsToastrService.typeErrorSelected(c);return}if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.categoryModelSelected&&this.categoryModelSelected.id.length>0&&(i=this.categoryModelSelected.id),this.requestLinkCompanyId&&this.requestLinkCompanyId.length>0&&(i=this.requestLinkCompanyId);var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkApiPathCompanyId:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/main/api-path/edit",this.tableRowSelected.id])}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonGetBalance(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(e=>{this.cmsToastrService.typeErrorSelected(e)});return}let t=this.constructor.name+"GetBalance";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.contentService.ServiceGetBalance(i.id).subscribe({next:e=>{e.isSuccess?this.cmsToastrService.typeSuccessMessage(e.item.info+" "+e.item.status+" "+e.item.credit):this.cmsToastrService.typeErrorMessage(e.errorMessage+e.item.info+" "+e.item.status),this.publicHelper.processService.processStop(t)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonSuperSedersList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonMustSuperSedersList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/bankpayment/privatesiteconfig/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonNumbersList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-number/LinkApiPathId",this.tableRowSelected.id])}onActionButtonPermitionList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-permission/LinkApiPathId",this.tableRowSelected.id])}onActionButtonOutBoxQueue(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/log/outbox-queue/LinkApiPathId",this.tableRowSelected.id])}onActionButtonCopy(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessAdd();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(xn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonPriceServicesList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path-price-service/LinkApiPathId",this.tableRowSelected.id])}onActionButtonSendTest(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}this.onActionTableRowSelect(i);var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(yo,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{linkApiPathId:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonReportsRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}this.router.navigate(["/sms/log/api-path/LinkApiPathId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/sms/main/api-path-company"])}};l.\u0275fac=function(t){return new(t||l)(g(xt),g(Nt),g(Jt),g(yt),g(L),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-apipath-list"]],features:[U],decls:119,vars:56,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"font-11","text-center","opacity-70"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-dollar","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-phone","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list","font-18",2,"color","#FFFFFF"],[1,"fa-solid","fa-universal-access","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-list-ol","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","LinkApiPathCompanyId"],["matColumnDef","LinkPublicConfigId"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-copy","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-paper-plane-top","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-file-chart-column","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),s(2,"app-sms-apipathcompany-tree",5),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(3,6)(4,7),P(5,8),v(6,Qd,2,0,"a",9),s(7,"a",10),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(8,"i",11),a(),s(9,"a",10),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(10,"i",12),a(),x(),P(11,13),s(12,"a",14),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(13,"mat-slide-toggle",15),p(14),C(15,"translate"),a(),s(16,"a",14),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(17,"mat-slide-toggle",15),p(18),C(19,"translate"),a(),x(),P(20,16),v(21,zd,7,3,"div",17),x(),P(22,18),v(23,Jd,7,3,"div",17)(24,Kd,7,3,"div",17),s(25,"div",19)(26,"a",20),b("click",function(){return u(c),f(e.onActionButtonSendTest(e.tableRowSelected))}),s(27,"mat-icon"),p(28,"payment"),a()(),s(29,"p",21),p(30),C(31,"translate"),a()(),s(32,"div",19)(33,"a",22),b("click",function(){return u(c),f(e.onActionButtonGetBalance(e.tableRowSelected))}),_(34,"i",23)(35,"br"),a(),s(36,"p",21),p(37),C(38,"translate"),a()(),s(39,"div",19)(40,"a",20),b("click",function(){return u(c),f(e.onActionButtonSuperSedersList(e.tableRowSelected))}),_(41,"i",24)(42,"br"),a(),s(43,"p",21),p(44),C(45,"translate"),a()(),s(46,"div",19)(47,"a",20),b("click",function(){return u(c),f(e.onActionButtonMustSuperSedersList(e.tableRowSelected))}),_(48,"i",24)(49,"br"),a(),s(50,"p",21),p(51),C(52,"translate"),a()(),s(53,"div",19)(54,"a",20),b("click",function(){return u(c),f(e.onActionButtonNumbersList(e.tableRowSelected))}),_(55,"i",25)(56,"br"),a(),s(57,"p",21),p(58),C(59,"translate"),a()(),s(60,"div",19)(61,"a",20),b("click",function(){return u(c),f(e.onActionButtonPriceServicesList(e.tableRowSelected))}),_(62,"i",26)(63,"br"),a(),s(64,"p",21),p(65),C(66,"translate"),a()(),s(67,"div",19)(68,"a",20),b("click",function(){return u(c),f(e.onActionButtonPermitionList(e.tableRowSelected))}),_(69,"i",27)(70,"br"),a(),s(71,"p",21),p(72),C(73,"translate"),a()(),s(74,"div",19)(75,"a",20),b("click",function(){return u(c),f(e.onActionButtonOutBoxQueue(e.tableRowSelected))}),_(76,"i",28)(77,"br"),a(),s(78,"p",21),p(79),C(80,"translate"),a()(),v(81,Xd,7,3,"div",17)(82,Yd,7,3,"div",17)(83,Zd,7,3,"div",17),x(),P(84,29),s(85,"app-cms-search-list",30),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(86,"app-cms-statist-list",30),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(87,31),s(88,"mat-table",32,0),b("matSortChange",function(){u(c);let d=R(89);return f(e.onTableSortData(d))}),P(90,33),v(91,$d,3,3,"mat-header-cell",34)(92,tc,2,1,"mat-cell",35),x(),P(93,36),v(94,ic,2,1,"mat-header-cell",34)(95,nc,2,1,"mat-cell",35),x(),P(96,37),v(97,oc,2,1,"mat-header-cell",34)(98,rc,4,6,"mat-cell",38),x(),P(99,39),v(100,ac,2,1,"mat-header-cell",34)(101,sc,2,1,"mat-cell",35),x(),P(102,40),v(103,lc,2,1,"mat-header-cell",34)(104,dc,3,4,"mat-cell",35),x(),P(105,41),v(106,cc,2,1,"mat-header-cell",34)(107,mc,3,4,"mat-cell",35),x(),P(108,42),v(109,pc,2,1,"mat-header-cell",34)(110,uc,3,3,"mat-cell",35),x(),P(111,43),v(112,fc,3,3,"mat-header-cell",44)(113,hc,6,1,"mat-cell",45),x(),v(114,Sc,1,0,"mat-header-row",46)(115,gc,1,6,"mat-row",47),a(),x(),P(116,48),s(117,"mat-paginator",49,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkCompanyId||e.requestLinkCompanyId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(6),m("ngIf",(e.requestLinkCompanyId==null?null:e.requestLinkCompanyId.length)>0),r(7),m("checked",e.optionsSearch.data.show),r(),I("",M(15,35,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(19,37,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(31,39,"ACTION.SEND_TEST")),r(7),y(M(38,41,"ACTION.GET_BALANCE")),r(7),y(M(45,43,"ACTION.BACKUP_ROUTES")),r(7),y(M(52,45,"ACTION.SUPPORTED_ROUTES")),r(7),y(M(59,47,"ACTION.SPECIFIC_NUMBERS")),r(7),y(M(66,49,"ACTION.PRICE_LIST")),r(7),y(M(73,51,"ACTION.ACEESS")),r(7),y(M(80,53,"ACTION.QUEUE")),r(2),m("ngIf",e.categoryModelSelected&&e.categoryModelSelected.id.length>0),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(26),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(55,Ud)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Eo,H,gn,Ct,Xt,dt,Mt],encapsulation:2});let n=l;return n})();var _c=["vform"];function Cc(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Mc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",28),p(2),a(),s(3,"input",29,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.number,t)||(e.dataModel.number=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.number==null?null:o.fieldsInfo.number.fieldTitle),r(),w("ngModel",o.dataModel.number),m("disabled",!(o.fieldsInfo.number!=null&&o.fieldsInfo.number.accessAddField))}}function Ic(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",30),p(2),a(),s(3,"input",31,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.description,t)||(e.dataModel.description=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),w("ngModel",o.dataModel.description),m("disabled",!(o.fieldsInfo.description!=null&&o.fieldsInfo.description.accessAddField))}}function bc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",32),p(2),a(),s(3,"input",33,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.debtor,t)||(e.dataModel.debtor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle),r(),w("ngModel",o.dataModel.debtor),m("disabled",!(o.fieldsInfo.debtor!=null&&o.fieldsInfo.debtor.accessEditField))}}function vc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",34),p(2),a(),s(3,"input",35,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.creditor,t)||(e.dataModel.creditor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle),r(),w("ngModel",o.dataModel.creditor),m("disabled",!(o.fieldsInfo.creditor!=null&&o.fieldsInfo.creditor.accessEditField))}}function Ac(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",36),p(2),a(),s(3,"input",37,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userAcceptor,t)||(e.dataModel.userAcceptor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.userAcceptor==null?null:o.fieldsInfo.userAcceptor.fieldTitle),r(),w("ngModel",o.dataModel.userAcceptor),m("disabled",!(o.fieldsInfo.userAcceptor!=null&&o.fieldsInfo.userAcceptor.accessEditField))}}function yc(n,l){if(n&1){let o=A();s(0,"div",38)(1,"div",39)(2,"h5",40),p(3),a()(),s(4,"div",41)(5,"div",42)(6,"input",43),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.isAccepted,t)||(e.dataModel.isAccepted=t),f(t)}),a(),_(7,"label",44),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.isAccepted==null?null:o.fieldsInfo.isAccepted.fieldTitle,""),r(3),w("ngModel",o.dataModel.isAccepted)}}function wc(n,l){if(n&1){let o=A();s(0,"div",38)(1,"div",39)(2,"h5",45),p(3),a()(),s(4,"div",41)(5,"div",42)(6,"input",46),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.isBankAccepted,t)||(e.dataModel.isBankAccepted=t),f(t)}),a(),_(7,"label",47),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.isBankAccepted==null?null:o.fieldsInfo.isBankAccepted.fieldTitle,""),r(3),w("ngModel",o.dataModel.isBankAccepted)}}function Ec(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",48),p(2),a(),s(3,"input",49,8),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userBankAcceptor,t)||(e.dataModel.userBankAcceptor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.userBankAcceptor==null?null:o.fieldsInfo.userBankAcceptor.fieldTitle),r(),w("ngModel",o.dataModel.userBankAcceptor),m("disabled",!(o.fieldsInfo.userBankAcceptor!=null&&o.fieldsInfo.userBankAcceptor.accessEditField))}}function Tc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",50),p(2),a(),s(3,"input",51,9),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.cardNumber,t)||(e.dataModel.cardNumber=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.cardNumber==null?null:o.fieldsInfo.cardNumber.fieldTitle),r(),w("ngModel",o.dataModel.cardNumber),m("disabled",!(o.fieldsInfo.cardNumber!=null&&o.fieldsInfo.cardNumber.accessAddField))}}function Pc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",52),p(2),a(),s(3,"input",53,10),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.accountNumber,t)||(e.dataModel.accountNumber=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.accountNumber==null?null:o.fieldsInfo.accountNumber.fieldTitle),r(),w("ngModel",o.dataModel.accountNumber),m("disabled",!(o.fieldsInfo.accountNumber!=null&&o.fieldsInfo.accountNumber.accessAddField))}}function xc(n,l){if(n&1){let o=A();s(0,"div",54)(1,"button",55),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",56),p(3),C(4,"translate"),a(),s(5,"button",57),_(6,"i",58),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var To=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new ii,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.SmsMainCustomerCreditService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new ii,this.formInfo=new oe,this.dataModelEnumApiPathPermissionAccessStatusResult=new O,this.dataModelEnumApiPathPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction(),this.DataGetAccess()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionAccessStatusResult=i})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionActionResult=i})}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ii),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-customercredit-add"]],viewQuery:function(t,e){if(t&1&&Z(_c,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:36,vars:25,consts:[["vform","ngForm"],["AcceptDate",""],["BankAcceptDate",""],["Number",""],["Description",""],["Debtor",""],["Creditor",""],["UserAcceptor",""],["UserBankAcceptor",""],["CardNumber",""],["AccountNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.acceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.acceptDate","id","dataModel.acceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.bankAcceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.bankAcceptDate","id","dataModel.bankAcceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.number",1,"color-highlight"],["matInput","","type","text","name","dataModel.number","placeholder","123","id","dataModel.number",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","type","text","name","dataModel.description","placeholder","123","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","placeholder","1","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","placeholder","1","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userAcceptor","placeholder","1","id","dataModel.userAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isAccepted",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isAccepted","name","dataModel.isAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isAccepted",1,"custom-control-label"],["data-trigger-switch","dataModel.isBankAccepted",1,"font-600","font-14"],["type","checkbox","id","dataModel.isBankAccepted","name","dataModel.isBankAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isBankAccepted",1,"custom-control-label"],["for","dataModel.userBankAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userBankAcceptor","placeholder","1","id","dataModel.userBankAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.cardNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.cardNumber","placeholder","123","id","dataModel.cardNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.accountNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.accountNumber","placeholder","123","id","dataModel.accountNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",11),_(1,"app-progress-spinner",12),s(2,"div",13)(3,"p",14),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",15,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Cc,1,5,"app-cms-enum-record-status-selector",16)(11,Mc,5,3,"div",17)(12,Ic,5,3,"div",17)(13,bc,5,3,"div",17)(14,vc,5,3,"div",17),s(15,"div",18)(16,"label",19),p(17),a(),s(18,"input",20),T("ngModelChange",function(d){return u(c),E(e.dataModel.acceptDate,d)||(e.dataModel.acceptDate=d),f(d)}),a(),_(19,"mat-datepicker-toggle",21)(20,"mat-datepicker",22,1),a(),v(22,Ac,5,3,"div",17)(23,yc,8,2,"div",23)(24,wc,8,2,"div",23),s(25,"div",18)(26,"label",24),p(27),a(),s(28,"input",25),T("ngModelChange",function(d){return u(c),E(e.dataModel.bankAcceptDate,d)||(e.dataModel.bankAcceptDate=d),f(d)}),a(),_(29,"mat-datepicker-toggle",21)(30,"mat-datepicker",22,2),a(),v(32,Ec,5,3,"div",17)(33,Tc,5,3,"div",17)(34,Pc,5,3,"div",17)(35,xc,9,7,"div",26),a()()()}if(t&2){let c=R(21),h=R(31);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.number==null?null:e.fieldsInfo.number.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.accessWatchField),r(),m("ngIf",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.accessWatchField),r(3),y(e.fieldsInfo.acceptDate==null?null:e.fieldsInfo.acceptDate.fieldTitle),r(),m("matDatepicker",c),w("ngModel",e.dataModel.acceptDate),r(),m("for",c),r(3),m("ngIf",e.fieldsInfo.userAcceptor==null?null:e.fieldsInfo.userAcceptor.accessWatchField),r(),m("ngIf",e.fieldsInfo.isAccepted==null?null:e.fieldsInfo.isAccepted.accessWatchField),r(),m("ngIf",e.fieldsInfo.isBankAccepted==null?null:e.fieldsInfo.isBankAccepted.accessWatchField),r(3),y(e.fieldsInfo.bankAcceptDate==null?null:e.fieldsInfo.bankAcceptDate.fieldTitle),r(),m("matDatepicker",h),w("ngModel",e.dataModel.bankAcceptDate),r(),m("for",h),r(3),m("ngIf",e.fieldsInfo.userBankAcceptor==null?null:e.fieldsInfo.userBankAcceptor.accessWatchField),r(),m("ngIf",e.fieldsInfo.cardNumber==null?null:e.fieldsInfo.cardNumber.accessWatchField),r(),m("ngIf",e.fieldsInfo.accountNumber==null?null:e.fieldsInfo.accountNumber.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,At,Te,J,le,te,de,wt,Et,Tt,Ge,K,ue,j,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Rc=["vform"];function Dc(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",27),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function kc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",28),p(2),a(),s(3,"input",29,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.number,t)||(e.dataModel.number=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.number==null?null:o.fieldsInfo.number.fieldTitle),r(),w("ngModel",o.dataModel.number),m("disabled",!(o.fieldsInfo.number!=null&&o.fieldsInfo.number.accessAddField))}}function Vc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",30),p(2),a(),s(3,"input",31,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.description,t)||(e.dataModel.description=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),w("ngModel",o.dataModel.description),m("disabled",!(o.fieldsInfo.description!=null&&o.fieldsInfo.description.accessAddField))}}function Lc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",32),p(2),a(),s(3,"input",33,5),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.debtor,t)||(e.dataModel.debtor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.debtor==null?null:o.fieldsInfo.debtor.fieldTitle),r(),w("ngModel",o.dataModel.debtor),m("disabled",!(o.fieldsInfo.debtor!=null&&o.fieldsInfo.debtor.accessEditField))}}function Nc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",34),p(2),a(),s(3,"input",35,6),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.creditor,t)||(e.dataModel.creditor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.creditor==null?null:o.fieldsInfo.creditor.fieldTitle),r(),w("ngModel",o.dataModel.creditor),m("disabled",!(o.fieldsInfo.creditor!=null&&o.fieldsInfo.creditor.accessEditField))}}function Fc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",36),p(2),a(),s(3,"input",37,7),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userAcceptor,t)||(e.dataModel.userAcceptor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.userAcceptor==null?null:o.fieldsInfo.userAcceptor.fieldTitle),r(),w("ngModel",o.dataModel.userAcceptor),m("disabled",!(o.fieldsInfo.userAcceptor!=null&&o.fieldsInfo.userAcceptor.accessEditField))}}function Bc(n,l){if(n&1){let o=A();s(0,"div",38)(1,"div",39)(2,"h5",40),p(3),a()(),s(4,"div",41)(5,"div",42)(6,"input",43),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.isAccepted,t)||(e.dataModel.isAccepted=t),f(t)}),a(),_(7,"label",44),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.isAccepted==null?null:o.fieldsInfo.isAccepted.fieldTitle,""),r(3),w("ngModel",o.dataModel.isAccepted)}}function Oc(n,l){if(n&1){let o=A();s(0,"div",38)(1,"div",39)(2,"h5",45),p(3),a()(),s(4,"div",41)(5,"div",42)(6,"input",46),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.isBankAccepted,t)||(e.dataModel.isBankAccepted=t),f(t)}),a(),_(7,"label",47),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.isBankAccepted==null?null:o.fieldsInfo.isBankAccepted.fieldTitle,""),r(3),w("ngModel",o.dataModel.isBankAccepted)}}function Gc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",48),p(2),a(),s(3,"input",49,8),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.userBankAcceptor,t)||(e.dataModel.userBankAcceptor=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.userBankAcceptor==null?null:o.fieldsInfo.userBankAcceptor.fieldTitle),r(),w("ngModel",o.dataModel.userBankAcceptor),m("disabled",!(o.fieldsInfo.userBankAcceptor!=null&&o.fieldsInfo.userBankAcceptor.accessEditField))}}function Wc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",50),p(2),a(),s(3,"input",51,9),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.cardNumber,t)||(e.dataModel.cardNumber=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.cardNumber==null?null:o.fieldsInfo.cardNumber.fieldTitle),r(),w("ngModel",o.dataModel.cardNumber),m("disabled",!(o.fieldsInfo.cardNumber!=null&&o.fieldsInfo.cardNumber.accessAddField))}}function Hc(n,l){if(n&1){let o=A();s(0,"div",18)(1,"label",52),p(2),a(),s(3,"input",53,10),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.accountNumber,t)||(e.dataModel.accountNumber=t),f(t)}),a()()}if(n&2){let o=S();r(2),y(o.fieldsInfo.accountNumber==null?null:o.fieldsInfo.accountNumber.fieldTitle),r(),w("ngModel",o.dataModel.accountNumber),m("disabled",!(o.fieldsInfo.accountNumber!=null&&o.fieldsInfo.accountNumber.accessAddField))}}function jc(n,l){if(n&1){let o=A();s(0,"div",54)(1,"button",55),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",56),p(3),C(4,"translate"),a(),s(5,"button",57),_(6,"i",58),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Po=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new ii,d,k),this.data=i,this.dialogRef=t,this.smsEnumService=e,this.SmsMainCustomerCreditService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new ii,this.formInfo=new oe,this.dataModelEnumApiPathPermissionAccessStatusResult=new O,this.dataModelEnumApiPathPermissionActionResult=new O,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i});else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.getEnumApiPathPermissionAccessStatus(),this.getEnumApiPathPermissionAction()}getEnumApiPathPermissionAccessStatus(){this.smsEnumService.ServiceSmsApiPathPermissionAccessStatusEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionAccessStatusResult=i})}getEnumApiPathPermissionAction(){this.smsEnumService.ServiceSmsApiPathPermissionActionEnum().subscribe(i=>{this.dataModelEnumApiPathPermissionActionResult=i})}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.setAccessLoad(),this.SmsMainCustomerCreditService.setAccessDataType(Fe.Editor),this.SmsMainCustomerCreditService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainCustomerCreditService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(Re),g(Ii),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-customercredit-edit"]],viewQuery:function(t,e){if(t&1&&Z(Rc,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:36,vars:25,consts:[["vform","ngForm"],["AcceptDate",""],["BankAcceptDate",""],["Number",""],["Description",""],["Debtor",""],["Creditor",""],["UserAcceptor",""],["UserBankAcceptor",""],["CardNumber",""],["AccountNumber",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.acceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.acceptDate","id","dataModel.acceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.bankAcceptDate",1,"color-highlight"],["matInput","","type","number","name","dataModel.bankAcceptDate","id","dataModel.bankAcceptDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.number",1,"color-highlight"],["matInput","","type","text","name","dataModel.number","placeholder","123","id","dataModel.number",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.description",1,"color-highlight"],["matInput","","type","text","name","dataModel.description","placeholder","123","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.debtor",1,"color-highlight"],["matInput","","type","number","name","dataModel.debtor","placeholder","1","id","dataModel.debtor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.creditor",1,"color-highlight"],["matInput","","type","number","name","dataModel.creditor","placeholder","1","id","dataModel.creditor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.userAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userAcceptor","placeholder","1","id","dataModel.userAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isAccepted",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isAccepted","name","dataModel.isAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isAccepted",1,"custom-control-label"],["data-trigger-switch","dataModel.isBankAccepted",1,"font-600","font-14"],["type","checkbox","id","dataModel.isBankAccepted","name","dataModel.isBankAccepted",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isBankAccepted",1,"custom-control-label"],["for","dataModel.userBankAcceptor",1,"color-highlight"],["matInput","","type","number","name","dataModel.userBankAcceptor","placeholder","1","id","dataModel.userBankAcceptor",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.cardNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.cardNumber","placeholder","123","id","dataModel.cardNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],["for","dataModel.accountNumber",1,"color-highlight"],["matInput","","type","text","name","dataModel.accountNumber","placeholder","123","id","dataModel.accountNumber",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",11),_(1,"app-progress-spinner",12),s(2,"div",13)(3,"p",14),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",15,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Dc,1,5,"app-cms-enum-record-status-selector",16)(11,kc,5,3,"div",17)(12,Vc,5,3,"div",17)(13,Lc,5,3,"div",17)(14,Nc,5,3,"div",17),s(15,"div",18)(16,"label",19),p(17),a(),s(18,"input",20),T("ngModelChange",function(d){return u(c),E(e.dataModel.acceptDate,d)||(e.dataModel.acceptDate=d),f(d)}),a(),_(19,"mat-datepicker-toggle",21)(20,"mat-datepicker",22,1),a(),v(22,Fc,5,3,"div",17)(23,Bc,8,2,"div",23)(24,Oc,8,2,"div",23),s(25,"div",18)(26,"label",24),p(27),a(),s(28,"input",25),T("ngModelChange",function(d){return u(c),E(e.dataModel.bankAcceptDate,d)||(e.dataModel.bankAcceptDate=d),f(d)}),a(),_(29,"mat-datepicker-toggle",21)(30,"mat-datepicker",22,2),a(),v(32,Gc,5,3,"div",17)(33,Wc,5,3,"div",17)(34,Hc,5,3,"div",17)(35,jc,9,7,"div",26),a()()()}if(t&2){let c=R(21),h=R(31);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.number==null?null:e.fieldsInfo.number.accessWatchField),r(),m("ngIf",e.fieldsInfo.description==null?null:e.fieldsInfo.description.accessWatchField),r(),m("ngIf",e.fieldsInfo.debtor==null?null:e.fieldsInfo.debtor.accessWatchField),r(),m("ngIf",e.fieldsInfo.creditor==null?null:e.fieldsInfo.creditor.accessWatchField),r(3),y(e.fieldsInfo.acceptDate==null?null:e.fieldsInfo.acceptDate.fieldTitle),r(),m("matDatepicker",c),w("ngModel",e.dataModel.acceptDate),r(),m("for",c),r(3),m("ngIf",e.fieldsInfo.userAcceptor==null?null:e.fieldsInfo.userAcceptor.accessWatchField),r(),m("ngIf",e.fieldsInfo.isAccepted==null?null:e.fieldsInfo.isAccepted.accessWatchField),r(),m("ngIf",e.fieldsInfo.isBankAccepted==null?null:e.fieldsInfo.isBankAccepted.accessWatchField),r(3),y(e.fieldsInfo.bankAcceptDate==null?null:e.fieldsInfo.bankAcceptDate.fieldTitle),r(),m("matDatepicker",h),w("ngModel",e.dataModel.bankAcceptDate),r(),m("for",h),r(3),m("ngIf",e.fieldsInfo.userBankAcceptor==null?null:e.fieldsInfo.userBankAcceptor.accessWatchField),r(),m("ngIf",e.fieldsInfo.cardNumber==null?null:e.fieldsInfo.cardNumber.accessWatchField),r(),m("ngIf",e.fieldsInfo.accountNumber==null?null:e.fieldsInfo.accountNumber.accessWatchField),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,At,Te,J,le,te,de,wt,Et,Tt,Ge,K,ue,j,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var qc=()=>[5,10,20,100];function Uc(n,l){if(n&1){let o=A();s(0,"div",35)(1,"a",36),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",37)(3,"br"),a(),s(4,"p",38),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function Qc(n,l){if(n&1){let o=A();s(0,"div",35)(1,"a",39),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",40)(3,"br"),a(),s(4,"p",38),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function zc(n,l){if(n&1){let o=A();s(0,"div",35)(1,"a",41),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),s(4,"p",38),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function Jc(n,l){if(n&1&&(s(0,"mat-header-cell",43),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Kc(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function Xc(n,l){if(n&1&&(s(0,"mat-header-cell",43),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Yc(n,l){if(n&1&&(s(0,"mat-cell",44),C(1,"statusCellClass"),_(2,"i",44),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function Zc(n,l){if(n&1&&(s(0,"mat-header-cell",43),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function $c(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function em(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function tm(n,l){if(n&1&&(s(0,"mat-cell",45)(1,"button",46)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function im(n,l){n&1&&_(0,"mat-header-row")}function nm(n,l){if(n&1){let o=A();s(0,"mat-row",47),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var xo=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){super(i,new ii,be,d,k),this.contentService=i,this.cmsToastrService=t,this.activatedRoute=e,this.cmsConfirmationDialogService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.requestLinkApiPathId="",this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus"],this.tabledisplayedColumnsMobileSource=["RecordStatus"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new ii);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id.length>0){let e=new Q;e.propertyName="LinkApiPathId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(To,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Po,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length==0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?"}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(g(Ii),g(L),g(yt),g(We),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-customercredit-list"]],features:[U],decls:47,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),s(2,"app-sms-apipath-tree",5),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(3,6)(4,7),P(5,8),s(6,"a",9),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",10),a(),s(8,"a",9),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(9,"i",11),a(),x(),P(10,12),s(11,"a",13),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",14),p(13),C(14,"translate"),a(),s(15,"a",13),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",14),p(17),C(18,"translate"),a(),x(),P(19,15),v(20,Uc,7,3,"div",16),x(),P(21,17),v(22,Qc,7,3,"div",16)(23,zc,7,3,"div",16),x(),P(24,18),s(25,"app-cms-search-list",19),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(26,"app-cms-statist-list",19),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(27,20),s(28,"mat-table",21,0),b("matSortChange",function(){u(c);let d=R(29);return f(e.onTableSortData(d))}),P(30,22),v(31,Jc,2,1,"mat-header-cell",23)(32,Kc,2,1,"mat-cell",24),x(),P(33,25),v(34,Xc,2,1,"mat-header-cell",23)(35,Yc,4,6,"mat-cell",26),x(),P(36,27),v(37,Zc,2,1,"mat-header-cell",23)(38,$c,2,1,"mat-cell",24),x(),P(39,28),v(40,em,3,3,"mat-header-cell",29)(41,tm,6,1,"mat-cell",30),x(),v(42,im,1,0,"mat-header-row",31)(43,nm,1,6,"mat-row",32),a(),x(),P(44,33),s(45,"mat-paginator",34,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkApiPathId||e.requestLinkApiPathId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),m("checked",e.optionsSearch.data.show),r(),I("",M(14,23,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(18,25,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(14),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(27,qc)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Ai,H,dt,Mt],encapsulation:2});let n=l;return n})();var om=["*"];function rm(n,l){if(n&1&&(s(0,"label",13),p(1),a()),n&2){let o=S();Vt("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function am(n,l){if(n&1&&(_(0,"img",14),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModelSelect==null?null:o.dataModelSelect.linkMainImageIdSrc),Me)}}function sm(n,l){if(n&1&&(_(0,"img",14),C(1,"cmsthumbnail")),n&2){let o=S().$implicit;G("src",M(1,1,o.linkMainImageIdSrc),Me)}}function lm(n,l){if(n&1&&(s(0,"mat-option",15),v(1,sm,2,3,"img",5),s(2,"span"),p(3),a()()),n&2){let o=l.$implicit,i=S();m("value",o)("disabled",i.optionDisabled),r(),m("ngIf",o.linkMainImageIdSrc),r(2),y(i.displayOption(o))}}function dm(n,l){n&1&&_(0,"i",16)}function cm(n,l){n&1&&_(0,"i",17)}function mm(n,l){if(n&1){let o=A();s(0,"i",18),b("click",function(){u(o);let t=S();return f(t.onActionSelectClear())}),a()}}function pm(n,l){n&1&&(s(0,"em"),p(1),C(2,"translate"),a()),n&2&&(r(),I("(",M(2,1,"TITLE.Necessary"),")"))}var yn=(()=>{let l=class l{constructor(i,t,e,c,h,d){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=c,this.translate=h,this.categoryService=d,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new O,this.dataModelSelect=new bt,this.formControl=new zt,this.optionPlaceholder="",this.optionRequired=!1,this.optionDisabled=!1,this.optionLabel="",this.optionSelectFirstItem=!1,this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){this.loadOptions()}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(di(""),si(1500),li(),ci(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return oi(this,null,function*(){let t=new Y;t.rowPerPage=20,t.accessLoad=!0;let e=new Q;e.propertyName="Title",e.value=i,e.searchType=It.Contains,e.clauseType=qt.Or,t.filters.push(e),i&&typeof+i=="string"&&+i>0&&(e=new Q,e.propertyName="Id",e.value=i,e.searchType=It.Equal,e.clauseType=qt.Or,t.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(c,h,this.constructorInfoAreaId)}),yield ri(this.categoryService.ServiceGetAll(t)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0])},1e3),this.onActionSelect(this.dataModelResult.listItems[0])),this.publicHelper.processService.processStop(c),h.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ai(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof bt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new bt,this.loadOptions()}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(g(he),g(L),g(F),g(N),g(B),g(Bt))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-category-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionRequired:"optionRequired",optionDisabled:"optionDisabled",optionLabel:"optionLabel",optionSelectFirstItem:"optionSelectFirstItem",optionReload:"optionReload",optionSelectForce:"optionSelectForce"},outputs:{optionChange:"optionChange"},ngContentSelectors:om,decls:16,vars:18,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","has-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["matPrefix",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","25","width","25",3,"src",4,"ngIf"],["type","text","aria-label","Assignee","matInput","","id","forminput",3,"placeholder","formControl","matAutocomplete","required","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","fa fa-info  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],["class","fa fa-times  action color-red-dark",3,"click",4,"ngIf"],[4,"ngIf"],[1,"color-highlight",3,"for"],["aria-hidden","","height","25","width","25",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"value","disabled"],[1,"fa","fa-info","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"fa","fa-times","action","color-red-dark",3,"click"]],template:function(t,e){if(t&1){let c=A();mi(),s(0,"div",1),_(1,"app-progress-spinner",2),v(2,rm,2,3,"label",3),s(3,"span",4),v(4,am,2,3,"img",5),p(5," \xA0"),a(),_(6,"input",6),s(7,"mat-autocomplete",7,0),b("optionSelected",function(d){return u(c),f(e.onActionSelect(d.option.value))}),v(9,lm,4,4,"mat-option",8),C(10,"async"),a(),v(11,dm,1,0,"i",9)(12,cm,1,0,"i",10)(13,mm,1,0,"i",11)(14,pm,3,3,"em",12),pi(15),a()}if(t&2){let c=R(8);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(2),m("ngIf",e.dataModelSelect&&(e.dataModelSelect==null?null:e.dataModelSelect.linkMainImageIdSrc)),r(2),G("placeholder",e.optionPlaceholder),Vt("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c)("required",e.optionRequired),kt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(10,16,e.filteredOptions)),r(2),m("ngIf",!e.formControl.valid),r(),m("ngIf",e.optionRequired&&e.formControl.valid),r(),m("ngIf",(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),m("ngIf",e.optionRequired&&(!e.dataModelSelect||!e.dataModelSelect.id||e.dataModelSelect.id.length<=0))}},dependencies:[Ve,W,z,J,_e,fi,bi,ui,vi,Qn,K,j,Qt,H,Ct],encapsulation:2});let n=l;return n})();var um=["vform"];function fm(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",16),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function hm(n,l){n&1&&_(0,"i",21)}function Sm(n,l){n&1&&_(0,"i",22)}function gm(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function _m(n,l){if(n&1){let o=A();s(0,"div",11)(1,"label",17),p(2),a(),s(3,"input",18,2),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,hm,1,0,"i",19)(6,Sm,1,0,"i",20),s(7,"em"),p(8),a(),v(9,gm,5,3,"mat-error",14),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Cm(n,l){n&1&&(s(0,"mat-error"),p(1," messageBody is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Mm(n,l){if(n&1){let o=A();s(0,"div",23)(1,"button",24),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",25),p(3),C(4,"translate"),a(),s(5,"button",26),_(6,"i",27),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Do=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new Rt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.SmsMainMessageContentService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new Rt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.linkCategoryId&&i.linkCategoryId.length>0&&(this.dataModel.linkCategoryId=i.linkCategoryId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){this.cmsToastrService.typeErrorSelected("\u062F\u0633\u062A \u0628\u0646\u062F\u06CC   \u0645\u0634\u062E\u0635 \u0646\u06CC\u0633\u062A");return}this.formInfo.formSubmitAllow=!1,this.DataAddContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(i){if(!i||i.id?.length==0){let t=this.translate.instant("MESSAGE.Category_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkCategoryId=i.id}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Kt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-content-add"]],viewQuery:function(t,e){if(t&1&&Z(um,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:23,vars:17,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",3),_(1,"app-progress-spinner",4),s(2,"div",5)(3,"p",6),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",7,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,fm,1,5,"app-cms-enum-record-status-selector",8),s(11,"app-sms-main-message-category-selector",9),C(12,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectCategory(d))}),a(),v(13,_m,10,7,"div",10),s(14,"div",11)(15,"label",12),p(16),a(),s(17,"textarea",13,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.messageBody,d)||(e.dataModel.messageBody=d),f(d)}),a(),s(19,"em"),p(20),a(),v(21,Cm,5,3,"mat-error",14),a(),v(22,Mm,9,7,"div",15),a()()()}if(t&2){let c=R(18);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkCategoryId)("optionPlaceholder",M(12,15,"TITLE.Category")),r(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.messageBody==null?null:e.fieldsInfo.messageBody.fieldTitle),r(),G("placeholder",e.fieldsInfo.messageBody==null?null:e.fieldsInfo.messageBody.fieldTitle),w("ngModel",e.dataModel.messageBody),r(3),I("",c.value.length," / 5000"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,yn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Im=["vform"];function bm(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",16),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vm(n,l){n&1&&_(0,"i",21)}function Am(n,l){n&1&&_(0,"i",22)}function ym(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function wm(n,l){if(n&1){let o=A();s(0,"div",11)(1,"label",17),p(2),a(),s(3,"input",18,2),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,vm,1,0,"i",19)(6,Am,1,0,"i",20),s(7,"em"),p(8),a(),v(9,ym,5,3,"mat-error",14),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Em(n,l){n&1&&(s(0,"mat-error"),p(1," messageBody is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Tm(n,l){if(n&1){let o=A();s(0,"div",23)(1,"button",24),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",25),p(3),C(4,"translate"),a(),s(5,"button",26),_(6,"i",27),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var ko=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new Rt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.SmsMainMessageContentService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new Rt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){}ngOnInit(){if(this.requestId.length>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.setAccessLoad(),this.SmsMainMessageContentService.setAccessDataType(Fe.Editor),this.SmsMainMessageContentService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.SmsMainMessageContentService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){if(this.formGroup.valid){if(!this.dataModel.linkCategoryId||this.dataModel.linkCategoryId.length==0){let i=this.translate.instant("MESSAGE.Category_is_not_clear");this.cmsToastrService.typeErrorSelected(i);return}this.formInfo.formSubmitAllow=!1,this.DataEditContent()}}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}onActionSelectCategory(i){if(!i||i.id.length==0){let t=this.translate.instant("MESSAGE.Category_is_not_clear");this.cmsToastrService.typeErrorSelected(t);return}this.dataModel.linkCategoryId=i.id}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Kt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-content-edit"]],viewQuery:function(t,e){if(t&1&&Z(Im,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:23,vars:17,consts:[["vform","ngForm"],["messageBody",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionChange","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.messageBody",1,"color-highlight"],["matInput","","name","dataModel.messageBody","type","text","minlength","1","maxlength","5000","rows","5","id","dataModel.messageBody",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",3),_(1,"app-progress-spinner",4),s(2,"div",5)(3,"p",6),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",7,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,bm,1,5,"app-cms-enum-record-status-selector",8),s(11,"app-sms-main-message-category-selector",9),C(12,"translate"),b("optionChange",function(d){return u(c),f(e.onActionSelectCategory(d))}),a(),v(13,wm,10,7,"div",10),s(14,"div",11)(15,"label",12),p(16),a(),s(17,"textarea",13,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.messageBody,d)||(e.dataModel.messageBody=d),f(d)}),a(),s(19,"em"),p(20),a(),v(21,Em,5,3,"mat-error",14),a(),v(22,Tm,9,7,"div",15),a()()()}if(t&2){let c=R(18);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,13,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("optionSelectForce",e.dataModel.linkCategoryId)("optionPlaceholder",M(12,15,"TITLE.Category")),r(2),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.messageBody==null?null:e.fieldsInfo.messageBody.fieldTitle),r(),G("placeholder",e.fieldsInfo.messageBody==null?null:e.fieldsInfo.messageBody.fieldTitle),w("ngModel",e.dataModel.messageBody),r(3),I("",c.value.length," / 5000"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,yn,H],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Pm=["vform"];function xm(n,l){if(n&1){let o=A();P(0),s(1,"div",7)(2,"label",10),p(3),a(),s(4,"input",11,0),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModelResultCategory.item.title,t)||(e.dataModelResultCategory.item.title=t),f(t)}),a()(),s(6,"div",7)(7,"label",8),p(8),a(),s(9,"textarea",9,0),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModelResultCategory.item.description,t)||(e.dataModelResultCategory.item.description=t),f(t)}),p(11,"              "),a()(),x()}if(n&2){let o=S();r(3),y(o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle),r(),w("ngModel",o.dataModelResultCategory.item.title),r(4),y(o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle),r(),w("ngModel",o.dataModelResultCategory.item.description)}}function Rm(n,l){if(n&1){let o=A();s(0,"div",12)(1,"button",13),b("click",function(){u(o);let t=S();return f(t.onFormMove())}),_(2,"i",14),p(3),C(4,"translate"),a(),s(5,"button",15),b("click",function(){u(o);let t=S();return f(t.onFormDelete())}),_(6,"i",16),p(7),C(8,"translate"),a(),s(9,"button",17),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(10,"i",14),p(11),C(12,"translate"),a()()}if(n&2){let o=S();r(),m("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),I(" ",M(4,5,"TITLE.MOVE_DATA")," "),r(2),m("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),I(" ",M(8,7,"ACTION.DELETE")," "),r(4),I(" ",M(12,9,"ACTION.CANCEL")," ")}}function Dm(n,l){if(n&1){let o=A();s(0,"div",12)(1,"button",13),b("click",function(){u(o);let t=S();return f(t.onFormMove())}),_(2,"i",14),p(3),C(4,"translate"),a(),s(5,"button",15),b("click",function(){u(o);let t=S();return f(t.onFormDelete())}),_(6,"i",16),p(7),C(8,"translate"),a(),s(9,"button",17),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(10,"i",14),p(11),C(12,"translate"),a()()}if(n&2){let o=S();r(),m("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),I(" ",M(4,5,"TITLE.MOVE_DATA")," "),r(2),m("disabled",!o.formInfo.buttonSubmittedEnabled),r(2),I(" ",M(8,7,"ACTION.DELETE")," "),r(4),I(" ",M(12,9,"ACTION.CANCEL")," ")}}var Vo=(()=>{let l=class l{constructor(i,t,e,c,h,d,D){this.data=i,this.dialogRef=t,this.publicHelper=e,this.smsMainMessageCategoryService=c,this.cdr=h,this.translate=d,this.cmsToastrService=D,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.dataModelResultCategory=new O,this.dataModelResultCategoryAllData=new O,this.dataModel={},this.formInfo=new oe,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&i.id.length>0&&(this.requestId=i.id)}ngOnInit(){if(this.requestId.length==0){this.cmsToastrService.typeErrorDeleteRowIsNull(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOne(),this.DataGetAll()}DataGetOne(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.translate.get("TITLE.Loading_Information").subscribe(t=>{this.formInfo.formAlert=t});let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Fe.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResultCategory=t,t.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetOne()),this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataGetAll(){this.translate.get("TITLE.Loading_Information").subscribe(e=>{this.formInfo.formAlert=e});let i=new Y;i.rowPerPage=100;let t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(e=>{this.publicHelper.processService.processStart(t,e,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceGetAll(i).subscribe({next:e=>{this.dataModelResultCategoryAllData=e,e.isSuccess?this.formInfo.formAlert="":(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formError=e.errorMessage,this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeErrorGetAll()),this.publicHelper.processService.processStop(t)},error:e=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(c=>{this.formInfo.formAlert=c}),this.formInfo.formErrorStatus=!0,this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(t,!1)}})}onFormMove(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}if(!this.formGroup.valid)return;this.formInfo.formSubmitAllow=!0,this.dataModel.newCatId===this.requestId&&(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!0),this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceMove(this.requestId,this.dataModel.newCatId).subscribe({next:t=>{t.isSuccess?(this.translate.get("MESSAGE.The_Transfer_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessMove()):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMove()),this.formInfo.formSubmitAllow=!0,this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formSubmitAllow=!0,this.publicHelper.processService.processStop(i)}})}onFormDelete(){if(this.requestId.length===0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.formInfo.formSubmitAllow=!1,this.formInfo.buttonSubmittedEnabled=!1;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceDelete(this.requestId).subscribe({next:t=>{this.formInfo.formSubmitAllow=!t.isSuccess,t.isSuccess?(this.translate.get("MESSAGE.Deletion_Was_Successful").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessRemove(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorRemove()),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)},error:t=>{this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.formInfo.buttonSubmittedEnabled=!0,this.publicHelper.processService.processStop(i)}})}onFormChangeNewCatId(i){if(this.formInfo.formAlert="",this.requestId.length===0||!i||i.id.length<=0){this.cmsToastrService.typeErrorDeleteRowIsNull();return}this.dataModel.newCatId=i.id,this.dataModel.newCatId===this.requestId?(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=this.translate.instant("ERRORMESSAGE.MESSAGE.The_delete_category_ID_is_the_same_as_the_alternate_category"),this.formInfo.buttonSubmittedEnabled=!1):(this.formInfo.buttonSubmittedEnabled=!0,this.formInfo.formError="")}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(N),g(Bt),g(F),g(B),g(L))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-category-delete"]],viewQuery:function(t,e){if(t&1&&Z(Pm,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},decls:17,vars:10,consts:[["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModelResultCategory.item.description",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.description","minlength","1","maxlength","100","rows","5","id","dataModelResultCategory.item.description","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModelResultCategory.item.title",1,"color-highlight"],["matInput","","type","text","name","dataModelResultCategory.item.title","minlength","3","maxlength","50","id","dataModelResultCategory.item.title","placeholder","0",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click","disabled"],[1,"ft-x"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click","disabled"],[1,"fa","fa-check-square-o"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"div",1),_(1,"app-progress-spinner",2),s(2,"div",3)(3,"p",4),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),v(8,xm,12,4,"ng-container",5)(9,Rm,13,11,"div",6),s(10,"div",7)(11,"label",8),p(12),a(),s(13,"textarea",9,0),T("ngModelChange",function(d){return u(c),E(e.dataModelResultCategory.item.description,d)||(e.dataModelResultCategory.item.description=d),f(d)}),p(15,"              "),a()(),v(16,Dm,13,11,"div",6),a()()}t&2&&(r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),r(2),m("ngIf",e.dataModelResultCategory==null?null:e.dataModelResultCategory.item),r(),m("ngIf",e.formInfo.formSubmitAllow),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),w("ngModel",e.dataModelResultCategory.item.description),r(3),m("ngIf",e.formInfo.formSubmitAllow))},dependencies:[W,z,J,Pe,xe,te,K,j,H]});let n=l;return n})();var km=["vform"];function Vm(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",22),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Lm(n,l){n&1&&_(0,"i",27)}function Nm(n,l){n&1&&_(0,"i",28)}function Fm(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Bm(n,l){if(n&1){let o=A();s(0,"div",11)(1,"label",23),p(2),a(),s(3,"input",24,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,Lm,1,0,"i",25)(6,Nm,1,0,"i",26),s(7,"em"),p(8),a(),v(9,Fm,5,3,"mat-error",14),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Om(n,l){n&1&&(s(0,"mat-error"),p(1," Description is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Gm(n,l){if(n&1&&(_(0,"img",29),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function Wm(n,l){if(n&1){let o=A();s(0,"div",30)(1,"button",31),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",32),p(3),C(4,"translate"),a(),s(5,"button",33),_(6,"i",34),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Lo=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new bt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainMessageCategoryService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new bt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&i.id.length>0&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}ngOnInit(){if(this.requestId.length>0)this.formInfo.formTitle=this.translate.instant("TITLE.Edit_Categories"),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length==0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.setAccessLoad(),this.smsMainMessageCategoryService.setAccessDataType(Fe.Editor),this.smsMainMessageCategoryService.ServiceGetOneById(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Bt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-category-edit"]],viewQuery:function(t,e){if(t&1&&Z(km,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:33,vars:32,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",4),_(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",8,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,Vm,1,5,"app-cms-enum-record-status-selector",9)(11,Bm,10,7,"div",10),s(12,"div",11)(13,"label",12),p(14),a(),s(15,"textarea",13,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.description,d)||(e.dataModel.description=d),f(d)}),a(),s(17,"em"),p(18),a(),v(19,Om,5,3,"mat-error",14),a(),s(20,"div",15)(21,"a",16),C(22,"cmsthumbnail"),v(23,Gm,2,3,"img",17),a()(),s(24,"div",11)(25,"label",18),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(26),C(27,"translate"),a(),s(28,"input",19,2),C(30,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(31,"cms-file-manager",20),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(32,Wm,9,7,"div",21),a()()()}if(t&2){let c=R(16);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),I("",c.value.length," / 500"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(2),G("href",M(22,26,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(27,28,"TITLE.Icon_File")),r(2),G("placeholder",M(30,30,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,Ot,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Hm=["vform"];function jm(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",22),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function qm(n,l){n&1&&_(0,"i",27)}function Um(n,l){n&1&&_(0,"i",28)}function Qm(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function zm(n,l){if(n&1){let o=A();s(0,"div",11)(1,"label",23),p(2),a(),s(3,"input",24,3),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,qm,1,0,"i",25)(6,Um,1,0,"i",26),s(7,"em"),p(8),a(),v(9,Qm,5,3,"mat-error",14),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Jm(n,l){n&1&&(s(0,"mat-error"),p(1," Description is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Km(n,l){if(n&1&&(_(0,"img",29),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function Xm(n,l){if(n&1){let o=A();s(0,"div",30)(1,"button",31),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",32),p(3),C(4,"translate"),a(),s(5,"button",33),_(6,"i",34),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(9);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var No=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new bt,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainMessageCategoryService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestParentId="",this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new bt,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.parentId&&i.parentId.length>0&&(this.requestParentId=i.parentId),this.requestParentId.length>0&&(this.dataModel.linkParentId=this.requestParentId),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}ngOnInit(){this.formInfo.formTitle=this.translate.instant("TITLE.Register_New_Categories"),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainMessageCategoryService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Bt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-category-add"]],viewQuery:function(t,e){if(t&1&&Z(Hm,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:33,vars:32,consts:[["vform","ngForm"],["Description",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[4,"ngIf"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",4),_(1,"app-progress-spinner",5),s(2,"div",6)(3,"p",7),p(4),a(),s(5,"p"),p(6),C(7,"translate"),a(),s(8,"form",8,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(10,jm,1,5,"app-cms-enum-record-status-selector",9)(11,zm,10,7,"div",10),s(12,"div",11)(13,"label",12),p(14),a(),s(15,"textarea",13,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.description,d)||(e.dataModel.description=d),f(d)}),a(),s(17,"em"),p(18),a(),v(19,Jm,5,3,"mat-error",14),a(),s(20,"div",15)(21,"a",16),C(22,"cmsthumbnail"),v(23,Km,2,3,"img",17),a()(),s(24,"div",11)(25,"label",18),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(26),C(27,"translate"),a(),s(28,"input",19,2),C(30,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(31,"cms-file-manager",20),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(32,Xm,9,7,"div",21),a()()()}if(t&2){let c=R(16);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(2),I(" ",M(7,24,"TITLE.Be_Careful_When_Entering_Information")," "),r(4),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.description),r(3),I("",c.value.length," / 500"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(2),G("href",M(22,26,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(27,28,"TITLE.Icon_File")),r(2),G("placeholder",M(30,30,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,Ot,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();function Ym(n,l){if(n&1){let o=A();s(0,"button",13),b("click",function(){u(o);let t=S();return f(t.onActionAdd())}),p(1),C(2,"translate"),a()}n&2&&(r(),y(M(2,1,"ACTION.ADD")))}function Zm(n,l){if(n&1){let o=A();s(0,"button",14),b("click",function(){u(o);let t=S();return f(t.onActionEdit())}),p(1),C(2,"translate"),a()}n&2&&(r(),y(M(2,1,"ACTION.EDIT")))}function $m(n,l){if(n&1){let o=A();s(0,"button",15),b("click",function(){u(o);let t=S();return f(t.onActionDelete())}),p(1),C(2,"translate"),a()}n&2&&(r(),y(M(2,1,"ACTION.DELETE")))}function ep(n,l){if(n&1){let o=A();s(0,"button",16),b("click",function(){u(o);let t=S();return f(t.onActionButtonReload())}),s(1,"mat-icon",17),C(2,"translate"),p(3,"refresh"),a()()}n&2&&(r(),G("title",M(2,1,"ACTION.RELOAD")))}function tp(n,l){if(n&1){let o=A();s(0,"mat-tree-node",18),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),_(1,"button",19),p(2),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-tree-odd",i%2)("ntk-tree-even",!(i%2))("ntk-tree-selected",(t.dataModelSelect.id==null?null:t.dataModelSelect.id.length)>0&&t.dataModelSelect.id===o.id),r(2),I(" ",o.title," ")}}function ip(n,l){if(n&1){let o=A();s(0,"mat-nested-tree-node")(1,"li")(2,"div",20),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),s(3,"button",21),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionSelect(t))}),s(4,"mat-icon",22),p(5),a()(),p(6),a(),s(7,"ul"),Ee(8,23),a()()()}if(n&2){let o=l.$implicit,i=S();r(2),ye("ntk-tree-selected",(i.dataModelSelect.id==null?null:i.dataModelSelect.id.length)>0&&i.dataModelSelect.id===o.id),r(),kt("aria-label","Toggle "+o.title),r(2),I(" ",i.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),r(),I(" ",o.title," "),r(),ye("category-tree-invisible",!i.treeControl.isExpanded(o))}}var Fo=(()=>{let l=class l{constructor(i,t,e,c,h,d,D,k){this.cmsToastrService=i,this.coreEnumService=t,this.categoryService=e,this.dialog=c,this.cdr=h,this.publicHelper=d,this.tokenHelper=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.dataModelSelect=new bt,this.dataModelResult=new O,this.filterModel=new Y,this.treeControl=new ln(Ie=>Ie.children),this.dataSource=new Sn,this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.hasChild=(Ie,be)=>!!be.children&&be.children.length>0,this.firstLoadDataRunned=!1,this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}ngOnInit(){setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe(i=>{this.DataGetAll()})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.filterModel.rowPerPage=200,this.filterModel.accessLoad=!0;let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.categoryService.ServiceGetAll(this.filterModel).subscribe({next:t=>{t.isSuccess?(this.dataModelResult=t,this.dataSource.data=this.dataModelResult.listItems):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionButtonReload(){this.onActionSelect(null),this.dataModelSelect=new bt,this.DataGetAll()}onActionSelectForce(i){}onActionAdd(){let i="";this.dataModelSelect&&this.dataModelSelect.id?.length>0&&(i=this.dataModelSelect.id);let t=new ji;t.disableClose=!0,t.autoFocus=!0,t.data={parentId:i},this.dialog.open(No,t).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionEdit(){let i="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(i=this.dataModelSelect.id),i.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Lo,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionDelete(){let i="";if(this.dataModelSelect&&this.dataModelSelect.id.length>0&&(i=this.dataModelSelect.id),i.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorCategoryNotSelected").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Vo,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:i}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}};l.\u0275fac=function(t){return new(t||l)(g(L),g(he),g(Bt),g(we),g(F),g(N),g(Ae),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-category-tree"]],inputs:{optionSelectForce:"optionSelectForce",optionReload:"optionReload"},outputs:{optionChange:"optionChange"},decls:15,vars:14,consts:[[3,"optionHeaderDisplay","optionActionMainDisplay","optionFooterDisplay"],["cms-tree-header",""],["cms-tree-action",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-magenta",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-red",3,"click",4,"ngIf"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight",3,"click",4,"ngIf"],["cms-tree-body","",1,"loader-container"],[3,"optionsInfoAreaId"],[1,"category-tree","cursor-pointer",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ntk-tree-odd","ntk-tree-even","ntk-tree-selected","click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["cms-tree-footer",""],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[2,"font-size","20px","margin","-6px",3,"title"],["matTreeNodePadding","",3,"click"],["type","button","mat-icon-button","","disabled",""],[1,"mat-tree-node",3,"click"],["type","button","mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(t,e){t&1&&(s(0,"app-cms-html-tree",0),P(1,1),p(2),C(3,"translate"),x(),P(4,2),v(5,Ym,3,3,"button",3)(6,Zm,3,3,"button",4)(7,$m,3,3,"button",5)(8,ep,4,3,"button",6),x(),P(9,7),_(10,"app-progress-spinner",8),s(11,"mat-tree",9),v(12,tp,3,7,"mat-tree-node",10)(13,ip,9,7,"mat-nested-tree-node",11),a(),x(),Ee(14,12),a()),t&2&&(m("optionHeaderDisplay",!0)("optionActionMainDisplay",!0)("optionFooterDisplay",!1),r(2),I(" ",M(3,12,"TABLE."+(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.moduleEntityName))," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),m("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow)&&(e.dataModelSelect==null||e.dataModelSelect.id==null?null:e.dataModelSelect.id.length)>0),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow),r(2),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("dataSource",e.dataSource)("treeControl",e.treeControl),r(2),m("matTreeNodeDefWhen",e.hasChild))},dependencies:[W,Le,Se,mn,cn,pn,hn,fn,dn,un,j,qi,H]});let n=l;return n})();var op=()=>[5,10,20,100];function rp(n,l){if(n&1){let o=A();s(0,"div",37)(1,"a",38),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",39)(3,"br"),a(),s(4,"p",40),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function ap(n,l){if(n&1){let o=A();s(0,"div",37)(1,"a",41),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",42)(3,"br"),a(),s(4,"p",40),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function sp(n,l){if(n&1){let o=A();s(0,"div",37)(1,"a",43),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),s(4,"p",40),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function lp(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function dp(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function cp(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function mp(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"cmssiteinfo"),C(3,"async"),a()),n&2){let o=l.$implicit;r(),I(" ",M(3,3,M(2,1,o.linkSiteId))," ")}}function pp(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function up(n,l){if(n&1&&(s(0,"mat-cell"),_(1,"i",46),C(2,"statusIconClass"),a()),n&2){let o=l.$implicit;r(),m("ngClass",M(2,1,o.recordStatus))}}function fp(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function hp(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function Sp(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function gp(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.createdDate)," ")}}function _p(n,l){if(n&1&&(s(0,"mat-header-cell",45),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function Cp(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.updatedDate)," ")}}function Mp(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function Ip(n,l){if(n&1&&(s(0,"mat-cell",47)(1,"button",48)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function bp(n,l){n&1&&_(0,"mat-header-row")}function vp(n,l){if(n&1){let o=A();s(0,"mat-row",49),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Bo=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){if(super(i,new Rt,be,d,D),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.router=c,this.activatedRoute=h,this.tokenHelper=d,this.translate=D,this.cdr=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.requestLinkCategoryId="",this.constructorInfoAreaId=this.constructor.name,this.filteModelContent=new Y,this.categoryModelSelected=new bt,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","CreatedDate","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","CreatedDate","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkCategoryId=this.activatedRoute.snapshot.paramMap.get("LinkCategoryId"),this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending,this.requestLinkCategoryId&&this.requestLinkCategoryId.length>0){let Be=new Q;Be.propertyName="LinkCategoryId",Be.value=this.requestLinkCategoryId,this.filteModelContent.filters.push(Be)}}ngOnInit(){this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));if(this.categoryModelSelected&&this.categoryModelSelected.id?.length>0){let e=new Q;e.propertyName="LinkCategoryId",e.value=this.categoryModelSelected.id,t.filters.push(e)}this.contentService.setAccessLoad(),this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),e.isSuccess?(this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){let i=new ji;i.disableClose=!0,i.autoFocus=!0,i.height="90%",i.data={linkCategoryId:this.categoryModelSelected?.id},this.dialog.open(Do,i).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}let t=new ji;t.disableClose=!0,t.autoFocus=!0,t.height="90%",t.data={id:this.tableRowSelected.id},this.dialog.open(ko,t).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionSelectorSelect(i){var t=this.filteModelContent.sortColumn,e=this.filteModelContent.sortType;this.filteModelContent=new Y,this.filteModelContent.sortColumn=t,this.filteModelContent.sortType=e,this.categoryModelSelected=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(g(Kt),g(L),g(We),g(qe),g(yt),g(Ae),g(B),g(F),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-content-list"]],features:[U],decls:56,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],[3,"optionChange"],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","RecordStatus"],["matColumnDef","Title"],["matColumnDef","CreatedDate"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class","Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),s(2,"app-sms-main-message-category-tree",5),b("optionChange",function(d){return u(c),f(e.onActionSelectorSelect(d))}),a(),x(),Ee(3,6)(4,7),P(5,8),s(6,"a",9),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",10),a(),s(8,"a",9),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(9,"i",11),a(),x(),P(10,12),s(11,"a",13),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",14),p(13),C(14,"translate"),a(),s(15,"a",13),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",14),p(17),C(18,"translate"),a(),x(),P(19,15),v(20,rp,7,3,"div",16),x(),P(21,17),v(22,ap,7,3,"div",16)(23,sp,7,3,"div",16),x(),P(24,18),s(25,"app-cms-search-list",19),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(26,"app-cms-statist-list",19),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(27,20),s(28,"mat-table",21,0),b("matSortChange",function(){u(c);let d=R(29);return f(e.onTableSortData(d))}),P(30,22),v(31,lp,2,1,"mat-header-cell",23)(32,dp,2,1,"mat-cell",24),x(),P(33,25),v(34,cp,2,1,"mat-header-cell",23)(35,mp,4,5,"mat-cell",24),x(),P(36,26),v(37,pp,2,1,"mat-header-cell",23)(38,up,3,3,"mat-cell",24),x(),P(39,27),v(40,fp,2,1,"mat-header-cell",23)(41,hp,2,1,"mat-cell",24),x(),P(42,28),v(43,Sp,2,1,"mat-header-cell",23)(44,gp,3,3,"mat-cell",24),x(),P(45,29),v(46,_p,2,1,"mat-header-cell",23)(47,Cp,3,3,"mat-cell",24),x(),P(48,30),v(49,Mp,3,3,"mat-header-cell",31)(50,Ip,6,1,"mat-cell",32),x(),v(51,bp,1,0,"mat-header-row",33)(52,vp,1,6,"mat-row",34),a(),x(),P(53,35),s(54,"mat-paginator",36,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","sms.message.content.list"),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!e.requestLinkCategoryId||e.requestLinkCategoryId.length===0)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(e.tableRowSelected==null||e.tableRowSelected.title==null?null:e.tableRowSelected.title.length)>0?e.tableRowSelected==null?null:e.tableRowSelected.title:e.tableRowSelected==null?null:e.tableRowSelected.id),r(12),m("checked",e.optionsSearch.data.show),r(),I("",M(14,23,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(18,25,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(2),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(23),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(27,op)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,Fo,Qt,H,to,Xt,dt],encapsulation:2});let n=l;return n})();var Ap=["vform"];function yp(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",28),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wp(n,l){n&1&&_(0,"i",31)}function Ep(n,l){n&1&&_(0,"i",32)}function Tp(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Pp(n,l){if(n&1){let o=A();s(0,"div",12)(1,"label",29),p(2),a(),s(3,"input",30,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,wp,1,0,"i",15)(6,Ep,1,0,"i",16),s(7,"em"),p(8),a(),v(9,Tp,5,3,"mat-error",17),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function xp(n,l){n&1&&_(0,"i",31)}function Rp(n,l){n&1&&_(0,"i",32)}function Dp(n,l){n&1&&(s(0,"mat-error"),p(1," ClassName is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function kp(n,l){if(n&1){let o=A();s(0,"div",33)(1,"div",34)(2,"h5",35),p(3),a()(),s(4,"div",36)(5,"div",37)(6,"input",38),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityCreditCheck,t)||(e.dataModel.abilityCreditCheck=t),f(t)}),a(),_(7,"label",39),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityCreditCheck==null?null:o.fieldsInfo.abilityCreditCheck.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityCreditCheck)}}function Vp(n,l){if(n&1){let o=A();s(0,"div",33)(1,"div",34)(2,"h5",40),p(3),a()(),s(4,"div",36)(5,"div",37)(6,"input",41),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityDelivery,t)||(e.dataModel.abilityDelivery=t),f(t)}),a(),_(7,"label",42),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityDelivery==null?null:o.fieldsInfo.abilityDelivery.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityDelivery)}}function Lp(n,l){if(n&1){let o=A();s(0,"div",33)(1,"div",34)(2,"h5",43),p(3),a()(),s(4,"div",36)(5,"div",37)(6,"input",44),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityReceive,t)||(e.dataModel.abilityReceive=t),f(t)}),a(),_(7,"label",45),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityReceive==null?null:o.fieldsInfo.abilityReceive.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityReceive)}}function Np(n,l){n&1&&(s(0,"mat-error"),p(1," Memo is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Fp(n,l){if(n&1&&(_(0,"img",46),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function Bp(n,l){if(n&1){let o=A();s(0,"div",47)(1,"button",48),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",49),p(3),C(4,"translate"),a(),s(5,"button",50),_(6,"i",51),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(10);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var On=(()=>{let l=class l extends ut{constructor(i,t,e,c,h,d,D,k){super(c,new _i,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainApiPathPublicConfigService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.constructorInfoAreaId=this.constructor.name,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new O,this.dataModel=new _i,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceAdd(this.dataModel).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Jt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-publicconfig-add"]],viewQuery:function(t,e){if(t&1&&Z(Ap,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:47,vars:38,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"h4"),p(6,"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u0627\u06CC\u0647 \u0633\u0631\u0648\u06CC\u0633"),a(),s(7,"p"),p(8," \u0645\u0642\u0627\u062F\u06CC\u0631 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u0627\u06CC\u06CC\u0647 \u0633\u0631\u0648\u06CC\u0633 \u0631\u0627 \u0628\u0627 \u062F\u0642\u062A \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F "),a(),s(9,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(11,yp,1,5,"app-cms-enum-record-status-selector",10)(12,Pp,10,7,"div",11),s(13,"div",12)(14,"label",13),p(15),a(),s(16,"input",14,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.className,d)||(e.dataModel.className=d),f(d)}),a(),v(18,xp,1,0,"i",15)(19,Rp,1,0,"i",16),s(20,"em"),p(21),a(),v(22,Dp,5,3,"mat-error",17),a(),v(23,kp,8,2,"div",18)(24,Vp,8,2,"div",18)(25,Lp,8,2,"div",18),s(26,"div",12)(27,"label",19),p(28),a(),s(29,"textarea",20,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.memo,d)||(e.dataModel.memo=d),f(d)}),a(),s(31,"em"),p(32),a(),v(33,Np,5,3,"mat-error",17),a(),s(34,"div",21)(35,"a",22),C(36,"cmsthumbnail"),v(37,Fp,2,3,"img",23),a()(),s(38,"div",12)(39,"label",24),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(40),C(41,"translate"),a(),s(42,"input",25,3),C(44,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(45,"cms-file-manager",26),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(46,Bp,9,7,"div",27),a()()()}if(t&2){let c=R(17),h=R(30);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(7),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.className),r(2),m("ngIf",!c.value),r(),m("ngIf",c.value),r(2),I("",c.value.length," / 100"),r(),m("ngIf",c.errors==null?null:c.errors.required),r(),m("ngIf",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.accessWatchField),r(),m("ngIf",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.accessWatchField),r(),m("ngIf",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.accessWatchField),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.memo),r(3),I("",h.value.length," / 500"),r(),m("ngIf",h.errors==null?null:h.errors.required),r(2),G("href",M(36,32,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(41,34,"TITLE.Icon_File")),r(2),G("placeholder",M(44,36,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,Te,J,le,_e,Pe,xe,te,de,Ce,K,ue,j,Ot,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var Op=["vform"];function Gp(n,l){if(n&1){let o=A();s(0,"app-cms-enum-record-status-selector",29),T("modelChange",function(t){u(o);let e=S();return E(e.dataModel.recordStatus,t)||(e.dataModel.recordStatus=t),f(t)}),a()}if(n&2){let o=S();w("model",o.dataModel.recordStatus),m("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Wp(n,l){n&1&&_(0,"i",32)}function Hp(n,l){n&1&&_(0,"i",33)}function jp(n,l){n&1&&(s(0,"mat-error"),p(1," Title is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function qp(n,l){if(n&1){let o=A();s(0,"div",12)(1,"label",30),p(2),a(),s(3,"input",31,4),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.title,t)||(e.dataModel.title=t),f(t)}),a(),v(5,Wp,1,0,"i",15)(6,Hp,1,0,"i",16),s(7,"em"),p(8),a(),v(9,jp,5,3,"mat-error",17),a()}if(n&2){let o=R(4),i=S();r(2),y(i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),r(),G("placeholder",i.fieldsInfo.title==null?null:i.fieldsInfo.title.fieldTitle),w("ngModel",i.dataModel.title),r(2),m("ngIf",!o.value),r(),m("ngIf",o.value),r(2),I("",o.value.length," / 100"),r(),m("ngIf",o.errors==null?null:o.errors.required)}}function Up(n,l){n&1&&_(0,"i",32)}function Qp(n,l){n&1&&_(0,"i",33)}function zp(n,l){n&1&&(s(0,"mat-error"),p(1," ClassName is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Jp(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",36),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",39),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityCreditCheck,t)||(e.dataModel.abilityCreditCheck=t),f(t)}),a(),_(7,"label",40),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityCreditCheck==null?null:o.fieldsInfo.abilityCreditCheck.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityCreditCheck)}}function Kp(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",41),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",42),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityDelivery,t)||(e.dataModel.abilityDelivery=t),f(t)}),a(),_(7,"label",43),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityDelivery==null?null:o.fieldsInfo.abilityDelivery.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityDelivery)}}function Xp(n,l){if(n&1){let o=A();s(0,"div",34)(1,"div",35)(2,"h5",44),p(3),a()(),s(4,"div",37)(5,"div",38)(6,"input",45),T("ngModelChange",function(t){u(o);let e=S();return E(e.dataModel.abilityReceive,t)||(e.dataModel.abilityReceive=t),f(t)}),a(),_(7,"label",46),a()()()}if(n&2){let o=S();r(3),I(" ",o.fieldsInfo.abilityReceive==null?null:o.fieldsInfo.abilityReceive.fieldTitle,""),r(3),w("ngModel",o.dataModel.abilityReceive)}}function Yp(n,l){n&1&&(s(0,"mat-error"),p(1," Memo is "),s(2,"strong"),p(3),C(4,"translate"),a()()),n&2&&(r(3),y(M(4,1,"MESSAGE.required")))}function Zp(n,l){if(n&1&&(_(0,"img",47),C(1,"cmsthumbnail")),n&2){let o=S();G("src",M(1,1,o.dataModel.linkMainImageIdSrc),Me)}}function $p(n,l){if(n&1){let o=A();s(0,"div",48)(1,"button",49),b("click",function(){u(o);let t=S();return f(t.onFormCancel())}),_(2,"i",50),p(3),C(4,"translate"),a(),s(5,"button",51),_(6,"i",52),p(7),C(8,"translate"),a()()}if(n&2){S();let o=R(10);r(3),I(" ",M(4,3,"ACTION.CANCEL")," "),r(2),m("disabled",!o.form.valid),r(2),I(" ",M(8,5,"ACTION.SAVE")," ")}}var Gn=(()=>{let l=class l extends ft{constructor(i,t,e,c,h,d,D,k){super(c,new _i,d,k),this.data=i,this.dialogRef=t,this.coreEnumService=e,this.smsMainApiPathPublicConfigService=c,this.cmsToastrService=h,this.publicHelper=d,this.cdr=D,this.translate=k,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new Ue,this.dataModel=new Xn,this.formInfo=new oe,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&i.id&&(this.requestId=i.id),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}}DataGetOneContent(){if(this.requestId.length<=0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.setAccessLoad(),this.smsMainApiPathPublicConfigService.setAccessDataType(Fe.Editor),this.smsMainApiPathPublicConfigService.ServiceGetOneWithJsonFormatter(this.requestId).subscribe({next:t=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModel=t.item,t.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+t.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.smsMainApiPathPublicConfigService.ServiceEdit(this.dataModel).subscribe({next:t=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=t,t.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=t.errorMessage,this.cmsToastrService.typeErrorMessage(t.errorMessage)),this.publicHelper.processService.processStop(i)},error:t=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionFileSelected(i){this.dataModel.linkMainImageId=i.id,this.dataModel.linkMainImageIdSrc=i.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};l.\u0275fac=function(t){return new(t||l)(g(ne),g(ie),g(he),g(Jt),g(L),g(N),g(F),g(B))},l.\u0275cmp=V({type:l,selectors:[["app-sms-publicconfig-edit"]],viewQuery:function(t,e){if(t&1&&Z(Op,5),t&2){let c;$(c=ee())&&(e.formGroup=c.first)}},features:[U],decls:48,vars:41,consts:[["vform","ngForm"],["ClassName",""],["Memo",""],["LinkMainImageId",""],["Title",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.className",1,"color-highlight"],["matInput","","type","text","name","dataModel.className","placeholder","ClassName","minlength","3","maxlength","100","required","","id","dataModel.className",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","fa fa-times  invalid color-red-dark",4,"ngIf"],["class","fa fa-check  valid color-green-dark",4,"ngIf"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],[3,"jsonValueChange","formGroup","jsonValue","propertiesInfos"],["for","dataModel.memo",1,"color-highlight"],["matInput","","name","dataModel.memo","type","text","minlength","1","maxlength","500","rows","5","id","dataModel.memo",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","type","text","minlength","3","maxlength","100","required","","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"fa","fa-times","invalid","color-red-dark"],[1,"fa","fa-check","valid","color-green-dark"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.abilityCreditCheck",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.abilityCreditCheck","name","dataModel.abilityCreditCheck",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityCreditCheck",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityDelivery",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityDelivery","name","dataModel.abilityDelivery",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityDelivery",1,"custom-control-label"],["data-trigger-switch","dataModel.abilityReceive",1,"font-600","font-14"],["type","checkbox","id","dataModel.abilityReceive","name","dataModel.abilityReceive",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.abilityReceive",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(t,e){if(t&1){let c=A();s(0,"div",5),_(1,"app-progress-spinner",6),s(2,"div",7)(3,"p",8),p(4),a(),s(5,"h4"),p(6,"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u0627\u06CC\u0647 \u0633\u0631\u0648\u06CC\u0633"),a(),s(7,"p"),p(8," \u0645\u0642\u0627\u062F\u06CC\u0631 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u0627\u06CC\u06CC\u0647 \u0633\u0631\u0648\u06CC\u0633 \u0631\u0627 \u0628\u0627 \u062F\u0642\u062A \u0648\u0627\u0631\u062F \u0646\u0645\u0627\u06CC\u06CC\u062F "),a(),s(9,"form",9,0),b("ngSubmit",function(){return u(c),f(e.onFormSubmit())}),v(11,Gp,1,5,"app-cms-enum-record-status-selector",10)(12,qp,10,7,"div",11),s(13,"div",12)(14,"label",13),p(15),a(),s(16,"input",14,1),T("ngModelChange",function(d){return u(c),E(e.dataModel.className,d)||(e.dataModel.className=d),f(d)}),a(),v(18,Up,1,0,"i",15)(19,Qp,1,0,"i",16),s(20,"em"),p(21),a(),v(22,zp,5,3,"mat-error",17),a(),v(23,Jp,8,2,"div",18)(24,Kp,8,2,"div",18)(25,Xp,8,2,"div",18),s(26,"dynamic-form-builder-cms",19),T("jsonValueChange",function(d){return u(c),E(e.dataModel.publicConfigJsonValues,d)||(e.dataModel.publicConfigJsonValues=d),f(d)}),a(),s(27,"div",12)(28,"label",20),p(29),a(),s(30,"textarea",21,2),T("ngModelChange",function(d){return u(c),E(e.dataModel.memo,d)||(e.dataModel.memo=d),f(d)}),a(),s(32,"em"),p(33),a(),v(34,Yp,5,3,"mat-error",17),a(),s(35,"div",22)(36,"a",23),C(37,"cmsthumbnail"),v(38,Zp,2,3,"img",24),a()(),s(39,"div",12)(40,"label",25),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),p(41),C(42,"translate"),a(),s(43,"input",26,3),C(45,"translate"),T("ngModelChange",function(d){return u(c),E(e.dataModel.linkMainImageId,d)||(e.dataModel.linkMainImageId=d),f(d)}),b("click",function(){return u(c),f(e.fileManagerOpenForm=!0)}),a(),s(46,"cms-file-manager",27),b("itemSelected",function(d){return u(c),f(e.onActionFileSelected(d))}),T("openFormChange",function(d){return u(c),E(e.fileManagerOpenForm,d)||(e.fileManagerOpenForm=d),f(d)}),a()(),v(47,$p,9,7,"div",28),a()()()}if(t&2){let c=R(10),h=R(17),d=R(31);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(3),I(" ",e.formInfo.formTitle," "),r(7),m("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),r(),m("ngIf",e.fieldsInfo.title==null?null:e.fieldsInfo.title.accessWatchField),r(3),y(e.fieldsInfo.title==null?null:e.fieldsInfo.title.fieldTitle),r(),w("ngModel",e.dataModel.className),r(2),m("ngIf",!h.value),r(),m("ngIf",h.value),r(2),I("",h.value.length," / 100"),r(),m("ngIf",h.errors==null?null:h.errors.required),r(),m("ngIf",e.fieldsInfo.abilityCreditCheck==null?null:e.fieldsInfo.abilityCreditCheck.accessWatchField),r(),m("ngIf",e.fieldsInfo.abilityDelivery==null?null:e.fieldsInfo.abilityDelivery.accessWatchField),r(),m("ngIf",e.fieldsInfo.abilityReceive==null?null:e.fieldsInfo.abilityReceive.accessWatchField),r(),m("formGroup",c.form),w("jsonValue",e.dataModel.publicConfigJsonValues),m("propertiesInfos",e.dataModel.publicConfigJsonFormatter),r(3),y(e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),r(),G("placeholder",e.fieldsInfo.description==null?null:e.fieldsInfo.description.fieldTitle),w("ngModel",e.dataModel.memo),r(3),I("",d.value.length," / 500"),r(),m("ngIf",d.errors==null?null:d.errors.required),r(2),G("href",M(37,35,e.dataModel.linkMainImageIdSrc),Me),r(2),m("ngIf",(e.dataModel==null||e.dataModel.linkMainImageIdSrc==null?null:e.dataModel.linkMainImageIdSrc.length)>0),r(3),y(M(42,37,"TITLE.Icon_File")),r(2),G("placeholder",M(45,39,"TITLE.Original_File_ID")),w("ngModel",e.dataModel.linkMainImageId),r(3),m("language",e.appLanguage)("isPopup",!0),w("openForm",e.fileManagerOpenForm),m("tree",e.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",e.selectFileTypeMainImage)("openFilemanagerButtonView",!1),r(),m("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[W,ce,z,Te,J,le,_e,Pe,xe,te,de,jn,Ce,K,ue,j,Ot,so,H,Ct],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let n=l;return n})();var e0=()=>[5,10,20,100];function t0(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",41),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRow())}),_(2,"i",42)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.ADD")))}function i0(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",41),b("click",function(){u(o);let t=S();return f(t.onActionButtonNewRowAuto())}),_(2,"i",42)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.AUTOADD")))}function n0(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",43),b("click",function(){u(o);let t=S();return f(t.onActionButtonEditRow(t.tableRowSelected))}),_(2,"i",44)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.EDIT")))}function o0(n,l){if(n&1){let o=A();s(0,"div",17)(1,"a",45),b("click",function(){u(o);let t=S();return f(t.onActionButtonDeleteRow(t.tableRowSelected))}),_(2,"i",46)(3,"br"),a(),s(4,"p",20),p(5),C(6,"translate"),a()()}n&2&&(r(5),y(M(6,1,"ACTION.DELETE")))}function r0(n,l){n&1&&(s(0,"mat-header-cell",47),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.PICTURE")," "))}function a0(n,l){if(n&1&&_(0,"img",49),n&2){let o=S().$implicit;G("src",o.linkMainImageIdSrc,Me)}}function s0(n,l){if(n&1&&(s(0,"mat-cell"),v(1,a0,1,1,"img",48),a()),n&2){let o=l.$implicit;r(),m("ngIf",(o==null||o.linkMainImageIdSrc==null?null:o.linkMainImageIdSrc.length)>0)}}function l0(n,l){if(n&1&&(s(0,"mat-header-cell",47),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function d0(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.id," ")}}function c0(n,l){if(n&1&&(s(0,"mat-header-cell",47),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function m0(n,l){if(n&1&&(s(0,"mat-cell",50),C(1,"statusCellClass"),_(2,"i",50),C(3,"statusIconClass"),a()),n&2){let o=l.$implicit;m("ngClass",M(1,2,o.recordStatus)),r(2),m("ngClass",M(3,4,o.recordStatus))}}function p0(n,l){if(n&1&&(s(0,"mat-header-cell",47),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.title==null?null:o.fieldsInfo.title.fieldTitle," ")}}function u0(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.title," ")}}function f0(n,l){if(n&1&&(s(0,"mat-header-cell",47),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.className==null?null:o.fieldsInfo.className.fieldTitle," ")}}function h0(n,l){if(n&1&&(s(0,"mat-cell"),p(1),a()),n&2){let o=l.$implicit;r(),I(" ",o.className," ")}}function S0(n,l){if(n&1&&(s(0,"mat-header-cell",47),p(1),a()),n&2){let o=S();r(),I(" ",o.fieldsInfo.updatedDate==null?null:o.fieldsInfo.updatedDate.fieldTitle," ")}}function g0(n,l){if(n&1&&(s(0,"mat-cell"),p(1),C(2,"localeDate"),a()),n&2){let o=l.$implicit;r(),I(" ",M(2,1,o.updatedDate)," ")}}function _0(n,l){n&1&&(s(0,"mat-header-cell"),p(1),C(2,"translate"),a()),n&2&&(r(),I(" ",M(2,1,"TITLE.OPTION")," "))}function C0(n,l){if(n&1&&(s(0,"mat-cell",51)(1,"button",52)(2,"mat-icon"),p(3,"more_vert"),a()(),_(4,"mat-menu",null,2),a()),n&2){let o=R(5);r(),m("matMenuTriggerFor",o)}}function M0(n,l){n&1&&_(0,"mat-header-row")}function I0(n,l){if(n&1){let o=A();s(0,"mat-row",53),b("click",function(){let t=u(o).$implicit,e=S();return f(e.onActionTableRowSelect(t))}),a()}if(n&2){let o=l.$implicit,i=l.dataIndex,t=S();ye("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(t.tableRowSelected==null?null:t.tableRowSelected.id))}}var Oo=(()=>{let l=class l extends ht{constructor(i,t,e,c,h,d,D,k,Ie,be,St){super(i,new _i,be,d,k),this.contentService=i,this.cmsToastrService=t,this.cmsConfirmationDialogService=e,this.coreCurrencyService=c,this.router=h,this.tokenHelper=d,this.cdr=D,this.translate=k,this.pageInfo=Ie,this.publicHelper=be,this.dialog=St,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Y,this.dataModelCoreCurrencyResult=new O,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","RecordStatus","ClassName","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.optionsSearch.parentMethods={onSubmit:Be=>this.onSubmitOptionsSearch(Be)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=X.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getCurrency()}getCurrency(){let i=new Y;i.rowPerPage=100,this.coreCurrencyService.ServiceGetAll(i).subscribe({next:t=>{this.dataModelCoreCurrencyResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new _i);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let t=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(t).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=X.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=X.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonNewRow(){if(this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessAddRow){this.cmsToastrService.typeErrorAccessAdd();return}var i="";this.tokenHelper.isMobile?i="dialog-fullscreen":i="dialog-min",this.dialog.open(On,{height:"90%",panelClass:i,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(e=>{e&&e.dialogChangedDate&&this.DataGetAll()})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var t="";this.tokenHelper.isMobile?t="dialog-fullscreen":t="dialog-min",this.dialog.open(Gn,{height:"90%",panelClass:t,enterAnimationDuration:q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(c=>{c&&c.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(c=>{this.cmsToastrService.typeErrorSelected(c)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var t="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(c=>{t=c["MESSAGE.Please_Confirm"],e=c["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(t,e).then(c=>{if(c){let h=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(d=>{this.publicHelper.processService.processStart(h,d,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:d=>{d.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(h)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(h,!1)}})}}).catch(()=>{})}onActionButtonNewRowAuto(){let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(t=>{this.publicHelper.processService.processStart(i,t,this.constructorInfoAreaId)}),this.contentService.ServiceAutoAdd().subscribe({next:t=>{t.isSuccess?(this.cmsToastrService.typeSuccessAdd(),this.DataGetAll()):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(i)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(i,!1)}})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let t=new Map;this.translate.get("MESSAGE.Active").subscribe(d=>{t.set(d,0)}),this.translate.get("MESSAGE.All").subscribe(d=>{t.set(d,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(d=>{this.publicHelper.processService.processStart(e,d,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.All").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}});let c=JSON.parse(JSON.stringify(this.filteModelContent)),h=new Q;h.propertyName="RecordStatus",h.value=Ne.Available,c.filters.push(h),this.contentService.ServiceGetCount(c).subscribe({next:d=>{d.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(D=>{t.set(D,d.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(d.errorMessage),this.publicHelper.processService.processStop(e)},error:d=>{this.cmsToastrService.typeError(d),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonPrivateList(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(t=>{this.cmsToastrService.typeErrorSelected(t)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorSelected();return}this.router.navigate(["/sms/main/api-path/list/LinkPublicConfigId",this.tableRowSelected.id])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}};l.\u0275fac=function(t){return new(t||l)(g(Jt),g(L),g(We),g(Jn),g(qe),g(Ae),g(F),g(B),g(Qe),g(N),g(we))},l.\u0275cmp=V({type:l,selectors:[["app-sms-publicconfig-list"]],features:[U],decls:64,vars:32,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-route","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","ClassName"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(t,e){if(t&1){let c=A();s(0,"app-cms-html-list",3),T("optionActionGuideNoticeDisplayChange",function(d){return u(c),E(e.viewGuideNotice,d)||(e.viewGuideNotice=d),f(d)}),b("optionOnActionButtonMemoRow",function(){return u(c),f(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return u(c),f(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return u(c),f(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return u(c),f(e.onActionButtonPrintRow())}),P(1,4),p(2," -------------------------------------- "),x(),Ee(3,5)(4,6),P(5,7),s(6,"a",8),b("click",function(){return u(c),f(e.viewGuideNotice=!e.viewGuideNotice)}),_(7,"i",9),a(),s(8,"a",8),b("click",function(){return u(c),f(e.onActionButtonReload())}),_(9,"i",10),a(),x(),P(10,11),s(11,"a",12),b("click",function(){return u(c),f(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),_(12,"mat-slide-toggle",13),p(13),C(14,"translate"),a(),s(15,"a",12),b("click",function(){return u(c),f(e.onActionButtonStatist())}),_(16,"mat-slide-toggle",13),p(17),C(18,"translate"),a(),x(),P(19,14),v(20,t0,7,3,"div",15)(21,i0,7,3,"div",15),x(),P(22,16),v(23,n0,7,3,"div",15)(24,o0,7,3,"div",15),s(25,"div",17)(26,"a",18),b("click",function(){return u(c),f(e.onActionButtonPrivateList(e.tableRowSelected))}),_(27,"i",19)(28,"br"),a(),s(29,"p",20),p(30),C(31,"translate"),a()(),x(),P(32,21),s(33,"app-cms-search-list",22),T("optionsChange",function(d){return u(c),E(e.optionsSearch,d)||(e.optionsSearch=d),f(d)}),a(),s(34,"app-cms-statist-list",22),T("optionsChange",function(d){return u(c),E(e.optionsStatist,d)||(e.optionsStatist=d),f(d)}),a(),x(),P(35,23),s(36,"mat-table",24,0),b("matSortChange",function(){u(c);let d=R(37);return f(e.onTableSortData(d))}),P(38,25),v(39,r0,3,3,"mat-header-cell",26)(40,s0,2,1,"mat-cell",27),x(),P(41,28),v(42,l0,2,1,"mat-header-cell",26)(43,d0,2,1,"mat-cell",27),x(),P(44,29),v(45,c0,2,1,"mat-header-cell",26)(46,m0,4,6,"mat-cell",30),x(),P(47,31),v(48,p0,2,1,"mat-header-cell",26)(49,u0,2,1,"mat-cell",27),x(),P(50,32),v(51,f0,2,1,"mat-header-cell",26)(52,h0,2,1,"mat-cell",27),x(),P(53,33),v(54,S0,2,1,"mat-header-cell",26)(55,g0,3,3,"mat-cell",27),x(),P(56,34),v(57,_0,3,3,"mat-header-cell",35)(58,C0,6,1,"mat-cell",36),x(),v(59,M0,1,0,"mat-header-row",37)(60,I0,1,6,"mat-row",38),a(),x(),P(61,39),s(62,"mat-paginator",40,1),b("page",function(d){return u(c),f(e.onTablePageingData(d))}),a(),x(),a()}t&2&&(m("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),w("optionActionGuideNoticeDisplay",e.viewGuideNotice),m("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.title),r(12),m("checked",e.optionsSearch.data.show),r(),I("",M(14,25,"ACTION.SEARCH")," "),r(3),m("checked",e.optionsStatist.data.show),r(),I("",M(18,27,"ACTION.STATIST")," "),r(3),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessAddRow),r(2),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),r(),m("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),r(6),y(M(31,29,"ACTION.ROUTES")),r(3),w("options",e.optionsSearch),r(),w("options",e.optionsStatist),r(2),m("dataSource",e.tableSource),r(23),m("matHeaderRowDef",e.tabledisplayedColumns),r(),m("matRowDefColumns",e.tabledisplayedColumns),r(2),m("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",He(31,e0)))},dependencies:[je,W,Le,Se,ze,Je,Ke,Xe,Ye,Ze,$e,tt,rt,it,et,at,nt,ot,st,lt,mt,pt,ct,H,Xt,dt,Mt],encapsulation:2});let n=l;return n})();var b0=[{path:"",component:po,children:[{path:"api-path-company",component:Mo},{path:"publicconfig",component:Oo},{path:"api-path",component:Hi},{path:"api-path/list",component:Hi},{path:"api-path/list/LinkCompanyId/:LinkCompanyId",component:Hi},{path:"api-path/list/LinkPublicConfigId/:LinkPublicConfigId",component:Hi},{path:"api-path/list/LinkSiteId/:LinkSiteId",component:Hi},{path:"api-path/edit/:Id",component:co},{path:"api-path-permission",component:Nn},{path:"api-path-permission/LinkApiPathId/:LinkApiPathId",component:Nn},{path:"api-path-price-service",component:Bn},{path:"api-path-price-service/LinkApiPathId/:LinkApiPathId",component:Bn},{path:"api-number",component:Ln},{path:"api-number/LinkApiPathId/:LinkApiPathId",component:Ln},{path:"api-number-permission",component:kn},{path:"api-number-permission/LinkApiNumberId/:LinkApiNumberId",component:kn},{path:"customer-credit",component:xo},{path:"message",component:Bo}]}],Go=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=Zi({type:l}),l.\u0275inj=Yi({imports:[Tn.forChild(b0),Tn]});let n=l;return n})();var v0=["*"];function A0(n,l){if(n&1&&(s(0,"label",8),p(1),a()),n&2){let o=S();Vt("for","app-cms-site-selector-",o.id,""),r(),y(o.optionLabel)}}function y0(n,l){if(n&1&&(s(0,"mat-option",9)(1,"span"),p(2),a()()),n&2){let o=l.$implicit,i=S();m("value",o)("disabled",i.optionDisabled),r(2),y(i.displayOption(o))}}function w0(n,l){if(n&1){let o=A();s(0,"mat-icon",10),b("click",function(){u(o);let t=S();return f(t.onActionSelectClear())}),p(1,"close"),a()}}var PS=(()=>{let l=class l{constructor(i,t,e,c,h,d){this.coreEnumService=i,this.cmsToastrService=t,this.cdr=e,this.publicHelper=c,this.translate=h,this.categoryService=d,this.id=++l.nextId,this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new O,this.dataModelSelect=new Rt,this.formControl=new zt,this.optionPlaceholder="",this.optionSelectFirstItem=!1,this.optionLabel="",this.optionChange=new _t,this.optionReload=()=>this.onActionButtonReload(),this.optionDisabled=!1,this.privateLinkCategryId="",this.publicHelper.processService.cdr=this.cdr}set optionSelectForce(i){this.onActionSelectForce(i)}set optionLinkCategryId(i){i!=this.privateLinkCategryId&&(this.privateLinkCategryId!=""&&this.onActionSelectClear(),this.privateLinkCategryId=i,this.loadOptions())}ngOnInit(){this.loadOptions(),(!this.optionLabel||this.optionLabel.length==0&&this.optionPlaceholder?.length>0)&&(this.optionLabel=this.optionPlaceholder)}loadOptions(){this.filteredOptions=this.formControl.valueChanges.pipe(di(""),si(1500),li(),ci(i=>typeof i=="string"||typeof i=="number"?this.DataGetAll(i||""):[]))}displayFn(i){return i?i.title:void 0}displayOption(i){return i?i.title:void 0}DataGetAll(i){return oi(this,null,function*(){let t=new Y;t.rowPerPage=20,t.accessLoad=!0;let e=new Q;e.propertyName="Title",e.value=i,e.searchType=It.Contains,e.clauseType=qt.Or,t.filters.push(e),i&&typeof+i=="string"&&+i>0&&(e=new Q,e.propertyName="Id",e.value=i,e.searchType=It.Equal,e.clauseType=qt.Or,t.filters.push(e)),this.privateLinkCategryId&&this.privateLinkCategryId.length>0&&(e=new Q,e.propertyName="linkCategoryId",e.value=this.privateLinkCategryId,e.searchType=It.Equal,t.filters.push(e));let c=this.constructor.name+"main";return this.translate.get("MESSAGE.Receiving_information").subscribe(h=>{this.publicHelper.processService.processStart(c,h,this.constructorInfoAreaId)}),yield ri(this.categoryService.ServiceGetAll(t)).then(h=>(this.dataModelResult=h,this.optionSelectFirstItem&&(!this.dataModelSelect||!this.dataModelSelect.id||this.dataModelSelect.id.length==0)&&this.dataModelResult.listItems.length>0&&(this.optionSelectFirstItem=!1,setTimeout(()=>{this.formControl.setValue(this.dataModelResult.listItems[0]),this.onActionSelect(this.dataModelResult.listItems[0])},1e3)),this.publicHelper.processService.processStop(c),h.listItems))})}onActionSelect(i){this.dataModelSelect=i,this.optionChange.emit(this.dataModelSelect)}onActionSelectClear(){this.dataModelSelect=null,this.formControl.setValue(null),this.optionChange.emit(null)}push(i){return this.filteredOptions.pipe(ai(t=>(t.find(e=>e.id===i.id)||t.push(i),t)))}onActionSelectForce(i){if(typeof i=="string"&&i.length>0){if(this.dataModelSelect&&this.dataModelSelect.id===i)return;if(this.dataModelResult&&this.dataModelResult.listItems&&this.dataModelResult.listItems.find(t=>t.id===i)){let t=this.dataModelResult.listItems.find(e=>e.id===i);this.dataModelSelect=t,this.formControl.setValue(t);return}this.categoryService.ServiceGetOneById(i).subscribe({next:t=>{t.isSuccess?(this.filteredOptions=this.push(t.item),this.dataModelSelect=t.item,this.formControl.setValue(t.item),this.optionChange.emit(t.item)):this.cmsToastrService.typeErrorMessage(t.errorMessage)}});return}if(typeof i==typeof Rt){this.filteredOptions=this.push(i),this.dataModelSelect=i,this.formControl.setValue(i);return}this.formControl.setValue(null)}onActionButtonReload(){this.dataModelSelect=new Rt,this.loadOptions()}};l.nextId=0,l.\u0275fac=function(t){return new(t||l)(g(he),g(L),g(F),g(N),g(B),g(Kt))},l.\u0275cmp=V({type:l,selectors:[["app-sms-main-message-content-selector"]],inputs:{optionPlaceholder:"optionPlaceholder",optionSelectFirstItem:"optionSelectFirstItem",optionLabel:"optionLabel",optionReload:"optionReload",optionSelectForce:"optionSelectForce",optionLinkCategryId:"optionLinkCategryId",optionDisabled:"optionDisabled"},outputs:{optionChange:"optionChange"},ngContentSelectors:v0,decls:10,vars:13,consts:[["matauto","matAutocomplete"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4","loader-container"],[3,"optionsInfoAreaId"],["class","color-highlight",3,"for",4,"ngIf"],["type","text","matInput","",1,"form-control","validate-name",3,"placeholder","formControl","matAutocomplete","id"],[3,"optionSelected","displayWith"],[3,"value","disabled",4,"ngFor","ngForOf"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"color-highlight",3,"for"],[3,"value","disabled"],["matSuffix","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(t&1){let c=A();mi(),s(0,"div",1),_(1,"app-progress-spinner",2),v(2,A0,2,3,"label",3),_(3,"input",4),s(4,"mat-autocomplete",5,0),b("optionSelected",function(d){return u(c),f(e.onActionSelect(d.option.value))}),v(6,y0,3,3,"mat-option",6),C(7,"async"),a(),v(8,w0,2,0,"mat-icon",7),pi(9),a()}if(t&2){let c=R(5);r(),m("optionsInfoAreaId",e.constructorInfoAreaId),r(),m("ngIf",(e.optionLabel==null?null:e.optionLabel.length)>0),r(),G("placeholder",e.optionPlaceholder),Vt("id","app-cms-site-selector-",e.id,""),m("formControl",e.formControl)("matAutocomplete",c),kt("disabled",e.optionDisabled?!0:null),r(),m("displayWith",e.displayFn),r(2),m("ngForOf",M(7,11,e.filteredOptions)),r(2),m("ngIf",e.dataModelSelect==null?null:e.dataModelSelect.id)}},dependencies:[Ve,W,z,J,fi,bi,ui,vi,Ge,Se,K,j,Qt],encapsulation:2});let n=l;return n})();var x_=(()=>{let l=class l{};l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=Zi({type:l}),l.\u0275inj=Yi({providers:[Kn,he,Re,We,Yn,xt,Nt,Ci,Mi,Jt,Ft,an,Ii,Kt,Bt],imports:[Hn,Go,qn,Un.withConfig({warnOnNgModelWithFormControl:"never"}),oo,ro,$n,lo,ao,mo]});let n=l;return n})();export{Mn as a,Zt as b,yn as c,PS as d,x_ as e};
