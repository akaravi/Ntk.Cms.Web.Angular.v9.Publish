"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[8547],{8547:(qs,ee,b)=>{b.r(ee),b.d(ee,{CoreModuleLogModule:()=>Hs});var S=b(6610),p=b(7222),k=b(9675),e=b(7788);let te=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog"]],decls:1,vars:0,template:function(i,o){1&i&&e.nrm(0,"router-outlet")},dependencies:[k.n3],encapsulation:2})}return n})();var a=b(8189),j=b(9915),C=b(5312),g=b(6482),G=b(5113),M=b(9722),I=b(8339),R=b(5154),_=b(2882),y=b(4587),Y=b(6628),J=b(9028),z=b(3726),w=b(7912);const oe=["vform"];function ie(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",21),e.nrm(6,"i",20),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let ne=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.xgH,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogFavoriteService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.xgH,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.setAccessDataType(a.FYP.Editor),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogFavoriteService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.hzK),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-favorite-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(oe,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",4),e.nrm(1,"app-progress-spinner",5),e.j41(2,"div",6)(3,"p",7),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",8,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.nrm(10,"app-cms-site-selector",9),e.nI1(11,"translate"),e.nrm(12,"app-cms-user-selector",9),e.nI1(13,"translate"),e.nrm(14,"app-cms-member-selector",9),e.nI1(15,"translate"),e.j41(16,"div",10)(17,"label",11),e.EFF(18,"ModuleName"),e.k0s(),e.j41(19,"input",12,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(21,"div",10)(22,"label",13),e.EFF(23,"ModuleEntityName"),e.k0s(),e.j41(24,"input",14,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(26,"div",10)(27,"label",15),e.EFF(28,"ModuleEntityId"),e.k0s(),e.j41(29,"input",16,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.DNE(31,ie,9,6,"div",17),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,18,"TITLE.SITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(13,20,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(15,22,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.vS,p.cV,y.fg,Y.p,J.X,z.W,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();var N=b(7848);const se=["vform"];function re(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let le=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogFavoriteService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.xgH,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogFavoriteService.setAccessLoad(),this.coreModuleLogFavoriteService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.hzK),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-favorite-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(se,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,re,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();var D=b(5459),F=b(6006),B=b(2221),V=b(6182),T=b(1184),U=b(8966),O=b(4685),v=b(8058),u=b(8403),$=b(6145),x=b(1908),X=b(3036),H=b(3438),W=b(5225),K=b(4209),q=b(6381),P=b(1268);const ae=()=>[5,10,20,100],ce=n=>({display:n});function de(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",43),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",44),e.k0s()}}function ue(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",47)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function me(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function pe(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function fe(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewContent(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.CONTENT")))}function he(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Se(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function _e(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function ge(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function be(n,l){if(1&n&&e.nrm(0,"select",58),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,ce,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ce(n,l){if(1&n&&(e.j41(0,"mat-cell",56),e.nI1(1,"statusCellClass"),e.nrm(2,"i",56),e.nI1(3,"statusIconClass"),e.DNE(4,be,1,5,"select",57),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Me(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ie(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Re(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ee(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function ke(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function we(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function Te(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function ve(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function Ae(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Le(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function ye(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function De(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function je(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ge(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ne(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Fe(n,l){if(1&n&&(e.j41(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Be(n,l){1&n&&e.nrm(0,"mat-header-row")}function Ve(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Ue=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.xgH,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new a.ycK;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.xgH);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(le,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ne,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonViewContent(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length)return void this.translate.get("ERRORMESSAGE.MESSAGE.typeErrorSelectedRow").subscribe(o=>{this.cmsToastrService.typeErrorSelected(o)});this.onActionTableRowSelect(t);const i="/"+t.moduleName+"/"+t.moduleEntityName.substring(t.moduleName.length)+"/edit/"+t.moduleEntityId;t.moduleEntityName.indexOf(t.moduleName),this.router.navigate([i.toLowerCase()])}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.hzK),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-favorite-list"]],features:[e.Vt3],decls:69,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-folder-grid","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,de,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,ue,7,3,"div",19)(24,me,7,3,"div",19)(25,pe,7,3,"div",19)(26,fe,7,3,"div",19)(27,he,7,3,"div",19),e.bVm(),e.qex(28,20),e.j41(29,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(31,22),e.j41(32,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(33);return e.Njj(o.onTableSortData(s))}),e.qex(34,24),e.DNE(35,Se,2,1,"mat-header-cell",25)(36,_e,2,1,"mat-cell",26),e.bVm(),e.qex(37,27),e.DNE(38,ge,2,1,"mat-header-cell",25)(39,Ce,5,7,"mat-cell",28),e.bVm(),e.qex(40,29),e.DNE(41,Me,2,1,"mat-header-cell",25)(42,Ie,4,5,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,Re,2,1,"mat-header-cell",25)(45,Ee,4,5,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,ke,2,1,"mat-header-cell",25)(48,we,2,1,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,Te,2,1,"mat-header-cell",25)(51,ve,2,1,"mat-cell",26),e.bVm(),e.qex(52,33),e.DNE(53,Ae,2,1,"mat-header-cell",25)(54,Le,2,1,"mat-cell",26),e.bVm(),e.qex(55,34),e.DNE(56,ye,2,1,"mat-header-cell",25)(57,De,2,1,"mat-cell",26),e.bVm(),e.qex(58,35),e.DNE(59,je,2,1,"mat-header-cell",25)(60,Ge,2,1,"mat-cell",26),e.bVm(),e.qex(61,36),e.DNE(62,Ne,3,3,"mat-header-cell",37)(63,Fe,6,1,"mat-cell",38),e.bVm(),e.DNE(64,Be,1,0,"mat-header-row",39)(65,Ve,1,6,"mat-row",40),e.k0s(),e.bVm(),e.qex(66,41),e.j41(67,"mat-paginator",42,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(32),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(29,ae)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})();const Oe=["vform"];function $e(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",20),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",21),e.nrm(6,"i",20),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let xe=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.uIo,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogLikeService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.uIo,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.setAccessDataType(a.FYP.Editor),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogLikeService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.qdq),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-like-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Oe,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",4),e.nrm(1,"app-progress-spinner",5),e.j41(2,"div",6)(3,"p",7),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",8,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.nrm(10,"app-cms-site-selector",9),e.nI1(11,"translate"),e.nrm(12,"app-cms-user-selector",9),e.nI1(13,"translate"),e.nrm(14,"app-cms-member-selector",9),e.nI1(15,"translate"),e.j41(16,"div",10)(17,"label",11),e.EFF(18,"ModuleName"),e.k0s(),e.j41(19,"input",12,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(21,"div",10)(22,"label",13),e.EFF(23,"ModuleEntityName"),e.k0s(),e.j41(24,"input",14,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(26,"div",10)(27,"label",15),e.EFF(28,"ModuleEntityId"),e.k0s(),e.j41(29,"input",16,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.DNE(31,$e,9,6,"div",17),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,18,"TITLE.SITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(13,20,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(15,22,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.vS,p.cV,y.fg,Y.p,J.X,z.W,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Xe=["vform"];function He(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let qe=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogLikeService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.uIo,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogLikeService.setAccessLoad(),this.coreModuleLogLikeService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.qdq),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Xe,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4),e.nrm(9,"app-cms-json-list",5),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"small",8),e.EFF(13),e.k0s(),e.j41(14,"small",9),e.EFF(15),e.k0s()()(),e.j41(16,"div",10),e.DNE(17,He,5,3,"div",11),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(3),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const Pe=()=>[5,10,20,100],Ye=n=>({display:n});function Ke(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",43),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",44),e.k0s()}}function We(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",47)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Je(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ze(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ze(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Qe(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.MEMBER")))}function et(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function tt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function ot(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function it(n,l){if(1&n&&e.nrm(0,"select",58),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Ye,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function nt(n,l){if(1&n&&(e.j41(0,"mat-cell",56),e.nI1(1,"statusCellClass"),e.nrm(2,"i",56),e.nI1(3,"statusIconClass"),e.DNE(4,it,1,5,"select",57),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function st(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function rt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function lt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function at(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function ct(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function dt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function ut(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function mt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function pt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function ft(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function ht(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function St(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function _t(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function gt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function bt(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ct(n,l){if(1&n&&(e.j41(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Mt(n,l){1&n&&e.nrm(0,"mat-header-row")}function It(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Rt=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.uIo,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new a.ycK;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.uIo);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(qe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(xe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.qdq),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-like-list"]],features:[e.Vt3],decls:69,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Ke,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,We,7,3,"div",19)(24,Je,7,3,"div",19)(25,ze,7,3,"div",19)(26,Ze,7,3,"div",19)(27,Qe,7,3,"div",19),e.bVm(),e.qex(28,20),e.j41(29,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(31,22),e.j41(32,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(33);return e.Njj(o.onTableSortData(s))}),e.qex(34,24),e.DNE(35,et,2,1,"mat-header-cell",25)(36,tt,2,1,"mat-cell",26),e.bVm(),e.qex(37,27),e.DNE(38,ot,2,1,"mat-header-cell",25)(39,nt,5,7,"mat-cell",28),e.bVm(),e.qex(40,29),e.DNE(41,st,2,1,"mat-header-cell",25)(42,rt,4,5,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,lt,2,1,"mat-header-cell",25)(45,at,4,5,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,ct,2,1,"mat-header-cell",25)(48,dt,2,1,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,ut,2,1,"mat-header-cell",25)(51,mt,2,1,"mat-cell",26),e.bVm(),e.qex(52,33),e.DNE(53,pt,2,1,"mat-header-cell",25)(54,ft,2,1,"mat-cell",26),e.bVm(),e.qex(55,34),e.DNE(56,ht,2,1,"mat-header-cell",25)(57,St,2,1,"mat-cell",26),e.bVm(),e.qex(58,35),e.DNE(59,_t,2,1,"mat-header-cell",25)(60,gt,2,1,"mat-cell",26),e.bVm(),e.qex(61,36),e.DNE(62,bt,3,3,"mat-header-cell",37)(63,Ct,6,1,"mat-cell",38),e.bVm(),e.DNE(64,Mt,1,0,"mat-header-row",39)(65,It,1,6,"mat-row",40),e.k0s(),e.bVm(),e.qex(66,41),e.j41(67,"mat-paginator",42,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(32),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(29,Pe)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})();const Et=["vform"];function kt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",29),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",30),e.nrm(6,"i",29),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let wt=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.x4O,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogReportAbuseService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.x4O,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(a.FYP.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogReportAbuseService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.xtU),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-report-abuse-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Et,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:49,vars:27,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["SubjectBody",""],["AdminResultProcess",""],["SubjectUrl",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectBody",1,"color-highlight"],["matInput","","type","text","name","dataModel.subjectBody","placeholder","SubjectBody","id","dataModel.subjectBody",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.adminResultProcess",1,"color-highlight"],["matInput","","name","dataModel.adminResultProcess","type","text","placeholder","AdminResultProcess","minlength","1","maxlength","500","rows","5","id","dataModel.adminResultProcess",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectUrl",1,"color-highlight"],["matInput","","name","dataModel.subjectUrl","type","text","placeholder","SubjectUrl","minlength","1","maxlength","500","rows","5","id","dataModel.subjectUrl",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",7),e.nrm(1,"app-progress-spinner",8),e.j41(2,"div",9)(3,"p",10),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.nrm(10,"app-cms-site-selector",12),e.nI1(11,"translate"),e.nrm(12,"app-cms-user-selector",12),e.nI1(13,"translate"),e.nrm(14,"app-cms-member-selector",12),e.nI1(15,"translate"),e.j41(16,"div",13)(17,"label",14),e.EFF(18,"ModuleName"),e.k0s(),e.j41(19,"input",15,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(21,"div",13)(22,"label",16),e.EFF(23,"ModuleEntityName"),e.k0s(),e.j41(24,"input",17,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(26,"div",13)(27,"label",18),e.EFF(28,"ModuleEntityId"),e.k0s(),e.j41(29,"input",19,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.j41(31,"div",13)(32,"label",20),e.EFF(33,"SubjectBody"),e.k0s(),e.j41(34,"input",21,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.subjectBody,s)||(o.dataModel.subjectBody=s),e.Njj(s)}),e.k0s()(),e.j41(36,"div",13)(37,"label",22),e.EFF(38,"AdminResultProcess"),e.k0s(),e.j41(39,"textarea",23,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.adminResultProcess,s)||(o.dataModel.adminResultProcess=s),e.Njj(s)}),e.EFF(41,"        "),e.k0s()(),e.j41(42,"div",13)(43,"label",24),e.EFF(44,"SubjectUrl"),e.k0s(),e.j41(45,"textarea",25,6),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.subjectUrl,s)||(o.dataModel.subjectUrl=s),e.Njj(s)}),e.EFF(47,"        "),e.k0s()(),e.DNE(48,kt,9,6,"div",26),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,19,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,21,"TITLE.SITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(13,23,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(15,25,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(5),e.R50("ngModel",o.dataModel.subjectBody),e.R7$(5),e.R50("ngModel",o.dataModel.adminResultProcess),e.R7$(6),e.R50("ngModel",o.dataModel.subjectUrl),e.R7$(3),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.xh,p.tU,p.vS,p.cV,y.fg,Y.p,J.X,z.W,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Tt=["vform"];function vt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let At=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogReportAbuseService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.x4O,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogReportAbuseService.setAccessLoad(),this.coreModuleLogReportAbuseService.setAccessDataType(a.FYP.Editor),this.coreModuleLogReportAbuseService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.xtU),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-report-abuse-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Tt,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,vt,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const Lt=()=>[5,10,20,100],yt=n=>({display:n});function Dt(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",46),e.k0s()}}function jt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",50),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Gt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",50),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Nt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"a",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",50),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Ft(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",55)(3,"br"),e.k0s(),e.j41(4,"p",50),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Bt(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(2,"i",56)(3,"br"),e.k0s(),e.j41(4,"p",50),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.MEMBER")))}function Vt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Ut(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Ot(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function $t(n,l){if(1&n&&e.nrm(0,"select",60),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,yt,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function xt(n,l){if(1&n&&(e.j41(0,"mat-cell",58),e.nI1(1,"statusCellClass"),e.nrm(2,"i",58),e.nI1(3,"statusIconClass"),e.DNE(4,$t,1,5,"select",59),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Xt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ht(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function qt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Pt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Yt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Kt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function Wt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Jt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function zt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function Zt(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function Qt(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function eo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function to(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.subjectBody?null:t.fieldsInfo.subjectBody.fieldTitle," ")}}function oo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.subjectBody," ")}}function io(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.adminResultProcess?null:t.fieldsInfo.adminResultProcess.fieldTitle," ")}}function no(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.adminResultProcess," ")}}function so(n,l){if(1&n&&(e.j41(0,"mat-header-cell",57),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ro(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function lo(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ao(n,l){if(1&n&&(e.j41(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function co(n,l){1&n&&e.nrm(0,"mat-header-row")}function uo(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let mo=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.x4O,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","SubjectBody","AdminResultProcess","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new a.ycK;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.x4O);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(At,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(wt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.xtU),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-report-abuse-list"]],features:[e.Vt3],decls:75,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","SubjectBody"],["matColumnDef","AdminResultProcess"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Dt,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,jt,7,3,"div",19)(24,Gt,7,3,"div",19)(25,Nt,7,3,"div",19)(26,Ft,7,3,"div",19)(27,Bt,7,3,"div",19),e.bVm(),e.qex(28,20),e.j41(29,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(31,22),e.j41(32,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(33);return e.Njj(o.onTableSortData(s))}),e.qex(34,24),e.DNE(35,Vt,2,1,"mat-header-cell",25)(36,Ut,2,1,"mat-cell",26),e.bVm(),e.qex(37,27),e.DNE(38,Ot,2,1,"mat-header-cell",25)(39,xt,5,7,"mat-cell",28),e.bVm(),e.qex(40,29),e.DNE(41,Xt,2,1,"mat-header-cell",25)(42,Ht,4,5,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,qt,2,1,"mat-header-cell",25)(45,Pt,4,5,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,Yt,2,1,"mat-header-cell",25)(48,Kt,2,1,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,Wt,2,1,"mat-header-cell",25)(51,Jt,2,1,"mat-cell",26),e.bVm(),e.qex(52,33),e.DNE(53,zt,2,1,"mat-header-cell",25)(54,Zt,2,1,"mat-cell",26),e.bVm(),e.qex(55,34),e.DNE(56,Qt,2,1,"mat-header-cell",25)(57,eo,2,1,"mat-cell",26),e.bVm(),e.qex(58,35),e.DNE(59,to,2,1,"mat-header-cell",25)(60,oo,2,1,"mat-cell",26),e.bVm(),e.qex(61,36),e.DNE(62,io,2,1,"mat-header-cell",25)(63,no,2,1,"mat-cell",26),e.bVm(),e.qex(64,37),e.DNE(65,so,2,1,"mat-header-cell",25)(66,ro,2,1,"mat-cell",26),e.bVm(),e.qex(67,38),e.DNE(68,lo,3,3,"mat-header-cell",39)(69,ao,6,1,"mat-cell",40),e.bVm(),e.DNE(70,co,1,0,"mat-header-row",41)(71,uo,1,6,"mat-row",42),e.k0s(),e.bVm(),e.qex(72,43),e.j41(73,"mat-paginator",44,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(38),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(29,Lt)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})();const po=["vform"];function fo(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",19),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ho=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.V1L,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogScoreService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.N$V,this.dataModel=new a.V1L,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.setAccessDataType(a.FYP.Editor),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.Xp7),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-score-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(po,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:32,vars:24,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleName","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityName","placeholder","moduleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","type","text","name","dataModel.moduleEntityId","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",4),e.nrm(1,"app-progress-spinner",5),e.j41(2,"div",6)(3,"p",7),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",null,0),e.nrm(10,"app-cms-site-selector",8),e.nI1(11,"translate"),e.nrm(12,"app-cms-user-selector",8),e.nI1(13,"translate"),e.nrm(14,"app-cms-member-selector",8),e.nI1(15,"translate"),e.j41(16,"div",9)(17,"label",10),e.EFF(18,"ModuleName"),e.k0s(),e.j41(19,"input",11,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(21,"div",9)(22,"label",12),e.EFF(23,"ModuleEntityName"),e.k0s(),e.j41(24,"input",13,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(26,"div",9)(27,"label",14),e.EFF(28,"ModuleEntityId"),e.k0s(),e.j41(29,"input",15,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.DNE(31,fo,5,3,"div",16),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,16,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,18,"TITLE.SITE")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkUserId)("optionPlaceholder",e.bMT(13,20,"TITLE.USER")),e.R7$(2),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkMemberId)("optionPlaceholder",e.bMT(15,22,"TITLE.Member")),e.R7$(5),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.vS,p.cV,y.fg,Y.p,J.X,z.W,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const So=["vform"];function _o(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let go=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogScoreService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.V1L,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogScoreService.setAccessLoad(),this.coreModuleLogScoreService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.Xp7),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-score-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(So,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,_o,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const bo=()=>[5,10,20,100],Co=n=>({display:n});function Mo(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",43),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",44),e.k0s()}}function Io(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",47)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Ro(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",50)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Eo(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",52)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function ko(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function wo(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewMemberRow(o.tableRowSelected))}),e.nrm(2,"i",54)(3,"br"),e.k0s(),e.j41(4,"p",48),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.MEMBER")))}function To(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function vo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Ao(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Lo(n,l){if(1&n&&e.nrm(0,"select",58),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Co,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function yo(n,l){if(1&n&&(e.j41(0,"mat-cell",56),e.nI1(1,"statusCellClass"),e.nrm(2,"i",56),e.nI1(3,"statusIconClass"),e.DNE(4,Lo,1,5,"select",57),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Do(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function jo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Go(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function No(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function Fo(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function Bo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.linkMemberId," ")}}function Vo(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Uo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function Oo(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function $o(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function xo(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Xo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function Ho(n,l){if(1&n&&(e.j41(0,"mat-header-cell",55),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function qo(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Po(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Yo(n,l){if(1&n&&(e.j41(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Ko(n,l){1&n&&e.nrm(0,"mat-header-row")}function Wo(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Jo=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.V1L,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","LinkMemberId","ModuleName","ModuleEntityName","ModuleEntityId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberId>0){const d=new a.ycK;d.propertyName="linkMemberId",d.value=this.requestlinkMemberId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.V1L);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(go,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ho,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_member_informations"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.Xp7),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-score-list"]],features:[e.Vt3],decls:69,vars:30,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Mo,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Io,7,3,"div",19)(24,Ro,7,3,"div",19)(25,Eo,7,3,"div",19)(26,ko,7,3,"div",19)(27,wo,7,3,"div",19),e.bVm(),e.qex(28,20),e.j41(29,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(31,22),e.j41(32,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(33);return e.Njj(o.onTableSortData(s))}),e.qex(34,24),e.DNE(35,To,2,1,"mat-header-cell",25)(36,vo,2,1,"mat-cell",26),e.bVm(),e.qex(37,27),e.DNE(38,Ao,2,1,"mat-header-cell",25)(39,yo,5,7,"mat-cell",28),e.bVm(),e.qex(40,29),e.DNE(41,Do,2,1,"mat-header-cell",25)(42,jo,4,5,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,Go,2,1,"mat-header-cell",25)(45,No,4,5,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,Fo,2,1,"mat-header-cell",25)(48,Bo,2,1,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,Vo,2,1,"mat-header-cell",25)(51,Uo,2,1,"mat-cell",26),e.bVm(),e.qex(52,33),e.DNE(53,Oo,2,1,"mat-header-cell",25)(54,$o,2,1,"mat-cell",26),e.bVm(),e.qex(55,34),e.DNE(56,xo,2,1,"mat-header-cell",25)(57,Xo,2,1,"mat-cell",26),e.bVm(),e.qex(58,35),e.DNE(59,Ho,2,1,"mat-header-cell",25)(60,qo,2,1,"mat-cell",26),e.bVm(),e.qex(61,36),e.DNE(62,Po,3,3,"mat-header-cell",37)(63,Yo,6,1,"mat-cell",38),e.bVm(),e.DNE(64,Ko,1,0,"mat-header-row",39)(65,Wo,1,6,"mat-row",40),e.k0s(),e.bVm(),e.qex(66,41),e.j41(67,"mat-paginator",42,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,25,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,27,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkMemberId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(32),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(29,bo)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})();var Z=b(2839),Q=b(9344);const zo=["vform"];function Zo(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",12)(1,"label",25),e.EFF(2),e.k0s(),e.j41(3,"input",26),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.expireDateTime,o)||(r.dataModel.expireDateTime=o),e.Njj(o)}),e.k0s(),e.nrm(4,"mat-datepicker-toggle",27)(5,"mat-datepicker",28,6),e.k0s()}if(2&n){const t=e.sdS(6),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.expireDateTime?null:i.fieldsInfo.expireDateTime.fieldTitle),e.R7$(),e.FS9("placeholder",null==i.fieldsInfo.expireDateTime?null:i.fieldsInfo.expireDateTime.fieldTitle),e.FS9("disabled",!(null!=i.fieldsInfo.expireDateTime&&i.fieldsInfo.expireDateTime.accessEditField)),e.Y8G("matDatepicker",t),e.R50("ngModel",i.dataModel.expireDateTime),e.R7$(),e.Y8G("for",t)}}function Qo(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",29)(1,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",31),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",32),e.nrm(6,"i",31),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"ACTION.CANCEL")," "),e.R7$(4),e.SpI(" ",e.bMT(8,4,"ACTION.SAVE")," "))}let ei=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.rrj,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogShowKeyService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.rrj,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.setAccessDataType(a.FYP.Editor),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogShowKeyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(o=>{this.formInfo.formAlert=o}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t),this.formInfo.formSubmitAllow=!0},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.zGL),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodule-data-memo-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(zo,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:37,vars:12,consts:[["vform","ngForm"],["ModuleName",""],["ModuleEntityName",""],["ModuleEntityId",""],["showKey",""],["SubjectTitle",""],["expireDateTime",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.moduleName",1,"color-highlight"],["matInput","","name","dataModel.moduleName","type","text","placeholder","ModuleName","id","dataModel.moduleName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityName",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityName","type","text","placeholder","ModuleEntityName","id","dataModel.moduleEntityName",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.moduleEntityId",1,"color-highlight"],["matInput","","name","dataModel.moduleEntityId","type","text","placeholder","ModuleEntityId","id","dataModel.moduleEntityId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.showKey",1,"color-highlight"],["matInput","","name","dataModel.showKey","type","text","placeholder","showKey","id","dataModel.showKey",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.subjectTitle",1,"color-highlight"],["matInput","","name","dataModel.subjectTitle","type","text","placeholder","SubjectTitle","id","dataModel.subjectTitle",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],["for","dataModel.expireDateTime",1,"color-highlight"],["matInput","","type","text","name","dataModel.expireDateTime","minlength","3","maxlength","100","id","dataModel.expireDateTime",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel","placeholder","disabled"],["matSuffix","",3,"for"],["touchUi",""],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"div",7),e.nrm(1,"app-progress-spinner",8),e.j41(2,"div",9)(3,"p",10),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(r),e.Njj(o.onFormSubmit())}),e.j41(10,"div",12)(11,"label",13),e.EFF(12,"ModuleName"),e.k0s(),e.j41(13,"input",14,1),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleName,s)||(o.dataModel.moduleName=s),e.Njj(s)}),e.k0s()(),e.j41(15,"div",12)(16,"label",15),e.EFF(17,"ModuleEntityName"),e.k0s(),e.j41(18,"input",16,2),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityName,s)||(o.dataModel.moduleEntityName=s),e.Njj(s)}),e.k0s()(),e.j41(20,"div",12)(21,"label",17),e.EFF(22,"ModuleEntityId"),e.k0s(),e.j41(23,"input",18,3),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.moduleEntityId,s)||(o.dataModel.moduleEntityId=s),e.Njj(s)}),e.k0s()(),e.j41(25,"div",12)(26,"label",19),e.EFF(27,"showKey"),e.k0s(),e.j41(28,"textarea",20,4),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.showKey,s)||(o.dataModel.showKey=s),e.Njj(s)}),e.k0s()(),e.j41(30,"div",12)(31,"label",21),e.EFF(32,"SubjectTitle"),e.k0s(),e.j41(33,"textarea",22,5),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.dataModel.subjectTitle,s)||(o.dataModel.subjectTitle=s),e.Njj(s)}),e.k0s()(),e.DNE(35,Zo,7,6,"div",23)(36,Qo,9,6,"div",24),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,10,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(7),e.R50("ngModel",o.dataModel.moduleName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityName),e.R7$(5),e.R50("ngModel",o.dataModel.moduleEntityId),e.R7$(5),e.R50("ngModel",o.dataModel.showKey),e.R7$(5),e.R50("ngModel",o.dataModel.subjectTitle),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.expireDateTime?null:o.fieldsInfo.expireDateTime.accessWatchField),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.xh,p.tU,p.vS,p.cV,Z.Vh,Z.bZ,Z.bU,Q.yw,y.fg,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const ti=["vform"];function oi(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ii=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogShowKeyService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.rrj,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogShowKeyService.setAccessLoad(),this.coreModuleLogShowKeyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.zGL),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodule-data-memo-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(ti,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,oi,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const ni=()=>[5,10,20,100],si=n=>({display:n});function ri(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",43),e.k0s()}}function li(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function ai(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function ci(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function di(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ui(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function mi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function pi(n,l){if(1&n&&e.nrm(0,"select",55),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,si,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function fi(n,l){if(1&n&&(e.j41(0,"mat-cell",53),e.nI1(1,"statusCellClass"),e.nrm(2,"i",53),e.nI1(3,"statusIconClass"),e.DNE(4,pi,1,5,"select",54),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function hi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleName?null:t.fieldsInfo.moduleName.fieldTitle," ")}}function Si(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleName," ")}}function _i(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityName?null:t.fieldsInfo.moduleEntityName.fieldTitle," ")}}function gi(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityName," ")}}function bi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.moduleEntityId?null:t.fieldsInfo.moduleEntityId.fieldTitle," ")}}function Ci(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.moduleEntityId," ")}}function Mi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.showKey?null:t.fieldsInfo.showKey.fieldTitle," ")}}function Ii(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.showKey," ")}}function Ri(n,l){if(1&n&&(e.j41(0,"mat-header-cell",52),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ei(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ki(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function wi(n,l){if(1&n&&(e.j41(0,"mat-cell",56)(1,"button",57)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Ti(n,l){if(1&n&&(e.j41(0,"mat-cell")(1,"div")(2,"table")(3,"tr"),e.nrm(4,"td"),e.j41(5,"td"),e.EFF(6),e.k0s()()()()()),2&n){const t=l.$implicit;e.R7$(6),e.SpI(" ",t.subjectTitle," ")}}function vi(n,l){1&n&&e.nrm(0,"mat-header-row")}function Ai(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let Li=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.rrj,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.tabledisplayedColumnsMobileSource=["RecordStatus","ModuleName","ModuleEntityName","ModuleEntityId","showKey","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.rrj);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ii,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ei,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.Filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.zGL),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodule-data-memo-list"]],features:[e.Vt3],decls:63,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","ModuleName"],["matColumnDef","ModuleEntityName"],["matColumnDef","ModuleEntityId"],["matColumnDef","showKey"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],["matColumnDef","expandedDetail"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,ri,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,li,7,3,"div",19)(24,ai,7,3,"div",19)(25,ci,7,3,"div",19),e.bVm(),e.qex(26,20),e.j41(27,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(28,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(29,22),e.j41(30,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(31);return e.Njj(o.onTableSortData(s))}),e.qex(32,24),e.DNE(33,di,2,1,"mat-header-cell",25)(34,ui,2,1,"mat-cell",26),e.bVm(),e.qex(35,27),e.DNE(36,mi,2,1,"mat-header-cell",25)(37,fi,5,7,"mat-cell",28),e.bVm(),e.qex(38,29),e.DNE(39,hi,2,1,"mat-header-cell",25)(40,Si,2,1,"mat-cell",26),e.bVm(),e.qex(41,30),e.DNE(42,_i,2,1,"mat-header-cell",25)(43,gi,2,1,"mat-cell",26),e.bVm(),e.qex(44,31),e.DNE(45,bi,2,1,"mat-header-cell",25)(46,Ci,2,1,"mat-cell",26),e.bVm(),e.qex(47,32),e.DNE(48,Mi,2,1,"mat-header-cell",25)(49,Ii,2,1,"mat-cell",26),e.bVm(),e.qex(50,33),e.DNE(51,Ri,2,1,"mat-header-cell",25)(52,Ei,2,1,"mat-cell",26),e.bVm(),e.qex(53,34),e.DNE(54,ki,3,3,"mat-header-cell",35)(55,wi,6,1,"mat-cell",36),e.bVm(),e.qex(56,37),e.DNE(57,Ti,7,1,"mat-cell",26),e.bVm(),e.DNE(58,vi,1,0,"mat-header-row",38)(59,Ai,1,6,"mat-row",39),e.k0s(),e.bVm(),e.qex(60,40),e.j41(61,"mat-paginator",41,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(28),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,ni)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,_.D9,q.T,P.M],encapsulation:2})}return n})();const yi=["vform"];function Di(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",9),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ji=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.Tss,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditBlockedService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.Tss,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.setAccessDataType(a.FYP.Editor),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.p8M),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit-blocked-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(yi,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",1),e.nrm(1,"app-progress-spinner",2),e.j41(2,"div",3)(3,"p",4),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",null,0),e.nrm(10,"app-cms-site-selector",5),e.nI1(11,"translate"),e.DNE(12,Di,5,3,"div",6),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,9,"TITLE.SITE")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.cb,p.cV,Y.p,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Gi=["vform"];function Ni(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Fi=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditBlockedService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.Tss,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.p8M),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit-blocked-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Gi,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,Ni,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const Bi=()=>[5,10,20,100],Vi=n=>({display:n});function Ui(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",38),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",39),e.k0s()}}function Oi(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",42)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function $i(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",45)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function xi(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",47)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Xi(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.SITE")))}function Hi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function qi(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Pi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Yi(n,l){if(1&n&&e.nrm(0,"select",52),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,Vi,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ki(n,l){if(1&n&&(e.j41(0,"mat-cell",50),e.nI1(1,"statusCellClass"),e.nrm(2,"i",50),e.nI1(3,"statusIconClass"),e.DNE(4,Yi,1,5,"select",51),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Wi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ji(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function zi(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Zi(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Qi(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function en(n,l){if(1&n&&(e.j41(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function tn(n,l){1&n&&e.nrm(0,"mat-header-row")}function on(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let nn=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.Tss,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new a.ycK;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.Tss);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Fi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ji,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.p8M),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit-blocked-list"]],features:[e.Vt3],decls:53,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,Ui,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Oi,7,3,"div",19)(24,$i,7,3,"div",19)(25,xi,7,3,"div",19)(26,Xi,7,3,"div",19),e.bVm(),e.qex(27,20),e.j41(28,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(30,22),e.j41(31,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(32);return e.Njj(o.onTableSortData(s))}),e.qex(33,24),e.DNE(34,Hi,2,1,"mat-header-cell",25)(35,qi,2,1,"mat-cell",26),e.bVm(),e.qex(36,27),e.DNE(37,Pi,2,1,"mat-header-cell",25)(38,Ki,5,7,"mat-cell",28),e.bVm(),e.qex(39,29),e.DNE(40,Wi,2,1,"mat-header-cell",25)(41,Ji,4,5,"mat-cell",26),e.bVm(),e.qex(42,30),e.DNE(43,zi,2,1,"mat-header-cell",25)(44,Zi,2,1,"mat-cell",26),e.bVm(),e.qex(45,31),e.DNE(46,Qi,3,3,"mat-header-cell",32)(47,en,6,1,"mat-cell",33),e.bVm(),e.DNE(48,tn,1,0,"mat-header-row",34)(49,on,1,6,"mat-row",35),e.k0s(),e.bVm(),e.qex(50,36),e.j41(51,"mat-paginator",37,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,24,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,26,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(17),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(28,Bi)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,K.Z,q.T,P.M],encapsulation:2})}return n})();const sn=["vform"];function rn(n,l){if(1&n&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldDescription," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function ln(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",9)(1,"label",10),e.EFF(2),e.k0s(),e.j41(3,"textarea",11,1),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.description,o)||(r.dataModel.description=o),e.Njj(o)}),e.EFF(5,"                "),e.k0s(),e.j41(6,"em"),e.EFF(7),e.k0s(),e.DNE(8,rn,5,4,"mat-error",12),e.k0s()}if(2&n){const t=e.sdS(4),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldDescription),e.R7$(),e.FS9("placeholder",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle),e.R50("ngModel",i.dataModel.description),e.Y8G("disabled",!(null!=i.fieldsInfo.description&&i.fieldsInfo.description.accessEditField)),e.R7$(4),e.SpI("",t.value.length," / 500"),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function an(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let cn=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.ZF0,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.N$V,this.dataModel=new a.ZF0,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.setAccessDataType(a.FYP.Editor),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.hU0),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit--edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(sn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",2),e.nrm(1,"app-progress-spinner",3),e.j41(2,"div",4)(3,"p",5),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",null,0),e.nrm(10,"app-cms-site-selector",6),e.nI1(11,"translate"),e.DNE(12,ln,9,6,"div",7)(13,an,5,3,"div",8),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,10,"TITLE.SITE")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.description?null:o.fieldsInfo.description.accessWatchField),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.xh,p.tU,p.vS,p.cV,Q.TL,y.fg,Y.p,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const dn=["vform"];function un(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"button",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let mn=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteCreditService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.ZF0,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteCreditService.setAccessLoad(),this.coreModuleLogSiteCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.hU0),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit--view"]],viewQuery:function(i,o){if(1&i&&e.GBs(dn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","progressOverlayContainer"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.nrm(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"small",6),e.EFF(8),e.k0s(),e.j41(9,"small",7),e.EFF(10),e.k0s()()(),e.j41(11,"div",8),e.DNE(12,un,5,3,"div",9),e.k0s()),2&i&&(e.R7$(),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const pn=()=>[5,10,20,100],fn=n=>({display:n});function hn(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",38),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",39),e.k0s()}}function Sn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",42)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function _n(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",45)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function gn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",47)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function bn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",40)(1,"a",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewSiteRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.SITE")))}function Cn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Mn(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function In(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Rn(n,l){if(1&n&&e.nrm(0,"select",52),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,fn,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function En(n,l){if(1&n&&(e.j41(0,"mat-cell",50),e.nI1(1,"statusCellClass"),e.nrm(2,"i",50),e.nI1(3,"statusIconClass"),e.DNE(4,Rn,1,5,"select",51),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function kn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function wn(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function Tn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",49),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function vn(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function An(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Ln(n,l){if(1&n&&(e.j41(0,"mat-cell",53)(1,"button",54)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function yn(n,l){1&n&&e.nrm(0,"mat-header-row")}function Dn(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let jn=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.ZF0,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new a.ycK;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.ZF0);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(mn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(cn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.hU0),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-credit--list"]],features:[e.Vt3],decls:53,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,hn,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Sn,7,3,"div",19)(24,_n,7,3,"div",19)(25,gn,7,3,"div",19)(26,bn,7,3,"div",19),e.bVm(),e.qex(27,20),e.j41(28,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(30,22),e.j41(31,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(32);return e.Njj(o.onTableSortData(s))}),e.qex(33,24),e.DNE(34,Cn,2,1,"mat-header-cell",25)(35,Mn,2,1,"mat-cell",26),e.bVm(),e.qex(36,27),e.DNE(37,In,2,1,"mat-header-cell",25)(38,En,5,7,"mat-cell",28),e.bVm(),e.qex(39,29),e.DNE(40,kn,2,1,"mat-header-cell",25)(41,wn,4,5,"mat-cell",26),e.bVm(),e.qex(42,30),e.DNE(43,Tn,2,1,"mat-header-cell",25)(44,vn,2,1,"mat-cell",26),e.bVm(),e.qex(45,31),e.DNE(46,An,3,3,"mat-header-cell",32)(47,Ln,6,1,"mat-cell",33),e.bVm(),e.DNE(48,yn,1,0,"mat-header-row",34)(49,Dn,1,6,"mat-row",35),e.k0s(),e.bVm(),e.qex(50,36),e.j41(51,"mat-paginator",37,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,24,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,26,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkSiteId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(17),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(28,pn)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,K.Z,q.T,P.M],encapsulation:2})}return n})();const Gn=["vform"];function Nn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",9),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Fn=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.czC,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditBlockedService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.YyC,this.dataModel=new a.czC,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.setAccessDataType(a.FYP.Editor),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.osj),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(Gn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:13,vars:11,consts:[["vform","ngForm"],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",1),e.nrm(1,"app-progress-spinner",2),e.j41(2,"div",3)(3,"p",4),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",null,0),e.nrm(10,"app-cms-site-selector",5),e.nI1(11,"translate"),e.DNE(12,Nn,5,3,"div",6),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,7,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,9,"TITLE.SITE")),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.cb,p.cV,Y.p,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const Bn=["vform"];function Vn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Un=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditBlockedService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.czC,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteUserCreditBlockedService.setAccessLoad(),this.coreModuleLogSiteUserCreditBlockedService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.osj),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-view"]],viewQuery:function(i,o){if(1&i&&e.GBs(Bn,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4),e.nrm(9,"app-cms-json-list",5),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"small",8),e.EFF(13),e.k0s(),e.j41(14,"small",9),e.EFF(15),e.k0s()()(),e.j41(16,"div",10),e.DNE(17,Vn,5,3,"div",11),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(3),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const On=()=>[5,10,20,100],$n=n=>({display:n});function xn(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",40),e.k0s()}}function Xn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",43)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Hn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function qn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Pn(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Yn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Kn(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function Wn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Jn(n,l){if(1&n&&e.nrm(0,"select",53),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,$n,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function zn(n,l){if(1&n&&(e.j41(0,"mat-cell",51),e.nI1(1,"statusCellClass"),e.nrm(2,"i",51),e.nI1(3,"statusIconClass"),e.DNE(4,Jn,1,5,"select",52),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Zn(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Qn(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function es(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function ts(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function os(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function is(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function ns(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ss(n,l){if(1&n&&(e.j41(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function rs(n,l){1&n&&e.nrm(0,"mat-header-row")}function ls(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}let as=(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.czC,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new a.ycK;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.czC);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Un,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Fn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.osj),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit-blocked-list"]],features:[e.Vt3],decls:57,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2,"id "),e.EFF(3," -------------------------------------- "),e.bVm(),e.eu8(4,5),e.qex(5,6),e.j41(6,"div",7)(7,"div",8)(8,"a",9)(9,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"a",9)(13,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"div",12),e.DNE(17,xn,2,0,"a",13),e.j41(18,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(19,"i",15),e.k0s(),e.j41(20,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(21,"i",16),e.k0s()()(),e.bVm(),e.eu8(22,17),e.qex(23,18),e.DNE(24,Xn,7,3,"div",19)(25,Hn,7,3,"div",19)(26,qn,7,3,"div",19)(27,Pn,7,3,"div",19),e.bVm(),e.qex(28,20),e.j41(29,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(30,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(31,22),e.j41(32,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(33);return e.Njj(o.onTableSortData(s))}),e.qex(34,24),e.DNE(35,Yn,2,1,"mat-header-cell",25)(36,Kn,2,1,"mat-cell",26),e.bVm(),e.qex(37,27),e.DNE(38,Wn,2,1,"mat-header-cell",25)(39,zn,5,7,"mat-cell",28),e.bVm(),e.qex(40,29),e.DNE(41,Zn,2,1,"mat-header-cell",25)(42,Qn,4,5,"mat-cell",26),e.bVm(),e.qex(43,30),e.DNE(44,es,2,1,"mat-header-cell",25)(45,ts,4,5,"mat-cell",26),e.bVm(),e.qex(46,31),e.DNE(47,os,2,1,"mat-header-cell",25)(48,is,2,1,"mat-cell",26),e.bVm(),e.qex(49,32),e.DNE(50,ns,3,3,"mat-header-cell",33)(51,ss,6,1,"mat-cell",34),e.bVm(),e.DNE(52,rs,1,0,"mat-header-row",35)(53,ls,1,6,"mat-row",36),e.k0s(),e.bVm(),e.qex(54,37),e.j41(55,"mat-paginator",38,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(9),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(11,24,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(15,26,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(20),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(28,On)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})();const cs=["vform"];function ds(n,l){if(1&n&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(),e.SpI(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldDescription," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function us(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",9)(1,"label",10),e.EFF(2),e.k0s(),e.j41(3,"textarea",11,1),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.dataModel.description,o)||(r.dataModel.description=o),e.Njj(o)}),e.EFF(5,"                "),e.k0s(),e.j41(6,"em"),e.EFF(7),e.k0s(),e.DNE(8,ds,5,4,"mat-error",12),e.k0s()}if(2&n){const t=e.sdS(4),i=e.XpG();e.R7$(2),e.JRh(null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldDescription),e.R7$(),e.FS9("placeholder",null==i.fieldsInfo.description?null:i.fieldsInfo.description.fieldTitle),e.R50("ngModel",i.dataModel.description),e.Y8G("disabled",!(null!=i.fieldsInfo.description&&i.fieldsInfo.description.accessEditField)),e.R7$(4),e.SpI("",t.value.length," / 500"),e.R7$(),e.Y8G("ngIf",null==t.errors?null:t.errors.required)}}function ms(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let ps=(()=>{class n extends G.n{constructor(t,i,o,r,c,s,m,f,h){super(r,new a.UKZ,f,h),this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.dataModelResult=new a.N$V,this.dataModel=new a.UKZ,this.formInfo=new a.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id)}ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(t=>{this.formInfo.formTitle=t}),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.setAccessDataType(a.FYP.Editor),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.G2L),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit--edit"]],viewQuery:function(i,o){if(1&i&&e.GBs(cs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},features:[e.Vt3],decls:14,vars:12,consts:[["vform","ngForm"],["Description",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.description",1,"color-highlight"],["matInput","","name","dataModel.description","type","text","minlength","0","maxlength","500","rows","10","id","dataModel.description",1,"form-control","validate-name",3,"ngModelChange","ngModel","disabled","placeholder"],[4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",2),e.nrm(1,"app-progress-spinner",3),e.j41(2,"div",4)(3,"p",5),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",null,0),e.nrm(10,"app-cms-site-selector",6),e.nI1(11,"translate"),e.DNE(12,us,9,6,"div",7)(13,ms,5,3,"div",8),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("optionDisabled",!0)("optionSelectForce",o.dataModel.linkSiteId)("optionPlaceholder",e.bMT(11,10,"TITLE.SITE")),e.R7$(2),e.Y8G("ngIf",null==o.fieldsInfo.description?null:o.fieldsInfo.description.accessWatchField),e.R7$(),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,p.qT,p.me,p.BC,p.cb,p.xh,p.tU,p.vS,p.cV,Q.TL,y.fg,Y.p,w._,_.D9],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return n})();const fs=["vform"];function hs(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",7)(1,"button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onFormCancel())}),e.nrm(2,"i",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"ACTION.CANCEL")," "))}let Ss=(()=>{class n{constructor(t,i,o,r,c,s,m,f,h){this.data=t,this.dialogRef=i,this.coreEnumService=o,this.coreModuleLogSiteUserCreditService=r,this.cmsToastrService=c,this.tokenHelper=s,this.cdr=m,this.publicHelper=f,this.translate=h,this.requestId="",this.tokenInfo=new a.l$k,this.dataModelResult=new a.N$V,this.dataModel=new a.UKZ,this.formInfo=new a.IL9,this.dataModelEnumSendSmsStatusTypeResult=new a.N$V,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,t&&(this.requestId=t.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:t=>{this.dataModelEnumSendSmsStatusTypeResult=t}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const t=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(t,i,this.constructor.name)}),this.coreModuleLogSiteUserCreditService.setAccessLoad(),this.coreModuleLogSiteUserCreditService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(o=>{this.formInfo.formAlert=o}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(t)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(t,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(g.Vh),e.rXU(g.CP),e.rXU(a.i9D),e.rXU(a.G2L),e.rXU(M.k),e.rXU(I._),e.rXU(e.gRc),e.rXU(R.A),e.rXU(_.c$))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit--view"]],viewQuery:function(i,o){if(1&i&&e.GBs(fs,5),2&i){let r;e.mGM(r=e.lsd())&&(o.formGroup=r.first)}},decls:18,vars:10,consts:[[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"ntk-cms-html-card-body"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-progress-spinner",1),e.j41(2,"div",2)(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4),e.nrm(9,"app-cms-json-list",5),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"small",8),e.EFF(13),e.k0s(),e.j41(14,"small",9),e.EFF(15),e.k0s()()(),e.j41(16,"div",10),e.DNE(17,hs,5,3,"div",11),e.k0s()()()),2&i&&(e.R7$(),e.Y8G("optionsInfoAreaId",o.constructor.name),e.R7$(3),e.SpI(" ",o.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,8,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(3),e.Y8G("dataModel",o.dataModel)("optionMethod",1),e.R7$(4),e.SpI("",o.formInfo.formAlert," "),e.R7$(2),e.SpI("",o.formInfo.formError," "),e.R7$(2),e.Y8G("ngIf",o.formInfo.formSubmitAllow))},dependencies:[S.bT,w._,N.l,_.D9],encapsulation:2})}return n})();const _s=()=>[5,10,20,100],gs=n=>({display:n});function bs(n,l){if(1&n){const t=e.RV6();e.j41(0,"a",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionBackToParent())}),e.nrm(1,"i",40),e.k0s()}}function Cs(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewRow(o.tableRowSelected))}),e.nrm(2,"i",43)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.VIEW")))}function Ms(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonEditRow(o.tableRowSelected))}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Is(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonDeleteRow(o.tableRowSelected))}),e.nrm(2,"i",48)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Rs(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",41)(1,"a",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onActionButtonViewUserRow(o.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",44),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&n&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.USER")))}function Es(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ks(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",t.id," ")}}function ws(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}function Ts(n,l){if(1&n&&e.nrm(0,"select",53),2&n){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",t)("ngStyle",e.eq3(3,gs,t.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function vs(n,l){if(1&n&&(e.j41(0,"mat-cell",51),e.nI1(1,"statusCellClass"),e.nrm(2,"i",51),e.nI1(3,"statusIconClass"),e.DNE(4,Ts,1,5,"select",52),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,t.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,t.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function As(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ls(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmssiteinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkSiteId))," ")}}function ys(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ds(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.nI1(2,"cmsuserinfo"),e.nI1(3,"async"),e.k0s()),2&n){const t=l.$implicit;e.R7$(),e.SpI(" ",e.bMT(3,3,e.bMT(2,1,t.linkUserId))," ")}}function js(n,l){if(1&n&&(e.j41(0,"mat-header-cell",50),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Gs(n,l){if(1&n&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Ns(n,l){1&n&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&n&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function Fs(n,l){if(1&n&&(e.j41(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&n){const t=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",t)}}function Bs(n,l){1&n&&e.nrm(0,"mat-header-row")}function Vs(n,l){if(1&n){const t=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onActionTableRowSelect(o))}),e.k0s()}if(2&n){const t=l.$implicit,i=l.dataIndex,o=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",t.id===(null==o.tableRowSelected?null:o.tableRowSelected.id))}}const Us=[{path:"",component:te,children:[{path:"report-abuse",component:mo,data:{title:"ROUTE.COREMODULELOG"}},{path:"show-key",component:Li},{path:"favorite",component:Ue,data:{title:"ROUTE.COREMODULELOG.FAVORITE"}},{path:"like",component:Rt,data:{title:"ROUTE.COREMODULELOG.LIKE"}},{path:"score",component:Jo,data:{title:"ROUTE.COREMODULELOG.SCORE"}},{path:"site-credit",component:jn,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit",component:(()=>{class n extends j.j{constructor(t,i,o,r,c,s,m,f,h,A,E,L){if(super(i,new a.UKZ,E,s,f),this.coreEnumService=t,this.contentService=i,this.cmsToastrService=o,this.cmsConfirmationDialogService=r,this.activatedRoute=c,this.tokenHelper=s,this.cdr=m,this.translate=f,this.router=h,this.pageInfo=A,this.publicHelper=E,this.dialog=L,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestlinkMemberUserId=0,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new a.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkUserId","LinkSiteId","CreatedDate"],this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestlinkMemberUserId=+Number(this.activatedRoute.snapshot.paramMap.get("linkMemberUserId")),this.requestLinkSiteId>0){const d=new a.ycK;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new a.ycK;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestlinkMemberUserId>0){const d=new a.ycK;d.propertyName="linkMemberUserId",d.value=this.requestlinkMemberUserId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=a.eKW.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:t=>{this.tokenInfo=t,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new a.UKZ);const t=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(o=>{this.publicHelper.processService.processStart(t,o,this.constructor.name)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:o=>{o.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(o.access),this.dataModelResult=o,this.tableSource.data=o.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(o.access)):this.cmsToastrService.typeErrorMessage(o.errorMessage),this.publicHelper.processService.processStop(t)},error:o=>{this.cmsToastrService.typeError(o),this.publicHelper.processService.processStop(t,!1)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=a.eKW.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=a.eKW.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionButtonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ss,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ps,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:C.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:C.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(r=>{r&&r.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(t=this.tableRowSelected){if(t&&t.id&&0!==t.id.length)if(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",o="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(r=>{i=r["MESSAGE.Please_Confirm"],o=r["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(i,o).then(r=>{if(r){const c=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(s=>{this.publicHelper.processService.processStart(c,s,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:s=>{s.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(c)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(c,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(r=>{this.cmsToastrService.typeErrorSelected(r)})}onActionButtonStatist(t=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=t,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(s=>{i.set(s,0)}),this.translate.get("MESSAGE.All").subscribe(s=>{i.set(s,0)});const o=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(s=>{this.publicHelper.processService.processStart(o,s,this.constructor.name)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.All").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}});const r=JSON.parse(JSON.stringify(this.filteModelContent)),c=new a.ycK;c.propertyName="RecordStatus",c.value=a.Xw7.Available,r.filters.push(c),this.contentService.ServiceGetCount(r).subscribe({next:s=>{s.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(m=>{i.set(m,s.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(s.errorMessage),this.publicHelper.processService.processStop(o)},error:s=>{this.cmsToastrService.typeError(s),this.publicHelper.processService.processStop(o,!1)}})}onActionButtonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(a.i9D),e.rXU(a.G2L),e.rXU(M.k),e.rXU(D.o),e.rXU(k.nX),e.rXU(I._),e.rXU(e.gRc),e.rXU(_.c$),e.rXU(k.Ix),e.rXU(F.P),e.rXU(R.A),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-coremodulelog-site-user-credit--list"]],features:[e.Vt3],decls:56,vars:29,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,o){if(1&i){const r=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(s){return e.eBV(r),e.DH7(o.viewGuideNotice,s)||(o.viewGuideNotice=s),e.Njj(s)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(r),e.Njj(o.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(r),e.Njj(o.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(r),e.Njj(o.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(r),e.Njj(o.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch.data.show,s)||(o.optionsSearch.data.show=s),e.Njj(s)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12),e.DNE(16,bs,2,0,"a",13),e.j41(17,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.viewGuideNotice=!o.viewGuideNotice)}),e.nrm(18,"i",15),e.k0s(),e.j41(19,"a",14),e.bIt("click",function(){return e.eBV(r),e.Njj(o.onActionButtonReload())}),e.nrm(20,"i",16),e.k0s()()(),e.bVm(),e.eu8(21,17),e.qex(22,18),e.DNE(23,Cs,7,3,"div",19)(24,Ms,7,3,"div",19)(25,Is,7,3,"div",19)(26,Rs,7,3,"div",19),e.bVm(),e.qex(27,20),e.j41(28,"app-cms-search-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsSearch,s)||(o.optionsSearch=s),e.Njj(s)}),e.k0s(),e.j41(29,"app-cms-statist-list",21),e.mxI("optionsChange",function(s){return e.eBV(r),e.DH7(o.optionsStatist,s)||(o.optionsStatist=s),e.Njj(s)}),e.k0s(),e.bVm(),e.qex(30,22),e.j41(31,"mat-table",23,0),e.bIt("matSortChange",function(){e.eBV(r);const s=e.sdS(32);return e.Njj(o.onTableSortData(s))}),e.qex(33,24),e.DNE(34,Es,2,1,"mat-header-cell",25)(35,ks,2,1,"mat-cell",26),e.bVm(),e.qex(36,27),e.DNE(37,ws,2,1,"mat-header-cell",25)(38,vs,5,7,"mat-cell",28),e.bVm(),e.qex(39,29),e.DNE(40,As,2,1,"mat-header-cell",25)(41,Ls,4,5,"mat-cell",26),e.bVm(),e.qex(42,30),e.DNE(43,ys,2,1,"mat-header-cell",25)(44,Ds,4,5,"mat-cell",26),e.bVm(),e.qex(45,31),e.DNE(46,js,2,1,"mat-header-cell",25)(47,Gs,2,1,"mat-cell",26),e.bVm(),e.qex(48,32),e.DNE(49,Ns,3,3,"mat-header-cell",33)(50,Fs,6,1,"mat-cell",34),e.bVm(),e.DNE(51,Bs,1,0,"mat-header-row",35)(52,Vs,1,6,"mat-row",36),e.k0s(),e.bVm(),e.qex(53,37),e.j41(54,"mat-paginator",38,1),e.bIt("page",function(s){return e.eBV(r),e.Njj(o.onTablePageingData(s))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionsListInfoAreaId",o.constructor.name)("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",o.viewGuideNotice),e.Y8G("optionTreeDisplay",!1)("optionActionRowId",null==o.tableRowSelected?null:o.tableRowSelected.id)("optionActionRowDisplayMenu",o.tableRowSelectDoubleClick)("optionSelectRowItemTitle",null==o.tableRowSelected?null:o.tableRowSelected.id),e.R7$(8),e.R50("ngModel",o.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,24,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,26,"ACTION.STATIST")," "),e.R7$(3),e.Y8G("ngIf",o.requestLinkSiteId>0),e.R7$(7),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessWatchRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==o.dataModelResult||null==o.dataModelResult.access?null:o.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",(null==o.tableRowSelected?null:o.tableRowSelected.linkUserId)>0),e.R7$(2),e.R50("options",o.optionsSearch),e.R7$(),e.R50("options",o.optionsStatist),e.R7$(2),e.Y8G("dataSource",o.tableSource),e.R7$(20),e.Y8G("matHeaderRowDef",o.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.tabledisplayedColumns),e.R7$(2),e.Y8G("length",o.dataModelResult.totalRowCount)("pageIndex",o.dataModelResult.currentPageNumber-1)("pageSize",o.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(28,_s)))},dependencies:[S.YU,S.bT,S.B3,p.BC,p.vS,B.iY,V.An,y.fg,T.kk,T.Cp,U.iy,O.sG,v.B4,v.aE,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,$.l,x.l,X.A,H.x,S.Jj,_.D9,W.p,K.Z,q.T,P.M],encapsulation:2})}return n})(),data:{title:"ROUTE.COREMODULELOG"}},{path:"site-credit-blocked",component:nn,data:{title:"ROUTE.COREMODULELOG"}},{path:"site-user-credit-blocked",component:as,data:{title:"ROUTE.COREMODULELOG"}}]}];let Os=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({imports:[k.iI.forChild(Us),k.iI]})}return n})();var $s=b(3627),xs=b(295),Xs=b(2688);let Hs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({providers:[a.XBe,a.XFG,a.Fwl,a.LEy,a.smV,a.hzK,a.DCO,a.qdq,a.BrC,a.zGL,a.xtU,a.Xp7,a.p8M,a.osj,a.hU0,a.G2L,D.o],imports:[Os,S.MD,p.YN,p.X1.withConfig({warnOnNgModelWithFormControl:"never"}),Xs.G,$s.Qt,xs.XQ]})}return n})()}}]);