"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[4757,7421],{4757:(w,E,s)=>{s.r(E),s.d(E,{CoreCurrencyCmsModule:()=>nt});var S=s(6610),m=s(7222),r=s(8189),p=s(8550),D=s(9675),M=s(9915),y=s(5312),R=s(8784),_=s(6482),e=s(7788),C=s(9722),b=s(5154),d=s(2882),f=s(9344),h=s(4587),g=s(1536),k=s(7912),A=s(295),F=s(8267);const x=["vform"];function V(o,c){if(1&o){const n=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",31),e.mxI("modelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),e.Njj(t)}),e.k0s()}if(2&o){const n=e.XpG();e.R50("model",n.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function O(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function $(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," TitleResourceLanguage is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function X(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",32)(1,"div",33)(2,"h5",34),e.EFF(3),e.k0s()(),e.j41(4,"div",35)(5,"div",36)(6,"input",37),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.isDefault,t)||(a.dataModel.isDefault=t),e.Njj(t)}),e.k0s(),e.nrm(7,"label",38),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(3),e.SpI(" ",null==n.fieldsInfo.isDefault?null:n.fieldsInfo.isDefault.fieldTitle,""),e.R7$(3),e.R50("ngModel",n.dataModel.isDefault)}}function H(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Symbol is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function P(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," ExchangeBuyRatio is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function U(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," ExchangeSaleRatio is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function Y(o,c){if(1&o&&(e.nrm(0,"img",39),e.nI1(1,"cmsthumbnail")),2&o){const n=e.XpG();e.FS9("src",e.bMT(1,1,n.dataModel.linkMainImageIdSrc),e.B4B)}}function J(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",13)(1,"label",40),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.fileManagerOpenForm=!0)}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",41,6),e.nI1(6,"translate"),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.linkMainImageId,t)||(a.dataModel.linkMainImageId=t),e.Njj(t)}),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.fileManagerOpenForm=!0)}),e.k0s(),e.j41(7,"cms-file-manager",42),e.bIt("itemSelected",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.onActionFileSelected(t))}),e.mxI("openFormChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.fileManagerOpenForm,t)||(a.fileManagerOpenForm=t),e.Njj(t)}),e.k0s()()}if(2&o){const n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,11,"TITLE.Icon_File")),e.R7$(2),e.FS9("placeholder",e.bMT(6,13,"TITLE.Original_File_ID")),e.R50("ngModel",n.dataModel.linkMainImageId),e.R7$(3),e.Y8G("language",n.appLanguage)("isPopup",!0),e.R50("openForm",n.fileManagerOpenForm),e.Y8G("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function K(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onFormCancel())}),e.nrm(2,"i",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",46),e.nrm(6,"i",47),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&o){e.XpG();const n=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!n.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let W=(()=>{class o extends R.Q{constructor(n,i,t,a,u,l,I,v){super(a,new r.skm,l,v),this.data=n,this.dialogRef=i,this.coreEnumService=t,this.coreCurrencyService=a,this.cmsToastrService=u,this.publicHelper=l,this.cdr=I,this.translate=v,this.fieldsInfo=new Map,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new r.N$V,this.dataModel=new r.skm,this.formInfo=new r.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(j=>{this.loading.message=j}),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){this.translate.get("TITLE.ADD").subscribe(n=>{this.formInfo.formTitle=n}),this.DataGetAccess()}DataAddContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(n,i,this.constructor.name)}),this.coreCurrencyService.ServiceAdd(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessAdd(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(n)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataAddContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(_.Vh),e.rXU(_.CP),e.rXU(r.i9D),e.rXU(r.SGQ),e.rXU(C.k),e.rXU(b.A),e.rXU(e.gRc),e.rXU(d.c$))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-core-currency-add"]],viewQuery:function(i,t){if(1&i&&e.GBs(x,5),2&i){let a;e.mGM(a=e.lsd())&&(t.formGroup=a.first)}},features:[e.Vt3],decls:54,vars:38,consts:[["vform","ngForm"],["Title",""],["TitleResourceLanguage",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["for","dataModel.titleResourceLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.titleResourceLanguage","minlength","3","maxlength","100","id","dataModel.titleResourceLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(1&i){const a=e.RV6();e.j41(0,"div",7),e.nrm(1,"app-progress-spinner",8),e.j41(2,"div",9)(3,"p",10),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",11,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(t.onFormSubmit())}),e.DNE(10,V,1,5,"app-cms-enum-record-status-selector",12),e.j41(11,"div",13)(12,"label",14),e.EFF(13),e.k0s(),e.j41(14,"input",15,1),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.title,l)||(t.dataModel.title=l),e.Njj(l)}),e.k0s(),e.j41(16,"em"),e.EFF(17),e.k0s(),e.DNE(18,O,5,4,"mat-error",16),e.k0s(),e.j41(19,"div",13)(20,"label",17),e.EFF(21),e.k0s(),e.j41(22,"input",18,2),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.title,l)||(t.dataModel.title=l),e.Njj(l)}),e.k0s(),e.j41(24,"em"),e.EFF(25),e.k0s(),e.DNE(26,$,5,3,"mat-error",16),e.k0s(),e.DNE(27,X,8,2,"div",19),e.j41(28,"div",13)(29,"label",20),e.EFF(30),e.k0s(),e.j41(31,"input",21,3),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.symbol,l)||(t.dataModel.symbol=l),e.Njj(l)}),e.k0s(),e.j41(33,"em"),e.EFF(34),e.k0s(),e.DNE(35,H,5,3,"mat-error",16),e.k0s(),e.j41(36,"div",13)(37,"label",22),e.EFF(38),e.k0s(),e.j41(39,"input",23,4),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.exchangeBuyRatio,l)||(t.dataModel.exchangeBuyRatio=l),e.Njj(l)}),e.k0s(),e.DNE(41,P,5,3,"mat-error",16),e.k0s(),e.j41(42,"div",13)(43,"label",24),e.EFF(44),e.k0s(),e.j41(45,"input",25,5),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.exchangeSaleRatio,l)||(t.dataModel.exchangeSaleRatio=l),e.Njj(l)}),e.k0s(),e.DNE(47,U,5,3,"mat-error",16),e.k0s(),e.j41(48,"div",26)(49,"a",27),e.nI1(50,"cmsthumbnail"),e.DNE(51,Y,2,3,"img",28),e.k0s()(),e.DNE(52,J,8,15,"div",29)(53,K,9,7,"div",30),e.k0s()()()}if(2&i){const a=e.sdS(15),u=e.sdS(23),l=e.sdS(32),I=e.sdS(40),v=e.sdS(46);e.R7$(),e.Y8G("optionsInfoAreaId",t.constructor.name),e.R7$(3),e.SpI(" ",t.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,34,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("ngIf",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.accessWatchField),e.R7$(3),e.JRh(null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle),e.R50("ngModel",t.dataModel.title),e.Y8G("disabled",!(null!=t.fieldsInfo.title&&t.fieldsInfo.title.accessAddField)),e.R7$(3),e.SpI("",a.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==a.errors?null:a.errors.required),e.R7$(3),e.JRh(null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.titleResourceLanguage?null:t.fieldsInfo.titleResourceLanguage.fieldTitle),e.R50("ngModel",t.dataModel.title),e.Y8G("disabled",!(null!=t.fieldsInfo.titleResourceLanguage&&t.fieldsInfo.titleResourceLanguage.accessAddField)),e.R7$(3),e.SpI("",u.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==u.errors?null:u.errors.required),e.R7$(),e.Y8G("ngIf",null==t.fieldsInfo.isDefault?null:t.fieldsInfo.isDefault.accessWatchField),e.R7$(3),e.JRh(null==t.fieldsInfo.symbol?null:t.fieldsInfo.symbol.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.symbol?null:t.fieldsInfo.symbol.fieldTitle),e.R50("ngModel",t.dataModel.symbol),e.R7$(3),e.SpI("",l.value.length," / 20"),e.R7$(),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(3),e.JRh(null==t.fieldsInfo.exchangeBuyRatio?null:t.fieldsInfo.exchangeBuyRatio.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.exchangeBuyRatio?null:t.fieldsInfo.exchangeBuyRatio.fieldTitle),e.R50("ngModel",t.dataModel.exchangeBuyRatio),e.R7$(2),e.Y8G("ngIf",null==I.errors?null:I.errors.required),e.R7$(3),e.JRh(null==t.fieldsInfo.exchangeSaleRatio?null:t.fieldsInfo.exchangeSaleRatio.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.exchangeSaleRatio?null:t.fieldsInfo.exchangeSaleRatio.fieldTitle),e.R50("ngModel",t.dataModel.exchangeSaleRatio),e.R7$(2),e.Y8G("ngIf",null==v.errors?null:v.errors.required),e.R7$(2),e.FS9("href",e.bMT(50,36,t.dataModel.linkMainImageIdSrc),e.B4B),e.R7$(2),e.Y8G("ngIf",(null==t.dataModel||null==t.dataModel.linkMainImageIdSrc?null:t.dataModel.linkMainImageIdSrc.length)>0),e.R7$(),e.Y8G("ngIf",null==t.fieldsInfo.linkMainImageId?null:t.fieldsInfo.linkMainImageId.accessWatchField),e.R7$(),e.Y8G("ngIf",t.formInfo.formSubmitAllow&&!(null!=t.loading&&t.loading.display))}},dependencies:[S.bT,m.qT,m.me,m.Q0,m.Zm,m.BC,m.cb,m.xh,m.tU,m.vS,m.cV,f.TL,h.fg,g.m,k._,A.e5,d.D9,F.r],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();var z=s(5113);const Q=["vform"];function Z(o,c){if(1&o){const n=e.RV6();e.j41(0,"app-cms-enum-record-status-selector",28),e.mxI("modelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.recordStatus,t)||(a.dataModel.recordStatus=t),e.Njj(t)}),e.k0s()}if(2&o){const n=e.XpG();e.R50("model",n.dataModel.recordStatus),e.Y8G("optionDisabled",!1)("optionLabel",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function q(o,c){if(1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle," is "),e.R7$(2),e.JRh(e.bMT(4,2,"MESSAGE.required"))}}function ee(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",29)(1,"div",30)(2,"h5",31),e.EFF(3),e.k0s()(),e.j41(4,"div",32)(5,"div",33)(6,"input",34),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.isDefault,t)||(a.dataModel.isDefault=t),e.Njj(t)}),e.k0s(),e.nrm(7,"label",35),e.k0s()()()}if(2&o){const n=e.XpG();e.R7$(3),e.SpI(" ",null==n.fieldsInfo.isDefault?null:n.fieldsInfo.isDefault.fieldTitle,""),e.R7$(3),e.R50("ngModel",n.dataModel.isDefault)}}function te(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Symbol is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function ne(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," ExchangeBuyRatio is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function oe(o,c){1&o&&(e.j41(0,"mat-error"),e.EFF(1," ExchangeSaleRatio is "),e.j41(2,"strong"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"MESSAGE.required")))}function ie(o,c){if(1&o&&(e.nrm(0,"img",36),e.nI1(1,"cmsthumbnail")),2&o){const n=e.XpG();e.FS9("src",e.bMT(1,1,n.dataModel.linkMainImageIdSrc),e.B4B)}}function le(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",12)(1,"label",37),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.fileManagerOpenForm=!0)}),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",38,5),e.nI1(6,"translate"),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.dataModel.linkMainImageId,t)||(a.dataModel.linkMainImageId=t),e.Njj(t)}),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.fileManagerOpenForm=!0)}),e.k0s(),e.j41(7,"cms-file-manager",39),e.bIt("itemSelected",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.onActionFileSelected(t))}),e.mxI("openFormChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(a.fileManagerOpenForm,t)||(a.fileManagerOpenForm=t),e.Njj(t)}),e.k0s()()}if(2&o){const n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,11,"TITLE.Icon_File")),e.R7$(2),e.FS9("placeholder",e.bMT(6,13,"TITLE.Original_File_ID")),e.R50("ngModel",n.dataModel.linkMainImageId),e.R7$(3),e.Y8G("language",n.appLanguage)("isPopup",!0),e.R50("openForm",n.fileManagerOpenForm),e.Y8G("tree",n.fileManagerTree)("openFilemanagerButtonLabelKey","select")("openDirectUploadView",!0)("selectFileType",n.selectFileTypeMainImage)("openFilemanagerButtonView",!1)}}function ae(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",40)(1,"button",41),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onFormCancel())}),e.nrm(2,"i",42),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",43),e.nrm(6,"i",44),e.EFF(7),e.nI1(8,"translate"),e.k0s()()}if(2&o){e.XpG();const n=e.sdS(9);e.R7$(3),e.SpI(" ",e.bMT(4,3,"ACTION.CANCEL")," "),e.R7$(2),e.Y8G("disabled",!n.form.valid),e.R7$(2),e.SpI(" ",e.bMT(8,5,"ACTION.SAVE")," ")}}let re=(()=>{class o extends z.n{constructor(n,i,t,a,u,l,I,v){super(a,new r.skm,l,v),this.data=n,this.dialogRef=i,this.coreEnumService=t,this.coreCurrencyService=a,this.cmsToastrService=u,this.publicHelper=l,this.cdr=I,this.translate=v,this.requestId=0,this.selectFileTypeMainImage=["jpg","jpeg","png"],this.appLanguage="fa",this.dataModelResult=new r.YyC,this.dataModel=new r.skm,this.formInfo=new r.IL9,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(j=>{this.loading.message=j}),n&&(this.requestId=+n.id||0),this.fileManagerTree=this.publicHelper.GetfileManagerTreeConfig()}ngOnInit(){if(!(this.requestId>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.translate.get("TITLE.Edit").subscribe(n=>{this.formInfo.formTitle=n}),this.DataGetOneContent()}DataGetOneContent(){if(this.requestId<=0)return void this.cmsToastrService.typeErrorEditRowIsNull();this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const n=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(i=>{this.publicHelper.processService.processStart(n,i,this.constructor.name)}),this.coreCurrencyService.setAccessLoad(),this.coreCurrencyService.setAccessDataType(r.FYP.Editor),this.coreCurrencyService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.title,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(n)},error:i=>{this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.formInfo.formAlert=i}),this.formInfo.formError="";const n=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(i=>{this.publicHelper.processService.processStart(n,i)}),this.coreCurrencyService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(t=>{this.formInfo.formAlert=t}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(t=>{this.formInfo.formAlert=t}),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.publicHelper.processService.processStop(n)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.publicHelper.processService.processStop(n,!1)}})}onActionFileSelected(n){this.dataModel.linkMainImageId=n.id,this.dataModel.linkMainImageIdSrc=n.downloadLinksrc}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(_.Vh),e.rXU(_.CP),e.rXU(r.i9D),e.rXU(r.SGQ),e.rXU(C.k),e.rXU(b.A),e.rXU(e.gRc),e.rXU(d.c$))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-core-currency-edit"]],viewQuery:function(i,t){if(1&i&&e.GBs(Q,5),2&i){let a;e.mGM(a=e.lsd())&&(t.formGroup=a.first)}},features:[e.Vt3],decls:46,vars:32,consts:[["vform","ngForm"],["Title",""],["Symbol",""],["ExchangeBuyRatio",""],["ExchangeSaleRatio",""],["LinkMainImageId",""],[1,"card","card-style","progressOverlayContainer"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.title",1,"color-highlight"],["matInput","","type","text","name","dataModel.title","minlength","3","maxlength","100","id","dataModel.title",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder","disabled"],[4,"ngIf"],["class","d-flex mb-3",4,"ngIf"],["for","dataModel.symbol",1,"color-highlight"],["matInput","","type","text","name","dataModel.symbol","minlength","1","maxlength","20","id","dataModel.symbol",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeBuyRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeBuyRatio","step","0.001","id","dataModel.exchangeBuyRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],["for","dataModel.exchangeSaleRatio",1,"color-highlight"],["matInput","","type","number","name","dataModel.exchangeSaleRatio","step","0.001","id","dataModel.exchangeSaleRatio",1,"form-control","validate-name",3,"ngModelChange","ngModel","placeholder"],[1,"mb-3"],["target","_blank",3,"href"],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","50","width","50",3,"src",4,"ngIf"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.isDefault",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.isDefault","name","dataModel.isDefault",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.isDefault",1,"custom-control-label"],["aria-hidden","","height","50","width","50",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],["for","dataModel.linkMainImageId",1,"color-highlight",3,"click"],["matInput","","type","text","name","dataModel.linkMainImageId","autocomplete","off","id","dataModel.linkMainImageId",1,"form-control","validate-name",3,"ngModelChange","click","ngModel","placeholder"],[3,"itemSelected","openFormChange","language","isPopup","openForm","tree","openFilemanagerButtonLabelKey","openDirectUploadView","selectFileType","openFilemanagerButtonView"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(i,t){if(1&i){const a=e.RV6();e.j41(0,"div",6),e.nrm(1,"app-progress-spinner",7),e.j41(2,"div",8)(3,"p",9),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",10,0),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(t.onFormSubmit())}),e.DNE(10,Z,1,5,"app-cms-enum-record-status-selector",11),e.j41(11,"div",12)(12,"label",13),e.EFF(13),e.k0s(),e.j41(14,"input",14,1),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.title,l)||(t.dataModel.title=l),e.Njj(l)}),e.k0s(),e.j41(16,"em"),e.EFF(17),e.k0s(),e.DNE(18,q,5,4,"mat-error",15),e.k0s(),e.DNE(19,ee,8,2,"div",16),e.j41(20,"div",12)(21,"label",17),e.EFF(22),e.k0s(),e.j41(23,"input",18,2),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.symbol,l)||(t.dataModel.symbol=l),e.Njj(l)}),e.k0s(),e.j41(25,"em"),e.EFF(26),e.k0s(),e.DNE(27,te,5,3,"mat-error",15),e.k0s(),e.j41(28,"div",12)(29,"label",19),e.EFF(30),e.k0s(),e.j41(31,"input",20,3),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.exchangeBuyRatio,l)||(t.dataModel.exchangeBuyRatio=l),e.Njj(l)}),e.k0s(),e.DNE(33,ne,5,3,"mat-error",15),e.k0s(),e.j41(34,"div",12)(35,"label",21),e.EFF(36),e.k0s(),e.j41(37,"input",22,4),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.dataModel.exchangeSaleRatio,l)||(t.dataModel.exchangeSaleRatio=l),e.Njj(l)}),e.k0s(),e.DNE(39,oe,5,3,"mat-error",15),e.k0s(),e.j41(40,"div",23)(41,"a",24),e.nI1(42,"cmsthumbnail"),e.DNE(43,ie,2,3,"img",25),e.k0s()(),e.DNE(44,le,8,15,"div",26)(45,ae,9,7,"div",27),e.k0s()()()}if(2&i){const a=e.sdS(15),u=e.sdS(24),l=e.sdS(32),I=e.sdS(38);e.R7$(),e.Y8G("optionsInfoAreaId",t.constructor.name),e.R7$(3),e.SpI(" ",t.formInfo.formTitle," "),e.R7$(2),e.SpI(" ",e.bMT(7,28,"TITLE.Be_Careful_When_Entering_Information")," "),e.R7$(4),e.Y8G("ngIf",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.accessWatchField),e.R7$(3),e.JRh(null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.title?null:t.fieldsInfo.title.fieldTitle),e.R50("ngModel",t.dataModel.title),e.Y8G("disabled",!(null!=t.fieldsInfo.title&&t.fieldsInfo.title.accessAddField)),e.R7$(3),e.SpI("",a.value.length," / 100"),e.R7$(),e.Y8G("ngIf",null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==t.fieldsInfo.isDefault?null:t.fieldsInfo.isDefault.accessWatchField),e.R7$(3),e.JRh(null==t.fieldsInfo.symbol?null:t.fieldsInfo.symbol.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.symbol?null:t.fieldsInfo.symbol.fieldTitle),e.R50("ngModel",t.dataModel.symbol),e.R7$(3),e.SpI("",u.value.length," / 20"),e.R7$(),e.Y8G("ngIf",null==u.errors?null:u.errors.required),e.R7$(3),e.JRh(null==t.fieldsInfo.exchangeBuyRatio?null:t.fieldsInfo.exchangeBuyRatio.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.exchangeBuyRatio?null:t.fieldsInfo.exchangeBuyRatio.fieldTitle),e.R50("ngModel",t.dataModel.exchangeBuyRatio),e.R7$(2),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(3),e.JRh(null==t.fieldsInfo.exchangeSaleRatio?null:t.fieldsInfo.exchangeSaleRatio.fieldTitle),e.R7$(),e.FS9("placeholder",null==t.fieldsInfo.exchangeSaleRatio?null:t.fieldsInfo.exchangeSaleRatio.fieldTitle),e.R50("ngModel",t.dataModel.exchangeSaleRatio),e.R7$(2),e.Y8G("ngIf",null==I.errors?null:I.errors.required),e.R7$(2),e.FS9("href",e.bMT(42,30,t.dataModel.linkMainImageIdSrc),e.B4B),e.R7$(2),e.Y8G("ngIf",(null==t.dataModel||null==t.dataModel.linkMainImageIdSrc?null:t.dataModel.linkMainImageIdSrc.length)>0),e.R7$(),e.Y8G("ngIf",null==t.fieldsInfo.linkMainImageId?null:t.fieldsInfo.linkMainImageId.accessWatchField),e.R7$(),e.Y8G("ngIf",t.formInfo.formSubmitAllow&&!(null!=t.loading&&t.loading.display))}},dependencies:[S.bT,m.qT,m.me,m.Q0,m.Zm,m.BC,m.cb,m.xh,m.tU,m.vS,m.cV,f.TL,h.fg,g.m,k._,A.e5,d.D9,F.r],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();var B=s(5459),se=s(8339),ce=s(6006),de=s(2221),ue=s(6182),N=s(1184),me=s(8966),fe=s(4685),L=s(8058),T=s(8403),pe=s(6145),he=s(1908),ge=s(3036),_e=s(3438),Ce=s(6381),Se=s(1268),be=s(9929);const Ie=()=>[5,10,20,100],Me=o=>({display:o});function Re(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",44)(1,"a",45),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onActionButtonNewRow())}),e.nrm(2,"i",46)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.ADD")))}function ye(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",44)(1,"a",48),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onActionButtonEditRow(t.tableRowSelected))}),e.nrm(2,"i",49)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.EDIT")))}function Ee(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",44)(1,"a",50),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onActionButtonDeleteRow(t.tableRowSelected))}),e.nrm(2,"i",51)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.DELETE")))}function Te(o,c){if(1&o){const n=e.RV6();e.j41(0,"div",44)(1,"a",52),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onActionButtonLog(t.tableRowSelected))}),e.nrm(2,"i",53)(3,"br"),e.k0s(),e.j41(4,"p",47),e.EFF(5),e.nI1(6,"translate"),e.k0s()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,1,"ACTION.LOG")))}function ve(o,c){1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.PICTURE")," "))}function Fe(o,c){if(1&o&&(e.nrm(0,"img",56),e.nI1(1,"cmsthumbnail")),2&o){const n=e.XpG().$implicit;e.FS9("src",e.bMT(1,1,n.linkMainImageIdSrc),e.B4B)}}function ke(o,c){if(1&o&&(e.j41(0,"mat-cell"),e.DNE(1,Fe,2,3,"img",55),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.Y8G("ngIf",(null==n||null==n.linkMainImageIdSrc?null:n.linkMainImageIdSrc.length)>0)}}function De(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.id?null:n.fieldsInfo.id.fieldTitle," ")}}function Ae(o,c){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.SpI(" ",n.id," ")}}function je(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.fieldTitle," ")}}function we(o,c){if(1&o&&e.nrm(0,"select",59),2&o){const n=e.XpG().$implicit,i=e.XpG();e.Y8G("contentService",i.contentService)("row",n)("ngStyle",e.eq3(3,Me,n.id===(null==i.tableRowSelected?null:i.tableRowSelected.id)?"":"none"))}}function Ge(o,c){if(1&o&&(e.j41(0,"mat-cell",57),e.nI1(1,"statusCellClass"),e.nrm(2,"i",57),e.nI1(3,"statusIconClass"),e.DNE(4,we,1,5,"select",58),e.k0s()),2&o){const n=c.$implicit,i=e.XpG();e.Y8G("ngClass",e.bMT(1,3,n.recordStatus)),e.R7$(2),e.Y8G("ngClass",e.bMT(3,5,n.recordStatus)),e.R7$(2),e.Y8G("ngIf",null==i.dataModelResult||null==i.dataModelResult.access?null:i.dataModelResult.access.accessEditRow)}}function Be(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle," ")}}function Ne(o,c){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.SpI(" ",n.title," ")}}function Le(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.title?null:n.fieldsInfo.title.fieldTitle," ")}}function xe(o,c){if(1&o&&(e.j41(0,"mat-cell",60),e.EFF(1),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.SpI(" ",n.titleML," ")}}function Ve(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.symbol?null:n.fieldsInfo.symbol.fieldTitle," ")}}function Oe(o,c){if(1&o&&(e.j41(0,"mat-cell",60),e.EFF(1),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.Lme(" ",n.symbol," / ",n.masterCurrency," ")}}function $e(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.isDefault?null:n.fieldsInfo.isDefault.fieldTitle," ")}}function Xe(o,c){if(1&o&&(e.j41(0,"mat-cell"),e.nrm(1,"i",57),e.nI1(2,"boolclass"),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.Y8G("ngClass",e.bMT(2,1,n.isDefault))}}function He(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.exchangeBuyRatio?null:n.fieldsInfo.exchangeBuyRatio.fieldTitle," ")}}function Pe(o,c){if(1&o&&(e.j41(0,"mat-cell",60),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,n.exchangeBuyRatio)," ")}}function Ue(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.exchangeSaleRatio?null:n.fieldsInfo.exchangeSaleRatio.fieldTitle," ")}}function Ye(o,c){if(1&o&&(e.j41(0,"mat-cell",60),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&o){const n=c.$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,n.exchangeSaleRatio)," ")}}function Je(o,c){if(1&o&&(e.j41(0,"mat-header-cell",54),e.EFF(1),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.SpI(" ",null==n.fieldsInfo.updatedDate?null:n.fieldsInfo.updatedDate.fieldTitle," ")}}function Ke(o,c){if(1&o&&(e.j41(0,"mat-cell"),e.EFF(1),e.k0s()),2&o){const n=c.$implicit,i=e.XpG();e.R7$(),e.SpI(" ",i.publicHelper.LocaleDate(n.updatedDate)," ")}}function We(o,c){1&o&&(e.j41(0,"mat-header-cell"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"TITLE.OPTION")," "))}function ze(o,c){if(1&o&&(e.j41(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.nrm(4,"mat-menu",null,2),e.k0s()),2&o){const n=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",n)}}function Qe(o,c){1&o&&e.nrm(0,"mat-header-row")}function Ze(o,c){if(1&o){const n=e.RV6();e.j41(0,"mat-row",11),e.bIt("click",function(){const t=e.eBV(n).$implicit,a=e.XpG();return e.Njj(a.onActionTableRowSelect(t))}),e.k0s()}if(2&o){const n=c.$implicit,i=c.dataIndex,t=e.XpG();e.AVh("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",n.id===(null==t.tableRowSelected?null:t.tableRowSelected.id))}}const qe=[{path:"",children:[{path:"",component:(()=>{class o extends M.j{constructor(n,i,t,a,u,l,I,v,j,ot){super(n,new r.skm,j,u,I),this.contentService=n,this.cmsToastrService=i,this.cmsConfirmationDialogService=t,this.router=a,this.tokenHelper=u,this.cdr=l,this.translate=I,this.pageInfo=v,this.publicHelper=j,this.dialog=ot,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new r.O2i,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["LinkMainImageIdSrc","Id","RecordStatus","Title","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.tabledisplayedColumnsMobileSource=["LinkMainImageIdSrc","Id","RecordStatus","Title","TitleML","IsDefault","Symbol","ExchangeBuyRatio","ExchangeSaleRatio","UpdatedDate"],this.publicHelper.processService.cdr=this.cdr,this.translate.get("MESSAGE.Receiving_information").subscribe(G=>{this.loading.message=G}),this.optionsSearch.parentMethods={onSubmit:G=>this.onSubmitOptionsSearch(G)},this.filteModelContent.sortColumn="Id",this.filteModelContent.sortType=r.eKW.Descending}ngOnInit(){this.filteModelContent.sortColumn="Title",this.tokenHelper.getCurrentToken().then(n=>{this.tokenInfo=n,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe({next:n=>{this.tokenInfo=n,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.skm);const n=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(t=>{this.publicHelper.processService.processStart(n,t)}),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:t=>{t.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(t.access),this.dataModelResult=t,this.tableSource.data=t.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(t.access)):this.cmsToastrService.typeErrorMessage(t.errorMessage),this.publicHelper.processService.processStop(n)},error:t=>{this.cmsToastrService.typeError(t),this.publicHelper.processService.processStop(n,!1)}})}onTableSortData(n){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===n.active?"asc"===this.tableSource.sort.start?(n.start="desc",this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=r.eKW.Descending):"desc"===this.tableSource.sort.start?(n.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.eKW.Ascending):n.start="desc":(this.filteModelContent.sortColumn=n.active,this.filteModelContent.sortType=r.eKW.Descending),this.tableSource.sort=n,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(n){this.filteModelContent.currentPageNumber=n.pageIndex+1,this.filteModelContent.rowPerPage=n.pageSize,this.DataGetAll()}onActionButtonNewRow(){null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessAddRow?this.dialog.open(W,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:y.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:y.c.cmsViewConfig.exitAnimationDuration,data:{}}).afterClosed().subscribe(t=>{t&&t.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessAdd()}onActionButtonEditRow(n=this.tableRowSelected){n&&n.id&&0!==n.id?(this.onActionTableRowSelect(n),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(re,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:y.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:y.c.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(a=>{a&&a.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonLog(n=this.tableRowSelected){n&&n.id&&0!==n.id?(this.onActionTableRowSelect(n),this.router.navigate(["/corelog/currency/",n.id])):this.cmsToastrService.typeErrorSelectedRow()}onActionButtonDeleteRow(n=this.tableRowSelected){if(n&&n.id&&0!==n.id)if(this.onActionTableRowSelect(n),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessDeleteRow){var i="",t="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(a=>{i=a["MESSAGE.Please_Confirm"],t=a["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.title+" ) "}),this.cmsConfirmationDialogService.confirm(i,t).then(a=>{if(a){const u=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(l=>{this.publicHelper.processService.processStart(u,l,this.constructor.name)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:l=>{l.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(u)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(u,!1)}})}}).catch(()=>{})}else this.cmsToastrService.typeErrorAccessDelete();else this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(a=>{this.cmsToastrService.typeErrorSelected(a)})}onActionButtonUserList(n=this.tableRowSelected){n&&n.id&&0!==n.id?(this.onActionTableRowSelect(n),this.router.navigate(["/core/site/userlist/LinkCurrencyId/",this.tableRowSelected.id])):this.translate.get("MESSAGE.no_row_selected_to_display").subscribe(i=>{this.cmsToastrService.typeErrorSelected(i)})}onActionButtonStatist(n=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=n,!this.optionsStatist.data.show)return;const i=new Map;this.translate.get("MESSAGE.Active").subscribe(l=>{i.set(l,0)}),this.translate.get("MESSAGE.All").subscribe(l=>{i.set(l,0)});const t=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(l=>{this.publicHelper.processService.processStart(t,l)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.All").subscribe(I=>{i.set(I,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}});const a=JSON.parse(JSON.stringify(this.filteModelContent)),u=new r.ycK;u.propertyName="RecordStatus",u.value=r.Xw7.Available,a.filters.push(u),this.contentService.ServiceGetCount(a).subscribe({next:l=>{l.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(I=>{i.set(I,l.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(i)):this.cmsToastrService.typeErrorMessage(l.errorMessage),this.publicHelper.processService.processStop(t)},error:l=>{this.cmsToastrService.typeError(l),this.publicHelper.processService.processStop(t,!1)}})}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(n){this.filteModelContent.filters=n,this.DataGetAll()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(r.SGQ),e.rXU(C.k),e.rXU(B.o),e.rXU(D.Ix),e.rXU(se._),e.rXU(e.gRc),e.rXU(d.c$),e.rXU(ce.P),e.rXU(b.A),e.rXU(_.bZ))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-core-currency-list"]],features:[e.Vt3],decls:70,vars:28,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionLoading","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModelChange","ngModel"],[3,"click"],[1,"justify-content-start"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-main",""],["class","col-4",4,"ngIf"],["cms-action-row",""],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","LinkMainImageIdSrc"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Id"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","TitleML"],["class","grid-row-ltr",4,"matCellDef"],["matColumnDef","Symbol"],["matColumnDef","IsDefault"],["matColumnDef","ExchangeBuyRatio"],["matColumnDef","ExchangeSaleRatio"],["matColumnDef","UpdatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"col-4"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-teal",3,"click"],[1,"fa-solid","fa-plus","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-memo","font-18",2,"color","#ffffff"],["mat-sort-header",""],["style","vertical-align:middle;","class","ntk-hover-zoom","aria-hidden","","height","40","width","40",3,"src",4,"ngIf"],["aria-hidden","","height","40","width","40",1,"ntk-hover-zoom",2,"vertical-align","middle",3,"src"],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"grid-row-ltr"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"]],template:function(i,t){if(1&i){const a=e.RV6();e.j41(0,"app-cms-html-list",3),e.mxI("optionActionGuideNoticeDisplayChange",function(l){return e.eBV(a),e.DH7(t.viewGuideNotice,l)||(t.viewGuideNotice=l),e.Njj(l)}),e.bIt("optionOnActionButtonMemoRow",function(){return e.eBV(a),e.Njj(t.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return e.eBV(a),e.Njj(t.onActionButtonMemo())})("optionOnActionButtonExport",function(){return e.eBV(a),e.Njj(t.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return e.eBV(a),e.Njj(t.onActionButtonPrintRow())}),e.qex(1,4),e.EFF(2," -------------------------------------- "),e.bVm(),e.eu8(3,5),e.qex(4,6),e.j41(5,"div",7)(6,"div",8)(7,"a",9)(8,"mat-slide-toggle",10),e.mxI("ngModelChange",function(l){return e.eBV(a),e.DH7(t.optionsSearch.data.show,l)||(t.optionsSearch.data.show=l),e.Njj(l)}),e.k0s(),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"a",9)(12,"mat-slide-toggle",11),e.bIt("click",function(){return e.eBV(a),e.Njj(t.onActionButtonStatist())}),e.k0s(),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"div",12)(16,"a",13),e.bIt("click",function(){return e.eBV(a),e.Njj(t.viewGuideNotice=!t.viewGuideNotice)}),e.nrm(17,"i",14),e.k0s(),e.j41(18,"a",13),e.bIt("click",function(){return e.eBV(a),e.Njj(t.onActionButtonReload())}),e.nrm(19,"i",15),e.k0s()()(),e.bVm(),e.qex(20,16),e.DNE(21,Re,7,3,"div",17),e.bVm(),e.qex(22,18),e.DNE(23,ye,7,3,"div",17)(24,Ee,7,3,"div",17)(25,Te,7,3,"div",17),e.bVm(),e.qex(26,19),e.j41(27,"app-cms-search-list",20),e.mxI("optionsChange",function(l){return e.eBV(a),e.DH7(t.optionsSearch,l)||(t.optionsSearch=l),e.Njj(l)}),e.k0s(),e.j41(28,"app-cms-statist-list",20),e.mxI("optionsChange",function(l){return e.eBV(a),e.DH7(t.optionsStatist,l)||(t.optionsStatist=l),e.Njj(l)}),e.k0s(),e.bVm(),e.qex(29,21),e.j41(30,"mat-table",22,0),e.bIt("matSortChange",function(){e.eBV(a);const l=e.sdS(31);return e.Njj(t.onTableSortData(l))}),e.qex(32,23),e.DNE(33,ve,3,3,"mat-header-cell",24)(34,ke,2,1,"mat-cell",25),e.bVm(),e.qex(35,26),e.DNE(36,De,2,1,"mat-header-cell",24)(37,Ae,2,1,"mat-cell",25),e.bVm(),e.qex(38,27),e.DNE(39,je,2,1,"mat-header-cell",24)(40,Ge,5,7,"mat-cell",28),e.bVm(),e.qex(41,29),e.DNE(42,Be,2,1,"mat-header-cell",24)(43,Ne,2,1,"mat-cell",25),e.bVm(),e.qex(44,30),e.DNE(45,Le,2,1,"mat-header-cell",24)(46,xe,2,1,"mat-cell",31),e.bVm(),e.qex(47,32),e.DNE(48,Ve,2,1,"mat-header-cell",24)(49,Oe,2,2,"mat-cell",31),e.bVm(),e.qex(50,33),e.DNE(51,$e,2,1,"mat-header-cell",24)(52,Xe,3,3,"mat-cell",25),e.bVm(),e.qex(53,34),e.DNE(54,He,2,1,"mat-header-cell",24)(55,Pe,3,3,"mat-cell",31),e.bVm(),e.qex(56,35),e.DNE(57,Ue,2,1,"mat-header-cell",24)(58,Ye,3,3,"mat-cell",31),e.bVm(),e.qex(59,36),e.DNE(60,Je,2,1,"mat-header-cell",24)(61,Ke,2,1,"mat-cell",25),e.bVm(),e.qex(62,37),e.DNE(63,We,3,3,"mat-header-cell",38)(64,ze,6,1,"mat-cell",39),e.bVm(),e.DNE(65,Qe,1,0,"mat-header-row",40)(66,Ze,1,6,"mat-row",41),e.k0s(),e.bVm(),e.qex(67,42),e.j41(68,"mat-paginator",43,1),e.bIt("page",function(l){return e.eBV(a),e.Njj(t.onTablePageingData(l))}),e.k0s(),e.bVm(),e.k0s()}2&i&&(e.Y8G("optionGuideNoticeKey",""),e.R50("optionActionGuideNoticeDisplay",t.viewGuideNotice),e.Y8G("optionLoading",t.loading)("optionTreeDisplay",!1)("optionActionRowId",null==t.tableRowSelected?null:t.tableRowSelected.id)("optionActionRowDisplayMenu",t.tableRowSelectDoubleClick)("optionSelectRowItemTitle",(null==t.tableRowSelected||null==t.tableRowSelected.title?null:t.tableRowSelected.title.length)>0?null==t.tableRowSelected?null:t.tableRowSelected.title:null==t.tableRowSelected?null:t.tableRowSelected.id),e.R7$(8),e.R50("ngModel",t.optionsSearch.data.show),e.R7$(),e.SpI("",e.bMT(10,23,"ACTION.SEARCH")," "),e.R7$(4),e.SpI("",e.bMT(14,25,"ACTION.STATIST")," "),e.R7$(8),e.Y8G("ngIf",null==t.dataModelResult||null==t.dataModelResult.access?null:t.dataModelResult.access.accessAddRow),e.R7$(2),e.Y8G("ngIf",null==t.dataModelResult||null==t.dataModelResult.access?null:t.dataModelResult.access.accessEditRow),e.R7$(),e.Y8G("ngIf",null==t.dataModelResult||null==t.dataModelResult.access?null:t.dataModelResult.access.accessDeleteRow),e.R7$(),e.Y8G("ngIf",null==t.dataModelResult||null==t.dataModelResult.access?null:t.dataModelResult.access.accessDeleteRow),e.R7$(2),e.R50("options",t.optionsSearch),e.R7$(),e.R50("options",t.optionsStatist),e.R7$(2),e.Y8G("dataSource",t.tableSource),e.R7$(35),e.Y8G("matHeaderRowDef",t.tabledisplayedColumns),e.R7$(),e.Y8G("matRowDefColumns",t.tabledisplayedColumns),e.R7$(2),e.Y8G("length",t.dataModelResult.totalRowCount)("pageIndex",t.dataModelResult.currentPageNumber-1)("pageSize",t.dataModelResult.rowPerPage)("pageSizeOptions",e.lJ4(27,Ie)))},dependencies:[S.YU,S.bT,S.B3,m.BC,m.vS,de.iY,ue.An,h.fg,N.kk,N.Cp,me.iy,fe.sG,L.B4,L.aE,T.Zl,T.tL,T.ji,T.cC,T.YV,T.iL,T.KS,T.$R,T.YZ,T.NB,pe.l,he.l,ge.A,_e.x,S.QX,d.D9,F.r,Ce.T,Se.M,be.j],encapsulation:2})}return o})()}]}];let et=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[D.iI.forChild(qe),D.iI]})}return o})();var tt=s(3627);let nt=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({providers:[r.SGQ,r.XBe,B.o],imports:[S.MD,m.YN,et,m.X1.withConfig({warnOnNgModelWithFormControl:"never"}),p.G,tt.Qt,A.XQ]})}return o})()},3438:(w,E,s)=>{s.d(E,{x:()=>e});var S=s(3308),m=s(6610),r=s(8189),p=s(7788),D=s(5154),M=s(9722);let e=(()=>{class C{constructor(d,f,h,g,k,A){this.elRef=d,this.renderer=f,this.publicHelper=h,this.cmsToastrService=g,this.cdr=k,this.document=A,this.DataEnumRecordStatus()}DataEnumRecordStatus(){var d=this;return(0,S.A)(function*(){(yield d.publicHelper.getEnumRecordStatus()).listItems.forEach(h=>{const g=document.createElement("option");g.innerHTML=" "+h.title+' <i Class="'+d.iconStatus(h.value)+'"></i>',g.value=h.value.toString(),d.elRef.nativeElement.add(g)}),d.elRef.nativeElement.options.length>0&&d.row&&d.row.recordStatus&&d.renderer.setProperty(d.elRef.nativeElement,"value",d.row.recordStatus)})()}onChange(){const d=this.elRef.nativeElement,f=d.value;this.addLoader(d),this.contentService.setAccessDataType(r.FYP.Editor),this.contentService.ServiceSetStatus(this.row.id,f).subscribe({next:h=>{h.isSuccess?(this.handleSuccessCase(d),this.cmsToastrService.typeSuccessSetStatus(h.errorMessage),this.row.recordStatus=0|f,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(h.errorMessage),this.handleErrorCase(d))},error:h=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(h),this.handleErrorCase(d)}})}handleSuccessCase(d){this.removeBackground(d),this.addSuccess(d),setTimeout(()=>{this.removeBackground(d)},1e3)}handleErrorCase(d){this.removeBackground(d);const f=this.document.createElement("img");f.style.width="20px",f.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const h=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(h,f),setTimeout(()=>{this.renderer.removeChild(h,f)},1e3)}addLoader(d){this.addBackground(d,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(d){this.addBackground(d,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(d,f,h){d.style.background=`#fff url("${f}") no-repeat right 20px center`,d.style.backgroundSize=`${h}px`}removeBackground(d){d.style.background="none"}iconStatus(d){let f="";switch(d){case 1:default:f="fa fa-check";break;case 2:f="fa fa-eye-slash";break;case 3:f="fa fa-times";break;case 4:f="fa fa-hourglass-half";break;case 5:f="far fa-thumbs-down";break;case 6:f="fa fa-archive"}return f}static#e=this.\u0275fac=function(f){return new(f||C)(p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(D.A),p.rXU(M.k),p.rXU(p.gRc),p.rXU(m.qQ))};static#t=this.\u0275dir=p.FsC({type:C,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(f,h){1&f&&p.bIt("change",function(){return h.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return C})()},1268:(w,E,s)=>{s.d(E,{M:()=>r});var S=s(7788),m=s(6098);let r=(()=>{class p{constructor(M){this.sanitizer=M}transform(M){return"cms-RecordStatusEnum-cell-"+M}static#e=this.\u0275fac=function(y){return new(y||p)(S.rXU(m.up,16))};static#t=this.\u0275pipe=S.EJ8({name:"statusCellClass",type:p,pure:!0})}return p})()},6381:(w,E,s)=>{s.d(E,{T:()=>r});var S=s(7788),m=s(6098);let r=(()=>{class p{constructor(M){this.sanitizer=M}transform(M,y=!1){let R="";switch(M){case 1:default:R="fa fa-check";break;case 2:R="fa fa-times";break;case 3:R="fa fa-trash";break;case 4:R="fa fa-hourglass-half";break;case 5:R="far fa-thumbs-down";break;case 6:R="fa fa-archive"}return R}static#e=this.\u0275fac=function(y){return new(y||p)(S.rXU(m.up,16))};static#t=this.\u0275pipe=S.EJ8({name:"statusIconClass",type:p,pure:!0})}return p})()},5459:(w,E,s)=>{s.d(E,{o:()=>R});var S=s(5312),m=s(6482),r=s(7788);let p=(()=>{class _{static#e=this.nextId=0;constructor(C,b){this.dialogRef=C,this.data=b,this.id=++_.nextId,b||this.dialogRef.close(!1)}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static#t=this.\u0275fac=function(b){return new(b||_)(r.rXU(m.CP),r.rXU(m.Vh))};static#n=this.\u0275cmp=r.VBU({type:_,selectors:[["app-confirmation-dialog"]],decls:18,vars:4,consts:[[1,"menu","menu-box-modal","rounded-m","menu-active",2,"display","block","width","350px","height","320px","padding","20px"],[1,"menu-title"],[1,"fa","fa-question-circle","scale-box","float-start","me-3","ms-3","fa-3x","mt-1","color-blue-dark"],[1,"color-highlight"],[1,"font-20"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mt-0"],[1,"pe-3",3,"innerHTML"],[1,"row","mb-0"],[1,"col-6"],[1,"btn","close-menu","btn-full","btn-m","bg-red-dark","font-600","rounded-s",3,"click"],[1,"btn","close-menu","btn-full","btn-m","bg-green-dark","font-600","rounded-s",3,"click"]],template:function(b,d){1&b&&(r.j41(0,"div",0)(1,"div",1),r.nrm(2,"i",2),r.j41(3,"p",3),r.EFF(4),r.k0s(),r.j41(5,"h1",4),r.EFF(6,"\u0645\u0637\u0645\u0626\u0646\u06cc\u062f\u061f"),r.k0s(),r.j41(7,"a",5),r.bIt("click",function(){return d.onDismiss()}),r.nrm(8,"i",6),r.k0s()(),r.j41(9,"div",7),r.nrm(10,"p",8),r.j41(11,"div",9)(12,"div",10)(13,"a",11),r.bIt("click",function(){return d.onDismiss()}),r.EFF(14),r.k0s()(),r.j41(15,"div",10)(16,"a",12),r.bIt("click",function(){return d.onConfirm()}),r.EFF(17),r.k0s()()()()()),2&b&&(r.R7$(4),r.SpI(" ",d.data.title,""),r.R7$(6),r.Y8G("innerHTML",d.data.message,r.npT),r.R7$(4),r.JRh(d.data.btnCancelText),r.R7$(3),r.JRh(d.data.btnConfirmText))},encapsulation:2})}return _})();var D=s(8339),M=s(2882);class y{constructor(e,C){this.title=e,this.message=C,this.btnConfirmText="OK",this.btnCancelText="Cancel",this.dialogSize="sm"}}let R=(()=>{class _{constructor(C,b,d){this.dialog=C,this.tokenHelper=b,this.translate=d}confirm(C,b,d="",f="",h="sm"){const g=new y(C,b);return g.btnConfirmText=d,g.btnCancelText=f,g.dialogSize=h,(!g.btnConfirmText||""==g.btnConfirmText||0==g.btnConfirmText.length)&&this.translate.get("ACTION.CONFIRM").subscribe(F=>{g.btnConfirmText=F}),(!g.btnCancelText||""==g.btnCancelText||0==g.btnCancelText.length)&&this.translate.get("ACTION.CANCEL").subscribe(F=>{g.btnCancelText=F}),this.dialog.open(p,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:S.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:S.c.cmsViewConfig.exitAnimationDuration,data:g}).afterClosed().toPromise().then(F=>Promise.resolve(F))}static#e=this.\u0275fac=function(b){return new(b||_)(r.KVO(m.bZ),r.KVO(D._),r.KVO(M.c$))};static#t=this.\u0275prov=r.jDH({token:_,factory:_.\u0275fac})}return _})()}}]);