"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[6619],{1064:(de,se,f)=>{f.r(se),f.d(se,{CoreTokenModule:()=>il});var p=f(8692),S=f(92),r=f(4511),y=f(3914),oe=f(6087),A=f(6114),u=f(418),L=f(8918),U=f(7147),b=f(656),D=f(5814),N=f(7154),C=f(4536),e=f(4537),w=f(2607),v=f(727),h=f(6707),k=f(4032),q=f(6599),K=f(2260),O=f(3181),M=f(5738);const ue=["vform"];function me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",7),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function pe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",10),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let fe=(()=>{class o{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;translate;publicHelper;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenActivationService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.translate=_,this.publicHelper=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.$4t;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(r.dR.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.x6v),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(k.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(ue,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:16,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,me,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(14,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(15,pe,5,3,"div",6),e.qZA()()),2&i&&(e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,q.P,K.t,O.g,M.O,h.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();var Y=f(9835);const he=["vform"];function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let _e=(()=>{class o{data;dialogRef;coreEnumService;coreTokenActivationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenActivationService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.$4t;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.x6v),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(he,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,ge,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();var m=f(2340),J=f(9638),G=f(3331),x=f(9665),I=f(3319),Q=f(3538),F=f(4639),Z=f(6558),H=f(3014),B=f(626),P=f(7980),z=f(3673),j=f(9654),V=f(3817),$=f(9084),X=f(6639),ee=f(5897),W=f(1101);function Te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",50),e.qZA()}}function Se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function be(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function we(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ve(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ke(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Me(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Ie(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ze(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ee(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Re(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Le(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const ye=function(o){return{display:o}};function xe(o,s){if(1&o&&e._UZ(0,"select",57),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,ye,t.id===i.tableRowSelected.id?"":"none"))}}function Ue(o,s){if(1&o&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,xe,1,5,"select",56),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function De(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ne(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function qe(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Oe(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ye(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Je(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Ge(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Qe(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Fe(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function He(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Be(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Pe(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function je(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Ve(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function $e(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Ke(o,s){if(1&o&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function We(o,s){1&o&&e._UZ(0,"mat-header-row")}const ze=function(o){return{background:o}};function Xe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,ze,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const et=function(){return[5,10,20,100]};let tt=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.$4t;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.$4t);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(_e,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(fe,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.x6v),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-user-list"]],decls:98,vars:35,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Te,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,Se,7,3,"div",19),e.YNc(31,Ce,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,Ae,7,6,"div",19),e.YNc(47,be,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(48,21),e.TgZ(49,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(50,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(51,23),e.TgZ(52,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(53);return e.KtG(n.onTableSortData(c))}),e.ynx(54,26),e.YNc(55,we,2,1,"mat-header-cell",27),e.YNc(56,ve,2,1,"mat-cell",28),e.BQk(),e.ynx(57,29),e.YNc(58,ke,2,1,"mat-header-cell",27),e.YNc(59,Me,4,5,"mat-cell",28),e.BQk(),e.ynx(60,30),e.YNc(61,Ie,2,1,"mat-header-cell",27),e.YNc(62,Ze,4,5,"mat-cell",28),e.BQk(),e.ynx(63,31),e.YNc(64,Ee,2,1,"mat-header-cell",27),e.YNc(65,Re,2,1,"mat-cell",28),e.BQk(),e.ynx(66,32),e.YNc(67,Le,2,1,"mat-header-cell",27),e.YNc(68,Ue,5,7,"mat-cell",33),e.BQk(),e.ynx(69,34),e.YNc(70,De,2,1,"mat-header-cell",27),e.YNc(71,Ne,3,4,"mat-cell",28),e.BQk(),e.ynx(72,35),e.YNc(73,qe,2,1,"mat-header-cell",27),e.YNc(74,Oe,3,4,"mat-cell",28),e.BQk(),e.ynx(75,36),e.YNc(76,Ye,2,1,"mat-header-cell",27),e.YNc(77,Je,3,3,"mat-cell",28),e.BQk(),e.ynx(78,37),e.YNc(79,Ge,2,1,"mat-header-cell",27),e.YNc(80,Qe,3,3,"mat-cell",28),e.BQk(),e.ynx(81,38),e.YNc(82,Fe,2,1,"mat-header-cell",27),e.YNc(83,He,3,3,"mat-cell",28),e.BQk(),e.ynx(84,39),e.YNc(85,Be,2,1,"mat-header-cell",27),e.YNc(86,Pe,2,1,"mat-cell",28),e.BQk(),e.ynx(87,40),e.YNc(88,je,2,1,"mat-header-cell",27),e.YNc(89,Ve,2,1,"mat-cell",28),e.BQk(),e.ynx(90,41),e.YNc(91,$e,3,3,"mat-header-cell",42),e.YNc(92,Ke,6,1,"mat-cell",43),e.BQk(),e.YNc(93,We,1,0,"mat-header-row",44),e.YNc(94,Xe,1,3,"mat-row",45),e.qZA(),e.BQk(),e.ynx(95,46),e.TgZ(96,"mat-paginator",47,48),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,28,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,30,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,32,"ACTION.USER")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,et)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})(),ot=(()=>{class o{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-token"]],decls:1,vars:0,template:function(i,n){1&i&&e._UZ(0,"router-outlet")},dependencies:[A.lC],encapsulation:2})}return o})();const nt=["vform"];function it(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",7),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function st(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",10),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let at=(()=>{class o{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenMicroServiceLogService=l,this.cmsToastrService=a,this.publicHelper=c,this.cdr=g,this.tokenHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.BKj;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(r.dR.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.qOP),e.Y36(w.e),e.Y36(k.i),e.Y36(e.sBO),e.Y36(v.v),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(nt,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:16,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,it,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(14,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(15,st,5,3,"div",6),e.qZA()()),2&i&&(e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,q.P,K.t,O.g,M.O,h.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const lt=["vform"];function rt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ct=(()=>{class o{data;dialogRef;coreEnumService;coreTokenMicroServiceLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenMicroServiceLogService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.BKj;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.qOP),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(lt,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,rt,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$],encapsulation:2})}return o})();function dt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",50),e.qZA()}}function ut(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function mt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function pt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function ft(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function ht(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function gt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function _t(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Tt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function St(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ct(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function At(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function bt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function wt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const vt=function(o){return{display:o}};function kt(o,s){if(1&o&&e._UZ(0,"select",57),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,vt,t.id===i.tableRowSelected.id?"":"none"))}}function Mt(o,s){if(1&o&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,kt,1,5,"select",56),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function It(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Zt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Et(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Rt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Lt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function yt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function xt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Ut(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Dt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Nt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function qt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Ot(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Yt(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function Jt(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Gt(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Qt(o,s){if(1&o&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Ft(o,s){1&o&&e._UZ(0,"mat-header-row")}const Ht=function(o){return{background:o}};function Bt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ht,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Pt=function(){return[5,10,20,100]};let jt=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.BKj;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.BKj);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(ct,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(at,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.qOP),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-microservicelog-list"]],decls:98,vars:35,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,dt,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,ut,7,3,"div",19),e.YNc(31,mt,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,pt,7,6,"div",19),e.YNc(47,ft,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(48,21),e.TgZ(49,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(50,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(51,23),e.TgZ(52,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(53);return e.KtG(n.onTableSortData(c))}),e.ynx(54,26),e.YNc(55,ht,2,1,"mat-header-cell",27),e.YNc(56,gt,2,1,"mat-cell",28),e.BQk(),e.ynx(57,29),e.YNc(58,_t,2,1,"mat-header-cell",27),e.YNc(59,Tt,4,5,"mat-cell",28),e.BQk(),e.ynx(60,30),e.YNc(61,St,2,1,"mat-header-cell",27),e.YNc(62,Ct,4,5,"mat-cell",28),e.BQk(),e.ynx(63,31),e.YNc(64,At,2,1,"mat-header-cell",27),e.YNc(65,bt,2,1,"mat-cell",28),e.BQk(),e.ynx(66,32),e.YNc(67,wt,2,1,"mat-header-cell",27),e.YNc(68,Mt,5,7,"mat-cell",33),e.BQk(),e.ynx(69,34),e.YNc(70,It,2,1,"mat-header-cell",27),e.YNc(71,Zt,3,4,"mat-cell",28),e.BQk(),e.ynx(72,35),e.YNc(73,Et,2,1,"mat-header-cell",27),e.YNc(74,Rt,3,4,"mat-cell",28),e.BQk(),e.ynx(75,36),e.YNc(76,Lt,2,1,"mat-header-cell",27),e.YNc(77,yt,3,3,"mat-cell",28),e.BQk(),e.ynx(78,37),e.YNc(79,xt,2,1,"mat-header-cell",27),e.YNc(80,Ut,3,3,"mat-cell",28),e.BQk(),e.ynx(81,38),e.YNc(82,Dt,2,1,"mat-header-cell",27),e.YNc(83,Nt,3,3,"mat-cell",28),e.BQk(),e.ynx(84,39),e.YNc(85,qt,2,1,"mat-header-cell",27),e.YNc(86,Ot,2,1,"mat-cell",28),e.BQk(),e.ynx(87,40),e.YNc(88,Yt,2,1,"mat-header-cell",27),e.YNc(89,Jt,2,1,"mat-cell",28),e.BQk(),e.ynx(90,41),e.YNc(91,Gt,3,3,"mat-header-cell",42),e.YNc(92,Qt,6,1,"mat-cell",43),e.BQk(),e.YNc(93,Ft,1,0,"mat-header-row",44),e.YNc(94,Bt,1,3,"mat-row",45),e.qZA(),e.BQk(),e.ynx(95,46),e.TgZ(96,"mat-paginator",47,48),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,28,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,30,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,32,"ACTION.USER")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,Pt)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})();var ne=f(8838);const Vt=["vform"];function $t(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",8),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Kt(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",9),e.ALo(2,"prettyjson"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function Wt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let zt=(()=>{class o{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenMicroServiceService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.xyf;formGroup;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(r.dR.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.mPJ),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(Vt,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:17,vars:13,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,$t,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(14,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(15,Kt,3,3,"div",6),e.YNc(16,Wt,5,3,"div",7),e.qZA()()),2&i&&(e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",n.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,q.P,K.t,O.g,M.O,h.X$,ne.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const Xt=["vform"];function eo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let to=(()=>{class o{data;dialogRef;coreEnumService;coreTokenMicroServiceService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenMicroServiceService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.xyf;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.mPJ),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(Xt,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,eo,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();function oo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",50),e.qZA()}}function no(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function io(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function so(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function ao(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function lo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ro(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function co(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function uo(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function mo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function po(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function fo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ho(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function go(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const _o=function(o){return{display:o}};function To(o,s){if(1&o&&e._UZ(0,"select",57),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,_o,t.id===i.tableRowSelected.id?"":"none"))}}function So(o,s){if(1&o&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,To,1,5,"select",56),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Co(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ao(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function bo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function wo(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ko(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Mo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Io(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Zo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Eo(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Ro(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function Lo(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function yo(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function xo(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Uo(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Do(o,s){if(1&o&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function No(o,s){1&o&&e._UZ(0,"mat-header-row")}const qo=function(o){return{background:o}};function Oo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,qo,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Yo=function(){return[5,10,20,100]};let Jo=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.xyf;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.xyf);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(to,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(zt,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.mPJ),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-microservice-list"]],decls:98,vars:35,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,oo,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,no,7,3,"div",19),e.YNc(31,io,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,so,7,6,"div",19),e.YNc(47,ao,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(48,21),e.TgZ(49,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(50,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(51,23),e.TgZ(52,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(53);return e.KtG(n.onTableSortData(c))}),e.ynx(54,26),e.YNc(55,lo,2,1,"mat-header-cell",27),e.YNc(56,ro,2,1,"mat-cell",28),e.BQk(),e.ynx(57,29),e.YNc(58,co,2,1,"mat-header-cell",27),e.YNc(59,uo,4,5,"mat-cell",28),e.BQk(),e.ynx(60,30),e.YNc(61,mo,2,1,"mat-header-cell",27),e.YNc(62,po,4,5,"mat-cell",28),e.BQk(),e.ynx(63,31),e.YNc(64,fo,2,1,"mat-header-cell",27),e.YNc(65,ho,2,1,"mat-cell",28),e.BQk(),e.ynx(66,32),e.YNc(67,go,2,1,"mat-header-cell",27),e.YNc(68,So,5,7,"mat-cell",33),e.BQk(),e.ynx(69,34),e.YNc(70,Co,2,1,"mat-header-cell",27),e.YNc(71,Ao,3,4,"mat-cell",28),e.BQk(),e.ynx(72,35),e.YNc(73,bo,2,1,"mat-header-cell",27),e.YNc(74,wo,3,4,"mat-cell",28),e.BQk(),e.ynx(75,36),e.YNc(76,vo,2,1,"mat-header-cell",27),e.YNc(77,ko,3,3,"mat-cell",28),e.BQk(),e.ynx(78,37),e.YNc(79,Mo,2,1,"mat-header-cell",27),e.YNc(80,Io,3,3,"mat-cell",28),e.BQk(),e.ynx(81,38),e.YNc(82,Zo,2,1,"mat-header-cell",27),e.YNc(83,Eo,3,3,"mat-cell",28),e.BQk(),e.ynx(84,39),e.YNc(85,Ro,2,1,"mat-header-cell",27),e.YNc(86,Lo,2,1,"mat-cell",28),e.BQk(),e.ynx(87,40),e.YNc(88,yo,2,1,"mat-header-cell",27),e.YNc(89,xo,2,1,"mat-cell",28),e.BQk(),e.ynx(90,41),e.YNc(91,Uo,3,3,"mat-header-cell",42),e.YNc(92,Do,6,1,"mat-cell",43),e.BQk(),e.YNc(93,No,1,0,"mat-header-row",44),e.YNc(94,Oo,1,3,"mat-row",45),e.qZA(),e.BQk(),e.ynx(95,46),e.TgZ(96,"mat-paginator",47,48),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,28,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,30,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,32,"ACTION.USER")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,Yo)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})();var te=f(3704),ie=f(8659),ce=f(1797);const Go=["vform"];function Qo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",37),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Fo(o,s){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function Ho(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Bo(o,s){if(1&o&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function Po(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function jo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"h5",41),e._uU(3),e.qZA()(),e.TgZ(4,"div",42)(5,"div",43)(6,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=n)}),e.qZA(),e._UZ(7,"label",45),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function Vo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"h5",46),e._uU(3),e.qZA()(),e.TgZ(4,"div",42)(5,"div",43)(6,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=n)}),e.qZA(),e._UZ(7,"label",48),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function $o(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40)(2,"h5",49),e._uU(3),e.qZA()(),e.TgZ(4,"div",42)(5,"div",43)(6,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=n)}),e.qZA(),e._UZ(7,"label",51),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.rememberOnDevice)}}function Ko(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"label",52),e._uU(2),e.qZA(),e.TgZ(3,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=n)}),e.qZA(),e._UZ(4,"mat-datepicker-toggle",54)(5,"mat-datepicker",55,56),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",i.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("for",t)}}function Wo(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",57),e.ALo(2,"prettyjson"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function zo(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",58)(1,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",60),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormSubmit())}),e._UZ(6,"i",62),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&o){e.oxw();const t=e.MAs(12);e.xp6(3),e.hij(" ",e.lcZ(4,3,"ACTION.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid),e.xp6(2),e.hij(" ",e.lcZ(8,5,"ACTION.SAVE")," ")}}let Xo=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;publicHelper;cdr;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserService=l,this.cmsToastrService=a,this.tokenHelper=c,this.publicHelper=g,this.cdr=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.amQ;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(r.dR.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}DataEditContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.sending_information_to_the_server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.sending_information_to_the_server")),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:i=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=i,i.isSuccess?(this.formInfo.formAlert=this.translate.instant("MESSAGE.registration_completed_successfully"),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorEdit(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onActionSiteSelect(t){t&&t.id>0&&(this.dataModel.linkSiteId=t.id)}onActionUserSelect(t){t&&t.id>0&&(this.dataModel.linkUserId=t.id)}onActionMemberSelect(t){t&&t.id.length>0&&(this.dataModel.linkMemberId=t.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.O0p),e.Y36(w.e),e.Y36(v.v),e.Y36(k.i),e.Y36(e.sBO),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(Go,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:70,vars:39,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],["vform","ngForm"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkMemberId","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionLoading","optionSelectForce","optionPlaceholder","optionChange","optionLoadingChange"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UserLanguage",""],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["Token",""],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled","click"],[1,"fa","fa-check-square-o"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e.TgZ(11,"form",4,5),e.NdJ("ngSubmit",function(){return n.onFormSubmit()}),e._uU(13),e.YNc(14,Qo,1,5,"app-cms-enum-record-status-selector",6),e.TgZ(15,"div",7)(16,"select",8,9),e.NdJ("ngModelChange",function(a){return n.dataModel.linkMemberId=a}),e.YNc(18,Fo,2,2,"option",10),e.qZA(),e.TgZ(19,"em"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,Ho,5,3,"mat-error",11),e.qZA(),e.TgZ(23,"div",7)(24,"select",12,13),e.NdJ("ngModelChange",function(a){return n.dataModel.userAccessAreaType=a}),e.YNc(26,Bo,2,2,"option",10),e.qZA(),e.TgZ(27,"em"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.YNc(30,Po,5,3,"mat-error",11),e.qZA(),e.TgZ(31,"app-cms-site-selector",14),e.NdJ("optionChange",function(a){return n.onActionSiteSelect(a)})("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(32,"app-cms-user-selector",14),e.NdJ("optionChange",function(a){return n.onActionUserSelect(a)})("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(33,"app-cms-member-selector",14),e.NdJ("optionChange",function(a){return n.onActionMemberSelect(a)})("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(34,jo,8,2,"div",15),e.YNc(35,Vo,8,2,"div",15),e.YNc(36,$o,8,2,"div",15),e.TgZ(37,"div",16)(38,"label",17),e._uU(39,"BrowserLanguage"),e.qZA(),e.TgZ(40,"input",18,19),e.NdJ("ngModelChange",function(a){return n.dataModel.browserLanguage=a}),e.qZA()(),e.TgZ(42,"div",16)(43,"label",20),e._uU(44,"UserLanguage"),e.qZA(),e.TgZ(45,"input",21,22),e.NdJ("ngModelChange",function(a){return n.dataModel.userLanguage=a}),e.qZA()(),e.TgZ(47,"div",16)(48,"label",23),e._uU(49,"DeviceClientMAC"),e.qZA(),e.TgZ(50,"input",24,25),e.NdJ("ngModelChange",function(a){return n.dataModel.deviceClientMAC=a}),e.qZA()(),e.TgZ(52,"div",16)(53,"label",26),e._uU(54,"Token"),e.qZA(),e.TgZ(55,"input",27,28),e.NdJ("ngModelChange",function(a){return n.dataModel.token=a}),e.qZA()(),e.TgZ(57,"div",16)(58,"label",29),e._uU(59,"LinkDeviceId"),e.qZA(),e.TgZ(60,"input",30,31),e.NdJ("ngModelChange",function(a){return n.dataModel.linkDeviceId=a}),e.qZA()(),e.TgZ(62,"div",16)(63,"label",32),e._uU(64,"LinkApplicationId"),e.qZA(),e.TgZ(65,"input",33,34),e.NdJ("ngModelChange",function(a){return n.dataModel.linkApplicationId=a}),e.qZA()(),e.YNc(67,Ko,7,4,"div",35),e.YNc(68,Wo,3,3,"div",11),e.YNc(69,zo,9,7,"div",36),e.qZA()()()),2&i){const l=e.MAs(17),a=e.MAs(25);e.Q6J("options",n.loading),e.xp6(13),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(2),e.Q6J("ngModel",n.dataModel.linkMemberId),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(21,35,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.Q6J("ngModel",n.dataModel.userAccessAreaType),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(29,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkSiteId)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkUserId)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!1)("optionLoading",n.loading)("optionSelectForce",n.dataModel.linkMemberId)("optionPlaceholder",n.translate.instant("TITLE.Member")),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.userAccessAdminAllowToAllData?null:n.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.userAccessAdminAllowToProfessionalData?null:n.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.rememberOnDevice?null:n.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",n.dataModel.browserLanguage),e.xp6(5),e.Q6J("ngModel",n.dataModel.userLanguage),e.xp6(5),e.Q6J("ngModel",n.dataModel.deviceClientMAC),e.xp6(5),e.Q6J("ngModel",n.dataModel.token),e.xp6(5),e.Q6J("ngModel",n.dataModel.linkDeviceId),e.xp6(5),e.Q6J("ngModel",n.dataModel.linkApplicationId),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.tokenExpireDate?null:n.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.sg,p.O5,S._Y,S.YN,S.Kr,S.Fj,S.Wl,S.EJ,S.JJ,S.JL,S.On,S.F,te.Mq,te.hl,te.nW,ie.TO,ie.R9,x.Nt,q.P,K.t,O.g,ce.a,M.O,h.X$,ne.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const en=["vform"];function tn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let on=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.amQ;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.O0p),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(en,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,tn,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();var nn=f(5952);function sn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",51),e.qZA()}}function an(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function ln(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function rn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function cn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",16)(1,"a",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",18),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function dn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function un(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function mn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function pn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function fn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function hn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function gn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function _n(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function Tn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Sn=function(o){return{display:o}};function Cn(o,s){if(1&o&&e._UZ(0,"select",58),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Sn,t.id===i.tableRowSelected.id?"":"none"))}}function An(o,s){if(1&o&&(e.TgZ(0,"mat-cell",56),e.ALo(1,"statusCellClass"),e._UZ(2,"i",56),e.ALo(3,"statusIconClass"),e.YNc(4,Cn,1,5,"select",57),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function bn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function wn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function vn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function kn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Mn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function In(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",56),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Zn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function En(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",56),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Rn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ln(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",56),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function yn(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function xn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Un(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",55),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.tokenExpireDate?null:t.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Dn(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.tokenExpireDate)," ")}}function Nn(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function qn(o,s){if(1&o&&(e.TgZ(0,"mat-cell",59)(1,"button",60)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,61),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function On(o,s){1&o&&e._UZ(0,"mat-header-row")}const Yn=function(o){return{background:o}};function Jn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",62),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Yn,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Gn=function(){return[5,10,20,100]};let ae=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;tokenHelper;dialog;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.tokenHelper=c,this.dialog=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.amQ;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.amQ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(on,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Xo,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkMemberId&&""!==this.tableRowSelected.linkMemberId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.O0p),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(v.v),e.Y36(C.uw),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-user-list"]],decls:113,vars:43,consts:[[3,"Key","svg"],[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e._UZ(0,"app-cms-guide-notice",0),e.TgZ(1,"app-cms-html-list",1),e.ynx(2,2),e._uU(3," -------------------------------------- "),e.BQk(),e.GkF(4,3),e.ynx(5,4),e.TgZ(6,"div",5)(7,"div",6)(8,"a",7)(9,"mat-slide-toggle",8),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"a",7)(13,"mat-slide-toggle",9),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",10),e.YNc(17,sn,2,0,"a",11),e.TgZ(18,"a",12),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(19,"i",13),e.qZA()()(),e.BQk(),e.ynx(20,14),e.TgZ(21,"div",15)(22,"div",16)(23,"a",12),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(24,"i",17)(25,"br"),e.qZA(),e.TgZ(26,"p",18),e._uU(27),e.ALo(28,"translate"),e.qZA()()(),e.BQk(),e.ynx(29,19),e.TgZ(30,"div",15),e.YNc(31,an,7,3,"div",20),e.YNc(32,ln,7,3,"div",20),e.TgZ(33,"div",16)(34,"a",21),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(35,"mat-icon"),e._uU(36,"web"),e.qZA()(),e.TgZ(37,"p",18),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",16)(41,"a",21),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(42,"mat-icon"),e._uU(43,"supervisor_account"),e.qZA()(),e.TgZ(44,"p",18),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",16)(48,"a",21),e.NdJ("click",function(){return n.onActionbuttonViewMemberRow(n.tableRowSelected)}),e.TgZ(49,"mat-icon"),e._uU(50,"assignment_ind"),e.qZA()(),e.TgZ(51,"p",18),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"div",16)(55,"a",21),e.NdJ("click",function(){return n.onActionbuttonViewDeviceRow(n.tableRowSelected)}),e.TgZ(56,"mat-icon"),e._uU(57,"device_unknown"),e.qZA()(),e.TgZ(58,"p",18),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.YNc(61,rn,7,6,"div",20),e.YNc(62,cn,7,3,"div",20),e.qZA(),e.BQk(),e.ynx(63,22),e.TgZ(64,"app-cms-search-list",23),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(65,"app-cms-statist-list",23),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(66,24),e.TgZ(67,"mat-table",25,26),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(68);return e.KtG(n.onTableSortData(c))}),e.ynx(69,27),e.YNc(70,dn,2,1,"mat-header-cell",28),e.YNc(71,un,2,1,"mat-cell",29),e.BQk(),e.ynx(72,30),e.YNc(73,mn,2,1,"mat-header-cell",28),e.YNc(74,pn,4,5,"mat-cell",29),e.BQk(),e.ynx(75,31),e.YNc(76,fn,2,1,"mat-header-cell",28),e.YNc(77,hn,4,5,"mat-cell",29),e.BQk(),e.ynx(78,32),e.YNc(79,gn,2,1,"mat-header-cell",28),e.YNc(80,_n,2,1,"mat-cell",29),e.BQk(),e.ynx(81,33),e.YNc(82,Tn,2,1,"mat-header-cell",28),e.YNc(83,An,5,7,"mat-cell",34),e.BQk(),e.ynx(84,35),e.YNc(85,bn,2,1,"mat-header-cell",28),e.YNc(86,wn,3,4,"mat-cell",29),e.BQk(),e.ynx(87,36),e.YNc(88,vn,2,1,"mat-header-cell",28),e.YNc(89,kn,3,4,"mat-cell",29),e.BQk(),e.ynx(90,37),e.YNc(91,Mn,2,1,"mat-header-cell",28),e.YNc(92,In,3,3,"mat-cell",29),e.BQk(),e.ynx(93,38),e.YNc(94,Zn,2,1,"mat-header-cell",28),e.YNc(95,En,3,3,"mat-cell",29),e.BQk(),e.ynx(96,39),e.YNc(97,Rn,2,1,"mat-header-cell",28),e.YNc(98,Ln,3,3,"mat-cell",29),e.BQk(),e.ynx(99,40),e.YNc(100,yn,2,1,"mat-header-cell",28),e.YNc(101,xn,2,1,"mat-cell",29),e.BQk(),e.ynx(102,41),e.YNc(103,Un,2,1,"mat-header-cell",28),e.YNc(104,Dn,2,1,"mat-cell",29),e.BQk(),e.ynx(105,42),e.YNc(106,Nn,3,3,"mat-header-cell",43),e.YNc(107,qn,6,1,"mat-cell",44),e.BQk(),e.YNc(108,On,1,0,"mat-header-row",45),e.YNc(109,Jn,1,3,"mat-row",46),e.qZA(),e.BQk(),e.ynx(110,47),e.TgZ(111,"mat-paginator",48,49),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("Key","report.user.list")("svg","assets/media/svg/icons/General/Notifications1.svg"),e.xp6(1),e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(11,28,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(15,30,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(28,32,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(39,34,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(46,36,"ACTION.USER")),e.xp6(7),e.Oqu(e.lcZ(53,38,"ACTION.MEMBER")),e.xp6(7),e.Oqu(e.lcZ(60,40,"ACTION.DEVICE")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(42,Gn)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,nn.v,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})();const Qn=["vform"];function Fn(o,s){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function Hn(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Bn(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",28),e.ALo(2,"prettyjson"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function Pn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",31),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let jn=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserBadLoginService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.u1Z;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(r.dR.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(Qn,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:50,vars:27,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UsedUsername",""],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UsedPwd",""],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.TgZ(12,"div",4)(13,"label",5),e._uU(14,"UsedUsername"),e.qZA(),e.TgZ(15,"input",6,7),e.NdJ("ngModelChange",function(a){return n.dataModel.usedUsername=a}),e.qZA()(),e.TgZ(17,"div",4)(18,"label",8),e._uU(19,"UsedPwd"),e.qZA(),e.TgZ(20,"input",9,10),e.NdJ("ngModelChange",function(a){return n.dataModel.usedPwd=a}),e.qZA()(),e.TgZ(22,"div",11)(23,"select",12,13),e.NdJ("ngModelChange",function(a){return n.dataModel.userAccessAreaType=a}),e.YNc(25,Fn,2,2,"option",14),e.qZA(),e.TgZ(26,"em"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Hn,5,3,"mat-error",15),e.qZA(),e.TgZ(30,"app-cms-site-selector",16),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(31,"app-cms-user-selector",16),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(32,"app-cms-member-selector",16),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(33,"div",4)(34,"label",17),e._uU(35,"LinkDeviceId"),e.qZA(),e.TgZ(36,"input",18,19),e.NdJ("ngModelChange",function(a){return n.dataModel.linkDeviceId=a}),e.qZA()(),e.TgZ(38,"div",4)(39,"label",20),e._uU(40,"LinkApplicationId"),e.qZA(),e.TgZ(41,"input",21,22),e.NdJ("ngModelChange",function(a){return n.dataModel.linkApplicationId=a}),e.qZA()(),e.TgZ(43,"div",4)(44,"label",23),e._uU(45,"DeviceClientMAC"),e.qZA(),e.TgZ(46,"input",24,25),e.NdJ("ngModelChange",function(a){return n.dataModel.deviceClientMAC=a}),e.qZA()(),e.YNc(48,Bn,3,3,"div",15),e.YNc(49,Pn,5,3,"div",26),e.qZA()()),2&i){const l=e.MAs(24);e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(4),e.Q6J("ngModel",n.dataModel.usedUsername),e.xp6(5),e.Q6J("ngModel",n.dataModel.usedPwd),e.xp6(3),e.Q6J("ngModel",n.dataModel.userAccessAreaType),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(28,25,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkMemberId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.Member")),e.xp6(4),e.Q6J("ngModel",n.dataModel.linkDeviceId),e.xp6(5),e.Q6J("ngModel",n.dataModel.linkApplicationId),e.xp6(5),e.Q6J("ngModel",n.dataModel.deviceClientMAC),e.xp6(2),e.Q6J("ngIf",n.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.sg,p.O5,S.YN,S.Kr,S.Fj,S.EJ,S.JJ,S.On,ie.TO,x.Nt,q.P,O.g,ce.a,M.O,h.X$,ne.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const Vn=["vform"];function $n(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Kn=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserBadLoginService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserBadLoginService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.u1Z;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(Vn,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,$n,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();function Wn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",44),e.qZA()}}function zn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Xn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function ei(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function ti(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function oi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ni(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function ii(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function si(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function ai(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function li(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function ri(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberId?null:t.fieldsInfo.linkMemberId.fieldTitle," ")}}function ci(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberId," ")}}function di(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ui(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function mi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.usedUsername?null:t.fieldsInfo.usedUsername.fieldTitle," ")}}function pi(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.usedUsername," ")}}function fi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",48),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function hi(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function gi(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function _i(o,s){if(1&o&&(e.TgZ(0,"mat-cell",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,51),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Ti(o,s){1&o&&e._UZ(0,"mat-header-row")}const Si=function(o){return{background:o}};function Ci(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Si,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Ai=function(){return[5,10,20,100]};let le=(()=>{class o{coreEnumService;contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E,d){if(this.coreEnumService=t,this.contentService=i,this.publicHelper=n,this.cmsToastrService=l,this.cmsConfirmationDialogService=a,this.activatedRoute=c,this.dialog=g,this.tokenHelper=_,this.cdr=T,this.translate=E,this.router=d,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const R=new r.AO3;R.propertyName="LinkCmsSiteId",R.value=this.requestLinkSiteId,this.filteModelContent.filters.push(R)}if(this.requestLinkUserId>0){const R=new r.AO3;R.propertyName="LinkUserId",R.value=this.requestLinkUserId,this.filteModelContent.filters.push(R)}if(this.requestLinkDeviceId>0){const R=new r.AO3;R.propertyName="LinkDeviceId",R.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(R)}this.optionsSearch.parentMethods={onSubmit:R=>this.onSubmitOptionsSearch(R)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.u1Z;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.u1Z);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Kn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(jn,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.FLW),e.Y36(r.Q0Y),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-user-list"]],decls:97,vars:41,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Wn,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,zn,7,3,"div",19),e.YNc(31,Xn,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",15)(47,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewMemberRow(n.tableRowSelected)}),e.TgZ(48,"mat-icon"),e._uU(49,"assignment_ind"),e.qZA()(),e.TgZ(50,"p",17),e._uU(51),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",15)(54,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewDeviceRow(n.tableRowSelected)}),e.TgZ(55,"mat-icon"),e._uU(56,"device_unknown"),e.qZA()(),e.TgZ(57,"p",17),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.YNc(60,ei,7,6,"div",19),e.YNc(61,ti,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(62,21),e.TgZ(63,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(64,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(65,23),e.TgZ(66,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(67);return e.KtG(n.onTableSortData(c))}),e.ynx(68,26),e.YNc(69,oi,2,1,"mat-header-cell",27),e.YNc(70,ni,2,1,"mat-cell",28),e.BQk(),e.ynx(71,29),e.YNc(72,ii,2,1,"mat-header-cell",27),e.YNc(73,si,4,5,"mat-cell",28),e.BQk(),e.ynx(74,30),e.YNc(75,ai,2,1,"mat-header-cell",27),e.YNc(76,li,4,5,"mat-cell",28),e.BQk(),e.ynx(77,31),e.YNc(78,ri,2,1,"mat-header-cell",27),e.YNc(79,ci,2,1,"mat-cell",28),e.BQk(),e.ynx(80,32),e.YNc(81,di,2,1,"mat-header-cell",27),e.YNc(82,ui,3,4,"mat-cell",28),e.BQk(),e.ynx(83,33),e.YNc(84,mi,2,1,"mat-header-cell",27),e.YNc(85,pi,2,1,"mat-cell",28),e.BQk(),e.ynx(86,34),e.YNc(87,fi,2,1,"mat-header-cell",27),e.YNc(88,hi,2,1,"mat-cell",28),e.BQk(),e.ynx(89,35),e.YNc(90,gi,3,3,"mat-header-cell",36),e.YNc(91,_i,6,1,"mat-cell",37),e.BQk(),e.YNc(92,Ti,1,0,"mat-header-row",38),e.YNc(93,Ci,1,3,"mat-row",39),e.qZA(),e.BQk(),e.ynx(94,40),e.TgZ(95,"mat-paginator",41,42),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,26,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,28,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,30,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,32,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,34,"ACTION.USER")),e.xp6(7),e.Oqu(e.lcZ(52,36,"ACTION.MEMBER")),e.xp6(7),e.Oqu(e.lcZ(59,38,"ACTION.DEVICE")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(26),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(40,Ai)))},dependencies:[p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,p.Ov,h.X$,j.B,V.J,$.Y],encapsulation:2})}return o})();const bi=["vform"];function wi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",35),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function vi(o,s){if(1&o&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function ki(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," LinkMemberId is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Mi(o,s){if(1&o&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," ")}}function Ii(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," UserAccessAreaType is "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"MESSAGE.required")))}function Zi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"h5",39),e._uU(3),e.qZA()(),e.TgZ(4,"div",40)(5,"div",41)(6,"input",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToAllData=n)}),e.qZA(),e._UZ(7,"label",43),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToAllData)}}function Ei(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"h5",44),e._uU(3),e.qZA()(),e.TgZ(4,"div",40)(5,"div",41)(6,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.userAccessAdminAllowToProfessionalData=n)}),e.qZA(),e._UZ(7,"label",46),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.userAccessAdminAllowToProfessionalData)}}function Ri(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"h5",47),e._uU(3),e.qZA()(),e.TgZ(4,"div",40)(5,"div",41)(6,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.rememberOnDevice=n)}),e.qZA(),e._UZ(7,"label",49),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle,""),e.xp6(3),e.Q6J("ngModel",t.dataModel.rememberOnDevice)}}function Li(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",50),e._uU(2),e.qZA(),e.TgZ(3,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.tokenExpireDate=n)}),e.qZA(),e._UZ(4,"mat-datepicker-toggle",52)(5,"mat-datepicker",53,54),e.qZA()}if(2&o){const t=e.MAs(6),i=e.oxw();e.xp6(2),e.Oqu(null==i.fieldsInfo.tokenExpireDate?null:i.fieldsInfo.tokenExpireDate.fieldTitle),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",i.dataModel.tokenExpireDate),e.xp6(1),e.Q6J("for",t)}}function yi(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",55),e.ALo(2,"prettyjson"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function xi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",56)(1,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",58),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ui=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserLogService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.nZM;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(r.dR.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.AMA),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(bi,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:68,vars:39,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkMemberId","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UserAccessAreaType","ngModel"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["BrowserLanguage",""],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["UserLanguage",""],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkDeviceId",""],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["LinkApplicationId",""],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["DeviceClientMAC",""],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModel","ngModelChange"],["Token",""],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModel","ngModelChange"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["touchUi",""],["tokenExpireDate",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,wi,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"div",5)(14,"select",6,7),e.NdJ("ngModelChange",function(a){return n.dataModel.linkMemberId=a}),e.YNc(16,vi,2,2,"option",8),e.qZA(),e.TgZ(17,"em"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,ki,5,3,"mat-error",9),e.qZA(),e.TgZ(21,"div",5)(22,"select",10,11),e.NdJ("ngModelChange",function(a){return n.dataModel.userAccessAreaType=a}),e.YNc(24,Mi,2,2,"option",8),e.qZA(),e.TgZ(25,"em"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Ii,5,3,"mat-error",9),e.qZA(),e.TgZ(29,"app-cms-site-selector",12),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(30,"app-cms-user-selector",12),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(31,"app-cms-member-selector",12),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(32,Zi,8,2,"div",13),e.YNc(33,Ei,8,2,"div",13),e.YNc(34,Ri,8,2,"div",13),e.TgZ(35,"div",14)(36,"label",15),e._uU(37,"BrowserLanguage"),e.qZA(),e.TgZ(38,"input",16,17),e.NdJ("ngModelChange",function(a){return n.dataModel.browserLanguage=a}),e.qZA()(),e.TgZ(40,"div",14)(41,"label",18),e._uU(42,"UserLanguage"),e.qZA(),e.TgZ(43,"input",19,20),e.NdJ("ngModelChange",function(a){return n.dataModel.userLanguage=a}),e.qZA()(),e.TgZ(45,"div",14)(46,"label",21),e._uU(47,"LinkDeviceId"),e.qZA(),e.TgZ(48,"input",22,23),e.NdJ("ngModelChange",function(a){return n.dataModel.linkDeviceId=a}),e.qZA()(),e.TgZ(50,"div",14)(51,"label",24),e._uU(52,"LinkApplicationId"),e.qZA(),e.TgZ(53,"input",25,26),e.NdJ("ngModelChange",function(a){return n.dataModel.linkApplicationId=a}),e.qZA()(),e.TgZ(55,"div",14)(56,"label",27),e._uU(57,"DeviceClientMAC"),e.qZA(),e.TgZ(58,"input",28,29),e.NdJ("ngModelChange",function(a){return n.dataModel.deviceClientMAC=a}),e.qZA()(),e.TgZ(60,"div",14)(61,"label",30),e._uU(62,"Token"),e.qZA(),e.TgZ(63,"input",31,32),e.NdJ("ngModelChange",function(a){return n.dataModel.token=a}),e.qZA()(),e.YNc(65,Li,7,4,"div",33),e.YNc(66,yi,3,3,"div",9),e.YNc(67,xi,5,3,"div",34),e.qZA()()),2&i){const l=e.MAs(15),a=e.MAs(23);e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(2),e.Q6J("ngModel",n.dataModel.linkMemberId),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumManageUserAccessUserTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(19,35,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(2),e.Q6J("ngModel",n.dataModel.userAccessAreaType),e.xp6(2),e.Q6J("ngForOf",n.dataModelEnumManageUserAccessAreaTypesResult.listItems),e.xp6(2),e.Oqu(e.lcZ(27,37,"TITLE.SELECT_STATUS")),e.xp6(2),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkMemberId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.Member")),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.userAccessAdminAllowToAllData?null:n.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.userAccessAdminAllowToProfessionalData?null:n.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.rememberOnDevice?null:n.fieldsInfo.rememberOnDevice.accessWatchField),e.xp6(4),e.Q6J("ngModel",n.dataModel.browserLanguage),e.xp6(5),e.Q6J("ngModel",n.dataModel.userLanguage),e.xp6(5),e.Q6J("ngModel",n.dataModel.linkDeviceId),e.xp6(5),e.Q6J("ngModel",n.dataModel.linkApplicationId),e.xp6(5),e.Q6J("ngModel",n.dataModel.deviceClientMAC),e.xp6(5),e.Q6J("ngModel",n.dataModel.token),e.xp6(2),e.Q6J("ngIf",null==n.fieldsInfo.tokenExpireDate?null:n.fieldsInfo.tokenExpireDate.accessWatchField),e.xp6(1),e.Q6J("ngIf",n.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display))}},dependencies:[p.sg,p.O5,S.YN,S.Kr,S.Fj,S.Wl,S.EJ,S.JJ,S.On,te.Mq,te.hl,te.nW,ie.TO,ie.R9,x.Nt,q.P,K.t,O.g,ce.a,M.O,h.X$,ne.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const Di=["vform"];function Ni(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let qi=(()=>{class o{data;dialogRef;coreEnumService;coreTokenUserLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenUserLogService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.nZM;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.AMA),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(Di,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Ni,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();function Oi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",47),e.qZA()}}function Yi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Ji(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Gi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewSiteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"web"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.SITE")))}function Qi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewUserRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"supervisor_account"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.USER")))}function Fi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewDeviceRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"device_unknown"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DEVICE")))}function Hi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function Bi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function Pi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ji(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Vi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.description?null:t.fieldsInfo.description.fieldTitle," ")}}function $i(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Ki(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Wi(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function zi(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Xi(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function es(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ts(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function os(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ns(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function is(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function ss(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function as(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ls(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",53),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function rs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function cs(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",53),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function ds(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function us(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",53),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function ms(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ps(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function fs(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function hs(o,s){if(1&o&&(e.TgZ(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,56),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function gs(o,s){1&o&&e._UZ(0,"mat-header-row")}const _s=function(o){return{background:o}};function Ts(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,_s,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const Ss=function(){return[5,10,20,100]};let re=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.nZM;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","Description","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.nZM);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(qi,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(Ui,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"ServiceDelete";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewMemberRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewDeviceRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkDeviceId&&0!==this.tableRowSelected.linkDeviceId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.AMA),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-user-list"]],decls:84,vars:32,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Oi,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,Yi,7,3,"div",19),e.YNc(31,Ji,7,3,"div",19),e.YNc(32,Gi,7,3,"div",19),e.YNc(33,Qi,7,3,"div",19),e.YNc(34,Fi,7,3,"div",19),e.YNc(35,Hi,7,6,"div",19),e.YNc(36,Bi,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(37,20),e.TgZ(38,"app-cms-search-list",21),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(39,"app-cms-statist-list",21),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(40,22),e.TgZ(41,"mat-table",23,24),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(42);return e.KtG(n.onTableSortData(c))}),e.ynx(43,25),e.YNc(44,Pi,2,1,"mat-header-cell",26),e.YNc(45,ji,2,1,"mat-cell",27),e.BQk(),e.ynx(46,28),e.YNc(47,Vi,2,1,"mat-header-cell",26),e.YNc(48,$i,2,1,"mat-cell",27),e.BQk(),e.ynx(49,29),e.YNc(50,Ki,2,1,"mat-header-cell",26),e.YNc(51,Wi,4,5,"mat-cell",27),e.BQk(),e.ynx(52,30),e.YNc(53,zi,2,1,"mat-header-cell",26),e.YNc(54,Xi,4,5,"mat-cell",27),e.BQk(),e.ynx(55,31),e.YNc(56,es,2,1,"mat-header-cell",26),e.YNc(57,ts,2,1,"mat-cell",27),e.BQk(),e.ynx(58,32),e.YNc(59,os,2,1,"mat-header-cell",26),e.YNc(60,ns,3,4,"mat-cell",27),e.BQk(),e.ynx(61,33),e.YNc(62,is,2,1,"mat-header-cell",26),e.YNc(63,ss,3,4,"mat-cell",27),e.BQk(),e.ynx(64,34),e.YNc(65,as,2,1,"mat-header-cell",26),e.YNc(66,ls,3,3,"mat-cell",27),e.BQk(),e.ynx(67,35),e.YNc(68,rs,2,1,"mat-header-cell",26),e.YNc(69,cs,3,3,"mat-cell",27),e.BQk(),e.ynx(70,36),e.YNc(71,ds,2,1,"mat-header-cell",26),e.YNc(72,us,3,3,"mat-cell",27),e.BQk(),e.ynx(73,37),e.YNc(74,ms,2,1,"mat-header-cell",26),e.YNc(75,ps,2,1,"mat-cell",27),e.BQk(),e.ynx(76,38),e.YNc(77,fs,3,3,"mat-header-cell",39),e.YNc(78,hs,6,1,"mat-cell",40),e.BQk(),e.YNc(79,gs,1,0,"mat-header-row",41),e.YNc(80,Ts,1,3,"mat-row",42),e.qZA(),e.BQk(),e.ynx(81,43),e.TgZ(82,"mat-paginator",44,45),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,25,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,27,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,29,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(1),e.Q6J("ngIf",n.tableRowSelected.linkSiteId>0),e.xp6(1),e.Q6J("ngIf",n.tableRowSelected.linkUserId>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected.deviceClientMAC?null:n.tableRowSelected.deviceClientMAC.length)>0),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(38),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(31,Ss)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,p.Ov,h.X$,j.B,V.J,$.Y,W.r],encapsulation:2})}return o})();const Cs=["vform"];function As(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",8),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function bs(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"div",9),e.ALo(2,"prettyjson"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.dataModel),e.oJD)}}function ws(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let vs=(()=>{class o{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenNotificationService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.ODe;dataModel=new r.zjJ;formGroup;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(r.dR.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Ozq),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(Cs,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:17,vars:13,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,As,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(14,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(15,bs,3,3,"div",6),e.YNc(16,ws,5,3,"div",7),e.qZA()()),2&i&&(e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",n.tokenInfo.userAccessAdminAllowToProfessionalData),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,q.P,K.t,O.g,M.O,h.X$,ne.T],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const ks=["vform"];function Ms(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Is=(()=>{class o{data;dialogRef;coreEnumService;coreTokenNotificationService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenNotificationService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.zjJ;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.Ozq),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-notification-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(ks,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,Ms,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$]})}return o})();function Zs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",50),e.qZA()}}function Es(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Rs(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function Ls(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function ys(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function xs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function Us(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ds(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ns(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function qs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Os(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ys(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Js(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function Gs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const Qs=function(o){return{display:o}};function Fs(o,s){if(1&o&&e._UZ(0,"select",57),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,Qs,t.id===i.tableRowSelected.id?"":"none"))}}function Hs(o,s){if(1&o&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,Fs,1,5,"select",56),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Bs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Ps(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function js(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Vs(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function $s(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ks(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Ws(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function zs(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Xs(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function ea(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function ta(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function oa(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function na(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function ia(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function sa(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function aa(o,s){if(1&o&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function la(o,s){1&o&&e._UZ(0,"mat-header-row")}const ra=function(o){return{background:o}};function ca(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,ra,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const da=function(){return[5,10,20,100]};let ua=(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.zjJ;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.zjJ);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Is,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(vs,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.Ozq),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-notification-list"]],decls:98,vars:35,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Zs,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,Es,7,3,"div",19),e.YNc(31,Rs,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,Ls,7,6,"div",19),e.YNc(47,ys,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(48,21),e.TgZ(49,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(50,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(51,23),e.TgZ(52,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(53);return e.KtG(n.onTableSortData(c))}),e.ynx(54,26),e.YNc(55,xs,2,1,"mat-header-cell",27),e.YNc(56,Us,2,1,"mat-cell",28),e.BQk(),e.ynx(57,29),e.YNc(58,Ds,2,1,"mat-header-cell",27),e.YNc(59,Ns,4,5,"mat-cell",28),e.BQk(),e.ynx(60,30),e.YNc(61,qs,2,1,"mat-header-cell",27),e.YNc(62,Os,4,5,"mat-cell",28),e.BQk(),e.ynx(63,31),e.YNc(64,Ys,2,1,"mat-header-cell",27),e.YNc(65,Js,2,1,"mat-cell",28),e.BQk(),e.ynx(66,32),e.YNc(67,Gs,2,1,"mat-header-cell",27),e.YNc(68,Hs,5,7,"mat-cell",33),e.BQk(),e.ynx(69,34),e.YNc(70,Bs,2,1,"mat-header-cell",27),e.YNc(71,Ps,3,4,"mat-cell",28),e.BQk(),e.ynx(72,35),e.YNc(73,js,2,1,"mat-header-cell",27),e.YNc(74,Vs,3,4,"mat-cell",28),e.BQk(),e.ynx(75,36),e.YNc(76,$s,2,1,"mat-header-cell",27),e.YNc(77,Ks,3,3,"mat-cell",28),e.BQk(),e.ynx(78,37),e.YNc(79,Ws,2,1,"mat-header-cell",27),e.YNc(80,zs,3,3,"mat-cell",28),e.BQk(),e.ynx(81,38),e.YNc(82,Xs,2,1,"mat-header-cell",27),e.YNc(83,ea,3,3,"mat-cell",28),e.BQk(),e.ynx(84,39),e.YNc(85,ta,2,1,"mat-header-cell",27),e.YNc(86,oa,2,1,"mat-cell",28),e.BQk(),e.ynx(87,40),e.YNc(88,na,2,1,"mat-header-cell",27),e.YNc(89,ia,2,1,"mat-cell",28),e.BQk(),e.ynx(90,41),e.YNc(91,sa,3,3,"mat-header-cell",42),e.YNc(92,aa,6,1,"mat-cell",43),e.BQk(),e.YNc(93,la,1,0,"mat-header-row",44),e.YNc(94,ca,1,3,"mat-row",45),e.qZA(),e.BQk(),e.ynx(95,46),e.TgZ(96,"mat-paginator",47,48),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,28,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,30,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,32,"ACTION.USER")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,da)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})();const ma=["vform"];function pa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-cms-enum-record-status-selector",7),e.NdJ("modelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.dataModel.recordStatus=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.dataModel.recordStatus)("optionDisabled",!1)("optionLabel",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function fa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",10),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let ha=(()=>{class o{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;publicHelper;cdr;tokenHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenNotificationLogService=l,this.cmsToastrService=a,this.publicHelper=c,this.cdr=g,this.tokenHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id)}formGroup;fieldsInfo=new Map;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.VMP;formInfo=new r.LEF;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(!(this.requestId&&this.requestId.length>0))return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.formInfo.formTitle=this.translate.instant("TITLE.Edit"),this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessAreaTypesResult=t})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe(t=>{this.dataModelEnumManageUserAccessUserTypesResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||0===this.requestId.length)return void this.cmsToastrService.typeErrorEditRowIsNull();this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(r.dR.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.b9F),e.Y36(w.e),e.Y36(k.i),e.Y36(e.sBO),e.Y36(v.v),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(i,n){if(1&i&&e.Gf(ma,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:16,vars:12,consts:[[3,"options"],[1,"card","card-style"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionLoading","optionPlaceholder","optionLoadingChange"],["class","form-actions",4,"ngIf"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e._UZ(0,"app-progress-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4," \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0646\u06cc\u062f "),e.qZA(),e.TgZ(5,"h4"),e._uU(6,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a"),e.qZA(),e.TgZ(7,"h4"),e._uU(8,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0648\u0644\u06cc\u0647"),e.qZA(),e.TgZ(9,"p"),e._uU(10," \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0639\u0645\u0648\u0645\u06cc \u06a9\u0647 \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u06a9\u0627\u0631\u062a \u0634\u0645\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0647 \u0634\u0645\u0627 \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0642\u0637 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0633\u0627\u062e\u062a\u06af\u06cc \u0627\u0633\u062a. "),e.qZA(),e._uU(11),e.YNc(12,pa,1,5,"app-cms-enum-record-status-selector",4),e.TgZ(13,"app-cms-site-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.TgZ(14,"app-cms-user-selector",5),e.NdJ("optionLoadingChange",function(a){return n.loading=a}),e.qZA(),e.YNc(15,fa,5,3,"div",6),e.qZA()()),2&i&&(e.Q6J("options",n.loading),e.xp6(11),e.hij(" ",n.formInfo.formTitle," "),e.xp6(1),e.Q6J("ngIf",null==n.fieldsInfo.recordStatus?null:n.fieldsInfo.recordStatus.accessWatchField),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkSiteId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.WEBSITE")),e.xp6(1),e.Q6J("optionDisabled",!0)("optionSelectForce",n.dataModel.linkUserId)("optionLoading",n.loading)("optionPlaceholder",n.translate.instant("TITLE.USER")),e.xp6(1),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,q.P,K.t,O.g,M.O,h.X$],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:yellow}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:black}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]})}return o})();const ga=["vform"];function _a(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onFormCancel())}),e._UZ(2,"i",11),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ACTION.CANCEL")," "))}let Ta=(()=>{class o{data;dialogRef;coreEnumService;coreTokenNotificationLogService;cmsToastrService;tokenHelper;cdr;publicHelper;translate;requestId="";constructor(t,i,n,l,a,c,g,_,T){this.data=t,this.dialogRef=i,this.coreEnumService=n,this.coreTokenNotificationLogService=l,this.cmsToastrService=a,this.tokenHelper=c,this.cdr=g,this.publicHelper=_,this.translate=T,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),t&&(this.requestId=t.id+"")}formGroup;tokenInfo=new r.OdC;loading=new b.O;dataModelResult=new r.y$4;dataModel=new r.VMP;formInfo=new r.LEF;dataModelEnumSendSmsStatusTypeResult=new r.y$4;fieldsInfo=new Map;fileManagerOpenForm=!1;cmsApiStoreSubscribe;ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),0===this.requestId.length)return this.cmsToastrService.typeErrorComponentAction(),void this.dialogRef.close({dialogChangedDate:!1});this.DataGetOneContent(),this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe(t=>{this.dataModelEnumSendSmsStatusTypeResult=t})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.formInfo.formAlert=this.translate.instant("MESSAGE.Receiving_Information_From_The_Server"),this.formInfo.formError="";const t=this.constructor.name+"main";this.loading.Start(t),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:i=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(i.access),this.dataModel=i.item,i.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+i.item.id,this.formInfo.formAlert=""):(this.formInfo.formAlert=this.translate.instant("ERRORMESSAGE.MESSAGE.typeError"),this.formInfo.formError=i.errorMessage,this.cmsToastrService.typeErrorMessage(i.errorMessage)),this.loading.Stop(t)},error:i=>{this.cmsToastrService.typeError(i),this.loading.Stop(t)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}static \u0275fac=function(i){return new(i||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(r.FLW),e.Y36(r.b9F),e.Y36(w.e),e.Y36(v.v),e.Y36(e.sBO),e.Y36(k.i),e.Y36(h.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(i,n){if(1&i&&e.Gf(ga,5),2&i){let l;e.iGM(l=e.CRH())&&(n.formGroup=l.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body"],[3,"options"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"small",6),e._uU(8),e.qZA(),e.TgZ(9,"small",7),e._uU(10),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,_a,5,3,"div",9),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",n.formInfo.formTitle," "),e.xp6(2),e.Q6J("options",n.loading),e.xp6(1),e.Q6J("dataModel",n.dataModel)("optionMethod",1),e.xp6(4),e.hij("",n.formInfo.formAlert," "),e.xp6(2),e.hij("",n.formInfo.formError," "),e.xp6(2),e.Q6J("ngIf",n.formInfo.formSubmitAllow&&!(null!=n.loading&&n.loading.display)))},dependencies:[p.O5,M.O,Y.v,h.X$],encapsulation:2})}return o})();function Sa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionBackToParent())}),e._UZ(1,"i",50),e.qZA()}}function Ca(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonEditRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"mode_edit"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.EDIT")))}function Aa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonDeleteRow(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete_forever"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.DELETE")))}function ba(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionbuttonViewRow(n.tableRowSelected))}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"ACTION.VIEW")),e.xp6(3),e.Oqu(e.lcZ(6,4,"ACTION.VIEW")))}function wa(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",15)(1,"a",11),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onActionButtonPrintEntity(n.tableRowSelected))}),e.TgZ(2,"mat-icon"),e._uU(3,"print"),e.qZA()(),e.TgZ(4,"p",17),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"ACTION.PRINT")))}function va(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.id?null:t.fieldsInfo.id.fieldTitle," ")}}function ka(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ma(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkSiteId?null:t.fieldsInfo.linkSiteId.fieldTitle," ")}}function Ia(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmssiteinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkSiteId))," ")}}function Za(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkUserId?null:t.fieldsInfo.linkUserId.fieldTitle," ")}}function Ea(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"async"),e.ALo(3,"cmsuserinfo"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.linkUserId))," ")}}function Ra(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.linkMemberUserId?null:t.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function La(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.linkMemberUserId," ")}}function ya(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.recordStatus?null:t.fieldsInfo.recordStatus.fieldTitle," ")}}const xa=function(o){return{display:o}};function Ua(o,s){if(1&o&&e._UZ(0,"select",57),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("contentService",i.contentService)("row",t)("ngStyle",e.VKq(3,xa,t.id===i.tableRowSelected.id?"":"none"))}}function Da(o,s){if(1&o&&(e.TgZ(0,"mat-cell",55),e.ALo(1,"statusCellClass"),e._UZ(2,"i",55),e.ALo(3,"statusIconClass"),e.YNc(4,Ua,1,5,"select",56),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngClass",e.lcZ(1,3,t.recordStatus)),e.xp6(2),e.Q6J("ngClass",e.lcZ(3,5,t.recordStatus)),e.xp6(2),e.Q6J("ngIf",i.dataModelResult.access.accessEditRow)}}function Na(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAreaType?null:t.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function qa(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Oa(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userType?null:t.fieldsInfo.userType.fieldTitle," ")}}function Ya(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"enums"),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Ja(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToAllData?null:t.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ga(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToAllData))}}function Qa(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.userAccessAdminAllowToProfessionalData?null:t.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Fa(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.userAccessAdminAllowToProfessionalData))}}function Ha(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.rememberOnDevice?null:t.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ba(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._UZ(1,"i",55),e.ALo(2,"boolclass"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("ngClass",e.lcZ(2,1,t.rememberOnDevice))}}function Pa(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.createdDate?null:t.fieldsInfo.createdDate.fieldTitle," ")}}function ja(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.createdDate)," ")}}function Va(o,s){if(1&o&&(e.TgZ(0,"mat-header-cell",54),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.fieldsInfo.expireDate?null:t.fieldsInfo.expireDate.fieldTitle," ")}}function $a(o,s){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",i.publicHelper.LocaleDateTime(t.expireDate)," ")}}function Ka(o,s){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TITLE.OPTION")," "))}function Wa(o,s){if(1&o&&(e.TgZ(0,"mat-cell",58)(1,"button",59)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e._UZ(4,"mat-menu",null,60),e.qZA()),2&o){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function za(o,s){1&o&&e._UZ(0,"mat-header-row")}const Xa=function(o){return{background:o}};function el(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onActionTableRowSelect(l))}),e.qZA()}if(2&o){const t=s.$implicit,i=e.oxw();e.Q6J("ngStyle",e.VKq(1,Xa,t.id===i.tableRowSelected.id?"#d3d3da":""))}}const tl=function(){return[5,10,20,100]},ol=[{path:"",component:ot,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:ae,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:re,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:le,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:tt,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Jo,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:jt,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:ua,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:(()=>{class o{contentService;publicHelper;cmsToastrService;cmsConfirmationDialogService;activatedRoute;dialog;tokenHelper;cdr;translate;router;requestLinkSiteId=0;requestLinkUserId=0;requestLinkDeviceId=0;constructor(t,i,n,l,a,c,g,_,T,E){if(this.contentService=t,this.publicHelper=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=l,this.activatedRoute=a,this.dialog=c,this.tokenHelper=g,this.cdr=_,this.translate=T,this.router=E,this.loading.cdr=this.cdr,this.loading.message=this.translate.instant("MESSAGE.Receiving_information"),this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){const d=new r.AO3;d.propertyName="LinkCmsSiteId",d.value=this.requestLinkSiteId,this.filteModelContent.filters.push(d)}if(this.requestLinkUserId>0){const d=new r.AO3;d.propertyName="LinkUserId",d.value=this.requestLinkUserId,this.filteModelContent.filters.push(d)}if(this.requestLinkDeviceId>0){const d=new r.AO3;d.propertyName="LinkDeviceId",d.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(d)}this.optionsSearch.parentMethods={onSubmit:d=>this.onSubmitOptionsSearch(d)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending}comment;author;dataSource;flag=!1;tableContentSelected=[];filteModelContent=new r.Hay;dataModelResult=new r.y$4;optionsSearch=new L.dj;optionsStatist=new U.TV;tokenInfo=new r.OdC;loading=new b.O;tableRowsSelected=[];tableRowSelected=new r.VMP;tableSource=new u.by;tabledisplayedColumns=[];tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"];fieldsInfo=new Map;dataModelEnumManageUserAccessAreaTypesResult=new r.y$4;dataModelEnumManageUserAccessUserTypesResult=new r.y$4;expandedElement;cmsApiStoreSubscribe;ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=r.oYR.Descending,this.tokenHelper.getCurrentToken().then(t=>{this.tokenInfo=t,this.DataGetAll()}),this.cmsApiStoreSubscribe=this.tokenHelper.getCurrentTokenOnChange().subscribe(t=>{this.tokenInfo=t,this.DataGetAll()}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TabledisplayedColumnsCheckByAllDataAccess(this.tabledisplayedColumnsSource,["Id"],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new r.VMP);const t=this.constructor.name+"main";this.loading.Start(t,this.translate.instant("MESSAGE.get_information_list")),this.filteModelContent.accessLoad=!0;const i=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(i).subscribe({next:n=>{n.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModelResult=n,this.tableSource.data=n.listItems,this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(n.access)):this.cmsToastrService.typeErrorMessage(n.errorMessage),this.loading.Stop(t)},error:n=>{this.cmsToastrService.typeError(n),this.loading.Stop(t)}})}onTableSortData(t){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===t.active?"asc"===this.tableSource.sort.start?(t.start="desc",this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending):"desc"===this.tableSource.sort.start?(t.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=r.oYR.Ascending):t.start="desc":(this.filteModelContent.sortColumn=t.active,this.filteModelContent.sortType=r.oYR.Descending),this.tableSource.sort=t,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(t){this.filteModelContent.currentPageNumber=t.pageIndex+1,this.filteModelContent.rowPerPage=t.pageSize,this.DataGetAll()}onActionbuttonViewRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessWatchRow?this.dialog.open(Ta,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonEditRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(ha,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(l=>{l&&l.dialogChangedDate&&this.DataGetAll()}):this.cmsToastrService.typeErrorAccessEdit()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonDeleteRow(t=this.tableRowSelected){if(!t||!t.id||0===t.id.length){const l=this.translate.instant("MESSAGE.no_row_selected_to_delete");return void this.cmsToastrService.typeErrorSelected(l)}if(this.onActionTableRowSelect(t),null==this.dataModelResult||null==this.dataModelResult.access||!this.dataModelResult.access.accessDeleteRow)return void this.cmsToastrService.typeErrorAccessDelete();const i=this.translate.instant("MESSAGE.Please_Confirm"),n=this.translate.instant("MESSAGE.Do_you_want_to_delete_this_content")+"?<br> ( "+this.tableRowSelected.id+" ) ";this.cmsConfirmationDialogService.confirm(i,n).then(l=>{if(l){const a=this.constructor.name+"main";this.loading.Start(a),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.loading.Stop(a)},error:c=>{this.cmsToastrService.typeError(c),this.loading.Stop(a)}})}}).catch(()=>{})}onActionbuttonStatist(){if(this.optionsStatist.data.show=!this.optionsStatist.data.show,!this.optionsStatist.data.show)return;const t=new Map;t.set(this.translate.instant("MESSAGE.Active"),0),t.set(this.translate.instant("MESSAGE.All"),0);const i=this.constructor.name+".ServiceStatist";this.loading.Start(i,this.translate.instant("MESSAGE.Get_the_statist")),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.All"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}});const n=JSON.parse(JSON.stringify(this.filteModelContent)),l=new r.AO3;l.propertyName="RecordStatus",l.value=r.Anr.Available,n.filters.push(l),this.contentService.ServiceGetCount(n).subscribe({next:a=>{a.isSuccess?(t.set(this.translate.instant("MESSAGE.Active"),a.totalRowCount),this.optionsStatist.childMethods.setStatistValue(t)):this.cmsToastrService.typeErrorMessage(a.errorMessage),this.loading.Stop(i)},error:a=>{this.cmsToastrService.typeError(a),this.loading.Stop(i)}})}onActionbuttonViewUserRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkUserId&&0!==this.tableRowSelected.linkUserId?this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonViewSiteRow(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),this.tableRowSelected.linkSiteId&&0!==this.tableRowSelected.linkSiteId?this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId]):this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"))):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonExport(){this.dialog.open(N.Z,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,filterModel:this.filteModelContent,title:""}}).afterClosed().subscribe(n=>{})}onActionButtonPrintEntity(t=this.tableRowSelected){t&&t.id&&0!==t.id.length?(this.onActionTableRowSelect(t),null!=this.dataModelResult&&null!=this.dataModelResult.access&&this.dataModelResult.access.accessEditRow?this.dialog.open(D.r,{height:"50%",width:"50%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:m.N.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:m.N.cmsViewConfig.exitAnimationDuration,data:{service:this.contentService,id:this.tableRowSelected.id,title:""}}).afterClosed().subscribe(l=>{}):this.cmsToastrService.typeErrorAccessWatch()):this.cmsToastrService.typeErrorSelectedRow()}onActionbuttonReload(){this.DataGetAll()}onSubmitOptionsSearch(t){this.filteModelContent.filters=t,this.DataGetAll()}onActionTableRowSelect(t){this.tableRowSelected=t,t.expanded||(t.expanded=!1),t.expanded=!t.expanded}onActionBackToParent(){this.router.navigate(["/core/site/"])}static \u0275fac=function(i){return new(i||o)(e.Y36(r.b9F),e.Y36(k.i),e.Y36(w.e),e.Y36(y.s),e.Y36(A.gz),e.Y36(C.uw),e.Y36(v.v),e.Y36(e.sBO),e.Y36(h.sK),e.Y36(A.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-coretoken-notificationlog-list"]],decls:98,vars:35,consts:[[3,"optionLoading","optionTreeDisplay","optionActionRowDisplay","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"justify-content-end"],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight"],[1,"custom-slide-toggle",3,"ngModel","ngModelChange"],[3,"click"],[1,"justify-content-start"],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-rotate-right","font-22",2,"color","#ffffff"],["cms-action",""],[1,"row","text-center"],[1,"col-4"],[1,"fa-solid","fa-cloud-arrow-down","font-22",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],["cms-action-row",""],["class","col-4",4,"ngIf"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["cms-action-area",""],[3,"options","optionsChange"],["cms-body",""],["matSort","",3,"dataSource","matSortChange"],["tableSort","matSort"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ngStyle","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["paginator",""],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-22",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["mat-icon-button","","aria-label","Action Menu",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"matMenuTriggerFor"],["actionMenu","matMenu"],[3,"ngStyle","click"]],template:function(i,n){if(1&i){const l=e.EpF();e.TgZ(0,"app-cms-html-list",0),e.ynx(1,1),e._uU(2," -------------------------------------- "),e.BQk(),e.GkF(3,2),e.ynx(4,3),e.TgZ(5,"div",4)(6,"div",5)(7,"a",6)(8,"mat-slide-toggle",7),e.NdJ("ngModelChange",function(c){return n.optionsSearch.data.show=c}),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",6)(12,"mat-slide-toggle",8),e.NdJ("click",function(){return n.onActionbuttonStatist()}),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,Sa,2,0,"a",10),e.TgZ(17,"a",11),e.NdJ("click",function(){return n.onActionbuttonReload()}),e._UZ(18,"i",12),e.qZA()()(),e.BQk(),e.ynx(19,13),e.TgZ(20,"div",14)(21,"div",15)(22,"a",11),e.NdJ("click",function(){return n.onActionbuttonExport()}),e._UZ(23,"i",16)(24,"br"),e.qZA(),e.TgZ(25,"p",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.BQk(),e.ynx(28,18),e.TgZ(29,"div",14),e.YNc(30,Ca,7,3,"div",19),e.YNc(31,Aa,7,3,"div",19),e.TgZ(32,"div",15)(33,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewSiteRow(n.tableRowSelected)}),e.TgZ(34,"mat-icon"),e._uU(35,"web"),e.qZA()(),e.TgZ(36,"p",17),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",15)(40,"a",20),e.NdJ("click",function(){return n.onActionbuttonViewUserRow(n.tableRowSelected)}),e.TgZ(41,"mat-icon"),e._uU(42,"supervisor_account"),e.qZA()(),e.TgZ(43,"p",17),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,ba,7,6,"div",19),e.YNc(47,wa,7,3,"div",19),e.qZA(),e.BQk(),e.ynx(48,21),e.TgZ(49,"app-cms-search-list",22),e.NdJ("optionsChange",function(c){return n.optionsSearch=c}),e.qZA(),e.TgZ(50,"app-cms-statist-list",22),e.NdJ("optionsChange",function(c){return n.optionsStatist=c}),e.qZA(),e.BQk(),e.ynx(51,23),e.TgZ(52,"mat-table",24,25),e.NdJ("matSortChange",function(){e.CHM(l);const c=e.MAs(53);return e.KtG(n.onTableSortData(c))}),e.ynx(54,26),e.YNc(55,va,2,1,"mat-header-cell",27),e.YNc(56,ka,2,1,"mat-cell",28),e.BQk(),e.ynx(57,29),e.YNc(58,Ma,2,1,"mat-header-cell",27),e.YNc(59,Ia,4,5,"mat-cell",28),e.BQk(),e.ynx(60,30),e.YNc(61,Za,2,1,"mat-header-cell",27),e.YNc(62,Ea,4,5,"mat-cell",28),e.BQk(),e.ynx(63,31),e.YNc(64,Ra,2,1,"mat-header-cell",27),e.YNc(65,La,2,1,"mat-cell",28),e.BQk(),e.ynx(66,32),e.YNc(67,ya,2,1,"mat-header-cell",27),e.YNc(68,Da,5,7,"mat-cell",33),e.BQk(),e.ynx(69,34),e.YNc(70,Na,2,1,"mat-header-cell",27),e.YNc(71,qa,3,4,"mat-cell",28),e.BQk(),e.ynx(72,35),e.YNc(73,Oa,2,1,"mat-header-cell",27),e.YNc(74,Ya,3,4,"mat-cell",28),e.BQk(),e.ynx(75,36),e.YNc(76,Ja,2,1,"mat-header-cell",27),e.YNc(77,Ga,3,3,"mat-cell",28),e.BQk(),e.ynx(78,37),e.YNc(79,Qa,2,1,"mat-header-cell",27),e.YNc(80,Fa,3,3,"mat-cell",28),e.BQk(),e.ynx(81,38),e.YNc(82,Ha,2,1,"mat-header-cell",27),e.YNc(83,Ba,3,3,"mat-cell",28),e.BQk(),e.ynx(84,39),e.YNc(85,Pa,2,1,"mat-header-cell",27),e.YNc(86,ja,2,1,"mat-cell",28),e.BQk(),e.ynx(87,40),e.YNc(88,Va,2,1,"mat-header-cell",27),e.YNc(89,$a,2,1,"mat-cell",28),e.BQk(),e.ynx(90,41),e.YNc(91,Ka,3,3,"mat-header-cell",42),e.YNc(92,Wa,6,1,"mat-cell",43),e.BQk(),e.YNc(93,za,1,0,"mat-header-row",44),e.YNc(94,el,1,3,"mat-row",45),e.qZA(),e.BQk(),e.ynx(95,46),e.TgZ(96,"mat-paginator",47,48),e.NdJ("page",function(c){return n.onTablePageingData(c)}),e.qZA(),e.BQk(),e.qZA()}2&i&&(e.Q6J("optionLoading",n.loading)("optionTreeDisplay",!1)("optionActionRowDisplay",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0)("optionSelectRowItemTitle",null==n.tableRowSelected?null:n.tableRowSelected.id),e.xp6(8),e.Q6J("ngModel",n.optionsSearch.data.show),e.xp6(1),e.hij("",e.lcZ(10,24,"ACTION.SEARCH")," "),e.xp6(4),e.hij("",e.lcZ(14,26,"ACTION.STATIST")," "),e.xp6(3),e.Q6J("ngIf",n.requestLinkSiteId>0),e.xp6(10),e.Oqu(e.lcZ(27,28,"ACTION.EXPORTFILE")),e.xp6(4),e.Q6J("ngIf",n.dataModelResult.access.accessEditRow),e.xp6(1),e.Q6J("ngIf",n.dataModelResult.access.accessDeleteRow),e.xp6(6),e.Oqu(e.lcZ(38,30,"ACTION.SITE")),e.xp6(7),e.Oqu(e.lcZ(45,32,"ACTION.USER")),e.xp6(2),e.Q6J("ngIf",n.dataModelResult.access.accessWatchRow&&(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(1),e.Q6J("ngIf",(null==n.tableRowSelected||null==n.tableRowSelected.id?null:n.tableRowSelected.id.length)>0),e.xp6(2),e.Q6J("options",n.optionsSearch),e.xp6(1),e.Q6J("options",n.optionsStatist),e.xp6(2),e.Q6J("dataSource",n.tableSource),e.xp6(41),e.Q6J("matHeaderRowDef",n.tabledisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.tabledisplayedColumns),e.xp6(2),e.Q6J("length",n.dataModelResult.totalRowCount)("pageIndex",n.dataModelResult.currentPageNumber-1)("pageSize",n.dataModelResult.rowPerPage)("pageSizeOptions",e.DdM(34,tl)))},dependencies:[p.mk,p.O5,p.PC,S.JJ,S.On,J.RK,G.Hw,x.Nt,I.VK,I.p6,Q.NW,F.Rr,Z.YE,Z.nU,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,H.y,B.q,P.Z,z.G,p.Ov,h.X$,j.B,V.J,$.Y,X.G,ee.Y,W.r],encapsulation:2})}return o})(),data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}];let nl=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[A.Bz.forChild(ol),A.Bz]})}return o})(),il=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({providers:[r.EAm,r.FLW,r.O0p,r.AMA,r.Q0Y,r.x6v,r.mPJ,r.qOP,r.Ozq,r.b9F,r.k$Z,y.s],imports:[nl,p.ez,S.u5,S.UX.withConfig({warnOnNgModelWithFormControl:"never"}),oe.m.forRoot()]})}return o})()},9654:(de,se,f)=>{f.d(se,{B:()=>S});var p=f(4537);let S=(()=>{class r{transform(oe,A){if(!A||0===A.length)return"";const u=A.find(L=>L.key===oe||L.value===oe);return u?u.description:""}static \u0275fac=function(A){return new(A||r)};static \u0275pipe=p.Yjl({name:"enums",type:r,pure:!0})}return r})()}}]);