import{a as it}from"./chunk-QB7LBCOE.js";import{a as tt}from"./chunk-TGCVEYGO.js";import{a as he}from"./chunk-DTNMVCWS.js";import{$a as vi,Ad as $e,Cc as dt,Dd as et,F as ni,G as oi,H as ri,Id as Ui,La as $,Ma as ee,Na as we,Nc as ze,O as yi,Oc as Je,P as Ri,Rc as ut,Sc as mt,Ta as be,Tc as pt,Ub as xe,Vb as De,Wa as ue,Wb as Le,Xb as Ue,Yb as Ve,Zb as Be,_a as Ti,aa as ai,ab as Ii,bd as at,da as gi,ec as Oe,fc as Ne,gc as Pe,hc as Ge,hd as Ke,ic as He,jc as Fe,kc as je,kd as Xe,lc as We,mc as qe,nb as j,nc as Qe,o as Ci,p as ei,pb as rt,pd as si,s as ti,sa as Ie,sb as ye,t as Mi,tb as W,td as Ye,v as Ei,vb as ie,x as ii,xd as Ze,y as ki,yb as Re}from"./chunk-BSXRQ6ZA.js";import{b as P,c as G,p as F}from"./chunk-NDJTZFUW.js";import{Cd as ht,Db as X,Dc as ct,Dd as D,Eb as Y,Fb as Z,Fc as ge,Ge as ke,Ha as ft,Hd as q,Ib as J,Id as Ee,Ie as St,Jd as te,Je as _t,Jf as bt,Kb as m,Ke as Ct,Kf as At,La as a,Lb as L,Lc as Ai,Le as gt,Lf as Mt,Ma as S,Mb as h,Me as Tt,Mf as Et,Nb as Zt,Ne as vt,Nf as kt,Of as yt,Pe as It,Pf as Rt,Qb as y,Qd as z,Qe as wt,Qf as xt,Rb as R,Sb as x,Ud as Di,Vb as _e,Wb as lt,Yb as g,Za as K,Zb as v,_b as re,ab as I,cb as p,ce as Li,da as Si,dq as Q,eb as Se,fd as Te,gc as O,gd as xi,hd as ve,ja as B,ka as _i,kd as bi,lb as l,mb as s,nb as T,ob as w,pb as b,qb as oe,ra as _,rb as M,sa as C,td as Ae,ub as A,vd as H,wb as u,xc as ot,yc as $t,zc as N,zd as Me}from"./chunk-MZU3HVU4.js";var ln=["vform"];function cn(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function dn(t,r){if(t&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Vi=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new bt,U,V),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenActivationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.translate=V,this.publicHelper=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new bt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.setAccessDataType(Me.Editor),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(St),S(j),S(F),S(O),S(P),S(W))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(ln,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,cn,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),I(13,dn,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ze,at,et,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var mn=["vform"];function pn(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Bi=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenActivationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new bt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenActivationService.setAccessLoad(),this.coreTokenActivationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(St),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(mn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,pn,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var fn=()=>[5,10,20,100],un=t=>({display:t});function hn(t,r){if(t&1){let o=M();l(0,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",50),s()}}function Sn(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function _n(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function Cn(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function gn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Tn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function vn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function In(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function wn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function bn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function An(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Mn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function En(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function kn(t,r){if(t&1&&T(0,"select",60),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,un,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function yn(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),T(2,"i",58),g(3,"statusIconClass"),I(4,kn,1,5,"select",59),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Rn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function xn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Dn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Ln(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Un(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Vn(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Bn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function On(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Nn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Pn(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function Gn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Hn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Fn(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function jn(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function Wn(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function qn(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function Qn(t,r){t&1&&T(0,"mat-header-row")}function zn(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Oi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new bt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new bt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Bi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Vi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(St),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,hn,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,Sn,7,3,"div",17)(23,_n,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20),s(),l(27,"p",21),m(28),g(29,"translate"),s()(),l(30,"div",18)(31,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(32,"i",22)(33,"br"),s(),l(34,"p",21),m(35),g(36,"translate"),s()(),I(37,Cn,7,3,"div",17),b(),w(38,23),l(39,"app-cms-search-list",24),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(40,"app-cms-statist-list",24),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(41,25),l(42,"mat-table",26,0),A("matSortChange",function(){_(d);let c=J(43);return C(e.onTableSortData(c))}),w(44,27),I(45,gn,2,1,"mat-header-cell",28)(46,Tn,2,1,"mat-cell",29),b(),w(47,30),I(48,vn,2,1,"mat-header-cell",28)(49,In,4,5,"mat-cell",29),b(),w(50,31),I(51,wn,2,1,"mat-header-cell",28)(52,bn,4,5,"mat-cell",29),b(),w(53,32),I(54,An,2,1,"mat-header-cell",28)(55,Mn,2,1,"mat-cell",29),b(),w(56,33),I(57,En,2,1,"mat-header-cell",28)(58,yn,5,7,"mat-cell",34),b(),w(59,35),I(60,Rn,2,1,"mat-header-cell",28)(61,xn,3,4,"mat-cell",29),b(),w(62,36),I(63,Dn,2,1,"mat-header-cell",28)(64,Ln,3,4,"mat-cell",29),b(),w(65,37),I(66,Un,2,1,"mat-header-cell",28)(67,Vn,3,3,"mat-cell",29),b(),w(68,38),I(69,Bn,2,1,"mat-header-cell",28)(70,On,3,3,"mat-cell",29),b(),w(71,39),I(72,Nn,2,1,"mat-header-cell",28)(73,Pn,3,3,"mat-cell",29),b(),w(74,40),I(75,Gn,2,1,"mat-header-cell",28)(76,Hn,2,1,"mat-cell",29),b(),w(77,41),I(78,Fn,2,1,"mat-header-cell",28)(79,jn,2,1,"mat-cell",29),b(),w(80,42),I(81,Wn,3,3,"mat-header-cell",43)(82,qn,6,1,"mat-cell",44),b(),I(83,Qn,1,0,"mat-header-row",45)(84,zn,1,6,"mat-row",46),s(),b(),w(85,47),l(86,"mat-paginator",48,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,26,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(5),L(v(29,30,"ACTION.SITE")),a(7),L(v(36,32,"ACTION.USER")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,fn)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var Ni=(()=>{let r=class r{constructor(){this.constructorInfoAreaId=this.constructor.name}ngOnInit(){}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=B({type:r,selectors:[["app-core-token"]],decls:1,vars:0,template:function(n,e){n&1&&T(0,"router-outlet")},dependencies:[xi],encapsulation:2});let t=r;return t})();var Jn=["vform"];function Kn(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Xn(t,r){if(t&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Pi=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new yt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=f,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.setAccessDataType(Me.Editor),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(vt),S(j),S(W),S(O),S(F),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservicelog-edit"]],viewQuery:function(n,e){if(n&1&&X(Jn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,Kn,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),I(13,Xn,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ze,at,et,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Yn=["vform"];function Zn(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Gi=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceLogService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new yt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceLogService.setAccessLoad(),this.coreTokenMicroServiceLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(vt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-token-microservicelog-view"]],viewQuery:function(n,e){if(n&1&&X(Yn,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Zn,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G],encapsulation:2});let t=r;return t})();var $n=()=>[5,10,20,100],eo=t=>({display:t});function to(t,r){if(t&1){let o=M();l(0,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",50),s()}}function io(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function no(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function oo(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function ro(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ao(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function so(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function lo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function co(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function mo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function po(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function fo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function uo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ho(t,r){if(t&1&&T(0,"select",60),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,eo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function So(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),T(2,"i",58),g(3,"statusIconClass"),I(4,ho,1,5,"select",59),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function _o(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Co(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function go(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function To(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function vo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Io(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function wo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function bo(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Ao(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Mo(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function Eo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ko(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function yo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Ro(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function xo(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Do(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function Lo(t,r){t&1&&T(0,"mat-header-row")}function Uo(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Hi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new yt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new yt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Gi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Pi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(vt),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservicelog-list"]],features:[K],decls:85,vars:31,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,to,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),b(),oe(16,15),w(17,16),I(18,io,7,3,"div",17)(19,no,7,3,"div",17),l(20,"div",18)(21,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(22,"i",20)(23,"br"),s(),l(24,"p",21),m(25),g(26,"translate"),s()(),l(27,"div",18)(28,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(29,"i",22)(30,"br"),s(),l(31,"p",21),m(32),g(33,"translate"),s()(),I(34,oo,7,3,"div",17),b(),w(35,23),l(36,"app-cms-search-list",24),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(37,"app-cms-statist-list",24),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(38,25),l(39,"mat-table",26,0),A("matSortChange",function(){_(d);let c=J(40);return C(e.onTableSortData(c))}),w(41,27),I(42,ro,2,1,"mat-header-cell",28)(43,ao,2,1,"mat-cell",29),b(),w(44,30),I(45,so,2,1,"mat-header-cell",28)(46,lo,4,5,"mat-cell",29),b(),w(47,31),I(48,co,2,1,"mat-header-cell",28)(49,mo,4,5,"mat-cell",29),b(),w(50,32),I(51,po,2,1,"mat-header-cell",28)(52,fo,2,1,"mat-cell",29),b(),w(53,33),I(54,uo,2,1,"mat-header-cell",28)(55,So,5,7,"mat-cell",34),b(),w(56,35),I(57,_o,2,1,"mat-header-cell",28)(58,Co,3,4,"mat-cell",29),b(),w(59,36),I(60,go,2,1,"mat-header-cell",28)(61,To,3,4,"mat-cell",29),b(),w(62,37),I(63,vo,2,1,"mat-header-cell",28)(64,Io,3,3,"mat-cell",29),b(),w(65,38),I(66,wo,2,1,"mat-header-cell",28)(67,bo,3,3,"mat-cell",29),b(),w(68,39),I(69,Ao,2,1,"mat-header-cell",28)(70,Mo,3,3,"mat-cell",29),b(),w(71,40),I(72,Eo,2,1,"mat-header-cell",28)(73,ko,2,1,"mat-cell",29),b(),w(74,41),I(75,yo,2,1,"mat-header-cell",28)(76,Ro,2,1,"mat-cell",29),b(),w(77,42),I(78,xo,3,3,"mat-header-cell",43)(79,Do,6,1,"mat-cell",44),b(),I(80,Lo,1,0,"mat-header-row",45)(81,Uo,1,6,"mat-row",46),s(),b(),w(82,47),l(83,"mat-paginator",48,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,24,"ACTION.SEARCH")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(26,26,"ACTION.SITE")),a(7),L(v(33,28,"ACTION.USER")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(30,$n)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var Vo=["vform"];function Bo(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Oo(t,r){if(t&1&&(l(0,"div"),T(1,"div",9),g(2,"prettyjson"),s()),t&2){let o=u();a(),p("innerHTML",v(2,1,o.dataModel),ft)}}function No(t,r){if(t&1){let o=M();l(0,"div",10)(1,"button",11),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",12),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Fi=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new kt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.setAccessDataType(Me.Editor),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(Tt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-edit"]],viewQuery:function(n,e){if(n&1&&X(Vo,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,Bo,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),I(13,Oo,3,3,"div",6)(14,No,5,3,"div",7),s()()),n&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),a(2),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ze,at,et,ie,G,ut],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Po=["vform"];function Go(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var ji=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenMicroServiceService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new kt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenMicroServiceService.setAccessLoad(),this.coreTokenMicroServiceService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(Tt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-view"]],viewQuery:function(n,e){if(n&1&&X(Po,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Go,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var Ho=()=>[5,10,20,100],Fo=t=>({display:t});function jo(t,r){if(t&1){let o=M();l(0,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",50),s()}}function Wo(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function qo(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function Qo(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function zo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Jo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function Ko(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Yo(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Zo(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function $o(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function er(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function tr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ir(t,r){if(t&1&&T(0,"select",60),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,Fo,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function nr(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),T(2,"i",58),g(3,"statusIconClass"),I(4,ir,1,5,"select",59),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function or(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function rr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ar(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function sr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function lr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function cr(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function dr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function mr(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function pr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function fr(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function ur(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function hr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Sr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function _r(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function Cr(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function gr(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function Tr(t,r){t&1&&T(0,"mat-header-row")}function vr(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Wi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new kt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){}getEnumManageUserAccessUserTypes(){}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new kt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Fi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(Tt),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-microservice-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,jo,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,Wo,7,3,"div",17)(23,qo,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),g(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),g(37,"translate"),s()(),I(38,Qo,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){_(d);let c=J(44);return C(e.onTableSortData(c))}),w(45,27),I(46,zo,2,1,"mat-header-cell",28)(47,Jo,2,1,"mat-cell",29),b(),w(48,30),I(49,Ko,2,1,"mat-header-cell",28)(50,Xo,4,5,"mat-cell",29),b(),w(51,31),I(52,Yo,2,1,"mat-header-cell",28)(53,Zo,4,5,"mat-cell",29),b(),w(54,32),I(55,$o,2,1,"mat-header-cell",28)(56,er,2,1,"mat-cell",29),b(),w(57,33),I(58,tr,2,1,"mat-header-cell",28)(59,nr,5,7,"mat-cell",34),b(),w(60,35),I(61,or,2,1,"mat-header-cell",28)(62,rr,3,4,"mat-cell",29),b(),w(63,36),I(64,ar,2,1,"mat-header-cell",28)(65,sr,3,4,"mat-cell",29),b(),w(66,37),I(67,lr,2,1,"mat-header-cell",28)(68,cr,3,3,"mat-cell",29),b(),w(69,38),I(70,dr,2,1,"mat-header-cell",28)(71,mr,3,3,"mat-cell",29),b(),w(72,39),I(73,pr,2,1,"mat-header-cell",28)(74,fr,3,3,"mat-cell",29),b(),w(75,40),I(76,ur,2,1,"mat-header-cell",28)(77,hr,2,1,"mat-cell",29),b(),w(78,41),I(79,Sr,2,1,"mat-header-cell",28)(80,_r,2,1,"mat-cell",29),b(),w(81,42),I(82,Cr,3,3,"mat-header-cell",43)(83,gr,6,1,"mat-cell",44),b(),I(84,Tr,1,0,"mat-header-row",45)(85,vr,1,6,"mat-row",46),s(),b(),w(86,47),l(87,"mat-paginator",48,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,26,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(30,30,"ACTION.SITE")),a(7),L(v(37,32,"ACTION.USER")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,Ho)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var Ir=["vform"];function wr(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",7),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function br(t,r){if(t&1){let o=M();l(0,"div",8)(1,"button",9),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",10),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var qi=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new xt,c,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationLogService=d,this.cmsToastrService=f,this.publicHelper=c,this.cdr=k,this.tokenHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.setAccessDataType(Me.Editor),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(wt),S(j),S(W),S(O),S(F),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notificationlog-edit"]],viewQuery:function(n,e){if(n&1&&X(Ir,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:14,vars:17,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,wr,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),I(13,br,5,3,"div",6),s()()),n&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,11,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(10,13,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(12,15,"TITLE.USER")),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ze,at,et,ie,G],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Ar=["vform"];function Mr(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Qi=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationLogService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new xt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationLogService.setAccessLoad(),this.coreTokenNotificationLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(wt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-token-notificationlog-view"]],viewQuery:function(n,e){if(n&1&&X(Ar,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Mr,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G],encapsulation:2});let t=r;return t})();var Er=()=>[5,10,20,100],kr=t=>({display:t});function yr(t,r){if(t&1){let o=M();l(0,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",50),s()}}function Rr(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function xr(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function Dr(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function Lr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ur(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function Vr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Br(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Or(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Nr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Pr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Gr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function Hr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function Fr(t,r){if(t&1&&T(0,"select",60),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,kr,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function jr(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),T(2,"i",58),g(3,"statusIconClass"),I(4,Fr,1,5,"select",59),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Wr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function qr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function Qr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function zr(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Jr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Kr(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Xr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Yr(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Zr(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function $r(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function ea(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function ta(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ia(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function na(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function oa(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function ra(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function aa(t,r){t&1&&T(0,"mat-header-row")}function sa(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var zi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new xt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new xt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(qi,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(wt),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notificationlog-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,yr,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,Rr,7,3,"div",17)(23,xr,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),g(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),g(37,"translate"),s()(),I(38,Dr,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){_(d);let c=J(44);return C(e.onTableSortData(c))}),w(45,27),I(46,Lr,2,1,"mat-header-cell",28)(47,Ur,2,1,"mat-cell",29),b(),w(48,30),I(49,Vr,2,1,"mat-header-cell",28)(50,Br,4,5,"mat-cell",29),b(),w(51,31),I(52,Or,2,1,"mat-header-cell",28)(53,Nr,4,5,"mat-cell",29),b(),w(54,32),I(55,Pr,2,1,"mat-header-cell",28)(56,Gr,2,1,"mat-cell",29),b(),w(57,33),I(58,Hr,2,1,"mat-header-cell",28)(59,jr,5,7,"mat-cell",34),b(),w(60,35),I(61,Wr,2,1,"mat-header-cell",28)(62,qr,3,4,"mat-cell",29),b(),w(63,36),I(64,Qr,2,1,"mat-header-cell",28)(65,zr,3,4,"mat-cell",29),b(),w(66,37),I(67,Jr,2,1,"mat-header-cell",28)(68,Kr,3,3,"mat-cell",29),b(),w(69,38),I(70,Xr,2,1,"mat-header-cell",28)(71,Yr,3,3,"mat-cell",29),b(),w(72,39),I(73,Zr,2,1,"mat-header-cell",28)(74,$r,3,3,"mat-cell",29),b(),w(75,40),I(76,ea,2,1,"mat-header-cell",28)(77,ta,2,1,"mat-cell",29),b(),w(78,41),I(79,ia,2,1,"mat-header-cell",28)(80,na,2,1,"mat-cell",29),b(),w(81,42),I(82,oa,3,3,"mat-header-cell",43)(83,ra,6,1,"mat-cell",44),b(),I(84,aa,1,0,"mat-header-row",45)(85,sa,1,6,"mat-row",46),s(),b(),w(86,47),l(87,"mat-paginator",48,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,26,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(30,30,"ACTION.SITE")),a(7),L(v(37,32,"ACTION.USER")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,Er)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var la=["vform"];function ca(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",8),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function da(t,r){if(t&1&&(l(0,"div"),T(1,"div",9),g(2,"prettyjson"),s()),t&2){let o=u();a(),p("innerHTML",v(2,1,o.dataModel),ft)}}function ma(t,r){if(t&1){let o=M();l(0,"div",10)(1,"button",11),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",12),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Ji=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new Rt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.setAccessDataType(Me.Editor),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(It),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-edit"]],viewQuery:function(n,e){if(n&1&&X(la,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:15,vars:18,consts:[[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],[4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),T(1,"app-progress-spinner",1),l(2,"div",2)(3,"p",3),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,ca,1,5,"app-cms-enum-record-status-selector",4),T(9,"app-cms-site-selector",5),g(10,"translate"),T(11,"app-cms-user-selector",5),g(12,"translate"),I(13,da,3,3,"div",6)(14,ma,5,3,"div",7),s()()),n&2&&(a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,12,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(10,14,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(12,16,"TITLE.USER")),a(2),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,Ze,at,et,ie,G,ut],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var pa=["vform"];function fa(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var Ki=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenNotificationService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new Rt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenNotificationService.setAccessLoad(),this.coreTokenNotificationService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(It),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-view"]],viewQuery:function(n,e){if(n&1&&X(pa,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,fa,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var ua=()=>[5,10,20,100],ha=t=>({display:t});function Sa(t,r){if(t&1){let o=M();l(0,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",50),s()}}function _a(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function Ca(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function ga(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function Ta(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function va(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function Ia(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function wa(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function ba(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Aa(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Ma(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function Ea(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function ka(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function ya(t,r){if(t&1&&T(0,"select",60),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,ha,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ra(t,r){if(t&1&&(l(0,"mat-cell",58),g(1,"statusCellClass"),T(2,"i",58),g(3,"statusIconClass"),I(4,ya,1,5,"select",59),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function xa(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function Da(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function La(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Ua(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function Va(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ba(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Oa(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Na(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Pa(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Ga(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",58),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function Ha(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Fa(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function ja(t,r){if(t&1&&(l(0,"mat-header-cell",57),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.expireDate==null?null:o.fieldsInfo.expireDate.fieldTitle," ")}}function Wa(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.expireDate)," ")}}function qa(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Qa(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function za(t,r){t&1&&T(0,"mat-header-row")}function Ja(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var Xi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new Rt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberUserId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","ExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Rt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ki,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(Ji,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(It),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-notification-list"]],features:[K],decls:89,vars:35,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","ExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,Sa,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,_a,7,3,"div",17)(23,Ca,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),g(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),g(37,"translate"),s()(),I(38,ga,7,3,"div",17),b(),w(39,23),l(40,"app-cms-search-list",24),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(41,"app-cms-statist-list",24),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(42,25),l(43,"mat-table",26,0),A("matSortChange",function(){_(d);let c=J(44);return C(e.onTableSortData(c))}),w(45,27),I(46,Ta,2,1,"mat-header-cell",28)(47,va,2,1,"mat-cell",29),b(),w(48,30),I(49,Ia,2,1,"mat-header-cell",28)(50,wa,4,5,"mat-cell",29),b(),w(51,31),I(52,ba,2,1,"mat-header-cell",28)(53,Aa,4,5,"mat-cell",29),b(),w(54,32),I(55,Ma,2,1,"mat-header-cell",28)(56,Ea,2,1,"mat-cell",29),b(),w(57,33),I(58,ka,2,1,"mat-header-cell",28)(59,Ra,5,7,"mat-cell",34),b(),w(60,35),I(61,xa,2,1,"mat-header-cell",28)(62,Da,3,4,"mat-cell",29),b(),w(63,36),I(64,La,2,1,"mat-header-cell",28)(65,Ua,3,4,"mat-cell",29),b(),w(66,37),I(67,Va,2,1,"mat-header-cell",28)(68,Ba,3,3,"mat-cell",29),b(),w(69,38),I(70,Oa,2,1,"mat-header-cell",28)(71,Na,3,3,"mat-cell",29),b(),w(72,39),I(73,Pa,2,1,"mat-header-cell",28)(74,Ga,3,3,"mat-cell",29),b(),w(75,40),I(76,Ha,2,1,"mat-header-cell",28)(77,Fa,2,1,"mat-cell",29),b(),w(78,41),I(79,ja,2,1,"mat-header-cell",28)(80,Wa,2,1,"mat-cell",29),b(),w(81,42),I(82,qa,3,3,"mat-header-cell",43)(83,Qa,6,1,"mat-cell",44),b(),I(84,za,1,0,"mat-header-row",45)(85,Ja,1,6,"mat-row",46),s(),b(),w(86,47),l(87,"mat-paginator",48,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,26,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,28,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(30,30,"ACTION.SITE")),a(7),L(v(37,32,"ACTION.USER")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(34,ua)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var Xa=["vform"];function Ya(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",38),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function Za(t,r){if(t&1&&(l(0,"option",39),m(1),s()),t&2){let o=r.$implicit;p("value",o.value),a(),h(" ",o.description," ")}}function $a(t,r){t&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),s()()),t&2&&(a(3),L(v(4,1,"MESSAGE.required")))}function es(t,r){if(t&1&&(l(0,"option",39),m(1),s()),t&2){let o=r.$implicit;p("value",o.value),a(),h(" ",o.description," ")}}function ts(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),s()()),t&2&&(a(3),L(v(4,1,"MESSAGE.required")))}function is(t,r){if(t&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",42),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",45),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.userAccessAdminAllowToAllData,n)||(e.dataModel.userAccessAdminAllowToAllData=n),C(n)}),s(),T(7,"label",46),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function ns(t,r){if(t&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",47),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",48),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.userAccessAdminAllowToProfessionalData,n)||(e.dataModel.userAccessAdminAllowToProfessionalData=n),C(n)}),s(),T(7,"label",49),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function os(t,r){if(t&1){let o=M();l(0,"div",40)(1,"div",41)(2,"h5",50),m(3),s()(),l(4,"div",43)(5,"div",44)(6,"input",51),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.rememberOnDevice,n)||(e.dataModel.rememberOnDevice=n),C(n)}),s(),T(7,"label",52),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),a(3),y("ngModel",o.dataModel.rememberOnDevice)}}function rs(t,r){if(t&1){let o=M();l(0,"div",23)(1,"label",53),m(2),s(),l(3,"input",54),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.tokenExpireDate,n)||(e.dataModel.tokenExpireDate=n),C(n)}),s(),T(4,"mat-datepicker-toggle",55)(5,"mat-datepicker",56,9),s()}if(t&2){let o=J(6),i=u();a(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),a(),p("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),a(),p("for",o)}}function as(t,r){if(t&1&&(l(0,"div"),T(1,"div",57),g(2,"prettyjson"),s()),t&2){let o=u();a(),p("innerHTML",v(2,1,o.dataModel),ft)}}function ss(t,r){if(t&1){let o=M();l(0,"div",58)(1,"button",59),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",60),m(3),g(4,"translate"),s(),l(5,"button",61),T(6,"i",62),m(7),g(8,"translate"),s()()}if(t&2){u();let o=J(9);a(3),h(" ",v(4,3,"ACTION.CANCEL")," "),a(2),p("disabled",!o.form.valid),a(2),h(" ",v(8,5,"ACTION.SAVE")," ")}}var en=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new At,k,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.publicHelper=k,this.cdr=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new At,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.setAccessDataType(Me.Editor),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}DataEditContent(){this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.sending_information_to_the_server").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.ServiceEdit(this.dataModel).subscribe({next:n=>{this.formInfo.formSubmitAllow=!0,this.dataModelResult=n,n.isSuccess?(this.translate.get("MESSAGE.registration_completed_successfully").subscribe(e=>{this.formInfo.formAlert=e}),this.cmsToastrService.typeSuccessEdit(),this.dialogRef.close({dialogChangedDate:!0})):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorEdit(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.formInfo.formSubmitAllow=!0,this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onActionSiteSelect(i){i&&i.id>0&&(this.dataModel.linkSiteId=i.id)}onActionUserSelect(i){i&&i.id>0&&(this.dataModel.linkUserId=i.id)}onActionMemberSelect(i){i&&i.id.length>0&&(this.dataModel.linkMemberId=i.id)}onFormSubmit(){this.formGroup.valid&&(this.formInfo.formSubmitAllow=!1,this.DataEditContent())}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(_t),S(j),S(F),S(W),S(O),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(Xa,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:69,vars:45,consts:[["vform","ngForm"],["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["DeviceClientMAC",""],["Token",""],["LinkDeviceId",""],["LinkApplicationId",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"ngSubmit"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionChange","optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"],["type","submit",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-green",3,"disabled"],[1,"fa","fa-check-square-o"]],template:function(n,e){if(n&1){let d=M();l(0,"div",10),T(1,"app-progress-spinner",11),l(2,"div",12)(3,"p",13),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),l(8,"form",14,0),A("ngSubmit",function(){return _(d),C(e.onFormSubmit())}),I(10,Ya,1,5,"app-cms-enum-record-status-selector",15),l(11,"div",16)(12,"select",17,1),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkMemberId,c)||(e.dataModel.linkMemberId=c),C(c)}),I(14,Za,2,2,"option",18),s(),l(15,"em"),m(16),g(17,"translate"),s(),I(18,$a,5,3,"mat-error",19),s(),l(19,"div",16)(20,"select",20,2),x("ngModelChange",function(c){return _(d),R(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),C(c)}),I(22,es,2,2,"option",18),s(),l(23,"em"),m(24),g(25,"translate"),s(),I(26,ts,5,3,"mat-error",19),s(),l(27,"app-cms-site-selector",21),g(28,"translate"),A("optionChange",function(c){return _(d),C(e.onActionSiteSelect(c))}),s(),l(29,"app-cms-user-selector",21),g(30,"translate"),A("optionChange",function(c){return _(d),C(e.onActionUserSelect(c))}),s(),l(31,"app-cms-member-selector",21),g(32,"translate"),A("optionChange",function(c){return _(d),C(e.onActionMemberSelect(c))}),s(),I(33,is,8,2,"div",22)(34,ns,8,2,"div",22)(35,os,8,2,"div",22),l(36,"div",23)(37,"label",24),m(38,"BrowserLanguage"),s(),l(39,"input",25,3),x("ngModelChange",function(c){return _(d),R(e.dataModel.browserLanguage,c)||(e.dataModel.browserLanguage=c),C(c)}),s()(),l(41,"div",23)(42,"label",26),m(43,"UserLanguage"),s(),l(44,"input",27,4),x("ngModelChange",function(c){return _(d),R(e.dataModel.userLanguage,c)||(e.dataModel.userLanguage=c),C(c)}),s()(),l(46,"div",23)(47,"label",28),m(48,"DeviceClientMAC"),s(),l(49,"input",29,5),x("ngModelChange",function(c){return _(d),R(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),C(c)}),s()(),l(51,"div",23)(52,"label",30),m(53,"Token"),s(),l(54,"input",31,6),x("ngModelChange",function(c){return _(d),R(e.dataModel.token,c)||(e.dataModel.token=c),C(c)}),s()(),l(56,"div",23)(57,"label",32),m(58,"LinkDeviceId"),s(),l(59,"input",33,7),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),C(c)}),s()(),l(61,"div",23)(62,"label",34),m(63,"LinkApplicationId"),s(),l(64,"input",35,8),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),C(c)}),s()(),I(66,rs,7,4,"div",36)(67,as,3,3,"div",19)(68,ss,9,7,"div",37),s()()()}if(n&2){let d=J(13),f=J(21);a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(4),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(2),y("ngModel",e.dataModel.linkMemberId),a(2),p("ngForOf",e.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),L(v(17,35,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(2),y("ngModel",e.dataModel.userAccessAreaType),a(2),p("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(v(25,37,"TITLE.SELECT_STATUS")),a(2),p("ngIf",f.errors==null?null:f.errors.required),a(),p("optionDisabled",!1)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(28,39,"TITLE.WEBSITE")),a(2),p("optionDisabled",!1)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(30,41,"TITLE.USER")),a(2),p("optionDisabled",!1)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",v(32,43,"TITLE.Member")),a(2),p("ngIf",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),p("ngIf",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),p("ngIf",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.accessWatchField),a(4),y("ngModel",e.dataModel.browserLanguage),a(5),y("ngModel",e.dataModel.userLanguage),a(5),y("ngModel",e.dataModel.deviceClientMAC),a(5),y("ngModel",e.dataModel.token),a(5),y("ngModel",e.dataModel.linkDeviceId),a(5),y("ngModel",e.dataModel.linkApplicationId),a(2),p("ngIf",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.accessWatchField),a(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[$t,N,ki,oi,ri,ei,Ci,ni,ti,Mi,ii,Ei,Ti,vi,Ii,ai,gi,ue,Ze,at,et,si,ie,G,ut],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var ls=["vform"];function cs(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var tn=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new At,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserService.setAccessLoad(),this.coreTokenUserService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(_t),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(ls,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,cs,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var ds=()=>[5,10,20,100],ms=t=>({display:t});function ps(t,r){if(t&1){let o=M();l(0,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",52),s()}}function fs(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",53),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function us(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",55),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",56)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function hs(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",57),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",58)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function Ss(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function _s(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function Cs(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function gs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Ts(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function vs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function Is(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function ws(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberId," ")}}function bs(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle," ")}}function As(t,r){if(t&1&&T(0,"select",62),t&2){let o=u().$implicit,i=u();p("contentService",i.contentService)("row",o)("ngStyle",lt(3,ms,o.id===(i.tableRowSelected==null?null:i.tableRowSelected.id)?"":"none"))}}function Ms(t,r){if(t&1&&(l(0,"mat-cell",60),g(1,"statusCellClass"),T(2,"i",60),g(3,"statusIconClass"),I(4,As,1,5,"select",61),s()),t&2){let o=r.$implicit,i=u();p("ngClass",v(1,3,o.recordStatus)),a(2),p("ngClass",v(3,5,o.recordStatus)),a(2),p("ngIf",i.dataModelResult==null||i.dataModelResult.access==null?null:i.dataModelResult.access.accessEditRow)}}function Es(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ks(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function ys(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function Rs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function xs(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function Ds(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function Ls(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function Us(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function Vs(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function Bs(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function Os(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Ns(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function Ps(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.tokenExpireDate==null?null:o.fieldsInfo.tokenExpireDate.fieldTitle," ")}}function Gs(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.tokenExpireDate)," ")}}function Hs(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Fs(t,r){if(t&1&&(l(0,"mat-cell",63)(1,"button",64)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function js(t,r){t&1&&T(0,"mat-header-row")}function Ws(t,r){if(t&1){let o=M();l(0,"mat-row",65),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var fi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new At,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UserType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice","CreatedDate","tokenExpireDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new At);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(tn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(en,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkMemberId||this.tableRowSelected.linkMemberId===""){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(_t),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:103,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","RecordStatus"],[3,"ngClass",4,"matCellDef"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","tokenExpireDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[3,"ngClass"],["matNativeControl","","cmsRecordStatusSelfSave","","style","background: none; border: none;",3,"contentService","row","ngStyle",4,"ngIf"],["matNativeControl","","cmsRecordStatusSelfSave","",2,"background","none","border","none",3,"contentService","row","ngStyle"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,ps,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,fs,7,3,"div",17)(23,us,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),g(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),g(37,"translate"),s()(),l(38,"div",18)(39,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewMemberRow(e.tableRowSelected))}),T(40,"i",23)(41,"br"),s(),l(42,"p",21),m(43),g(44,"translate"),s()(),l(45,"div",18)(46,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewDeviceRow(e.tableRowSelected))}),T(47,"i",24)(48,"br"),s(),l(49,"p",21),m(50),g(51,"translate"),s()(),I(52,hs,7,3,"div",17),b(),w(53,25),l(54,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(55,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(56,27),l(57,"mat-table",28,0),A("matSortChange",function(){_(d);let c=J(58);return C(e.onTableSortData(c))}),w(59,29),I(60,Ss,2,1,"mat-header-cell",30)(61,_s,2,1,"mat-cell",31),b(),w(62,32),I(63,Cs,2,1,"mat-header-cell",30)(64,gs,4,5,"mat-cell",31),b(),w(65,33),I(66,Ts,2,1,"mat-header-cell",30)(67,vs,4,5,"mat-cell",31),b(),w(68,34),I(69,Is,2,1,"mat-header-cell",30)(70,ws,2,1,"mat-cell",31),b(),w(71,35),I(72,bs,2,1,"mat-header-cell",30)(73,Ms,5,7,"mat-cell",36),b(),w(74,37),I(75,Es,2,1,"mat-header-cell",30)(76,ks,3,4,"mat-cell",31),b(),w(77,38),I(78,ys,2,1,"mat-header-cell",30)(79,Rs,3,4,"mat-cell",31),b(),w(80,39),I(81,xs,2,1,"mat-header-cell",30)(82,Ds,3,3,"mat-cell",31),b(),w(83,40),I(84,Ls,2,1,"mat-header-cell",30)(85,Us,3,3,"mat-cell",31),b(),w(86,41),I(87,Vs,2,1,"mat-header-cell",30)(88,Bs,3,3,"mat-cell",31),b(),w(89,42),I(90,Os,2,1,"mat-header-cell",30)(91,Ns,2,1,"mat-cell",31),b(),w(92,43),I(93,Ps,2,1,"mat-header-cell",30)(94,Gs,2,1,"mat-cell",31),b(),w(95,44),I(96,Hs,3,3,"mat-header-cell",45)(97,Fs,6,1,"mat-cell",46),b(),I(98,js,1,0,"mat-header-row",47)(99,Ws,1,6,"mat-row",48),s(),b(),w(100,49),l(101,"mat-paginator",50,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey","report.user.list"),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,28,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(30,32,"ACTION.SITE")),a(7),L(v(37,34,"ACTION.USER")),a(7),L(v(44,36,"ACTION.MEMBER")),a(7),L(v(51,38,"ACTION.DEVICE")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(41),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(40,ds)))},dependencies:[ot,N,ct,Ie,be,ue,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,dt,ge,G,Je,Re,ze,pt,mt,rt],encapsulation:2});let t=r;return t})();var qs=["vform"];function Qs(t,r){if(t&1&&(l(0,"option",27),m(1),s()),t&2){let o=r.$implicit;p("value",o.value),a(),h(" ",o.description," ")}}function zs(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),s()()),t&2&&(a(3),L(v(4,1,"MESSAGE.required")))}function Js(t,r){if(t&1&&(l(0,"div"),T(1,"div",28),g(2,"prettyjson"),s()),t&2){let o=u();a(),p("innerHTML",v(2,1,o.dataModel),ft)}}function Ks(t,r){if(t&1){let o=M();l(0,"div",29)(1,"button",30),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",31),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var nn=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new Et,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserBadLoginService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new D,this.dataModel=new Et,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.setAccessDataType(Me.Editor),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(gt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(qs,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:49,vars:33,consts:[["UsedUsername",""],["UsedPwd",""],["UserAccessAreaType","ngModel"],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.usedUsername",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedUsername","placeholder","UsedUsername","id","dataModel.usedUsername",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.usedPwd",1,"color-highlight"],["matInput","","type","text","name","dataModel.usedPwd","placeholder","UsedPwd","id","dataModel.usedPwd",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","form-actions",4,"ngIf"],[3,"value"],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){if(n&1){let d=M();l(0,"div",6),T(1,"app-progress-spinner",7),l(2,"div",8)(3,"p",9),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),l(8,"div",10)(9,"label",11),m(10,"UsedUsername"),s(),l(11,"input",12,0),x("ngModelChange",function(c){return _(d),R(e.dataModel.usedUsername,c)||(e.dataModel.usedUsername=c),C(c)}),s()(),l(13,"div",10)(14,"label",13),m(15,"UsedPwd"),s(),l(16,"input",14,1),x("ngModelChange",function(c){return _(d),R(e.dataModel.usedPwd,c)||(e.dataModel.usedPwd=c),C(c)}),s()(),l(18,"div",15)(19,"select",16,2),x("ngModelChange",function(c){return _(d),R(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),C(c)}),I(21,Qs,2,2,"option",17),s(),l(22,"em"),m(23),g(24,"translate"),s(),I(25,zs,5,3,"mat-error",18),s(),T(26,"app-cms-site-selector",19),g(27,"translate"),T(28,"app-cms-user-selector",19),g(29,"translate"),T(30,"app-cms-member-selector",19),g(31,"translate"),l(32,"div",10)(33,"label",20),m(34,"LinkDeviceId"),s(),l(35,"input",21,3),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),C(c)}),s()(),l(37,"div",10)(38,"label",22),m(39,"LinkApplicationId"),s(),l(40,"input",23,4),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),C(c)}),s()(),l(42,"div",10)(43,"label",24),m(44,"DeviceClientMAC"),s(),l(45,"input",25,5),x("ngModelChange",function(c){return _(d),R(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),C(c)}),s()(),I(47,Js,3,3,"div",18)(48,Ks,5,3,"div",26),s()()}if(n&2){let d=J(20);a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,23,"TITLE.Be_Careful_When_Entering_Information")," "),a(5),y("ngModel",e.dataModel.usedUsername),a(5),y("ngModel",e.dataModel.usedPwd),a(3),y("ngModel",e.dataModel.userAccessAreaType),a(2),p("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(v(24,25,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(27,27,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(29,29,"TITLE.USER")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",v(31,31,"TITLE.Member")),a(5),y("ngModel",e.dataModel.linkDeviceId),a(5),y("ngModel",e.dataModel.linkApplicationId),a(5),y("ngModel",e.dataModel.deviceClientMAC),a(2),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[$t,N,oi,ri,ei,ni,ti,ii,ai,ue,Ze,et,si,ie,G,ut],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Xs=["vform"];function Ys(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var on=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserBadLoginService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new Et,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserBadLoginService.setAccessLoad(),this.coreTokenUserBadLoginService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(gt),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(Xs,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Ys,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var Zs=()=>[5,10,20,100];function $s(t,r){if(t&1){let o=M();l(0,"a",45),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",46),s()}}function el(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",47),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",48)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function tl(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",49),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",50)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function il(t,r){if(t&1){let o=M();l(0,"div",18)(1,"a",51),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",52)(3,"br"),s(),l(4,"p",21),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function nl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function ol(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function rl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function al(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function sl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function ll(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function cl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberId==null?null:o.fieldsInfo.linkMemberId.fieldTitle," ")}}function dl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberId," ")}}function ml(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function pl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function fl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.usedUsername==null?null:o.fieldsInfo.usedUsername.fieldTitle," ")}}function ul(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.usedUsername," ")}}function hl(t,r){if(t&1&&(l(0,"mat-header-cell",53),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function Sl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function _l(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function Cl(t,r){if(t&1&&(l(0,"mat-cell",54)(1,"button",55)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function gl(t,r){t&1&&T(0,"mat-header-row")}function Tl(t,r){if(t&1){let o=M();l(0,"mat-row",56),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}var ui=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce,E){if(super(n,new Et,Ce,c,V),this.coreEnumService=i,this.contentService=n,this.cmsToastrService=e,this.cmsConfirmationDialogService=d,this.activatedRoute=f,this.tokenHelper=c,this.cdr=k,this.translate=V,this.router=U,this.pageInfo=fe,this.publicHelper=Ce,this.dialog=E,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.tabledisplayedColumnsMobileSource=["Id","LinkSiteId","LinkUserId","LinkMemberId","UserAccessAreaType","UsedUsername","CreatedDate"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let st=new q;st.propertyName="LinkCmsSiteId",st.value=this.requestLinkSiteId,this.filteModelContent.filters.push(st)}if(this.requestLinkUserId>0){let st=new q;st.propertyName="LinkUserId",st.value=this.requestLinkUserId,this.filteModelContent.filters.push(st)}if(this.requestLinkDeviceId>0){let st=new q;st.propertyName="LinkDeviceId",st.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(st)}this.optionsSearch.parentMethods={onSubmit:st=>this.onSubmitOptionsSearch(st)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}}),this.getEnumManageUserAccessAreaTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Et);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(on,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(nn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(z),S(gt),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:88,vars:41,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"font-11","text-center","opacity-70"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-id-card-clip","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","",3,"matSortChange","dataSource"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UsedUsername"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],["mat-sort-header",""],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,$s,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,el,7,3,"div",17)(23,tl,7,3,"div",17),l(24,"div",18)(25,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewSiteRow(e.tableRowSelected))}),T(26,"i",20)(27,"br"),s(),l(28,"p",21),m(29),g(30,"translate"),s()(),l(31,"div",18)(32,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewUserRow(e.tableRowSelected))}),T(33,"i",22)(34,"br"),s(),l(35,"p",21),m(36),g(37,"translate"),s()(),l(38,"div",18)(39,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewMemberRow(e.tableRowSelected))}),T(40,"i",23)(41,"br"),s(),l(42,"p",21),m(43),g(44,"translate"),s()(),l(45,"div",18)(46,"a",19),A("click",function(){return _(d),C(e.onActionButtonViewDeviceRow(e.tableRowSelected))}),T(47,"i",24)(48,"br"),s(),l(49,"p",21),m(50),g(51,"translate"),s()(),I(52,il,7,3,"div",17),b(),w(53,25),l(54,"app-cms-search-list",26),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(55,"app-cms-statist-list",26),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(56,27),l(57,"mat-table",28,0),A("matSortChange",function(){_(d);let c=J(58);return C(e.onTableSortData(c))}),w(59,29),I(60,nl,2,1,"mat-header-cell",30)(61,ol,2,1,"mat-cell",31),b(),w(62,32),I(63,rl,2,1,"mat-header-cell",30)(64,al,4,5,"mat-cell",31),b(),w(65,33),I(66,sl,2,1,"mat-header-cell",30)(67,ll,4,5,"mat-cell",31),b(),w(68,34),I(69,cl,2,1,"mat-header-cell",30)(70,dl,2,1,"mat-cell",31),b(),w(71,35),I(72,ml,2,1,"mat-header-cell",30)(73,pl,3,4,"mat-cell",31),b(),w(74,36),I(75,fl,2,1,"mat-header-cell",30)(76,ul,2,1,"mat-cell",31),b(),w(77,37),I(78,hl,2,1,"mat-header-cell",30)(79,Sl,2,1,"mat-cell",31),b(),w(80,38),I(81,_l,3,3,"mat-header-cell",39)(82,Cl,6,1,"mat-cell",40),b(),I(83,gl,1,0,"mat-header-row",41)(84,Tl,1,6,"mat-row",42),s(),b(),w(85,43),l(86,"mat-paginator",44,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,28,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(6),L(v(30,32,"ACTION.SITE")),a(7),L(v(37,34,"ACTION.USER")),a(7),L(v(44,36,"ACTION.MEMBER")),a(7),L(v(51,38,"ACTION.DEVICE")),a(2),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(26),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(2),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(40,Zs)))},dependencies:[N,Ie,be,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,ge,G,Je,Re,ze],encapsulation:2});let t=r;return t})();var vl=["vform"];function Il(t,r){if(t&1){let o=M();l(0,"app-cms-enum-record-status-selector",36),x("modelChange",function(n){_(o);let e=u();return R(e.dataModel.recordStatus,n)||(e.dataModel.recordStatus=n),C(n)}),s()}if(t&2){let o=u();y("model",o.dataModel.recordStatus),p("optionDisabled",!1)("optionLabel",o.fieldsInfo.recordStatus==null?null:o.fieldsInfo.recordStatus.fieldTitle)("optionRequired",!0)("optionSelectFirstItem",!0)}}function wl(t,r){if(t&1&&(l(0,"option",37),m(1),s()),t&2){let o=r.$implicit;p("value",o.value),a(),h(" ",o.description," ")}}function bl(t,r){t&1&&(l(0,"mat-error"),m(1," LinkMemberId is "),l(2,"strong"),m(3),g(4,"translate"),s()()),t&2&&(a(3),L(v(4,1,"MESSAGE.required")))}function Al(t,r){if(t&1&&(l(0,"option",37),m(1),s()),t&2){let o=r.$implicit;p("value",o.value),a(),h(" ",o.description," ")}}function Ml(t,r){t&1&&(l(0,"mat-error"),m(1," UserAccessAreaType is "),l(2,"strong"),m(3),g(4,"translate"),s()()),t&2&&(a(3),L(v(4,1,"MESSAGE.required")))}function El(t,r){if(t&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",40),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",43),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.userAccessAdminAllowToAllData,n)||(e.dataModel.userAccessAdminAllowToAllData=n),C(n)}),s(),T(7,"label",44),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToAllData)}}function kl(t,r){if(t&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",45),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",46),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.userAccessAdminAllowToProfessionalData,n)||(e.dataModel.userAccessAdminAllowToProfessionalData=n),C(n)}),s(),T(7,"label",47),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle,""),a(3),y("ngModel",o.dataModel.userAccessAdminAllowToProfessionalData)}}function yl(t,r){if(t&1){let o=M();l(0,"div",38)(1,"div",39)(2,"h5",48),m(3),s()(),l(4,"div",41)(5,"div",42)(6,"input",49),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.rememberOnDevice,n)||(e.dataModel.rememberOnDevice=n),C(n)}),s(),T(7,"label",50),s()()()}if(t&2){let o=u();a(3),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle,""),a(3),y("ngModel",o.dataModel.rememberOnDevice)}}function Rl(t,r){if(t&1){let o=M();l(0,"div",21)(1,"label",51),m(2),s(),l(3,"input",52),x("ngModelChange",function(n){_(o);let e=u();return R(e.dataModel.tokenExpireDate,n)||(e.dataModel.tokenExpireDate=n),C(n)}),s(),T(4,"mat-datepicker-toggle",53)(5,"mat-datepicker",54,8),s()}if(t&2){let o=J(6),i=u();a(2),L(i.fieldsInfo.tokenExpireDate==null?null:i.fieldsInfo.tokenExpireDate.fieldTitle),a(),p("matDatepicker",o),y("ngModel",i.dataModel.tokenExpireDate),a(),p("for",o)}}function xl(t,r){if(t&1&&(l(0,"div"),T(1,"div",55),g(2,"prettyjson"),s()),t&2){let o=u();a(),p("innerHTML",v(2,1,o.dataModel),ft)}}function Dl(t,r){if(t&1){let o=M();l(0,"div",56)(1,"button",57),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",58),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var rn=(()=>{let r=class r extends tt{constructor(i,n,e,d,f,c,k,V,U){super(d,new Mt,V,U),this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserLogService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.dataModelResult=new ht,this.dataModel=new Mt,this.formInfo=new te,this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id)}ngOnInit(){if(this.requestId&&this.requestId.length>0)this.translate.get("TITLE.Edit").subscribe(i=>{this.formInfo.formTitle=i}),this.DataGetOneContent();else{this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumManageUserAccessAreaTypes(),this.getEnumManageUserAccessUserTypes()}getEnumManageUserAccessAreaTypes(){this.coreEnumService.ServiceManageUserAccessAreaTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessAreaTypesResult=i}})}getEnumManageUserAccessUserTypes(){this.coreEnumService.ServiceManageUserAccessUserTypesEnum().subscribe({next:i=>{this.dataModelEnumManageUserAccessUserTypesResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){if(!this.requestId||this.requestId.length===0){this.cmsToastrService.typeErrorEditRowIsNull();return}this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.setAccessDataType(Me.Editor),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(Ct),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-core-site-domainalias-edit"]],viewQuery:function(n,e){if(n&1&&X(vl,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},features:[K],decls:67,vars:45,consts:[["LinkMemberId","ngModel"],["UserAccessAreaType","ngModel"],["BrowserLanguage",""],["UserLanguage",""],["LinkDeviceId",""],["LinkApplicationId",""],["DeviceClientMAC",""],["Token",""],["tokenExpireDate",""],[1,"card","card-style","loader-container"],[3,"optionsInfoAreaId"],[1,"content","mb-0"],[1,"mb-0","color-highlight","font-600","font-12"],[3,"model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem","modelChange",4,"ngIf"],[1,"input-style","has-borders","input-style-always-active","validate-field","no-icon","mb-4"],["id","dataModel.linkMemberId","name","dataModel.linkMemberId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","dataModel.userAccessAreaType","name","dataModel.userAccessAreaType",1,"form-control","validate-name",3,"ngModelChange","ngModel"],[3,"optionDisabled","optionSelectForce","optionPlaceholder"],["class","d-flex mb-3",4,"ngIf"],[1,"input-style","has-borders","no-icon","input-style-always-active","validate-field","mb-4"],["for","dataModel.browserLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.browserLanguage","placeholder","BrowserLanguage","id","dataModel.browserLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.userLanguage",1,"color-highlight"],["matInput","","type","text","name","dataModel.userLanguage","placeholder","UserLanguage","id","dataModel.userLanguage",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkDeviceId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkDeviceId","placeholder","LinkDeviceId","id","dataModel.linkDeviceId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.linkApplicationId",1,"color-highlight"],["matInput","","type","text","name","dataModel.linkApplicationId","placeholder","LinkApplicationId","id","dataModel.linkApplicationId",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.deviceClientMAC",1,"color-highlight"],["matInput","","type","text","name","dataModel.deviceClientMAC","placeholder","DeviceClientMAC","id","dataModel.deviceClientMAC",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["for","dataModel.token",1,"color-highlight"],["matInput","","type","text","name","dataModel.token","placeholder","Token","id","dataModel.token",1,"form-control","validate-name",3,"ngModelChange","ngModel"],["class","input-style has-borders no-icon input-style-always-active validate-field mb-4",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"modelChange","model","optionDisabled","optionLabel","optionRequired","optionSelectFirstItem"],[3,"value"],[1,"d-flex","mb-3"],[1,"pt-1"],["data-trigger-switch","dataModel.userAccessAdminAllowToAllData",1,"font-600","font-14"],[1,"ms-auto","me-3","pe-2"],[1,"custom-control","ios-switch","small-switch"],["type","checkbox","id","dataModel.userAccessAdminAllowToAllData","name","dataModel.userAccessAdminAllowToAllData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToAllData",1,"custom-control-label"],["data-trigger-switch","dataModel.userAccessAdminAllowToProfessionalData",1,"font-600","font-14"],["type","checkbox","id","dataModel.userAccessAdminAllowToProfessionalData","name","dataModel.userAccessAdminAllowToProfessionalData",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.userAccessAdminAllowToProfessionalData",1,"custom-control-label"],["data-trigger-switch","dataModel.rememberOnDevice",1,"font-600","font-14"],["type","checkbox","id","dataModel.rememberOnDevice","name","dataModel.rememberOnDevice",1,"ios-input",3,"ngModelChange","ngModel"],["for","dataModel.rememberOnDevice",1,"custom-control-label"],["for","dataModel.tokenExpireDate",1,"color-highlight"],["matInput","","type","text","name","dataModel.tokenExpireDate","id","dataModel.tokenExpireDate",1,"form-control","validate-name",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["touchUi",""],[3,"innerHTML"],[1,"form-actions"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){if(n&1){let d=M();l(0,"div",9),T(1,"app-progress-spinner",10),l(2,"div",11)(3,"p",12),m(4),s(),l(5,"p"),m(6),g(7,"translate"),s(),I(8,Il,1,5,"app-cms-enum-record-status-selector",13),l(9,"div",14)(10,"select",15,0),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkMemberId,c)||(e.dataModel.linkMemberId=c),C(c)}),I(12,wl,2,2,"option",16),s(),l(13,"em"),m(14),g(15,"translate"),s(),I(16,bl,5,3,"mat-error",17),s(),l(17,"div",14)(18,"select",18,1),x("ngModelChange",function(c){return _(d),R(e.dataModel.userAccessAreaType,c)||(e.dataModel.userAccessAreaType=c),C(c)}),I(20,Al,2,2,"option",16),s(),l(21,"em"),m(22),g(23,"translate"),s(),I(24,Ml,5,3,"mat-error",17),s(),T(25,"app-cms-site-selector",19),g(26,"translate"),T(27,"app-cms-user-selector",19),g(28,"translate"),T(29,"app-cms-member-selector",19),g(30,"translate"),I(31,El,8,2,"div",20)(32,kl,8,2,"div",20)(33,yl,8,2,"div",20),l(34,"div",21)(35,"label",22),m(36,"BrowserLanguage"),s(),l(37,"input",23,2),x("ngModelChange",function(c){return _(d),R(e.dataModel.browserLanguage,c)||(e.dataModel.browserLanguage=c),C(c)}),s()(),l(39,"div",21)(40,"label",24),m(41,"UserLanguage"),s(),l(42,"input",25,3),x("ngModelChange",function(c){return _(d),R(e.dataModel.userLanguage,c)||(e.dataModel.userLanguage=c),C(c)}),s()(),l(44,"div",21)(45,"label",26),m(46,"LinkDeviceId"),s(),l(47,"input",27,4),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkDeviceId,c)||(e.dataModel.linkDeviceId=c),C(c)}),s()(),l(49,"div",21)(50,"label",28),m(51,"LinkApplicationId"),s(),l(52,"input",29,5),x("ngModelChange",function(c){return _(d),R(e.dataModel.linkApplicationId,c)||(e.dataModel.linkApplicationId=c),C(c)}),s()(),l(54,"div",21)(55,"label",30),m(56,"DeviceClientMAC"),s(),l(57,"input",31,6),x("ngModelChange",function(c){return _(d),R(e.dataModel.deviceClientMAC,c)||(e.dataModel.deviceClientMAC=c),C(c)}),s()(),l(59,"div",21)(60,"label",32),m(61,"Token"),s(),l(62,"input",33,7),x("ngModelChange",function(c){return _(d),R(e.dataModel.token,c)||(e.dataModel.token=c),C(c)}),s()(),I(64,Rl,7,4,"div",34)(65,xl,3,3,"div",17)(66,Dl,5,3,"div",35),s()()}if(n&2){let d=J(11),f=J(19);a(),p("optionsInfoAreaId",e.constructorInfoAreaId),a(3),h(" ",e.formInfo.formTitle," "),a(2),h(" ",v(7,33,"TITLE.Be_Careful_When_Entering_Information")," "),a(2),p("ngIf",e.fieldsInfo.recordStatus==null?null:e.fieldsInfo.recordStatus.accessWatchField),a(2),y("ngModel",e.dataModel.linkMemberId),a(2),p("ngForOf",e.dataModelEnumManageUserAccessUserTypesResult.listItems),a(2),L(v(15,35,"TITLE.SELECT_STATUS")),a(2),p("ngIf",d.errors==null?null:d.errors.required),a(2),y("ngModel",e.dataModel.userAccessAreaType),a(2),p("ngForOf",e.dataModelEnumManageUserAccessAreaTypesResult.listItems),a(2),L(v(23,37,"TITLE.SELECT_STATUS")),a(2),p("ngIf",f.errors==null?null:f.errors.required),a(),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkSiteId)("optionPlaceholder",v(26,39,"TITLE.WEBSITE")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkUserId)("optionPlaceholder",v(28,41,"TITLE.USER")),a(2),p("optionDisabled",!0)("optionSelectForce",e.dataModel.linkMemberId)("optionPlaceholder",v(30,43,"TITLE.Member")),a(2),p("ngIf",e.fieldsInfo.userAccessAdminAllowToAllData==null?null:e.fieldsInfo.userAccessAdminAllowToAllData.accessWatchField),a(),p("ngIf",e.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:e.fieldsInfo.userAccessAdminAllowToProfessionalData.accessWatchField),a(),p("ngIf",e.fieldsInfo.rememberOnDevice==null?null:e.fieldsInfo.rememberOnDevice.accessWatchField),a(4),y("ngModel",e.dataModel.browserLanguage),a(5),y("ngModel",e.dataModel.userLanguage),a(5),y("ngModel",e.dataModel.linkDeviceId),a(5),y("ngModel",e.dataModel.linkApplicationId),a(5),y("ngModel",e.dataModel.deviceClientMAC),a(5),y("ngModel",e.dataModel.token),a(2),p("ngIf",e.fieldsInfo.tokenExpireDate==null?null:e.fieldsInfo.tokenExpireDate.accessWatchField),a(),p("ngIf",e.tokenInfo.userAccessAdminAllowToProfessionalData),a(),p("ngIf",e.formInfo.formSubmitAllow)}},dependencies:[$t,N,oi,ri,ei,Ci,ni,ti,ii,Ti,vi,Ii,ai,gi,ue,Ze,at,et,si,ie,G,ut],styles:[".form-body[_ngcontent-%COMP%]{width:500px}@media (max-width: 700px){.form-body[_ngcontent-%COMP%]{display:contents}}#file-manager[_ngcontent-%COMP%]{width:calc(100vw - 16px);height:calc(100vh - 16px)}.recordStatus-1.mat-select-panel[_ngcontent-%COMP%]{background:#ff0}.recordStatus-2.mat-select-panel[_ngcontent-%COMP%]{background:#000}.recordStatus-3.mat-select-panel[_ngcontent-%COMP%]{background:red}"]});let t=r;return t})();var Ll=["vform"];function Ul(t,r){if(t&1){let o=M();l(0,"div",5)(1,"button",10),A("click",function(){_(o);let n=u();return C(n.onFormCancel())}),T(2,"i",11),m(3),g(4,"translate"),s()()}t&2&&(a(3),h(" ",v(4,1,"ACTION.CANCEL")," "))}var an=(()=>{let r=class r{constructor(i,n,e,d,f,c,k,V,U){this.data=i,this.dialogRef=n,this.coreEnumService=e,this.coreTokenUserLogService=d,this.cmsToastrService=f,this.tokenHelper=c,this.cdr=k,this.publicHelper=V,this.translate=U,this.requestId="",this.constructorInfoAreaId=this.constructor.name,this.tokenInfo=new ke,this.dataModelResult=new D,this.dataModel=new Mt,this.formInfo=new te,this.dataModelEnumSendSmsStatusTypeResult=new D,this.fieldsInfo=new Map,this.fileManagerOpenForm=!1,this.publicHelper.processService.cdr=this.cdr,i&&(this.requestId=i.id+"")}ngOnInit(){if(this.formInfo.formTitle=this.translate.instant("TITLE.VIEW"),this.requestId.length===0){this.cmsToastrService.typeErrorComponentAction(),this.dialogRef.close({dialogChangedDate:!1});return}this.DataGetOneContent(),this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i}}),this.getEnumSendSmsStatusType()}getEnumSendSmsStatusType(){this.coreEnumService.ServiceSendSmsStatusTypeEnum().subscribe({next:i=>{this.dataModelEnumSendSmsStatusTypeResult=i}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetOneContent(){this.translate.get("MESSAGE.Receiving_Information_From_The_Server").subscribe(n=>{this.formInfo.formAlert=n}),this.formInfo.formError="";let i=this.constructor.name+"main";this.translate.get("MESSAGE.Receiving_information").subscribe(n=>{this.publicHelper.processService.processStart(i,n,this.constructorInfoAreaId)}),this.coreTokenUserLogService.setAccessLoad(),this.coreTokenUserLogService.ServiceGetOneById(this.requestId).subscribe({next:n=>{this.fieldsInfo=this.publicHelper.fieldInfoConvertor(n.access),this.dataModel=n.item,n.isSuccess?(this.formInfo.formTitle=this.formInfo.formTitle+" "+n.item.id,this.formInfo.formAlert=""):(this.translate.get("ERRORMESSAGE.MESSAGE.typeError").subscribe(e=>{this.formInfo.formAlert=e}),this.formInfo.formError=n.errorMessage,this.cmsToastrService.typeErrorMessage(n.errorMessage)),this.publicHelper.processService.processStop(i)},error:n=>{this.cmsToastrService.typeError(n),this.publicHelper.processService.processStop(i,!1)}})}onFormCancel(){this.dialogRef.close({dialogChangedDate:!1})}};r.\u0275fac=function(n){return new(n||r)(S(ee),S($),S(z),S(Ct),S(j),S(F),S(O),S(W),S(P))},r.\u0275cmp=B({type:r,selectors:[["app-bankpayment-transactionlog-view"]],viewQuery:function(n,e){if(n&1&&X(Ll,5),n&2){let d;Y(d=Z())&&(e.formGroup=d.first)}},decls:13,vars:7,consts:[[1,"ntk-cms-html-card-header"],[1,"ntk-cms-html-card-body","loader-container"],[3,"optionsInfoAreaId"],[3,"dataModel","optionMethod"],[1,"ntk-cms-html-card-message"],[1,"form-actions"],[1,"form-text","text-muted"],[1,"form-text","text-muted","danger"],[1,"ntk-cms-html-card-footer"],["class","form-actions",4,"ngIf"],["type","button",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"ft-x"]],template:function(n,e){n&1&&(l(0,"div",0),m(1),s(),l(2,"div",1),T(3,"app-progress-spinner",2)(4,"app-cms-json-list",3),s(),l(5,"div",4)(6,"div",5)(7,"small",6),m(8),s(),l(9,"small",7),m(10),s()()(),l(11,"div",8),I(12,Ul,5,3,"div",9),s()),n&2&&(a(),h(" ",e.formInfo.formTitle," "),a(2),p("optionsInfoAreaId",e.constructorInfoAreaId),a(),p("dataModel",e.dataModel)("optionMethod",1),a(4),h("",e.formInfo.formAlert," "),a(2),h("",e.formInfo.formError," "),a(2),p("ngIf",e.formInfo.formSubmitAllow))},dependencies:[N,ie,Xe,G]});let t=r;return t})();var Vl=()=>["expandedTitle"],Bl=()=>[5,10,20,100];function Ol(t,r){if(t&1){let o=M();l(0,"a",44),A("click",function(){_(o);let n=u();return C(n.onActionBackToParent())}),T(1,"i",45),s()}}function Nl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",47),A("click",function(){_(o);let n=u();return C(n.onActionButtonEditRow(n.tableRowSelected))}),T(2,"i",48)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.EDIT")))}function Pl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",50),A("click",function(){_(o);let n=u();return C(n.onActionButtonDeleteRow(n.tableRowSelected))}),T(2,"i",51)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DELETE")))}function Gl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",52),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewSiteRow(n.tableRowSelected))}),T(2,"i",53)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.SITE")))}function Hl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",52),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewUserRow(n.tableRowSelected))}),T(2,"i",54)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.USER")))}function Fl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",52),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewDeviceRow(n.tableRowSelected))}),T(2,"i",55)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.DEVICE")))}function jl(t,r){if(t&1){let o=M();l(0,"div",46)(1,"a",56),A("click",function(){_(o);let n=u();return C(n.onActionButtonViewRow(n.tableRowSelected))}),T(2,"i",57)(3,"br"),s(),l(4,"p",49),m(5),g(6,"translate"),s()()}t&2&&(a(5),L(v(6,1,"ACTION.VIEW")))}function Wl(t,r){if(t&1){let o=M();l(0,"mat-row",58),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))})("mouseenter",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowMouseEnter(n))})("mouseleave",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowMouseLeave(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function ql(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.id==null?null:o.fieldsInfo.id.fieldTitle," ")}}function Ql(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.id," ")}}function zl(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.description==null?null:o.fieldsInfo.description.fieldTitle," ")}}function Jl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.description," ")}}function Kl(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkSiteId==null?null:o.fieldsInfo.linkSiteId.fieldTitle," ")}}function Xl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmssiteinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkSiteId))," ")}}function Yl(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkUserId==null?null:o.fieldsInfo.linkUserId.fieldTitle," ")}}function Zl(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"cmsuserinfo"),g(3,"async"),s()),t&2){let o=r.$implicit;a(),h(" ",v(3,3,v(2,1,o.linkUserId))," ")}}function $l(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.linkMemberUserId==null?null:o.fieldsInfo.linkMemberUserId.fieldTitle," ")}}function ec(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit;a(),h(" ",o.linkMemberUserId," ")}}function tc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAreaType==null?null:o.fieldsInfo.userAccessAreaType.fieldTitle," ")}}function ic(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userAccessAreaType,i.dataModelEnumManageUserAccessAreaTypesResult.listItems)," ")}}function nc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userType==null?null:o.fieldsInfo.userType.fieldTitle," ")}}function oc(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"enums"),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",re(2,1,o.userType,i.dataModelEnumManageUserAccessUserTypesResult.listItems)," ")}}function rc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToAllData==null?null:o.fieldsInfo.userAccessAdminAllowToAllData.fieldTitle," ")}}function ac(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToAllData))}}function sc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.userAccessAdminAllowToProfessionalData==null?null:o.fieldsInfo.userAccessAdminAllowToProfessionalData.fieldTitle," ")}}function lc(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.userAccessAdminAllowToProfessionalData))}}function cc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.rememberOnDevice==null?null:o.fieldsInfo.rememberOnDevice.fieldTitle," ")}}function dc(t,r){if(t&1&&(l(0,"mat-cell"),T(1,"i",60),g(2,"boolclass"),s()),t&2){let o=r.$implicit;a(),p("ngClass",v(2,1,o.rememberOnDevice))}}function mc(t,r){if(t&1&&(l(0,"mat-header-cell",59),m(1),s()),t&2){let o=u();a(),h(" ",o.fieldsInfo.createdDate==null?null:o.fieldsInfo.createdDate.fieldTitle," ")}}function pc(t,r){if(t&1&&(l(0,"mat-cell"),m(1),s()),t&2){let o=r.$implicit,i=u();a(),h(" ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}function fc(t,r){t&1&&(l(0,"mat-header-cell"),m(1),g(2,"translate"),s()),t&2&&(a(),h(" ",v(2,1,"TITLE.OPTION")," "))}function uc(t,r){if(t&1&&(l(0,"mat-cell",61)(1,"button",62)(2,"mat-icon"),m(3,"more_vert"),s()(),T(4,"mat-menu",null,2),s()),t&2){let o=J(5);a(),p("matMenuTriggerFor",o)}}function hc(t,r){t&1&&T(0,"mat-header-row")}function Sc(t,r){if(t&1){let o=M();l(0,"mat-row",63),A("click",function(){let n=_(o).$implicit,e=u();return C(e.onActionTableRowSelect(n))}),s()}if(t&2){let o=r.$implicit,i=r.dataIndex,n=u();Se("ntk-row-odd",i%2)("ntk-row-even",!(i%2))("ntk-row-selected",o.id===(n.tableRowSelected==null?null:n.tableRowSelected.id))}}function _c(t,r){if(t&1&&(l(0,"mat-cell"),m(1),g(2,"translate"),T(3,"br"),m(4),g(5,"translate"),T(6,"br"),m(7),g(8,"translate"),g(9,"cmssiteinfo"),g(10,"async"),T(11,"br"),m(12),g(13,"translate"),g(14,"cmsuserinfo"),g(15,"async"),T(16,"br"),m(17),g(18,"translate"),s()),t&2){let o=r.$implicit,i=u();a(),Zt(" ",v(2,10,"TITLE.Id")," : ",o.id," "),a(3),Zt(" ",v(5,12,"TITLE.Description")," : ",o.description," "),a(3),Zt(" ",v(8,14,"TITLE.Site_Id")," : ",v(10,18,v(9,16,o.linkSiteId))," "),a(5),Zt(" ",v(13,20,"TITLE.User_Id")," : ",v(15,24,v(14,22,o.linkUserId))," "),a(5),Zt(" ",v(18,26,"TITLE.CreationDate")," : ",i.publicHelper.LocaleDateTime(o.createdDate)," ")}}var hi=(()=>{let r=class r extends it{constructor(i,n,e,d,f,c,k,V,U,fe,Ce){if(super(i,new Mt,fe,f,k),this.contentService=i,this.cmsToastrService=n,this.cmsConfirmationDialogService=e,this.activatedRoute=d,this.tokenHelper=f,this.cdr=c,this.translate=k,this.router=V,this.pageInfo=U,this.publicHelper=fe,this.dialog=Ce,this.requestLinkSiteId=0,this.requestLinkUserId=0,this.requestLinkDeviceId=0,this.constructorInfoAreaId=this.constructor.name,this.flag=!1,this.tableContentSelected=[],this.filteModelContent=new Ee,this.tabledisplayedColumns=[],this.tabledisplayedColumnsSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.tabledisplayedColumnsMobileSource=["UserAccessAreaType","UserAccessAdminAllowToAllData","UserAccessAdminAllowToProfessionalData","RememberOnDevice"],this.dataModelEnumManageUserAccessAreaTypesResult=new D,this.dataModelEnumManageUserAccessUserTypesResult=new D,this.publicHelper.processService.cdr=this.cdr,this.requestLinkSiteId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkSiteId")),this.requestLinkUserId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkUserId")),this.requestLinkDeviceId=+Number(this.activatedRoute.snapshot.paramMap.get("LinkDeviceId")),this.requestLinkSiteId>0){let E=new q;E.propertyName="LinkCmsSiteId",E.value=this.requestLinkSiteId,this.filteModelContent.filters.push(E)}if(this.requestLinkUserId>0){let E=new q;E.propertyName="LinkUserId",E.value=this.requestLinkUserId,this.filteModelContent.filters.push(E)}if(this.requestLinkDeviceId>0){let E=new q;E.propertyName="LinkDeviceId",E.value=this.requestLinkDeviceId,this.filteModelContent.filters.push(E)}this.optionsSearch.parentMethods={onSubmit:E=>this.onSubmitOptionsSearch(E)},this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending}ngOnInit(){this.filteModelContent.sortColumn="CreatedDate",this.filteModelContent.sortType=H.Descending,this.tokenHelper.getTokenInfoState().then(i=>{this.tokenInfo=i,setTimeout(()=>{this.firstLoadDataRunned||this.DataGetAll()},500)}),this.cmsApiStoreSubscribe=this.tokenHelper.getTokenInfoStateOnChange().subscribe({next:i=>{this.tokenInfo=i,this.firstLoadDataRunned=!0,this.DataGetAll()}})}ngOnDestroy(){this.cmsApiStoreSubscribe.unsubscribe()}DataGetAll(){this.tabledisplayedColumns=this.publicHelper.TableDisplayedColumns(this.tabledisplayedColumnsSource,this.tabledisplayedColumnsMobileSource,[],this.tokenInfo),this.tableRowsSelected=[],this.onActionTableRowSelect(new Mt);let i=this.constructor.name+"main";this.translate.get("MESSAGE.get_information_list").subscribe(e=>{this.publicHelper.processService.processStart(i,e,this.constructorInfoAreaId)}),this.filteModelContent.accessLoad=!0;let n=JSON.parse(JSON.stringify(this.filteModelContent));this.contentService.ServiceGetAllEditor(n).subscribe({next:e=>{e.isSuccess?(this.fieldsInfo=this.publicHelper.fieldInfoConvertor(e.access),this.dataModelResult=e,this.tableSource.data=e.listItems,this.optionsStatist?.data?.show&&this.onActionButtonStatist(!0),setTimeout(()=>{this.optionsSearch.childMethods&&this.optionsSearch.childMethods.setAccess(e.access)},1e3)):this.cmsToastrService.typeErrorMessage(e.errorMessage),this.publicHelper.processService.processStop(i)},error:e=>{this.cmsToastrService.typeError(e),this.publicHelper.processService.processStop(i,!1)}})}onTableSortData(i){this.tableSource&&this.tableSource.sort&&this.tableSource.sort.active===i.active?this.tableSource.sort.start==="asc"?(i.start="desc",this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending):this.tableSource.sort.start==="desc"?(i.start="asc",this.filteModelContent.sortColumn="",this.filteModelContent.sortType=H.Ascending):i.start="desc":(this.filteModelContent.sortColumn=i.active,this.filteModelContent.sortType=H.Descending),this.tableSource.sort=i,this.filteModelContent.currentPageNumber=0,this.DataGetAll()}onTablePageingData(i){this.filteModelContent.currentPageNumber=i.pageIndex+1,this.filteModelContent.rowPerPage=i.pageSize,this.DataGetAll()}onActionButtonViewRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessWatchRow){this.cmsToastrService.typeErrorAccessWatch();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(an,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate})}onActionButtonEditRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessEditRow){this.cmsToastrService.typeErrorAccessEdit();return}var n="";this.tokenHelper.isMobile?n="dialog-fullscreen":n="dialog-min",this.dialog.open(rn,{height:"90%",panelClass:n,enterAnimationDuration:Q.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:Q.cmsViewConfig.exitAnimationDuration,data:{id:this.tableRowSelected.id}}).afterClosed().subscribe(d=>{d&&d.dialogChangedDate&&this.DataGetAll()})}onActionButtonDeleteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.translate.get("MESSAGE.no_row_selected_to_delete").subscribe(d=>{this.cmsToastrService.typeErrorSelected(d)});return}if(this.onActionTableRowSelect(i),this.dataModelResult==null||this.dataModelResult.access==null||!this.dataModelResult.access.accessDeleteRow){this.cmsToastrService.typeErrorAccessDelete();return}var n="",e="";this.translate.get(["MESSAGE.Please_Confirm","MESSAGE.Do_you_want_to_delete_this_content"]).subscribe(d=>{n=d["MESSAGE.Please_Confirm"],e=d["MESSAGE.Do_you_want_to_delete_this_content"]+"?<br> ( "+this.tableRowSelected.id+" ) "}),this.cmsConfirmationDialogService.confirm(n,e).then(d=>{if(d){let f=this.constructor.name+"ServiceDelete";this.translate.get("MESSAGE.Receiving_information").subscribe(c=>{this.publicHelper.processService.processStart(f,c,this.constructorInfoAreaId)}),this.contentService.ServiceDelete(this.tableRowSelected.id).subscribe({next:c=>{c.isSuccess?(this.cmsToastrService.typeSuccessRemove(),this.DataGetAll()):this.cmsToastrService.typeErrorRemove(),this.publicHelper.processService.processStop(f)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(f,!1)}})}}).catch(()=>{})}onActionButtonStatist(i=!this.optionsStatist.data.show){if(this.optionsStatist.data.show=i,!this.optionsStatist.data.show)return;let n=new Map;this.translate.get("MESSAGE.Active").subscribe(c=>{n.set(c,0)}),this.translate.get("MESSAGE.All").subscribe(c=>{n.set(c,0)});let e=this.constructor.name+".ServiceStatist";this.translate.get("MESSAGE.Get_the_statist").subscribe(c=>{this.publicHelper.processService.processStart(e,c,this.constructorInfoAreaId)}),this.contentService.ServiceGetCount(this.filteModelContent).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.All").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}});let d=JSON.parse(JSON.stringify(this.filteModelContent)),f=new q;f.propertyName="RecordStatus",f.value=Ae.Available,d.filters.push(f),this.contentService.ServiceGetCount(d).subscribe({next:c=>{c.isSuccess?(this.translate.get("MESSAGE.Active").subscribe(k=>{n.set(k,c.totalRowCount)}),this.optionsStatist.childMethods.setStatistValue(n)):this.cmsToastrService.typeErrorMessage(c.errorMessage),this.publicHelper.processService.processStop(e)},error:c=>{this.cmsToastrService.typeError(c),this.publicHelper.processService.processStop(e,!1)}})}onActionButtonViewUserRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkUserId||this.tableRowSelected.linkUserId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_contain_user_information"));return}this.router.navigate(["/core/user/edit",this.tableRowSelected.linkUserId])}onActionButtonViewMemberRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/member/user/edit",this.tableRowSelected.linkMemberId])}onActionButtonViewSiteRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkSiteId||this.tableRowSelected.linkSiteId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.content_does_not_include_site_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkSiteId])}onActionButtonViewDeviceRow(i=this.tableRowSelected){if(!i||!i.id||i.id.length===0){this.cmsToastrService.typeErrorSelectedRow();return}if(this.onActionTableRowSelect(i),!this.tableRowSelected.linkDeviceId||this.tableRowSelected.linkDeviceId===0){this.cmsToastrService.typeErrorSelected(this.translate.instant("MESSAGE.Content_does_not_include_device_information"));return}this.router.navigate(["/core/site/edit",this.tableRowSelected.linkDeviceId])}onActionButtonReload(){this.DataGetAll()}onSubmitOptionsSearch(i){this.filteModelContent.filters=i,this.DataGetAll()}onActionBackToParent(){this.router.navigate(["/core/site/"])}};r.\u0275fac=function(n){return new(n||r)(S(Ct),S(j),S(he),S(Te),S(F),S(O),S(P),S(ve),S(ye),S(W),S(we))},r.\u0275cmp=B({type:r,selectors:[["app-coretoken-user-list"]],features:[K],decls:78,vars:34,consts:[["tableSort","matSort"],["paginator",""],["actionMenu","matMenu"],[3,"optionActionGuideNoticeDisplayChange","optionOnActionButtonMemoRow","optionOnActionButtonMemo","optionOnActionButtonExport","optionOnActionButtonPrintRow","optionsListInfoAreaId","optionGuideNoticeKey","optionActionGuideNoticeDisplay","optionTreeDisplay","optionActionRowId","optionActionRowDisplayMenu","optionSelectRowItemTitle"],["cms-tree",""],["cms-header",""],["cms-action-header",""],["cms-action-header-start",""],["type","button","class","btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray","target","_blank",3,"click",4,"ngIf"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-info","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-rotate-right","font-18",2,"color","#ffffff"],["cms-action-header-end",""],[1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[3,"checked"],["cms-action-main",""],["cms-action-row",""],["class","col-4",4,"ngIf"],["cms-action-area",""],[3,"optionsChange","options"],["cms-body",""],["matSort","","multiTemplateDataRows","",3,"matSortChange","dataSource"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click","mouseenter","mouseleave",4,"matRowDef","matRowDefColumns"],["matColumnDef","Id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","LinkSiteId"],["matColumnDef","LinkUserId"],["matColumnDef","LinkMemberUserId"],["matColumnDef","UserAccessAreaType"],["matColumnDef","UserType"],["matColumnDef","UserAccessAdminAllowToAllData"],["matColumnDef","UserAccessAdminAllowToProfessionalData"],["matColumnDef","RememberOnDevice"],["matColumnDef","CreatedDate"],["matColumnDef","Action"],[4,"matHeaderCellDef"],["class"," Action",4,"matCellDef"],[4,"matHeaderRowDef"],[3,"ntk-row-odd","ntk-row-even","ntk-row-selected","click",4,"matRowDef","matRowDefColumns"],["matColumnDef","expandedTitle"],["cms-footer",""],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],["type","button","target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-gray",3,"click"],[1,"fa-solid","fa-arrow-left","font-18",2,"color","#ffffff"],[1,"col-4"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-magenta",3,"click"],[1,"fa-solid","fa-pen","font-18",2,"color","#FFFFFF"],[1,"font-11","text-center","opacity-70"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-red",3,"click"],[1,"fa-solid","fa-trash","font-18",2,"color","#ffffff"],["target","_blank",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-globe","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-user","font-18",2,"color","#ffffff"],[1,"fa-solid","fa-mobile","font-18",2,"color","#ffffff"],["type","button","target","_blank","data-toggle","modal","data-target","#categoryModal",1,"btn","font-13","font-600","btn-s","m-1","rounded-s","shadow-xl","border-0","gradient-highlight",3,"click"],[1,"fa-solid","fa-eye","font-18",2,"color","#ffffff"],[3,"click","mouseenter","mouseleave"],["mat-sort-header",""],[3,"ngClass"],[1,"Action"],["type","button","mat-icon-button","","aria-label","Action Menu",3,"matMenuTriggerFor"],[3,"click"]],template:function(n,e){if(n&1){let d=M();l(0,"app-cms-html-list",3),x("optionActionGuideNoticeDisplayChange",function(c){return _(d),R(e.viewGuideNotice,c)||(e.viewGuideNotice=c),C(c)}),A("optionOnActionButtonMemoRow",function(){return _(d),C(e.onActionButtonMemoRow())})("optionOnActionButtonMemo",function(){return _(d),C(e.onActionButtonMemo())})("optionOnActionButtonExport",function(){return _(d),C(e.onActionButtonExport())})("optionOnActionButtonPrintRow",function(){return _(d),C(e.onActionButtonPrintRow())}),w(1,4),m(2," -------------------------------------- "),b(),oe(3,5)(4,6),w(5,7),I(6,Ol,2,0,"a",8),l(7,"a",9),A("click",function(){return _(d),C(e.viewGuideNotice=!e.viewGuideNotice)}),T(8,"i",10),s(),l(9,"a",9),A("click",function(){return _(d),C(e.onActionButtonReload())}),T(10,"i",11),s(),b(),w(11,12),l(12,"a",13),A("click",function(){return _(d),C(e.optionsSearch.data.show=!e.optionsSearch.data.show)}),T(13,"mat-slide-toggle",14),m(14),g(15,"translate"),s(),l(16,"a",13),A("click",function(){return _(d),C(e.onActionButtonStatist())}),T(17,"mat-slide-toggle",14),m(18),g(19,"translate"),s(),b(),oe(20,15),w(21,16),I(22,Nl,7,3,"div",17)(23,Pl,7,3,"div",17)(24,Gl,7,3,"div",17)(25,Hl,7,3,"div",17)(26,Fl,7,3,"div",17)(27,jl,7,3,"div",17),b(),w(28,18),l(29,"app-cms-search-list",19),x("optionsChange",function(c){return _(d),R(e.optionsSearch,c)||(e.optionsSearch=c),C(c)}),s(),l(30,"app-cms-statist-list",19),x("optionsChange",function(c){return _(d),R(e.optionsStatist,c)||(e.optionsStatist=c),C(c)}),s(),b(),w(31,20),l(32,"mat-table",21,0),A("matSortChange",function(){_(d);let c=J(33);return C(e.onTableSortData(c))}),I(34,Wl,1,6,"mat-row",22),w(35,23),I(36,ql,2,1,"mat-header-cell",24)(37,Ql,2,1,"mat-cell",25),b(),w(38,26),I(39,zl,2,1,"mat-header-cell",24)(40,Jl,2,1,"mat-cell",25),b(),w(41,27),I(42,Kl,2,1,"mat-header-cell",24)(43,Xl,4,5,"mat-cell",25),b(),w(44,28),I(45,Yl,2,1,"mat-header-cell",24)(46,Zl,4,5,"mat-cell",25),b(),w(47,29),I(48,$l,2,1,"mat-header-cell",24)(49,ec,2,1,"mat-cell",25),b(),w(50,30),I(51,tc,2,1,"mat-header-cell",24)(52,ic,3,4,"mat-cell",25),b(),w(53,31),I(54,nc,2,1,"mat-header-cell",24)(55,oc,3,4,"mat-cell",25),b(),w(56,32),I(57,rc,2,1,"mat-header-cell",24)(58,ac,3,3,"mat-cell",25),b(),w(59,33),I(60,sc,2,1,"mat-header-cell",24)(61,lc,3,3,"mat-cell",25),b(),w(62,34),I(63,cc,2,1,"mat-header-cell",24)(64,dc,3,3,"mat-cell",25),b(),w(65,35),I(66,mc,2,1,"mat-header-cell",24)(67,pc,2,1,"mat-cell",25),b(),w(68,36),I(69,fc,3,3,"mat-header-cell",37)(70,uc,6,1,"mat-cell",38),b(),I(71,hc,1,0,"mat-header-row",39)(72,Sc,1,6,"mat-row",40),w(73,41),I(74,_c,19,28,"mat-cell",25),b(),s(),b(),w(75,42),l(76,"mat-paginator",43,1),A("page",function(c){return _(d),C(e.onTablePageingData(c))}),s(),b(),s()}n&2&&(p("optionsListInfoAreaId",e.constructorInfoAreaId)("optionGuideNoticeKey",""),y("optionActionGuideNoticeDisplay",e.viewGuideNotice),p("optionTreeDisplay",!1)("optionActionRowId",e.tableRowSelected==null?null:e.tableRowSelected.id)("optionActionRowDisplayMenu",e.tableRowSelectDoubleClick)("optionSelectRowItemTitle",e.tableRowSelected==null?null:e.tableRowSelected.id),a(6),p("ngIf",e.requestLinkSiteId>0),a(7),p("checked",e.optionsSearch.data.show),a(),h("",v(15,28,"ACTION.SEARCH")," "),a(3),p("checked",e.optionsStatist.data.show),a(),h("",v(19,30,"ACTION.STATIST")," "),a(4),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessEditRow),a(),p("ngIf",e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessDeleteRow),a(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkSiteId)>0),a(),p("ngIf",(e.tableRowSelected==null?null:e.tableRowSelected.linkUserId)>0),a(),p("ngIf",(e.tableRowSelected==null||e.tableRowSelected.deviceClientMAC==null?null:e.tableRowSelected.deviceClientMAC.length)>0),a(),p("ngIf",(e.dataModelResult==null||e.dataModelResult.access==null?null:e.dataModelResult.access.accessWatchRow)&&(e.tableRowSelected==null||e.tableRowSelected.id==null?null:e.tableRowSelected.id.length)>0),a(2),y("options",e.optionsSearch),a(),y("options",e.optionsStatist),a(2),p("dataSource",e.tableSource),a(2),p("matRowDefColumns",_e(32,Vl)),a(37),p("matHeaderRowDef",e.tabledisplayedColumns),a(),p("matRowDefColumns",e.tabledisplayedColumns),a(4),p("length",e.dataModelResult.totalRowCount)("pageIndex",e.dataModelResult.currentPageNumber-1)("pageSize",e.dataModelResult.rowPerPage)("pageSizeOptions",_e(33,Bl)))},dependencies:[ot,N,Ie,be,xe,De,Le,Ue,Ve,Be,Oe,Pe,je,Ge,Ne,We,He,Fe,qe,Qe,Ye,$e,Ke,ge,G,Je,Re,ze,rt],encapsulation:2});let t=r;return t})();var Cc=[{path:"",component:Ni,data:{title:"ROUTE.CORETOKEN"},children:[{path:"user",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkSiteId/:LinkSiteId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkUserId/:LinkUserId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"user/LinkDeviceId/:LinkDeviceId",component:fi,data:{title:"ROUTE.CORETOKEN.USER"}},{path:"userlog",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkSiteId/:LinkSiteId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkUserId/:LinkUserId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userlog/LinkDeviceId/:LinkDeviceId",component:hi,data:{title:"ROUTE.CORETOKEN.USERLOG"}},{path:"userbadlogin",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkSiteId/:LinkSiteId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkUserId/:LinkUserId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"userbadlogin/LinkDeviceId/:LinkDeviceId",component:ui,data:{title:"ROUTE.CORETOKEN.USERBADLOGIN"}},{path:"activation",component:Oi,data:{title:"ROUTE.CORETOKEN.ACTIVATION"}},{path:"microservice",component:Wi,data:{title:"ROUTE.CORETOKEN.MICROSERVICE"}},{path:"microservicelog",component:Hi,data:{title:"ROUTE.CORETOKEN.MICROSERVICELOG"}},{path:"notification",component:Xi,data:{title:"ROUTE.CORETOKEN.NOTIFICATION"}},{path:"notificationlog",component:zi,data:{title:"ROUTE.CORETOKEN.NOTIFICATIONLOG"}}]}],sn=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=_i({type:r}),r.\u0275inj=Si({imports:[bi.forChild(Cc),bi]});let t=r;return t})();var yp=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=_i({type:r}),r.\u0275inj=Si({providers:[Di,z,_t,Ct,gt,St,Tt,vt,It,wt,Li,he],imports:[sn,Ai,yi,Ri.withConfig({warnOnNgModelWithFormControl:"never"}),Ui]});let t=r;return t})();export{yp as CoreTokenModule};
