"use strict";(self.webpackChunkntk_cms_web=self.webpackChunkntk_cms_web||[]).push([[951,7421],{3438:(E,_,a)=>{a.d(_,{x:()=>r});var f=a(3308),h=a(6610),e=a(8189),i=a(7788),C=a(5154),d=a(9722);let r=(()=>{class u{constructor(t,n,c,l,p,b){this.elRef=t,this.renderer=n,this.publicHelper=c,this.cmsToastrService=l,this.cdr=p,this.document=b,this.DataEnumRecordStatus()}DataEnumRecordStatus(){var t=this;return(0,f.A)(function*(){(yield t.publicHelper.getEnumRecordStatus()).listItems.forEach(c=>{const l=document.createElement("option");l.innerHTML=" "+c.title+' <i Class="'+t.iconStatus(c.value)+'"></i>',l.value=c.value.toString(),t.elRef.nativeElement.add(l)}),t.elRef.nativeElement.options.length>0&&t.row&&t.row.recordStatus&&t.renderer.setProperty(t.elRef.nativeElement,"value",t.row.recordStatus)})()}onChange(){const t=this.elRef.nativeElement,n=t.value;this.addLoader(t),this.contentService.setAccessDataType(e.FYP.Editor),this.contentService.ServiceSetStatus(this.row.id,n).subscribe({next:c=>{c.isSuccess?(this.handleSuccessCase(t),this.cmsToastrService.typeSuccessSetStatus(c.errorMessage),this.row.recordStatus=0|n,this.cdr.markForCheck()):(this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeErrorSetStatus(c.errorMessage),this.handleErrorCase(t))},error:c=>{this.renderer.setProperty(this.elRef.nativeElement,"value",this.row.recordStatus),this.cmsToastrService.typeError(c),this.handleErrorCase(t)}})}handleSuccessCase(t){this.removeBackground(t),this.addSuccess(t),setTimeout(()=>{this.removeBackground(t)},1e3)}handleErrorCase(t){this.removeBackground(t);const n=this.document.createElement("img");n.style.width="20px",n.src="https://www.seekpng.com/png/detail/334-3345964_error-icon-download-attention-symbol.png";const c=this.renderer.parentNode(this.elRef.nativeElement);this.renderer.appendChild(c,n),setTimeout(()=>{this.renderer.removeChild(c,n)},1e3)}addLoader(t){this.addBackground(t,"https://replit.com/public/images/loading_dots.gif",20)}addSuccess(t){this.addBackground(t,"https://i.pinimg.com/originals/7b/dd/1b/7bdd1bc7db7fd48025d4e39a0e2f0fd8.jpg",20)}addBackground(t,n,c){t.style.background=`#fff url("${n}") no-repeat right 20px center`,t.style.backgroundSize=`${c}px`}removeBackground(t){t.style.background="none"}iconStatus(t){let n="";switch(t){case 1:default:n="fa fa-check";break;case 2:n="fa fa-eye-slash";break;case 3:n="fa fa-times";break;case 4:n="fa fa-hourglass-half";break;case 5:n="far fa-thumbs-down";break;case 6:n="fa fa-archive"}return n}static#t=this.\u0275fac=function(n){return new(n||u)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(C.A),i.rXU(d.k),i.rXU(i.gRc),i.rXU(h.qQ))};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","cmsRecordStatusSelfSave",""]],hostBindings:function(n,c){1&n&&i.bIt("change",function(){return c.onChange()})},inputs:{row:"row",contentService:"contentService"}})}return u})()},4209:(E,_,a)=>{a.d(_,{Z:()=>C});var f=a(9406),h=a(3527),e=a(7788),i=a(8189);let C=(()=>{class d{constructor(o){this.service=o}transform(o){return!o||o<=0?new f.c:this.service.ServiceGetOneById(o,1e6).pipe((0,h.T)(s=>{var r="";return s.isSuccess&&(s.item.title&&s.item.title.length>0&&(r=s.item.title),s.item.id&&s.item.id>0&&(r.length>0&&(r+=" | "),r+=s.item.id),s.item.domain&&s.item.domain.length>0&&s.item.subDomain&&s.item.subDomain.length>0?(r.length>0&&(r+=" | "),r=r+s.item.subDomain+"."+s.item.domain):s.item.domain&&s.item.domain.length>0&&(r.length>0&&(r+=" | "),r+=s.item.domain)),0===r.length&&(r=o.toString()),r},s=>o.toString()))}static#t=this.\u0275fac=function(s){return new(s||d)(e.rXU(i.kNx,16))};static#e=this.\u0275pipe=e.EJ8({name:"cmssiteinfo",type:d,pure:!0})}return d})()},1268:(E,_,a)=>{a.d(_,{M:()=>e});var f=a(7788),h=a(6098);let e=(()=>{class i{constructor(d){this.sanitizer=d}transform(d){return"cms-RecordStatusEnum-cell-"+d}static#t=this.\u0275fac=function(g){return new(g||i)(f.rXU(h.up,16))};static#e=this.\u0275pipe=f.EJ8({name:"statusCellClass",type:i,pure:!0})}return i})()},6381:(E,_,a)=>{a.d(_,{T:()=>e});var f=a(7788),h=a(6098);let e=(()=>{class i{constructor(d){this.sanitizer=d}transform(d,g=!1){let o="";switch(d){case 1:default:o="fa fa-check";break;case 2:o="fa fa-times";break;case 3:o="fa fa-trash";break;case 4:o="fa fa-hourglass-half";break;case 5:o="far fa-thumbs-down";break;case 6:o="fa fa-archive"}return o}static#t=this.\u0275fac=function(g){return new(g||i)(f.rXU(h.up,16))};static#e=this.\u0275pipe=f.EJ8({name:"statusIconClass",type:i,pure:!0})}return i})()},5459:(E,_,a)=>{a.d(_,{o:()=>o});var f=a(5312),h=a(6482),e=a(7788);let i=(()=>{class s{static#t=this.nextId=0;constructor(u,m){this.dialogRef=u,this.data=m,this.id=++s.nextId,m||this.dialogRef.close(!1)}ngOnInit(){}onDismiss(){this.dialogRef.close(!1)}onConfirm(){this.dialogRef.close(!0)}static#e=this.\u0275fac=function(m){return new(m||s)(e.rXU(h.CP),e.rXU(h.Vh))};static#s=this.\u0275cmp=e.VBU({type:s,selectors:[["app-confirmation-dialog"]],decls:18,vars:4,consts:[[1,"menu","menu-box-modal","rounded-m","menu-active",2,"display","block","width","350px","height","320px","padding","20px"],[1,"menu-title"],[1,"fa","fa-question-circle","scale-box","float-start","me-3","ms-3","fa-3x","mt-1","color-blue-dark"],[1,"color-highlight"],[1,"font-20"],[1,"close-menu",3,"click"],[1,"fa","fa-times-circle"],[1,"content","mt-0"],[1,"pe-3",3,"innerHTML"],[1,"row","mb-0"],[1,"col-6"],[1,"btn","close-menu","btn-full","btn-m","bg-red-dark","font-600","rounded-s",3,"click"],[1,"btn","close-menu","btn-full","btn-m","bg-green-dark","font-600","rounded-s",3,"click"]],template:function(m,t){1&m&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"i",2),e.j41(3,"p",3),e.EFF(4),e.k0s(),e.j41(5,"h1",4),e.EFF(6,"\u0645\u0637\u0645\u0626\u0646\u06cc\u062f\u061f"),e.k0s(),e.j41(7,"a",5),e.bIt("click",function(){return t.onDismiss()}),e.nrm(8,"i",6),e.k0s()(),e.j41(9,"div",7),e.nrm(10,"p",8),e.j41(11,"div",9)(12,"div",10)(13,"a",11),e.bIt("click",function(){return t.onDismiss()}),e.EFF(14),e.k0s()(),e.j41(15,"div",10)(16,"a",12),e.bIt("click",function(){return t.onConfirm()}),e.EFF(17),e.k0s()()()()()),2&m&&(e.R7$(4),e.SpI(" ",t.data.title,""),e.R7$(6),e.Y8G("innerHTML",t.data.message,e.npT),e.R7$(4),e.JRh(t.data.btnCancelText),e.R7$(3),e.JRh(t.data.btnConfirmText))},encapsulation:2})}return s})();var C=a(8339),d=a(2882);class g{constructor(r,u){this.title=r,this.message=u,this.btnConfirmText="OK",this.btnCancelText="Cancel",this.dialogSize="sm"}}let o=(()=>{class s{constructor(u,m,t){this.dialog=u,this.tokenHelper=m,this.translate=t}confirm(u,m,t="",n="",c="sm"){const l=new g(u,m);return l.btnConfirmText=t,l.btnCancelText=n,l.dialogSize=c,(!l.btnConfirmText||""==l.btnConfirmText||0==l.btnConfirmText.length)&&this.translate.get("ACTION.CONFIRM").subscribe(v=>{l.btnConfirmText=v}),(!l.btnCancelText||""==l.btnCancelText||0==l.btnCancelText.length)&&this.translate.get("ACTION.CANCEL").subscribe(v=>{l.btnCancelText=v}),this.dialog.open(i,{height:"90%",panelClass:this.tokenHelper.isMobile?"dialog-fullscreen":"dialog-min",enterAnimationDuration:f.c.cmsViewConfig.enterAnimationDuration,exitAnimationDuration:f.c.cmsViewConfig.exitAnimationDuration,data:l}).afterClosed().toPromise().then(v=>Promise.resolve(v))}static#t=this.\u0275fac=function(m){return new(m||s)(e.KVO(h.bZ),e.KVO(C._),e.KVO(d.c$))};static#e=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})()}}]);